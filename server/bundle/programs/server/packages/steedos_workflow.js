(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, Form_formula, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"checkNpm.js":function module(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  "xml2js": "^0.4.19"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"URI.js":function module(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/URI.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
!function (module1) {
  /*!
   * URI.js - Mutating URLs
   *
   * Version: 1.17.0
   *
   * Author: Rodney Rehm
   * Web: http://medialize.github.io/URI.js/
   *
   * Licensed under
   *   MIT License http://www.opensource.org/licenses/mit-license
   *   GPL v3 http://opensource.org/licenses/GPL-3.0
   *
   */
  (function (root, factory) {
    'use strict'; // https://github.com/umdjs/umd/blob/master/returnExports.js
    // if (typeof exports === 'object') {
    //   // Node
    //   module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));
    // } else

    if (typeof define === 'function' && define.amd) {
      // AMD. Register as an anonymous module.
      define(['./punycode', './IPv6', './SecondLevelDomains'], factory);
    } else {
      // Browser globals (root is window)
      root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);
    }
  })(this, function (punycode, IPv6, SLD, root) {
    'use strict';
    /*global location, escape, unescape */
    // FIXME: v2.0.0 renamce non-camelCase properties to uppercase

    /*jshint camelcase: false */
    // save current URI variable, if any

    var _URI = root && root.URI;

    function URI(url, base) {
      var _urlSupplied = arguments.length >= 1;

      var _baseSupplied = arguments.length >= 2; // Allow instantiation without the 'new' keyword


      if (!(this instanceof URI)) {
        if (_urlSupplied) {
          if (_baseSupplied) {
            return new URI(url, base);
          }

          return new URI(url);
        }

        return new URI();
      }

      if (url === undefined) {
        if (_urlSupplied) {
          throw new TypeError('undefined is not a valid argument for URI');
        }

        if (typeof location !== 'undefined') {
          url = location.href + '';
        } else {
          url = '';
        }
      }

      this.href(url); // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor

      if (base !== undefined) {
        return this.absoluteTo(base);
      }

      return this;
    }

    URI.version = '1.17.0';
    var p = URI.prototype;
    var hasOwn = Object.prototype.hasOwnProperty;

    function escapeRegEx(string) {
      // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963
      return string.replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
    }

    function getType(value) {
      // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value
      if (value === undefined) {
        return 'Undefined';
      }

      return String(Object.prototype.toString.call(value)).slice(8, -1);
    }

    function isArray(obj) {
      return getType(obj) === 'Array';
    }

    function filterArrayValues(data, value) {
      var lookup = {};
      var i, length;

      if (getType(value) === 'RegExp') {
        lookup = null;
      } else if (isArray(value)) {
        for (i = 0, length = value.length; i < length; i++) {
          lookup[value[i]] = true;
        }
      } else {
        lookup[value] = true;
      }

      for (i = 0, length = data.length; i < length; i++) {
        /*jshint laxbreak: true */
        var _match = lookup && lookup[data[i]] !== undefined || !lookup && value.test(data[i]);
        /*jshint laxbreak: false */


        if (_match) {
          data.splice(i, 1);
          length--;
          i--;
        }
      }

      return data;
    }

    function arrayContains(list, value) {
      var i, length; // value may be string, number, array, regexp

      if (isArray(value)) {
        // Note: this can be optimized to O(n) (instead of current O(m * n))
        for (i = 0, length = value.length; i < length; i++) {
          if (!arrayContains(list, value[i])) {
            return false;
          }
        }

        return true;
      }

      var _type = getType(value);

      for (i = 0, length = list.length; i < length; i++) {
        if (_type === 'RegExp') {
          if (typeof list[i] === 'string' && list[i].match(value)) {
            return true;
          }
        } else if (list[i] === value) {
          return true;
        }
      }

      return false;
    }

    function arraysEqual(one, two) {
      if (!isArray(one) || !isArray(two)) {
        return false;
      } // arrays can't be equal if they have different amount of content


      if (one.length !== two.length) {
        return false;
      }

      one.sort();
      two.sort();

      for (var i = 0, l = one.length; i < l; i++) {
        if (one[i] !== two[i]) {
          return false;
        }
      }

      return true;
    }

    function trimSlashes(text) {
      var trim_expression = /^\/+|\/+$/g;
      return text.replace(trim_expression, '');
    }

    URI._parts = function () {
      return {
        protocol: null,
        username: null,
        password: null,
        hostname: null,
        urn: null,
        port: null,
        path: null,
        query: null,
        fragment: null,
        // state
        duplicateQueryParameters: URI.duplicateQueryParameters,
        escapeQuerySpace: URI.escapeQuerySpace
      };
    }; // state: allow duplicate query parameters (a=1&a=1)


    URI.duplicateQueryParameters = false; // state: replaces + with %20 (space in query strings)

    URI.escapeQuerySpace = true; // static properties

    URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;
    URI.idn_expression = /[^a-z0-9\.-]/i;
    URI.punycode_expression = /(xn--)/i; // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?

    URI.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/; // credits to Rich Brown
    // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096
    // specification: http://www.ietf.org/rfc/rfc4291.txt

    URI.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/; // expression used is "gruber revised" (@gruber v2) determined to be the
    // best solution in a regex-golf we did a couple of ages ago at
    // * http://mathiasbynens.be/demo/url-regex
    // * http://rodneyrehm.de/t/url-regex.html

    URI.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig;
    URI.findUri = {
      // valid "scheme://" or "www."
      start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
      // everything up to the next whitespace
      end: /[\s\r\n]|$/,
      // trim trailing punctuation captured by end RegExp
      trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/
    }; // http://www.iana.org/assignments/uri-schemes.html
    // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports

    URI.defaultPorts = {
      http: '80',
      https: '443',
      ftp: '21',
      gopher: '70',
      ws: '80',
      wss: '443'
    }; // allowed hostname characters according to RFC 3986
    // ALPHA DIGIT "-" "." "_" "~" "!" "$" "&" "'" "(" ")" "*" "+" "," ";" "=" %encoded
    // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . -

    URI.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/; // map DOM Elements to their URI attribute

    URI.domAttributes = {
      'a': 'href',
      'blockquote': 'cite',
      'link': 'href',
      'base': 'href',
      'script': 'src',
      'form': 'action',
      'img': 'src',
      'area': 'href',
      'iframe': 'src',
      'embed': 'src',
      'source': 'src',
      'track': 'src',
      'input': 'src',
      // but only if type="image"
      'audio': 'src',
      'video': 'src'
    };

    URI.getDomAttribute = function (node) {
      if (!node || !node.nodeName) {
        return undefined;
      }

      var nodeName = node.nodeName.toLowerCase(); // <input> should only expose src for type="image"

      if (nodeName === 'input' && node.type !== 'image') {
        return undefined;
      }

      return URI.domAttributes[nodeName];
    };

    function escapeForDumbFirefox36(value) {
      // https://github.com/medialize/URI.js/issues/91
      return escape(value);
    } // encoding / decoding according to RFC3986


    function strictEncodeURIComponent(string) {
      // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent
      return encodeURIComponent(string).replace(/[!'()*]/g, escapeForDumbFirefox36).replace(/\*/g, '%2A');
    }

    URI.encode = strictEncodeURIComponent;
    URI.decode = decodeURIComponent;

    URI.iso8859 = function () {
      URI.encode = escape;
      URI.decode = unescape;
    };

    URI.unicode = function () {
      URI.encode = strictEncodeURIComponent;
      URI.decode = decodeURIComponent;
    };

    URI.characters = {
      pathname: {
        encode: {
          // RFC3986 2.1: For consistency, URI producers and normalizers should
          // use uppercase hexadecimal digits for all percent-encodings.
          expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,
          map: {
            // -._~!'()*
            '%24': '$',
            '%26': '&',
            '%2B': '+',
            '%2C': ',',
            '%3B': ';',
            '%3D': '=',
            '%3A': ':',
            '%40': '@'
          }
        },
        decode: {
          expression: /[\/\?#]/g,
          map: {
            '/': '%2F',
            '?': '%3F',
            '#': '%23'
          }
        }
      },
      reserved: {
        encode: {
          // RFC3986 2.1: For consistency, URI producers and normalizers should
          // use uppercase hexadecimal digits for all percent-encodings.
          expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,
          map: {
            // gen-delims
            '%3A': ':',
            '%2F': '/',
            '%3F': '?',
            '%23': '#',
            '%5B': '[',
            '%5D': ']',
            '%40': '@',
            // sub-delims
            '%21': '!',
            '%24': '$',
            '%26': '&',
            '%27': '\'',
            '%28': '(',
            '%29': ')',
            '%2A': '*',
            '%2B': '+',
            '%2C': ',',
            '%3B': ';',
            '%3D': '='
          }
        }
      },
      urnpath: {
        // The characters under `encode` are the characters called out by RFC 2141 as being acceptable
        // for usage in a URN. RFC2141 also calls out "-", ".", and "_" as acceptable characters, but
        // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also
        // note that the colon character is not featured in the encoding map; this is because URI.js
        // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it
        // should not appear unencoded in a segment itself.
        // See also the note above about RFC3986 and capitalalized hex digits.
        encode: {
          expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,
          map: {
            '%21': '!',
            '%24': '$',
            '%27': '\'',
            '%28': '(',
            '%29': ')',
            '%2A': '*',
            '%2B': '+',
            '%2C': ',',
            '%3B': ';',
            '%3D': '=',
            '%40': '@'
          }
        },
        // These characters are the characters called out by RFC2141 as "reserved" characters that
        // should never appear in a URN, plus the colon character (see note above).
        decode: {
          expression: /[\/\?#:]/g,
          map: {
            '/': '%2F',
            '?': '%3F',
            '#': '%23',
            ':': '%3A'
          }
        }
      }
    };

    URI.encodeQuery = function (string, escapeQuerySpace) {
      var escaped = URI.encode(string + '');

      if (escapeQuerySpace === undefined) {
        escapeQuerySpace = URI.escapeQuerySpace;
      }

      return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;
    };

    URI.decodeQuery = function (string, escapeQuerySpace) {
      string += '';

      if (escapeQuerySpace === undefined) {
        escapeQuerySpace = URI.escapeQuerySpace;
      }

      try {
        return URI.decode(escapeQuerySpace ? string.replace(/\+/g, '%20') : string);
      } catch (e) {
        // we're not going to mess with weird encodings,
        // give up and return the undecoded original string
        // see https://github.com/medialize/URI.js/issues/87
        // see https://github.com/medialize/URI.js/issues/92
        return string;
      }
    }; // generate encode/decode path functions


    var _parts = {
      'encode': 'encode',
      'decode': 'decode'
    };

    var _part;

    var generateAccessor = function (_group, _part) {
      return function (string) {
        try {
          return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function (c) {
            return URI.characters[_group][_part].map[c];
          });
        } catch (e) {
          // we're not going to mess with weird encodings,
          // give up and return the undecoded original string
          // see https://github.com/medialize/URI.js/issues/87
          // see https://github.com/medialize/URI.js/issues/92
          return string;
        }
      };
    };

    for (_part in _parts) {
      URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);
      URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);
    }

    var generateSegmentedPathFunction = function (_sep, _codingFuncName, _innerCodingFuncName) {
      return function (string) {
        // Why pass in names of functions, rather than the function objects themselves? The
        // definitions of some functions (but in particular, URI.decode) will occasionally change due
        // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure
        // that the functions we use here are "fresh".
        var actualCodingFunc;

        if (!_innerCodingFuncName) {
          actualCodingFunc = URI[_codingFuncName];
        } else {
          actualCodingFunc = function (string) {
            return URI[_codingFuncName](URI[_innerCodingFuncName](string));
          };
        }

        var segments = (string + '').split(_sep);

        for (var i = 0, length = segments.length; i < length; i++) {
          segments[i] = actualCodingFunc(segments[i]);
        }

        return segments.join(_sep);
      };
    }; // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.


    URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');
    URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');
    URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');
    URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');
    URI.encodeReserved = generateAccessor('reserved', 'encode');

    URI.parse = function (string, parts) {
      var pos;

      if (!parts) {
        parts = {};
      } // [protocol"://"[username[":"password]"@"]hostname[":"port]"/"?][path]["?"querystring]["#"fragment]
      // extract fragment


      pos = string.indexOf('#');

      if (pos > -1) {
        // escaping?
        parts.fragment = string.substring(pos + 1) || null;
        string = string.substring(0, pos);
      } // extract query


      pos = string.indexOf('?');

      if (pos > -1) {
        // escaping?
        parts.query = string.substring(pos + 1) || null;
        string = string.substring(0, pos);
      } // extract protocol


      if (string.substring(0, 2) === '//') {
        // relative-scheme
        parts.protocol = null;
        string = string.substring(2); // extract "user:pass@host:port"

        string = URI.parseAuthority(string, parts);
      } else {
        pos = string.indexOf(':');

        if (pos > -1) {
          parts.protocol = string.substring(0, pos) || null;

          if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {
            // : may be within the path
            parts.protocol = undefined;
          } else if (string.substring(pos + 1, pos + 3) === '//') {
            string = string.substring(pos + 3); // extract "user:pass@host:port"

            string = URI.parseAuthority(string, parts);
          } else {
            string = string.substring(pos + 1);
            parts.urn = true;
          }
        }
      } // what's left must be the path


      parts.path = string; // and we're done

      return parts;
    };

    URI.parseHost = function (string, parts) {
      // Copy chrome, IE, opera backslash-handling behavior.
      // Back slashes before the query string get converted to forward slashes
      // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124
      // See: https://code.google.com/p/chromium/issues/detail?id=25916
      // https://github.com/medialize/URI.js/pull/233
      string = string.replace(/\\/g, '/'); // extract host:port

      var pos = string.indexOf('/');
      var bracketPos;
      var t;

      if (pos === -1) {
        pos = string.length;
      }

      if (string.charAt(0) === '[') {
        // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6
        // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts
        // IPv6+port in the format [2001:db8::1]:80 (for the time being)
        bracketPos = string.indexOf(']');
        parts.hostname = string.substring(1, bracketPos) || null;
        parts.port = string.substring(bracketPos + 2, pos) || null;

        if (parts.port === '/') {
          parts.port = null;
        }
      } else {
        var firstColon = string.indexOf(':');
        var firstSlash = string.indexOf('/');
        var nextColon = string.indexOf(':', firstColon + 1);

        if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {
          // IPv6 host contains multiple colons - but no port
          // this notation is actually not allowed by RFC 3986, but we're a liberal parser
          parts.hostname = string.substring(0, pos) || null;
          parts.port = null;
        } else {
          t = string.substring(0, pos).split(':');
          parts.hostname = t[0] || null;
          parts.port = t[1] || null;
        }
      }

      if (parts.hostname && string.substring(pos).charAt(0) !== '/') {
        pos++;
        string = '/' + string;
      }

      return string.substring(pos) || '/';
    };

    URI.parseAuthority = function (string, parts) {
      string = URI.parseUserinfo(string, parts);
      return URI.parseHost(string, parts);
    };

    URI.parseUserinfo = function (string, parts) {
      // extract username:password
      var firstSlash = string.indexOf('/');
      var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);
      var t; // authority@ must come before /path

      if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {
        t = string.substring(0, pos).split(':');
        parts.username = t[0] ? URI.decode(t[0]) : null;
        t.shift();
        parts.password = t[0] ? URI.decode(t.join(':')) : null;
        string = string.substring(pos + 1);
      } else {
        parts.username = null;
        parts.password = null;
      }

      return string;
    };

    URI.parseQuery = function (string, escapeQuerySpace) {
      if (!string) {
        return {};
      } // throw out the funky business - "?"[name"="value"&"]+


      string = string.replace(/&+/g, '&').replace(/^\?*&*|&+$/g, '');

      if (!string) {
        return {};
      }

      var items = {};
      var splits = string.split('&');
      var length = splits.length;
      var v, name, value;

      for (var i = 0; i < length; i++) {
        v = splits[i].split('=');
        name = URI.decodeQuery(v.shift(), escapeQuerySpace); // no "=" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters

        value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;

        if (hasOwn.call(items, name)) {
          if (typeof items[name] === 'string' || items[name] === null) {
            items[name] = [items[name]];
          }

          items[name].push(value);
        } else {
          items[name] = value;
        }
      }

      return items;
    };

    URI.build = function (parts) {
      var t = '';

      if (parts.protocol) {
        t += parts.protocol + ':';
      }

      if (!parts.urn && (t || parts.hostname)) {
        t += '//';
      }

      t += URI.buildAuthority(parts) || '';

      if (typeof parts.path === 'string') {
        if (parts.path.charAt(0) !== '/' && typeof parts.hostname === 'string') {
          t += '/';
        }

        t += parts.path;
      }

      if (typeof parts.query === 'string' && parts.query) {
        t += '?' + parts.query;
      }

      if (typeof parts.fragment === 'string' && parts.fragment) {
        t += '#' + parts.fragment;
      }

      return t;
    };

    URI.buildHost = function (parts) {
      var t = '';

      if (!parts.hostname) {
        return '';
      } else if (URI.ip6_expression.test(parts.hostname)) {
        t += '[' + parts.hostname + ']';
      } else {
        t += parts.hostname;
      }

      if (parts.port) {
        t += ':' + parts.port;
      }

      return t;
    };

    URI.buildAuthority = function (parts) {
      return URI.buildUserinfo(parts) + URI.buildHost(parts);
    };

    URI.buildUserinfo = function (parts) {
      var t = '';

      if (parts.username) {
        t += URI.encode(parts.username);

        if (parts.password) {
          t += ':' + URI.encode(parts.password);
        }

        t += '@';
      }

      return t;
    };

    URI.buildQuery = function (data, duplicateQueryParameters, escapeQuerySpace) {
      // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html
      // being »-._~!$&'()*+,;=:@/?« %HEX and alnum are allowed
      // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!
      // URI.js treats the query string as being application/x-www-form-urlencoded
      // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type
      var t = '';
      var unique, key, i, length;

      for (key in data) {
        if (hasOwn.call(data, key) && key) {
          if (isArray(data[key])) {
            unique = {};

            for (i = 0, length = data[key].length; i < length; i++) {
              if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {
                t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);

                if (duplicateQueryParameters !== true) {
                  unique[data[key][i] + ''] = true;
                }
              }
            }
          } else if (data[key] !== undefined) {
            t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);
          }
        }
      }

      return t.substring(1);
    };

    URI.buildQueryParameter = function (name, value, escapeQuerySpace) {
      // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded
      // don't append "=" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization
      return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');
    };

    URI.addQuery = function (data, name, value) {
      if (typeof name === 'object') {
        for (var key in name) {
          if (hasOwn.call(name, key)) {
            URI.addQuery(data, key, name[key]);
          }
        }
      } else if (typeof name === 'string') {
        if (data[name] === undefined) {
          data[name] = value;
          return;
        } else if (typeof data[name] === 'string') {
          data[name] = [data[name]];
        }

        if (!isArray(value)) {
          value = [value];
        }

        data[name] = (data[name] || []).concat(value);
      } else {
        throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
      }
    };

    URI.removeQuery = function (data, name, value) {
      var i, length, key;

      if (isArray(name)) {
        for (i = 0, length = name.length; i < length; i++) {
          data[name[i]] = undefined;
        }
      } else if (getType(name) === 'RegExp') {
        for (key in data) {
          if (name.test(key)) {
            data[key] = undefined;
          }
        }
      } else if (typeof name === 'object') {
        for (key in name) {
          if (hasOwn.call(name, key)) {
            URI.removeQuery(data, key, name[key]);
          }
        }
      } else if (typeof name === 'string') {
        if (value !== undefined) {
          if (getType(value) === 'RegExp') {
            if (!isArray(data[name]) && value.test(data[name])) {
              data[name] = undefined;
            } else {
              data[name] = filterArrayValues(data[name], value);
            }
          } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {
            data[name] = undefined;
          } else if (isArray(data[name])) {
            data[name] = filterArrayValues(data[name], value);
          }
        } else {
          data[name] = undefined;
        }
      } else {
        throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');
      }
    };

    URI.hasQuery = function (data, name, value, withinArray) {
      if (typeof name === 'object') {
        for (var key in name) {
          if (hasOwn.call(name, key)) {
            if (!URI.hasQuery(data, key, name[key])) {
              return false;
            }
          }
        }

        return true;
      } else if (typeof name !== 'string') {
        throw new TypeError('URI.hasQuery() accepts an object, string as the name parameter');
      }

      switch (getType(value)) {
        case 'Undefined':
          // true if exists (but may be empty)
          return name in data;
        // data[name] !== undefined;

        case 'Boolean':
          // true if exists and non-empty
          var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);

          return value === _booly;

        case 'Function':
          // allow complex comparison
          return !!value(data[name], name, data);

        case 'Array':
          if (!isArray(data[name])) {
            return false;
          }

          var op = withinArray ? arrayContains : arraysEqual;
          return op(data[name], value);

        case 'RegExp':
          if (!isArray(data[name])) {
            return Boolean(data[name] && data[name].match(value));
          }

          if (!withinArray) {
            return false;
          }

          return arrayContains(data[name], value);

        case 'Number':
          value = String(value);

        /* falls through */

        case 'String':
          if (!isArray(data[name])) {
            return data[name] === value;
          }

          if (!withinArray) {
            return false;
          }

          return arrayContains(data[name], value);

        default:
          throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');
      }
    };

    URI.commonPath = function (one, two) {
      var length = Math.min(one.length, two.length);
      var pos; // find first non-matching character

      for (pos = 0; pos < length; pos++) {
        if (one.charAt(pos) !== two.charAt(pos)) {
          pos--;
          break;
        }
      }

      if (pos < 1) {
        return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';
      } // revert to last /


      if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {
        pos = one.substring(0, pos).lastIndexOf('/');
      }

      return one.substring(0, pos + 1);
    };

    URI.withinString = function (string, callback, options) {
      options || (options = {});

      var _start = options.start || URI.findUri.start;

      var _end = options.end || URI.findUri.end;

      var _trim = options.trim || URI.findUri.trim;

      var _attributeOpen = /[a-z0-9-]=["']?$/i;
      _start.lastIndex = 0;

      while (true) {
        var match = _start.exec(string);

        if (!match) {
          break;
        }

        var start = match.index;

        if (options.ignoreHtml) {
          // attribut(e=["']?$)
          var attributeOpen = string.slice(Math.max(start - 3, 0), start);

          if (attributeOpen && _attributeOpen.test(attributeOpen)) {
            continue;
          }
        }

        var end = start + string.slice(start).search(_end);
        var slice = string.slice(start, end).replace(_trim, '');

        if (options.ignore && options.ignore.test(slice)) {
          continue;
        }

        end = start + slice.length;
        var result = callback(slice, start, end, string);
        string = string.slice(0, start) + result + string.slice(end);
        _start.lastIndex = start + result.length;
      }

      _start.lastIndex = 0;
      return string;
    };

    URI.ensureValidHostname = function (v) {
      // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)
      // they are not part of DNS and therefore ignored by URI.js
      if (v.match(URI.invalid_hostname_characters)) {
        // test punycode
        if (!punycode) {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available');
        }

        if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }
      }
    }; // noConflict


    URI.noConflict = function (removeAll) {
      if (removeAll) {
        var unconflicted = {
          URI: this.noConflict()
        };

        if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {
          unconflicted.URITemplate = root.URITemplate.noConflict();
        }

        if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {
          unconflicted.IPv6 = root.IPv6.noConflict();
        }

        if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {
          unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();
        }

        return unconflicted;
      } else if (root.URI === this) {
        root.URI = _URI;
      }

      return this;
    };

    p.build = function (deferBuild) {
      if (deferBuild === true) {
        this._deferred_build = true;
      } else if (deferBuild === undefined || this._deferred_build) {
        this._string = URI.build(this._parts);
        this._deferred_build = false;
      }

      return this;
    };

    p.clone = function () {
      return new URI(this);
    };

    p.valueOf = p.toString = function () {
      return this.build(false)._string;
    };

    function generateSimpleAccessor(_part) {
      return function (v, build) {
        if (v === undefined) {
          return this._parts[_part] || '';
        } else {
          this._parts[_part] = v || null;
          this.build(!build);
          return this;
        }
      };
    }

    function generatePrefixAccessor(_part, _key) {
      return function (v, build) {
        if (v === undefined) {
          return this._parts[_part] || '';
        } else {
          if (v !== null) {
            v = v + '';

            if (v.charAt(0) === _key) {
              v = v.substring(1);
            }
          }

          this._parts[_part] = v;
          this.build(!build);
          return this;
        }
      };
    }

    p.protocol = generateSimpleAccessor('protocol');
    p.username = generateSimpleAccessor('username');
    p.password = generateSimpleAccessor('password');
    p.hostname = generateSimpleAccessor('hostname');
    p.port = generateSimpleAccessor('port');
    p.query = generatePrefixAccessor('query', '?');
    p.fragment = generatePrefixAccessor('fragment', '#');

    p.search = function (v, build) {
      var t = this.query(v, build);
      return typeof t === 'string' && t.length ? '?' + t : t;
    };

    p.hash = function (v, build) {
      var t = this.fragment(v, build);
      return typeof t === 'string' && t.length ? '#' + t : t;
    };

    p.pathname = function (v, build) {
      if (v === undefined || v === true) {
        var res = this._parts.path || (this._parts.hostname ? '/' : '');
        return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;
      } else {
        if (this._parts.urn) {
          this._parts.path = v ? URI.recodeUrnPath(v) : '';
        } else {
          this._parts.path = v ? URI.recodePath(v) : '/';
        }

        this.build(!build);
        return this;
      }
    };

    p.path = p.pathname;

    p.href = function (href, build) {
      var key;

      if (href === undefined) {
        return this.toString();
      }

      this._string = '';
      this._parts = URI._parts();

      var _URI = href instanceof URI;

      var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);

      if (href.nodeName) {
        var attribute = URI.getDomAttribute(href);
        href = href[attribute] || '';
        _object = false;
      } // window.location is reported to be an object, but it's not the sort
      // of object we're looking for:
      // * location.protocol ends with a colon
      // * location.query != object.search
      // * location.hash != object.fragment
      // simply serializing the unknown object should do the trick
      // (for location, not for everything...)


      if (!_URI && _object && href.pathname !== undefined) {
        href = href.toString();
      }

      if (typeof href === 'string' || href instanceof String) {
        this._parts = URI.parse(String(href), this._parts);
      } else if (_URI || _object) {
        var src = _URI ? href._parts : href;

        for (key in src) {
          if (hasOwn.call(this._parts, key)) {
            this._parts[key] = src[key];
          }
        }
      } else {
        throw new TypeError('invalid input');
      }

      this.build(!build);
      return this;
    }; // identification accessors


    p.is = function (what) {
      var ip = false;
      var ip4 = false;
      var ip6 = false;
      var name = false;
      var sld = false;
      var idn = false;
      var punycode = false;
      var relative = !this._parts.urn;

      if (this._parts.hostname) {
        relative = false;
        ip4 = URI.ip4_expression.test(this._parts.hostname);
        ip6 = URI.ip6_expression.test(this._parts.hostname);
        ip = ip4 || ip6;
        name = !ip;
        sld = name && SLD && SLD.has(this._parts.hostname);
        idn = name && URI.idn_expression.test(this._parts.hostname);
        punycode = name && URI.punycode_expression.test(this._parts.hostname);
      }

      switch (what.toLowerCase()) {
        case 'relative':
          return relative;

        case 'absolute':
          return !relative;
        // hostname identification

        case 'domain':
        case 'name':
          return name;

        case 'sld':
          return sld;

        case 'ip':
          return ip;

        case 'ip4':
        case 'ipv4':
        case 'inet4':
          return ip4;

        case 'ip6':
        case 'ipv6':
        case 'inet6':
          return ip6;

        case 'idn':
          return idn;

        case 'url':
          return !this._parts.urn;

        case 'urn':
          return !!this._parts.urn;

        case 'punycode':
          return punycode;
      }

      return null;
    }; // component specific input validation


    var _protocol = p.protocol;
    var _port = p.port;
    var _hostname = p.hostname;

    p.protocol = function (v, build) {
      if (v !== undefined) {
        if (v) {
          // accept trailing ://
          v = v.replace(/:(\/\/)?$/, '');

          if (!v.match(URI.protocol_expression)) {
            throw new TypeError('Protocol "' + v + '" contains characters other than [A-Z0-9.+-] or doesn\'t start with [A-Z]');
          }
        }
      }

      return _protocol.call(this, v, build);
    };

    p.scheme = p.protocol;

    p.port = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v !== undefined) {
        if (v === 0) {
          v = null;
        }

        if (v) {
          v += '';

          if (v.charAt(0) === ':') {
            v = v.substring(1);
          }

          if (v.match(/[^0-9]/)) {
            throw new TypeError('Port "' + v + '" contains characters other than [0-9]');
          }
        }
      }

      return _port.call(this, v, build);
    };

    p.hostname = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v !== undefined) {
        var x = {};
        var res = URI.parseHost(v, x);

        if (res !== '/') {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }

        v = x.hostname;
      }

      return _hostname.call(this, v, build);
    }; // compound accessors


    p.origin = function (v, build) {
      var parts;

      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        var protocol = this.protocol();
        var authority = this.authority();
        if (!authority) return '';
        return (protocol ? protocol + '://' : '') + this.authority();
      } else {
        var origin = URI(v);
        this.protocol(origin.protocol()).authority(origin.authority()).build(!build);
        return this;
      }
    };

    p.host = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        return this._parts.hostname ? URI.buildHost(this._parts) : '';
      } else {
        var res = URI.parseHost(v, this._parts);

        if (res !== '/') {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }

        this.build(!build);
        return this;
      }
    };

    p.authority = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        return this._parts.hostname ? URI.buildAuthority(this._parts) : '';
      } else {
        var res = URI.parseAuthority(v, this._parts);

        if (res !== '/') {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }

        this.build(!build);
        return this;
      }
    };

    p.userinfo = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        if (!this._parts.username) {
          return '';
        }

        var t = URI.buildUserinfo(this._parts);
        return t.substring(0, t.length - 1);
      } else {
        if (v[v.length - 1] !== '@') {
          v += '@';
        }

        URI.parseUserinfo(v, this._parts);
        this.build(!build);
        return this;
      }
    };

    p.resource = function (v, build) {
      var parts;

      if (v === undefined) {
        return this.path() + this.search() + this.hash();
      }

      parts = URI.parse(v);
      this._parts.path = parts.path;
      this._parts.query = parts.query;
      this._parts.fragment = parts.fragment;
      this.build(!build);
      return this;
    }; // fraction accessors


    p.subdomain = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      } // convenience, return "www" from "www.example.org"


      if (v === undefined) {
        if (!this._parts.hostname || this.is('IP')) {
          return '';
        } // grab domain and add another segment


        var end = this._parts.hostname.length - this.domain().length - 1;
        return this._parts.hostname.substring(0, end) || '';
      } else {
        var e = this._parts.hostname.length - this.domain().length;

        var sub = this._parts.hostname.substring(0, e);

        var replace = new RegExp('^' + escapeRegEx(sub));

        if (v && v.charAt(v.length - 1) !== '.') {
          v += '.';
        }

        if (v) {
          URI.ensureValidHostname(v);
        }

        this._parts.hostname = this._parts.hostname.replace(replace, v);
        this.build(!build);
        return this;
      }
    };

    p.domain = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (typeof v === 'boolean') {
        build = v;
        v = undefined;
      } // convenience, return "example.org" from "www.example.org"


      if (v === undefined) {
        if (!this._parts.hostname || this.is('IP')) {
          return '';
        } // if hostname consists of 1 or 2 segments, it must be the domain


        var t = this._parts.hostname.match(/\./g);

        if (t && t.length < 2) {
          return this._parts.hostname;
        } // grab tld and add another segment


        var end = this._parts.hostname.length - this.tld(build).length - 1;
        end = this._parts.hostname.lastIndexOf('.', end - 1) + 1;
        return this._parts.hostname.substring(end) || '';
      } else {
        if (!v) {
          throw new TypeError('cannot set domain empty');
        }

        URI.ensureValidHostname(v);

        if (!this._parts.hostname || this.is('IP')) {
          this._parts.hostname = v;
        } else {
          var replace = new RegExp(escapeRegEx(this.domain()) + '$');
          this._parts.hostname = this._parts.hostname.replace(replace, v);
        }

        this.build(!build);
        return this;
      }
    };

    p.tld = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (typeof v === 'boolean') {
        build = v;
        v = undefined;
      } // return "org" from "www.example.org"


      if (v === undefined) {
        if (!this._parts.hostname || this.is('IP')) {
          return '';
        }

        var pos = this._parts.hostname.lastIndexOf('.');

        var tld = this._parts.hostname.substring(pos + 1);

        if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {
          return SLD.get(this._parts.hostname) || tld;
        }

        return tld;
      } else {
        var replace;

        if (!v) {
          throw new TypeError('cannot set TLD empty');
        } else if (v.match(/[^a-zA-Z0-9-]/)) {
          if (SLD && SLD.is(v)) {
            replace = new RegExp(escapeRegEx(this.tld()) + '$');
            this._parts.hostname = this._parts.hostname.replace(replace, v);
          } else {
            throw new TypeError('TLD "' + v + '" contains characters other than [A-Z0-9]');
          }
        } else if (!this._parts.hostname || this.is('IP')) {
          throw new ReferenceError('cannot set TLD on non-domain host');
        } else {
          replace = new RegExp(escapeRegEx(this.tld()) + '$');
          this._parts.hostname = this._parts.hostname.replace(replace, v);
        }

        this.build(!build);
        return this;
      }
    };

    p.directory = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined || v === true) {
        if (!this._parts.path && !this._parts.hostname) {
          return '';
        }

        if (this._parts.path === '/') {
          return '/';
        }

        var end = this._parts.path.length - this.filename().length - 1;
        var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');
        return v ? URI.decodePath(res) : res;
      } else {
        var e = this._parts.path.length - this.filename().length;

        var directory = this._parts.path.substring(0, e);

        var replace = new RegExp('^' + escapeRegEx(directory)); // fully qualifier directories begin with a slash

        if (!this.is('relative')) {
          if (!v) {
            v = '/';
          }

          if (v.charAt(0) !== '/') {
            v = '/' + v;
          }
        } // directories always end with a slash


        if (v && v.charAt(v.length - 1) !== '/') {
          v += '/';
        }

        v = URI.recodePath(v);
        this._parts.path = this._parts.path.replace(replace, v);
        this.build(!build);
        return this;
      }
    };

    p.filename = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined || v === true) {
        if (!this._parts.path || this._parts.path === '/') {
          return '';
        }

        var pos = this._parts.path.lastIndexOf('/');

        var res = this._parts.path.substring(pos + 1);

        return v ? URI.decodePathSegment(res) : res;
      } else {
        var mutatedDirectory = false;

        if (v.charAt(0) === '/') {
          v = v.substring(1);
        }

        if (v.match(/\.?\//)) {
          mutatedDirectory = true;
        }

        var replace = new RegExp(escapeRegEx(this.filename()) + '$');
        v = URI.recodePath(v);
        this._parts.path = this._parts.path.replace(replace, v);

        if (mutatedDirectory) {
          this.normalizePath(build);
        } else {
          this.build(!build);
        }

        return this;
      }
    };

    p.suffix = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined || v === true) {
        if (!this._parts.path || this._parts.path === '/') {
          return '';
        }

        var filename = this.filename();
        var pos = filename.lastIndexOf('.');
        var s, res;

        if (pos === -1) {
          return '';
        } // suffix may only contain alnum characters (yup, I made this up.)


        s = filename.substring(pos + 1);
        res = /^[a-z0-9%]+$/i.test(s) ? s : '';
        return v ? URI.decodePathSegment(res) : res;
      } else {
        if (v.charAt(0) === '.') {
          v = v.substring(1);
        }

        var suffix = this.suffix();
        var replace;

        if (!suffix) {
          if (!v) {
            return this;
          }

          this._parts.path += '.' + URI.recodePath(v);
        } else if (!v) {
          replace = new RegExp(escapeRegEx('.' + suffix) + '$');
        } else {
          replace = new RegExp(escapeRegEx(suffix) + '$');
        }

        if (replace) {
          v = URI.recodePath(v);
          this._parts.path = this._parts.path.replace(replace, v);
        }

        this.build(!build);
        return this;
      }
    };

    p.segment = function (segment, v, build) {
      var separator = this._parts.urn ? ':' : '/';
      var path = this.path();
      var absolute = path.substring(0, 1) === '/';
      var segments = path.split(separator);

      if (segment !== undefined && typeof segment !== 'number') {
        build = v;
        v = segment;
        segment = undefined;
      }

      if (segment !== undefined && typeof segment !== 'number') {
        throw new Error('Bad segment "' + segment + '", must be 0-based integer');
      }

      if (absolute) {
        segments.shift();
      }

      if (segment < 0) {
        // allow negative indexes to address from the end
        segment = Math.max(segments.length + segment, 0);
      }

      if (v === undefined) {
        /*jshint laxbreak: true */
        return segment === undefined ? segments : segments[segment];
        /*jshint laxbreak: false */
      } else if (segment === null || segments[segment] === undefined) {
        if (isArray(v)) {
          segments = []; // collapse empty elements within array

          for (var i = 0, l = v.length; i < l; i++) {
            if (!v[i].length && (!segments.length || !segments[segments.length - 1].length)) {
              continue;
            }

            if (segments.length && !segments[segments.length - 1].length) {
              segments.pop();
            }

            segments.push(trimSlashes(v[i]));
          }
        } else if (v || typeof v === 'string') {
          v = trimSlashes(v);

          if (segments[segments.length - 1] === '') {
            // empty trailing elements have to be overwritten
            // to prevent results such as /foo//bar
            segments[segments.length - 1] = v;
          } else {
            segments.push(v);
          }
        }
      } else {
        if (v) {
          segments[segment] = trimSlashes(v);
        } else {
          segments.splice(segment, 1);
        }
      }

      if (absolute) {
        segments.unshift('');
      }

      return this.path(segments.join(separator), build);
    };

    p.segmentCoded = function (segment, v, build) {
      var segments, i, l;

      if (typeof segment !== 'number') {
        build = v;
        v = segment;
        segment = undefined;
      }

      if (v === undefined) {
        segments = this.segment(segment, v, build);

        if (!isArray(segments)) {
          segments = segments !== undefined ? URI.decode(segments) : undefined;
        } else {
          for (i = 0, l = segments.length; i < l; i++) {
            segments[i] = URI.decode(segments[i]);
          }
        }

        return segments;
      }

      if (!isArray(v)) {
        v = typeof v === 'string' || v instanceof String ? URI.encode(v) : v;
      } else {
        for (i = 0, l = v.length; i < l; i++) {
          v[i] = URI.encode(v[i]);
        }
      }

      return this.segment(segment, v, build);
    }; // mutating query string


    var q = p.query;

    p.query = function (v, build) {
      if (v === true) {
        return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      } else if (typeof v === 'function') {
        var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
        var result = v.call(this, data);
        this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
        this.build(!build);
        return this;
      } else if (v !== undefined && typeof v !== 'string') {
        this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
        this.build(!build);
        return this;
      } else {
        return q.call(this, v, build);
      }
    };

    p.setQuery = function (name, value, build) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);

      if (typeof name === 'string' || name instanceof String) {
        data[name] = value !== undefined ? value : null;
      } else if (typeof name === 'object') {
        for (var key in name) {
          if (hasOwn.call(name, key)) {
            data[key] = name[key];
          }
        }
      } else {
        throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
      }

      this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

      if (typeof name !== 'string') {
        build = value;
      }

      this.build(!build);
      return this;
    };

    p.addQuery = function (name, value, build) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      URI.addQuery(data, name, value === undefined ? null : value);
      this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

      if (typeof name !== 'string') {
        build = value;
      }

      this.build(!build);
      return this;
    };

    p.removeQuery = function (name, value, build) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      URI.removeQuery(data, name, value);
      this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

      if (typeof name !== 'string') {
        build = value;
      }

      this.build(!build);
      return this;
    };

    p.hasQuery = function (name, value, withinArray) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      return URI.hasQuery(data, name, value, withinArray);
    };

    p.setSearch = p.setQuery;
    p.addSearch = p.addQuery;
    p.removeSearch = p.removeQuery;
    p.hasSearch = p.hasQuery; // sanitizing URLs

    p.normalize = function () {
      if (this._parts.urn) {
        return this.normalizeProtocol(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
      }

      return this.normalizeProtocol(false).normalizeHostname(false).normalizePort(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
    };

    p.normalizeProtocol = function (build) {
      if (typeof this._parts.protocol === 'string') {
        this._parts.protocol = this._parts.protocol.toLowerCase();
        this.build(!build);
      }

      return this;
    };

    p.normalizeHostname = function (build) {
      if (this._parts.hostname) {
        if (this.is('IDN') && punycode) {
          this._parts.hostname = punycode.toASCII(this._parts.hostname);
        } else if (this.is('IPv6') && IPv6) {
          this._parts.hostname = IPv6.best(this._parts.hostname);
        }

        this._parts.hostname = this._parts.hostname.toLowerCase();
        this.build(!build);
      }

      return this;
    };

    p.normalizePort = function (build) {
      // remove port of it's the protocol's default
      if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {
        this._parts.port = null;
        this.build(!build);
      }

      return this;
    };

    p.normalizePath = function (build) {
      var _path = this._parts.path;

      if (!_path) {
        return this;
      }

      if (this._parts.urn) {
        this._parts.path = URI.recodeUrnPath(this._parts.path);
        this.build(!build);
        return this;
      }

      if (this._parts.path === '/') {
        return this;
      }

      var _was_relative;

      var _leadingParents = '';

      var _parent, _pos; // handle relative paths


      if (_path.charAt(0) !== '/') {
        _was_relative = true;
        _path = '/' + _path;
      } // handle relative files (as opposed to directories)


      if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {
        _path += '/';
      } // resolve simples


      _path = _path.replace(/(\/(\.\/)+)|(\/\.$)/g, '/').replace(/\/{2,}/g, '/'); // remember leading parents

      if (_was_relative) {
        _leadingParents = _path.substring(1).match(/^(\.\.\/)+/) || '';

        if (_leadingParents) {
          _leadingParents = _leadingParents[0];
        }
      } // resolve parents


      while (true) {
        _parent = _path.indexOf('/..');

        if (_parent === -1) {
          // no more ../ to resolve
          break;
        } else if (_parent === 0) {
          // top level cannot be relative, skip it
          _path = _path.substring(3);
          continue;
        }

        _pos = _path.substring(0, _parent).lastIndexOf('/');

        if (_pos === -1) {
          _pos = _parent;
        }

        _path = _path.substring(0, _pos) + _path.substring(_parent + 3);
      } // revert to relative


      if (_was_relative && this.is('relative')) {
        _path = _leadingParents + _path.substring(1);
      }

      _path = URI.recodePath(_path);
      this._parts.path = _path;
      this.build(!build);
      return this;
    };

    p.normalizePathname = p.normalizePath;

    p.normalizeQuery = function (build) {
      if (typeof this._parts.query === 'string') {
        if (!this._parts.query.length) {
          this._parts.query = null;
        } else {
          this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));
        }

        this.build(!build);
      }

      return this;
    };

    p.normalizeFragment = function (build) {
      if (!this._parts.fragment) {
        this._parts.fragment = null;
        this.build(!build);
      }

      return this;
    };

    p.normalizeSearch = p.normalizeQuery;
    p.normalizeHash = p.normalizeFragment;

    p.iso8859 = function () {
      // expect unicode input, iso8859 output
      var e = URI.encode;
      var d = URI.decode;
      URI.encode = escape;
      URI.decode = decodeURIComponent;

      try {
        this.normalize();
      } finally {
        URI.encode = e;
        URI.decode = d;
      }

      return this;
    };

    p.unicode = function () {
      // expect iso8859 input, unicode output
      var e = URI.encode;
      var d = URI.decode;
      URI.encode = strictEncodeURIComponent;
      URI.decode = unescape;

      try {
        this.normalize();
      } finally {
        URI.encode = e;
        URI.decode = d;
      }

      return this;
    };

    p.readable = function () {
      var uri = this.clone(); // removing username, password, because they shouldn't be displayed according to RFC 3986

      uri.username('').password('').normalize();
      var t = '';

      if (uri._parts.protocol) {
        t += uri._parts.protocol + '://';
      }

      if (uri._parts.hostname) {
        if (uri.is('punycode') && punycode) {
          t += punycode.toUnicode(uri._parts.hostname);

          if (uri._parts.port) {
            t += ':' + uri._parts.port;
          }
        } else {
          t += uri.host();
        }
      }

      if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {
        t += '/';
      }

      t += uri.path(true);

      if (uri._parts.query) {
        var q = '';

        for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {
          var kv = (qp[i] || '').split('=');
          q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace).replace(/&/g, '%26');

          if (kv[1] !== undefined) {
            q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace).replace(/&/g, '%26');
          }
        }

        t += '?' + q.substring(1);
      }

      t += URI.decodeQuery(uri.hash(), true);
      return t;
    }; // resolving relative and absolute URLs


    p.absoluteTo = function (base) {
      var resolved = this.clone();
      var properties = ['protocol', 'username', 'password', 'hostname', 'port'];
      var basedir, i, p;

      if (this._parts.urn) {
        throw new Error('URNs do not have any generally defined hierarchical components');
      }

      if (!(base instanceof URI)) {
        base = new URI(base);
      }

      if (!resolved._parts.protocol) {
        resolved._parts.protocol = base._parts.protocol;
      }

      if (this._parts.hostname) {
        return resolved;
      }

      for (i = 0; p = properties[i]; i++) {
        resolved._parts[p] = base._parts[p];
      }

      if (!resolved._parts.path) {
        resolved._parts.path = base._parts.path;

        if (!resolved._parts.query) {
          resolved._parts.query = base._parts.query;
        }
      } else if (resolved._parts.path.substring(-2) === '..') {
        resolved._parts.path += '/';
      }

      if (resolved.path().charAt(0) !== '/') {
        basedir = base.directory();
        basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';
        resolved._parts.path = (basedir ? basedir + '/' : '') + resolved._parts.path;
        resolved.normalizePath();
      }

      resolved.build();
      return resolved;
    };

    p.relativeTo = function (base) {
      var relative = this.clone().normalize();
      var relativeParts, baseParts, common, relativePath, basePath;

      if (relative._parts.urn) {
        throw new Error('URNs do not have any generally defined hierarchical components');
      }

      base = new URI(base).normalize();
      relativeParts = relative._parts;
      baseParts = base._parts;
      relativePath = relative.path();
      basePath = base.path();

      if (relativePath.charAt(0) !== '/') {
        throw new Error('URI is already relative');
      }

      if (basePath.charAt(0) !== '/') {
        throw new Error('Cannot calculate a URI relative to another relative URI');
      }

      if (relativeParts.protocol === baseParts.protocol) {
        relativeParts.protocol = null;
      }

      if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {
        return relative.build();
      }

      if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {
        return relative.build();
      }

      if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {
        relativeParts.hostname = null;
        relativeParts.port = null;
      } else {
        return relative.build();
      }

      if (relativePath === basePath) {
        relativeParts.path = '';
        return relative.build();
      } // determine common sub path


      common = URI.commonPath(relativePath, basePath); // If the paths have nothing in common, return a relative URL with the absolute path.

      if (!common) {
        return relative.build();
      }

      var parents = baseParts.path.substring(common.length).replace(/[^\/]*$/, '').replace(/.*?\//g, '../');
      relativeParts.path = parents + relativeParts.path.substring(common.length) || './';
      return relative.build();
    }; // comparing URIs


    p.equals = function (uri) {
      var one = this.clone();
      var two = new URI(uri);
      var one_map = {};
      var two_map = {};
      var checked = {};
      var one_query, two_query, key;
      one.normalize();
      two.normalize(); // exact match

      if (one.toString() === two.toString()) {
        return true;
      } // extract query string


      one_query = one.query();
      two_query = two.query();
      one.query('');
      two.query(''); // definitely not equal if not even non-query parts match

      if (one.toString() !== two.toString()) {
        return false;
      } // query parameters have the same length, even if they're permuted


      if (one_query.length !== two_query.length) {
        return false;
      }

      one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);
      two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);

      for (key in one_map) {
        if (hasOwn.call(one_map, key)) {
          if (!isArray(one_map[key])) {
            if (one_map[key] !== two_map[key]) {
              return false;
            }
          } else if (!arraysEqual(one_map[key], two_map[key])) {
            return false;
          }

          checked[key] = true;
        }
      }

      for (key in two_map) {
        if (hasOwn.call(two_map, key)) {
          if (!checked[key]) {
            // two contains a parameter not present in one
            return false;
          }
        }
      }

      return true;
    }; // state


    p.duplicateQueryParameters = function (v) {
      this._parts.duplicateQueryParameters = !!v;
      return this;
    };

    p.escapeQuerySpace = function (v) {
      this._parts.escapeQuerySpace = !!v;
      return this;
    };

    return URI;
  });
}.call(this, module);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"collection_helpers.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesHandler = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tasks.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instance_tasks.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.instance_tasks = new Meteor.Collection('instance_tasks');
db.instance_tasks._simpleSchema = new SimpleSchema({
  instance: {
    type: String
  },
  trace: {
    type: String
  },
  is_finished: {
    type: String
  },
  user: {
    type: String
  },
  user_name: {
    type: String
  },
  handler: {
    type: String
  },
  handler_name: {
    type: String
  },
  handler_organization: {
    type: String
  },
  handler_organization_name: {
    type: String
  },
  handler_organization_fullname: {
    type: String
  },
  start_date: {
    type: Date
  },
  due_date: {
    type: Date
  },
  is_read: {
    type: Boolean
  },
  is_error: {
    type: Boolean
  },
  values: {
    type: Object
  },
  deadline: {
    type: Date
  },
  remind_date: {
    type: Date
  },
  reminded_count: {
    type: Number
  },
  read_date: {
    type: Date
  },
  description: {
    type: String
  },
  modified: {
    type: Date
  },
  modified_by: {
    type: String
  },
  sign_show: {
    type: Boolean
  },
  judge: {
    type: String
  },
  next_steps: {
    type: Array
  },
  "next_steps.$": {
    type: Object
  },
  "next_steps.$.step": {
    type: String
  },
  "next_steps.$.users": {
    type: [String]
  },
  finish_date: {
    type: Date
  },
  cost_time: {
    type: Number
  },
  space: {
    type: String
  },
  instance_name: {
    type: String
  },
  submitter: {
    type: String
  },
  submitter_name: {
    type: String
  },
  applicant: {
    type: String
  },
  applicant_name: {
    type: String
  },
  applicant_organization_name: {
    type: String
  },
  submit_date: {
    type: Date
  },
  flow: {
    type: String
  },
  flow_name: {
    type: String
  },
  form: {
    type: String
  },
  step: {
    type: String
  },
  step_name: {
    type: String
  },
  category_name: {
    type: String
  },
  instance_state: {
    type: String
  },
  distribute_from_instance: {
    type: String
  },
  forward_from_instance: {
    type: String
  },
  keywords: {
    type: String
  },
  is_archived: {
    type: Boolean
  },
  category: {
    type: String
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText, marked;

marked = require("marked");
InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						{{#if is_textarea}}\n							<textarea title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\"></textarea>\n						{{/if}}\n						{{#unless is_textarea}}\n							<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						{{/unless}}\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.createTracesHanlder = function (steedosData) {
  var tracesHanlderCompiled, tracesHanlderHtml, tracesHanlderRenderFunction;
  tracesHanlderHtml = _getViewHtml('client/views/instance/traces_handler.html');
  tracesHanlderCompiled = SpacebarsCompiler.compile(tracesHanlderHtml, {
    isBody: true
  });
  tracesHanlderRenderFunction = eval(tracesHanlderCompiled);
  Template.instance_traces_handler = new Blaze.Template("instance_traces_handler", tracesHanlderRenderFunction);
  Template.instance_traces_handler.steedosData = steedosData;
  return Template.instance_traces_handler.helpers(TracesHandler.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    InstanceReadOnlyTemplate.createTracesHanlder(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);

    if (!/^http(s?):\/\//.test(detail_url)) {
      detail_url = Steedos.absoluteUrl(detail_url);
    }

    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, fieldOptions, hours, month, seconds, selectedOption, selectedOptions, splitedValues, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  if (["select", "multiSelect", "radio"].indexOf(field.type) > -1) {
    fieldOptions = field.options.split("\n").map(function (n) {
      var itemSplits;
      itemSplits = n.split(":");
      return {
        label: itemSplits[0],
        value: itemSplits[1] || n
      };
    });
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(marked.parse(value));
      }

      break;

    case 'select':
      selectedOption = fieldOptions.find(function (item) {
        return item.value === value;
      });

      if (selectedOption) {
        value = selectedOption.label;
      }

      break;

    case 'radio':
      selectedOption = fieldOptions.find(function (item) {
        return item.value === value;
      });

      if (selectedOption) {
        value = selectedOption.label;
      }

      break;

    case 'multiSelect':
      splitedValues = value.split(",");
      selectedOptions = fieldOptions.filter(function (item) {
        return splitedValues.indexOf(item.value) > -1;
      });

      if (selectedOptions.length) {
        value = selectedOptions.map(function (item) {
          return item.label;
        }).join(",");
      }

      break;

    case 'number':
      if (value || value === 0) {
        value = Steedos.numberToString(value, field.digits);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

      break;

    case 'html':
      value = value ? "<div class=\"steedos-html\">" + value + "</div>" : '';
  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, locale, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  locale = _getLocale(user);
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email' || (options != null ? options.editable : void 0)) {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>" + TAPi18n.__('instance_attachment', {}, locale) + "</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + TAPi18n.__('instance_approval_history', {}, locale) + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b && b.checked && t){\n		t.style = 'display: block;'\n	} else if(t){\n		t.style = 'display: none;'\n	}\n	if(b){\n		b.addEventListener('change', function(e){\n			if (e.target.checked){\n				t.style = 'display: block;'\n			} else {\n				t.style = 'display: none;'\n			}\n		});\n	}\n\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox && attachmentsCheckbox.checked && attachmentsView){\n		attachmentsView.style = 'display: block;'\n	} else if(attachmentsView){\n		attachmentsView.style = 'display: none;'\n	}\n	if(attachmentsCheckbox){\n		attachmentsCheckbox.addEventListener('change', function(e){\n			if (e.target.checked){\n				attachmentsView.style = 'display: block;'\n			} else {\n				attachmentsView.style = 'display: none;'\n			}\n		});\n	}\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0], sf_name, fieldVal[sf.code])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable, sfieldsEditable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable, sfieldsEditable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable, sfieldsEditable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable || sfieldsEditable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    var fieldOptions = [];

    if (["select", "multiSelect", "radio"].indexOf(field.type) > -1) {
      fieldOptions = field.options.split("\n").map(function (n) {
        var itemSplits = n.split(":");
        return {
          label: itemSplits[0],
          value: itemSplits[1] || n
        };
      });
    }

    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'select':
        var selectedOption = fieldOptions.find(function (item) {
          return item.value == value;
        });

        if (selectedOption) {
          td_value = selectedOption.label;
        }

        break;

      case 'radio':
        var selectedOption = fieldOptions.find(function (item) {
          return item.value == value;
        });

        if (selectedOption) {
          td_value = selectedOption.label;
        }

        break;

      case 'multiSelect':
        var splitedValues = value.split(",");
        var selectedOptions = fieldOptions.filter(function (item) {
          return splitedValues.indexOf(item.value) > -1;
        });

        if (selectedOptions.length) {
          td_value = selectedOptions.map(function (item) {
            return item.label;
          }).join(",");
        }

        break;

      case 'number':
        if (value || value == 0) {
          td_value = Steedos.numberToString(value, field.digits);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable || template.data.atts.sfieldsEditable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var sfieldsEditable = this.data.atts.sfieldsEditable;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable, sfieldsEditable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }

    var c = InstanceManager.getCurrentStep();

    if (c.step_type == 'counterSign' || InstanceManager.ccHasEditPermission()) {
      this.autorun(function () {
        var data = Template.currentData();
        var field = data.name;
        var keys = SteedosTable.getKeys(field);
        var validValue = SteedosTable.handleData(field, data.value);
        SteedosTable.setTableValue(field, validValue);
        $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), data.atts.editable, sfieldsEditable));
      });
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_handler.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_handler.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesHandler.helpers = {
  showSignImage: function (handler, is_finished, judge) {
    var spaceUserSign;

    if (!is_finished) {
      return false;
    }

    if (['returned', 'terminated', 'retrieved'].includes(judge)) {
      return false;
    }

    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      return true;
    } else {
      return false;
    }
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var marked;
marked = require("marked");
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    if (markDownString) {
      return Spacebars.SafeString(marked.parse(markDownString));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, insertDoc, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    insertDoc = AutoForm.getFormValues("instanceform", void 0, void 0, false);
    Form_formula.run("", "", formula_fields, insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  flow_files: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    });
  },
  isDraftAndFlowfilesExist: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return Session.get('box') == 'draft' && !!cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    }).count();
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var marked;
marked = require("marked");
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      var ref3;

      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup) && !approve.is_finished || ((ref3 = Meteor.settings["public"].workflow) != null ? ref3.showBlankApproveDescription : void 0))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    var ref;
    return InstanceformTemplate.helpers.unempty(val) || ((ref = Meteor.settings["public"].workflow) != null ? ref.showBlankApproveDescription : void 0);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    if (markDownString) {
      return Spacebars.SafeString(marked.parse(markDownString));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign, judge) {
    var spaceUserSign;

    if (['returned', 'terminated', 'retrieved'].includes(judge)) {
      return false;
    }

    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var marked;
marked = require("marked");
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge, autoSubmitted) {
    var approveStatusIcon;

    if (autoSubmitted === true) {
      return 'ion ion-android-alarm-clock';
    }

    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge, autoSubmitted) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (autoSubmitted === true) {
      return TAPi18n.__('instance_approve_timeout_auto_submitted', {}, locale);
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  getApproveJudgeClass: function (approveJudge, autoSubmitted) {
    if (autoSubmitted === true) {
      return 'autoSubmitted';
    }

    return approveJudge;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    if (markDownString) {
      return Spacebars.SafeString(marked.parse(markDownString));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user = user._id;
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  },
  handlerDoc: function (handlerId) {
    var ref, ref1, users_can_read_cc_handler_detail_info;
    users_can_read_cc_handler_detail_info = (ref = Meteor.settings["public"]) != null ? (ref1 = ref.workflow) != null ? ref1.users_can_read_cc_handler_detail_info : void 0 : void 0;

    if (!users_can_read_cc_handler_detail_info || !users_can_read_cc_handler_detail_info.includes(Meteor.userId())) {
      return;
    }

    if (Meteor.isClient) {
      return UUflow_api.getContactInfoForUser(handlerId, Session.get('spaceId'));
    } else if (Meteor.isServer) {
      return db.users.findOne(handlerId);
    }
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    Modal.allowMultiple = true;
    return Modal.show('cancel_cc_modal');
  },
  'click .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'click .approve-item a.btn-link,.approve-description a.btn-link,.approve-item-distribute a.btn-link': function (event, template) {
    var ref, userId;

    if (Steedos.isMobile()) {
      userId = (ref = event.target.dataset) != null ? ref.target_user_id : void 0;
      return Creator.openSafeObjectUrl('users', userId);
    }
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      event.stopPropagation();
      event.preventDefault();
      return false;
    }
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"routes":{"designer.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/designer.coffee                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
 * @Author: sunhaolin@hotoa.com
 * @Date: 2021-05-24 12:32:56
 * @LastEditors: sunhaolin@hotoa.com
 * @LastEditTime: 2022-12-24 15:29:22
 * @Description: 
 */
// JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
//   var
//     userIds = req.body.userIds,
//     spaceId = req.query.spaceId,
//     spaceUsers = []
//   ;
//   if (!userIds || !spaceId) {
//     JsonRoutes.sendResult(res, {
//       code: 200,
//       data: {
//         'errors': '缺少参数'
//       }
//     });
//   }
//   spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
//   JsonRoutes.sendResult(res, {
//     code: 200,
//     data: {
//       'spaceUsers': spaceUsers
//     }
//   });
// })
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
 * @Author: sunhaolin@hotoa.com
 * @Date: 2021-05-24 12:32:56
 * @LastEditors: sunhaolin@hotoa.com
 * @LastEditTime: 2022-12-24 15:23:14
 * @Description: 
 */
// JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
//   var
//     userIds = req.body.userIds,
//     spaceId = req.query.spaceId,
//     spaceUsers = []
//   ;
//   if (!userIds || !spaceId) {
//     JsonRoutes.sendResult(res, {
//       code: 200,
//       data: {
//         'errors': '缺少参数'
//       }
//     });
//   }
//   var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
//   JsonRoutes.sendResult(res, {
//     code: 200,
//     data: {
//       'spaceUsers': users
//     }
//   });
// })
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
 * @Author: sunhaolin@hotoa.com
 * @Date: 2021-05-24 12:32:56
 * @LastEditors: sunhaolin@hotoa.com
 * @LastEditTime: 2022-12-24 15:38:54
 * @Description: 
 */
// JsonRoutes.add("post", "/api/workflow/init_formula_values", function(req, res, next) {
// 	var
// 		fields = req.body.fields,
// 		autoFormDoc = req.body.autoFormDoc,
// 		approver = req.body.approver,
// 		applicant = req.body.applicant,
// 		spaceId = req.query.spaceId,
// 		spaceUsers = [];
// 	if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
// 		JsonRoutes.sendResult(res, {
// 			code: 200,
// 			data: {
// 				'errors': '缺少参数'
// 			}
// 		});
// 		return;
// 	}
// 	formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
// 	JsonRoutes.sendResult(res, {
// 		code: 200,
// 		data: {
// 			'formula_values': formula_values
// 		}
// 	});
// })
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
// JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
// 	try {
// 		var current_user_info = uuflowManager.check_authorization(req);
// 		var current_user_id = current_user_info._id;
// 		var hashData = req.body;
// 		var instance_id = hashData.instance_id;
// 		var space_id = hashData.space_id;
// 		var flow_id = hashData.flow_id;
// 		var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
// 		var description = hashData.description;
// 		var isForwardAttachments = hashData.isForwardAttachments;
// 		var selectedUsers = hashData.selectedUsers;
// 		var action_type = hashData.action_type;
// 		var related = hashData.related;
// 		var from_approve_id = hashData.from_approve_id;
// 		check(instance_id, String);
// 		check(space_id, String);
// 		check(flow_id, String);
// 		check(hasSaveInstanceToAttachment, Boolean);
// 		check(description, String);
// 		check(isForwardAttachments, Boolean);
// 		check(selectedUsers, Array);
// 		check(action_type, Match.OneOf('forward', 'distribute'));
// 		if (action_type == "distribute")
// 			check(from_approve_id, String);
// 		var ins = db.instances.findOne(instance_id);
// 		var old_space_id = ins.space;
// 		var flow = db.flows.findOne(flow_id);
// 		var space = db.spaces.findOne(space_id);
// 		if (!ins || !flow || !space) {
// 			throw new Meteor.Error('params error!', 'record not exists!');
// 		}
// 		var forward_users = new Array;
// 		if (_.isEmpty(selectedUsers)) {
// 			forward_users = [current_user_id];
// 		} else {
// 			forward_users = selectedUsers;
// 		}
// 		// 校验分发对象是否有分发流程的提交权限
// 		var no_permission_user_ids = new Array();
// 		_.each(forward_users, function (uid) {
// 			var permissions = permissionManager.getFlowPermissions(flow_id, uid);
// 			if (!permissions.includes("add")) {
// 				// throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
// 				no_permission_user_ids.push(uid);
// 			}
// 		})
// 		if (!_.isEmpty(no_permission_user_ids)) {
// 			var no_permission_users_name = new Array();
// 			db.users.find({
// 				_id: {
// 					$in: no_permission_user_ids
// 				}
// 			}, {
// 				fields: {
// 					name: 1
// 				}
// 			}).forEach(function (u) {
// 				no_permission_users_name.push(u.name);
// 			});
// 			throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','))
// 		}
// 		var new_ins_ids = new Array;
// 		var current_trace = null;
// 		if (action_type == "distribute") {
// 			_.each(ins.traces, function (t) {
// 				if (!current_trace) {
// 					_.each(t.approves, function (a) {
// 						if (!current_trace) {
// 							if (a._id == from_approve_id)
// 								current_trace = t;
// 						}
// 					})
// 				}
// 			})
// 		} else {
// 			current_trace = _.last(ins.traces);
// 		}
// 		var current_trace_id = current_trace._id;
// 		var forward_approves = [];
// 		var from_user_name = db.users.findOne(current_user_id, {
// 			fields: {
// 				name: 1
// 			}
// 		}).name
// 		var set_obj = new Object;
// 		// 计算values
// 		var old_values = ins.values,
// 			new_values = {};
// 		var form = db.forms.findOne(flow.form);
// 		var fields = form.current.fields || [];
// 		var old_form = db.forms.findOne(ins.form);
// 		var old_form_version = ins.form_version,
// 			old_fields = [],
// 			common_fields = [];
// 		var select_to_input_fields = [];
// 		if (old_form.current._id == old_form_version) {
// 			old_fields = old_form.current.fields;
// 		} else {
// 			if (old_form.historys) {
// 				old_form.historys.forEach(function (h) {
// 					if (h._id == old_form_version)
// 						old_fields = h.fields;
// 				})
// 			}
// 		}
// 		fields.forEach(function (field) {
// 			var exists_field = _.find(old_fields, function (f) {
// 				return f.type == field.type && f.code == field.code;
// 			})
// 			if (exists_field)
// 				common_fields.push(field);
// 			var select_input_field = _.find(old_fields, function (f) {
// 				return f.type == 'select' && field.type == 'input' && f.code == field.code;
// 			})
// 			if (select_input_field)
// 				select_to_input_fields.push(select_input_field);
// 		})
// 		select_to_input_fields.forEach(function (field) {
// 			if (old_values[field.code]) {
// 				new_values[field.code] = old_values[field.code];
// 			}
// 		})
// 		common_fields.forEach(function (field) {
// 			if (field.type == 'section') {
// 				if (field.fields) {
// 					field.fields.forEach(function (f) {
// 						// 跨工作区转发不复制选人选组
// 						if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
// 							return;
// 						}
// 						var key = f.code;
// 						var old_v = old_values[key];
// 						if (old_v) {
// 							var fieldOptions = f.options && f.options.split && f.options.split("\n").map(function(n){
// 								var itemSplits = n.split(":");
// 								return {
// 									label: itemSplits[0],
// 									value: itemSplits[1] || n
// 								}
// 							});
// 							// 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
// 							if (f.type == 'select' || f.type == 'radio') {
// 								var selectedOption = fieldOptions.find(function(item) {
// 									return item.value === old_v;
// 								});
// 								if(!selectedOption){
// 									return;
// 								}
// 							}
// 							if (f.type == 'multiSelect') {
// 								var old_multiSelected = old_v.split(',');
// 								var new_multiSelected = _.intersection(fieldOptions.map(function(n){ return n.value; }), old_multiSelected);
// 								old_v = new_multiSelected.join(',');
// 							}
// 							new_values[key] = old_v;
// 						}
// 					})
// 				}
// 			} else if (field.type == 'table') {
// 				if (!_.isEmpty(old_values[field.code])) {
// 					new_values[field.code] = new Array;
// 					old_values[field.code].forEach(function (old_table_row_values) {
// 						var new_table_row_values = {};
// 						if (!_.isEmpty(field.fields)) {
// 							field.fields.forEach(function (f) {
// 								// 跨工作区转发不复制选人选组
// 								if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
// 									return;
// 								}
// 								var key = f.code;
// 								var old_v = old_table_row_values[key];
// 								if (old_v) {
// 									var fieldOptions = f.options && f.options.split && f.options.split("\n").map(function(n){
// 										var itemSplits = n.split(":");
// 										return {
// 											label: itemSplits[0],
// 											value: itemSplits[1] || n
// 										}
// 									});
// 									// 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
// 									if (f.type == 'select' || f.type == 'radio') {
// 										var selectedOption = fieldOptions.find(function(item) {
// 											return item.value === old_v;
// 										});
// 										if(!selectedOption){
// 											return;
// 										}
// 									}
// 									if (f.type == 'multiSelect') {
// 										var old_multiSelected = old_v.split(',');
// 										var new_multiSelected = _.intersection(fieldOptions.map(function(n){ return n.value; }), old_multiSelected);
// 										old_v = new_multiSelected.join(',');
// 									}
// 									new_table_row_values[key] = old_v;
// 								}
// 							})
// 						}
// 						if (old_table_row_values._id) {
// 							new_table_row_values._id = new Mongo.ObjectID()._str;
// 						}
// 						if (!_.isEmpty(new_table_row_values)) {
// 							new_values[field.code].push(new_table_row_values);
// 						}
// 					})
// 				}
// 			} else {
// 				// 跨工作区转发不复制选人选组
// 				if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
// 					return;
// 				}
// 				var key = field.code;
// 				var old_v = old_values[key];
// 				if (old_v) {
// 					// 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
// 					var fieldOptions = field.options && field.options.split && field.options.split("\n").map(function(n){
// 						var itemSplits = n.split(":");
// 						return {
// 							label: itemSplits[0],
// 							value: itemSplits[1] || n
// 						}
// 					});
// 					if (field.type == 'select' || field.type == 'radio') {
// 						var selectedOption = fieldOptions.find(function(item) {
// 							return item.value === old_v;
// 						});
// 						if(!selectedOption){
// 							return;
// 						}
// 					}
// 					if (field.type == 'multiSelect') {
// 						var old_multiSelected = old_v.split(',');
// 						var new_multiSelected = _.intersection(fieldOptions.map(function(n){ return n.value; }), old_multiSelected);
// 						old_v = new_multiSelected.join(',');
// 					}
// 					new_values[key] = old_v;
// 				}
// 			}
// 		})
// 		//如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中
// 		if (action_type === 'distribute') {
// 			delete new_values.record_need;
// 			delete new_values.FONDSID;
// 		}
// 		// 计算申请单标题
// 		var instance_name = "";
// 		var name_forumla = form.current.name_forumla;
// 		if (name_forumla) {
// 			try {
// 				var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
// 				var rev = eval(iscript);
// 				instance_name = rev || flow.name;
// 			} catch (error) {
// 				throw new Meteor.Error('caculate_instance_name', "计算申请单标题出错请检查表单标题脚本。");
// 			}
// 		} else {
// 			instance_name = flow.name;
// 		}
// 		// instance中记录当前步骤名称 #1314
// 		var start_step = _.find(flow.current.steps, function (step) {
// 			return step.step_type == 'start';
// 		})
// 		// 流程转发功能修改为，开始节点有编辑权限的字段的值进行复制，无编辑权限的字段值不进行复制 #3748
// 		if (action_type === 'forward') {
// 			new_values = uuflowManager.getApproveValues(new_values, start_step.permissions, flow.form, flow.current.form_version);
// 		}
// 		// 新建申请单时，instances记录流程名称、流程分类名称 #1313
// 		var category_name = "";
// 		if (form.category) {
// 			var category = uuflowManager.getCategory(form.category);
// 			if (category)
// 				category_name = category.name;
// 		}
// 		_.each(forward_users, function (user_id) {
// 			var user_info = db.users.findOne(user_id);
// 			var space_user = db.space_users.findOne({
// 				space: space_id,
// 				user: user_id
// 			}, {
// 				fields: {
// 					organization: 1
// 				}
// 			});
// 			var space_user_org_info = db.organizations.findOne({
// 				_id: space_user.organization
// 			}, {
// 				fields: {
// 					name: 1,
// 					fullname: 1
// 				}
// 			});
// 			var now = new Date();
// 			var ins_obj = {};
// 			var agent = uuflowManager.getAgent(space_id, user_id);
// 			var handler_id = user_id;
// 			var handler_info = user_info;
// 			var handler_space_user = space_user;
// 			var handler_org_info = space_user_org_info;
// 			if (agent) {
// 				handler_id = agent;
// 				handler_info = db.users.findOne(agent);
// 				handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
// 				handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
// 			}
// 			ins_obj._id = db.instances._makeNewID();
// 			ins_obj.space = space_id;
// 			ins_obj.flow = flow_id;
// 			ins_obj.flow_version = flow.current._id;
// 			ins_obj.form = flow.form;
// 			ins_obj.form_version = flow.current.form_version;
// 			ins_obj.name = instance_name;
// 			ins_obj.submitter = handler_id;
// 			ins_obj.submitter_name = handler_info.name;
// 			ins_obj.applicant = user_id;
// 			ins_obj.applicant_name = user_info.name;
// 			ins_obj.applicant_organization = space_user.organization;
// 			ins_obj.applicant_organization_name = space_user_org_info.name;
// 			ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
// 			ins_obj.state = "draft";
// 			ins_obj.code = "";
// 			ins_obj.is_archived = false;
// 			ins_obj.is_deleted = false;
// 			ins_obj.created = now;
// 			ins_obj.created_by = current_user_id;
// 			ins_obj.modified = now;
// 			ins_obj.modified_by = current_user_id;
// 			ins_obj.inbox_users = [handler_id];
// 			ins_obj.values = new_values;
// 			if (action_type == 'distribute') {
// 				// 解决多次分发看不到正文、附件问题
// 				if (ins.distribute_from_instance) {
// 					ins_obj.distribute_from_instance = ins.distribute_from_instance;
// 				} else {
// 					ins_obj.distribute_from_instance = instance_id;
// 				}
// 				ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
// 				ins_obj.distribute_from_instances.push(instance_id);
// 				if (related) {
// 					ins_obj.related_instances = [instance_id]
// 				}
// 			} else if (action_type == 'forward') {
// 				ins_obj.forward_from_instance = instance_id
// 			}
// 			// 新建Trace
// 			var trace_obj = {};
// 			trace_obj._id = new Mongo.ObjectID()._str;
// 			trace_obj.instance = ins_obj._id;
// 			trace_obj.is_finished = false;
// 			// 当前最新版flow中开始节点的step_id
// 			var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
// 			flow.current.steps.forEach(function (step) {
// 				if (step.step_type == "start") {
// 					step_id = step._id;
// 					step_name = step.name;
// 					can_edit_main_attach = step.can_edit_main_attach;
// 					can_edit_normal_attach = step.can_edit_normal_attach;
// 				}
// 			})
// 			trace_obj.step = step_id;
// 			trace_obj.start_date = now;
// 			trace_obj.name = step_name;
// 			// 新建Approve
// 			var appr_obj = {};
// 			appr_obj._id = new Mongo.ObjectID()._str;
// 			appr_obj.instance = ins_obj._id;
// 			appr_obj.trace = trace_obj._id;
// 			appr_obj.is_finished = false;
// 			appr_obj.user = user_id;
// 			appr_obj.user_name = user_info.name;
// 			appr_obj.handler = handler_id;
// 			appr_obj.handler_name = handler_info.name;
// 			appr_obj.handler_organization = handler_space_user.organization;
// 			appr_obj.handler_organization_name = handler_org_info.name;
// 			appr_obj.handler_organization_fullname = handler_org_info.fullname;
// 			appr_obj.type = "draft";
// 			appr_obj.start_date = now;
// 			appr_obj.read_date = now;
// 			appr_obj.is_read = false;
// 			appr_obj.is_error = false;
// 			appr_obj.values = new_values;
// 			if (agent) {
// 				appr_obj.agent = agent;
// 			}
// 			trace_obj.approves = [appr_obj];
// 			ins_obj.traces = [trace_obj];
// 			if (flow.auto_remind == true)
// 				ins_obj.auto_remind = true;
// 			ins_obj.current_step_name = start_step.name;
// 			ins_obj.flow_name = flow.name;
// 			if (category_name) {
// 				ins_obj.category_name = category.name;
// 				ins_obj.category = category._id;
// 			}
// 			new_ins_id = db.instances.insert(ins_obj);
// 			// 复制附件
// 			var collection = cfs.instances;
// 			//将原表单内容存储为第一个附件
// 			if (hasSaveInstanceToAttachment) {
// 				// try {
// 				instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
// 					absolute: true,
// 					showTrace: true
// 				})
// 				var instanceFile = new FS.File();
// 				instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
// 					type: "text/html"
// 				}, function (error) {
// 					if (error) {
// 						throw new Meteor.Error(error.error, error.reason);
// 					}
// 					instanceFile.name(ins.name + ".html");
// 					instanceFile.size(instanceHtml.length);
// 					var metadata = {
// 						owner: user_id,
// 						owner_name: user_info.name,
// 						space: space_id,
// 						instance: new_ins_id,
// 						approve: appr_obj._id,
// 						current: true
// 					};
// 					instanceFile.metadata = metadata;
// 					var fileObj = collection.insert(instanceFile);
// 					fileObj.update({
// 						$set: {
// 							'metadata.parent': fileObj._id
// 						}
// 					})
// 				})
// 				// } catch (e) {
// 				//     console.error(e);
// 				// }
// 			}
// 			if (isForwardAttachments && action_type == 'forward') {
// 				var files = collection.find({
// 					'metadata.instance': instance_id,
// 					'metadata.current': true
// 				});
// 				files.forEach(function (f) {
// 					// 判断新的流程开始节点是否有编辑正文和编辑附件权限
// 					if (f.metadata.main == true) {
// 						if (can_edit_main_attach != true && can_edit_normal_attach != true)
// 							return;
// 					} else {
// 						if (can_edit_normal_attach != true)
// 							return;
// 					}
// 					var newFile = new FS.File();
// 					newFile.attachData(f.createReadStream('instances'), {
// 						type: f.original.type
// 					}, function (err) {
// 						if (err) {
// 							throw new Meteor.Error(err.error, err.reason);
// 						}
// 						newFile.name(f.name());
// 						newFile.size(f.size());
// 						var metadata = {
// 							owner: user_id,
// 							owner_name: user_info.name,
// 							space: space_id,
// 							instance: new_ins_id,
// 							approve: appr_obj._id,
// 							current: true
// 						};
// 						if (f.metadata.main == true && can_edit_main_attach == true) {
// 							metadata.main = true;
// 						}
// 						newFile.metadata = metadata;
// 						var fileObj = collection.insert(newFile);
// 						fileObj.update({
// 							$set: {
// 								'metadata.parent': fileObj._id
// 							}
// 						})
// 					})
// 				})
// 			}
// 			if (action_type === 'distribute') {
// 				// 给当前的申请单增加分发记录
// 				var appr = {
// 					'_id': new Mongo.ObjectID()._str,
// 					'instance': instance_id,
// 					'trace': current_trace_id,
// 					'is_finished': true,
// 					'user': user_id,
// 					'user_name': user_info.name,
// 					'handler': user_id,
// 					'handler_name': user_info.name,
// 					'handler_organization': space_user.organization,
// 					'handler_organization_name': space_user_org_info.name,
// 					'handler_organization_fullname': space_user_org_info.fullname,
// 					'type': action_type,
// 					'start_date': new Date(),
// 					'finish_date': new Date(),
// 					'is_read': false,
// 					'judge': 'submitted',
// 					'from_user': current_user_id,
// 					'from_user_name': from_user_name,
// 					'forward_space': space_id,
// 					'forward_instance': new_ins_id,
// 					'description': description,
// 					'from_approve_id': from_approve_id
// 				};
// 				forward_approves.push(appr);
// 			}
// 			new_ins_ids.push(new_ins_id);
// 			pushManager.send_message_to_specifyUser("current_user", user_id);
// 		})
// 		if (!_.isEmpty(forward_approves)) {
// 			set_obj.modified = new Date();
// 			set_obj.modified_by = current_user_id;
// 			var r = db.instances.update({
// 				_id: instance_id,
// 				"traces._id": current_trace_id
// 			}, {
// 				$set: set_obj,
// 				$addToSet: {
// 					'traces.$.approves': {
// 						$each: forward_approves
// 					}
// 				}
// 			});
// 		}
// 		if (r) {
// 			_.each(current_trace.approves, function (a, idx) {
// 				if (a._id == from_approve_id) {
// 					var update_read = {};
// 					update_read["traces.$.approves." + idx + ".read_date"] = new Date();
// 					db.instances.update({
// 						_id: instance_id,
// 						"traces._id": current_trace_id
// 					}, {
// 						$set: update_read
// 					});
// 				}
// 			})
// 		}
// 		JsonRoutes.sendResult(res, {
// 			code: 200,
// 			data: { new_ins_ids: new_ins_ids }
// 		})
// 	} catch (e) {
// 		console.error(e.stack)
// 		JsonRoutes.sendResult(res, {
// 			code: 200,
// 			data: {
// 				errors: [e]
// 			}
// 		})
// 	}
// })
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (process.env.CREATOR_NODE_ENV === 'development') {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"server":{"methods":{"set_instance_step_approve.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve, stepsApprovesOptions) {
    return workflowMethods.set_instance_step_approve.apply(this, arguments);
  },
  set_instance_skip_steps: function (ins_id, stepId, action) {
    return workflowMethods.set_instance_skip_steps.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
 * @Author: sunhaolin@hotoa.com
 * @Date: 2021-05-24 12:32:56
 * @LastEditors: sunhaolin@hotoa.com
 * @LastEditTime: 2022-12-22 15:18:59
 * @Description: 
 */
const {
  workflowMethods
} = require('@steedos/workflow');

Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    return workflowMethods.get_instance_data.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
const {
  workflowMethods
} = require('@steedos/workflow');

Meteor.methods({
  draft_save_instance: function (ins) {
    return workflowMethods.draft_save_instance.apply(this, arguments);
  },
  inbox_save_instance: function (approve) {
    return workflowMethods.inbox_save_instance.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
 * @Author: sunhaolin@hotoa.com
 * @Date: 2023-01-13 17:35:13
 * @LastEditors: sunhaolin@hotoa.com
 * @LastEditTime: 2023-03-11 10:51:29
 * @Description: 
 */
const {
  workflowMethods
} = require('@steedos/workflow');

Meteor.methods({
  cc_do: function (approve, cc_user_ids, description) {
    return workflowMethods.cc_do.apply(this, arguments);
  },
  cc_read: function (approve) {
    return workflowMethods.cc_read.apply(this, arguments);
  },
  cc_submit: function (ins_id, description, myApprove, ccHasEditPermission) {
    return workflowMethods.cc_submit.apply(this, arguments);
  },
  cc_remove: function (instanceId, approveId) {
    return workflowMethods.cc_remove.apply(this, arguments);
  },
  batch_cancel_cc: function (instance_id, approve_ids) {
    return workflowMethods.batch_cancel_cc.apply(this, arguments);
  },
  cc_save: function (ins_id, description, myApprove, ccHasEditPermission) {
    return workflowMethods.cc_save.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
 * @Author: sunhaolin@hotoa.com
 * @Date: 2021-05-24 12:32:56
 * @LastEditors: sunhaolin@hotoa.com
 * @LastEditTime: 2022-12-22 15:18:38
 * @Description: 
 */
const {
  workflowMethods
} = require('@steedos/workflow');

Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    return workflowMethods.forward_remove.apply(this, arguments);
  },
  cancelDistribute: function (instance_id, approve_ids) {
    return workflowMethods.cancelDistribute.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*
 * @Author: sunhaolin@hotoa.com
 * @Date: 2021-05-24 12:32:56
 * @LastEditors: sunhaolin@hotoa.com
 * @LastEditTime: 2022-12-22 15:17:54
 * @Description: 
 */
const {
  workflowMethods
} = require('@steedos/workflow');

Meteor.methods({
  cfs_instances_remove: function (file_id) {
    return workflowMethods.cfs_instances_remove.apply(this, arguments);
  },
  cfs_instances_set_current: function (file_id) {
    return workflowMethods.cfs_instances_set_current.apply(this, arguments);
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    return workflowMethods.cfs_instances_lock.apply(this, arguments);
  },
  cfs_instances_unlock: function (file_id) {
    return workflowMethods.cfs_instances_unlock.apply(this, arguments);
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    return workflowMethods.download_space_instance_attachments_to_disk.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    return workflowMethods.set_approve_have_read.apply(this, arguments);
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    return workflowMethods.change_approve_info.apply(this, arguments);
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    return workflowMethods.update_approve_sign.apply(this, arguments);
  },
  update_sign_show: function (objs, myApprove_id) {
    return workflowMethods.update_sign_show.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  instance_return: function (approve, reason) {
    return workflowMethods.instance_return.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    return workflowMethods.instance_remind.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    return workflowMethods.next_step_users_not_found.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, workflowMethods;

workflowMethods = require('@steedos/workflow').workflowMethods;
_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    return workflowMethods.instanceNumberBuilder.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    return workflowMethods.check_main_attach.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    return workflowMethods.remove_related.apply(this, arguments);
  },
  update_instance_related: function (ins_id, related_instances) {
    return workflowMethods.update_instance_related.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  updateFlowPosition: function (data) {
    return workflowMethods.updateFlowPosition.apply(this, arguments);
  },
  updateFlowRole: function (data) {
    return workflowMethods.updateFlowRole.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    return workflowMethods.start_flow.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    return workflowMethods.get_instance_traces.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    return workflowMethods.get_batch_instances.apply(this, arguments);
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    return workflowMethods.get_batch_instances_count.apply(this, arguments);
  },
  'get_my_approves': function (instanceIds) {
    return workflowMethods.get_my_approves.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  change_flow_state: function (flows) {
    return workflowMethods.change_flow_state.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    return workflowMethods.hide_instance.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var workflowMethods;
workflowMethods = require('@steedos/workflow').workflowMethods;
Meteor.methods({
  getInstanceValues: function (insId) {
    return workflowMethods.getInstanceValues.apply(this, arguments);
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1,
      allow_select_step: 1
    }
  });
});
Meteor.publish('flow_files', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return cfs.files.find({
    'metadata.space': spaceId,
    'metadata.object_name': 'flows',
    'metadata.record_id': flowId
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!(instanceId && db.instances.find({
    _id: instanceId
  }).count())) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates', 'values'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var error, instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;

      try {
        return self.changed("instances", id, instance);
      } catch (error1) {
        error = error1;
        console.log('instance observeChanges error: ', error.message);
        console.log('self.userId: ', self.userId);
        console.log('tableName: ', tableName);
        console.log('ids: ', JSON.stringify(ids));
        return console.log('myApprove: ', JSON.stringify(myApprove));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish("instance_tasks_tabular", function (tabularName, ids, fields) {
  if (!this.userId) {
    return this.ready();
  }

  check(tabularName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  return db.instance_tasks.find({
    _id: {
      $in: ids
    }
  }, {
    fields: fields
  });
});
Meteor.publish("instances_tabular", function (tabularName, ids, fields) {
  if (!this.userId) {
    return this.ready();
  }

  check(tabularName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  return db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: fields
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: auto_finish_process_delegation.coffee');
      return console.log(e.stack);
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: timeout_auto_submit.coffee');
      return console.log(e.stack);
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"related_instances_tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instanceTasksListTableTabular, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

instanceTasksListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instance_tasks",
    collection: db.instance_tasks,
    pub: "instance_tasks_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data.instance === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.instance_state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox') {
          modified = doc.submit_date || doc.modified;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.type === 'cc' && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.step_name + ")</span></div>";
        } else {
          if (doc.step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref = doc.values) != null ? ref.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.instance_name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "instance_name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.instance_name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.instance_state === "completed") {
          judge = doc.judge || "approved";
        }

        step_current_name = doc.step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "finish_date",
      render: function (val, type, doc) {
        if (doc.finish_date) {
          return moment(doc.finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["instance", "form", "flow", "inbox_users", "instance_state", "space", "applicant", "form_version", "flow_version", "type", "is_read", "step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instance_tasks.fields = fields;
    ins_fields = _handleListFields(TabularTables.instance_tasks.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  TabularTables.instances = new Tabular.Table(instancesListTableTabular());
  TabularTables.instance_tasks = new Tabular.Table(instanceTasksListTableTabular());
  TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instanceTasksListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.getSort = function (selector, sort) {
    console.log('inbox_instances:', sort);
    return sort;
  };

  return options;
};

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instanceTasksListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, -1]];

  options.getSort = function (selector, sort) {
    console.log('outbox_instances:', sort);
    return sort;
  };

  return options;
};

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/URI.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instance_tasks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_handler.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/routes/designer.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  workflowTemplate: workflowTemplate
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9saWIvVVJJLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvbGliL2NvcmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9tb2RlbHMvaW5zdGFuY2VfdGFza3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9tb2RlbHMvYXV0aF90b2tlbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC9saWIvaW5zdGFuY2VfcmVhZG9ubHlfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L2NsaWVudC9jb3JlZm9ybS9pbnB1dFR5cGVzL2NvcmVmb3JtLXRhYmxlL3N0ZWVkb3MtdGFibGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oYW5kbGVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL190cmFjZXNfaGFuZGxlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldFNwYWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldEZvcm11bGFVc2VyT2JqZWN0cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvaW5pdF9mb3JtdWxhX3ZhbHVlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL3Rlc3Rfd2ViaG9vay5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmV0dXJuLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV9yZW1pbmQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL25leHRfc3RlcF91c2Vyc19ub3RfZm91bmQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX251bWJlcl9ydWxlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvY2hlY2tfbWFpbl9hdHRhY2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9lZGl0X2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jYXRlZ29yaWVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jYXRlZ29yaWVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Nmc19pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Nmc19pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd19yb2xlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd19yb2xlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZm9ybXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2RhdGEuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2RhdGEuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfbGlzdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfbGlzdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2RyYWZ0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9kaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9kaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3JlbGF0ZWRfaW5zdGFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3JlbGF0ZWRfaW5zdGFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvc3BhY2VfdXNlcl9zaWducy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvc3BhY2VfdXNlcl9zaWducy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy91c2VyX2luYm94X2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy91c2VyX2luYm94X2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2Zsb3ctdGVtcGxhdGUvd29ya2Zsb3dfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9zY2hlZHVsZS9hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24uY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9zY2hlZHVsZS90aW1lb3V0X2F1dG9fc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3RhYnVsYXIuY29mZmVlIl0sIm5hbWVzIjpbImNoZWNrTnBtVmVyc2lvbnMiLCJtb2R1bGUiLCJsaW5rIiwidiIsInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiVVJJIiwicHVueWNvZGUiLCJJUHY2IiwiU2Vjb25kTGV2ZWxEb21haW5zIiwiU0xEIiwiX1VSSSIsInVybCIsImJhc2UiLCJfdXJsU3VwcGxpZWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJfYmFzZVN1cHBsaWVkIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwibG9jYXRpb24iLCJocmVmIiwiYWJzb2x1dGVUbyIsInZlcnNpb24iLCJwIiwicHJvdG90eXBlIiwiaGFzT3duIiwiT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJlc2NhcGVSZWdFeCIsInN0cmluZyIsInJlcGxhY2UiLCJnZXRUeXBlIiwidmFsdWUiLCJTdHJpbmciLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImlzQXJyYXkiLCJvYmoiLCJmaWx0ZXJBcnJheVZhbHVlcyIsImRhdGEiLCJsb29rdXAiLCJpIiwiX21hdGNoIiwidGVzdCIsInNwbGljZSIsImFycmF5Q29udGFpbnMiLCJsaXN0IiwiX3R5cGUiLCJtYXRjaCIsImFycmF5c0VxdWFsIiwib25lIiwidHdvIiwic29ydCIsImwiLCJ0cmltU2xhc2hlcyIsInRleHQiLCJ0cmltX2V4cHJlc3Npb24iLCJfcGFydHMiLCJwcm90b2NvbCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJob3N0bmFtZSIsInVybiIsInBvcnQiLCJwYXRoIiwicXVlcnkiLCJmcmFnbWVudCIsImR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyIsImVzY2FwZVF1ZXJ5U3BhY2UiLCJwcm90b2NvbF9leHByZXNzaW9uIiwiaWRuX2V4cHJlc3Npb24iLCJwdW55Y29kZV9leHByZXNzaW9uIiwiaXA0X2V4cHJlc3Npb24iLCJpcDZfZXhwcmVzc2lvbiIsImZpbmRfdXJpX2V4cHJlc3Npb24iLCJmaW5kVXJpIiwic3RhcnQiLCJlbmQiLCJ0cmltIiwiZGVmYXVsdFBvcnRzIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwiZ29waGVyIiwid3MiLCJ3c3MiLCJpbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMiLCJkb21BdHRyaWJ1dGVzIiwiZ2V0RG9tQXR0cmlidXRlIiwibm9kZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJ0eXBlIiwiZXNjYXBlRm9yRHVtYkZpcmVmb3gzNiIsImVzY2FwZSIsInN0cmljdEVuY29kZVVSSUNvbXBvbmVudCIsImVuY29kZVVSSUNvbXBvbmVudCIsImVuY29kZSIsImRlY29kZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImlzbzg4NTkiLCJ1bmVzY2FwZSIsInVuaWNvZGUiLCJjaGFyYWN0ZXJzIiwicGF0aG5hbWUiLCJleHByZXNzaW9uIiwibWFwIiwicmVzZXJ2ZWQiLCJ1cm5wYXRoIiwiZW5jb2RlUXVlcnkiLCJlc2NhcGVkIiwiZGVjb2RlUXVlcnkiLCJlIiwiX3BhcnQiLCJnZW5lcmF0ZUFjY2Vzc29yIiwiX2dyb3VwIiwiYyIsImdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uIiwiX3NlcCIsIl9jb2RpbmdGdW5jTmFtZSIsIl9pbm5lckNvZGluZ0Z1bmNOYW1lIiwiYWN0dWFsQ29kaW5nRnVuYyIsInNlZ21lbnRzIiwic3BsaXQiLCJqb2luIiwiZGVjb2RlUGF0aCIsImRlY29kZVVyblBhdGgiLCJyZWNvZGVQYXRoIiwicmVjb2RlVXJuUGF0aCIsImVuY29kZVJlc2VydmVkIiwicGFyc2UiLCJwYXJ0cyIsInBvcyIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJwYXJzZUF1dGhvcml0eSIsInBhcnNlSG9zdCIsImJyYWNrZXRQb3MiLCJ0IiwiY2hhckF0IiwiZmlyc3RDb2xvbiIsImZpcnN0U2xhc2giLCJuZXh0Q29sb24iLCJwYXJzZVVzZXJpbmZvIiwibGFzdEluZGV4T2YiLCJzaGlmdCIsInBhcnNlUXVlcnkiLCJpdGVtcyIsInNwbGl0cyIsIm5hbWUiLCJwdXNoIiwiYnVpbGQiLCJidWlsZEF1dGhvcml0eSIsImJ1aWxkSG9zdCIsImJ1aWxkVXNlcmluZm8iLCJidWlsZFF1ZXJ5IiwidW5pcXVlIiwia2V5IiwiYnVpbGRRdWVyeVBhcmFtZXRlciIsImFkZFF1ZXJ5IiwiY29uY2F0IiwicmVtb3ZlUXVlcnkiLCJoYXNRdWVyeSIsIndpdGhpbkFycmF5IiwiX2Jvb2x5IiwiQm9vbGVhbiIsIm9wIiwiY29tbW9uUGF0aCIsIk1hdGgiLCJtaW4iLCJ3aXRoaW5TdHJpbmciLCJjYWxsYmFjayIsIm9wdGlvbnMiLCJfc3RhcnQiLCJfZW5kIiwiX3RyaW0iLCJfYXR0cmlidXRlT3BlbiIsImxhc3RJbmRleCIsImV4ZWMiLCJpbmRleCIsImlnbm9yZUh0bWwiLCJhdHRyaWJ1dGVPcGVuIiwibWF4Iiwic2VhcmNoIiwiaWdub3JlIiwicmVzdWx0IiwiZW5zdXJlVmFsaWRIb3N0bmFtZSIsInRvQVNDSUkiLCJub0NvbmZsaWN0IiwicmVtb3ZlQWxsIiwidW5jb25mbGljdGVkIiwiVVJJVGVtcGxhdGUiLCJkZWZlckJ1aWxkIiwiX2RlZmVycmVkX2J1aWxkIiwiX3N0cmluZyIsImNsb25lIiwidmFsdWVPZiIsImdlbmVyYXRlU2ltcGxlQWNjZXNzb3IiLCJnZW5lcmF0ZVByZWZpeEFjY2Vzc29yIiwiX2tleSIsImhhc2giLCJyZXMiLCJfb2JqZWN0IiwiYXR0cmlidXRlIiwic3JjIiwiaXMiLCJ3aGF0IiwiaXAiLCJpcDQiLCJpcDYiLCJzbGQiLCJpZG4iLCJyZWxhdGl2ZSIsImhhcyIsIl9wcm90b2NvbCIsIl9wb3J0IiwiX2hvc3RuYW1lIiwic2NoZW1lIiwieCIsIm9yaWdpbiIsImF1dGhvcml0eSIsImhvc3QiLCJ1c2VyaW5mbyIsInJlc291cmNlIiwic3ViZG9tYWluIiwiZG9tYWluIiwic3ViIiwiUmVnRXhwIiwidGxkIiwiZ2V0IiwiUmVmZXJlbmNlRXJyb3IiLCJkaXJlY3RvcnkiLCJmaWxlbmFtZSIsImRlY29kZVBhdGhTZWdtZW50IiwibXV0YXRlZERpcmVjdG9yeSIsIm5vcm1hbGl6ZVBhdGgiLCJzdWZmaXgiLCJzIiwic2VnbWVudCIsInNlcGFyYXRvciIsImFic29sdXRlIiwiRXJyb3IiLCJwb3AiLCJ1bnNoaWZ0Iiwic2VnbWVudENvZGVkIiwicSIsInNldFF1ZXJ5Iiwic2V0U2VhcmNoIiwiYWRkU2VhcmNoIiwicmVtb3ZlU2VhcmNoIiwiaGFzU2VhcmNoIiwibm9ybWFsaXplIiwibm9ybWFsaXplUHJvdG9jb2wiLCJub3JtYWxpemVRdWVyeSIsIm5vcm1hbGl6ZUZyYWdtZW50Iiwibm9ybWFsaXplSG9zdG5hbWUiLCJub3JtYWxpemVQb3J0IiwiYmVzdCIsIl9wYXRoIiwiX3dhc19yZWxhdGl2ZSIsIl9sZWFkaW5nUGFyZW50cyIsIl9wYXJlbnQiLCJfcG9zIiwibm9ybWFsaXplUGF0aG5hbWUiLCJub3JtYWxpemVTZWFyY2giLCJub3JtYWxpemVIYXNoIiwiZCIsInJlYWRhYmxlIiwidXJpIiwidG9Vbmljb2RlIiwicXAiLCJrdiIsInJlc29sdmVkIiwicHJvcGVydGllcyIsImJhc2VkaXIiLCJyZWxhdGl2ZVRvIiwicmVsYXRpdmVQYXJ0cyIsImJhc2VQYXJ0cyIsImNvbW1vbiIsInJlbGF0aXZlUGF0aCIsImJhc2VQYXRoIiwicGFyZW50cyIsImVxdWFscyIsIm9uZV9tYXAiLCJ0d29fbWFwIiwiY2hlY2tlZCIsIm9uZV9xdWVyeSIsInR3b19xdWVyeSIsIldvcmtmbG93IiwiSW1hZ2VTaWduIiwiVHJhY2VzSGFuZGxlciIsIlRyYWNlc1RlbXBsYXRlIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUiLCJJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZSIsIkluc3RhbmNlU2lnblRleHQiLCJSZWxhdGVkSW5zdGFuY2VzIiwiUmVsYXRlZFJlY29yZHMiLCJJbnN0YW5jZU1hY3JvIiwiY29udGV4dCIsIlRyYWNlc01hbmFnZXIiLCJpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyIsImZpZWxkX2Zvcm11bGEiLCJpbmNsdWRlc09waW5pb25GaWVsZCIsImZvcm0iLCJmb3JtX3ZlcnNpb24iLCJfZm9ybV92ZXJzaW9uIiwiZmllbGRfZm9ybXVsYXMiLCJmaWVsZHMiLCJBcnJheSIsIk1ldGVvciIsImlzU2VydmVyIiwidXVmbG93TWFuYWdlciIsImdldEZvcm1WZXJzaW9uIiwiZGIiLCJmb3JtcyIsImZpbmRPbmUiLCJfaWQiLCJmb3JtX3ZlcnNpb25zIiwiZm9yRWFjaCIsImYiLCJyZWYiLCJjb25zb2xlIiwibG9nIiwiZjEiLCJmb3JtdWxhIiwiXyIsInNvbWUiLCJoZWxwZXJzIiwiaW5zdGFuY2VfdGFza3MiLCJDb2xsZWN0aW9uIiwiX3NpbXBsZVNjaGVtYSIsIlNpbXBsZVNjaGVtYSIsImluc3RhbmNlIiwidHJhY2UiLCJpc19maW5pc2hlZCIsInVzZXIiLCJ1c2VyX25hbWUiLCJoYW5kbGVyIiwiaGFuZGxlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb24iLCJoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImR1ZV9kYXRlIiwiaXNfcmVhZCIsImlzX2Vycm9yIiwidmFsdWVzIiwiZGVhZGxpbmUiLCJyZW1pbmRfZGF0ZSIsInJlbWluZGVkX2NvdW50IiwiTnVtYmVyIiwicmVhZF9kYXRlIiwiZGVzY3JpcHRpb24iLCJtb2RpZmllZCIsIm1vZGlmaWVkX2J5Iiwic2lnbl9zaG93IiwianVkZ2UiLCJuZXh0X3N0ZXBzIiwiZmluaXNoX2RhdGUiLCJjb3N0X3RpbWUiLCJzcGFjZSIsImluc3RhbmNlX25hbWUiLCJzdWJtaXR0ZXIiLCJzdWJtaXR0ZXJfbmFtZSIsImFwcGxpY2FudCIsImFwcGxpY2FudF9uYW1lIiwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lIiwic3VibWl0X2RhdGUiLCJmbG93IiwiZmxvd19uYW1lIiwic3RlcCIsInN0ZXBfbmFtZSIsImNhdGVnb3J5X25hbWUiLCJpbnN0YW5jZV9zdGF0ZSIsImRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSIsImZvcndhcmRfZnJvbV9pbnN0YW5jZSIsImtleXdvcmRzIiwiaXNfYXJjaGl2ZWQiLCJjYXRlZ29yeSIsImF1dGhfdG9rZW5zIiwiX2dldExvY2FsZSIsIl9nZXRSZXF1aXJlZEZpZWxkcyIsIl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyIsIl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyIsIl9nZXRUZW1wbGF0ZURhdGEiLCJfZ2V0Vmlld0h0bWwiLCJnZXRMaW5rVGV4dCIsIm1hcmtlZCIsInJlcXVpcmUiLCJJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUiLCJpbnN0YW5jZV9hdHRhY2htZW50IiwiYWZTZWxlY3RVc2VyUmVhZCIsImFmRm9ybUdyb3VwUmVhZCIsImFmRm9ybUdyb3VwIiwiY3JlYXRlIiwidGVtcGFsdGVOYW1lIiwic3RlZWRvc0RhdGEiLCJ0ZW1wbGF0ZSIsInRlbXBsYXRlQ29tcGlsZWQiLCJ0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uIiwiU3BhY2ViYXJzQ29tcGlsZXIiLCJjb21waWxlIiwiaXNCb2R5IiwiZXZhbCIsIlRlbXBsYXRlIiwiQmxhemUiLCJjcmVhdGVJbnN0YW5jZVNpZ25UZXh0IiwiaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkIiwiaW5zdGFuY2VTaWduVGV4dEh0bWwiLCJpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24iLCJpbnN0YW5jZVNpZ25UZXh0IiwiY3JlYXRlSW1hZ2VTaWduIiwiaW1hZ2VTaWduQ29tcGlsZWQiLCJpbWFnZVNpZ25IdG1sIiwiaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24iLCJpbWFnZVNpZ24iLCJjcmVhdGVUcmFjZXNIYW5sZGVyIiwidHJhY2VzSGFubGRlckNvbXBpbGVkIiwidHJhY2VzSGFubGRlckh0bWwiLCJ0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24iLCJpbnN0YW5jZV90cmFjZXNfaGFuZGxlciIsImluaXQiLCJpdGVtIiwibGFiZWwiLCJkZXRhaWxfdXJsIiwiU3RlZWRvcyIsImFic29sdXRlVXJsIiwiZ2V0VmFsdWUiLCJmaWVsZCIsImxvY2FsZSIsInV0Y09mZnNldCIsImRhdGUiLCJmaWVsZE9wdGlvbnMiLCJob3VycyIsIm1vbnRoIiwic2Vjb25kcyIsInNlbGVjdGVkT3B0aW9uIiwic2VsZWN0ZWRPcHRpb25zIiwic3BsaXRlZFZhbHVlcyIsInQwIiwidDEiLCJ5ZWFyIiwibiIsIml0ZW1TcGxpdHMiLCJlbmNvZGVVUkkiLCJlcnJvciIsImlzX211bHRpc2VsZWN0IiwiZ2V0UHJvcGVydHkiLCJmdWxsbmFtZSIsIlRBUGkxOG4iLCJfXyIsImZvcm1hdERhdGUiLCJpc190ZXh0YXJlYSIsIlNwYWNlYmFycyIsIlNhZmVTdHJpbmciLCJmaW5kIiwiZmlsdGVyIiwibnVtYmVyVG9TdHJpbmciLCJkaWdpdHMiLCJnZXRMYWJlbCIsImNvZGUiLCJmaW5kUHJvcGVydHlCeVBLIiwiZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiIsImZvcm1fZmllbGRzIiwiY3VycmVudCIsIndoZXJlIiwiaGlzdG9yeXMiLCJnZXRGbG93VmVyc2lvbiIsImZsb3dfdmVyc2lvbiIsImZsb3dzIiwidmlld0h0bWwiLCJBc3NldHMiLCJnZXRUZXh0IiwicmVmMSIsInRvTG9jYWxlTG93ZXJDYXNlIiwicmV2IiwiaXNfcmVxdWlyZWQiLCJzdGVwcyIsImVkaXRhYmxlQ29kZSIsInN0YXJ0U3RlcCIsImtleXMiLCJwZXJtaXNzaW9ucyIsInJlcXVpcmVkRmllbGRzIiwiaW50ZXJzZWN0aW9uIiwiV29ya2Zsb3dNYW5hZ2VyIiwiaXNDbGllbnQiLCJXb3JrZmxvd01hbmFnZXJfZm9ybWF0IiwiZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMiLCJpbnNuYW1lIiwiaW5zX3N0YXRlIiwic3RhdGUiLCJpbnNfZmluYWxfZGVjaXNpb24iLCJpbnNfY29kZSIsImluc19pc19hcmNoaXZlZCIsImluc19pc19kZWxldGVkIiwiYXBwbGljYW50Q29udGV4dCIsInNlc3Npb25Vc2VySWQiLCJlZGl0YWJsZSIsInN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzIiwicGFzc2luZyIsIm1vbWVudCIsImZvcm1hdCIsImdldEluc3RhbmNlVmlldyIsImJvZHkiLCJpbnN0YW5jZUNvbXBpbGVkIiwiaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlVGVtcGxhdGUiLCJUZW1wbGF0ZU1hbmFnZXIiLCJnZXRUZW1wbGF0ZSIsInRlbXBsYXRlTmFtZSIsImluc3RhbmNlX3JlYWRvbmx5X3ZpZXciLCJ0b0hUTUxXaXRoRGF0YSIsImdldFRyYWNlc1ZpZXciLCJ0cmFjZUNvbXBpbGVkIiwidHJhY2VSZW5kZXJGdW5jdGlvbiIsInRyYWNlc0h0bWwiLCJpbnN0YW5jZV9zdHlsZSIsInRyYWNlX3JlYWRvbmx5X3ZpZXciLCJ0cmFjZXMiLCJnZXRBdHRhY2htZW50VmlldyIsImF0dGFjaG1lbnRDb21waWxlZCIsImF0dGFjaG1lbnRIdG1sIiwiYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uIiwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyIsImdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3IiwicmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkIiwicmVsYXRlZEluc3RhbmNlc0h0bWwiLCJyZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX2luc3RhbmNlc192aWV3IiwiZ2V0UmVsYXRlZFJlY29yZHNWaWV3IiwicmVsYXRlZFJlY29yZHNDb21waWxlZCIsInJlbGF0ZWRSZWNvcmRzSHRtbCIsInJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX3JlY29yZHNfdmlldyIsImdldE9uTG9hZFNjcmlwdCIsImZvcm1fc2NyaXB0IiwiZ2V0SW5zdGFuY2VIdG1sIiwiYWxsQ3NzTGluayIsImF0dGFjaG1lbnQiLCJjcmVhdG9yU2VydmljZSIsImNzc0hyZWYiLCJmb3JtRGVzY3JpcHRpb24iLCJmb3JtRGVzY3JpcHRpb25IdG1sIiwiaHRtbCIsImluc19yZWNvcmRfaWRzIiwiaW5zdGFuY2VCb3hTdHlsZSIsIm9uTG9hZFNjcmlwdCIsIm9wZW5GaWxlU2NyaXB0IiwicmVsYXRlZF9pbnN0YW5jZXMiLCJyZWxhdGVkX3JlY29yZHMiLCJzaG93VHJhY2VzQnRuIiwic2hvd1RyYWNlc1NjcmlwdCIsInRyYWNlQ2hlY2siLCJ3aWR0aCIsInNldHRpbmdzIiwid2Vic2VydmljZXMiLCJjcmVhdG9yIiwicmVjb3JkX2lkcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJpc01vYmlsZSIsInNob3dUcmFjZSIsImZpbmFsX2RlY2lzaW9uIiwic2hvd0F0dGFjaG1lbnRzIiwiaXNFbXB0eSIsInRhZ2dlciIsInN0eWxlcyIsInBsdWdpbnMiLCJmb3JtSWQiLCJpbnN0YW5jZV90aXRsZSIsInBhZ2VUaXRsZSIsInBhZ2VUaXRsZVRyQ2xhc3MiLCJ2YWwiLCJDb3JlRm9ybSIsInBhZ2VUaXRsZUZpZWxkTmFtZSIsImhhbmRsZVRhYmxlVGVtcGxhdGUiLCJfZXhwb3J0IiwidGFibGVfZmllbGRzIiwidGFibGVfZmllbGQiLCJmaWVsZF9wZXJtaXNzaW9uIiwicHVyZUNvZGUiLCJyZXF1aXJlZCIsInRpdGxlX3Blcm1pc3Npb24iLCJyZW1vdmVTcGVjaWFsQ2hhcmFjdGVyIiwiaXNPcGluaW9uRmllbGQiLCJ0cl9zdGFydCIsInRkX2NvbHNwYW4iLCJ0cl9lbmQiLCJpbmNsdWRlcyIsInBlcm1pc3Npb24iLCJfdGVtcGxhdGUiLCJ0YWJsZSIsIl90ZW1wbGF0ZUhlbHBzIiwic3RlZWRvc19pbnN0YW5jZSIsImdldEluc3RhbmNlIiwiYXR0cyIsImlkIiwic3R5bGUiLCJkaXNhYmxlZCIsImluc3RhbmNlSWQiLCJmb3JtX3R5cGVzIiwiQXBwcm92ZU1hbmFnZXIiLCJpc1JlYWRPbmx5Iiwic3RlZWRvc19mb3JtIiwiaW5uZXJzdWJmb3JtQ29udGV4dCIsImRvY192YWx1ZXMiLCJTZXNzaW9uIiwiYSIsImIiLCJnZXRBdXRvZm9ybVNjaGVtYSIsImluc3RhbmNlX2JveF9zdHlsZSIsImJveCIsImlucyIsInByaW50X3RlbXBsYXRlIiwiaW5zdGFuY2VfdGVtcGxhdGUiLCJTdGVlZG9zVGFibGUiLCJjaGVja0l0ZW0iLCJpdGVtX2luZGV4IiwiZmllbGRPYmoiLCJnZXRGaWVsZCIsImZpZWxkVmFsIiwiZ2V0SXRlbU1vZGFsVmFsdWUiLCJzZl9uYW1lIiwic2ZpZWxkcyIsInNmIiwiSW5zdGFuY2VNYW5hZ2VyIiwiY2hlY2tGb3JtRmllbGRWYWx1ZSIsIiQiLCJzZXRUYWJsZUl0ZW1WYWx1ZSIsIml0ZW1fdmFsdWUiLCJ0YWJsZVZhbHVlIiwiZ2V0VGFibGVWYWx1ZSIsImdldFRhYmxlSXRlbVZhbHVlIiwicmVtb3ZlVGFibGVJdGVtIiwicmVtb3ZlZCIsInNldFRhYmxlVmFsdWUiLCJnZXRWYWxpZFZhbHVlIiwidmFsaWRWYWx1ZSIsImhhbmRsZURhdGEiLCJpbnN0YW5jZUZpZWxkcyIsImdldEluc3RhbmNlRmllbGRzIiwiZ2V0TW9kYWxEYXRhIiwiRm9ybV9mb3JtdWxhIiwiZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUiLCJBdXRvRm9ybSIsImdldEZvcm1WYWx1ZXMiLCJpbnNlcnREb2MiLCJhZGRJdGVtIiwiX2l0ZW1fdmFsdWUiLCJnZXRLZXlzIiwiYXBwZW5kIiwiZ2V0VHIiLCJ1cGRhdGVJdGVtIiwidGRzIiwiZ2V0UmVtb3ZlVGQiLCJzZmllbGQiLCJnZXRUZCIsImVtcHR5IiwicnVuRm9ybXVsYSIsInJlbW92ZUl0ZW0iLCJoaWRlIiwic2hvd01vZGFsIiwibWV0aG9kIiwibW9kYWxEYXRhIiwiTW9kYWwiLCJzaG93IiwiZ2V0Q3VycmVudERhdGFGb3JGb3JtIiwic3MiLCJnZXRGb3JtU2NoZW1hIiwic2NoZW1hIiwib2JqZWN0S2V5cyIsIl9tYWtlR2VuZXJpYyIsImdldFRoZWFkIiwiaXNPYmplY3QiLCJ0aGVhZCIsInRycyIsInNmX2xlbmd0aCIsIndpZGVfZmllbGRzIiwiZmlsdGVyUHJvcGVydHkiLCJpc193aWRlIiwiZ2V0VGJvZHkiLCJzZmllbGRzRWRpdGFibGUiLCJ0Ym9keSIsInRyIiwidGQiLCJ0ZF92YWx1ZSIsImdldFREVmFsdWUiLCJ2aWV3IiwiQ0ZEYXRhTWFuYWdlciIsImdldEZvcm11bGFTcGFjZVVzZXJzIiwidSIsImdldEZvcm11bGFPcmdhbml6YXRpb25zIiwibyIsImdldEZvcm11bGFPcmdhbml6YXRpb24iLCJwbHVjayIsImFkZElucHV0VHlwZSIsInZhbHVlT3V0IiwidmFsdWVDb252ZXJ0ZXJzIiwic3RyaW5nVG9TdHJpbmdBcnJheSIsInN0cmluZ1RvTnVtYmVyIiwic3RyaW5nVG9OdW1iZXJBcnJheSIsInN0cmluZ1RvQm9vbGVhbiIsInN0cmluZ1RvQm9vbGVhbkFycmF5Iiwic3RyaW5nVG9EYXRlIiwic3RyaW5nVG9EYXRlQXJyYXkiLCJjb250ZXh0QWRqdXN0IiwibWF4bGVuZ3RoIiwiYWZUYWJsZSIsImV2ZW50cyIsImV2ZW50IiwibmV3X2l0ZW1faW5kZXgiLCJjdXJyZW50VGFyZ2V0IiwiZGF0YXNldCIsInNldCIsInJlbmRlcmVkIiwic3RyIiwiYWRkSXRlbVRyIiwiZ2V0Q3VycmVudFN0ZXAiLCJzdGVwX3R5cGUiLCJjY0hhc0VkaXRQZXJtaXNzaW9uIiwiYXV0b3J1biIsImN1cnJlbnREYXRhIiwic3BhY2VVc2VyU2lnbiIsInVzZXJJZCIsInNwYWNlX3VzZXJfc2lnbnMiLCJpbWFnZVVSTCIsInNpZ24iLCJzaG93U2lnbkltYWdlIiwib2JqZWN0VXJsIiwib2JqZWN0X25hbWUiLCJyZWNvcmRfaWQiLCJhcHBfaWQiLCJDcmVhdG9yIiwiZ2V0T2JqZWN0VXJsIiwidW5lbXB0eSIsInVuZXF1YWxzIiwiaW5jbHVkZSIsInJlZjIiLCJyZWYzIiwiZ2V0SW5zdGFuY2VGbG93VmVyc2lvbiIsImFwcHJvdmVzIiwicmVmNCIsImFwcHJvdmUiLCJqdWRnZV9uYW1lIiwib3Bpbmlvbl9maWVsZHNfY29kZSIsInNpZ25fZmllbGRfY29kZSIsImFmdGVyX2ZpZWxkIiwiYmVmb3JlX2ZpZWxkIiwicHJlX2ZpZWxkcyIsInByZV93aWRlX2ZpZWxkcyIsInNvcnRfYXBwcm92ZSIsIm9yZGVyIiwicDEiLCJwMiIsIl9wMSIsIl9wMiIsImdldFRpbWUiLCJfdCIsImdldENmQ2xhc3MiLCJnZXRUYWJsZVRoZWFkIiwiZ2V0VGFibGVCb2R5Iiwic2hvd0xhYmVsIiwidGVtcGxhdGVEYXRhIiwiZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lIiwidG9wX2tleXdvcmRzIiwiZm9vMSIsIm9waW5pb25GaWVsZHMiLCJmb28iLCJqc29uX2Zvcm11bGEiLCJzMSIsImVycm9yMSIsInlpamlhbmxhbiIsInN0ZXBOYW1lIiwiaW1hZ2Vfc2lnbiIsIm9ubHlfY2Nfb3BpbmlvbiIsIm9ubHlfY2MiLCJkZWZhdWx0X2Rlc2NyaXB0aW9uIiwib25seV9oYW5kbGVyIiwic2hvd0NDT3BpbmlvbiIsIm1hcmtEb3duVG9IdG1sIiwibWFya0Rvd25TdHJpbmciLCJmX2xhYmVsIiwidGhhdCIsImlzU2VjdGlvbiIsInJlZ2lzdGVySGVscGVyIiwiaW5zX2F0dGFjaF9kb3dubG9hZF91cmwiLCJnZXRQZXJtaXNzaW9ucyIsImluc3RhbmNlZm9ybUNoYW5nZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvcGVuV2luZG93IiwidGFyZ2V0Iiwib25DcmVhdGVkIiwiY29tcGlsZWQiLCJpbnN0YW5jZUN1c3RvbVRlbXBsYXRlIiwiaW5zdGFuY2VWaWV3IiwicmVuZGVyRnVuY3Rpb24iLCJWaWV3IiwiaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlIiwib25SZW5kZXJlZCIsImN1cnJlbnRBcHByb3ZlIiwiY3VycmVudFN0ZXAiLCJmb3JtdWxhX2ZpZWxkcyIsImluc3RhbmNlTnVtYmVyRmllbGRzIiwibmV4dFN0ZXBzIiwibmV4dFN0ZXBVc2VycyIsIkluc3RhbmNlRXZlbnQiLCJpbml0RXZlbnRzIiwiZ2V0Q3VycmVudEFwcHJvdmUiLCJlYWNoIiwiZWxlbWVudCIsInNjaGVtYUtleSIsInRvYXN0ciIsInJlYXNvbiIsImdldEZpZWxkVmFsdWUiLCJJbnN0YW5jZU51bWJlclJ1bGVzIiwiaW5zdGFuY2VOdW1iZXJCdWlsZGVyIiwidHJpZ2dlciIsInJ1biIsInNob3dNYWluVGl0bGUiLCJ3b3JrZmxvd01haW5BdHRhY2hUaXRsZSIsImVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCIsImN1cnJlbnRfc3RlcCIsIm1haW5fYXR0YWNoX2NvdW50IiwiY2ZzIiwiaW5zdGFuY2VzIiwiY291bnQiLCJkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50Iiwic3RhcnRfc3RlcCIsImdldFN0YXJ0U3RlcCIsImNhbl9lZGl0X21haW5fYXR0YWNoIiwiZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50IiwiZ2V0RmxvdyIsInVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZCIsImlzQ0MiLCJnZXRDQ1N0ZXAiLCJjYW5fZWRpdF9ub3JtYWxfYXR0YWNoIiwibWFpbl9hdHRhY2htZW50IiwibWFpbl9hdHRhY2giLCJub3JtYWxfYXR0YWNobWVudHMiLCJzZWxlY3RvciIsIiRuZSIsImRmaXMiLCJkaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIiwiJGluIiwiZGlzdHJpYnV0ZV9tYWluIiwiZmlyc3RWZXJzaW9uTWFpbiIsIm1ldGFkYXRhIiwicGFyZW50IiwiYXR0YWNobWVudFVwbG9hZGVkQXQiLCJ1cGxvYWRlZEF0IiwiZmlyc3RWZXJzaW9uIiwic29ydEJ5IiwiaW5zdGFuY2VJZHMiLCJhdHRhY2htZW50c19jb3VudCIsImZsb3dfZmlsZXMiLCJmaWxlcyIsImlzRHJhZnRBbmRGbG93ZmlsZXNFeGlzdCIsImNvbXBhY3QiLCJhdHRhY2htZW50cyIsIiRvciIsImZldGNoIiwibXlBcHByb3ZlIiwibXlUcmFjZSIsImlzSW5ib3giLCJkZWZhdWx0RGVzY3JpcHRpb24iLCJhcHByb3ZlX3NvcnQiLCJhcHByb3Zlc0dyb3VwIiwiYXBwcm92ZXNfc29ydGVkIiwiY29tcGxldGVkX2RhdGUiLCJoYXNOZXh0IiwiaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSIsImlzX2NvbXBsZXRlZCIsImxhc3QiLCJ0b3BfYXBwcm92ZXMiLCJ1bmlvbiIsInRvcF9hcHByb3ZlIiwiZ3JvdXBCeSIsImhhbmRsZXJBcHByb3ZlcyIsImRlc2NyaXB0aW9uQXBwcm92ZXMiLCJ3b3JrZmxvdyIsInNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbiIsIl9kaXNwbGF5IiwiaXNNeUFwcHJvdmUiLCJteUFwcHJvdmVEZXNjcmlwdGlvbiIsImFwcHJvdmVJZCIsIm5vdyIsImlzT3Bpbmlvbk9mRmllbGQiLCJpbWFnZVNpZ25EYXRhIiwiZ2V0TGFzdFNpZ25BcHByb3ZlIiwiZ2V0SGFuZGxlclNpZ25TaG93QXBwcm92ZXMiLCJsYXN0TXlBcHByb3ZlRGVzY3JpcHRpb24iLCJzaG93QXBwcm92ZSIsImp1ZGdlX2Rlc2NyaXB0aW9uIiwiaXNfYXBwcm92ZWQiLCJpc19yZWplY3RlZCIsImlzX3JlYWRlZCIsImFkZENsYXNzIiwic2V0VGltZW91dCIsImRhdGVGb3JtYXQiLCJnZXRGdWxsWWVhciIsImdldFN0ZXBOYW1lIiwic3RlcElkIiwiZ2V0SW5zdGFuY2VTdGVwIiwic2hvd0RlbGV0ZUJ1dHRvbiIsImFwcHJvdmVkIiwiZnJvbV91c2VyIiwiaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uIiwiYXBwcm92ZV9hZG1pbnMiLCJpc1Nob3ciLCJjb250YWlucyIsImlzRWRpdGluZyIsImlzX2VkaXRpbmciLCJpc1Nob3dEZXNjcmlwdGlvbiIsImdldEFwcHJvdmVTdGF0dXNJY29uIiwiYXBwcm92ZUp1ZGdlIiwiYXV0b1N1Ym1pdHRlZCIsImFwcHJvdmVTdGF0dXNJY29uIiwiZ2V0QXBwcm92ZVN0YXR1c1RleHQiLCJhcHByb3ZlU3RhdHVzVGV4dCIsImdldEFwcHJvdmVKdWRnZUNsYXNzIiwiaXNGb3J3YXJkIiwic2hvd0ZvcndhcmREZWxldGVCdXR0b24iLCJmb3J3YXJkX2luc3RhbmNlIiwiaXNEaXN0cmlidXRlIiwic2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b24iLCJoYXNGbG93QWRtaW5QZXJtaXNzaW9uIiwiZmluaXNoRGF0ZVNjaGVtYSIsImlzQW5kcm9pZE9ySU9TIiwiYXV0b2Zvcm0iLCJvcHRpb25hbCIsInJlYWRvbmx5IiwiZGF0ZVRpbWVQaWNrZXJPcHRpb25zIiwiaWdub3JlUmVhZG9ubHkiLCJ3aWRnZXRQb3NpdGlvbmluZyIsImhvcml6b250YWwiLCJmaW5pc2hEYXRlVmFsdWVzIiwic2hvd1RyYWNlc1ZpZXciLCJzaG93X21vZGFsX3RyYWNlc19saXN0Iiwic3BhY2Vfc2V0dGluZ3MiLCJnZXRJbnN0YW5jZVN0YXRlVGV4dCIsImluc3RhbmNlX2lkIiwiZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yIiwiY2xhIiwiZmlyc3RUcmFjZSIsImxhc3RfZGlzdHJpYnV0ZV9mcm9tIiwiZGlzX2luZm8iLCIkZXhpc3RzIiwiY3JlYXRlZCIsImNyZWF0ZWRfYnkiLCJVVWZsb3dfYXBpIiwiZ2V0TmFtZUZvclVzZXIiLCJ1c2VycyIsImZyb21fdXNlcl9uYW1lIiwiaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQiLCJqdWRnZVRlcm1pbmF0ZWQiLCJpbnN0YW5jZUV4aXN0cyIsImFnZW50RGVzY3JpcHRpb24iLCJ1c2VyTmFtZSIsInRyYWNlTmFtZSIsInRyYWNlSWQiLCJoYW5kbGVyRG9jIiwiaGFuZGxlcklkIiwidXNlcnNfY2FuX3JlYWRfY2NfaGFuZGxlcl9kZXRhaWxfaW5mbyIsImdldENvbnRhY3RJbmZvRm9yVXNlciIsInN0b3BQcm9wYWdhdGlvbiIsImNhbGxpbmciLCJlcnIiLCJyZW1vdmVDbGFzcyIsInN1Y2Nlc3MiLCJhbGxvd011bHRpcGxlIiwiY2xvc2VzdCIsInRhcmdldF91c2VyX2lkIiwib3BlblNhZmVPYmplY3RVcmwiLCJmb3J3YXJkX3NwYWNlIiwiZm9yd2FyZHNwYWNlIiwiZm9yd2FyZGluc3RhbmNlIiwiVHJhY2tlciIsImFmdGVyRmx1c2giLCJvbiIsInNjcm9sbFRvcCIsImZpbmlzaF9pbnB1dCIsIm9waW5pb25faW5wdXQiLCJzaG93UmVsYXRlZEluc3RhY2VzIiwicmVsYXRlZF9pbnN0YWNlcyIsInJlbGF0ZWRfaW5zdGFjZV91cmwiLCJpc0NvcmRvdmEiLCJzaG93X2RlbGV0ZSIsInNob3dSZWxhdGVkUmVjb3JkcyIsInByb2Nlc3MiLCJlbnYiLCJDUkVBVE9SX05PREVfRU5WIiwiSnNvblJvdXRlcyIsImFkZCIsInJlcSIsIm5leHQiLCJoYXNoRGF0YSIsImFjdGlvbiIsInRvX3VzZXJzIiwic2VuZFJlc3VsdCIsInN0YWNrIiwiZXJyb3JzIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsIndvcmtmbG93TWV0aG9kcyIsIm1ldGhvZHMiLCJzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlIiwiaW5zX2lkIiwic3RlcF9hcHByb3ZlIiwic3RlcHNBcHByb3Zlc09wdGlvbnMiLCJhcHBseSIsInNldF9pbnN0YW5jZV9za2lwX3N0ZXBzIiwiZ2V0X2luc3RhbmNlX2RhdGEiLCJmb3JtQ2FjaGVkIiwiZmxvd0NhY2hlZCIsImRyYWZ0X3NhdmVfaW5zdGFuY2UiLCJpbmJveF9zYXZlX2luc3RhbmNlIiwiY2NfZG8iLCJjY191c2VyX2lkcyIsImNjX3JlYWQiLCJjY19zdWJtaXQiLCJjY19yZW1vdmUiLCJiYXRjaF9jYW5jZWxfY2MiLCJhcHByb3ZlX2lkcyIsImNjX3NhdmUiLCJzcGFjZV9pZCIsImZsb3dfaWQiLCJoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQiLCJpc0ZvcndhcmRBdHRhY2htZW50cyIsInNlbGVjdGVkVXNlcnMiLCJhY3Rpb25fdHlwZSIsInJlbGF0ZWQiLCJmcm9tX2FwcHJvdmVfaWQiLCJmb3J3YXJkX3JlbW92ZSIsInRyYWNlX2lkIiwiYXBwcm92ZV9pZCIsImNhbmNlbERpc3RyaWJ1dGUiLCJjZnNfaW5zdGFuY2VzX3JlbW92ZSIsImZpbGVfaWQiLCJjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50IiwiY2ZzX2luc3RhbmNlc19sb2NrIiwidXNlcl9pZCIsImNmc19pbnN0YW5jZXNfdW5sb2NrIiwiZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzayIsInNwYWNlSWQiLCJjZnNSZWNvcmRJZHMiLCJzZXRfYXBwcm92ZV9oYXZlX3JlYWQiLCJjaGFuZ2VfYXBwcm92ZV9pbmZvIiwidXBkYXRlX2FwcHJvdmVfc2lnbiIsInNpZ25fdHlwZSIsImxhc3RTaWduQXBwcm92ZSIsInVwZGF0ZV9zaWduX3Nob3ciLCJvYmpzIiwibXlBcHByb3ZlX2lkIiwiaW5zdGFuY2VfcmV0dXJuIiwiaW5zdGFuY2VfcmVtaW5kIiwicmVtaW5kX3VzZXJzIiwicmVtaW5kX2NvdW50IiwicmVtaW5kX2RlYWRsaW5lIiwiYWN0aW9uX3R5cGVzIiwibmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZCIsImRlYWxfdHlwZSIsInBhcmFtcyIsIl9ldmFsIiwiY2hlY2tfbWFpbl9hdHRhY2giLCJyZW1vdmVfcmVsYXRlZCIsInJlX2luc19pZCIsInVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkIiwidXBkYXRlRmxvd1Bvc2l0aW9uIiwidXBkYXRlRmxvd1JvbGUiLCJzdGFydF9mbG93IiwiZmxvd0lkIiwiZ2V0X2luc3RhbmNlX3RyYWNlcyIsImNhdGVnb3J5SWQiLCJmbG93SWRzIiwiZ2V0X2JhdGNoX2luc3RhbmNlcyIsImdldF9iYXRjaF9pbnN0YW5jZXNfY291bnQiLCJnZXRfbXlfYXBwcm92ZXMiLCJjaGFuZ2VfZmxvd19zdGF0ZSIsImhpZGVfaW5zdGFuY2UiLCJpbnNJZCIsImlzX2hpZGRlbiIsImdldEluc3RhbmNlVmFsdWVzIiwiQ29va2llcyIsImdldEluc3RhbmNlUmVhZE9ubHkiLCJfaGFzUGVybWlzc2lvbiIsIl9sb2NhbGUiLCJfcGFyZW50X2luc3RhbmNlcyIsImRhdGFCdWYiLCJoaWRlX3RyYWNlcyIsInNwYWNlVXNlckNvdW50IiwiZ2V0QVBJTG9naW5Vc2VyIiwiYWNjZXNzX3Rva2VuIiwiZ2V0VXNlcklkRnJvbUFjY2Vzc1Rva2VuIiwic3BhY2VzIiwic3BhY2VfdXNlcnMiLCJoYXNJbnN0YW5jZVBlcm1pc3Npb25zIiwiX3BhcmVudF9pZCIsIl9wYXJlbnRfaW5zIiwiY2hhcnNldCIsIkJ1ZmZlciIsInNldEhlYWRlciIsInN0YXR1c0NvZGUiLCJyZXRfc3luY190b2tlbiIsInNwYWNlVXNlciIsInNwYWNlVXNlck9yZ2FuaXphdGlvbnMiLCJzeW5jX3Rva2VuIiwiQVBJQXV0aGVudGljYXRpb25DaGVjayIsImhlYWRlcnMiLCJpc1NwYWNlQWRtaW4iLCJvcmdhbml6YXRpb25zIiwiY2FuTW9uaXRvciIsImNhbkFkbWluIiwiJGd0IiwiJG5pbiIsImluYm94X3VlcnMiLCJjY191c2VycyIsIm91dGJveF91c2VycyIsInNraXAiLCJsaW1pdCIsImNvcGllcyIsImFsbENzcyIsIldlYkFwcCIsImdldFJlZnJlc2hhYmxlQXNzZXRzIiwiY3NzIiwicm9vdFVybCIsIl9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18iLCJST09UX1VSTF9QQVRIX1BSRUZJWCIsIlJPT1RfVVJMIiwiZW5kc1dpdGgiLCJoIiwiZyIsIm0iLCJrIiwiZ2V0RWFjaCIsInVuaXEiLCJtaXhpbiIsImRlc3QiLCJoYW5kZXJVc2VyT2JqZWN0Iiwib3JnYW5pemF0aW9uIiwiaHIiLCJzb3J0X25vIiwibW9iaWxlIiwid29ya19waG9uZSIsInBvc2l0aW9uIiwidXNlclJvbGVzIiwicm9sZXMiLCJoYW5kZXJPcmdPYmplY3QiLCJvcmciLCJpbml0X2Zvcm11bGFfdmFsdWVzIiwiYXV0b0Zvcm1Eb2MiLCJhcHByb3ZlciIsIl9fdmFsdWVzIiwidGFibGVGaWVsZHMiLCJ0YWJsZVZhbHVlcyIsImZvcm11bGFUYWJsZVZhbHVlcyIsIl9fdGFibGVWYWx1ZXMiLCJ0YWJsZWZpZWxkIiwiZ2V0Rm9ybXVsYVVzZXJPYmplY3RzIiwiZ2V0Rm9ybXVsYU9yZ09iamVjdHMiLCJnZXRGb3JtdWxhVXNlck9iamVjdCIsInB1Ymxpc2giLCJjaGVjayIsInJlYWR5IiwiY2F0ZWdvcmllcyIsImFwcCIsImZsb3dfcG9zaXRpb25zIiwicm9sZSIsInB1Ymxpc2hDb21wb3NpdGUiLCJ0YWJsZU5hbWUiLCJpZHMiLCJNYXRjaCIsIk9wdGlvbmFsIiwidW5ibG9jayIsImNoaWxkcmVuIiwiZmxvd19yb2xlcyIsImNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3ciLCJwZXJtcyIsImNvbXBhbnlfaWQiLCJkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzIiwiZGlzdHJpYnV0ZV90b19zZWxmIiwidmVyc2lvbklkIiwiaGFuZGxlIiwic2VsZiIsImxhdGVzdCIsIm9ic2VydmVDaGFuZ2VzIiwiY2hhbmdlZCIsImFkZGVkIiwib25TdG9wIiwic3RvcCIsImZsb3dfaWRzIiwiZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uIiwiYWxsb3dfc2VsZWN0X3N0ZXAiLCJnZXRNaW5pSW5zdGFuY2UiLCJnZXRNeWFwcHJvdmVNb2RpZmllZCIsImluc3RhbmNlX2ZpZWxkc18wIiwibWluaUFwcHJvdmVGaWVsZHMiLCJuZWVkQ2hhbmdlIiwidHJpZ2dlckNoYW5nZUZpZWxkcyIsInRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMiLCJteUFwcHJvdmVNb2RpZmllZHMiLCJfaW5zdGFuY2VJZCIsIl90cmFjZSIsImNoYW5nZUZpZWxkcyIsIl9jaGFuZ2UiLCJfcmV2IiwiX215X2FwcHJvdmVfbW9kaWZpZWRzIiwiaXNFcXVhbCIsImdldEluc3RhbmNlVHJhY2VzIiwiX2luc0lkIiwiaW5ib3hfdXNlcnMiLCJhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUiLCJsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlIiwiaW5zdGFuY2VpZCIsImRhdGFNYXAiLCJvcGVyYXRpb24iLCJyYXdDb2xsZWN0aW9uIiwiYWdncmVnYXRlIiwidG9BcnJheSIsImRvYyIsImlzRnVuY3Rpb24iLCJ3cmFwQXN5bmMiLCJnZXRNeUFwcHJvdmUiLCJnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUiLCJnZXRTdGVwQ3VycmVudE5hbWUiLCJub3RGaW5pc2hlZFRyYWNlcyIsImFnZW50Iiwic3RlcEN1cnJlbnROYW1lIiwiJHNsaWNlIiwibXlMYXN0RmluaXNoZWRBcHByb3ZlIiwiYWdlbnRfdXNlcl9uYW1lIiwibXlfZmluaXNoX2RhdGUiLCJpc19jYyIsImNjX2NvdW50IiwidGFidWxhck5hbWUiLCJpbnN0YW5jZV9pZHMiLCJyZWxhdGVkX2luc3RhbmNlX2lkcyIsIl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlIiwiX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUiLCJfaXRlbXMiLCIkbWF0Y2giLCIkZ3JvdXAiLCIkc3VtIiwiX2NoYW5nZURhdGEiLCJfZmxvd3NEYXRhIiwiX2luaXQiLCJkYXRhSXRlbSIsImZsb3dfaW5zdGFuY2UiLCJvYnNlcnZlIiwiZ2V0Q29sbGVjdGlvbiIsIndvcmtmbG93VGVtcGxhdGUiLCJzdGFydHVwIiwiYWJzb2x1dGVfcGF0aF9jbiIsImFic29sdXRlX3BhdGhfdXMiLCJmaWxlc0xpc3RfY24iLCJmaWxlc0xpc3RfdXMiLCJmcyIsIm1pbWUiLCJwYXRoX2NuIiwicGF0aF91cyIsInJlYWRGaWxlTGlzdCIsInBhdGhEaXIiLCJmaWxlc0xpc3QiLCJyZWFkZGlyU3luYyIsInN0YXQiLCJzdGF0U3luYyIsImlzRGlyZWN0b3J5Iiwid29ya2Zsb3dUZW1wbGF0ZXMiLCJyZXNvbHZlIiwiZXhpc3RzU3luYyIsImZpbGUiLCJyZWFkRmlsZVN5bmMiLCJnb19uZXh0IiwicnVsZSIsInNjaGVkdWxlIiwiY3JvbiIsImF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbiIsInNjaGVkdWxlSm9iIiwiYmluZEVudmlyb25tZW50IiwidGltZSIsInByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcyIsInVwZGF0ZSIsImVuYWJsZWQiLCJlbmRfdGltZSIsIiRsdGUiLCIkc2V0IiwibXVsdGkiLCJ0aW1lRW5kIiwidGltZW91dF9hdXRvX3N1Ym1pdCIsInRpbWVvdXRBdXRvU3VibWl0IiwiVGFidWxhclRhYmxlcyIsInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIiLCJUYWJ1bGFyIiwiVGFibGUiLCJjb2xsZWN0aW9uIiwiY29sdW1ucyIsInRpdGxlIiwib3JkZXJhYmxlIiwicmVuZGVyIiwiaW5wdXQiLCJzdGVwX2N1cnJlbnRfbmFtZSIsImN1cnJlbnRfc3RlcF9uYW1lIiwiZG9tIiwibGVuZ3RoQ2hhbmdlIiwiZXh0cmFGaWVsZHMiLCJwYWdlTGVuZ3RoIiwiaW5mbyIsInNlYXJjaGluZyIsInJlc3BvbnNpdmUiLCJkZXRhaWxzIiwiYXV0b1dpZHRoIiwiY2hhbmdlU2VsZWN0b3IiLCJjdXJTcGFjZVVzZXIiLCIkYW5kIiwiYWRtaW5zIiwiZmwiLCJleHRlbmQiLCJHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyIsIl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyIsIl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMiLCJfaGFuZGxlTGlzdEZpZWxkcyIsImluc3RhbmNlVGFza3NMaXN0VGFibGVUYWJ1bGFyIiwiaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciIsIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyIiwidXBkYXRlVGFidWxhclRpdGxlIiwic3VicyIsIlN1YnNNYW5hZ2VyIiwiaW5zX2ZpZWxkcyIsInB1YiIsIm9uVW5sb2FkIiwiaW5zdGFuY2VfbGlzdCIsIl90YWJsZUNvbHVtbnMiLCJkcmF3Q2FsbGJhY2siLCJlbGxpcHNpc0xpbmsiLCJlbXB0eVRkIiwiY29sU3BhbiIsImlzUGFkIiwicGVyZmVjdFNjcm9sbGJhciIsIm9JbnN0YW5jZSIsImF0dHIiLCJjbGljayIsImdvUGFnZSIsImhlaWdodCIsInBhZ2VzIiwiY2VpbCIsImZuUmVjb3Jkc0Rpc3BsYXkiLCJfaURpc3BsYXlMZW5ndGgiLCJEYXRhVGFibGUiLCJwYWdlIiwiZHJhdyIsImJsdXIiLCJjdXJyZW50UGFnZSIsImtleWRvd24iLCJrZXlDb2RlIiwiY3JlYXRlZFJvdyIsInJvdyIsImRhdGFJbmRleCIsIkZsb3dSb3V0ZXIiLCJzZXRBdHRyaWJ1dGUiLCJhZ2VudF92aWV3IiwiY2NfdmlldyIsImluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MiLCJtb2RpZmllZEZyb21Ob3ciLCJtb2RpZmllZFN0cmluZyIsInByaW9yaXR5SWNvbiIsInByaW9yaXR5SWNvbkNsYXNzIiwicHJpb3JpdHlWYWx1ZSIsInN0ZXBfY3VycmVudF9uYW1lX3ZpZXciLCJ1bnJlYWQiLCJtb21lbnRSZWFjdGl2ZUZyb21Ob3ciLCJwcmlvcml0eSIsInZpc2libGUiLCJjY190YWciLCJyZWNvcmRfbmVlZCIsImxlbmd0aE1lbnUiLCJzcGFjZV91c2VyIiwicGFnaW5nVHlwZSIsImlzX2xpc3RfZGlzcGxheSIsImluYm94X2luc3RhbmNlcyIsIm91dGJveF9pbnN0YW5jZXMiLCJnZXRTb3J0IiwiZmxvd0luc3RhbmNlcyIsIlJlYWN0aXZlVmFyIiwiX2NoYW5nZU9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsZ0JBQUo7QUFBcUJDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLG9DQUFaLEVBQWlEO0FBQUNGLGtCQUFnQixDQUFDRyxDQUFELEVBQUc7QUFBQ0gsb0JBQWdCLEdBQUNHLENBQWpCO0FBQW1COztBQUF4QyxDQUFqRCxFQUEyRixDQUEzRjtBQUNyQkgsZ0JBQWdCLENB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QUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLOzs7Ozs7Ozs7OztBQy9CQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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bnRlbnQiOlsiaW1wb3J0IHsgY2hlY2tOcG1WZXJzaW9ucyB9IGZyb20gJ21ldGVvci90bWVhc2RheTpjaGVjay1ucG0tdmVyc2lvbnMnO1xuY2hlY2tOcG1WZXJzaW9ucyh7XG5cdFwibm9kZS1zY2hlZHVsZVwiOiBcIl4xLjMuMVwiLFxuXHRcInhtbDJqc1wiOiBcIl4wLjQuMTlcIixcbn0sICdzdGVlZG9zOndvcmtmbG93Jyk7IiwiLyohXG4gKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzXG4gKlxuICogVmVyc2lvbjogMS4xNy4wXG4gKlxuICogQXV0aG9yOiBSb2RuZXkgUmVobVxuICogV2ViOiBodHRwOi8vbWVkaWFsaXplLmdpdGh1Yi5pby9VUkkuanMvXG4gKlxuICogTGljZW5zZWQgdW5kZXJcbiAqICAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICogICBHUEwgdjMgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0dQTC0zLjBcbiAqXG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuXHQndXNlIHN0cmljdCc7XG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvYmxvYi9tYXN0ZXIvcmV0dXJuRXhwb3J0cy5qc1xuXHQvLyBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG5cdC8vICAgLy8gTm9kZVxuXHQvLyAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKCcuL3B1bnljb2RlJyksIHJlcXVpcmUoJy4vSVB2NicpLCByZXF1aXJlKCcuL1NlY29uZExldmVsRG9tYWlucycpKTtcblx0Ly8gfSBlbHNlXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKFsnLi9wdW55Y29kZScsICcuL0lQdjYnLCAnLi9TZWNvbmRMZXZlbERvbWFpbnMnXSwgZmFjdG9yeSk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0XHRyb290LlVSSSA9IGZhY3Rvcnkocm9vdC5wdW55Y29kZSwgcm9vdC5JUHY2LCByb290LlNlY29uZExldmVsRG9tYWlucywgcm9vdCk7XG5cdH1cbn0odGhpcywgZnVuY3Rpb24gKHB1bnljb2RlLCBJUHY2LCBTTEQsIHJvb3QpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHQvKmdsb2JhbCBsb2NhdGlvbiwgZXNjYXBlLCB1bmVzY2FwZSAqL1xuXHQvLyBGSVhNRTogdjIuMC4wIHJlbmFtY2Ugbm9uLWNhbWVsQ2FzZSBwcm9wZXJ0aWVzIHRvIHVwcGVyY2FzZVxuXHQvKmpzaGludCBjYW1lbGNhc2U6IGZhbHNlICovXG5cblx0Ly8gc2F2ZSBjdXJyZW50IFVSSSB2YXJpYWJsZSwgaWYgYW55XG5cdHZhciBfVVJJID0gcm9vdCAmJiByb290LlVSSTtcblxuXHRmdW5jdGlvbiBVUkkodXJsLCBiYXNlKSB7XG5cdFx0dmFyIF91cmxTdXBwbGllZCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMTtcblx0XHR2YXIgX2Jhc2VTdXBwbGllZCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMjtcblxuXHRcdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxuXHRcdGlmICghKHRoaXMgaW5zdGFuY2VvZiBVUkkpKSB7XG5cdFx0XHRpZiAoX3VybFN1cHBsaWVkKSB7XG5cdFx0XHRcdGlmIChfYmFzZVN1cHBsaWVkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBVUkkodXJsLCBiYXNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBuZXcgVVJJKHVybCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBuZXcgVVJJKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHVybCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAoX3VybFN1cHBsaWVkKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBhcmd1bWVudCBmb3IgVVJJJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdHVybCA9IGxvY2F0aW9uLmhyZWYgKyAnJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHVybCA9ICcnO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRoaXMuaHJlZih1cmwpO1xuXG5cdFx0Ly8gcmVzb2x2ZSB0byBiYXNlIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbnN0cnVjdG9yXG5cdFx0aWYgKGJhc2UgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYWJzb2x1dGVUbyhiYXNlKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdFVSSS52ZXJzaW9uID0gJzEuMTcuMCc7XG5cblx0dmFyIHAgPSBVUkkucHJvdG90eXBlO1xuXHR2YXIgaGFzT3duID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxuXHRmdW5jdGlvbiBlc2NhcGVSZWdFeChzdHJpbmcpIHtcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9jb21taXQvODVhYzIxNzgzYzExZjhjY2FiMDYxMDZkYmE5NzM1YTMxYTg2OTI0ZCNjb21taXRjb21tZW50LTgyMTk2M1xuXHRcdHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZSkge1xuXHRcdC8vIElFOCBkb2Vzbid0IHJldHVybiBbT2JqZWN0IFVuZGVmaW5lZF0gYnV0IFtPYmplY3QgT2JqZWN0XSBmb3IgdW5kZWZpbmVkIHZhbHVlXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAnVW5kZWZpbmVkJztcblx0XHR9XG5cblx0XHRyZXR1cm4gU3RyaW5nKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkpLnNsaWNlKDgsIC0xKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XG5cdFx0cmV0dXJuIGdldFR5cGUob2JqKSA9PT0gJ0FycmF5Jztcblx0fVxuXG5cdGZ1bmN0aW9uIGZpbHRlckFycmF5VmFsdWVzKGRhdGEsIHZhbHVlKSB7XG5cdFx0dmFyIGxvb2t1cCA9IHt9O1xuXHRcdHZhciBpLCBsZW5ndGg7XG5cblx0XHRpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7XG5cdFx0XHRsb29rdXAgPSBudWxsO1xuXHRcdH0gZWxzZSBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGxvb2t1cFt2YWx1ZVtpXV0gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRsb29rdXBbdmFsdWVdID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHQvKmpzaGludCBsYXhicmVhazogdHJ1ZSAqL1xuXHRcdFx0dmFyIF9tYXRjaCA9IGxvb2t1cCAmJiBsb29rdXBbZGF0YVtpXV0gIT09IHVuZGVmaW5lZFxuXHRcdFx0XHR8fCAhbG9va3VwICYmIHZhbHVlLnRlc3QoZGF0YVtpXSk7XG5cdFx0XHQvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi9cblx0XHRcdGlmIChfbWF0Y2gpIHtcblx0XHRcdFx0ZGF0YS5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdGxlbmd0aC0tO1xuXHRcdFx0XHRpLS07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cblxuXHRmdW5jdGlvbiBhcnJheUNvbnRhaW5zKGxpc3QsIHZhbHVlKSB7XG5cdFx0dmFyIGksIGxlbmd0aDtcblxuXHRcdC8vIHZhbHVlIG1heSBiZSBzdHJpbmcsIG51bWJlciwgYXJyYXksIHJlZ2V4cFxuXHRcdGlmIChpc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0Ly8gTm90ZTogdGhpcyBjYW4gYmUgb3B0aW1pemVkIHRvIE8obikgKGluc3RlYWQgb2YgY3VycmVudCBPKG0gKiBuKSlcblx0XHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlmICghYXJyYXlDb250YWlucyhsaXN0LCB2YWx1ZVtpXSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0dmFyIF90eXBlID0gZ2V0VHlwZSh2YWx1ZSk7XG5cdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gbGlzdC5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKF90eXBlID09PSAnUmVnRXhwJykge1xuXHRcdFx0XHRpZiAodHlwZW9mIGxpc3RbaV0gPT09ICdzdHJpbmcnICYmIGxpc3RbaV0ubWF0Y2godmFsdWUpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAobGlzdFtpXSA9PT0gdmFsdWUpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0ZnVuY3Rpb24gYXJyYXlzRXF1YWwob25lLCB0d28pIHtcblx0XHRpZiAoIWlzQXJyYXkob25lKSB8fCAhaXNBcnJheSh0d28pKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gYXJyYXlzIGNhbid0IGJlIGVxdWFsIGlmIHRoZXkgaGF2ZSBkaWZmZXJlbnQgYW1vdW50IG9mIGNvbnRlbnRcblx0XHRpZiAob25lLmxlbmd0aCAhPT0gdHdvLmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdG9uZS5zb3J0KCk7XG5cdFx0dHdvLnNvcnQoKTtcblxuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gb25lLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0aWYgKG9uZVtpXSAhPT0gdHdvW2ldKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRyaW1TbGFzaGVzKHRleHQpIHtcblx0XHR2YXIgdHJpbV9leHByZXNzaW9uID0gL15cXC8rfFxcLyskL2c7XG5cdFx0cmV0dXJuIHRleHQucmVwbGFjZSh0cmltX2V4cHJlc3Npb24sICcnKTtcblx0fVxuXG5cdFVSSS5fcGFydHMgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0cHJvdG9jb2w6IG51bGwsXG5cdFx0XHR1c2VybmFtZTogbnVsbCxcblx0XHRcdHBhc3N3b3JkOiBudWxsLFxuXHRcdFx0aG9zdG5hbWU6IG51bGwsXG5cdFx0XHR1cm46IG51bGwsXG5cdFx0XHRwb3J0OiBudWxsLFxuXHRcdFx0cGF0aDogbnVsbCxcblx0XHRcdHF1ZXJ5OiBudWxsLFxuXHRcdFx0ZnJhZ21lbnQ6IG51bGwsXG5cdFx0XHQvLyBzdGF0ZVxuXHRcdFx0ZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzOiBVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLFxuXHRcdFx0ZXNjYXBlUXVlcnlTcGFjZTogVVJJLmVzY2FwZVF1ZXJ5U3BhY2Vcblx0XHR9O1xuXHR9O1xuXHQvLyBzdGF0ZTogYWxsb3cgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgKGE9MSZhPTEpXG5cdFVSSS5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmYWxzZTtcblx0Ly8gc3RhdGU6IHJlcGxhY2VzICsgd2l0aCAlMjAgKHNwYWNlIGluIHF1ZXJ5IHN0cmluZ3MpXG5cdFVSSS5lc2NhcGVRdWVyeVNwYWNlID0gdHJ1ZTtcblx0Ly8gc3RhdGljIHByb3BlcnRpZXNcblx0VVJJLnByb3RvY29sX2V4cHJlc3Npb24gPSAvXlthLXpdW2EtejAtOS4rLV0qJC9pO1xuXHRVUkkuaWRuX2V4cHJlc3Npb24gPSAvW15hLXowLTlcXC4tXS9pO1xuXHRVUkkucHVueWNvZGVfZXhwcmVzc2lvbiA9IC8oeG4tLSkvaTtcblx0Ly8gd2VsbCwgMzMzLjQ0NC41NTUuNjY2IG1hdGNoZXMsIGJ1dCBpdCBzdXJlIGFpbid0IG5vIElQdjQgLSBkbyB3ZSBjYXJlP1xuXHRVUkkuaXA0X2V4cHJlc3Npb24gPSAvXlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9JC87XG5cdC8vIGNyZWRpdHMgdG8gUmljaCBCcm93blxuXHQvLyBzb3VyY2U6IGh0dHA6Ly9mb3J1bXMuaW50ZXJtYXBwZXIuY29tL3ZpZXd0b3BpYy5waHA/cD0xMDk2IzEwOTZcblx0Ly8gc3BlY2lmaWNhdGlvbjogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNDI5MS50eHRcblx0VVJJLmlwNl9leHByZXNzaW9uID0gL15cXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKCUuKyk/XFxzKiQvO1xuXHQvLyBleHByZXNzaW9uIHVzZWQgaXMgXCJncnViZXIgcmV2aXNlZFwiIChAZ3J1YmVyIHYyKSBkZXRlcm1pbmVkIHRvIGJlIHRoZVxuXHQvLyBiZXN0IHNvbHV0aW9uIGluIGEgcmVnZXgtZ29sZiB3ZSBkaWQgYSBjb3VwbGUgb2YgYWdlcyBhZ28gYXRcblx0Ly8gKiBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleFxuXHQvLyAqIGh0dHA6Ly9yb2RuZXlyZWhtLmRlL3QvdXJsLXJlZ2V4Lmh0bWxcblx0VVJJLmZpbmRfdXJpX2V4cHJlc3Npb24gPSAvXFxiKCg/OlthLXpdW1xcdy1dKzooPzpcXC97MSwzfXxbYS16MC05JV0pfHd3d1xcZHswLDN9Wy5dfFthLXowLTkuXFwtXStbLl1bYS16XXsyLDR9XFwvKSg/OlteXFxzKCk8Pl0rfFxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCkpKyg/OlxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCl8W15cXHNgISgpXFxbXFxde307OidcIi4sPD4/wqvCu+KAnOKAneKAmOKAmV0pKS9pZztcblx0VVJJLmZpbmRVcmkgPSB7XG5cdFx0Ly8gdmFsaWQgXCJzY2hlbWU6Ly9cIiBvciBcInd3dy5cIlxuXHRcdHN0YXJ0OiAvXFxiKD86KFthLXpdW2EtejAtOS4rLV0qOlxcL1xcLyl8d3d3XFwuKS9naSxcblx0XHQvLyBldmVyeXRoaW5nIHVwIHRvIHRoZSBuZXh0IHdoaXRlc3BhY2Vcblx0XHRlbmQ6IC9bXFxzXFxyXFxuXXwkLyxcblx0XHQvLyB0cmltIHRyYWlsaW5nIHB1bmN0dWF0aW9uIGNhcHR1cmVkIGJ5IGVuZCBSZWdFeHBcblx0XHR0cmltOiAvW2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCe4oCY4oCZXSskL1xuXHR9O1xuXHQvLyBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3VyaS1zY2hlbWVzLmh0bWxcblx0Ly8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX1RDUF9hbmRfVURQX3BvcnRfbnVtYmVycyNXZWxsLWtub3duX3BvcnRzXG5cdFVSSS5kZWZhdWx0UG9ydHMgPSB7XG5cdFx0aHR0cDogJzgwJyxcblx0XHRodHRwczogJzQ0MycsXG5cdFx0ZnRwOiAnMjEnLFxuXHRcdGdvcGhlcjogJzcwJyxcblx0XHR3czogJzgwJyxcblx0XHR3c3M6ICc0NDMnXG5cdH07XG5cdC8vIGFsbG93ZWQgaG9zdG5hbWUgY2hhcmFjdGVycyBhY2NvcmRpbmcgdG8gUkZDIDM5ODZcblx0Ly8gQUxQSEEgRElHSVQgXCItXCIgXCIuXCIgXCJfXCIgXCJ+XCIgXCIhXCIgXCIkXCIgXCImXCIgXCInXCIgXCIoXCIgXCIpXCIgXCIqXCIgXCIrXCIgXCIsXCIgXCI7XCIgXCI9XCIgJWVuY29kZWRcblx0Ly8gSSd2ZSBuZXZlciBzZWVuIGEgKG5vbi1JRE4pIGhvc3RuYW1lIG90aGVyIHRoYW46IEFMUEhBIERJR0lUIC4gLVxuXHRVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzID0gL1teYS16QS1aMC05XFwuLV0vO1xuXHQvLyBtYXAgRE9NIEVsZW1lbnRzIHRvIHRoZWlyIFVSSSBhdHRyaWJ1dGVcblx0VVJJLmRvbUF0dHJpYnV0ZXMgPSB7XG5cdFx0J2EnOiAnaHJlZicsXG5cdFx0J2Jsb2NrcXVvdGUnOiAnY2l0ZScsXG5cdFx0J2xpbmsnOiAnaHJlZicsXG5cdFx0J2Jhc2UnOiAnaHJlZicsXG5cdFx0J3NjcmlwdCc6ICdzcmMnLFxuXHRcdCdmb3JtJzogJ2FjdGlvbicsXG5cdFx0J2ltZyc6ICdzcmMnLFxuXHRcdCdhcmVhJzogJ2hyZWYnLFxuXHRcdCdpZnJhbWUnOiAnc3JjJyxcblx0XHQnZW1iZWQnOiAnc3JjJyxcblx0XHQnc291cmNlJzogJ3NyYycsXG5cdFx0J3RyYWNrJzogJ3NyYycsXG5cdFx0J2lucHV0JzogJ3NyYycsIC8vIGJ1dCBvbmx5IGlmIHR5cGU9XCJpbWFnZVwiXG5cdFx0J2F1ZGlvJzogJ3NyYycsXG5cdFx0J3ZpZGVvJzogJ3NyYydcblx0fTtcblx0VVJJLmdldERvbUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5vZGUpIHtcblx0XHRpZiAoIW5vZGUgfHwgIW5vZGUubm9kZU5hbWUpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0dmFyIG5vZGVOYW1lID0gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdC8vIDxpbnB1dD4gc2hvdWxkIG9ubHkgZXhwb3NlIHNyYyBmb3IgdHlwZT1cImltYWdlXCJcblx0XHRpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS50eXBlICE9PSAnaW1hZ2UnKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHJldHVybiBVUkkuZG9tQXR0cmlidXRlc1tub2RlTmFtZV07XG5cdH07XG5cblx0ZnVuY3Rpb24gZXNjYXBlRm9yRHVtYkZpcmVmb3gzNih2YWx1ZSkge1xuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MVxuXHRcdHJldHVybiBlc2NhcGUodmFsdWUpO1xuXHR9XG5cblx0Ly8gZW5jb2RpbmcgLyBkZWNvZGluZyBhY2NvcmRpbmcgdG8gUkZDMzk4NlxuXHRmdW5jdGlvbiBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKSB7XG5cdFx0Ly8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvZW5jb2RlVVJJQ29tcG9uZW50XG5cdFx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpXG5cdFx0XHQucmVwbGFjZSgvWyEnKCkqXS9nLCBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KVxuXHRcdFx0LnJlcGxhY2UoL1xcKi9nLCAnJTJBJyk7XG5cdH1cblx0VVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDtcblx0VVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcblx0VVJJLmlzbzg4NTkgPSBmdW5jdGlvbigpIHtcblx0XHRVUkkuZW5jb2RlID0gZXNjYXBlO1xuXHRcdFVSSS5kZWNvZGUgPSB1bmVzY2FwZTtcblx0fTtcblx0VVJJLnVuaWNvZGUgPSBmdW5jdGlvbigpIHtcblx0XHRVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50O1xuXHRcdFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7XG5cdH07XG5cdFVSSS5jaGFyYWN0ZXJzID0ge1xuXHRcdHBhdGhuYW1lOiB7XG5cdFx0XHRlbmNvZGU6IHtcblx0XHRcdFx0Ly8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkXG5cdFx0XHRcdC8vIHVzZSB1cHBlcmNhc2UgaGV4YWRlY2ltYWwgZGlnaXRzIGZvciBhbGwgcGVyY2VudC1lbmNvZGluZ3MuXG5cdFx0XHRcdGV4cHJlc3Npb246IC8lKDI0fDI2fDJCfDJDfDNCfDNEfDNBfDQwKS9pZyxcblx0XHRcdFx0bWFwOiB7XG5cdFx0XHRcdFx0Ly8gLS5ffiEnKCkqXG5cdFx0XHRcdFx0JyUyNCc6ICckJyxcblx0XHRcdFx0XHQnJTI2JzogJyYnLFxuXHRcdFx0XHRcdCclMkInOiAnKycsXG5cdFx0XHRcdFx0JyUyQyc6ICcsJyxcblx0XHRcdFx0XHQnJTNCJzogJzsnLFxuXHRcdFx0XHRcdCclM0QnOiAnPScsXG5cdFx0XHRcdFx0JyUzQSc6ICc6Jyxcblx0XHRcdFx0XHQnJTQwJzogJ0AnXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHRkZWNvZGU6IHtcblx0XHRcdFx0ZXhwcmVzc2lvbjogL1tcXC9cXD8jXS9nLFxuXHRcdFx0XHRtYXA6IHtcblx0XHRcdFx0XHQnLyc6ICclMkYnLFxuXHRcdFx0XHRcdCc/JzogJyUzRicsXG5cdFx0XHRcdFx0JyMnOiAnJTIzJ1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRyZXNlcnZlZDoge1xuXHRcdFx0ZW5jb2RlOiB7XG5cdFx0XHRcdC8vIFJGQzM5ODYgMi4xOiBGb3IgY29uc2lzdGVuY3ksIFVSSSBwcm9kdWNlcnMgYW5kIG5vcm1hbGl6ZXJzIHNob3VsZFxuXHRcdFx0XHQvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLlxuXHRcdFx0XHRleHByZXNzaW9uOiAvJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvaWcsXG5cdFx0XHRcdG1hcDoge1xuXHRcdFx0XHRcdC8vIGdlbi1kZWxpbXNcblx0XHRcdFx0XHQnJTNBJzogJzonLFxuXHRcdFx0XHRcdCclMkYnOiAnLycsXG5cdFx0XHRcdFx0JyUzRic6ICc/Jyxcblx0XHRcdFx0XHQnJTIzJzogJyMnLFxuXHRcdFx0XHRcdCclNUInOiAnWycsXG5cdFx0XHRcdFx0JyU1RCc6ICddJyxcblx0XHRcdFx0XHQnJTQwJzogJ0AnLFxuXHRcdFx0XHRcdC8vIHN1Yi1kZWxpbXNcblx0XHRcdFx0XHQnJTIxJzogJyEnLFxuXHRcdFx0XHRcdCclMjQnOiAnJCcsXG5cdFx0XHRcdFx0JyUyNic6ICcmJyxcblx0XHRcdFx0XHQnJTI3JzogJ1xcJycsXG5cdFx0XHRcdFx0JyUyOCc6ICcoJyxcblx0XHRcdFx0XHQnJTI5JzogJyknLFxuXHRcdFx0XHRcdCclMkEnOiAnKicsXG5cdFx0XHRcdFx0JyUyQic6ICcrJyxcblx0XHRcdFx0XHQnJTJDJzogJywnLFxuXHRcdFx0XHRcdCclM0InOiAnOycsXG5cdFx0XHRcdFx0JyUzRCc6ICc9J1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR1cm5wYXRoOiB7XG5cdFx0XHQvLyBUaGUgY2hhcmFjdGVycyB1bmRlciBgZW5jb2RlYCBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMgMjE0MSBhcyBiZWluZyBhY2NlcHRhYmxlXG5cdFx0XHQvLyBmb3IgdXNhZ2UgaW4gYSBVUk4uIFJGQzIxNDEgYWxzbyBjYWxscyBvdXQgXCItXCIsIFwiLlwiLCBhbmQgXCJfXCIgYXMgYWNjZXB0YWJsZSBjaGFyYWN0ZXJzLCBidXRcblx0XHRcdC8vIHRoZXNlIGFyZW4ndCBlbmNvZGVkIGJ5IGVuY29kZVVSSUNvbXBvbmVudCwgc28gd2UgZG9uJ3QgaGF2ZSB0byBjYWxsIHRoZW0gb3V0IGhlcmUuIEFsc29cblx0XHRcdC8vIG5vdGUgdGhhdCB0aGUgY29sb24gY2hhcmFjdGVyIGlzIG5vdCBmZWF0dXJlZCBpbiB0aGUgZW5jb2RpbmcgbWFwOyB0aGlzIGlzIGJlY2F1c2UgVVJJLmpzXG5cdFx0XHQvLyBnaXZlcyB0aGUgY29sb25zIGluIFVSTnMgc2VtYW50aWMgbWVhbmluZyBhcyB0aGUgZGVsaW1pdGVycyBvZiBwYXRoIHNlZ2VtZW50cywgYW5kIHNvIGl0XG5cdFx0XHQvLyBzaG91bGQgbm90IGFwcGVhciB1bmVuY29kZWQgaW4gYSBzZWdtZW50IGl0c2VsZi5cblx0XHRcdC8vIFNlZSBhbHNvIHRoZSBub3RlIGFib3ZlIGFib3V0IFJGQzM5ODYgYW5kIGNhcGl0YWxhbGl6ZWQgaGV4IGRpZ2l0cy5cblx0XHRcdGVuY29kZToge1xuXHRcdFx0XHRleHByZXNzaW9uOiAvJSgyMXwyNHwyN3wyOHwyOXwyQXwyQnwyQ3wzQnwzRHw0MCkvaWcsXG5cdFx0XHRcdG1hcDoge1xuXHRcdFx0XHRcdCclMjEnOiAnIScsXG5cdFx0XHRcdFx0JyUyNCc6ICckJyxcblx0XHRcdFx0XHQnJTI3JzogJ1xcJycsXG5cdFx0XHRcdFx0JyUyOCc6ICcoJyxcblx0XHRcdFx0XHQnJTI5JzogJyknLFxuXHRcdFx0XHRcdCclMkEnOiAnKicsXG5cdFx0XHRcdFx0JyUyQic6ICcrJyxcblx0XHRcdFx0XHQnJTJDJzogJywnLFxuXHRcdFx0XHRcdCclM0InOiAnOycsXG5cdFx0XHRcdFx0JyUzRCc6ICc9Jyxcblx0XHRcdFx0XHQnJTQwJzogJ0AnXG5cdFx0XHRcdH1cblx0XHRcdH0sXG5cdFx0XHQvLyBUaGVzZSBjaGFyYWN0ZXJzIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQzIxNDEgYXMgXCJyZXNlcnZlZFwiIGNoYXJhY3RlcnMgdGhhdFxuXHRcdFx0Ly8gc2hvdWxkIG5ldmVyIGFwcGVhciBpbiBhIFVSTiwgcGx1cyB0aGUgY29sb24gY2hhcmFjdGVyIChzZWUgbm90ZSBhYm92ZSkuXG5cdFx0XHRkZWNvZGU6IHtcblx0XHRcdFx0ZXhwcmVzc2lvbjogL1tcXC9cXD8jOl0vZyxcblx0XHRcdFx0bWFwOiB7XG5cdFx0XHRcdFx0Jy8nOiAnJTJGJyxcblx0XHRcdFx0XHQnPyc6ICclM0YnLFxuXHRcdFx0XHRcdCcjJzogJyUyMycsXG5cdFx0XHRcdFx0JzonOiAnJTNBJ1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXHRVUkkuZW5jb2RlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHtcblx0XHR2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpO1xuXHRcdGlmIChlc2NhcGVRdWVyeVNwYWNlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZXNjYXBlUXVlcnlTcGFjZSA/IGVzY2FwZWQucmVwbGFjZSgvJTIwL2csICcrJykgOiBlc2NhcGVkO1xuXHR9O1xuXHRVUkkuZGVjb2RlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHtcblx0XHRzdHJpbmcgKz0gJyc7XG5cdFx0aWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZXNjYXBlUXVlcnlTcGFjZSA9IFVSSS5lc2NhcGVRdWVyeVNwYWNlO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gVVJJLmRlY29kZShlc2NhcGVRdWVyeVNwYWNlID8gc3RyaW5nLnJlcGxhY2UoL1xcKy9nLCAnJTIwJykgOiBzdHJpbmcpO1xuXHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0Ly8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsXG5cdFx0XHQvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmdcblx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvODdcblx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTJcblx0XHRcdHJldHVybiBzdHJpbmc7XG5cdFx0fVxuXHR9O1xuXHQvLyBnZW5lcmF0ZSBlbmNvZGUvZGVjb2RlIHBhdGggZnVuY3Rpb25zXG5cdHZhciBfcGFydHMgPSB7J2VuY29kZSc6J2VuY29kZScsICdkZWNvZGUnOidkZWNvZGUnfTtcblx0dmFyIF9wYXJ0O1xuXHR2YXIgZ2VuZXJhdGVBY2Nlc3NvciA9IGZ1bmN0aW9uKF9ncm91cCwgX3BhcnQpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRyZXR1cm4gVVJJW19wYXJ0XShzdHJpbmcgKyAnJykucmVwbGFjZShVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5leHByZXNzaW9uLCBmdW5jdGlvbihjKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLm1hcFtjXTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLFxuXHRcdFx0XHQvLyBnaXZlIHVwIGFuZCByZXR1cm4gdGhlIHVuZGVjb2RlZCBvcmlnaW5hbCBzdHJpbmdcblx0XHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84N1xuXHRcdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyXG5cdFx0XHRcdHJldHVybiBzdHJpbmc7XG5cdFx0XHR9XG5cdFx0fTtcblx0fTtcblxuXHRmb3IgKF9wYXJ0IGluIF9wYXJ0cykge1xuXHRcdFVSSVtfcGFydCArICdQYXRoU2VnbWVudCddID0gZ2VuZXJhdGVBY2Nlc3NvcigncGF0aG5hbWUnLCBfcGFydHNbX3BhcnRdKTtcblx0XHRVUklbX3BhcnQgKyAnVXJuUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3VybnBhdGgnLCBfcGFydHNbX3BhcnRdKTtcblx0fVxuXG5cdHZhciBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbiA9IGZ1bmN0aW9uKF9zZXAsIF9jb2RpbmdGdW5jTmFtZSwgX2lubmVyQ29kaW5nRnVuY05hbWUpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHQvLyBXaHkgcGFzcyBpbiBuYW1lcyBvZiBmdW5jdGlvbnMsIHJhdGhlciB0aGFuIHRoZSBmdW5jdGlvbiBvYmplY3RzIHRoZW1zZWx2ZXM/IFRoZVxuXHRcdFx0Ly8gZGVmaW5pdGlvbnMgb2Ygc29tZSBmdW5jdGlvbnMgKGJ1dCBpbiBwYXJ0aWN1bGFyLCBVUkkuZGVjb2RlKSB3aWxsIG9jY2FzaW9uYWxseSBjaGFuZ2UgZHVlXG5cdFx0XHQvLyB0byBVUkkuanMgaGF2aW5nIElTTzg4NTkgYW5kIFVuaWNvZGUgbW9kZXMuIFBhc3NpbmcgaW4gdGhlIG5hbWUgYW5kIGdldHRpbmcgaXQgd2lsbCBlbnN1cmVcblx0XHRcdC8vIHRoYXQgdGhlIGZ1bmN0aW9ucyB3ZSB1c2UgaGVyZSBhcmUgXCJmcmVzaFwiLlxuXHRcdFx0dmFyIGFjdHVhbENvZGluZ0Z1bmM7XG5cdFx0XHRpZiAoIV9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7XG5cdFx0XHRcdGFjdHVhbENvZGluZ0Z1bmMgPSBVUklbX2NvZGluZ0Z1bmNOYW1lXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGFjdHVhbENvZGluZ0Z1bmMgPSBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdFx0XHRyZXR1cm4gVVJJW19jb2RpbmdGdW5jTmFtZV0oVVJJW19pbm5lckNvZGluZ0Z1bmNOYW1lXShzdHJpbmcpKTtcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHNlZ21lbnRzID0gKHN0cmluZyArICcnKS5zcGxpdChfc2VwKTtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IHNlZ21lbnRzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHNlZ21lbnRzW2ldID0gYWN0dWFsQ29kaW5nRnVuYyhzZWdtZW50c1tpXSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZWdtZW50cy5qb2luKF9zZXApO1xuXHRcdH07XG5cdH07XG5cblx0Ly8gVGhpcyB0YWtlcyBwbGFjZSBvdXRzaWRlIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCwgZS5nLiwgZW5jb2RlVXJuUGF0aCBmdW5jdGlvbnMuXG5cdFVSSS5kZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZGVjb2RlUGF0aFNlZ21lbnQnKTtcblx0VVJJLmRlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdkZWNvZGVVcm5QYXRoU2VnbWVudCcpO1xuXHRVUkkucmVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2VuY29kZVBhdGhTZWdtZW50JywgJ2RlY29kZScpO1xuXHRVUkkucmVjb2RlVXJuUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCc6JywgJ2VuY29kZVVyblBhdGhTZWdtZW50JywgJ2RlY29kZScpO1xuXG5cdFVSSS5lbmNvZGVSZXNlcnZlZCA9IGdlbmVyYXRlQWNjZXNzb3IoJ3Jlc2VydmVkJywgJ2VuY29kZScpO1xuXG5cdFVSSS5wYXJzZSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHtcblx0XHR2YXIgcG9zO1xuXHRcdGlmICghcGFydHMpIHtcblx0XHRcdHBhcnRzID0ge307XG5cdFx0fVxuXHRcdC8vIFtwcm90b2NvbFwiOi8vXCJbdXNlcm5hbWVbXCI6XCJwYXNzd29yZF1cIkBcIl1ob3N0bmFtZVtcIjpcInBvcnRdXCIvXCI/XVtwYXRoXVtcIj9cInF1ZXJ5c3RyaW5nXVtcIiNcImZyYWdtZW50XVxuXG5cdFx0Ly8gZXh0cmFjdCBmcmFnbWVudFxuXHRcdHBvcyA9IHN0cmluZy5pbmRleE9mKCcjJyk7XG5cdFx0aWYgKHBvcyA+IC0xKSB7XG5cdFx0XHQvLyBlc2NhcGluZz9cblx0XHRcdHBhcnRzLmZyYWdtZW50ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsO1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpO1xuXHRcdH1cblxuXHRcdC8vIGV4dHJhY3QgcXVlcnlcblx0XHRwb3MgPSBzdHJpbmcuaW5kZXhPZignPycpO1xuXHRcdGlmIChwb3MgPiAtMSkge1xuXHRcdFx0Ly8gZXNjYXBpbmc/XG5cdFx0XHRwYXJ0cy5xdWVyeSA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDtcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTtcblx0XHR9XG5cblx0XHQvLyBleHRyYWN0IHByb3RvY29sXG5cdFx0aWYgKHN0cmluZy5zdWJzdHJpbmcoMCwgMikgPT09ICcvLycpIHtcblx0XHRcdC8vIHJlbGF0aXZlLXNjaGVtZVxuXHRcdFx0cGFydHMucHJvdG9jb2wgPSBudWxsO1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygyKTtcblx0XHRcdC8vIGV4dHJhY3QgXCJ1c2VyOnBhc3NAaG9zdDpwb3J0XCJcblx0XHRcdHN0cmluZyA9IFVSSS5wYXJzZUF1dGhvcml0eShzdHJpbmcsIHBhcnRzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cG9zID0gc3RyaW5nLmluZGV4T2YoJzonKTtcblx0XHRcdGlmIChwb3MgPiAtMSkge1xuXHRcdFx0XHRwYXJ0cy5wcm90b2NvbCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsO1xuXHRcdFx0XHRpZiAocGFydHMucHJvdG9jb2wgJiYgIXBhcnRzLnByb3RvY29sLm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkge1xuXHRcdFx0XHRcdC8vIDogbWF5IGJlIHdpdGhpbiB0aGUgcGF0aFxuXHRcdFx0XHRcdHBhcnRzLnByb3RvY29sID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSwgcG9zICsgMykgPT09ICcvLycpIHtcblx0XHRcdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDMpO1xuXG5cdFx0XHRcdFx0Ly8gZXh0cmFjdCBcInVzZXI6cGFzc0Bob3N0OnBvcnRcIlxuXHRcdFx0XHRcdHN0cmluZyA9IFVSSS5wYXJzZUF1dGhvcml0eShzdHJpbmcsIHBhcnRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpO1xuXHRcdFx0XHRcdHBhcnRzLnVybiA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyB3aGF0J3MgbGVmdCBtdXN0IGJlIHRoZSBwYXRoXG5cdFx0cGFydHMucGF0aCA9IHN0cmluZztcblxuXHRcdC8vIGFuZCB3ZSdyZSBkb25lXG5cdFx0cmV0dXJuIHBhcnRzO1xuXHR9O1xuXHRVUkkucGFyc2VIb3N0ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykge1xuXHRcdC8vIENvcHkgY2hyb21lLCBJRSwgb3BlcmEgYmFja3NsYXNoLWhhbmRsaW5nIGJlaGF2aW9yLlxuXHRcdC8vIEJhY2sgc2xhc2hlcyBiZWZvcmUgdGhlIHF1ZXJ5IHN0cmluZyBnZXQgY29udmVydGVkIHRvIGZvcndhcmQgc2xhc2hlc1xuXHRcdC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNFxuXHRcdC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvcHVsbC8yMzNcblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuXG5cdFx0Ly8gZXh0cmFjdCBob3N0OnBvcnRcblx0XHR2YXIgcG9zID0gc3RyaW5nLmluZGV4T2YoJy8nKTtcblx0XHR2YXIgYnJhY2tldFBvcztcblx0XHR2YXIgdDtcblxuXHRcdGlmIChwb3MgPT09IC0xKSB7XG5cdFx0XHRwb3MgPSBzdHJpbmcubGVuZ3RoO1xuXHRcdH1cblxuXHRcdGlmIChzdHJpbmcuY2hhckF0KDApID09PSAnWycpIHtcblx0XHRcdC8vIElQdjYgaG9zdCAtIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQjc2VjdGlvbi02XG5cdFx0XHQvLyBJIGNsYWltIG1vc3QgY2xpZW50IHNvZnR3YXJlIGJyZWFrcyBvbiBJUHY2IGFueXdheXMuIFRvIHNpbXBsaWZ5IHRoaW5ncywgVVJJIG9ubHkgYWNjZXB0c1xuXHRcdFx0Ly8gSVB2Nitwb3J0IGluIHRoZSBmb3JtYXQgWzIwMDE6ZGI4OjoxXTo4MCAoZm9yIHRoZSB0aW1lIGJlaW5nKVxuXHRcdFx0YnJhY2tldFBvcyA9IHN0cmluZy5pbmRleE9mKCddJyk7XG5cdFx0XHRwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMSwgYnJhY2tldFBvcykgfHwgbnVsbDtcblx0XHRcdHBhcnRzLnBvcnQgPSBzdHJpbmcuc3Vic3RyaW5nKGJyYWNrZXRQb3MgKyAyLCBwb3MpIHx8IG51bGw7XG5cdFx0XHRpZiAocGFydHMucG9ydCA9PT0gJy8nKSB7XG5cdFx0XHRcdHBhcnRzLnBvcnQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZmlyc3RDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6Jyk7XG5cdFx0XHR2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7XG5cdFx0XHR2YXIgbmV4dENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonLCBmaXJzdENvbG9uICsgMSk7XG5cdFx0XHRpZiAobmV4dENvbG9uICE9PSAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgbmV4dENvbG9uIDwgZmlyc3RTbGFzaCkpIHtcblx0XHRcdFx0Ly8gSVB2NiBob3N0IGNvbnRhaW5zIG11bHRpcGxlIGNvbG9ucyAtIGJ1dCBubyBwb3J0XG5cdFx0XHRcdC8vIHRoaXMgbm90YXRpb24gaXMgYWN0dWFsbHkgbm90IGFsbG93ZWQgYnkgUkZDIDM5ODYsIGJ1dCB3ZSdyZSBhIGxpYmVyYWwgcGFyc2VyXG5cdFx0XHRcdHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7XG5cdFx0XHRcdHBhcnRzLnBvcnQgPSBudWxsO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpO1xuXHRcdFx0XHRwYXJ0cy5ob3N0bmFtZSA9IHRbMF0gfHwgbnVsbDtcblx0XHRcdFx0cGFydHMucG9ydCA9IHRbMV0gfHwgbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocGFydHMuaG9zdG5hbWUgJiYgc3RyaW5nLnN1YnN0cmluZyhwb3MpLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHRwb3MrKztcblx0XHRcdHN0cmluZyA9ICcvJyArIHN0cmluZztcblx0XHR9XG5cblx0XHRyZXR1cm4gc3RyaW5nLnN1YnN0cmluZyhwb3MpIHx8ICcvJztcblx0fTtcblx0VVJJLnBhcnNlQXV0aG9yaXR5ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykge1xuXHRcdHN0cmluZyA9IFVSSS5wYXJzZVVzZXJpbmZvKHN0cmluZywgcGFydHMpO1xuXHRcdHJldHVybiBVUkkucGFyc2VIb3N0KHN0cmluZywgcGFydHMpO1xuXHR9O1xuXHRVUkkucGFyc2VVc2VyaW5mbyA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHtcblx0XHQvLyBleHRyYWN0IHVzZXJuYW1lOnBhc3N3b3JkXG5cdFx0dmFyIGZpcnN0U2xhc2ggPSBzdHJpbmcuaW5kZXhPZignLycpO1xuXHRcdHZhciBwb3MgPSBzdHJpbmcubGFzdEluZGV4T2YoJ0AnLCBmaXJzdFNsYXNoID4gLTEgPyBmaXJzdFNsYXNoIDogc3RyaW5nLmxlbmd0aCAtIDEpO1xuXHRcdHZhciB0O1xuXG5cdFx0Ly8gYXV0aG9yaXR5QCBtdXN0IGNvbWUgYmVmb3JlIC9wYXRoXG5cdFx0aWYgKHBvcyA+IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBwb3MgPCBmaXJzdFNsYXNoKSkge1xuXHRcdFx0dCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKS5zcGxpdCgnOicpO1xuXHRcdFx0cGFydHMudXNlcm5hbWUgPSB0WzBdID8gVVJJLmRlY29kZSh0WzBdKSA6IG51bGw7XG5cdFx0XHR0LnNoaWZ0KCk7XG5cdFx0XHRwYXJ0cy5wYXNzd29yZCA9IHRbMF0gPyBVUkkuZGVjb2RlKHQuam9pbignOicpKSA6IG51bGw7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXJ0cy51c2VybmFtZSA9IG51bGw7XG5cdFx0XHRwYXJ0cy5wYXNzd29yZCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN0cmluZztcblx0fTtcblx0VVJJLnBhcnNlUXVlcnkgPSBmdW5jdGlvbihzdHJpbmcsIGVzY2FwZVF1ZXJ5U3BhY2UpIHtcblx0XHRpZiAoIXN0cmluZykge1xuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblxuXHRcdC8vIHRocm93IG91dCB0aGUgZnVua3kgYnVzaW5lc3MgLSBcIj9cIltuYW1lXCI9XCJ2YWx1ZVwiJlwiXStcblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvJisvZywgJyYnKS5yZXBsYWNlKC9eXFw/KiYqfCYrJC9nLCAnJyk7XG5cblx0XHRpZiAoIXN0cmluZykge1xuXHRcdFx0cmV0dXJuIHt9O1xuXHRcdH1cblxuXHRcdHZhciBpdGVtcyA9IHt9O1xuXHRcdHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTtcblx0XHR2YXIgbGVuZ3RoID0gc3BsaXRzLmxlbmd0aDtcblx0XHR2YXIgdiwgbmFtZSwgdmFsdWU7XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2ID0gc3BsaXRzW2ldLnNwbGl0KCc9Jyk7XG5cdFx0XHRuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0XHQvLyBubyBcIj1cIiBpcyBudWxsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbGxlY3QtdXJsLXBhcmFtZXRlcnNcblx0XHRcdHZhbHVlID0gdi5sZW5ndGggPyBVUkkuZGVjb2RlUXVlcnkodi5qb2luKCc9JyksIGVzY2FwZVF1ZXJ5U3BhY2UpIDogbnVsbDtcblxuXHRcdFx0aWYgKGhhc093bi5jYWxsKGl0ZW1zLCBuYW1lKSkge1xuXHRcdFx0XHRpZiAodHlwZW9mIGl0ZW1zW25hbWVdID09PSAnc3RyaW5nJyB8fCBpdGVtc1tuYW1lXSA9PT0gbnVsbCkge1xuXHRcdFx0XHRcdGl0ZW1zW25hbWVdID0gW2l0ZW1zW25hbWVdXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGl0ZW1zW25hbWVdLnB1c2godmFsdWUpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aXRlbXNbbmFtZV0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gaXRlbXM7XG5cdH07XG5cblx0VVJJLmJ1aWxkID0gZnVuY3Rpb24ocGFydHMpIHtcblx0XHR2YXIgdCA9ICcnO1xuXG5cdFx0aWYgKHBhcnRzLnByb3RvY29sKSB7XG5cdFx0XHR0ICs9IHBhcnRzLnByb3RvY29sICsgJzonO1xuXHRcdH1cblxuXHRcdGlmICghcGFydHMudXJuICYmICh0IHx8IHBhcnRzLmhvc3RuYW1lKSkge1xuXHRcdFx0dCArPSAnLy8nO1xuXHRcdH1cblxuXHRcdHQgKz0gKFVSSS5idWlsZEF1dGhvcml0eShwYXJ0cykgfHwgJycpO1xuXG5cdFx0aWYgKHR5cGVvZiBwYXJ0cy5wYXRoID09PSAnc3RyaW5nJykge1xuXHRcdFx0aWYgKHBhcnRzLnBhdGguY2hhckF0KDApICE9PSAnLycgJiYgdHlwZW9mIHBhcnRzLmhvc3RuYW1lID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHR0ICs9ICcvJztcblx0XHRcdH1cblxuXHRcdFx0dCArPSBwYXJ0cy5wYXRoO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgcGFydHMucXVlcnkgPT09ICdzdHJpbmcnICYmIHBhcnRzLnF1ZXJ5KSB7XG5cdFx0XHR0ICs9ICc/JyArIHBhcnRzLnF1ZXJ5O1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgcGFydHMuZnJhZ21lbnQgPT09ICdzdHJpbmcnICYmIHBhcnRzLmZyYWdtZW50KSB7XG5cdFx0XHR0ICs9ICcjJyArIHBhcnRzLmZyYWdtZW50O1xuXHRcdH1cblx0XHRyZXR1cm4gdDtcblx0fTtcblx0VVJJLmJ1aWxkSG9zdCA9IGZ1bmN0aW9uKHBhcnRzKSB7XG5cdFx0dmFyIHQgPSAnJztcblxuXHRcdGlmICghcGFydHMuaG9zdG5hbWUpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9IGVsc2UgaWYgKFVSSS5pcDZfZXhwcmVzc2lvbi50ZXN0KHBhcnRzLmhvc3RuYW1lKSkge1xuXHRcdFx0dCArPSAnWycgKyBwYXJ0cy5ob3N0bmFtZSArICddJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dCArPSBwYXJ0cy5ob3N0bmFtZTtcblx0XHR9XG5cblx0XHRpZiAocGFydHMucG9ydCkge1xuXHRcdFx0dCArPSAnOicgKyBwYXJ0cy5wb3J0O1xuXHRcdH1cblxuXHRcdHJldHVybiB0O1xuXHR9O1xuXHRVUkkuYnVpbGRBdXRob3JpdHkgPSBmdW5jdGlvbihwYXJ0cykge1xuXHRcdHJldHVybiBVUkkuYnVpbGRVc2VyaW5mbyhwYXJ0cykgKyBVUkkuYnVpbGRIb3N0KHBhcnRzKTtcblx0fTtcblx0VVJJLmJ1aWxkVXNlcmluZm8gPSBmdW5jdGlvbihwYXJ0cykge1xuXHRcdHZhciB0ID0gJyc7XG5cblx0XHRpZiAocGFydHMudXNlcm5hbWUpIHtcblx0XHRcdHQgKz0gVVJJLmVuY29kZShwYXJ0cy51c2VybmFtZSk7XG5cblx0XHRcdGlmIChwYXJ0cy5wYXNzd29yZCkge1xuXHRcdFx0XHR0ICs9ICc6JyArIFVSSS5lbmNvZGUocGFydHMucGFzc3dvcmQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0ICs9ICdAJztcblx0XHR9XG5cblx0XHRyZXR1cm4gdDtcblx0fTtcblx0VVJJLmJ1aWxkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIGVzY2FwZVF1ZXJ5U3BhY2UpIHtcblx0XHQvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiBvciBodHRwOi8vbGFicy5hcGFjaGUub3JnL3dlYmFyY2gvdXJpL3JmYy9yZmMzOTg2Lmh0bWxcblx0XHQvLyBiZWluZyDCuy0uX34hJCYnKCkqKyw7PTpALz/CqyAlSEVYIGFuZCBhbG51bSBhcmUgYWxsb3dlZFxuXHRcdC8vIHRoZSBSRkMgZXhwbGljaXRseSBzdGF0ZXMgPy9mb28gYmVpbmcgYSB2YWxpZCB1c2UgY2FzZSwgbm8gbWVudGlvbiBvZiBwYXJhbWV0ZXIgc3ludGF4IVxuXHRcdC8vIFVSSS5qcyB0cmVhdHMgdGhlIHF1ZXJ5IHN0cmluZyBhcyBiZWluZyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcblx0XHQvLyBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MC9pbnRlcmFjdC9mb3Jtcy5odG1sI2Zvcm0tY29udGVudC10eXBlXG5cblx0XHR2YXIgdCA9ICcnO1xuXHRcdHZhciB1bmlxdWUsIGtleSwgaSwgbGVuZ3RoO1xuXHRcdGZvciAoa2V5IGluIGRhdGEpIHtcblx0XHRcdGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpICYmIGtleSkge1xuXHRcdFx0XHRpZiAoaXNBcnJheShkYXRhW2tleV0pKSB7XG5cdFx0XHRcdFx0dW5pcXVlID0ge307XG5cdFx0XHRcdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gZGF0YVtrZXldLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRpZiAoZGF0YVtrZXldW2ldICE9PSB1bmRlZmluZWQgJiYgdW5pcXVlW2RhdGFba2V5XVtpXSArICcnXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0XHRcdHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV1baV0sIGVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFx0XHRcdFx0XHRpZiAoZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzICE9PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dW5pcXVlW2RhdGFba2V5XVtpXSArICcnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHR0ICs9ICcmJyArIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyKGtleSwgZGF0YVtrZXldLCBlc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0LnN1YnN0cmluZygxKTtcblx0fTtcblx0VVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgZXNjYXBlUXVlcnlTcGFjZSkge1xuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZSAtLSBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcblx0XHQvLyBkb24ndCBhcHBlbmQgXCI9XCIgZm9yIG51bGwgdmFsdWVzLCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCN1cmwtcGFyYW1ldGVyLXNlcmlhbGl6YXRpb25cblx0XHRyZXR1cm4gVVJJLmVuY29kZVF1ZXJ5KG5hbWUsIGVzY2FwZVF1ZXJ5U3BhY2UpICsgKHZhbHVlICE9PSBudWxsID8gJz0nICsgVVJJLmVuY29kZVF1ZXJ5KHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSA6ICcnKTtcblx0fTtcblxuXHRVUkkuYWRkUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSkge1xuXHRcdGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBuYW1lKSB7XG5cdFx0XHRcdGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7XG5cdFx0XHRcdFx0VVJJLmFkZFF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRpZiAoZGF0YVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGRhdGFbbmFtZV0gPSB2YWx1ZTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgZGF0YVtuYW1lXSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0ZGF0YVtuYW1lXSA9IFtkYXRhW25hbWVdXTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFpc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0XHR2YWx1ZSA9IFt2YWx1ZV07XG5cdFx0XHR9XG5cblx0XHRcdGRhdGFbbmFtZV0gPSAoZGF0YVtuYW1lXSB8fCBbXSkuY29uY2F0KHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTtcblx0XHR9XG5cdH07XG5cdFVSSS5yZW1vdmVRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7XG5cdFx0dmFyIGksIGxlbmd0aCwga2V5O1xuXG5cdFx0aWYgKGlzQXJyYXkobmFtZSkpIHtcblx0XHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IG5hbWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0ZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGdldFR5cGUobmFtZSkgPT09ICdSZWdFeHAnKSB7XG5cdFx0XHRmb3IgKGtleSBpbiBkYXRhKSB7XG5cdFx0XHRcdGlmIChuYW1lLnRlc3Qoa2V5KSkge1xuXHRcdFx0XHRcdGRhdGFba2V5XSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRmb3IgKGtleSBpbiBuYW1lKSB7XG5cdFx0XHRcdGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7XG5cdFx0XHRcdFx0VVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRpZiAoZ2V0VHlwZSh2YWx1ZSkgPT09ICdSZWdFeHAnKSB7XG5cdFx0XHRcdFx0aWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pICYmIHZhbHVlLnRlc3QoZGF0YVtuYW1lXSkpIHtcblx0XHRcdFx0XHRcdGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGFbbmFtZV0gPT09IFN0cmluZyh2YWx1ZSkgJiYgKCFpc0FycmF5KHZhbHVlKSB8fCB2YWx1ZS5sZW5ndGggPT09IDEpKSB7XG5cdFx0XHRcdFx0ZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7XG5cdFx0XHRcdFx0ZGF0YVtuYW1lXSA9IGZpbHRlckFycmF5VmFsdWVzKGRhdGFbbmFtZV0sIHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLnJlbW92ZVF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZywgUmVnRXhwIGFzIHRoZSBmaXJzdCBwYXJhbWV0ZXInKTtcblx0XHR9XG5cdH07XG5cdFVSSS5oYXNRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSkge1xuXHRcdGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBuYW1lKSB7XG5cdFx0XHRcdGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7XG5cdFx0XHRcdFx0aWYgKCFVUkkuaGFzUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpO1xuXHRcdH1cblxuXHRcdHN3aXRjaCAoZ2V0VHlwZSh2YWx1ZSkpIHtcblx0XHRcdGNhc2UgJ1VuZGVmaW5lZCc6XG5cdFx0XHRcdC8vIHRydWUgaWYgZXhpc3RzIChidXQgbWF5IGJlIGVtcHR5KVxuXHRcdFx0XHRyZXR1cm4gbmFtZSBpbiBkYXRhOyAvLyBkYXRhW25hbWVdICE9PSB1bmRlZmluZWQ7XG5cblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHQvLyB0cnVlIGlmIGV4aXN0cyBhbmQgbm9uLWVtcHR5XG5cdFx0XHRcdHZhciBfYm9vbHkgPSBCb29sZWFuKGlzQXJyYXkoZGF0YVtuYW1lXSkgPyBkYXRhW25hbWVdLmxlbmd0aCA6IGRhdGFbbmFtZV0pO1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IF9ib29seTtcblxuXHRcdFx0Y2FzZSAnRnVuY3Rpb24nOlxuXHRcdFx0XHQvLyBhbGxvdyBjb21wbGV4IGNvbXBhcmlzb25cblx0XHRcdFx0cmV0dXJuICEhdmFsdWUoZGF0YVtuYW1lXSwgbmFtZSwgZGF0YSk7XG5cblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0aWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIG9wID0gd2l0aGluQXJyYXkgPyBhcnJheUNvbnRhaW5zIDogYXJyYXlzRXF1YWw7XG5cdFx0XHRcdHJldHVybiBvcChkYXRhW25hbWVdLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgJ1JlZ0V4cCc6XG5cdFx0XHRcdGlmICghaXNBcnJheShkYXRhW25hbWVdKSkge1xuXHRcdFx0XHRcdHJldHVybiBCb29sZWFuKGRhdGFbbmFtZV0gJiYgZGF0YVtuYW1lXS5tYXRjaCh2YWx1ZSkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCF3aXRoaW5BcnJheSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBhcnJheUNvbnRhaW5zKGRhdGFbbmFtZV0sIHZhbHVlKTtcblxuXHRcdFx0Y2FzZSAnTnVtYmVyJzpcblx0XHRcdFx0dmFsdWUgPSBTdHJpbmcodmFsdWUpO1xuXHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xuXHRcdFx0Y2FzZSAnU3RyaW5nJzpcblx0XHRcdFx0aWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGRhdGFbbmFtZV0gPT09IHZhbHVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCF3aXRoaW5BcnJheSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBhcnJheUNvbnRhaW5zKGRhdGFbbmFtZV0sIHZhbHVlKTtcblxuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyB1bmRlZmluZWQsIGJvb2xlYW4sIHN0cmluZywgbnVtYmVyLCBSZWdFeHAsIEZ1bmN0aW9uIGFzIHRoZSB2YWx1ZSBwYXJhbWV0ZXInKTtcblx0XHR9XG5cdH07XG5cblxuXHRVUkkuY29tbW9uUGF0aCA9IGZ1bmN0aW9uKG9uZSwgdHdvKSB7XG5cdFx0dmFyIGxlbmd0aCA9IE1hdGgubWluKG9uZS5sZW5ndGgsIHR3by5sZW5ndGgpO1xuXHRcdHZhciBwb3M7XG5cblx0XHQvLyBmaW5kIGZpcnN0IG5vbi1tYXRjaGluZyBjaGFyYWN0ZXJcblx0XHRmb3IgKHBvcyA9IDA7IHBvcyA8IGxlbmd0aDsgcG9zKyspIHtcblx0XHRcdGlmIChvbmUuY2hhckF0KHBvcykgIT09IHR3by5jaGFyQXQocG9zKSkge1xuXHRcdFx0XHRwb3MtLTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHBvcyA8IDEpIHtcblx0XHRcdHJldHVybiBvbmUuY2hhckF0KDApID09PSB0d28uY2hhckF0KDApICYmIG9uZS5jaGFyQXQoMCkgPT09ICcvJyA/ICcvJyA6ICcnO1xuXHRcdH1cblxuXHRcdC8vIHJldmVydCB0byBsYXN0IC9cblx0XHRpZiAob25lLmNoYXJBdChwb3MpICE9PSAnLycgfHwgdHdvLmNoYXJBdChwb3MpICE9PSAnLycpIHtcblx0XHRcdHBvcyA9IG9uZS5zdWJzdHJpbmcoMCwgcG9zKS5sYXN0SW5kZXhPZignLycpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvbmUuc3Vic3RyaW5nKDAsIHBvcyArIDEpO1xuXHR9O1xuXG5cdFVSSS53aXRoaW5TdHJpbmcgPSBmdW5jdGlvbihzdHJpbmcsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG5cdFx0b3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcblx0XHR2YXIgX3N0YXJ0ID0gb3B0aW9ucy5zdGFydCB8fCBVUkkuZmluZFVyaS5zdGFydDtcblx0XHR2YXIgX2VuZCA9IG9wdGlvbnMuZW5kIHx8IFVSSS5maW5kVXJpLmVuZDtcblx0XHR2YXIgX3RyaW0gPSBvcHRpb25zLnRyaW0gfHwgVVJJLmZpbmRVcmkudHJpbTtcblx0XHR2YXIgX2F0dHJpYnV0ZU9wZW4gPSAvW2EtejAtOS1dPVtcIiddPyQvaTtcblxuXHRcdF9zdGFydC5sYXN0SW5kZXggPSAwO1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHR2YXIgbWF0Y2ggPSBfc3RhcnQuZXhlYyhzdHJpbmcpO1xuXHRcdFx0aWYgKCFtYXRjaCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0dmFyIHN0YXJ0ID0gbWF0Y2guaW5kZXg7XG5cdFx0XHRpZiAob3B0aW9ucy5pZ25vcmVIdG1sKSB7XG5cdFx0XHRcdC8vIGF0dHJpYnV0KGU9W1wiJ10/JClcblx0XHRcdFx0dmFyIGF0dHJpYnV0ZU9wZW4gPSBzdHJpbmcuc2xpY2UoTWF0aC5tYXgoc3RhcnQgLSAzLCAwKSwgc3RhcnQpO1xuXHRcdFx0XHRpZiAoYXR0cmlidXRlT3BlbiAmJiBfYXR0cmlidXRlT3Blbi50ZXN0KGF0dHJpYnV0ZU9wZW4pKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dmFyIGVuZCA9IHN0YXJ0ICsgc3RyaW5nLnNsaWNlKHN0YXJ0KS5zZWFyY2goX2VuZCk7XG5cdFx0XHR2YXIgc2xpY2UgPSBzdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCkucmVwbGFjZShfdHJpbSwgJycpO1xuXHRcdFx0aWYgKG9wdGlvbnMuaWdub3JlICYmIG9wdGlvbnMuaWdub3JlLnRlc3Qoc2xpY2UpKSB7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRlbmQgPSBzdGFydCArIHNsaWNlLmxlbmd0aDtcblx0XHRcdHZhciByZXN1bHQgPSBjYWxsYmFjayhzbGljZSwgc3RhcnQsIGVuZCwgc3RyaW5nKTtcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zbGljZSgwLCBzdGFydCkgKyByZXN1bHQgKyBzdHJpbmcuc2xpY2UoZW5kKTtcblx0XHRcdF9zdGFydC5sYXN0SW5kZXggPSBzdGFydCArIHJlc3VsdC5sZW5ndGg7XG5cdFx0fVxuXG5cdFx0X3N0YXJ0Lmxhc3RJbmRleCA9IDA7XG5cdFx0cmV0dXJuIHN0cmluZztcblx0fTtcblxuXHRVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSA9IGZ1bmN0aW9uKHYpIHtcblx0XHQvLyBUaGVvcmV0aWNhbGx5IFVSSXMgYWxsb3cgcGVyY2VudC1lbmNvZGluZyBpbiBIb3N0bmFtZXMgKGFjY29yZGluZyB0byBSRkMgMzk4Nilcblx0XHQvLyB0aGV5IGFyZSBub3QgcGFydCBvZiBETlMgYW5kIHRoZXJlZm9yZSBpZ25vcmVkIGJ5IFVSSS5qc1xuXG5cdFx0aWYgKHYubWF0Y2goVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycykpIHtcblx0XHRcdC8vIHRlc3QgcHVueWNvZGVcblx0XHRcdGlmICghcHVueWNvZGUpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXSBhbmQgUHVueWNvZGUuanMgaXMgbm90IGF2YWlsYWJsZScpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocHVueWNvZGUudG9BU0NJSSh2KS5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8vIG5vQ29uZmxpY3Rcblx0VVJJLm5vQ29uZmxpY3QgPSBmdW5jdGlvbihyZW1vdmVBbGwpIHtcblx0XHRpZiAocmVtb3ZlQWxsKSB7XG5cdFx0XHR2YXIgdW5jb25mbGljdGVkID0ge1xuXHRcdFx0XHRVUkk6IHRoaXMubm9Db25mbGljdCgpXG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAocm9vdC5VUklUZW1wbGF0ZSAmJiB0eXBlb2Ygcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHVuY29uZmxpY3RlZC5VUklUZW1wbGF0ZSA9IHJvb3QuVVJJVGVtcGxhdGUubm9Db25mbGljdCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocm9vdC5JUHY2ICYmIHR5cGVvZiByb290LklQdjYubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR1bmNvbmZsaWN0ZWQuSVB2NiA9IHJvb3QuSVB2Ni5ub0NvbmZsaWN0KCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChyb290LlNlY29uZExldmVsRG9tYWlucyAmJiB0eXBlb2Ygcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR1bmNvbmZsaWN0ZWQuU2Vjb25kTGV2ZWxEb21haW5zID0gcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMubm9Db25mbGljdCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdW5jb25mbGljdGVkO1xuXHRcdH0gZWxzZSBpZiAocm9vdC5VUkkgPT09IHRoaXMpIHtcblx0XHRcdHJvb3QuVVJJID0gX1VSSTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRwLmJ1aWxkID0gZnVuY3Rpb24oZGVmZXJCdWlsZCkge1xuXHRcdGlmIChkZWZlckJ1aWxkID09PSB0cnVlKSB7XG5cdFx0XHR0aGlzLl9kZWZlcnJlZF9idWlsZCA9IHRydWU7XG5cdFx0fSBlbHNlIGlmIChkZWZlckJ1aWxkID09PSB1bmRlZmluZWQgfHwgdGhpcy5fZGVmZXJyZWRfYnVpbGQpIHtcblx0XHRcdHRoaXMuX3N0cmluZyA9IFVSSS5idWlsZCh0aGlzLl9wYXJ0cyk7XG5cdFx0XHR0aGlzLl9kZWZlcnJlZF9idWlsZCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdHAuY2xvbmUgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gbmV3IFVSSSh0aGlzKTtcblx0fTtcblxuXHRwLnZhbHVlT2YgPSBwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHRoaXMuYnVpbGQoZmFsc2UpLl9zdHJpbmc7XG5cdH07XG5cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKF9wYXJ0KXtcblx0XHRyZXR1cm4gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzW19wYXJ0XSA9IHYgfHwgbnVsbDtcblx0XHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcihfcGFydCwgX2tleSl7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9wYXJ0c1tfcGFydF0gfHwgJyc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAodiAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdHYgPSB2ICsgJyc7XG5cdFx0XHRcdFx0aWYgKHYuY2hhckF0KDApID09PSBfa2V5KSB7XG5cdFx0XHRcdFx0XHR2ID0gdi5zdWJzdHJpbmcoMSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5fcGFydHNbX3BhcnRdID0gdjtcblx0XHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0cC5wcm90b2NvbCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3Byb3RvY29sJyk7XG5cdHAudXNlcm5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCd1c2VybmFtZScpO1xuXHRwLnBhc3N3b3JkID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncGFzc3dvcmQnKTtcblx0cC5ob3N0bmFtZSA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ2hvc3RuYW1lJyk7XG5cdHAucG9ydCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3BvcnQnKTtcblx0cC5xdWVyeSA9IGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoJ3F1ZXJ5JywgJz8nKTtcblx0cC5mcmFnbWVudCA9IGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoJ2ZyYWdtZW50JywgJyMnKTtcblxuXHRwLnNlYXJjaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0dmFyIHQgPSB0aGlzLnF1ZXJ5KHYsIGJ1aWxkKTtcblx0XHRyZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCc/JyArIHQpIDogdDtcblx0fTtcblx0cC5oYXNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHR2YXIgdCA9IHRoaXMuZnJhZ21lbnQodiwgYnVpbGQpO1xuXHRcdHJldHVybiB0eXBlb2YgdCA9PT0gJ3N0cmluZycgJiYgdC5sZW5ndGggPyAoJyMnICsgdCkgOiB0O1xuXHR9O1xuXG5cdHAucGF0aG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkge1xuXHRcdFx0dmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGggfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpO1xuXHRcdFx0cmV0dXJuIHYgPyAodGhpcy5fcGFydHMudXJuID8gVVJJLmRlY29kZVVyblBhdGggOiBVUkkuZGVjb2RlUGF0aCkocmVzKSA6IHJlcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVVcm5QYXRoKHYpIDogJyc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVQYXRoKHYpIDogJy8nO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLnBhdGggPSBwLnBhdGhuYW1lO1xuXHRwLmhyZWYgPSBmdW5jdGlvbihocmVmLCBidWlsZCkge1xuXHRcdHZhciBrZXk7XG5cblx0XHRpZiAoaHJlZiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy50b1N0cmluZygpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3N0cmluZyA9ICcnO1xuXHRcdHRoaXMuX3BhcnRzID0gVVJJLl9wYXJ0cygpO1xuXG5cdFx0dmFyIF9VUkkgPSBocmVmIGluc3RhbmNlb2YgVVJJO1xuXHRcdHZhciBfb2JqZWN0ID0gdHlwZW9mIGhyZWYgPT09ICdvYmplY3QnICYmIChocmVmLmhvc3RuYW1lIHx8IGhyZWYucGF0aCB8fCBocmVmLnBhdGhuYW1lKTtcblx0XHRpZiAoaHJlZi5ub2RlTmFtZSkge1xuXHRcdFx0dmFyIGF0dHJpYnV0ZSA9IFVSSS5nZXREb21BdHRyaWJ1dGUoaHJlZik7XG5cdFx0XHRocmVmID0gaHJlZlthdHRyaWJ1dGVdIHx8ICcnO1xuXHRcdFx0X29iamVjdCA9IGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIHdpbmRvdy5sb2NhdGlvbiBpcyByZXBvcnRlZCB0byBiZSBhbiBvYmplY3QsIGJ1dCBpdCdzIG5vdCB0aGUgc29ydFxuXHRcdC8vIG9mIG9iamVjdCB3ZSdyZSBsb29raW5nIGZvcjpcblx0XHQvLyAqIGxvY2F0aW9uLnByb3RvY29sIGVuZHMgd2l0aCBhIGNvbG9uXG5cdFx0Ly8gKiBsb2NhdGlvbi5xdWVyeSAhPSBvYmplY3Quc2VhcmNoXG5cdFx0Ly8gKiBsb2NhdGlvbi5oYXNoICE9IG9iamVjdC5mcmFnbWVudFxuXHRcdC8vIHNpbXBseSBzZXJpYWxpemluZyB0aGUgdW5rbm93biBvYmplY3Qgc2hvdWxkIGRvIHRoZSB0cmlja1xuXHRcdC8vIChmb3IgbG9jYXRpb24sIG5vdCBmb3IgZXZlcnl0aGluZy4uLilcblx0XHRpZiAoIV9VUkkgJiYgX29iamVjdCAmJiBocmVmLnBhdGhuYW1lICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGhyZWYgPSBocmVmLnRvU3RyaW5nKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiBocmVmID09PSAnc3RyaW5nJyB8fCBocmVmIGluc3RhbmNlb2YgU3RyaW5nKSB7XG5cdFx0XHR0aGlzLl9wYXJ0cyA9IFVSSS5wYXJzZShTdHJpbmcoaHJlZiksIHRoaXMuX3BhcnRzKTtcblx0XHR9IGVsc2UgaWYgKF9VUkkgfHwgX29iamVjdCkge1xuXHRcdFx0dmFyIHNyYyA9IF9VUkkgPyBocmVmLl9wYXJ0cyA6IGhyZWY7XG5cdFx0XHRmb3IgKGtleSBpbiBzcmMpIHtcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKHRoaXMuX3BhcnRzLCBrZXkpKSB7XG5cdFx0XHRcdFx0dGhpcy5fcGFydHNba2V5XSA9IHNyY1trZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgaW5wdXQnKTtcblx0XHR9XG5cblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0Ly8gaWRlbnRpZmljYXRpb24gYWNjZXNzb3JzXG5cdHAuaXMgPSBmdW5jdGlvbih3aGF0KSB7XG5cdFx0dmFyIGlwID0gZmFsc2U7XG5cdFx0dmFyIGlwNCA9IGZhbHNlO1xuXHRcdHZhciBpcDYgPSBmYWxzZTtcblx0XHR2YXIgbmFtZSA9IGZhbHNlO1xuXHRcdHZhciBzbGQgPSBmYWxzZTtcblx0XHR2YXIgaWRuID0gZmFsc2U7XG5cdFx0dmFyIHB1bnljb2RlID0gZmFsc2U7XG5cdFx0dmFyIHJlbGF0aXZlID0gIXRoaXMuX3BhcnRzLnVybjtcblxuXHRcdGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkge1xuXHRcdFx0cmVsYXRpdmUgPSBmYWxzZTtcblx0XHRcdGlwNCA9IFVSSS5pcDRfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcblx0XHRcdGlwNiA9IFVSSS5pcDZfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcblx0XHRcdGlwID0gaXA0IHx8IGlwNjtcblx0XHRcdG5hbWUgPSAhaXA7XG5cdFx0XHRzbGQgPSBuYW1lICYmIFNMRCAmJiBTTEQuaGFzKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcblx0XHRcdGlkbiA9IG5hbWUgJiYgVVJJLmlkbl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0cHVueWNvZGUgPSBuYW1lICYmIFVSSS5wdW55Y29kZV9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdH1cblxuXHRcdHN3aXRjaCAod2hhdC50b0xvd2VyQ2FzZSgpKSB7XG5cdFx0XHRjYXNlICdyZWxhdGl2ZSc6XG5cdFx0XHRcdHJldHVybiByZWxhdGl2ZTtcblxuXHRcdFx0Y2FzZSAnYWJzb2x1dGUnOlxuXHRcdFx0XHRyZXR1cm4gIXJlbGF0aXZlO1xuXG5cdFx0XHQvLyBob3N0bmFtZSBpZGVudGlmaWNhdGlvblxuXHRcdFx0Y2FzZSAnZG9tYWluJzpcblx0XHRcdGNhc2UgJ25hbWUnOlxuXHRcdFx0XHRyZXR1cm4gbmFtZTtcblxuXHRcdFx0Y2FzZSAnc2xkJzpcblx0XHRcdFx0cmV0dXJuIHNsZDtcblxuXHRcdFx0Y2FzZSAnaXAnOlxuXHRcdFx0XHRyZXR1cm4gaXA7XG5cblx0XHRcdGNhc2UgJ2lwNCc6XG5cdFx0XHRjYXNlICdpcHY0Jzpcblx0XHRcdGNhc2UgJ2luZXQ0Jzpcblx0XHRcdFx0cmV0dXJuIGlwNDtcblxuXHRcdFx0Y2FzZSAnaXA2Jzpcblx0XHRcdGNhc2UgJ2lwdjYnOlxuXHRcdFx0Y2FzZSAnaW5ldDYnOlxuXHRcdFx0XHRyZXR1cm4gaXA2O1xuXG5cdFx0XHRjYXNlICdpZG4nOlxuXHRcdFx0XHRyZXR1cm4gaWRuO1xuXG5cdFx0XHRjYXNlICd1cmwnOlxuXHRcdFx0XHRyZXR1cm4gIXRoaXMuX3BhcnRzLnVybjtcblxuXHRcdFx0Y2FzZSAndXJuJzpcblx0XHRcdFx0cmV0dXJuICEhdGhpcy5fcGFydHMudXJuO1xuXG5cdFx0XHRjYXNlICdwdW55Y29kZSc6XG5cdFx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fTtcblxuXHQvLyBjb21wb25lbnQgc3BlY2lmaWMgaW5wdXQgdmFsaWRhdGlvblxuXHR2YXIgX3Byb3RvY29sID0gcC5wcm90b2NvbDtcblx0dmFyIF9wb3J0ID0gcC5wb3J0O1xuXHR2YXIgX2hvc3RuYW1lID0gcC5ob3N0bmFtZTtcblxuXHRwLnByb3RvY29sID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAodikge1xuXHRcdFx0XHQvLyBhY2NlcHQgdHJhaWxpbmcgOi8vXG5cdFx0XHRcdHYgPSB2LnJlcGxhY2UoLzooXFwvXFwvKT8kLywgJycpO1xuXG5cdFx0XHRcdGlmICghdi5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm90b2NvbCBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05ListXSBvciBkb2VzblxcJ3Qgc3RhcnQgd2l0aCBbQS1aXScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBfcHJvdG9jb2wuY2FsbCh0aGlzLCB2LCBidWlsZCk7XG5cdH07XG5cdHAuc2NoZW1lID0gcC5wcm90b2NvbDtcblx0cC5wb3J0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICh2ID09PSAwKSB7XG5cdFx0XHRcdHYgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodikge1xuXHRcdFx0XHR2ICs9ICcnO1xuXHRcdFx0XHRpZiAodi5jaGFyQXQoMCkgPT09ICc6Jykge1xuXHRcdFx0XHRcdHYgPSB2LnN1YnN0cmluZygxKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1BvcnQgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gWzAtOV0nKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gX3BvcnQuY2FsbCh0aGlzLCB2LCBidWlsZCk7XG5cdH07XG5cdHAuaG9zdG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dmFyIHggPSB7fTtcblx0XHRcdHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHgpO1xuXHRcdFx0aWYgKHJlcyAhPT0gJy8nKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtcblx0XHRcdH1cblxuXHRcdFx0diA9IHguaG9zdG5hbWU7XG5cdFx0fVxuXHRcdHJldHVybiBfaG9zdG5hbWUuY2FsbCh0aGlzLCB2LCBidWlsZCk7XG5cdH07XG5cblx0Ly8gY29tcG91bmQgYWNjZXNzb3JzXG5cdHAub3JpZ2luID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHR2YXIgcGFydHM7XG5cblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2woKTtcblx0XHRcdHZhciBhdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eSgpO1xuXHRcdFx0aWYgKCFhdXRob3JpdHkpIHJldHVybiAnJztcblx0XHRcdHJldHVybiAocHJvdG9jb2wgPyBwcm90b2NvbCArICc6Ly8nIDogJycpICsgdGhpcy5hdXRob3JpdHkoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIG9yaWdpbiA9IFVSSSh2KTtcblx0XHRcdHRoaXNcblx0XHRcdFx0LnByb3RvY29sKG9yaWdpbi5wcm90b2NvbCgpKVxuXHRcdFx0XHQuYXV0aG9yaXR5KG9yaWdpbi5hdXRob3JpdHkoKSlcblx0XHRcdFx0LmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAuaG9zdCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUgPyBVUkkuYnVpbGRIb3N0KHRoaXMuX3BhcnRzKSA6ICcnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcmVzID0gVVJJLnBhcnNlSG9zdCh2LCB0aGlzLl9wYXJ0cyk7XG5cdFx0XHRpZiAocmVzICE9PSAnLycpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cykgOiAnJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHJlcyA9IFVSSS5wYXJzZUF1dGhvcml0eSh2LCB0aGlzLl9wYXJ0cyk7XG5cdFx0XHRpZiAocmVzICE9PSAnLycpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAudXNlcmluZm8gPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy51c2VybmFtZSkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdHZhciB0ID0gVVJJLmJ1aWxkVXNlcmluZm8odGhpcy5fcGFydHMpO1xuXHRcdFx0cmV0dXJuIHQuc3Vic3RyaW5nKDAsIHQubGVuZ3RoIC0xKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHZbdi5sZW5ndGgtMV0gIT09ICdAJykge1xuXHRcdFx0XHR2ICs9ICdAJztcblx0XHRcdH1cblxuXHRcdFx0VVJJLnBhcnNlVXNlcmluZm8odiwgdGhpcy5fcGFydHMpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLnJlc291cmNlID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHR2YXIgcGFydHM7XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wYXRoKCkgKyB0aGlzLnNlYXJjaCgpICsgdGhpcy5oYXNoKCk7XG5cdFx0fVxuXG5cdFx0cGFydHMgPSBVUkkucGFyc2Uodik7XG5cdFx0dGhpcy5fcGFydHMucGF0aCA9IHBhcnRzLnBhdGg7XG5cdFx0dGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTtcblx0XHR0aGlzLl9wYXJ0cy5mcmFnbWVudCA9IHBhcnRzLmZyYWdtZW50O1xuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvLyBmcmFjdGlvbiBhY2Nlc3NvcnNcblx0cC5zdWJkb21haW4gPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVuaWVuY2UsIHJldHVybiBcInd3d1wiIGZyb20gXCJ3d3cuZXhhbXBsZS5vcmdcIlxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGdyYWIgZG9tYWluIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50XG5cdFx0XHR2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGggLSAxO1xuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlbmQpIHx8ICcnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoO1xuXHRcdFx0dmFyIHN1YiA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZygwLCBlKTtcblx0XHRcdHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChzdWIpKTtcblxuXHRcdFx0aWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy4nKSB7XG5cdFx0XHRcdHYgKz0gJy4nO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodikge1xuXHRcdFx0XHRVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSh2KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykge1xuXHRcdFx0YnVpbGQgPSB2O1xuXHRcdFx0diA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyBjb252ZW5pZW5jZSwgcmV0dXJuIFwiZXhhbXBsZS5vcmdcIiBmcm9tIFwid3d3LmV4YW1wbGUub3JnXCJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBpZiBob3N0bmFtZSBjb25zaXN0cyBvZiAxIG9yIDIgc2VnbWVudHMsIGl0IG11c3QgYmUgdGhlIGRvbWFpblxuXHRcdFx0dmFyIHQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5tYXRjaCgvXFwuL2cpO1xuXHRcdFx0aWYgKHQgJiYgdC5sZW5ndGggPCAyKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZ3JhYiB0bGQgYW5kIGFkZCBhbm90aGVyIHNlZ21lbnRcblx0XHRcdHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLnRsZChidWlsZCkubGVuZ3RoIC0gMTtcblx0XHRcdGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJywgZW5kIC0xKSArIDE7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKGVuZCkgfHwgJyc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICghdikge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IGRvbWFpbiBlbXB0eScpO1xuXHRcdFx0fVxuXG5cdFx0XHRVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSh2KTtcblxuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLnRsZCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHYgPT09ICdib29sZWFuJykge1xuXHRcdFx0YnVpbGQgPSB2O1xuXHRcdFx0diA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHQvLyByZXR1cm4gXCJvcmdcIiBmcm9tIFwid3d3LmV4YW1wbGUub3JnXCJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcG9zID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nKTtcblx0XHRcdHZhciB0bGQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcocG9zICsgMSk7XG5cblx0XHRcdGlmIChidWlsZCAhPT0gdHJ1ZSAmJiBTTEQgJiYgU0xELmxpc3RbdGxkLnRvTG93ZXJDYXNlKCldKSB7XG5cdFx0XHRcdHJldHVybiBTTEQuZ2V0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB8fCB0bGQ7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0bGQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciByZXBsYWNlO1xuXG5cdFx0XHRpZiAoIXYpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBUTEQgZW1wdHknKTtcblx0XHRcdH0gZWxzZSBpZiAodi5tYXRjaCgvW15hLXpBLVowLTktXS8pKSB7XG5cdFx0XHRcdGlmIChTTEQgJiYgU0xELmlzKHYpKSB7XG5cdFx0XHRcdFx0cmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpO1xuXHRcdFx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdUTEQgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpO1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5kaXJlY3RvcnkgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnBhdGggJiYgIXRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0aWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykge1xuXHRcdFx0XHRyZXR1cm4gJy8nO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZW5kID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoIC0gMTtcblx0XHRcdHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygwLCBlbmQpIHx8ICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/ICcvJyA6ICcnKTtcblxuXHRcdFx0cmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aChyZXMpIDogcmVzO1xuXG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBlID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoO1xuXHRcdFx0dmFyIGRpcmVjdG9yeSA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGUpO1xuXHRcdFx0dmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KGRpcmVjdG9yeSkpO1xuXG5cdFx0XHQvLyBmdWxseSBxdWFsaWZpZXIgZGlyZWN0b3JpZXMgYmVnaW4gd2l0aCBhIHNsYXNoXG5cdFx0XHRpZiAoIXRoaXMuaXMoJ3JlbGF0aXZlJykpIHtcblx0XHRcdFx0aWYgKCF2KSB7XG5cdFx0XHRcdFx0diA9ICcvJztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICh2LmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHRcdFx0diA9ICcvJyArIHY7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gZGlyZWN0b3JpZXMgYWx3YXlzIGVuZCB3aXRoIGEgc2xhc2hcblx0XHRcdGlmICh2ICYmIHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuXHRcdFx0XHR2ICs9ICcvJztcblx0XHRcdH1cblxuXHRcdFx0diA9IFVSSS5yZWNvZGVQYXRoKHYpO1xuXHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5maWxlbmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHtcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcG9zID0gdGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZignLycpO1xuXHRcdFx0dmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKHBvcysxKTtcblxuXHRcdFx0cmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIG11dGF0ZWREaXJlY3RvcnkgPSBmYWxzZTtcblxuXHRcdFx0aWYgKHYuY2hhckF0KDApID09PSAnLycpIHtcblx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodi5tYXRjaCgvXFwuP1xcLy8pKSB7XG5cdFx0XHRcdG11dGF0ZWREaXJlY3RvcnkgPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy5maWxlbmFtZSgpKSArICckJyk7XG5cdFx0XHR2ID0gVVJJLnJlY29kZVBhdGgodik7XG5cdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXG5cdFx0XHRpZiAobXV0YXRlZERpcmVjdG9yeSkge1xuXHRcdFx0XHR0aGlzLm5vcm1hbGl6ZVBhdGgoYnVpbGQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAuc3VmZml4ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBmaWxlbmFtZSA9IHRoaXMuZmlsZW5hbWUoKTtcblx0XHRcdHZhciBwb3MgPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpO1xuXHRcdFx0dmFyIHMsIHJlcztcblxuXHRcdFx0aWYgKHBvcyA9PT0gLTEpIHtcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBzdWZmaXggbWF5IG9ubHkgY29udGFpbiBhbG51bSBjaGFyYWN0ZXJzICh5dXAsIEkgbWFkZSB0aGlzIHVwLilcblx0XHRcdHMgPSBmaWxlbmFtZS5zdWJzdHJpbmcocG9zKzEpO1xuXHRcdFx0cmVzID0gKC9eW2EtejAtOSVdKyQvaSkudGVzdChzKSA/IHMgOiAnJztcblx0XHRcdHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh2LmNoYXJBdCgwKSA9PT0gJy4nKSB7XG5cdFx0XHRcdHYgPSB2LnN1YnN0cmluZygxKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHN1ZmZpeCA9IHRoaXMuc3VmZml4KCk7XG5cdFx0XHR2YXIgcmVwbGFjZTtcblxuXHRcdFx0aWYgKCFzdWZmaXgpIHtcblx0XHRcdFx0aWYgKCF2KSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9wYXJ0cy5wYXRoICs9ICcuJyArIFVSSS5yZWNvZGVQYXRoKHYpO1xuXHRcdFx0fSBlbHNlIGlmICghdikge1xuXHRcdFx0XHRyZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCgnLicgKyBzdWZmaXgpICsgJyQnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHN1ZmZpeCkgKyAnJCcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocmVwbGFjZSkge1xuXHRcdFx0XHR2ID0gVVJJLnJlY29kZVBhdGgodik7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5zZWdtZW50ID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHtcblx0XHR2YXIgc2VwYXJhdG9yID0gdGhpcy5fcGFydHMudXJuID8gJzonIDogJy8nO1xuXHRcdHZhciBwYXRoID0gdGhpcy5wYXRoKCk7XG5cdFx0dmFyIGFic29sdXRlID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJztcblx0XHR2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KHNlcGFyYXRvcik7XG5cblx0XHRpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykge1xuXHRcdFx0YnVpbGQgPSB2O1xuXHRcdFx0diA9IHNlZ21lbnQ7XG5cdFx0XHRzZWdtZW50ID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0JhZCBzZWdtZW50IFwiJyArIHNlZ21lbnQgKyAnXCIsIG11c3QgYmUgMC1iYXNlZCBpbnRlZ2VyJyk7XG5cdFx0fVxuXG5cdFx0aWYgKGFic29sdXRlKSB7XG5cdFx0XHRzZWdtZW50cy5zaGlmdCgpO1xuXHRcdH1cblxuXHRcdGlmIChzZWdtZW50IDwgMCkge1xuXHRcdFx0Ly8gYWxsb3cgbmVnYXRpdmUgaW5kZXhlcyB0byBhZGRyZXNzIGZyb20gdGhlIGVuZFxuXHRcdFx0c2VnbWVudCA9IE1hdGgubWF4KHNlZ21lbnRzLmxlbmd0aCArIHNlZ21lbnQsIDApO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8qanNoaW50IGxheGJyZWFrOiB0cnVlICovXG5cdFx0XHRyZXR1cm4gc2VnbWVudCA9PT0gdW5kZWZpbmVkXG5cdFx0XHRcdD8gc2VnbWVudHNcblx0XHRcdFx0OiBzZWdtZW50c1tzZWdtZW50XTtcblx0XHRcdC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqL1xuXHRcdH0gZWxzZSBpZiAoc2VnbWVudCA9PT0gbnVsbCB8fCBzZWdtZW50c1tzZWdtZW50XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAoaXNBcnJheSh2KSkge1xuXHRcdFx0XHRzZWdtZW50cyA9IFtdO1xuXHRcdFx0XHQvLyBjb2xsYXBzZSBlbXB0eSBlbGVtZW50cyB3aXRoaW4gYXJyYXlcblx0XHRcdFx0Zm9yICh2YXIgaT0wLCBsPXYubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdFx0aWYgKCF2W2ldLmxlbmd0aCAmJiAoIXNlZ21lbnRzLmxlbmd0aCB8fCAhc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXS5sZW5ndGgpKSB7XG5cdFx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoc2VnbWVudHMubGVuZ3RoICYmICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0c2VnbWVudHMucG9wKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0c2VnbWVudHMucHVzaCh0cmltU2xhc2hlcyh2W2ldKSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAodiB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0diA9IHRyaW1TbGFzaGVzKHYpO1xuXHRcdFx0XHRpZiAoc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXSA9PT0gJycpIHtcblx0XHRcdFx0XHQvLyBlbXB0eSB0cmFpbGluZyBlbGVtZW50cyBoYXZlIHRvIGJlIG92ZXJ3cml0dGVuXG5cdFx0XHRcdFx0Ly8gdG8gcHJldmVudCByZXN1bHRzIHN1Y2ggYXMgL2Zvby8vYmFyXG5cdFx0XHRcdFx0c2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXSA9IHY7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c2VnbWVudHMucHVzaCh2KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodikge1xuXHRcdFx0XHRzZWdtZW50c1tzZWdtZW50XSA9IHRyaW1TbGFzaGVzKHYpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0c2VnbWVudHMuc3BsaWNlKHNlZ21lbnQsIDEpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChhYnNvbHV0ZSkge1xuXHRcdFx0c2VnbWVudHMudW5zaGlmdCgnJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMucGF0aChzZWdtZW50cy5qb2luKHNlcGFyYXRvciksIGJ1aWxkKTtcblx0fTtcblx0cC5zZWdtZW50Q29kZWQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkge1xuXHRcdHZhciBzZWdtZW50cywgaSwgbDtcblxuXHRcdGlmICh0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHtcblx0XHRcdGJ1aWxkID0gdjtcblx0XHRcdHYgPSBzZWdtZW50O1xuXHRcdFx0c2VnbWVudCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRzZWdtZW50cyA9IHRoaXMuc2VnbWVudChzZWdtZW50LCB2LCBidWlsZCk7XG5cdFx0XHRpZiAoIWlzQXJyYXkoc2VnbWVudHMpKSB7XG5cdFx0XHRcdHNlZ21lbnRzID0gc2VnbWVudHMgIT09IHVuZGVmaW5lZCA/IFVSSS5kZWNvZGUoc2VnbWVudHMpIDogdW5kZWZpbmVkO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Zm9yIChpID0gMCwgbCA9IHNlZ21lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHRcdHNlZ21lbnRzW2ldID0gVVJJLmRlY29kZShzZWdtZW50c1tpXSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNlZ21lbnRzO1xuXHRcdH1cblxuXHRcdGlmICghaXNBcnJheSh2KSkge1xuXHRcdFx0diA9ICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHwgdiBpbnN0YW5jZW9mIFN0cmluZykgPyBVUkkuZW5jb2RlKHYpIDogdjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChpID0gMCwgbCA9IHYubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdHZbaV0gPSBVUkkuZW5jb2RlKHZbaV0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpO1xuXHR9O1xuXG5cdC8vIG11dGF0aW5nIHF1ZXJ5IHN0cmluZ1xuXHR2YXIgcSA9IHAucXVlcnk7XG5cdHAucXVlcnkgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh2ID09PSB0cnVlKSB7XG5cdFx0XHRyZXR1cm4gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIHYgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFx0dmFyIHJlc3VsdCA9IHYuY2FsbCh0aGlzLCBkYXRhKTtcblx0XHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkocmVzdWx0IHx8IGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9IGVsc2UgaWYgKHYgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdiAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkodiwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gcS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTtcblx0XHR9XG5cdH07XG5cdHAuc2V0UXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHtcblx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblxuXHRcdGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHwgbmFtZSBpbnN0YW5jZW9mIFN0cmluZykge1xuXHRcdFx0ZGF0YVtuYW1lXSA9IHZhbHVlICE9PSB1bmRlZmluZWQgPyB2YWx1ZSA6IG51bGw7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBuYW1lKSB7XG5cdFx0XHRcdGlmIChoYXNPd24uY2FsbChuYW1lLCBrZXkpKSB7XG5cdFx0XHRcdFx0ZGF0YVtrZXldID0gbmFtZVtrZXldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdGJ1aWxkID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLmFkZFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7XG5cdFx0dmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0VVJJLmFkZFF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogdmFsdWUpO1xuXHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRidWlsZCA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5yZW1vdmVRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkge1xuXHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFVSSS5yZW1vdmVRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSk7XG5cdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdGJ1aWxkID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLmhhc1F1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7XG5cdFx0dmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0cmV0dXJuIFVSSS5oYXNRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpO1xuXHR9O1xuXHRwLnNldFNlYXJjaCA9IHAuc2V0UXVlcnk7XG5cdHAuYWRkU2VhcmNoID0gcC5hZGRRdWVyeTtcblx0cC5yZW1vdmVTZWFyY2ggPSBwLnJlbW92ZVF1ZXJ5O1xuXHRwLmhhc1NlYXJjaCA9IHAuaGFzUXVlcnk7XG5cblx0Ly8gc2FuaXRpemluZyBVUkxzXG5cdHAubm9ybWFsaXplID0gZnVuY3Rpb24oKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0Lm5vcm1hbGl6ZVByb3RvY29sKGZhbHNlKVxuXHRcdFx0XHQubm9ybWFsaXplUGF0aChmYWxzZSlcblx0XHRcdFx0Lm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKVxuXHRcdFx0XHQubm9ybWFsaXplRnJhZ21lbnQoZmFsc2UpXG5cdFx0XHRcdC5idWlsZCgpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzXG5cdFx0XHQubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpXG5cdFx0XHQubm9ybWFsaXplSG9zdG5hbWUoZmFsc2UpXG5cdFx0XHQubm9ybWFsaXplUG9ydChmYWxzZSlcblx0XHRcdC5ub3JtYWxpemVQYXRoKGZhbHNlKVxuXHRcdFx0Lm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKVxuXHRcdFx0Lm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKVxuXHRcdFx0LmJ1aWxkKCk7XG5cdH07XG5cdHAubm9ybWFsaXplUHJvdG9jb2wgPSBmdW5jdGlvbihidWlsZCkge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHR0aGlzLl9wYXJ0cy5wcm90b2NvbCA9IHRoaXMuX3BhcnRzLnByb3RvY29sLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAubm9ybWFsaXplSG9zdG5hbWUgPSBmdW5jdGlvbihidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkge1xuXHRcdFx0aWYgKHRoaXMuaXMoJ0lETicpICYmIHB1bnljb2RlKSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gcHVueWNvZGUudG9BU0NJSSh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0XHR9IGVsc2UgaWYgKHRoaXMuaXMoJ0lQdjYnKSAmJiBJUHY2KSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gSVB2Ni5iZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLm5vcm1hbGl6ZVBvcnQgPSBmdW5jdGlvbihidWlsZCkge1xuXHRcdC8vIHJlbW92ZSBwb3J0IG9mIGl0J3MgdGhlIHByb3RvY29sJ3MgZGVmYXVsdFxuXHRcdGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnICYmIHRoaXMuX3BhcnRzLnBvcnQgPT09IFVSSS5kZWZhdWx0UG9ydHNbdGhpcy5fcGFydHMucHJvdG9jb2xdKSB7XG5cdFx0XHR0aGlzLl9wYXJ0cy5wb3J0ID0gbnVsbDtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5ub3JtYWxpemVQYXRoID0gZnVuY3Rpb24oYnVpbGQpIHtcblx0XHR2YXIgX3BhdGggPSB0aGlzLl9wYXJ0cy5wYXRoO1xuXHRcdGlmICghX3BhdGgpIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSBVUkkucmVjb2RlVXJuUGF0aCh0aGlzLl9wYXJ0cy5wYXRoKTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblxuXHRcdHZhciBfd2FzX3JlbGF0aXZlO1xuXHRcdHZhciBfbGVhZGluZ1BhcmVudHMgPSAnJztcblx0XHR2YXIgX3BhcmVudCwgX3BvcztcblxuXHRcdC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRoc1xuXHRcdGlmIChfcGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xuXHRcdFx0X3dhc19yZWxhdGl2ZSA9IHRydWU7XG5cdFx0XHRfcGF0aCA9ICcvJyArIF9wYXRoO1xuXHRcdH1cblxuXHRcdC8vIGhhbmRsZSByZWxhdGl2ZSBmaWxlcyAoYXMgb3Bwb3NlZCB0byBkaXJlY3Rvcmllcylcblx0XHRpZiAoX3BhdGguc2xpY2UoLTMpID09PSAnLy4uJyB8fCBfcGF0aC5zbGljZSgtMikgPT09ICcvLicpIHtcblx0XHRcdF9wYXRoICs9ICcvJztcblx0XHR9XG5cblx0XHQvLyByZXNvbHZlIHNpbXBsZXNcblx0XHRfcGF0aCA9IF9wYXRoXG5cdFx0XHQucmVwbGFjZSgvKFxcLyhcXC5cXC8pKyl8KFxcL1xcLiQpL2csICcvJylcblx0XHRcdC5yZXBsYWNlKC9cXC97Mix9L2csICcvJyk7XG5cblx0XHQvLyByZW1lbWJlciBsZWFkaW5nIHBhcmVudHNcblx0XHRpZiAoX3dhc19yZWxhdGl2ZSkge1xuXHRcdFx0X2xlYWRpbmdQYXJlbnRzID0gX3BhdGguc3Vic3RyaW5nKDEpLm1hdGNoKC9eKFxcLlxcLlxcLykrLykgfHwgJyc7XG5cdFx0XHRpZiAoX2xlYWRpbmdQYXJlbnRzKSB7XG5cdFx0XHRcdF9sZWFkaW5nUGFyZW50cyA9IF9sZWFkaW5nUGFyZW50c1swXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyByZXNvbHZlIHBhcmVudHNcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0X3BhcmVudCA9IF9wYXRoLmluZGV4T2YoJy8uLicpO1xuXHRcdFx0aWYgKF9wYXJlbnQgPT09IC0xKSB7XG5cdFx0XHRcdC8vIG5vIG1vcmUgLi4vIHRvIHJlc29sdmVcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9IGVsc2UgaWYgKF9wYXJlbnQgPT09IDApIHtcblx0XHRcdFx0Ly8gdG9wIGxldmVsIGNhbm5vdCBiZSByZWxhdGl2ZSwgc2tpcCBpdFxuXHRcdFx0XHRfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygzKTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdF9wb3MgPSBfcGF0aC5zdWJzdHJpbmcoMCwgX3BhcmVudCkubGFzdEluZGV4T2YoJy8nKTtcblx0XHRcdGlmIChfcG9zID09PSAtMSkge1xuXHRcdFx0XHRfcG9zID0gX3BhcmVudDtcblx0XHRcdH1cblx0XHRcdF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wb3MpICsgX3BhdGguc3Vic3RyaW5nKF9wYXJlbnQgKyAzKTtcblx0XHR9XG5cblx0XHQvLyByZXZlcnQgdG8gcmVsYXRpdmVcblx0XHRpZiAoX3dhc19yZWxhdGl2ZSAmJiB0aGlzLmlzKCdyZWxhdGl2ZScpKSB7XG5cdFx0XHRfcGF0aCA9IF9sZWFkaW5nUGFyZW50cyArIF9wYXRoLnN1YnN0cmluZygxKTtcblx0XHR9XG5cblx0XHRfcGF0aCA9IFVSSS5yZWNvZGVQYXRoKF9wYXRoKTtcblx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gX3BhdGg7XG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLm5vcm1hbGl6ZVBhdGhuYW1lID0gcC5ub3JtYWxpemVQYXRoO1xuXHRwLm5vcm1hbGl6ZVF1ZXJ5ID0gZnVuY3Rpb24oYnVpbGQpIHtcblx0XHRpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJykge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5xdWVyeS5sZW5ndGgpIHtcblx0XHRcdFx0dGhpcy5fcGFydHMucXVlcnkgPSBudWxsO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5xdWVyeShVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSkpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAubm9ybWFsaXplRnJhZ21lbnQgPSBmdW5jdGlvbihidWlsZCkge1xuXHRcdGlmICghdGhpcy5fcGFydHMuZnJhZ21lbnQpIHtcblx0XHRcdHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gbnVsbDtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5ub3JtYWxpemVTZWFyY2ggPSBwLm5vcm1hbGl6ZVF1ZXJ5O1xuXHRwLm5vcm1hbGl6ZUhhc2ggPSBwLm5vcm1hbGl6ZUZyYWdtZW50O1xuXG5cdHAuaXNvODg1OSA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vIGV4cGVjdCB1bmljb2RlIGlucHV0LCBpc284ODU5IG91dHB1dFxuXHRcdHZhciBlID0gVVJJLmVuY29kZTtcblx0XHR2YXIgZCA9IFVSSS5kZWNvZGU7XG5cblx0XHRVUkkuZW5jb2RlID0gZXNjYXBlO1xuXHRcdFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMubm9ybWFsaXplKCk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdFVSSS5lbmNvZGUgPSBlO1xuXHRcdFx0VVJJLmRlY29kZSA9IGQ7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdHAudW5pY29kZSA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vIGV4cGVjdCBpc284ODU5IGlucHV0LCB1bmljb2RlIG91dHB1dFxuXHRcdHZhciBlID0gVVJJLmVuY29kZTtcblx0XHR2YXIgZCA9IFVSSS5kZWNvZGU7XG5cblx0XHRVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50O1xuXHRcdFVSSS5kZWNvZGUgPSB1bmVzY2FwZTtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5ub3JtYWxpemUoKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0VVJJLmVuY29kZSA9IGU7XG5cdFx0XHRVUkkuZGVjb2RlID0gZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cC5yZWFkYWJsZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB1cmkgPSB0aGlzLmNsb25lKCk7XG5cdFx0Ly8gcmVtb3ZpbmcgdXNlcm5hbWUsIHBhc3N3b3JkLCBiZWNhdXNlIHRoZXkgc2hvdWxkbid0IGJlIGRpc3BsYXllZCBhY2NvcmRpbmcgdG8gUkZDIDM5ODZcblx0XHR1cmkudXNlcm5hbWUoJycpLnBhc3N3b3JkKCcnKS5ub3JtYWxpemUoKTtcblx0XHR2YXIgdCA9ICcnO1xuXHRcdGlmICh1cmkuX3BhcnRzLnByb3RvY29sKSB7XG5cdFx0XHR0ICs9IHVyaS5fcGFydHMucHJvdG9jb2wgKyAnOi8vJztcblx0XHR9XG5cblx0XHRpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSkge1xuXHRcdFx0aWYgKHVyaS5pcygncHVueWNvZGUnKSAmJiBwdW55Y29kZSkge1xuXHRcdFx0XHR0ICs9IHB1bnljb2RlLnRvVW5pY29kZSh1cmkuX3BhcnRzLmhvc3RuYW1lKTtcblx0XHRcdFx0aWYgKHVyaS5fcGFydHMucG9ydCkge1xuXHRcdFx0XHRcdHQgKz0gJzonICsgdXJpLl9wYXJ0cy5wb3J0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0ICs9IHVyaS5ob3N0KCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHVyaS5fcGFydHMuaG9zdG5hbWUgJiYgdXJpLl9wYXJ0cy5wYXRoICYmIHVyaS5fcGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xuXHRcdFx0dCArPSAnLyc7XG5cdFx0fVxuXG5cdFx0dCArPSB1cmkucGF0aCh0cnVlKTtcblx0XHRpZiAodXJpLl9wYXJ0cy5xdWVyeSkge1xuXHRcdFx0dmFyIHEgPSAnJztcblx0XHRcdGZvciAodmFyIGkgPSAwLCBxcCA9IHVyaS5fcGFydHMucXVlcnkuc3BsaXQoJyYnKSwgbCA9IHFwLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHR2YXIga3YgPSAocXBbaV0gfHwgJycpLnNwbGl0KCc9Jyk7XG5cdFx0XHRcdHEgKz0gJyYnICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzBdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKVxuXHRcdFx0XHRcdC5yZXBsYWNlKC8mL2csICclMjYnKTtcblxuXHRcdFx0XHRpZiAoa3ZbMV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHEgKz0gJz0nICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzFdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKVxuXHRcdFx0XHRcdFx0LnJlcGxhY2UoLyYvZywgJyUyNicpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0ICs9ICc/JyArIHEuc3Vic3RyaW5nKDEpO1xuXHRcdH1cblxuXHRcdHQgKz0gVVJJLmRlY29kZVF1ZXJ5KHVyaS5oYXNoKCksIHRydWUpO1xuXHRcdHJldHVybiB0O1xuXHR9O1xuXG5cdC8vIHJlc29sdmluZyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgVVJMc1xuXHRwLmFic29sdXRlVG8gPSBmdW5jdGlvbihiYXNlKSB7XG5cdFx0dmFyIHJlc29sdmVkID0gdGhpcy5jbG9uZSgpO1xuXHRcdHZhciBwcm9wZXJ0aWVzID0gWydwcm90b2NvbCcsICd1c2VybmFtZScsICdwYXNzd29yZCcsICdob3N0bmFtZScsICdwb3J0J107XG5cdFx0dmFyIGJhc2VkaXIsIGksIHA7XG5cblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzJyk7XG5cdFx0fVxuXG5cdFx0aWYgKCEoYmFzZSBpbnN0YW5jZW9mIFVSSSkpIHtcblx0XHRcdGJhc2UgPSBuZXcgVVJJKGJhc2UpO1xuXHRcdH1cblxuXHRcdGlmICghcmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sKSB7XG5cdFx0XHRyZXNvbHZlZC5fcGFydHMucHJvdG9jb2wgPSBiYXNlLl9wYXJ0cy5wcm90b2NvbDtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHtcblx0XHRcdHJldHVybiByZXNvbHZlZDtcblx0XHR9XG5cblx0XHRmb3IgKGkgPSAwOyAocCA9IHByb3BlcnRpZXNbaV0pOyBpKyspIHtcblx0XHRcdHJlc29sdmVkLl9wYXJ0c1twXSA9IGJhc2UuX3BhcnRzW3BdO1xuXHRcdH1cblxuXHRcdGlmICghcmVzb2x2ZWQuX3BhcnRzLnBhdGgpIHtcblx0XHRcdHJlc29sdmVkLl9wYXJ0cy5wYXRoID0gYmFzZS5fcGFydHMucGF0aDtcblx0XHRcdGlmICghcmVzb2x2ZWQuX3BhcnRzLnF1ZXJ5KSB7XG5cdFx0XHRcdHJlc29sdmVkLl9wYXJ0cy5xdWVyeSA9IGJhc2UuX3BhcnRzLnF1ZXJ5O1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAocmVzb2x2ZWQuX3BhcnRzLnBhdGguc3Vic3RyaW5nKC0yKSA9PT0gJy4uJykge1xuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnBhdGggKz0gJy8nO1xuXHRcdH1cblxuXHRcdGlmIChyZXNvbHZlZC5wYXRoKCkuY2hhckF0KDApICE9PSAnLycpIHtcblx0XHRcdGJhc2VkaXIgPSBiYXNlLmRpcmVjdG9yeSgpO1xuXHRcdFx0YmFzZWRpciA9IGJhc2VkaXIgPyBiYXNlZGlyIDogYmFzZS5wYXRoKCkuaW5kZXhPZignLycpID09PSAwID8gJy8nIDogJyc7XG5cdFx0XHRyZXNvbHZlZC5fcGFydHMucGF0aCA9IChiYXNlZGlyID8gKGJhc2VkaXIgKyAnLycpIDogJycpICsgcmVzb2x2ZWQuX3BhcnRzLnBhdGg7XG5cdFx0XHRyZXNvbHZlZC5ub3JtYWxpemVQYXRoKCk7XG5cdFx0fVxuXG5cdFx0cmVzb2x2ZWQuYnVpbGQoKTtcblx0XHRyZXR1cm4gcmVzb2x2ZWQ7XG5cdH07XG5cdHAucmVsYXRpdmVUbyA9IGZ1bmN0aW9uKGJhc2UpIHtcblx0XHR2YXIgcmVsYXRpdmUgPSB0aGlzLmNsb25lKCkubm9ybWFsaXplKCk7XG5cdFx0dmFyIHJlbGF0aXZlUGFydHMsIGJhc2VQYXJ0cywgY29tbW9uLCByZWxhdGl2ZVBhdGgsIGJhc2VQYXRoO1xuXG5cdFx0aWYgKHJlbGF0aXZlLl9wYXJ0cy51cm4pIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTtcblx0XHR9XG5cblx0XHRiYXNlID0gbmV3IFVSSShiYXNlKS5ub3JtYWxpemUoKTtcblx0XHRyZWxhdGl2ZVBhcnRzID0gcmVsYXRpdmUuX3BhcnRzO1xuXHRcdGJhc2VQYXJ0cyA9IGJhc2UuX3BhcnRzO1xuXHRcdHJlbGF0aXZlUGF0aCA9IHJlbGF0aXZlLnBhdGgoKTtcblx0XHRiYXNlUGF0aCA9IGJhc2UucGF0aCgpO1xuXG5cdFx0aWYgKHJlbGF0aXZlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVUkkgaXMgYWxyZWFkeSByZWxhdGl2ZScpO1xuXHRcdH1cblxuXHRcdGlmIChiYXNlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsY3VsYXRlIGEgVVJJIHJlbGF0aXZlIHRvIGFub3RoZXIgcmVsYXRpdmUgVVJJJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgPT09IGJhc2VQYXJ0cy5wcm90b2NvbCkge1xuXHRcdFx0cmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IGJhc2VQYXJ0cy51c2VybmFtZSB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBiYXNlUGFydHMucGFzc3dvcmQpIHtcblx0XHRcdHJldHVybiByZWxhdGl2ZS5idWlsZCgpO1xuXHRcdH1cblxuXHRcdGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sICE9PSBudWxsIHx8IHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy5wYXNzd29yZCAhPT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPT09IGJhc2VQYXJ0cy5ob3N0bmFtZSAmJiByZWxhdGl2ZVBhcnRzLnBvcnQgPT09IGJhc2VQYXJ0cy5wb3J0KSB7XG5cdFx0XHRyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID0gbnVsbDtcblx0XHRcdHJlbGF0aXZlUGFydHMucG9ydCA9IG51bGw7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiByZWxhdGl2ZS5idWlsZCgpO1xuXHRcdH1cblxuXHRcdGlmIChyZWxhdGl2ZVBhdGggPT09IGJhc2VQYXRoKSB7XG5cdFx0XHRyZWxhdGl2ZVBhcnRzLnBhdGggPSAnJztcblx0XHRcdHJldHVybiByZWxhdGl2ZS5idWlsZCgpO1xuXHRcdH1cblxuXHRcdC8vIGRldGVybWluZSBjb21tb24gc3ViIHBhdGhcblx0XHRjb21tb24gPSBVUkkuY29tbW9uUGF0aChyZWxhdGl2ZVBhdGgsIGJhc2VQYXRoKTtcblxuXHRcdC8vIElmIHRoZSBwYXRocyBoYXZlIG5vdGhpbmcgaW4gY29tbW9uLCByZXR1cm4gYSByZWxhdGl2ZSBVUkwgd2l0aCB0aGUgYWJzb2x1dGUgcGF0aC5cblx0XHRpZiAoIWNvbW1vbikge1xuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0dmFyIHBhcmVudHMgPSBiYXNlUGFydHMucGF0aFxuXHRcdFx0LnN1YnN0cmluZyhjb21tb24ubGVuZ3RoKVxuXHRcdFx0LnJlcGxhY2UoL1teXFwvXSokLywgJycpXG5cdFx0XHQucmVwbGFjZSgvLio/XFwvL2csICcuLi8nKTtcblxuXHRcdHJlbGF0aXZlUGFydHMucGF0aCA9IChwYXJlbnRzICsgcmVsYXRpdmVQYXJ0cy5wYXRoLnN1YnN0cmluZyhjb21tb24ubGVuZ3RoKSkgfHwgJy4vJztcblxuXHRcdHJldHVybiByZWxhdGl2ZS5idWlsZCgpO1xuXHR9O1xuXG5cdC8vIGNvbXBhcmluZyBVUklzXG5cdHAuZXF1YWxzID0gZnVuY3Rpb24odXJpKSB7XG5cdFx0dmFyIG9uZSA9IHRoaXMuY2xvbmUoKTtcblx0XHR2YXIgdHdvID0gbmV3IFVSSSh1cmkpO1xuXHRcdHZhciBvbmVfbWFwID0ge307XG5cdFx0dmFyIHR3b19tYXAgPSB7fTtcblx0XHR2YXIgY2hlY2tlZCA9IHt9O1xuXHRcdHZhciBvbmVfcXVlcnksIHR3b19xdWVyeSwga2V5O1xuXG5cdFx0b25lLm5vcm1hbGl6ZSgpO1xuXHRcdHR3by5ub3JtYWxpemUoKTtcblxuXHRcdC8vIGV4YWN0IG1hdGNoXG5cdFx0aWYgKG9uZS50b1N0cmluZygpID09PSB0d28udG9TdHJpbmcoKSkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gZXh0cmFjdCBxdWVyeSBzdHJpbmdcblx0XHRvbmVfcXVlcnkgPSBvbmUucXVlcnkoKTtcblx0XHR0d29fcXVlcnkgPSB0d28ucXVlcnkoKTtcblx0XHRvbmUucXVlcnkoJycpO1xuXHRcdHR3by5xdWVyeSgnJyk7XG5cblx0XHQvLyBkZWZpbml0ZWx5IG5vdCBlcXVhbCBpZiBub3QgZXZlbiBub24tcXVlcnkgcGFydHMgbWF0Y2hcblx0XHRpZiAob25lLnRvU3RyaW5nKCkgIT09IHR3by50b1N0cmluZygpKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gcXVlcnkgcGFyYW1ldGVycyBoYXZlIHRoZSBzYW1lIGxlbmd0aCwgZXZlbiBpZiB0aGV5J3JlIHBlcm11dGVkXG5cdFx0aWYgKG9uZV9xdWVyeS5sZW5ndGggIT09IHR3b19xdWVyeS5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRvbmVfbWFwID0gVVJJLnBhcnNlUXVlcnkob25lX3F1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHR0d29fbWFwID0gVVJJLnBhcnNlUXVlcnkodHdvX3F1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblxuXHRcdGZvciAoa2V5IGluIG9uZV9tYXApIHtcblx0XHRcdGlmIChoYXNPd24uY2FsbChvbmVfbWFwLCBrZXkpKSB7XG5cdFx0XHRcdGlmICghaXNBcnJheShvbmVfbWFwW2tleV0pKSB7XG5cdFx0XHRcdFx0aWYgKG9uZV9tYXBba2V5XSAhPT0gdHdvX21hcFtrZXldKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKCFhcnJheXNFcXVhbChvbmVfbWFwW2tleV0sIHR3b19tYXBba2V5XSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjaGVja2VkW2tleV0gPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZvciAoa2V5IGluIHR3b19tYXApIHtcblx0XHRcdGlmIChoYXNPd24uY2FsbCh0d29fbWFwLCBrZXkpKSB7XG5cdFx0XHRcdGlmICghY2hlY2tlZFtrZXldKSB7XG5cdFx0XHRcdFx0Ly8gdHdvIGNvbnRhaW5zIGEgcGFyYW1ldGVyIG5vdCBwcmVzZW50IGluIG9uZVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9O1xuXG5cdC8vIHN0YXRlXG5cdHAuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gZnVuY3Rpb24odikge1xuXHRcdHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9ICEhdjtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRwLmVzY2FwZVF1ZXJ5U3BhY2UgPSBmdW5jdGlvbih2KSB7XG5cdFx0dGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSA9ICEhdjtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRyZXR1cm4gVVJJO1xufSkpOyIsIldvcmtmbG93ID0ge31cblxuQEltYWdlU2lnbiA9IHt9O1xuXG5AVHJhY2VzSGFuZGxlciA9IHt9O1xuXG5AVHJhY2VzVGVtcGxhdGUgPSB7fTtcblxuQEluc3RhbmNlZm9ybVRlbXBsYXRlID0ge307XG5cbkBJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZSA9IHt9O1xuXG5ASW5zdGFuY2VTaWduVGV4dCA9IHt9XG5cbkBSZWxhdGVkSW5zdGFuY2VzID0ge31cblxuQFJlbGF0ZWRSZWNvcmRzID0ge31cblxuQEluc3RhbmNlTWFjcm8gPSB7Y29udGV4dDoge319XG5cbkBUcmFjZXNNYW5hZ2VyID0ge307XG5cbkluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcgPSAoZmllbGRfZm9ybXVsYSktPlxuXHRyZXR1cm4gKGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3lpamlhbmxhbjpcIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie1xcXCJ5aWppYW5sYW5cXFwiOlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7J3lpamlhbmxhbic6XCIpID4gLTEpXG5cbkluc3RhbmNlU2lnblRleHQuaW5jbHVkZXNPcGluaW9uRmllbGQgPSAoZm9ybSwgZm9ybV92ZXJzaW9uKS0+XG5cdGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XG5cblx0X2Zvcm1fdmVyc2lvbiA9IHt9XG5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0X2Zvcm1fdmVyc2lvbiA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBmb3JtfSksIGZvcm1fdmVyc2lvbilcblx0ZWxzZVxuXHRcdF9mb3JtX3ZlcnNpb24gPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe19pZDogZm9ybV92ZXJzaW9uLCBmb3JtOiBmb3JtfSlcblxuXHRmaWVsZHMgPSBfZm9ybV92ZXJzaW9uPy5maWVsZHMgfHwgW11cblxuXHRmaWVsZHMuZm9yRWFjaCAoZiktPlxuXHRcdGlmIGYudHlwZSA9PSAndGFibGUnXG5cdFx0XHRjb25zb2xlLmxvZyAnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnXG5cdFx0ZWxzZSBpZiBmLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XG5cdFx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZjEuZm9ybXVsYVxuXHRcdGVsc2Vcblx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZi5mb3JtdWxhXG5cblx0Xy5zb21lIGZpZWxkX2Zvcm11bGFzLCAoZmllbGRfZm9ybXVsYSktPlxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cbiIsIiAgICAgICAgICAgICBcblxuV29ya2Zsb3cgPSB7fTtcblxudGhpcy5JbWFnZVNpZ24gPSB7fTtcblxudGhpcy5UcmFjZXNIYW5kbGVyID0ge307XG5cbnRoaXMuVHJhY2VzVGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZWZvcm1UZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2VTaWduVGV4dCA9IHt9O1xuXG50aGlzLlJlbGF0ZWRJbnN0YW5jZXMgPSB7fTtcblxudGhpcy5SZWxhdGVkUmVjb3JkcyA9IHt9O1xuXG50aGlzLkluc3RhbmNlTWFjcm8gPSB7XG4gIGNvbnRleHQ6IHt9XG59O1xuXG50aGlzLlRyYWNlc01hbmFnZXIgPSB7fTtcblxuSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyA9IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgcmV0dXJuIChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7eWlqaWFubGFuOlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie1xcXCJ5aWppYW5sYW5cXFwiOlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwieyd5aWppYW5sYW4nOlwiKSA6IHZvaWQgMCkgPiAtMTtcbn07XG5cbkluc3RhbmNlU2lnblRleHQuaW5jbHVkZXNPcGluaW9uRmllbGQgPSBmdW5jdGlvbihmb3JtLCBmb3JtX3ZlcnNpb24pIHtcbiAgdmFyIF9mb3JtX3ZlcnNpb24sIGZpZWxkX2Zvcm11bGFzLCBmaWVsZHM7XG4gIGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XG4gIF9mb3JtX3ZlcnNpb24gPSB7fTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIF9mb3JtX3ZlcnNpb24gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtXG4gICAgfSksIGZvcm1fdmVyc2lvbik7XG4gIH0gZWxzZSB7XG4gICAgX2Zvcm1fdmVyc2lvbiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZvcm1fdmVyc2lvbixcbiAgICAgIGZvcm06IGZvcm1cbiAgICB9KTtcbiAgfVxuICBmaWVsZHMgPSAoX2Zvcm1fdmVyc2lvbiAhPSBudWxsID8gX2Zvcm1fdmVyc2lvbi5maWVsZHMgOiB2b2lkIDApIHx8IFtdO1xuICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoZi50eXBlID09PSAndGFibGUnKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgfSBlbHNlIGlmIChmLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgcmV0dXJuIGYgIT0gbnVsbCA/IChyZWYgPSBmLmZpZWxkcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGYxKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYxLmZvcm11bGEpO1xuICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYuZm9ybXVsYSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIF8uc29tZShmaWVsZF9mb3JtdWxhcywgZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICB9KTtcbn07XG4iLCJkYi5pbnN0YW5jZV90YXNrcyA9IG5ldyBNZXRlb3IuQ29sbGVjdGlvbignaW5zdGFuY2VfdGFza3MnKVxuXG5kYi5pbnN0YW5jZV90YXNrcy5fc2ltcGxlU2NoZW1hID0gbmV3IFNpbXBsZVNjaGVtYVxuICAgIGluc3RhbmNlOlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB0cmFjZTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgaXNfZmluaXNoZWQ6XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIHVzZXI6XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIHVzZXJfbmFtZTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgaGFuZGxlcjpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgaGFuZGxlcl9uYW1lOlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICBoYW5kbGVyX29yZ2FuaXphdGlvbjpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWU6XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIHN0YXJ0X2RhdGU6XG4gICAgICAgIHR5cGU6IERhdGVcbiAgICBkdWVfZGF0ZTpcbiAgICAgICAgdHlwZTogRGF0ZVxuICAgIGlzX3JlYWQ6XG4gICAgICAgIHR5cGU6IEJvb2xlYW5cbiAgICBpc19lcnJvcjpcbiAgICAgICAgdHlwZTogQm9vbGVhblxuICAgIHZhbHVlczpcbiAgICAgICAgdHlwZTogT2JqZWN0XG4gICAgZGVhZGxpbmU6XG4gICAgICAgIHR5cGU6IERhdGVcbiAgICByZW1pbmRfZGF0ZTpcbiAgICAgICAgdHlwZTogRGF0ZVxuICAgIHJlbWluZGVkX2NvdW50OlxuICAgICAgICB0eXBlOiBOdW1iZXJcbiAgICByZWFkX2RhdGU6XG4gICAgICAgIHR5cGU6IERhdGVcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgbW9kaWZpZWQ6XG4gICAgICAgIHR5cGU6IERhdGVcbiAgICBtb2RpZmllZF9ieTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgc2lnbl9zaG93OlxuICAgICAgICB0eXBlOiBCb29sZWFuXG4gICAganVkZ2U6XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIG5leHRfc3RlcHM6XG4gICAgICAgIHR5cGU6IEFycmF5XG4gICAgXCJuZXh0X3N0ZXBzLiRcIjpcbiAgICAgICAgdHlwZTogT2JqZWN0XG4gICAgXCJuZXh0X3N0ZXBzLiQuc3RlcFwiOlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICBcIm5leHRfc3RlcHMuJC51c2Vyc1wiOlxuICAgICAgICB0eXBlOiBbU3RyaW5nXVxuICAgIGZpbmlzaF9kYXRlOlxuICAgICAgICB0eXBlOiBEYXRlXG4gICAgY29zdF90aW1lOlxuICAgICAgICB0eXBlOiBOdW1iZXJcbiAgICBzcGFjZTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgaW5zdGFuY2VfbmFtZTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgc3VibWl0dGVyOlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICBzdWJtaXR0ZXJfbmFtZTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgYXBwbGljYW50OlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICBhcHBsaWNhbnRfbmFtZTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lOlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICBzdWJtaXRfZGF0ZTpcbiAgICAgICAgdHlwZTogRGF0ZVxuICAgIGZsb3c6XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIGZsb3dfbmFtZTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgZm9ybTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgc3RlcDpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgc3RlcF9uYW1lOlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICBjYXRlZ29yeV9uYW1lOlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICBpbnN0YW5jZV9zdGF0ZTpcbiAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlOlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICBmb3J3YXJkX2Zyb21faW5zdGFuY2U6XG4gICAgICAgIHR5cGU6IFN0cmluZ1xuICAgIGtleXdvcmRzOlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICBpc19hcmNoaXZlZDpcbiAgICAgICAgdHlwZTogQm9vbGVhblxuICAgIGNhdGVnb3J5OlxuICAgICAgICB0eXBlOiBTdHJpbmdcbiIsImRiLmF1dGhfdG9rZW5zID0gbmV3IE1ldGVvci5Db2xsZWN0aW9uKCdhdXRoX3Rva2VucycpIiwibWFya2VkID0gcmVxdWlyZShcIm1hcmtlZFwiKVxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUgPSB7fTtcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiXCJcIlxuXHQ8dHI+XG5cdFx0PHRkIGNsYXNzPVwiaW5zLWF0dGFjaC12aWV3XCI+XG5cdFx0XHQ8YSBocmVmPVwie3tpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCBfaWQgYWJzb2x1dGV9fVwiIGNsYXNzPVwiaW5zX2F0dGFjaF9ocmVmXCIgdGFyZ2V0PVwiX3BhcmVudFwiIGRhdGEtbmFtZT1cInt7dGhpcy5uYW1lfX1cIiBkYXRhLXR5cGU9XCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XCIgZGF0YS1pZD1cInt7X2lkfX1cIj57e3RoaXMubmFtZX19PC9hPlxuXHRcdDwvdGQ+XG5cdDwvdHI+XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmU2VsZWN0VXNlclJlYWQgPSBcIlwiXCJcblx0PGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XG5cIlwiXCJcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXBSZWFkID0gXCJcIlwiXG5cdDxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxuXHRcdHt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCIgc3R5bGU9XCJwYWRkaW5nOjBweDtcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiA+XG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJlYWRvbmx5LXRhYmxlXCIgc3R5bGU9XCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cInt7dGhpcy5jb2RlfX1UYWJsZVwiIG5hbWU9XCJ7e3RoaXMuY29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3t0aGlzLm5hbWV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XCJ7e3RoaXMubmFtZX19VGhlYWRcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRoZWFkXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cInt7dGhpcy5uYW1lfX1UYm9keVwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXHQ8L2Rpdj5cblwiXCJcIlxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlwiXCJcblxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG4gIFx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiIHN0eWxlPVwicGFkZGluZzowcHg7XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XCJ7e3RoaXMuY29kZX19VGFibGVcIiBuYW1lPVwie3t0aGlzLmNvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7dGhpcy5uYW1lfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIGRhdGEtcmVxdWlyZWQ9XCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHR7eyNpZiBpc190ZXh0YXJlYX19XG5cdFx0XHRcdFx0XHRcdFx0PHRleHRhcmVhIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+PC90ZXh0YXJlYT5cblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHR7eyN1bmxlc3MgaXNfdGV4dGFyZWF9fVxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdHt7L3VubGVzc319XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ251bWJlcid9fVxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cIm51bWJlclwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGUnfX1cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtdHlwZT1cImRhdGVcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGVUaW1lJ319XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXR5cGU9J2RhdGV0aW1lJyBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3Bhc3N3b3JkJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWxlY3QnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNlbGVjdCBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVwie3t2YWx1ZX19XCI+e3tsYWJlbH19PC9vcHRpb24+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zZWxlY3Q+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3JhZGlvJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhZi1yYWRpby1ncm91cFwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxuICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJyYWRpby1pbmxpbmUgZml4LWluZGVudFwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiB2YWx1ZT1cInt7dmFsdWV9fVwiIG5hbWU9XCJ7ey4uL2NvZGV9fVwiIGNsYXNzPVwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcIj4ge3tsYWJlbH19PC9sYWJlbD5cbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdtdWx0aVNlbGVjdCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtY2hlY2tib3gtZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJ7e3ZhbHVlfX1cIiBuYW1lPVwie3suLi9jb2RlfX1cIiBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+IHt7bGFiZWx9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndXJsJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidXJsXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZW1haWwnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJlbWFpbFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2NoZWNrYm94J319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaGVja2JveFwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJ0cnVlXCIgbmFtZT1cInt7Y29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPjwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHR7ey9pZn19XG5cdFx0XHR7ey9pZn19XG5cdFx0e3svd2l0aH19XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZSA9ICh0ZW1wYWx0ZU5hbWUsIHN0ZWVkb3NEYXRhKSAtPlxuXHR0ZW1wbGF0ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdXG5cblx0dGVtcGxhdGVDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblxuXHR0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0ZW1wbGF0ZUNvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdID0gbmV3IEJsYXplLlRlbXBsYXRlKHRlbXBhbHRlTmFtZSwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbik7XG5cdFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLmhlbHBlcnMgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dCA9IChzdGVlZG9zRGF0YSktPlxuXHRpbnN0YW5jZVNpZ25UZXh0SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX3NpZ25fdGV4dC5odG1sJylcblxuXHRpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlU2lnblRleHRIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0aW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZVNpZ25UZXh0XCIsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbik7XG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24gPSAoc3RlZWRvc0RhdGEpIC0+XG5cdGltYWdlU2lnbkh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbWFnZV9zaWduLmh0bWwnKVxuXHRpbWFnZVNpZ25Db21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW1hZ2VTaWduSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXHRpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW1hZ2VTaWduQ29tcGlsZWQpO1xuXHRUZW1wbGF0ZS5pbWFnZVNpZ24gPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbWFnZVNpZ25cIiwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZS5pbWFnZVNpZ24uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZS5pbWFnZVNpZ24uaGVscGVycyBJbWFnZVNpZ24uaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlVHJhY2VzSGFubGRlciA9IChzdGVlZG9zRGF0YSkgLT5cblx0dHJhY2VzSGFubGRlckh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfaGFuZGxlci5odG1sJylcblx0dHJhY2VzSGFubGRlckNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIYW5sZGVySHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXHR0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlc0hhbmxkZXJDb21waWxlZCk7XG5cdFRlbXBsYXRlLmluc3RhbmNlX3RyYWNlc19oYW5kbGVyID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXJcIiwgdHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uKTtcblx0VGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlci5oZWxwZXJzIFRyYWNlc0hhbmRsZXIuaGVscGVyc1xuXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0ID0gKHN0ZWVkb3NEYXRhKSAtPlxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwXCIsIHN0ZWVkb3NEYXRhKTtcblxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBSZWFkXCIsIHN0ZWVkb3NEYXRhKTtcblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge2Fic29sdXRlOiBzdGVlZG9zRGF0YS5hYnNvbHV0ZX0pO1xuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24oc3RlZWRvc0RhdGEpXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIoc3RlZWRvc0RhdGEpO1xuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKVxuXG5nZXRMaW5rVGV4dCA9IChpdGVtLCBsYWJlbCwgZGV0YWlsX3VybCktPlxuXHRpZiBkZXRhaWxfdXJsXG5cdFx0ZGV0YWlsX3VybCA9IGRldGFpbF91cmwucmVwbGFjZShcIntfaWR9XCIsIGl0ZW0uX2lkKVxuXHRcdGlmICEvXmh0dHAocz8pOlxcL1xcLy8udGVzdChkZXRhaWxfdXJsKVxuXHRcdFx0ZGV0YWlsX3VybCA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoZGV0YWlsX3VybClcblx0XHRyZXR1cm4gJzxhIGhyZWY9XCInK2RldGFpbF91cmwrJ1wiIHRhcmdldD1cIl9ibGFua1wiPicrbGFiZWwrJzwvYT4nO1xuXHRlbHNlXG5cdFx0cmV0dXJuIGxhYmVsXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSA9ICh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSAtPlxuXHRpZiAhdmFsdWUgJiYgdmFsdWUgIT0gZmFsc2Vcblx0XHRyZXR1cm4gJydcblx0aWYgW1wic2VsZWN0XCIsIFwibXVsdGlTZWxlY3RcIiwgXCJyYWRpb1wiXS5pbmRleE9mKGZpZWxkLnR5cGUpID4gLTFcblx0XHRmaWVsZE9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KFwiXFxuXCIpLm1hcCAobiktPlxuXHRcdFx0aXRlbVNwbGl0cyA9IG4uc3BsaXQoXCI6XCIpXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRsYWJlbDogaXRlbVNwbGl0c1swXSxcblx0XHRcdFx0dmFsdWU6IGl0ZW1TcGxpdHNbMV0gfHwgblxuXHRcdFx0fVxuXHRzd2l0Y2ggZmllbGQudHlwZVxuXHRcdHdoZW4gJ2VtYWlsJ1xuXHRcdFx0dmFsdWUgPSBpZiB2YWx1ZSB0aGVuICc8YSBocmVmPVxcJ21haWx0bzonICsgdmFsdWUgKyAnXFwnPicgKyB2YWx1ZSArICc8L2E+JyBlbHNlICcnXG5cdFx0d2hlbiAndXJsJ1xuXHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0aWYgdmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMFxuXHRcdFx0XHRcdHRyeVxuXHRcdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuXHRcdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gJydcblx0XHR3aGVuICdncm91cCdcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIikudG9TdHJpbmcoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5mdWxsbmFtZVxuXHRcdHdoZW4gJ3VzZXInXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5uYW1lXG5cdFx0d2hlbiAncGFzc3dvcmQnXG5cdFx0XHR2YWx1ZSA9ICcqKioqKionXG5cdFx0d2hlbiAnY2hlY2tib3gnXG5cdFx0XHRpZiB2YWx1ZSAmJiB2YWx1ZSAhPSAnZmFsc2UnXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIiwge30sIGxvY2FsZSlcblx0XHR3aGVuICdkYXRlVGltZSdcblx0XHRcdGlmIHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PSAxNlxuXHRcdFx0XHR0ID0gdmFsdWUuc3BsaXQoXCJUXCIpXG5cdFx0XHRcdHQwID0gdFswXS5zcGxpdChcIi1cIik7XG5cdFx0XHRcdHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG5cblx0XHRcdFx0eWVhciA9IHQwWzBdO1xuXHRcdFx0XHRtb250aCA9IHQwWzFdO1xuXHRcdFx0XHRkYXRlID0gdDBbMl07XG5cdFx0XHRcdGhvdXJzID0gdDFbMF07XG5cdFx0XHRcdHNlY29uZHMgPSB0MVsxXTtcblxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG5cblx0XHRcdHZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUodmFsdWUsIHV0Y09mZnNldCk7XG5cdFx0d2hlbiAnaW5wdXQnXG5cdFx0XHRpZiBmaWVsZC5pc190ZXh0YXJlYVxuXHRcdFx0XHR2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZSh2YWx1ZSkpXG5cdFx0d2hlbiAnc2VsZWN0J1xuXHRcdFx0c2VsZWN0ZWRPcHRpb24gPSBmaWVsZE9wdGlvbnMuZmluZCgoaXRlbSkgLT4gcmV0dXJuIGl0ZW0udmFsdWUgPT0gdmFsdWUpXG5cdFx0XHRpZiBzZWxlY3RlZE9wdGlvblxuXHRcdFx0XHR2YWx1ZSA9IHNlbGVjdGVkT3B0aW9uLmxhYmVsXG5cdFx0d2hlbiAncmFkaW8nXG5cdFx0XHRzZWxlY3RlZE9wdGlvbiA9IGZpZWxkT3B0aW9ucy5maW5kKChpdGVtKSAtPiByZXR1cm4gaXRlbS52YWx1ZSA9PSB2YWx1ZSlcblx0XHRcdGlmIHNlbGVjdGVkT3B0aW9uXG5cdFx0XHRcdHZhbHVlID0gc2VsZWN0ZWRPcHRpb24ubGFiZWxcblx0XHR3aGVuICdtdWx0aVNlbGVjdCdcblx0XHRcdHNwbGl0ZWRWYWx1ZXMgPSB2YWx1ZS5zcGxpdChcIixcIilcblx0XHRcdHNlbGVjdGVkT3B0aW9ucyA9IGZpZWxkT3B0aW9ucy5maWx0ZXIoKGl0ZW0pIC0+IHJldHVybiBzcGxpdGVkVmFsdWVzLmluZGV4T2YoaXRlbS52YWx1ZSkgPiAtMSlcblx0XHRcdGlmIHNlbGVjdGVkT3B0aW9ucy5sZW5ndGhcblx0XHRcdFx0dmFsdWUgPSBzZWxlY3RlZE9wdGlvbnMubWFwKChpdGVtKSAtPiByZXR1cm4gaXRlbS5sYWJlbCkuam9pbihcIixcIilcblx0XHR3aGVuICdudW1iZXInXG5cdFx0XHRpZiB2YWx1ZSBvciB2YWx1ZSA9PSAwXG5cdFx0XHRcdHZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyB2YWx1ZSwgZmllbGQuZGlnaXRzXG5cdFx0d2hlbiAnb2RhdGEnXG5cdFx0XHRkZXRhaWxfdXJsID0gZmllbGQuZGV0YWlsX3VybFxuXHRcdFx0aWYgZmllbGQuaXNfbXVsdGlzZWxlY3Rcblx0XHRcdFx0dmFsdWUgPSBfLm1hcCB2YWx1ZSwgKGl0ZW0pLT5cblx0XHRcdFx0XHRyZXR1cm4gZ2V0TGlua1RleHQoaXRlbSwgaXRlbVsnQGxhYmVsJ10sIGRldGFpbF91cmwpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybClcblx0XHR3aGVuICdodG1sJ1xuXHRcdFx0dmFsdWUgPSBpZiB2YWx1ZSB0aGVuIFwiPGRpdiBjbGFzcz1cXFwic3RlZWRvcy1odG1sXFxcIj4je3ZhbHVlfTwvZGl2PlwiIGVsc2UgJydcblxuXHRyZXR1cm4gdmFsdWU7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCA9IChmaWVsZHMsIGNvZGUpIC0+XG5cdGZpZWxkID0gZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpXG5cdGlmIGZpZWxkXG5cdFx0aWYgZmllbGQubmFtZVxuXHRcdFx0cmV0dXJuIGZpZWxkLm5hbWVcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmllbGQuY29kZVxuXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uID0gKGluc3RhbmNlKS0+XG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXG5cdGZvcm1fdmVyc2lvbiA9IHt9XG5cblx0Zm9ybV9maWVsZHMgPSBbXTtcblxuXHRpZiBmb3JtLmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZvcm1fdmVyc2lvblxuXHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudFxuXHRlbHNlXG5cdFx0Zm9ybV92ZXJzaW9uID0gXy53aGVyZShmb3JtLmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mb3JtX3ZlcnNpb259KVswXVxuXG5cdGZvcm1fdmVyc2lvbi5maWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cblx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG5cdFx0XHRpZiBmaWVsZC5maWVsZHNcblx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2ggKGYpIC0+XG5cdFx0XHRcdFx0Zm9ybV9maWVsZHMucHVzaChmKTtcblx0XHRlbHNlIGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0ZmllbGRbJ3NmaWVsZHMnXSA9IGZpZWxkWydmaWVsZHMnXVxuXHRcdFx0ZGVsZXRlIGZpZWxkWydmaWVsZHMnXVxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG5cdFx0ZWxzZVxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG5cblx0Zm9ybV92ZXJzaW9uLmZpZWxkcyA9IGZvcm1fZmllbGRzO1xuXG5cdHJldHVybiBmb3JtX3ZlcnNpb247XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbiA9IChpbnN0YW5jZSktPlxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcblx0Zmxvd192ZXJzaW9uID0ge31cblx0aWYgZmxvdy5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cblx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnRcblx0ZWxzZVxuXHRcdGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9ufSlbMF1cblxuXHRyZXR1cm4gZmxvd192ZXJzaW9uO1xuXG5cbl9nZXRWaWV3SHRtbCA9IChwYXRoKSAtPlxuXHR2aWV3SHRtbCA9IEFzc2V0cy5nZXRUZXh0KHBhdGgpXG5cblx0aWYgdmlld0h0bWxcblx0XHR2aWV3SHRtbCA9IHZpZXdIdG1sLnJlcGxhY2UoLzx0ZW1wbGF0ZVtcXHdcXHNcXFwiXFw9J10rPi9pLFwiXCIpLnJlcGxhY2UoLzxcXC90ZW1wbGF0ZT4vaSxcIlwiKVxuXG5cdHJldHVybiB2aWV3SHRtbDtcblxuX2dldExvY2FsZSA9ICh1c2VyKS0+XG5cdGlmIHVzZXI/LmxvY2FsZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdGVsc2UgaWYgdXNlcj8ubG9jYWxlPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdlbi11cydcblx0XHRsb2NhbGUgPSBcImVuXCJcblx0ZWxzZVxuXHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRyZXR1cm4gbG9jYWxlXG5cblxuX2dldFJlcXVpcmVkRmllbGRzID0gKGZpZWxkcywgcmV2KS0+XG5cdGlmICFyZXZcblx0XHRyZXYgPSBbXTtcblxuXHRmaWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cblx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0X2dldFJlcXVpcmVkRmllbGRzKGZpZWxkLmZpZWxkcywgcmV2KVxuXHRcdGVsc2UgaWYgZmllbGQudHlwZSA9PSAndGFibGUnXG5cblx0XHRlbHNlXG5cdFx0XHRpZiBmaWVsZC5pc19yZXF1aXJlZFxuXHRcdFx0XHRyZXYucHVzaCBmaWVsZC5jb2RlXG5cdHJldHVybiByZXY7XG5cbl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XG5cdHN0YXJ0U3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwX3R5cGVcIixcInN0YXJ0XCIpXG5cblx0ZWRpdGFibGVDb2RlID0gW11cblxuXHRfLmtleXMoc3RhcnRTdGVwLnBlcm1pc3Npb25zKS5mb3JFYWNoIChrZXkpLT5cblx0XHRpZiBzdGFydFN0ZXAucGVybWlzc2lvbnNba2V5XSA9PSAnZWRpdGFibGUnXG5cdFx0XHRlZGl0YWJsZUNvZGUucHVzaCBrZXlcblxuXHRyZXR1cm4gZWRpdGFibGVDb2RlXG5cbl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XG5cdHJlcXVpcmVkRmllbGRzID0gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkcylcblxuXHRlZGl0YWJsZUNvZGUgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZmllbGRzLCBzdGVwcylcblxuXHRyZXR1cm4gXy5pbnRlcnNlY3Rpb24ocmVxdWlyZWRGaWVsZHMsIGVkaXRhYmxlQ29kZSlcblxuX2dldFRlbXBsYXRlRGF0YSA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0Zm9ybV92ZXJzaW9uID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSlcblxuXHRsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpXG5cblx0c3RlZWRvc0RhdGEgPSB7fVxuXG5cdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdHN0ZWVkb3NEYXRhID0gXy5jbG9uZShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCkpXG5cdFx0c3RlZWRvc0RhdGEuaW5zbmFtZSA9IGluc3RhbmNlLm5hbWVcblx0XHRzdGVlZG9zRGF0YS5pbnNfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZVxuXHRcdHN0ZWVkb3NEYXRhLmluc19maW5hbF9kZWNpc2lvbiA9IGluc3RhbmNlLmluc19maW5hbF9kZWNpc2lvblxuXHRcdHN0ZWVkb3NEYXRhLmluc19jb2RlID0gaW5zdGFuY2UuY29kZVxuXHRcdHN0ZWVkb3NEYXRhLmluc19pc19hcmNoaXZlZCA9IGluc3RhbmNlLmlzX2FyY2hpdmVkXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2lzX2RlbGV0ZWQgPSBpbnN0YW5jZS5pbnNfaXNfZGVsZXRlZFxuXHRcdHN0ZWVkb3NEYXRhLmFwcGxpY2FudF9uYW1lID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHRzdGVlZG9zRGF0YS5hcHBsaWNhbnRDb250ZXh0ID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblxuXHRzdGVlZG9zRGF0YS5pbnN0YW5jZSA9IGluc3RhbmNlXG5cdHN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbiA9IGZvcm1fdmVyc2lvblxuXHRzdGVlZG9zRGF0YS5sb2NhbGUgPSBsb2NhbGVcblx0c3RlZWRvc0RhdGEudXRjT2Zmc2V0ID0gdXNlci51dGNPZmZzZXRcblx0c3RlZWRvc0RhdGEuc3BhY2UgPSBpbnN0YW5jZS5zcGFjZVxuXHRzdGVlZG9zRGF0YS5zZXNzaW9uVXNlcklkID0gdXNlci5faWRcblxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRpZiBvcHRpb25zPy5lZGl0YWJsZVxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZsb3d9KVxuXG5cdFx0XHRzdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmb3JtLmN1cnJlbnQuZmllbGRzLCBmbG93LmN1cnJlbnQuc3RlcHMpO1xuXG5cdHJldHVybiBzdGVlZG9zRGF0YTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUgPSAoZGF0ZSwgdXRjT2Zmc2V0KS0+XG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdHBhc3NpbmcgPSBmYWxzZTtcblx0ZWxzZVxuXHRcdHBhc3NpbmcgPSB0cnVlO1xuXG5cdGlmICF1dGNPZmZzZXQgJiYgdXRjT2Zmc2V0ICE9MFxuXHRcdHV0Y09mZnNldCA9IDhcblxuXHRyZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQsIHBhc3NpbmcpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW1cIik7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuXG5cdGluc3RhbmNlVGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UsIG9wdGlvbnM/LnRlbXBsYXRlTmFtZSk7XG5cblx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZTZWxlY3RVc2VyL2csXCJhZlNlbGVjdFVzZXJSZWFkXCIpXG5cblx0aWYgIW9wdGlvbnM/LmVkaXRhYmxlXG5cdFx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZGb3JtR3JvdXAvZyxcImFmRm9ybUdyb3VwUmVhZFwiKVxuXG5cdGluc3RhbmNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlVGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblxuXHRpbnN0YW5jZVJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZUNvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfcmVhZG9ubHlfdmlld1wiLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LmhlbHBlcnMgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVyc1xuXG5cdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0KHN0ZWVkb3NEYXRhKTtcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldywgc3RlZWRvc0RhdGEpXG5cblx0cmV0dXJuIFwiXCJcIlxuXHRcdDxkaXYgaWQ9J2luc3RhbmNlZm9ybScgPlxuXHRcdFx0I3tib2R5fVxuXHRcdDwvZGl2PlxuXHRcIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSBcInRhYmxlXCIgfHwgb3B0aW9ucz8udGVtcGxhdGVOYW1lID09IFwidGFibGVcIlxuXHRcdHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfdGFibGUuaHRtbCcpXG5cdGVsc2Vcblx0XHR0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzLmh0bWwnKVxuXG5cdHRyYWNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcblxuXHR0cmFjZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0cmFjZUNvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwidHJhY2VfcmVhZG9ubHlfdmlld1wiLCB0cmFjZVJlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LmhlbHBlcnMgVHJhY2VzVGVtcGxhdGUuaGVscGVyc1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LCBpbnN0YW5jZS50cmFjZXMpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50VmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpLT5cblxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXG5cdGF0dGFjaG1lbnRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2VfYXR0YWNobWVudHMuaHRtbCcpXG5cblx0YXR0YWNobWVudENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShhdHRhY2htZW50SHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoYXR0YWNobWVudENvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlld1wiLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuXG5cdHJlbGF0ZWRJbnN0YW5jZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9pbnN0YW5jZXMuaHRtbCcpXG5cblx0cmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkSW5zdGFuY2VzSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9pbnN0YW5jZXNfdmlld1wiLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuaGVscGVycyBSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnNcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldywgc3RlZWRvc0RhdGEpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcblxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcblxuXHRyZWxhdGVkUmVjb3Jkc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX3JlY29yZHMuaHRtbCcpXG5cblx0cmVsYXRlZFJlY29yZHNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZFJlY29yZHNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0cmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZFJlY29yZHNDb21waWxlZCk7XG5cblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX3JlY29yZHNfdmlld1wiLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuaGVscGVycyBSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LCBzdGVlZG9zRGF0YSlcblxuXHRyZXR1cm4gYm9keTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdCA9IChpbnN0YW5jZSktPlxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXG5cdGZvcm1fc2NyaXB0ID0gZm9ybV92ZXJzaW9uLmZvcm1fc2NyaXB0O1xuXG5cdGlmIGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLFwiXCIpLnJlcGxhY2UoL1xccy9nLFwiXCIpLmxlbmd0aCA+IDBcblx0XHRmb3JtX3NjcmlwdCA9IFwiQ29yZUZvcm0gPSB7fTtDb3JlRm9ybS5pbnN0YW5jZWZvcm0gPSB7fTtcIiArIGZvcm1fc2NyaXB0XG5cdFx0Zm9ybV9zY3JpcHQgKz0gXCI7aWYoQ29yZUZvcm0uZm9ybV9PbkxvYWQpe3dpbmRvdy5vbmxvYWQgPSBDb3JlRm9ybS5mb3JtX09uTG9hZCgpO31cIlxuXHRlbHNlXG5cdFx0Zm9ybV9zY3JpcHQgPSBcIlwiXG5cblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXG5cdGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG5cblx0b25Mb2FkU2NyaXB0ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdChpbnN0YW5jZSk7XG5cblx0Y3JlYXRvclNlcnZpY2UgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndlYnNlcnZpY2VzPy5jcmVhdG9yPy51cmxcblx0aW5zX3JlY29yZF9pZHMgPSBpbnN0YW5jZS5yZWNvcmRfaWRzXG5cdGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcik7XG5cdG9wZW5GaWxlU2NyaXB0ID0gXCJcIlwiXG5cdFx0XHRpZih3aW5kb3cuaXNOb2RlICYmIGlzTm9kZSgpKXtcblx0XHRcdFx0YXR0YWNocyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbnNfYXR0YWNoX2hyZWZcIik7XG5cdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBhdHRhY2hzLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0XHRhdHRhY2ggPSBhdHRhY2hzW2ldO1xuXHRcdFx0XHRcdGF0dGFjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0XHRpZihpc0ltYWdlKHRoaXMuZGF0YXNldC50eXBlKSB8fCBpc0h0bWwodGhpcy5kYXRhc2V0LnR5cGUpKXtcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRvcGVuV2luZG93KFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyB0aGlzLmRhdGFzZXQuaWQpO1xuXHRcdFx0XHRcdFx0fWVsc2UgaWYobndfY29yZS5jYW5PcGVuRmlsZSh0aGlzLmRhdGFzZXQubmFtZSkpe1xuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdG53X2NvcmUub3BlbkZpbGUodGhpcy5ocmVmLCB0aGlzLmRhdGFzZXQubmFtZSlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZmxvdyA9IFwiI3tpbnN0YW5jZS5mbG93fVwiO1xuXHRcdFx0dmFyIHNwYWNlID0gXCIje2luc3RhbmNlLnNwYWNlfVwiO1xuXG5cdFx0XHRmdW5jdGlvbiBnZXRDb29raWUobmFtZSl7XG5cdFx0XHRcdGxldCBwYXR0ZXJuID0gUmVnRXhwKG5hbWUgKyBcIj0uW147XSpcIilcblx0XHRcdFx0bGV0IG1hdGNoZWQgPSBkb2N1bWVudC5jb29raWUubWF0Y2gocGF0dGVybilcblx0XHRcdFx0aWYobWF0Y2hlZCl7XG5cdFx0XHRcdFx0bGV0IGNvb2tpZSA9IG1hdGNoZWRbMF0uc3BsaXQoJz0nKVxuXHRcdFx0XHRcdHJldHVybiBjb29raWVbMV1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gJydcblx0XHRcdH1cblxuXHRcdFx0dmFyIHJlY29yZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5zLXJlbGF0ZWQtcmVjb3Jkc1wiKTtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCByZWNvcmRzLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0XHR2YXIgcmVjb3JkID0gcmVjb3Jkc1tpXTtcblx0XHRcdFx0XHRyZWNvcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdFx0dmFyIGNyZWF0b3JTZXJ2aWNlID0gXCIje2NyZWF0b3JTZXJ2aWNlfVwiXG5cdFx0XHRcdFx0XHR2YXIgaW5zX3JlY29yZF9pZHMgPSAje0pTT04uc3RyaW5naWZ5KGluc19yZWNvcmRfaWRzKX1cblx0XHRcdFx0XHRcdGlmKGNyZWF0b3JTZXJ2aWNlICYmIGluc19yZWNvcmRfaWRzICYmIGluc19yZWNvcmRfaWRzLmxlbmd0aCA+IDApe1xuXHRcdFx0XHRcdFx0XHR2YXIgb2JqY2V0TmFtZSA9IGluc19yZWNvcmRfaWRzWzBdLm9cblx0XHRcdFx0XHRcdFx0dmFyIGlkID0gaW5zX3JlY29yZF9pZHNbMF0uaWRzWzBdXG5cdFx0XHRcdFx0XHRcdHZhciB1b2JqID0ge307XG5cdFx0XHRcdFx0XHRcdHVvYmpbXCJYLVVzZXItSWRcIl0gPSBnZXRDb29raWUoXCJYLVVzZXItSWRcIik7XG5cdFx0XHRcdFx0XHRcdHVvYmpbXCJYLUF1dGgtVG9rZW5cIl0gPSBnZXRDb29raWUoXCJYLUF1dGgtVG9rZW5cIik7XG5cdFx0XHRcdFx0XHRcdHJlZGlyZWN0VXJsID0gY3JlYXRvclNlcnZpY2UgKyBcImFwcC8tL1wiICsgb2JqY2V0TmFtZSArIFwiL3ZpZXcvXCIgKyBpZCArIFwiP1wiICsgJC5wYXJhbSh1b2JqKTtcblx0XHRcdFx0XHRcdFx0b3BlbldpbmRvdyhyZWRpcmVjdFVybCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcIlwiXCI7XG5cblxuXHRpZiAhU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdFx0aWYgZm9ybT8uaW5zdGFuY2Vfc3R5bGUgPT0gJ3RhYmxlJ1xuXHRcdFx0aW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCJcblxuXHRpZiBvcHRpb25zPy50ZW1wbGF0ZU5hbWUgPT0gJ3RhYmxlJ1xuXHRcdGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiXG5cblx0aWYgb3B0aW9ucz8uaW5zdGFuY2Vfc3R5bGVcblx0XHRpbnN0YW5jZV9zdHlsZSA9IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGVcblxuXHRpZiAhb3B0aW9ucyB8fCBvcHRpb25zLnNob3dUcmFjZSA9PSB0cnVlXG5cdFx0dHJhY2UgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHR0cmFjZSA9IFwiXCJcblxuXHRpbnN0YW5jZUJveFN0eWxlID0gXCJcIjtcblxuXHRpZiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvblxuXHRcdGlmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09IFwiYXBwcm92ZWRcIlxuXHRcdFx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LXN1Y2Nlc3NcIlxuXHRcdGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcblx0XHRcdGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1kYW5nZXJcIlxuXHRpZiAhb3B0aW9ucyB8fCBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9PSB0cnVlXG5cdFx0YXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cdFx0cmVsYXRlZF9pbnN0YW5jZXMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxuXHRcdHJlbGF0ZWRfcmVjb3JkcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxuXHRlbHNlXG5cdFx0YXR0YWNobWVudCA9IFwiXCJcblx0XHRyZWxhdGVkX2luc3RhbmNlcyA9IFwiXCJcblx0XHRyZWxhdGVkX3JlY29yZHMgPSBcIlwiXG5cblxuXHR3aWR0aCA9IFwiOTYwcHhcIlxuXHQjXHTlpoLmnpznu5l0YWJsZeeahHBhcmVudOiuvue9rndpZHRo77yM5YiZ5Lya5a+86Ie06Zi/6YeM5LqR6YKu566x5pi+56S6dGFibGUg5byC5bi4XG5cdGlmIG9wdGlvbnM/LndpZHRoXG5cdFx0d2lkdGggPSBcIlwiXG5cblx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcInN0ZWVkb3MtY3NzXCIpXG5cblx0YWxsQ3NzTGluayA9IFwiXCJcIjxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBjbGFzcz1cIl9fbWV0ZW9yLWNzc19fXCIgaHJlZj1cIiN7Y3NzSHJlZn1cIj5cIlwiXCJcblxuXHR0cmFjZUNoZWNrID0gXCJcIlxuXHRpZiAhXy5pc0VtcHR5KHRyYWNlKVxuXHRcdHRyYWNlQ2hlY2sgPSBcImNoZWNrZWRcIlxuXHRpZiBvcHRpb25zPy50YWdnZXIgPT0gJ2VtYWlsJyB8fCBvcHRpb25zPy5lZGl0YWJsZVxuXHRcdHNob3dUcmFjZXNCdG4gPSBcIlwiXG5cdGVsc2Vcblx0XHRzaG93VHJhY2VzQnRuID0gXCJcIlwiXG5cdFx0XHQ8ZGl2IGNsYXNzPVwibmF2aWdhdGlvbi1iYXIgYnRuLWdyb3VwIG5vLXByaW50XCIgc3R5bGU9XCJtaW4td2lkdGg6IDYwMHB4OyB6LWluZGV4OiA5OTlcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInByaW50LXRvb2xcIj5cblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjYngtbGFiZWxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJjYngtcHJpbnQgY2J4LXByaW50LWF0dGFjaG1lbnRzXCIgaWQ9XCJjYngtcHJpbnQtYXR0YWNobWVudHNcIiBjaGVja2VkPVwiY2hlY2tlZFwiPjxzcGFuPiN7VEFQaTE4bi5fXygnaW5zdGFuY2VfYXR0YWNobWVudCcsIHt9LCBsb2NhbGUpfTwvc3Bhbj48L2xhYmVsPlxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNieC1sYWJlbFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImNieC1wcmludCBjYngtcHJpbnQtdHJhY2VzXCIgaWQ9XCJjYngtcHJpbnQtdHJhY2VzXCIgY2hlY2tlZD1cIiN7dHJhY2VDaGVja31cIj48c3Bhbj4je1RBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmFsX2hpc3RvcnknLCB7fSwgbG9jYWxlKX08L3NwYW4+PC9sYWJlbD5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdFwiXCJcIlxuXG5cdHNob3dUcmFjZXNTY3JpcHQgPSBcIlwiXCJcblx0XHQkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtdHJhY2VzJyk7XG5cdFx0XHR2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc3RhbmNlLXRyYWNlcycpWzBdO1xuXHRcdFx0aWYgKGIgJiYgYi5jaGVja2VkICYmIHQpe1xuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcblx0XHRcdH0gZWxzZSBpZih0KXtcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcblx0XHRcdH1cblx0XHRcdGlmKGIpe1xuXHRcdFx0XHRiLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcblx0XHRcdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblxuXHRcdFx0dmFyIGF0dGFjaG1lbnRzQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LWF0dGFjaG1lbnRzJyk7XG5cdFx0XHR2YXIgYXR0YWNobWVudHNWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXR0YWNobWVudHMtc2VjdGlvbicpWzBdO1xuXHRcdFx0aWYgKGF0dGFjaG1lbnRzQ2hlY2tib3ggJiYgYXR0YWNobWVudHNDaGVja2JveC5jaGVja2VkICYmIGF0dGFjaG1lbnRzVmlldyl7XG5cdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXG5cdFx0XHR9IGVsc2UgaWYoYXR0YWNobWVudHNWaWV3KXtcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0fVxuXHRcdFx0aWYoYXR0YWNobWVudHNDaGVja2JveCl7XG5cdFx0XHRcdGF0dGFjaG1lbnRzQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xuXHRcdFx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XCJcIlwiXG5cblx0aWYgb3B0aW9ucz8uc3R5bGVzXG5cdFx0YWxsQ3NzTGluayA9IFwiXCJcblxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mb3JtfSk7XG5cdGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiXG5cdGlmIGZvcm1cblx0XHRmb3JtRGVzY3JpcHRpb24gPSBmb3JtLmRlc2NyaXB0aW9uXG5cdFx0aWYgZm9ybURlc2NyaXB0aW9uXG5cdFx0XHRmb3JtRGVzY3JpcHRpb24gPSBmb3JtRGVzY3JpcHRpb24ucmVwbGFjZSgvXFxuL2csXCI8YnIvPlwiKVxuXHRcdFx0Zm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCJcIlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXIgaW5zdGFuY2UtaGVhZGVyXCI+XG5cdFx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHRcdCN7Zm9ybURlc2NyaXB0aW9ufVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XCJcIlwiXG5cblx0aHRtbCA9IFwiXCJcIlxuXHRcdDwhRE9DVFlQRSBodG1sPlxuXHRcdDxodG1sPlxuXHRcdFx0PGhlYWQ+XG5cdFx0XHRcdDxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVR5cGVcIiBjb250ZW50PVwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCIvPlxuXHRcdFx0XHQje2FsbENzc0xpbmt9XG5cdFx0XHRcdDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly93d3cuc3RlZWRvcy5jb20vd2Vic2l0ZS9saWJzL2pxdWVyeS5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XHRcdDxzY3JpcHQgc3JjPVwiL2pzL253X2NvcmUuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XHRcdCN7b3B0aW9ucy5wbHVnaW5zIHx8IFwiXCJ9XG5cblx0XHRcdFx0PHN0eWxlPlxuXHRcdFx0XHRcdC5zdGVlZG9ze1xuXHRcdFx0XHRcdFx0d2lkdGg6ICN7d2lkdGh9O1xuXHRcdFx0XHRcdFx0bWFyZ2luLWxlZnQ6IGF1dG87XG5cdFx0XHRcdFx0XHRtYXJnaW4tcmlnaHQ6IGF1dG87XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLW5hbWV7XG5cdFx0XHRcdFx0XHRkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQuYm94LXRvb2xze1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogbm9uZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LmJveC5jb2xsYXBzZWQtYm94IC5ib3gtYm9keSwuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1mb290ZXIge1xuXHRcdFx0XHRcdCAgZGlzcGxheTogYmxvY2s7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ym9keXtcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IGF6dXJlICFpbXBvcnRhbnQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLXRyYWNlc3tcblx0XHRcdFx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcblx0XHRcdFx0XHRcdHBhZGRpbmctcmlnaHQ6IDE1cHg7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0I3tvcHRpb25zPy5zdHlsZXMgfHwgXCJcIn1cblx0XHRcdFx0PC9zdHlsZT5cblx0XHRcdDwvaGVhZD5cblx0XHRcdDxib2R5PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlZWRvcyB3b3JrZmxvdyBpbnN0YW5jZS1wcmludFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJza2luLWdyZWVuIHNraW4tYWRtaW4tbHRlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudC13cmFwcGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0I3tzaG93VHJhY2VzQnRufVxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZS1wcmludFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlICN7aW5zdGFuY2Vfc3R5bGV9XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxmb3JtIG5hbWU9XCJpbnN0YW5jZUZvcm1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtZm9ybSBib3ggI3tpbnN0YW5jZUJveFN0eWxlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tmb3JtRGVzY3JpcHRpb25IdG1sfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveC1ib2R5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdhdHRhY2htZW50cy1zZWN0aW9uJz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7YXR0YWNobWVudH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7cmVsYXRlZF9pbnN0YW5jZXN9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje3JlbGF0ZWRfcmVjb3Jkc31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje2JvZHl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZm9ybT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0I3t0cmFjZX1cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9ib2R5PlxuXHRcdFx0PHNjcmlwdD4je29wZW5GaWxlU2NyaXB0fTsje29uTG9hZFNjcmlwdH07I3tzaG93VHJhY2VzU2NyaXB0fTwvc2NyaXB0PlxuXHRcdDwvaHRtbD5cblx0XCJcIlwiXG5cblx0cmV0dXJuIGh0bWwiLCJ2YXIgX2dldExvY2FsZSwgX2dldFJlcXVpcmVkRmllbGRzLCBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMsIF9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcywgX2dldFRlbXBsYXRlRGF0YSwgX2dldFZpZXdIdG1sLCBnZXRMaW5rVGV4dCwgbWFya2VkOyAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbm1hcmtlZCA9IHJlcXVpcmUoXCJtYXJrZWRcIik7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSA9IHt9O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiPHRyPlxcblx0PHRkIGNsYXNzPVxcXCJpbnMtYXR0YWNoLXZpZXdcXFwiPlxcblx0XHQ8YSBocmVmPVxcXCJ7e2luc19hdHRhY2hfZG93bmxvYWRfdXJsIF9pZCBhYnNvbHV0ZX19XFxcIiBjbGFzcz1cXFwiaW5zX2F0dGFjaF9ocmVmXFxcIiB0YXJnZXQ9XFxcIl9wYXJlbnRcXFwiIGRhdGEtbmFtZT1cXFwie3t0aGlzLm5hbWV9fVxcXCIgZGF0YS10eXBlPVxcXCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XFxcIiBkYXRhLWlkPVxcXCJ7e19pZH19XFxcIj57e3RoaXMubmFtZX19PC9hPlxcblx0PC90ZD5cXG48L3RyPlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZTZWxlY3RVc2VyUmVhZCA9IFwiPGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cFJlYWQgPSBcIjxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxcblx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7XFxcIj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiA+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVxcXCJkZXNjcmlwdGlvblxcXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicmVhZG9ubHktdGFibGVcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXFxcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVxcXCJ7e3RoaXMuY29kZX19VGFibGVcXFwiIG5hbWU9XFxcInt7dGhpcy5jb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3t0aGlzLm5hbWV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5Plxcblx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxcblx0XHRcdFx0XHQ8bGFiZWw+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVxcbjwvZGl2PlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlxcbnt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cXG5cdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxcblx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cXG5cdFx0XHRcdDwvZGl2PlxcbiAgXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBkYXRhLXJlcXVpcmVkPVxcXCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cXFwiPlxcblx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdHt7I2lmIGlzX3RleHRhcmVhfX1cXG5cdFx0XHRcdFx0XHRcdDx0ZXh0YXJlYSB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj48L3RleHRhcmVhPlxcblx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHR7eyN1bmxlc3MgaXNfdGV4dGFyZWF9fVxcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIHt7Z2V0UGVybWlzc2lvbnMgY29kZX19IGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdHt7L3VubGVzc319XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ251bWJlcid9fVxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZSd9fVxcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS10eXBlPVxcXCJkYXRlXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZVRpbWUnfX1cXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtdHlwZT0nZGF0ZXRpbWUnIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdwYXNzd29yZCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwicGFzc3dvcmRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWxlY3QnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNlbGVjdCBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIj57e2xhYmVsfX08L29wdGlvbj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zZWxlY3Q+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3JhZGlvJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImFmLXJhZGlvLWdyb3VwXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG4gICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcXFwiPjxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgdmFsdWU9XFxcInt7dmFsdWV9fVxcXCIgbmFtZT1cXFwie3suLi9jb2RlfX1cXFwiIGNsYXNzPVxcXCJyYWRpby1pbmxpbmUgZml4LWluZGVudFxcXCI+IHt7bGFiZWx9fTwvbGFiZWw+XFxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdtdWx0aVNlbGVjdCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJhZi1jaGVja2JveC1ncm91cFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIiBuYW1lPVxcXCJ7ey4uL2NvZGV9fVxcXCIgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj4ge3tsYWJlbH19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndXJsJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ1cmxcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdlbWFpbCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdjaGVja2JveCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjaGVja2JveFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBzdHlsZT1cXFwid2lkdGg6IDEwMCU7XFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJ0cnVlXFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj48L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlID0gZnVuY3Rpb24odGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkge1xuICB2YXIgdGVtcGxhdGUsIHRlbXBsYXRlQ29tcGlsZWQsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb247XG4gIHRlbXBsYXRlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlW3RlbXBhbHRlTmFtZV07XG4gIHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0ZW1wbGF0ZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGVbdGVtcGFsdGVOYW1lXSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZSh0ZW1wYWx0ZU5hbWUsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dCA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIHZhciBpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQsIGluc3RhbmNlU2lnblRleHRIdG1sLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb247XG4gIGluc3RhbmNlU2lnblRleHRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2Vfc2lnbl90ZXh0Lmh0bWwnKTtcbiAgaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVNpZ25UZXh0SHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMoSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24gPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICB2YXIgaW1hZ2VTaWduQ29tcGlsZWQsIGltYWdlU2lnbkh0bWwsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uO1xuICBpbWFnZVNpZ25IdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW1hZ2Vfc2lnbi5odG1sJyk7XG4gIGltYWdlU2lnbkNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbWFnZVNpZ25IdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW1hZ2VTaWduQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbWFnZVNpZ24gPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbWFnZVNpZ25cIiwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbWFnZVNpZ24uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlLmltYWdlU2lnbi5oZWxwZXJzKEltYWdlU2lnbi5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVUcmFjZXNIYW5sZGVyID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIHRyYWNlc0hhbmxkZXJDb21waWxlZCwgdHJhY2VzSGFubGRlckh0bWwsIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbjtcbiAgdHJhY2VzSGFubGRlckh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfaGFuZGxlci5odG1sJyk7XG4gIHRyYWNlc0hhbmxkZXJDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSGFubGRlckh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VzSGFubGRlckNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV90cmFjZXNfaGFuZGxlclwiLCB0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlci5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuaGVscGVycyhUcmFjZXNIYW5kbGVyLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBcIiwgc3RlZWRvc0RhdGEpO1xuICB9XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge1xuICAgICAgYWJzb2x1dGU6IHN0ZWVkb3NEYXRhLmFic29sdXRlXG4gICAgfSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbihzdGVlZG9zRGF0YSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIoc3RlZWRvc0RhdGEpO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dChzdGVlZG9zRGF0YSk7XG4gIH1cbn07XG5cbmdldExpbmtUZXh0ID0gZnVuY3Rpb24oaXRlbSwgbGFiZWwsIGRldGFpbF91cmwpIHtcbiAgaWYgKGRldGFpbF91cmwpIHtcbiAgICBkZXRhaWxfdXJsID0gZGV0YWlsX3VybC5yZXBsYWNlKFwie19pZH1cIiwgaXRlbS5faWQpO1xuICAgIGlmICghL15odHRwKHM/KTpcXC9cXC8vLnRlc3QoZGV0YWlsX3VybCkpIHtcbiAgICAgIGRldGFpbF91cmwgPSBTdGVlZG9zLmFic29sdXRlVXJsKGRldGFpbF91cmwpO1xuICAgIH1cbiAgICByZXR1cm4gJzxhIGhyZWY9XCInICsgZGV0YWlsX3VybCArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nICsgbGFiZWwgKyAnPC9hPic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSB7XG4gIHZhciBkYXRlLCBkZXRhaWxfdXJsLCBlLCBmaWVsZE9wdGlvbnMsIGhvdXJzLCBtb250aCwgc2Vjb25kcywgc2VsZWN0ZWRPcHRpb24sIHNlbGVjdGVkT3B0aW9ucywgc3BsaXRlZFZhbHVlcywgdCwgdDAsIHQxLCB5ZWFyO1xuICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSBmYWxzZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAoW1wic2VsZWN0XCIsIFwibXVsdGlTZWxlY3RcIiwgXCJyYWRpb1wiXS5pbmRleE9mKGZpZWxkLnR5cGUpID4gLTEpIHtcbiAgICBmaWVsZE9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihuKSB7XG4gICAgICB2YXIgaXRlbVNwbGl0cztcbiAgICAgIGl0ZW1TcGxpdHMgPSBuLnNwbGl0KFwiOlwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhYmVsOiBpdGVtU3BsaXRzWzBdLFxuICAgICAgICB2YWx1ZTogaXRlbVNwbGl0c1sxXSB8fCBuXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgIHZhbHVlID0gdmFsdWUgPyAnPGEgaHJlZj1cXCdtYWlsdG86JyArIHZhbHVlICsgJ1xcJz4nICsgdmFsdWUgKyAnPC9hPicgOiAnJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VybCc6XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09PSAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpLnRvU3RyaW5nKCkgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5mdWxsbmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VzZXInOlxuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUubmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgIHZhbHVlID0gJyoqKioqKic7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09ICdmYWxzZScpIHtcbiAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIiwge30sIGxvY2FsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PT0gMTYpIHtcbiAgICAgICAgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcbiAgICAgICAgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgdDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgeWVhciA9IHQwWzBdO1xuICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICBkYXRlID0gdDBbMl07XG4gICAgICAgIGhvdXJzID0gdDFbMF07XG4gICAgICAgIHNlY29uZHMgPSB0MVsxXTtcbiAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSh2YWx1ZSwgdXRjT2Zmc2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGlmIChmaWVsZC5pc190ZXh0YXJlYSkge1xuICAgICAgICB2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZSh2YWx1ZSkpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIHNlbGVjdGVkT3B0aW9uID0gZmllbGRPcHRpb25zLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSA9PT0gdmFsdWU7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZE9wdGlvbikge1xuICAgICAgICB2YWx1ZSA9IHNlbGVjdGVkT3B0aW9uLmxhYmVsO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncmFkaW8nOlxuICAgICAgc2VsZWN0ZWRPcHRpb24gPSBmaWVsZE9wdGlvbnMuZmluZChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uKSB7XG4gICAgICAgIHZhbHVlID0gc2VsZWN0ZWRPcHRpb24ubGFiZWw7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdtdWx0aVNlbGVjdCc6XG4gICAgICBzcGxpdGVkVmFsdWVzID0gdmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgICAgc2VsZWN0ZWRPcHRpb25zID0gZmllbGRPcHRpb25zLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBzcGxpdGVkVmFsdWVzLmluZGV4T2YoaXRlbS52YWx1ZSkgPiAtMTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkT3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFsdWUgPSBzZWxlY3RlZE9wdGlvbnMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5sYWJlbDtcbiAgICAgICAgfSkuam9pbihcIixcIik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAwKSB7XG4gICAgICAgIHZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyh2YWx1ZSwgZmllbGQuZGlnaXRzKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgIGRldGFpbF91cmwgPSBmaWVsZC5kZXRhaWxfdXJsO1xuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gXy5tYXAodmFsdWUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZ2V0TGlua1RleHQoaXRlbSwgaXRlbVsnQGxhYmVsJ10sIGRldGFpbF91cmwpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdodG1sJzpcbiAgICAgIHZhbHVlID0gdmFsdWUgPyBcIjxkaXYgY2xhc3M9XFxcInN0ZWVkb3MtaHRtbFxcXCI+XCIgKyB2YWx1ZSArIFwiPC9kaXY+XCIgOiAnJztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgPSBmdW5jdGlvbihmaWVsZHMsIGNvZGUpIHtcbiAgdmFyIGZpZWxkO1xuICBmaWVsZCA9IGZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKTtcbiAgaWYgKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLm5hbWUpIHtcbiAgICAgIHJldHVybiBmaWVsZC5uYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGQuY29kZTtcbiAgICB9XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZvcm0sIGZvcm1fZmllbGRzLCBmb3JtX3ZlcnNpb247XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBmb3JtX3ZlcnNpb24gPSB7fTtcbiAgZm9ybV9maWVsZHMgPSBbXTtcbiAgaWYgKGZvcm0uY3VycmVudC5faWQgPT09IGluc3RhbmNlLmZvcm1fdmVyc2lvbikge1xuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgfSBlbHNlIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtcbiAgICAgIF9pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9uXG4gICAgfSlbMF07XG4gIH1cbiAgZm9ybV92ZXJzaW9uLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICBpZiAoZmllbGQuZmllbGRzKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgZmllbGRbJ3NmaWVsZHMnXSA9IGZpZWxkWydmaWVsZHMnXTtcbiAgICAgIGRlbGV0ZSBmaWVsZFsnZmllbGRzJ107XG4gICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICB9XG4gIH0pO1xuICBmb3JtX3ZlcnNpb24uZmllbGRzID0gZm9ybV9maWVsZHM7XG4gIHJldHVybiBmb3JtX3ZlcnNpb247XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24gPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcbiAgZmxvd192ZXJzaW9uID0ge307XG4gIGlmIChmbG93LmN1cnJlbnQuX2lkID09PSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcbiAgICBmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgZmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7XG4gICAgICBfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuICAgIH0pWzBdO1xuICB9XG4gIHJldHVybiBmbG93X3ZlcnNpb247XG59O1xuXG5fZ2V0Vmlld0h0bWwgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciB2aWV3SHRtbDtcbiAgdmlld0h0bWwgPSBBc3NldHMuZ2V0VGV4dChwYXRoKTtcbiAgaWYgKHZpZXdIdG1sKSB7XG4gICAgdmlld0h0bWwgPSB2aWV3SHRtbC5yZXBsYWNlKC88dGVtcGxhdGVbXFx3XFxzXFxcIlxcPSddKz4vaSwgXCJcIikucmVwbGFjZSgvPFxcL3RlbXBsYXRlPi9pLCBcIlwiKTtcbiAgfVxuICByZXR1cm4gdmlld0h0bWw7XG59O1xuXG5fZ2V0TG9jYWxlID0gZnVuY3Rpb24odXNlcikge1xuICB2YXIgbG9jYWxlLCByZWYsIHJlZjE7XG4gIGlmICgodXNlciAhPSBudWxsID8gKHJlZiA9IHVzZXIubG9jYWxlKSAhPSBudWxsID8gcmVmLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDAgOiB2b2lkIDApID09PSAnemgtY24nKSB7XG4gICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICB9IGVsc2UgaWYgKCh1c2VyICE9IG51bGwgPyAocmVmMSA9IHVzZXIubG9jYWxlKSAhPSBudWxsID8gcmVmMS50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwIDogdm9pZCAwKSA9PT0gJ2VuLXVzJykge1xuICAgIGxvY2FsZSA9IFwiZW5cIjtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gIH1cbiAgcmV0dXJuIGxvY2FsZTtcbn07XG5cbl9nZXRSZXF1aXJlZEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgcmV2KSB7XG4gIGlmICghcmV2KSB7XG4gICAgcmV2ID0gW107XG4gIH1cbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICByZXR1cm4gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkLmZpZWxkcywgcmV2KTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmllbGQuaXNfcmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuIHJldi5wdXNoKGZpZWxkLmNvZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXY7XG59O1xuXG5fZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHN0ZXBzKSB7XG4gIHZhciBlZGl0YWJsZUNvZGUsIHN0YXJ0U3RlcDtcbiAgc3RhcnRTdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBfdHlwZVwiLCBcInN0YXJ0XCIpO1xuICBlZGl0YWJsZUNvZGUgPSBbXTtcbiAgXy5rZXlzKHN0YXJ0U3RlcC5wZXJtaXNzaW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoc3RhcnRTdGVwLnBlcm1pc3Npb25zW2tleV0gPT09ICdlZGl0YWJsZScpIHtcbiAgICAgIHJldHVybiBlZGl0YWJsZUNvZGUucHVzaChrZXkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBlZGl0YWJsZUNvZGU7XG59O1xuXG5fZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHN0ZXBzKSB7XG4gIHZhciBlZGl0YWJsZUNvZGUsIHJlcXVpcmVkRmllbGRzO1xuICByZXF1aXJlZEZpZWxkcyA9IF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZHMpO1xuICBlZGl0YWJsZUNvZGUgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZmllbGRzLCBzdGVwcyk7XG4gIHJldHVybiBfLmludGVyc2VjdGlvbihyZXF1aXJlZEZpZWxkcywgZWRpdGFibGVDb2RlKTtcbn07XG5cbl9nZXRUZW1wbGF0ZURhdGEgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGZsb3csIGZvcm0sIGZvcm1fdmVyc2lvbiwgbG9jYWxlLCBzdGVlZG9zRGF0YTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIGZvcm1fdmVyc2lvbiA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSk7XG4gIH1cbiAgbG9jYWxlID0gX2dldExvY2FsZSh1c2VyKTtcbiAgc3RlZWRvc0RhdGEgPSB7fTtcbiAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgIHN0ZWVkb3NEYXRhID0gXy5jbG9uZShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCkpO1xuICAgIHN0ZWVkb3NEYXRhLmluc25hbWUgPSBpbnN0YW5jZS5uYW1lO1xuICAgIHN0ZWVkb3NEYXRhLmluc19zdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuICAgIHN0ZWVkb3NEYXRhLmluc19maW5hbF9kZWNpc2lvbiA9IGluc3RhbmNlLmluc19maW5hbF9kZWNpc2lvbjtcbiAgICBzdGVlZG9zRGF0YS5pbnNfY29kZSA9IGluc3RhbmNlLmNvZGU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2lzX2FyY2hpdmVkID0gaW5zdGFuY2UuaXNfYXJjaGl2ZWQ7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2lzX2RlbGV0ZWQgPSBpbnN0YW5jZS5pbnNfaXNfZGVsZXRlZDtcbiAgICBzdGVlZG9zRGF0YS5hcHBsaWNhbnRfbmFtZSA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lO1xuICAgIHN0ZWVkb3NEYXRhLmFwcGxpY2FudENvbnRleHQgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZTtcbiAgfVxuICBzdGVlZG9zRGF0YS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICBzdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb24gPSBmb3JtX3ZlcnNpb247XG4gIHN0ZWVkb3NEYXRhLmxvY2FsZSA9IGxvY2FsZTtcbiAgc3RlZWRvc0RhdGEudXRjT2Zmc2V0ID0gdXNlci51dGNPZmZzZXQ7XG4gIHN0ZWVkb3NEYXRhLnNwYWNlID0gaW5zdGFuY2Uuc3BhY2U7XG4gIHN0ZWVkb3NEYXRhLnNlc3Npb25Vc2VySWQgPSB1c2VyLl9pZDtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSB7XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZm9ybVxuICAgICAgfSk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZmxvd1xuICAgICAgfSk7XG4gICAgICBzdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmb3JtLmN1cnJlbnQuZmllbGRzLCBmbG93LmN1cnJlbnQuc3RlcHMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RlZWRvc0RhdGE7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUsIHV0Y09mZnNldCkge1xuICB2YXIgcGFzc2luZztcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIHBhc3NpbmcgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBwYXNzaW5nID0gdHJ1ZTtcbiAgfVxuICBpZiAoIXV0Y09mZnNldCAmJiB1dGNPZmZzZXQgIT09IDApIHtcbiAgICB1dGNPZmZzZXQgPSA4O1xuICB9XG4gIHJldHVybiBtb21lbnQoZGF0ZSkudXRjT2Zmc2V0KHV0Y09mZnNldCwgcGFzc2luZykuZm9ybWF0KFwiWVlZWS1NTS1ERCBISDptbVwiKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIGluc3RhbmNlQ29tcGlsZWQsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24sIGluc3RhbmNlVGVtcGxhdGUsIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgaW5zdGFuY2VUZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSwgb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApO1xuICBpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZlNlbGVjdFVzZXIvZywgXCJhZlNlbGVjdFVzZXJSZWFkXCIpO1xuICBpZiAoIShvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSkge1xuICAgIGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmRm9ybUdyb3VwL2csIFwiYWZGb3JtR3JvdXBSZWFkXCIpO1xuICB9XG4gIGluc3RhbmNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlVGVtcGxhdGUsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfcmVhZG9ubHlfdmlld1wiLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0KHN0ZWVkb3NEYXRhKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIFwiPGRpdiBpZD0naW5zdGFuY2Vmb3JtJyA+XFxuXHRcIiArIGJvZHkgKyBcIlxcbjwvZGl2PlwiO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIGZvcm0sIHN0ZWVkb3NEYXRhLCB0cmFjZUNvbXBpbGVkLCB0cmFjZVJlbmRlckZ1bmN0aW9uLCB0cmFjZXNIdG1sO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGlmIChmb3JtLmluc3RhbmNlX3N0eWxlID09PSBcInRhYmxlXCIgfHwgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgdHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlc190YWJsZS5odG1sJyk7XG4gIH0gZWxzZSB7XG4gICAgdHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlcy5odG1sJyk7XG4gIH1cbiAgdHJhY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgdHJhY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VDb21waWxlZCk7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJ0cmFjZV9yZWFkb25seV92aWV3XCIsIHRyYWNlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcsIGluc3RhbmNlLnRyYWNlcyk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlKSB7XG4gIHZhciBhdHRhY2htZW50Q29tcGlsZWQsIGF0dGFjaG1lbnRIdG1sLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24sIGJvZHksIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgYXR0YWNobWVudEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9hdHRhY2htZW50cy5odG1sJyk7XG4gIGF0dGFjaG1lbnRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoYXR0YWNobWVudEh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoYXR0YWNobWVudENvbXBpbGVkKTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXdcIiwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LmhlbHBlcnMoSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3KTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCwgcmVsYXRlZEluc3RhbmNlc0h0bWwsIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICByZWxhdGVkSW5zdGFuY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfaW5zdGFuY2VzLmh0bWwnKTtcbiAgcmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkSW5zdGFuY2VzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9pbnN0YW5jZXNfdmlld1wiLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuaGVscGVycyhSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQsIHJlbGF0ZWRSZWNvcmRzSHRtbCwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICByZWxhdGVkUmVjb3Jkc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX3JlY29yZHMuaHRtbCcpO1xuICByZWxhdGVkUmVjb3Jkc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkUmVjb3Jkc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfcmVjb3Jkc192aWV3XCIsIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5oZWxwZXJzKFJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZvcm1fc2NyaXB0LCBmb3JtX3ZlcnNpb247XG4gIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICBmb3JtX3NjcmlwdCA9IGZvcm1fdmVyc2lvbi5mb3JtX3NjcmlwdDtcbiAgaWYgKGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLCBcIlwiKS5yZXBsYWNlKC9cXHMvZywgXCJcIikubGVuZ3RoID4gMCkge1xuICAgIGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHQ7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ICs9IFwiO2lmKENvcmVGb3JtLmZvcm1fT25Mb2FkKXt3aW5kb3cub25sb2FkID0gQ29yZUZvcm0uZm9ybV9PbkxvYWQoKTt9XCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ID0gXCJcIjtcbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYWxsQ3NzTGluaywgYXR0YWNobWVudCwgYm9keSwgY3JlYXRvclNlcnZpY2UsIGNzc0hyZWYsIGZvcm0sIGZvcm1EZXNjcmlwdGlvbiwgZm9ybURlc2NyaXB0aW9uSHRtbCwgaHRtbCwgaW5zX3JlY29yZF9pZHMsIGluc3RhbmNlQm94U3R5bGUsIGluc3RhbmNlX3N0eWxlLCBsb2NhbGUsIG9uTG9hZFNjcmlwdCwgb3BlbkZpbGVTY3JpcHQsIHJlZiwgcmVmMSwgcmVsYXRlZF9pbnN0YW5jZXMsIHJlbGF0ZWRfcmVjb3Jkcywgc2hvd1RyYWNlc0J0biwgc2hvd1RyYWNlc1NjcmlwdCwgdHJhY2UsIHRyYWNlQ2hlY2ssIHdpZHRoO1xuICBib2R5ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBvbkxvYWRTY3JpcHQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0KGluc3RhbmNlKTtcbiAgY3JlYXRvclNlcnZpY2UgPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndlYnNlcnZpY2VzKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3JlYXRvcikgIT0gbnVsbCA/IHJlZjEudXJsIDogdm9pZCAwIDogdm9pZCAwO1xuICBpbnNfcmVjb3JkX2lkcyA9IGluc3RhbmNlLnJlY29yZF9pZHM7XG4gIGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcik7XG4gIG9wZW5GaWxlU2NyaXB0ID0gXCJpZih3aW5kb3cuaXNOb2RlICYmIGlzTm9kZSgpKXtcXG5cdGF0dGFjaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxcXCJpbnNfYXR0YWNoX2hyZWZcXFwiKTtcXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBhdHRhY2hzLmxlbmd0aDsgaSsrKXtcXG5cdFx0YXR0YWNoID0gYXR0YWNoc1tpXTtcXG5cdFx0YXR0YWNoLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgZnVuY3Rpb24oZSl7XFxuXHRcdFx0aWYoaXNJbWFnZSh0aGlzLmRhdGFzZXQudHlwZSkgfHwgaXNIdG1sKHRoaXMuZGF0YXNldC50eXBlKSl7XFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XFxuXHRcdFx0XHRvcGVuV2luZG93KFxcXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cXFwiICsgdGhpcy5kYXRhc2V0LmlkKTtcXG5cdFx0XHR9ZWxzZSBpZihud19jb3JlLmNhbk9wZW5GaWxlKHRoaXMuZGF0YXNldC5uYW1lKSl7XFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XFxuXHRcdFx0XHRud19jb3JlLm9wZW5GaWxlKHRoaXMuaHJlZiwgdGhpcy5kYXRhc2V0Lm5hbWUpXFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG59XFxuXFxudmFyIGZsb3cgPSBcXFwiXCIgKyBpbnN0YW5jZS5mbG93ICsgXCJcXFwiO1xcbnZhciBzcGFjZSA9IFxcXCJcIiArIGluc3RhbmNlLnNwYWNlICsgXCJcXFwiO1xcblxcbmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKXtcXG5cdGxldCBwYXR0ZXJuID0gUmVnRXhwKG5hbWUgKyBcXFwiPS5bXjtdKlxcXCIpXFxuXHRsZXQgbWF0Y2hlZCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChwYXR0ZXJuKVxcblx0aWYobWF0Y2hlZCl7XFxuXHRcdGxldCBjb29raWUgPSBtYXRjaGVkWzBdLnNwbGl0KCc9JylcXG5cdFx0cmV0dXJuIGNvb2tpZVsxXVxcblx0fVxcblx0cmV0dXJuICcnXFxufVxcblxcbnZhciByZWNvcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcXFwiaW5zLXJlbGF0ZWQtcmVjb3Jkc1xcXCIpO1xcbmZvcih2YXIgaSA9IDA7IGkgPCByZWNvcmRzLmxlbmd0aDsgaSsrKXtcXG5cdFx0dmFyIHJlY29yZCA9IHJlY29yZHNbaV07XFxuXHRcdHJlY29yZC5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdHZhciBjcmVhdG9yU2VydmljZSA9IFxcXCJcIiArIGNyZWF0b3JTZXJ2aWNlICsgXCJcXFwiXFxuXHRcdFx0dmFyIGluc19yZWNvcmRfaWRzID0gXCIgKyAoSlNPTi5zdHJpbmdpZnkoaW5zX3JlY29yZF9pZHMpKSArIFwiXFxuXHRcdFx0aWYoY3JlYXRvclNlcnZpY2UgJiYgaW5zX3JlY29yZF9pZHMgJiYgaW5zX3JlY29yZF9pZHMubGVuZ3RoID4gMCl7XFxuXHRcdFx0XHR2YXIgb2JqY2V0TmFtZSA9IGluc19yZWNvcmRfaWRzWzBdLm9cXG5cdFx0XHRcdHZhciBpZCA9IGluc19yZWNvcmRfaWRzWzBdLmlkc1swXVxcblx0XHRcdFx0dmFyIHVvYmogPSB7fTtcXG5cdFx0XHRcdHVvYmpbXFxcIlgtVXNlci1JZFxcXCJdID0gZ2V0Q29va2llKFxcXCJYLVVzZXItSWRcXFwiKTtcXG5cdFx0XHRcdHVvYmpbXFxcIlgtQXV0aC1Ub2tlblxcXCJdID0gZ2V0Q29va2llKFxcXCJYLUF1dGgtVG9rZW5cXFwiKTtcXG5cdFx0XHRcdHJlZGlyZWN0VXJsID0gY3JlYXRvclNlcnZpY2UgKyBcXFwiYXBwLy0vXFxcIiArIG9iamNldE5hbWUgKyBcXFwiL3ZpZXcvXFxcIiArIGlkICsgXFxcIj9cXFwiICsgJC5wYXJhbSh1b2JqKTtcXG5cdFx0XHRcdG9wZW5XaW5kb3cocmVkaXJlY3RVcmwpO1xcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxuXCI7XG4gIGlmICghU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gICAgaWYgKChmb3JtICE9IG51bGwgPyBmb3JtLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgaW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCI7XG4gICAgfVxuICB9XG4gIGlmICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgaW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCI7XG4gIH1cbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApIHtcbiAgICBpbnN0YW5jZV9zdHlsZSA9IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGU7XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd1RyYWNlID09PSB0cnVlKSB7XG4gICAgdHJhY2UgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIHRyYWNlID0gXCJcIjtcbiAgfVxuICBpbnN0YW5jZUJveFN0eWxlID0gXCJcIjtcbiAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgIGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1zdWNjZXNzXCI7XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICBpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtZGFuZ2VyXCI7XG4gICAgfVxuICB9XG4gIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9PT0gdHJ1ZSkge1xuICAgIGF0dGFjaG1lbnQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgICByZWxhdGVkX2luc3RhbmNlcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICAgIHJlbGF0ZWRfcmVjb3JkcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBhdHRhY2htZW50ID0gXCJcIjtcbiAgICByZWxhdGVkX2luc3RhbmNlcyA9IFwiXCI7XG4gICAgcmVsYXRlZF9yZWNvcmRzID0gXCJcIjtcbiAgfVxuICB3aWR0aCA9IFwiOTYwcHhcIjtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMud2lkdGggOiB2b2lkIDApIHtcbiAgICB3aWR0aCA9IFwiXCI7XG4gIH1cbiAgY3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcInN0ZWVkb3MtY3NzXCIpO1xuICBhbGxDc3NMaW5rID0gXCI8bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBjbGFzcz1cXFwiX19tZXRlb3ItY3NzX19cXFwiIGhyZWY9XFxcIlwiICsgY3NzSHJlZiArIFwiXFxcIj5cIjtcbiAgdHJhY2VDaGVjayA9IFwiXCI7XG4gIGlmICghXy5pc0VtcHR5KHRyYWNlKSkge1xuICAgIHRyYWNlQ2hlY2sgPSBcImNoZWNrZWRcIjtcbiAgfVxuICBpZiAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGFnZ2VyIDogdm9pZCAwKSA9PT0gJ2VtYWlsJyB8fCAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkpIHtcbiAgICBzaG93VHJhY2VzQnRuID0gXCJcIjtcbiAgfSBlbHNlIHtcbiAgICBzaG93VHJhY2VzQnRuID0gXCI8ZGl2IGNsYXNzPVxcXCJuYXZpZ2F0aW9uLWJhciBidG4tZ3JvdXAgbm8tcHJpbnRcXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6IDYwMHB4OyB6LWluZGV4OiA5OTlcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwicHJpbnQtdG9vbFxcXCI+XFxuXHRcdDxsYWJlbCBjbGFzcz1cXFwiY2J4LWxhYmVsXFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJjYngtcHJpbnQgY2J4LXByaW50LWF0dGFjaG1lbnRzXFxcIiBpZD1cXFwiY2J4LXByaW50LWF0dGFjaG1lbnRzXFxcIiBjaGVja2VkPVxcXCJjaGVja2VkXFxcIj48c3Bhbj5cIiArIChUQVBpMThuLl9fKCdpbnN0YW5jZV9hdHRhY2htZW50Jywge30sIGxvY2FsZSkpICsgXCI8L3NwYW4+PC9sYWJlbD5cXG5cdFx0PGxhYmVsIGNsYXNzPVxcXCJjYngtbGFiZWxcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNieC1wcmludCBjYngtcHJpbnQtdHJhY2VzXFxcIiBpZD1cXFwiY2J4LXByaW50LXRyYWNlc1xcXCIgY2hlY2tlZD1cXFwiXCIgKyB0cmFjZUNoZWNrICsgXCJcXFwiPjxzcGFuPlwiICsgKFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmFsX2hpc3RvcnknLCB7fSwgbG9jYWxlKSkgKyBcIjwvc3Bhbj48L2xhYmVsPlxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gIH1cbiAgc2hvd1RyYWNlc1NjcmlwdCA9IFwiJCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbigpe1xcblx0dmFyIGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LXRyYWNlcycpO1xcblx0dmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnN0YW5jZS10cmFjZXMnKVswXTtcXG5cdGlmIChiICYmIGIuY2hlY2tlZCAmJiB0KXtcXG5cdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHR9IGVsc2UgaWYodCl7XFxuXHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHR9XFxuXHRpZihiKXtcXG5cdFx0Yi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcXG5cdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XFxuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdFx0XHR9IGVsc2Uge1xcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdFx0XHR9XFxuXHRcdH0pO1xcblx0fVxcblxcblxcblx0dmFyIGF0dGFjaG1lbnRzQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LWF0dGFjaG1lbnRzJyk7XFxuXHR2YXIgYXR0YWNobWVudHNWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXR0YWNobWVudHMtc2VjdGlvbicpWzBdO1xcblx0aWYgKGF0dGFjaG1lbnRzQ2hlY2tib3ggJiYgYXR0YWNobWVudHNDaGVja2JveC5jaGVja2VkICYmIGF0dGFjaG1lbnRzVmlldyl7XFxuXHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHR9IGVsc2UgaWYoYXR0YWNobWVudHNWaWV3KXtcXG5cdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0fVxcblx0aWYoYXR0YWNobWVudHNDaGVja2JveCl7XFxuXHRcdGF0dGFjaG1lbnRzQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XFxuXHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdFx0XHR9IGVsc2Uge1xcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxufSk7XFxuXCI7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnN0eWxlcyA6IHZvaWQgMCkge1xuICAgIGFsbENzc0xpbmsgPSBcIlwiO1xuICB9XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlLmZvcm1cbiAgfSk7XG4gIGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiO1xuICBpZiAoZm9ybSkge1xuICAgIGZvcm1EZXNjcmlwdGlvbiA9IGZvcm0uZGVzY3JpcHRpb247XG4gICAgaWYgKGZvcm1EZXNjcmlwdGlvbikge1xuICAgICAgZm9ybURlc2NyaXB0aW9uID0gZm9ybURlc2NyaXB0aW9uLnJlcGxhY2UoL1xcbi9nLCBcIjxici8+XCIpO1xuICAgICAgZm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiPGRpdiBjbGFzcz1cXFwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXIgaW5zdGFuY2UtaGVhZGVyXFxcIj5cXG5cdDxkaXY+XFxuXHRcdFwiICsgZm9ybURlc2NyaXB0aW9uICsgXCJcXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICAgIH1cbiAgfVxuICBodG1sID0gXCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbD5cXG5cdDxoZWFkPlxcblx0XHQ8bWV0YSBodHRwLWVxdWl2PVxcXCJDb250ZW50LVR5cGVcXFwiIGNvbnRlbnQ9XFxcInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFxcXCIvPlxcblx0XHRcIiArIGFsbENzc0xpbmsgKyBcIlxcblx0XHQ8c2NyaXB0IHNyYz1cXFwiaHR0cHM6Ly93d3cuc3RlZWRvcy5jb20vd2Vic2l0ZS9saWJzL2pxdWVyeS5taW4uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuXHRcdDxzY3JpcHQgc3JjPVxcXCIvanMvbndfY29yZS5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cdFx0XCIgKyAob3B0aW9ucy5wbHVnaW5zIHx8IFwiXCIpICsgXCJcXG5cXG5cdFx0PHN0eWxlPlxcblx0XHRcdC5zdGVlZG9ze1xcblx0XHRcdFx0d2lkdGg6IFwiICsgd2lkdGggKyBcIjtcXG5cdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xcblx0XHRcdFx0bWFyZ2luLXJpZ2h0OiBhdXRvO1xcblx0XHRcdH1cXG5cXG5cdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtbmFtZXtcXG5cdFx0XHRcdGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XFxuXHRcdFx0fVxcblx0XHRcdC5ib3gtdG9vbHN7XFxuXHRcdFx0XHRkaXNwbGF5OiBub25lO1xcblx0XHRcdH1cXG5cdFx0XHQuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1ib2R5LC5ib3guY29sbGFwc2VkLWJveCAuYm94LWZvb3RlciB7XFxuXHRcdFx0ICBkaXNwbGF5OiBibG9jaztcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Ym9keXtcXG5cdFx0XHRcdGJhY2tncm91bmQ6IGF6dXJlICFpbXBvcnRhbnQ7XFxuXHRcdFx0fVxcblxcblx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS10cmFjZXN7XFxuXHRcdFx0XHRwYWRkaW5nLWxlZnQ6IDE1cHg7XFxuXHRcdFx0XHRwYWRkaW5nLXJpZ2h0OiAxNXB4O1xcblx0XHRcdH1cXG5cXG5cdFx0XHRcIiArICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5zdHlsZXMgOiB2b2lkIDApIHx8IFwiXCIpICsgXCJcXG5cdFx0PC9zdHlsZT5cXG5cdDwvaGVhZD5cXG5cdDxib2R5Plxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJzdGVlZG9zIHdvcmtmbG93IGluc3RhbmNlLXByaW50XFxcIj5cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJza2luLWdyZWVuIHNraW4tYWRtaW4tbHRlXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcIndyYXBwZXJcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb250ZW50LXdyYXBwZXJcXFwiPlxcblx0XHRcdFx0XHRcdFwiICsgc2hvd1RyYWNlc0J0biArIFwiXFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UtcHJpbnRcXFwiPlxcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UgXCIgKyBpbnN0YW5jZV9zdHlsZSArIFwiXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PGZvcm0gbmFtZT1cXFwiaW5zdGFuY2VGb3JtXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1mb3JtIGJveCBcIiArIGluc3RhbmNlQm94U3R5bGUgKyBcIlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGZvcm1EZXNjcmlwdGlvbkh0bWwgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYm94LWJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2F0dGFjaG1lbnRzLXNlY3Rpb24nPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBhdHRhY2htZW50ICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgcmVsYXRlZF9pbnN0YW5jZXMgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyByZWxhdGVkX3JlY29yZHMgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgYm9keSArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdDwvZm9ybT5cXG5cdFx0XHRcdFx0XHRcdFx0XCIgKyB0cmFjZSArIFwiXFxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0PC9kaXY+XFxuXHQ8L2JvZHk+XFxuXHQ8c2NyaXB0PlwiICsgb3BlbkZpbGVTY3JpcHQgKyBcIjtcIiArIG9uTG9hZFNjcmlwdCArIFwiO1wiICsgc2hvd1RyYWNlc1NjcmlwdCArIFwiPC9zY3JpcHQ+XFxuPC9odG1sPlwiO1xuICByZXR1cm4gaHRtbDtcbn07XG4iLCJUZW1wbGF0ZU1hbmFnZXIgPSB7fTtcblxuZm9ybUlkID0gJ2luc3RhbmNlZm9ybSc7XG5cblxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gKCktPlxuXHRwYWdlVGl0bGUgPSBcIlwiXCJcblx0XHR7e2luc3RhbmNlLm5hbWV9fVxuXHRcIlwiXCJcblxuXHRwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCJcblxuXHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lXG5cdFx0cGFnZVRpdGxlID0gXCJcIlwiXG5cdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3tDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWV9XCIgbGFiZWw9ZmFsc2V9fVxuXHRcdFwiXCJcIlxuXHRcdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiXG5cblx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZVxuXHRcdHBhZ2VUaXRsZSA9IFwiXCJcIlxuXHRcdFx0I3tDb3JlRm9ybS5wYWdlVGl0bGV9XG5cdFx0XCJcIlwiXG5cdFx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiXCJcblxuXHR2YWwgPVxuXHRcdHBhZ2VUaXRsZTogcGFnZVRpdGxlXG5cdFx0cGFnZVRpdGxlVHJDbGFzczogcGFnZVRpdGxlVHJDbGFzc1xuXG5cdHJldHVybiB2YWxcblxuVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUgPSAoaW5zdGFuY2UsIF9leHBvcnQpIC0+XG5cblx0dGVtcGxhdGUgPSBcIlwiXCJcblx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcIj5cblx0XHRcdDx0ciBjbGFzcz1cIiN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZVRyQ2xhc3N9XCI+XG5cdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLW5hbWUtdGQgcGFnZS10aXRsZVwiPlxuXHRcdFx0XHRcdCN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZX1cblx0XHRcdFx0PC90ZD5cblx0XHRcdDwvdHI+XG5cblx0XHQ8L3RhYmxlPlxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtYm9keSBmb3JtLXRhYmxlXCI+XG5cdFx0XHRcdDx0ciBzdHlsZT1cImhlaWdodDowcHhcIj5cblx0XHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XG5cdFx0XHRcdFx0PHRoPjwvdGg+XG5cdFx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxuXHRcdFx0XHRcdDx0aD48L3RoPlxuXHRcdFx0XHQ8L3RyPlxuXHRcIlwiXCI7XG5cblx0dGFibGVfZmllbGRzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50YWJsZV9maWVsZHMoaW5zdGFuY2UpXG5cblx0dGFibGVfZmllbGRzLmZvckVhY2ggKHRhYmxlX2ZpZWxkKS0+XG5cblx0XHRyZXF1aXJlZCA9IFwiXCJcblx0XHRpZiAhQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSB8fCBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lICE9IHRhYmxlX2ZpZWxkLmNvZGVcblx0XHRcdGlmIHRhYmxlX2ZpZWxkLmlzX3JlcXVpcmVkXG5cdFx0XHRcdHJlcXVpcmVkID0gXCJpcy1yZXF1aXJlZFwiXG5cblx0XHRcdGlmIF9leHBvcnRcblx0XHRcdFx0cmVxdWlyZWQgPSBcIlwiO1xuXG5cdFx0XHRwdXJlQ29kZSA9IFN0ZWVkb3MucmVtb3ZlU3BlY2lhbENoYXJhY3Rlcih0YWJsZV9maWVsZC5jb2RlKTtcblxuXHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZCh0YWJsZV9maWVsZClcblx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcblx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgI3tyZXF1aXJlZH1cIj5cblx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwifX1cblx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGQgb3Bpbmlvbi1maWVsZC0je3B1cmVDb2RlfSBhdXRvbWF0aWNcIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XG5cdFx0XHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwifX1cblx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXModGFibGVfZmllbGQudHlwZSwgJ3NlY3Rpb24sdGFibGUnKVxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0XG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkIHRkLWNoaWxkZmllbGQtI3twdXJlQ29kZX1cIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XG5cdFx0XHRcdFx0XHQgICB7ez4gYWZGb3JtR3JvdXAgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIiBsYWJlbD1mYWxzZX19XG5cdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZFxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcblxuXHRcdFx0XHRcdGlmIF9leHBvcnRcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcIlwiXG5cdFx0XHRcdFx0XHRmaWVsZF9wZXJtaXNzaW9uID0gXCJcIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcInRpdGxlLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvblxuXHRcdFx0XHRcdFx0ZmllbGRfcGVybWlzc2lvbiA9IFwiZmllbGQtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uXG5cblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlIHRkLXRpdGxlLSN7cHVyZUNvZGV9ICN7dGl0bGVfcGVybWlzc2lvbn0gI3tyZXF1aXJlZH1cIj5cblx0XHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIHRkLWZpZWxkLSN7cHVyZUNvZGV9ICN7ZmllbGRfcGVybWlzc2lvbn1cIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXG5cblx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0PC90YWJsZT5cblxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtZm9vdGVyIGZvcm0tdGFibGUgbm8tYm9yZGVyXCI+XG5cdFx0XHQ8dHIgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlclwiPlxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX3vvJo8L2xhYmVsPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXRhYmxlLXdyYXBwZXItdGQgaW5saW5lLWxlZnQnPlxuXHRcdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdwdWxsLWxlZnQnPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWw+e3tfdCBcImluc3RhbmNlX3N1Ym1pdF9kYXRlXCJ9fe+8mjwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1yaWdodCc+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XCJmb3JtYXRcIjpcIllZWVktTU0tRERcIn0nfX1cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC90ZD5cblx0XHRcdDwvdHI+XG5cdFx0PC90YWJsZT5cblx0PC9kaXY+XG5cdFwiXCJcIlxuXHRyZXR1cm4gdGVtcGxhdGVcblxuI+atpOWkhOaooeadv+WFrOeUqOS4ju+8mmluc3RhbmNlIOe8lui+keOAgeafpeeci+OAgeaJk+WNsOOAgei9rOWPkeaXtueUn+aIkOmZhOS7tuOAgeWPkemAgemCruS7tmJvZHnpg6jliIYodGFibGUg5qih5p2/KVxuI+WmguaenOacieS/ruaUue+8jOivt+a1i+ivleehruiupOWFtuS7luWKn+iDveaYr+WQpuato+W4uOOAglxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZSA9XG5cdGRlZmF1bHQ6IChpbnN0YW5jZSktPlxuXG5cdFx0dGVtcGxhdGUgPSBcIlwiXCJcblx0XHRcdDxkaXYgY2xhc3M9XCJ3aXRoLWJvcmRlciBjb2wtbWQtMTJcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cblx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJib3gtdGl0bGVcIj4je1RlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZX08L2gzPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cblx0XHRcdDwvZGl2PlxuXHRcdFx0e3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cblx0XHRcdFx0e3sjaWYgaXNPcGluaW9uRmllbGQgdGhpc319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX08L2xhYmVsPlxuXG5cdFx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMiBmaWVsZC17e3RoaXMuY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlfX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svZWFjaH19XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlciBmb3JtLWdyb3VwIGZvcm0taG9yaXpvbnRhbFwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYWRkb25cIj5cblx0XHRcdFx0XHQgIHt7X3QgXCJpbnN0YW5jZV9pbml0aWF0b3JcIn19Jm5ic3A7OlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cblx0XHRcdFx0ICA8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcIlwiXCJcblx0XHRyZXR1cm4gdGVtcGxhdGVcblxuXHR0YWJsZTogKGluc3RhbmNlKS0+XG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKVxuI1x0dGFibGU6ICcnJ1xuI1x0XHQ8dGFibGUgY2xhc3M9XCJib3gtaGVhZGVyICB3aXRoLWJvcmRlclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7ZGlzcGxheTogaW5saW5lLXRhYmxlO1wiPlxuI1x0XHRcdDx0ciBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLW5hbWUtdGRcIj5cbiNcdFx0XHRcdFx0PGgzIGNsYXNzPVwiYm94LXRpdGxlXCI+e3tpbnN0YW5jZS5uYW1lfX08L2gzPlxuI1x0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XG4jXHRcdFx0XHQ8L3RkPlxuI1x0XHRcdDwvdHI+XG4jICAgICAgICAgICAgPHRyIGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXJcIj5cbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLXdyYXBwZXItdGRcIj5cbiNcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7X3QgXCJpbnN0YW5jZV9pbml0aWF0b3JcIn19Jm5ic3A7OjwvbGFiZWw+XG4jXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cbiNcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0PC90cj5cbiMgICAgICAgIDwvdGFibGU+XG4jXHRcdDx0YWJsZSBjbGFzcz1cImZvcm0tdGFibGVcIj5cbiNcdFx0ICAgIHt7I2VhY2ggdGFibGVfZmllbGRzfX1cbiNcdFx0XHRcdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxuI1x0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxuI1x0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlIHt7I2lmIGlzX3JlcXVpcmVkfX1pcy1yZXF1aXJlZHt7L2lmfX1cIj5cbiNcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XG4jXHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCBvcGluaW9uLWZpZWxkXCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XG4jXHRcdFx0XHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBzdGVwPShnZXRPcGluaW9uRmllbGRTdGVwTmFtZSB0aGlzKSBkZWZhdWx0PScnfX1cbiNcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHR7e3t0cl9lbmR9fX1cbiNcdFx0XHRcdHt7ZWxzZX19XG4jXHRcdFx0XHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxuI1x0XHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkXCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XG4jXHRcdFx0XHRcdFx0XHQgICB7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxuI1x0XHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHR7e3t0cl9lbmR9fX1cbiNcdFx0XHRcdFx0e3tlbHNlfX1cbiNcdFx0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxuI1x0XHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fVxuI1x0XHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIHt7cGVybWlzc2lvbn19XCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XG4jXHRcdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdHt7e3RyX2VuZH19fVxuI1x0XHRcdFx0XHR7ey9pZn19XG4jXHRcdFx0XHR7ey9pZn19XG4jXG4jXHRcdCAgICB7ey9lYWNofX1cbiNcdFx0PC90YWJsZT5cbiNcdCcnJ1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlSGVscHMgPVxuXHRhcHBsaWNhbnRDb250ZXh0OiAtPlxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRkYXRhID0ge1xuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0YXR0czoge1xuXHRcdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRcdGlkOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRcdGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wnLFxuXHRcdFx0XHRzdHlsZTogJ3BhZGRpbmc6NnB4IDEycHg7d2lkdGg6MTQwcHg7ZGlzcGxheTppbmxpbmUnXG5cdFx0XHR9XG5cdFx0fVxuI1x0XHRpZiBub3Qgc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIlxuXHRcdGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWVcblx0XHRyZXR1cm4gZGF0YTtcblxuaW5zdGFuY2VJZDogLT5cblx0cmV0dXJuICdpbnN0YW5jZWZvcm0nOyNcImluc3RhbmNlX1wiICsgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpO1xuXG5mb3JtX3R5cGVzOiAtPlxuXHRpZiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcblx0XHRyZXR1cm4gJ2Rpc2FibGVkJztcblx0ZWxzZVxuXHRcdHJldHVybiAnbWV0aG9kJztcblxuc3RlZWRvc19mb3JtOiAtPlxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRpZiBmb3JtX3ZlcnNpb25cblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXG5cbmlubmVyc3ViZm9ybUNvbnRleHQ6IChvYmopLT5cblx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblx0b2JqW1widGFibGVWYWx1ZXNcIl0gPSBpZiBkb2NfdmFsdWVzIHRoZW4gZG9jX3ZhbHVlc1tvYmouY29kZV0gZWxzZSBbXVxuXHRvYmpbXCJmb3JtSWRcIl0gPSBmb3JtSWQ7XG5cdHJldHVybiBvYmo7XG5cbmluc3RhbmNlOiAtPlxuXHRTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpXG5cdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuXG5lcXVhbHM6IChhLCBiKSAtPlxuXHRyZXR1cm4gKGEgPT0gYilcblxuaW5jbHVkZXM6IChhLCBiKSAtPlxuXHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuXG5maWVsZHM6IC0+XG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdGlmIGZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG5cbmRvY192YWx1ZXM6IC0+XG5cdFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblxuaW5zdGFuY2VfYm94X3N0eWxlOiAtPlxuXHRib3ggPSBTZXNzaW9uLmdldChcImJveFwiKVxuXHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcblx0XHRqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIilcblx0XHRpZiBqdWRnZVxuXHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxuXHRcdFx0ZWxzZSBpZiAoanVkZ2UgPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcblx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdGlmIGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb25cblx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXG5cdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0ZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcblx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXG5cblRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZSA9IChpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSAtPlxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cblx0aWYgdGVtcGxhdGVOYW1lXG5cdFx0aWYgdGVtcGxhdGVOYW1lID09ICd0YWJsZSdcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxuXHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cblx0aWYgU2Vzc2lvbj8uZ2V0KFwiaW5zdGFuY2VQcmludFwiKVxuXHRcdGlmIGZsb3c/LnByaW50X3RlbXBsYXRlXG5cdFx0XHRyZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93LnByaW50X3RlbXBsYXRlICsgXCI8L2Rpdj5cIlxuXHRcdGVsc2Vcblx0XHRcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXG5cdFx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxuXHRlbHNlXG5cdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXG5cdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXG5cblx0XHRpZiBmb3JtPy5pbnN0YW5jZV9zdHlsZVxuXHRcdFx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSAndGFibGUnXG5cdFx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXG4jVGVtcGxhdGVNYW5hZ2VyLmV4cG9ydFRlbXBsYXRlID0gKGZsb3dJZCkgLT5cbiNcdHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGZsb3dJZCk7XG4jXG4jXHRmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZsb3coZmxvd0lkKTtcbiNcbiNcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXG4jXHRcdHJldHVybiB0ZW1wbGF0ZTtcbiNcbiNcdHJldHVybiB0ZW1wbGF0ZTtcblxuIiwidmFyIGZvcm1JZDsgICAgICAgICAgICAgICAgIFxuXG5UZW1wbGF0ZU1hbmFnZXIgPSB7fTtcblxuZm9ybUlkID0gJ2luc3RhbmNlZm9ybSc7XG5cblRlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGFnZVRpdGxlLCBwYWdlVGl0bGVUckNsYXNzLCB2YWw7XG4gIHBhZ2VUaXRsZSA9IFwie3tpbnN0YW5jZS5uYW1lfX1cIjtcbiAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiaW5zdGFuY2UtbmFtZVwiO1xuICBpZiAodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSB7XG4gICAgcGFnZVRpdGxlID0gXCJ7ez4gYWZGb3JtR3JvdXAgbmFtZT1cXFwiXCIgKyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVwiO1xuICAgIHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiO1xuICB9XG4gIGlmICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGUgOiB2b2lkIDApIHtcbiAgICBwYWdlVGl0bGUgPSBcIlwiICsgQ29yZUZvcm0ucGFnZVRpdGxlO1xuICAgIHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiO1xuICB9XG4gIHZhbCA9IHtcbiAgICBwYWdlVGl0bGU6IHBhZ2VUaXRsZSxcbiAgICBwYWdlVGl0bGVUckNsYXNzOiBwYWdlVGl0bGVUckNsYXNzXG4gIH07XG4gIHJldHVybiB2YWw7XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCBfZXhwb3J0KSB7XG4gIHZhciB0YWJsZV9maWVsZHMsIHRlbXBsYXRlO1xuICB0ZW1wbGF0ZSA9IFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLXRpdGxlIGZvcm0tdGFibGUgbm8tYm9yZGVyIHRleHQtYWxpZ24tY2VudGVyXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwMCU7ZGlzcGxheTogaW5saW5lLXRhYmxlO1xcXCI+XFxuXHRcdDx0ciBjbGFzcz1cXFwiXCIgKyAodGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZVRyQ2xhc3MpICsgXCJcXFwiPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZCBwYWdlLXRpdGxlXFxcIj5cXG5cdFx0XHRcdFwiICsgKHRoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGUpICsgXCJcXG5cdFx0XHQ8L3RkPlxcblx0XHQ8L3RyPlxcblxcblx0PC90YWJsZT5cXG5cdDx0YWJsZSBjbGFzcz1cXFwidGFibGUtcGFnZS1ib2R5IGZvcm0tdGFibGVcXFwiPlxcblx0XHRcdDx0ciBzdHlsZT1cXFwiaGVpZ2h0OjBweFxcXCI+XFxuXHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XFxuXHRcdFx0XHQ8dGg+PC90aD5cXG5cdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cXG5cdFx0XHRcdDx0aD48L3RoPlxcblx0XHRcdDwvdHI+XCI7XG4gIHRhYmxlX2ZpZWxkcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudGFibGVfZmllbGRzKGluc3RhbmNlKTtcbiAgdGFibGVfZmllbGRzLmZvckVhY2goZnVuY3Rpb24odGFibGVfZmllbGQpIHtcbiAgICB2YXIgZmllbGRfcGVybWlzc2lvbiwgcHVyZUNvZGUsIHJlcXVpcmVkLCB0aXRsZV9wZXJtaXNzaW9uO1xuICAgIHJlcXVpcmVkID0gXCJcIjtcbiAgICBpZiAoISh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApIHx8ICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApICE9PSB0YWJsZV9maWVsZC5jb2RlKSB7XG4gICAgICBpZiAodGFibGVfZmllbGQuaXNfcmVxdWlyZWQpIHtcbiAgICAgICAgcmVxdWlyZWQgPSBcImlzLXJlcXVpcmVkXCI7XG4gICAgICB9XG4gICAgICBpZiAoX2V4cG9ydCkge1xuICAgICAgICByZXF1aXJlZCA9IFwiXCI7XG4gICAgICB9XG4gICAgICBwdXJlQ29kZSA9IFN0ZWVkb3MucmVtb3ZlU3BlY2lhbENoYXJhY3Rlcih0YWJsZV9maWVsZC5jb2RlKTtcbiAgICAgIGlmIChJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkKHRhYmxlX2ZpZWxkKSkge1xuICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLXRpdGxlIFwiICsgcmVxdWlyZWQgKyBcIlxcXCI+XFxuXHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlxcbjx0ZCBjbGFzcz1cXFwidGQtZmllbGQgb3Bpbmlvbi1maWVsZCBvcGluaW9uLWZpZWxkLVwiICsgcHVyZUNvZGUgKyBcIiBhdXRvbWF0aWNcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcblx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlwiO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXModGFibGVfZmllbGQudHlwZSwgJ3NlY3Rpb24sdGFibGUnKSkge1xuICAgICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPVxcXCJ0ZC1jaGlsZGZpZWxkIHRkLWNoaWxkZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG4gICB7ez4gYWZGb3JtR3JvdXAgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwiIGxhYmVsPWZhbHNlfX1cXG48L3RkPlwiO1xuICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgICAgaWYgKF9leHBvcnQpIHtcbiAgICAgICAgICAgIHRpdGxlX3Blcm1pc3Npb24gPSBcIlwiO1xuICAgICAgICAgICAgZmllbGRfcGVybWlzc2lvbiA9IFwiXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlX3Blcm1pc3Npb24gPSBcInRpdGxlLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvbjtcbiAgICAgICAgICAgIGZpZWxkX3Blcm1pc3Npb24gPSBcImZpZWxkLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLXRpdGxlIHRkLXRpdGxlLVwiICsgcHVyZUNvZGUgKyBcIiBcIiArIHRpdGxlX3Blcm1pc3Npb24gKyBcIiBcIiArIHJlcXVpcmVkICsgXCJcXFwiPlxcblx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIn19XFxuPC90ZD5cXG48dGQgY2xhc3M9XFxcInRkLWZpZWxkIHRkLWZpZWxkLVwiICsgcHVyZUNvZGUgKyBcIiBcIiArIGZpZWxkX3Blcm1pc3Npb24gKyBcIlxcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuXHR7ez4gYWZGb3JtR3JvdXAgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwiIGxhYmVsPWZhbHNlfX1cXG48L3RkPlwiO1xuICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0ZW1wbGF0ZSArPSBcIlx0PC90YWJsZT5cXG5cXG5cdDx0YWJsZSBjbGFzcz1cXFwidGFibGUtcGFnZS1mb290ZXIgZm9ybS10YWJsZSBuby1ib3JkZXJcXFwiPlxcblx0XHQ8dHIgY2xhc3M9XFxcImFwcGxpY2FudC13cmFwcGVyXFxcIj5cXG5cdFx0XHQ8dGQgY2xhc3M9XFxcIm5vd3JhcFxcXCI+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tfdCBcXFwiaW5zdGFuY2VfaW5pdGlhdG9yXFxcIn1977yaPC9sYWJlbD5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZCBpbmxpbmUtbGVmdCc+XFxuXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVxcXCJhZlNlbGVjdFVzZXJcXFwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHQ8L3RkPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwibm93cmFwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3B1bGwtbGVmdCc+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0XHQ8bGFiZWw+e3tfdCBcXFwiaW5zdGFuY2Vfc3VibWl0X2RhdGVcXFwifX3vvJo8L2xhYmVsPlxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLXJpZ2h0Jz5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdHt7Zm9ybWF0RGF0ZSBpbnN0YW5jZS5zdWJtaXRfZGF0ZSAne1xcXCJmb3JtYXRcXFwiOlxcXCJZWVlZLU1NLUREXFxcIn0nfX1cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHQ8L3RkPlxcblx0XHQ8L3RyPlxcblx0PC90YWJsZT5cXG48L2Rpdj5cIjtcbiAgcmV0dXJuIHRlbXBsYXRlO1xufTtcblxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZSA9IHtcbiAgXCJkZWZhdWx0XCI6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIHRlbXBsYXRlO1xuICAgIHRlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPVxcXCJ3aXRoLWJvcmRlciBjb2wtbWQtMTJcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UtbmFtZVxcXCI+XFxuXHRcdDxoMyBjbGFzcz1cXFwiYm94LXRpdGxlXFxcIj5cIiArIChUZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGUpICsgXCI8L2gzPlxcblx0XHQ8c3BhbiBjbGFzcz1cXFwiaGVscC1ibG9ja1xcXCI+PC9zcGFuPlxcblx0PC9kaXY+XFxuXHQ8c3BhbiBjbGFzcz1cXFwiaGVscC1ibG9ja1xcXCI+PC9zcGFuPlxcbjwvZGl2Plxcbnt7I2VhY2ggc3RlZWRvc19mb3JtLmZpZWxkc319XFxuXHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cXG5cdFx0PGRpdiBjbGFzcz1cXFwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGF1dG9tYXRpYyBvcGluaW9uLWZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fTwvbGFiZWw+XFxuXFxuXHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPXRoaXMuY29kZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdDwvZGl2Plxcblx0e3tlbHNlfX1cXG5cdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyIGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdHt7L2lmfX1cXG5cdHt7L2lmfX1cXG57ey9lYWNofX1cXG48ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwiYXBwbGljYW50LXdyYXBwZXIgZm9ybS1ncm91cCBmb3JtLWhvcml6b250YWxcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cC1hZGRvblxcXCI+XFxuXHRcdCAge3tfdCBcXFwiaW5zdGFuY2VfaW5pdGlhdG9yXFxcIn19Jm5ic3A7Olxcblx0XHQ8L2Rpdj5cXG5cdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XFxcImFmU2VsZWN0VXNlclxcXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cXG5cdCAgPC9kaXY+XFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH0sXG4gIHRhYmxlOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZShpbnN0YW5jZSk7XG4gIH1cbn07XG5cblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVIZWxwcyA9IHtcbiAgYXBwbGljYW50Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEsIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wnLFxuICAgICAgICBzdHlsZTogJ3BhZGRpbmc6NnB4IDEycHg7d2lkdGg6MTQwcHg7ZGlzcGxheTppbmxpbmUnXG4gICAgICB9XG4gICAgfTtcbiAgICBkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG59O1xuXG4oe1xuICBpbnN0YW5jZUlkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2luc3RhbmNlZm9ybSc7XG4gIH0sXG4gIGZvcm1fdHlwZXM6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21ldGhvZCc7XG4gICAgfVxuICB9LFxuICBzdGVlZG9zX2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICAgIH1cbiAgfSxcbiAgaW5uZXJzdWJmb3JtQ29udGV4dDogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGRvY192YWx1ZXM7XG4gICAgZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICBvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGRvY192YWx1ZXMgPyBkb2NfdmFsdWVzW29iai5jb2RlXSA6IFtdO1xuICAgIG9ialtcImZvcm1JZFwiXSA9IGZvcm1JZDtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBpbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgU2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKTtcbiAgICBpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICByZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcbiAgICB9XG4gIH0sXG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICBpbmNsdWRlczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGZpZWxkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG4gICAgfVxuICB9LFxuICBkb2NfdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICB9LFxuICBpbnN0YW5jZV9ib3hfc3R5bGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib3gsIGlucywganVkZ2U7XG4gICAgYm94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIik7XG4gICAgaWYgKGJveCA9PT0gXCJpbmJveFwiIHx8IGJveCA9PT0gXCJkcmFmdFwiKSB7XG4gICAgICBqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIik7XG4gICAgICBpZiAoanVkZ2UpIHtcbiAgICAgICAgaWYgKGp1ZGdlID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGp1ZGdlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb24pIHtcbiAgICAgIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxuVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlID0gZnVuY3Rpb24oaW5zdGFuY2UsIHRlbXBsYXRlTmFtZSkge1xuICB2YXIgZmxvdywgZm9ybTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBpZiAodGVtcGxhdGVOYW1lKSB7XG4gICAgaWYgKHRlbXBsYXRlTmFtZSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICB9XG4gIGlmICh0eXBlb2YgU2Vzc2lvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTZXNzaW9uICE9PSBudWxsID8gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIDogdm9pZCAwKSB7XG4gICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cucHJpbnRfdGVtcGxhdGUgOiB2b2lkIDApIHtcbiAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cucHJpbnRfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgOiB2b2lkIDApIHtcbiAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgIH1cbiAgICBpZiAoZm9ybSAhPSBudWxsID8gZm9ybS5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkge1xuICAgICAgaWYgKGZvcm0uaW5zdGFuY2Vfc3R5bGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJTdGVlZG9zVGFibGUgPSB7fTtcblxuU3RlZWRvc1RhYmxlLmZvcm1JZCA9IFwiaW5zdGFuY2Vmb3JtXCI7XG5cblN0ZWVkb3NUYWJsZS5jaGVja0l0ZW0gPSBmdW5jdGlvbiAoZmllbGQsIGl0ZW1faW5kZXgpIHtcbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgdmFyIGZpZWxkVmFsID0gU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpdGVtX2luZGV4KTtcblxuICAgIHZhciBzZl9uYW1lID0gJyc7XG4gICAgdmFyIHJldiA9IHRydWU7XG4gICAgZmllbGRPYmouc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChzZikge1xuICAgICAgICBpZiAoc2YucGVybWlzc2lvbiA9PSAnZWRpdGFibGUnKSB7XG4gICAgICAgICAgICBzZl9uYW1lID0gZmllbGRPYmouY29kZSArIFwiLlwiICsgc2YuY29kZTtcbiAgICAgICAgICAgIGlmICghSW5zdGFuY2VNYW5hZ2VyLmNoZWNrRm9ybUZpZWxkVmFsdWUoJChcIltuYW1lPSdcIiArIHNmX25hbWUgKyBcIiddXCIpWzBdLCBzZl9uYW1lLCBmaWVsZFZhbFtzZi5jb2RlXSkpIHtcbiAgICAgICAgICAgICAgICByZXYgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldjtcbn1cblxuU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlID0gZnVuY3Rpb24gKGZpZWxkLCBpdGVtX2luZGV4LCBpdGVtX3ZhbHVlKSB7XG5cbiAgICB2YXIgdGFibGVWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKTtcbiAgICB0YWJsZVZhbHVlW2l0ZW1faW5kZXhdID0gaXRlbV92YWx1ZTtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlID0gZnVuY3Rpb24gKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKVtpdGVtX2luZGV4XTtcbn1cblxuU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbSA9IGZ1bmN0aW9uIChmaWVsZCwgaXRlbV9pbmRleCkge1xuICAgIHZhciBpdGVtX3ZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpdGVtX2luZGV4KTtcbiAgICBpdGVtX3ZhbHVlLnJlbW92ZWQgPSB0cnVlO1xufVxuXG5TdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcbiAgICAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKHtcbiAgICAgICAgdmFsOiB2YWx1ZVxuICAgIH0pO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHJldHVybiAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKCkudmFsO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHZhciB2YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKTtcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHZhbGlkVmFsdWUgPSBbXTtcblxuICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgaWYgKCF2LnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHZhbGlkVmFsdWUucHVzaCh2KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2YWxpZFZhbHVlO1xufVxuXG5cblN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhID0gZnVuY3Rpb24gKGZpZWxkLCB2YWx1ZXMpIHtcblxuICAgIGlmICghdmFsdWVzIHx8ICEodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGZpZWxkT2JqLnNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgaWYgKGYudHlwZSA9PSAndXNlcicgfHwgZi50eXBlID09ICdncm91cCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2W2YuY29kZV1cbiAgICAgICAgICAgICAgICBpZiAoZi5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMCAmJiB0eXBlb2YgKHZhbHVlWzBdKSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmdldFByb3BlcnR5KFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mICh2YWx1ZSkgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZbZi5jb2RlXS5pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09ICdkYXRlVGltZScpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2W2YuY29kZV1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2W2YuY29kZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0RmllbGQgPSBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICB2YXIgaW5zdGFuY2VGaWVsZHMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGaWVsZHMoKTtcbiAgICBpZiAoIWluc3RhbmNlRmllbGRzKVxuICAgICAgICByZXR1cm47XG5cbiAgICB2YXIgZmllbGRPYmogPSBpbnN0YW5jZUZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBmaWVsZCk7XG5cbiAgICByZXR1cm4gZmllbGRPYmo7XG59XG5cblxuU3RlZWRvc1RhYmxlLmdldE1vZGFsRGF0YSA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgpIHtcblxuICAgIHZhciBkYXRhID0ge307XG5cbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgaWYgKCFmaWVsZE9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGF0YS5maWVsZCA9IGZpZWxkT2JqO1xuXG4gICAgZGF0YS5maWVsZC5mb3JtdWxhID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmaWVsZE9iai5zZmllbGRzKTtcblxuICAgIGRhdGEudmFsdWUgPSB7fTtcblxuICAgIGRhdGEudmFsdWVbZmllbGRdID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCk7XG5cbiAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG5cbiAgICByZXR1cm4gZGF0YTtcbn1cblxuXG5cblN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCwgaXRlbV9pbmRleCkge1xuXG4gICAgaWYgKCFBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwic3RlZWRvc190YWJsZV9tb2RhbF9cIiArIGZpZWxkICsgXCJfXCIgKyBpdGVtX2luZGV4KSkge1xuICAgICAgICByZXR1cm4ge31cbiAgICB9XG5cbiAgICB2YXIgaXRlbV92YWx1ZSA9IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJzdGVlZG9zX3RhYmxlX21vZGFsX1wiICsgZmllbGQgKyBcIl9cIiArIGl0ZW1faW5kZXgpLmluc2VydERvY1tmaWVsZF07XG4gICAgcmV0dXJuIGl0ZW1fdmFsdWU7XG59XG5cblxuU3RlZWRvc1RhYmxlLmFkZEl0ZW0gPSBmdW5jdGlvbiAoZmllbGQsIGluZGV4LCBfaXRlbV92YWx1ZSkge1xuICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xuICAgIHZhciBpdGVtX3ZhbHVlID0gX2l0ZW1fdmFsdWUgfHwgU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpbmRleCk7XG4gICAgJChcInRib2R5W25hbWU9J1wiICsgZmllbGQgKyBcIlRib2R5J11cIikuYXBwZW5kKFN0ZWVkb3NUYWJsZS5nZXRUcihrZXlzLCBpdGVtX3ZhbHVlLCBpbmRleCwgZmllbGQsIHRydWUpKVxuXG59XG5cblN0ZWVkb3NUYWJsZS51cGRhdGVJdGVtID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcblxuICAgIHZhciBpdGVtID0gJChcInRyW25hbWU9J1wiICsgZmllbGQgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIiddXCIpO1xuXG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBfaXRlbV92YWx1ZSB8fCBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGluZGV4KTtcblxuICAgIGlmIChpdGVtICYmIGl0ZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICAgICAgdmFyIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZCwgaW5kZXgpO1xuXG4gICAgICAgIHZhciBzZmllbGRzID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKS5zZmllbGRzO1xuXG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpdGVtX3ZhbHVlW2tleV07XG5cbiAgICAgICAgICAgIHRkcyA9IHRkcyArIFN0ZWVkb3NUYWJsZS5nZXRUZChzZmllbGQsIGluZGV4LCB2YWx1ZSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5lbXB0eSgpO1xuXG4gICAgICAgIGl0ZW0uYXBwZW5kKHRkcyk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5hZGRJdGVtKGZpZWxkLCBpbmRleCk7XG4gICAgfVxuXG4gICAgaWYgKFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSkge1xuXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaW5kZXgsIGl0ZW1fdmFsdWUpO1xuXG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF1baW5kZXhdID0gaXRlbV92YWx1ZTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF0gPSBbaXRlbV92YWx1ZV07XG5cbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlVmFsdWUoZmllbGQsIFtpdGVtX3ZhbHVlXSlcblxuICAgIH1cblxuICAgIC8v5omn6KGM5Li76KGo5YWs5byP6K6h566XXG4gICAgSW5zdGFuY2VNYW5hZ2VyLnJ1bkZvcm11bGEoZmllbGQpO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCkge1xuXG4gICAgJChcInRyW25hbWU9J1wiICsgZmllbGQgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIiddXCIpLmhpZGUoKTtcblxuICAgIFN0ZWVkb3NUYWJsZS5yZW1vdmVUYWJsZUl0ZW0oZmllbGQsIGluZGV4KTtcblxuICAgIEluc3RhbmNlTWFuYWdlci5ydW5Gb3JtdWxhKGZpZWxkKTtcbn1cblxuU3RlZWRvc1RhYmxlLnNob3dNb2RhbCA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgsIG1ldGhvZCkge1xuXG5cbiAgICB2YXIgbW9kYWxEYXRhID0gU3RlZWRvc1RhYmxlLmdldE1vZGFsRGF0YShmaWVsZCwgaW5kZXgpO1xuXG4gICAgbW9kYWxEYXRhLm1ldGhvZCA9IG1ldGhvZDtcblxuICAgIE1vZGFsLnNob3coXCJzdGVlZG9zVGFibGVNb2RhbFwiLCBtb2RhbERhdGEpO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5nZXRLZXlzID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgaWYgKCFBdXRvRm9ybS5nZXRDdXJyZW50RGF0YUZvckZvcm0oU3RlZWRvc1RhYmxlLmZvcm1JZCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHZhciBzcyA9IEF1dG9Gb3JtLmdldEZvcm1TY2hlbWEoU3RlZWRvc1RhYmxlLmZvcm1JZCk7XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgaWYgKHNzLnNjaGVtYShmaWVsZCArIFwiLiRcIikudHlwZSA9PT0gT2JqZWN0KSB7XG4gICAgICAgIGtleXMgPSBzcy5vYmplY3RLZXlzKFNpbXBsZVNjaGVtYS5fbWFrZUdlbmVyaWMoZmllbGQpICsgJy4kJylcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cztcblxufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGhlYWQgPSBmdW5jdGlvbiAoZmllbGQsIGVkaXRhYmxlKSB7XG5cbiAgICB2YXIgZmllbGRPYmogPSBmaWVsZDtcbiAgICBpZiAoIV8uaXNPYmplY3QoZmllbGQpKVxuICAgICAgICBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XG5cbiAgICBpZiAoIWZpZWxkT2JqKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICB2YXIgdGhlYWQgPSAnJyxcbiAgICAgICAgdHJzID0gJycsXG4gICAgICAgIGxhYmVsID0gJycsXG4gICAgICAgIHdpZHRoID0gMTAwO1xuXG4gICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgIC8vIHRycyA9IFwiPHRoIGNsYXNzPSdyZW1vdmVkJz48L3RoPlwiXG4gICAgICAgIHRycyA9IFwiXCJcbiAgICB9XG5cbiAgICB2YXIgc2ZpZWxkcyA9IGZpZWxkT2JqLnNmaWVsZHM7XG5cbiAgICBpZiAoIXNmaWVsZHMpIHtcbiAgICAgICAgcmV0dXJuIHRoZWFkO1xuICAgIH1cblxuICAgIHZhciBzZl9sZW5ndGggPSBzZmllbGRzLmxlbmd0aDtcblxuICAgIGlmIChzZl9sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB3aWRlX2ZpZWxkcyA9IHNmaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuXG4gICAgICAgIHdpZHRoID0gMTAwIC8gKHNmX2xlbmd0aCArIHdpZGVfZmllbGRzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChzZiwgaW5kZXgpIHtcblxuICAgICAgICBsYWJlbCA9IChzZi5uYW1lICE9IG51bGwgJiYgc2YubmFtZS5sZW5ndGggPiAwKSA/IHNmLm5hbWUgOiBzZi5jb2RlO1xuXG4gICAgICAgIHRycyA9IHRycyArIFwiPHRkIFwiOyAvLyBub3dyYXA9J25vd3JhcCdcblxuICAgICAgICB0cnMgPSB0cnMgKyBcIiBjbGFzcz0ndGl0bGUgXCIgKyBzZi50eXBlICsgXCInXCI7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IChzZl9sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgaWYgKHNmLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgICB0cnMgPSB0cnMgKyBcInN0eWxlPSd3aWR0aDpcIiArIHdpZHRoICogMiArIFwiJSdcIlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnMgPSB0cnMgKyBcInN0eWxlPSd3aWR0aDpcIiArIHdpZHRoICsgXCIlJ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cnMgPSB0cnMgKyBcIj5cIiArIGxhYmVsICsgXCI8L3RkPlwiXG4gICAgfSk7XG5cbiAgICB0aGVhZCA9ICc8dHI+JyArIHRycyArICc8L3RyPic7XG5cbiAgICByZXR1cm4gdGhlYWQ7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUYm9keSA9IGZ1bmN0aW9uIChrZXlzLCBmaWVsZCwgdmFsdWVzLCBlZGl0YWJsZSwgc2ZpZWxkc0VkaXRhYmxlKSB7XG4gICAgdmFyIHRib2R5ID0gXCJcIjtcblxuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICB0Ym9keSA9IHRib2R5ICsgU3RlZWRvc1RhYmxlLmdldFRyKGtleXMsIHZhbHVlLCBpbmRleCwgZmllbGQsIGVkaXRhYmxlLCBzZmllbGRzRWRpdGFibGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGJvZHk7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUciA9IGZ1bmN0aW9uIChrZXlzLCBpdGVtX3ZhbHVlLCBpbmRleCwgZmllbGQsIGVkaXRhYmxlLCBzZmllbGRzRWRpdGFibGUpIHtcblxuICAgIHZhciBmaWVsZE9iaiA9IGZpZWxkO1xuICAgIGlmICghXy5pc09iamVjdChmaWVsZCkpXG4gICAgICAgIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhciB0ciA9IFwiPHRyIGlkPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgbmFtZT0nXCIgKyBmaWVsZE9iai5jb2RlICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIidcIlxuXG4gICAgaWYgKGVkaXRhYmxlIHx8IHNmaWVsZHNFZGl0YWJsZSkge1xuICAgICAgICB0ciA9IHRyICsgXCInIGNsYXNzPSdpdGVtIGVkaXQnXCJcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICB0ciA9IHRyICsgXCIgY2xhc3M9J2l0ZW0gaXRlbS1yZWFkb25seSdcIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHIgPSB0ciArIFwiIGNsYXNzPSdpdGVtICdcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGl0ZW1fdmFsdWUucmVtb3ZlZCkge1xuICAgICAgICB0ciA9IHRyICsgXCIgc3R5bGU9J2Rpc3BsYXk6bm9uZScgXCI7XG4gICAgfVxuXG4gICAgdHIgPSB0ciArIFwiJz5cIjtcblxuICAgIHZhciB0ZHMgPSBcIlwiO1xuXG4gICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZE9iai5jb2RlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgdmFyIHNmaWVsZHMgPSBmaWVsZE9iai5zZmllbGRzO1xuXG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHNmaWVsZCA9IHNmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwga2V5KTtcblxuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtX3ZhbHVlW2tleV07XG5cbiAgICAgICAgdGRzID0gdGRzICsgU3RlZWRvc1RhYmxlLmdldFRkKHNmaWVsZCwgaW5kZXgsIHZhbHVlKTtcblxuICAgIH0pO1xuXG4gICAgdHIgPSB0ciArIHRkcyArIFwiPC90cj5cIjtcbiAgICByZXR1cm4gdHI7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZCA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgpIHtcbiAgICAvLyByZXR1cm4gXCI8dGQgY2xhc3M9J3N0ZWVkb3NUYWJsZS1pdGVtLXJlbW92ZSByZW1vdmVkJyBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPjxpIGNsYXNzPSdmYSBmYS10aW1lcycgYXJpYS1oaWRkZW49J3RydWUnPjwvdGQ+XCI7XG4gICAgcmV0dXJuIFwiXCJcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRkID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCwgdmFsdWUpIHtcbiAgICB2YXIgdGQgPSBcIjx0ZCBcIjtcblxuICAgIHRkID0gdGQgKyBcIiBjbGFzcz0nc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQgXCIgKyBmaWVsZC50eXBlICsgXCInIFwiO1xuXG4gICAgdmFyIHRkX3ZhbHVlID0gXCJcIjtcblxuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgdGRfdmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VERWYWx1ZShmaWVsZCwgdmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXG4gICAgICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblxuICAgICAgICB0ZF92YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KVxuICAgIH1cblxuICAgIHRkID0gdGQgKyBcIiBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPlwiICsgdGRfdmFsdWUgKyBcIjwvdGQ+XCJcblxuICAgIHJldHVybiB0ZDtcbn1cblxuXG5TdGVlZG9zVGFibGUuZ2V0VERWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcbiAgICB2YXIgdGRfdmFsdWUgPSBcIlwiO1xuICAgIGlmICghZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIHRkX3ZhbHVlXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHZhciBmaWVsZE9wdGlvbnMgPSBbXTtcbiAgICAgICAgaWYoW1wic2VsZWN0XCIsIFwibXVsdGlTZWxlY3RcIiwgXCJyYWRpb1wiXS5pbmRleE9mKGZpZWxkLnR5cGUpID4gLTEpe1xuICAgICAgICAgICAgZmllbGRPcHRpb25zID0gZmllbGQub3B0aW9ucy5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24obil7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1TcGxpdHMgPSBuLnNwbGl0KFwiOlwiKVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtU3BsaXRzWzBdLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbVNwbGl0c1sxXSB8fCBuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mICh2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFTcGFjZVVzZXJzKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiAodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFTcGFjZVVzZXJzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHUgPyB1Lm5hbWUgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mICh2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb25zKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiAodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gbyA/IG8ubmFtZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gXCI8YSBocmVmPSdtYWlsdG86XCIgKyB2YWx1ZSArIFwiJz5cIiArIHZhbHVlICsgXCI8L2E+XCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5odHRwOi8vXCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICcqKioqKionO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHRbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSAkLmZvcm1hdC5kYXRlKHZhbHVlLCAneXl5eS1NTS1kZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9IGZpZWxkT3B0aW9ucy5maW5kKGZ1bmN0aW9uKGl0ZW0peyByZXR1cm4gaXRlbS52YWx1ZSA9PSB2YWx1ZTsgfSlcbiAgICAgICAgICAgICAgICBpZihzZWxlY3RlZE9wdGlvbil7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gc2VsZWN0ZWRPcHRpb24ubGFiZWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gZmllbGRPcHRpb25zLmZpbmQoZnVuY3Rpb24oaXRlbSl7IHJldHVybiBpdGVtLnZhbHVlID09IHZhbHVlOyB9KVxuICAgICAgICAgICAgICAgIGlmKHNlbGVjdGVkT3B0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBzZWxlY3RlZE9wdGlvbi5sYWJlbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ211bHRpU2VsZWN0JzpcbiAgICAgICAgICAgICAgICB2YXIgc3BsaXRlZFZhbHVlcyA9IHZhbHVlLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRPcHRpb25zID0gZmllbGRPcHRpb25zLmZpbHRlcihmdW5jdGlvbihpdGVtKXsgcmV0dXJuIHNwbGl0ZWRWYWx1ZXMuaW5kZXhPZihpdGVtLnZhbHVlKSA+IC0xOyB9KTtcbiAgICAgICAgICAgICAgICBpZihzZWxlY3RlZE9wdGlvbnMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBzZWxlY3RlZE9wdGlvbnMubWFwKGZ1bmN0aW9uKGl0ZW0peyByZXR1cm4gaXRlbS5sYWJlbDsgfSkuam9pbihcIixcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcodmFsdWUsIGZpZWxkLmRpZ2l0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnb2RhdGEnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUgPyB2YWx1ZSA6ICcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlO1xuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHRkX3ZhbHVlO1xufTtcblxuaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgIEF1dG9Gb3JtLmFkZElucHV0VHlwZShcInRhYmxlXCIsIHtcbiAgICAgICAgdGVtcGxhdGU6IFwiYWZUYWJsZVwiLFxuICAgICAgICB2YWx1ZU91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLmRhdGEoXCJzY2hlbWFLZXlcIik7XG4gICAgICAgICAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFZhbGlkVmFsdWUobmFtZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlQ29udmVydGVyczoge1xuICAgICAgICAgICAgXCJzdHJpbmdBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9TdHJpbmdBcnJheSxcbiAgICAgICAgICAgIFwibnVtYmVyXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb051bWJlcixcbiAgICAgICAgICAgIFwibnVtZXJBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9OdW1iZXJBcnJheSxcbiAgICAgICAgICAgIFwiYm9vbGVhblwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9Cb29sZWFuLFxuICAgICAgICAgICAgXCJib29sZWFuQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvQm9vbGVhbkFycmF5LFxuICAgICAgICAgICAgXCJkYXRlXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0RhdGUsXG4gICAgICAgICAgICBcImRhdGVBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9EYXRlQXJyYXlcbiAgICAgICAgfSxcbiAgICAgICAgY29udGV4dEFkanVzdDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5hdHRzLm1heGxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnRleHQubWF4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPSBjb250ZXh0Lm1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5hZlRhYmxlLmV2ZW50cyh7XG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLWFkZCwuYWRkLWl0ZW0tdHInOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRlbXBsYXRlLmRhdGEubmFtZTtcblxuICAgICAgICAgICAgdmFyIHRhYmxlVmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShuYW1lKTtcblxuICAgICAgICAgICAgdmFyIG5ld19pdGVtX2luZGV4ID0gdGFibGVWYWx1ZSA/IHRhYmxlVmFsdWUubGVuZ3RoIDogMDtcblxuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChuYW1lLCBuZXdfaXRlbV9pbmRleCwgXCJhZGRcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQnOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBpZiAodGVtcGxhdGUuZGF0YS5hdHRzLmVkaXRhYmxlIHx8IHRlbXBsYXRlLmRhdGEuYXR0cy5zZmllbGRzRWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xuICAgICAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwoZmllbGQsIGluZGV4LCBcImVkaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tcmVtb3ZlJzogZnVuY3Rpb24gKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xuICAgICAgICAgICAgdmFyIGl0ZW1faW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XG4gICAgICAgICAgICBTZXNzaW9uLnNldChcImluc3RhbmNlX2NoYW5nZVwiLCB0cnVlKTtcbiAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5yZW1vdmVJdGVtKGZpZWxkLCBpdGVtX2luZGV4KTtcbiAgICAgICAgfSxcblxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5pdGVtLXJlYWRvbmx5JzogZnVuY3Rpb24gKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0ZW1wbGF0ZS5kYXRhLmF0dHMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xuICAgICAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwoZmllbGQsIGluZGV4LCBcInJlYWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG5cbiAgICBUZW1wbGF0ZS5hZlRhYmxlLnJlbmRlcmVkID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZGF0YS5uYW1lO1xuXG4gICAgICAgIHZhciBzZmllbGRzRWRpdGFibGUgPSB0aGlzLmRhdGEuYXR0cy5zZmllbGRzRWRpdGFibGU7XG5cbiAgICAgICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XG4gICAgICAgIHZhciB2YWxpZFZhbHVlID0gU3RlZWRvc1RhYmxlLmhhbmRsZURhdGEoZmllbGQsIHRoaXMuZGF0YS52YWx1ZSk7XG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlKGZpZWxkLCB2YWxpZFZhbHVlKTtcblxuICAgICAgICAkKFwidGhlYWRbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGhlYWQnXVwiKS5odG1sKFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpKTtcblxuICAgICAgICAkKFwidGJvZHlbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGJvZHknXVwiKS5odG1sKFN0ZWVkb3NUYWJsZS5nZXRUYm9keShrZXlzLCBmaWVsZCwgU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpLCB0aGlzLmRhdGEuYXR0cy5lZGl0YWJsZSwgc2ZpZWxkc0VkaXRhYmxlKSk7XG5cbiAgICAgICAgc3RyID0gdChcInN0ZWVkb3NfdGFibGVfYWRkX2l0ZW1cIik7XG4gICAgICAgIGFkZEl0ZW1UciA9IFwiPHRyIGNsYXNzPSdhZGQtaXRlbS10cic+PHRkIGNvbHNwYW49J1wiICsga2V5cy5sZW5ndGggKyBcIic+PGkgY2xhc3M9J2lvbiBpb24tcGx1cy1yb3VuZCc+PC9pPlwiICsgc3RyICsgXCI8L3RkPjwvdHI+XCI7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSB7XG4gICAgICAgICAgICAkKFwidGZvb3RbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGZvb3QnXVwiKS5hcHBlbmQoYWRkSXRlbVRyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgICAgIGlmIChjLnN0ZXBfdHlwZSA9PSAnY291bnRlclNpZ24nIHx8IEluc3RhbmNlTWFuYWdlci5jY0hhc0VkaXRQZXJtaXNzaW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b3J1bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBUZW1wbGF0ZS5jdXJyZW50RGF0YSgpO1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IGRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWRWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhKGZpZWxkLCBkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgdmFsaWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgJChcInRib2R5W25hbWU9J1wiICsgZmllbGQgKyBcIlRib2R5J11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGJvZHkoa2V5cywgZmllbGQsIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSwgZGF0YS5hdHRzLmVkaXRhYmxlLCBzZmllbGRzRWRpdGFibGUpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgIH07XG59IiwiSW1hZ2VTaWduLmhlbHBlcnMgPVxuXHRzcGFjZVVzZXJTaWduOiAodXNlcklkKS0+XG5cdFx0c3BhY2UgPSBcIlwiXG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdHNwYWNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnNwYWNlXG5cdFx0ZWxzZVxuXHRcdFx0c3BhY2UgPSBTZXNzaW9uLmdldChcInNwYWNlSWRcIilcblxuXHRcdHNwYWNlVXNlclNpZ24gPSBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmRPbmUoe3NwYWNlOiBzcGFjZSwgdXNlcjogdXNlcklkfSk7XG5cdFx0cmV0dXJuIHNwYWNlVXNlclNpZ25cblxuXHRpbWFnZVVSTDogKHVzZXJJZCktPlxuXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24odXNlcklkKTtcblxuXHRcdGFic29sdXRlID0gZmFsc2VcblxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0YWJzb2x1dGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuYWJzb2x1dGVcblxuXHRcdGlmIHNwYWNlVXNlclNpZ24/LnNpZ25cblx0XHRcdGlmIGFic29sdXRlXG5cdFx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuIiwiSW1hZ2VTaWduLmhlbHBlcnMgPSB7XG4gIHNwYWNlVXNlclNpZ246IGZ1bmN0aW9uKHVzZXJJZCkge1xuICAgIHZhciBzcGFjZSwgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZSA9IFwiXCI7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgc3BhY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3BhY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpO1xuICAgIH1cbiAgICBzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgIHVzZXI6IHVzZXJJZFxuICAgIH0pO1xuICAgIHJldHVybiBzcGFjZVVzZXJTaWduO1xuICB9LFxuICBpbWFnZVVSTDogZnVuY3Rpb24odXNlcklkKSB7XG4gICAgdmFyIGFic29sdXRlLCBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKHVzZXJJZCk7XG4gICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBhYnNvbHV0ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkge1xuICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCJUcmFjZXNIYW5kbGVyLmhlbHBlcnMgPVxuXHRzaG93U2lnbkltYWdlOiAoaGFuZGxlciwgaXNfZmluaXNoZWQsIGp1ZGdlKSAtPlxuXHRcdGlmICFpc19maW5pc2hlZFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0aWYgWydyZXR1cm5lZCcsICd0ZXJtaW5hdGVkJywgJ3JldHJpZXZlZCddLmluY2x1ZGVzKGp1ZGdlKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcilcblxuXHRcdGlmIHNwYWNlVXNlclNpZ24/LnNpZ25cblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0b2JqZWN0VXJsOiAob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKS0+XG5cdFx0cmV0dXJuIENyZWF0b3IuZ2V0T2JqZWN0VXJsKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCkiLCJUcmFjZXNIYW5kbGVyLmhlbHBlcnMgPSB7XG4gIHNob3dTaWduSW1hZ2U6IGZ1bmN0aW9uKGhhbmRsZXIsIGlzX2ZpbmlzaGVkLCBqdWRnZSkge1xuICAgIHZhciBzcGFjZVVzZXJTaWduO1xuICAgIGlmICghaXNfZmluaXNoZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFsncmV0dXJuZWQnLCAndGVybWluYXRlZCcsICdyZXRyaWV2ZWQnXS5pbmNsdWRlcyhqdWRnZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcik7XG4gICAgaWYgKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIG9iamVjdFVybDogZnVuY3Rpb24ob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKSB7XG4gICAgcmV0dXJuIENyZWF0b3IuZ2V0T2JqZWN0VXJsKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCk7XG4gIH1cbn07XG4iLCJtYXJrZWQgPSByZXF1aXJlKFwibWFya2VkXCIpXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzID1cblx0YXBwbGljYW50Q29udGV4dDogLT5cblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0ZGF0YSA9IHtcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdGF0dHM6IHtuYW1lOiAnaW5zX2FwcGxpY2FudCcsIGlkOiAnaW5zX2FwcGxpY2FudCcsIGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCd9LFxuXHRcdFx0dmFsdWU6IHN0ZWVkb3NfaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHR9XG5cdFx0aWYgbm90IHN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCJcblx0XHRcdGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWVcblx0XHRyZXR1cm4gZGF0YTtcblxuXHRpbnN0YW5jZUlkOiAtPlxuXHRcdHJldHVybiAnaW5zdGFuY2Vmb3JtJzsjXCJpbnN0YW5jZV9cIiArIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKTtcblxuXHRmb3JtX3R5cGVzOiAtPlxuXHRcdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxuXHRcdFx0cmV0dXJuICdkaXNhYmxlZCc7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuICdtZXRob2QnO1xuXG5cdHN0ZWVkb3NfZm9ybTogLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxuXG5cdGlubmVyc3ViZm9ybUNvbnRleHQ6IChvYmopLT5cblx0XHRkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXHRcdG9ialtcInRhYmxlVmFsdWVzXCJdID0gaWYgZG9jX3ZhbHVlcyB0aGVuIGRvY192YWx1ZXNbb2JqLmNvZGVdIGVsc2UgW11cblx0XHRvYmpbXCJmb3JtSWRcIl0gPSBcImluc3RhbmNlZm9ybVwiO1xuXHRcdHJldHVybiBvYmo7XG5cblx0aW5zdGFuY2U6IC0+XG5cdFx0U2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKVxuXHRcdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXG5cdFx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0XHRyZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcblxuXHRlbXB0eTogKHZhbCkgLT5cblx0XHRpZiB2YWxcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdHVuZW1wdHk6ICh2YWwpIC0+XG5cdFx0aWYgdmFsXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0ZXF1YWxzOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gKGEgPT0gYilcblxuXHR1bmVxdWFsczogKGEsIGIpIC0+XG5cdFx0cmV0dXJuICEoYSA9PSBiKVxuXG5cdGluY2x1ZGVzOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuXG5cdGluY2x1ZGU6IChhLCBiKSAtPlxuXHRcdHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG5cblx0ZmllbGRzOiAtPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdFx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuXG5cdGZvcm1hdERhdGU6IChkYXRlLCBvcHRpb25zKS0+XG5cdFx0aWYgIWRhdGVcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdGlmIG9wdGlvbnMgJiYgdHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnXG5cdFx0XHRvcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zKTtcblxuXHRcdGlmICFvcHRpb25zLmZvcm1hdFxuXHRcdFx0b3B0aW9ucyA9IHtmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwifVxuXG5cdFx0cmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xuXG5cdHRyYWNlczogLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdHN0ZWVkb3NEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8udmlldz8udGVtcGxhdGU/LnN0ZWVkb3NEYXRhXG5cdFx0XHRpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhPy5pbnN0YW5jZVxuXHRcdFx0ZmxvdyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbihpbnN0YW5jZSk7XG5cdFx0XHRsb2NhbGUgPSBzdGVlZG9zRGF0YT8ubG9jYWxlXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRcdGVsc2Vcblx0XHRcdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cblx0XHRcdGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGbG93VmVyc2lvbigpXG5cblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcblxuXHRcdGlmICFpbnN0YW5jZSB8fCAhZmxvd1xuXHRcdFx0cmV0dXJuIHt9O1xuXG5cdFx0c3RlcHMgPSBmbG93LnN0ZXBzO1xuXG5cdFx0dHJhY2VzID0ge307XG5cblx0XHRpbnN0YW5jZS50cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XG5cdFx0XHRzdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZS5zdGVwKVxuXG5cdFx0XHRhcHByb3ZlcyA9IFtdXG5cblx0XHRcdHRyYWNlLmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKSAtPlxuXHRcdFx0XHRpZiB0cmFjZS5pc19maW5pc2hlZCA9PSB0cnVlXG4jIOW3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+3XG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5qdWRnZSA9PSAnYXBwcm92ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIGFwcHJvdmVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWplY3RlZCdcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlYXNzaWduZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlYXNzaWduZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlbG9jYXRlZCdcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICcnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gXCJcIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBcIlwiXG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcGVuZGluZ1wiLCB7fSwgbG9jYWxlKVxuXG5cdFx0XHRcdGFwcHJvdmVzLnB1c2hcblx0XHRcdFx0XHRfaWQ6IGFwcHJvdmUuX2lkXG5cdFx0XHRcdFx0aGFuZGxlcjogYXBwcm92ZS51c2VyXG5cdFx0XHRcdFx0aGFuZGxlcl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfbmFtZVxuXHRcdFx0XHRcdGhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVxuXHRcdFx0XHRcdGhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXG5cdFx0XHRcdFx0ZmluaXNoX2RhdGU6IGFwcHJvdmUuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRqdWRnZTogYXBwcm92ZS5qdWRnZVxuXHRcdFx0XHRcdGp1ZGdlX25hbWU6IGp1ZGdlX25hbWVcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogYXBwcm92ZS5kZXNjcmlwdGlvblxuXHRcdFx0XHRcdGlzX2ZpbmlzaGVkOiBhcHByb3ZlLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0dHlwZTogYXBwcm92ZS50eXBlXG5cdFx0XHRcdFx0b3Bpbmlvbl9maWVsZHNfY29kZTogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlXG5cdFx0XHRcdFx0c2lnbl9maWVsZF9jb2RlOiBhcHByb3ZlLnNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRcdGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRcdHNpZ25fc2hvdzogYXBwcm92ZS5zaWduX3Nob3dcblxuXG5cdFx0XHRpZiBzdGVwXG5cdFx0XHRcdGlmIHN0ZXAubmFtZSBvZiB0cmFjZXNcblx0XHRcdFx0XHR0cmFjZXNbc3RlcC5uYW1lXSA9IHRyYWNlc1tzdGVwLm5hbWVdLmNvbmNhdChhcHByb3Zlcylcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRyYWNlc1tzdGVwLm5hbWVdID0gYXBwcm92ZXNcblxuXHRcdHJldHVybiB0cmFjZXM7XG5cblxuXG5cdGRvY192YWx1ZXM6IC0+XG5cdFx0V29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXG5cdGluc3RhbmNlX2JveF9zdHlsZTogLT5cblx0XHRib3ggPSBTZXNzaW9uLmdldChcImJveFwiKVxuXHRcdGlmIGJveCA9PSBcImluYm94XCIgfHwgYm94ID09IFwiZHJhZnRcIlxuXHRcdFx0anVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpXG5cdFx0XHRpZiBqdWRnZVxuXHRcdFx0XHRpZiAoanVkZ2UgPT0gXCJhcHByb3ZlZFwiKVxuXHRcdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRcdFx0ZWxzZSBpZiAoanVkZ2UgPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmIGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb25cblx0XHRcdGlmIGlucy5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxuXHRcdFx0ZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcblx0XHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXG5cbiNpc19kaXNhYmxlZDogLT5cbiMgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4jICAgIGlmICFpbnNcbiMgICAgICAgIHJldHVybjtcbiMgICAgaWYgaW5zLnN0YXRlIT1cImRyYWZ0XCJcbiMgICAgICAgIHJldHVybiBcImRpc2FibGVkXCI7XG4jICAgIHJldHVybjtcblxuXHR0YWJsZV9maWVsZHM6IChpbnN0YW5jZSktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0XHRlbHNlXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0ZmllbGRzID0gXy5jbG9uZShmb3JtX3ZlcnNpb24uZmllbGRzKTtcblxuXHRcdFx0ZmllbGRzLmZvckVhY2ggKGZpZWxkLCBpbmRleCkgLT5cblx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSBcIlwiO1xuXHRcdFx0XHRmaWVsZC50cl9lbmQgPSBcIlwiO1xuXHRcdFx0XHR0ZF9jb2xzcGFuID0gMTtcbiNcdFx0XHRcdOW8uuWItuiuvue9ruagh+WktOWtl+auteS4uuWuveWtl+autVxuXHRcdFx0XHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lID09IGZpZWxkLmNvZGVcblx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZVxuXG5cdFx0XHRcdGlmIGZpZWxkLmZvcm11bGEgJiYgZmllbGQudHlwZSAhPSAnb2RhdGEnXG5cdFx0XHRcdFx0ZmllbGQucGVybWlzc2lvbiA9IFwicmVhZG9ubHlcIjtcblxuXHRcdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcbiMg5aaC5p6c5b2T5YmN5a2X5q615piv5YiG57uE44CB6KGo5qC844CB5a695a2X5q61XG5cdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gNDtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdGlmIGluZGV4ICE9IDBcblx0XHRcdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gXCI8dHI+XCI7XG5cdFx0XHRcdFx0XHRmaWVsZC50cl9lbmQgPSBcIjwvdHI+XCI7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRwcmVfZmllbGRzID0gZmllbGRzLnNsaWNlKDAsIGluZGV4KTtcblxuXHRcdFx0XHRcdHByZV93aWRlX2ZpZWxkcyA9IHByZV9maWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuXG5cdFx0XHRcdFx0dHJfc3RhcnQgPSBcIlwiO1xuXG5cdFx0XHRcdFx0dHJfZW5kID0gXCJcIjtcblxuXHRcdFx0XHRcdCMg5YWI6K6h566X5b2T5YmN5a2X5q615piv5ZCm5Li65a695a2X5q61XG5cdFx0XHRcdFx0YmVmb3JlX2ZpZWxkID0gbnVsbDtcblx0XHRcdFx0XHRhZnRlcl9maWVsZCA9IG51bGw7XG5cblx0XHRcdFx0XHRpZiBpbmRleCA+IDBcblx0XHRcdFx0XHRcdGJlZm9yZV9maWVsZCA9IGZpZWxkc1tpbmRleCAtIDFdXG5cblx0XHRcdFx0XHRpZiBpbmRleCA8IGZpZWxkcy5sZW5ndGggLSAxXG5cdFx0XHRcdFx0XHRhZnRlcl9maWVsZCA9IGZpZWxkc1tpbmRleCArIDFdXG5cblx0XHRcdFx0XHQjIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxuXHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDQ7XG5cdFx0XHRcdFx0ZWxzZSBpZiBmaWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblx0XHRcdFx0XHRlbHNlXG4jIOWJjeWQjumDveaYr+WuveWtl+autVxuXHRcdFx0XHRcdFx0aWYgYmVmb3JlX2ZpZWxkICYmIGFmdGVyX2ZpZWxkICYmIGJlZm9yZV9maWVsZC5pc193aWRlICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xuXG5cdFx0XHRcdFx0XHQjIOW9k+WJjeaYr3RyIOS4i+eahCDnrKzkuIDkuKp0ZCAmIOWQjui+ueeahOWtl+auteaYr+WuveWtl+autVxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZVxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRcdCMg5b2T5YmN5pivdHIg5LiL55qEIOesrOS4gOS4qnRkICYg5b2T5YmN5a2X5q615piv5pyA5ZCO5LiA5Liq5a2X5q61XG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCAmJiBhZnRlcl9maWVsZCA9PSBudWxsXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSB0ZF9jb2xzcGFuO1xuXG5cblx0XHRcdFx0XHRpZiBpbmRleCA9PSAwXG4jIHRyX3N0YXJ0ID0gXCI8dHI+XCI7IOeUseS6jlRlbXBsYXRl55qE57yW6K+RYnVn77yM5a+86Ie05q+P5qyh57uZ5LiA5LiqdHLlvIDlp4vml7bvvIzkvJroh6rliqjooaXlpLTmiJbooaXlsL7jgILlm6DmraTlnKjnrKzkuIDooYzov5Tlm57kuIDkuKrnqbrlrZfnrKbkuLIuXG5cdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyPlwiO1xuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwIHx8IGZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0ciBjbGFzcyA9IFxcXCJ0ci1jaGlsZC10YWJsZVxcXCI+XCI7XG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyPlwiO1xuXG5cdFx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSB0cl9zdGFydDtcblxuXG5cdFx0XHRcdFx0aWYgaW5kZXggKyAxID09IGZpZWxkcy5sZW5ndGggfHwgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnIHx8IGZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdHRyX2VuZCA9IFwiPC90cj5cIjtcblxuXHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiAhPSAwXG5cdFx0XHRcdFx0XHR0cl9lbmQgPSBcIjwvdHI+XCI7XG5cblx0XHRcdFx0XHRmaWVsZC50cl9lbmQgPSB0cl9lbmQ7XG5cblx0XHRcdHJldHVybiBmaWVsZHM7XG5cblx0c29ydF9hcHByb3ZlOiAoYXBwcm92ZXMsIG9yZGVyKS0+XG5cdFx0aWYgIWFwcHJvdmVzXG5cdFx0XHRyZXR1cm4gW11cblxuXHRcdGlmICFhcHByb3ZlcyBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRyZXR1cm4gW11cblx0XHRlbHNlXG5cdFx0XHRpZiBvcmRlciA9PSAnZGVzYydcblx0XHRcdFx0YXBwcm92ZXMuc29ydCAocDEsIHAyKSAtPlxuXHRcdFx0XHRcdF9wMSA9IDBcblx0XHRcdFx0XHRfcDIgPSAwXG5cblx0XHRcdFx0XHRpZiBwMS5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpXG5cblx0XHRcdFx0XHRpZiBwMi5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIF9wMiAtIF9wMVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3Zlcy5zb3J0IChwMSwgcDIpIC0+XG5cdFx0XHRcdFx0X3AxID0gMFxuXHRcdFx0XHRcdF9wMiA9IDBcblxuXHRcdFx0XHRcdGlmIHAxLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKClcblxuXHRcdFx0XHRcdGlmIHAyLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG5cblx0XHRcdFx0XHRyZXR1cm4gX3AxIC0gX3AyXG5cdFx0cmV0dXJuIGFwcHJvdmVzXG5cblx0X3Q6IChrZXkpLT5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cdGdldEZpZWxkOiAoY29kZSktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpXG5cblx0Z2V0VmFsdWU6IChjb2RlKS0+XG5cdFx0aW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2VcblxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblxuXHRcdHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblxuXHRcdHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fVxuXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcblxuXHRcdHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgdmFsdWVzW2NvZGVdLCBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLCBsb2NhbGUsIHV0Y09mZnNldFxuXG5cdGdldExhYmVsOiAoY29kZSktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgY29kZVxuXG5cdGdldENmQ2xhc3M6IChmaWVsZCktPlxuXHRcdGlmIGZpZWxkPy50eXBlID09IFwiaW5wdXRcIiAmJiBmaWVsZD8uaXNfdGV4dGFyZWFcblx0XHRcdHJldHVybiBcImNmVGV4dGFyZWFcIlxuXG5cdGdldFRhYmxlVGhlYWQ6IChmaWVsZCktPlxuXHRcdHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIGZhbHNlKVxuXG5cdGdldFRhYmxlQm9keTogKGZpZWxkKS0+XG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlXG5cdFx0XHR2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge31cblx0XHRlbHNlXG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcblxuXHRcdHRhYmxlVmFsdWUgPSB2YWx1ZXNbZmllbGQuY29kZV07XG5cdFx0cmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYm9keShmaWVsZC5zZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKSwgZmllbGQsIHRhYmxlVmFsdWUsIGZhbHNlKVxuXG5cdHNob3dMYWJlbDogKGZpZWxkKS0+XG5cdFx0dGVtcGxhdGVEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhXG5cdFx0aWYgdGVtcGxhdGVEYXRhLmxhYmVsID09IGZhbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRyZXR1cm4gdHJ1ZVxuXG4jXHRhZkZpZWxkTGFiZWxUZXh0OiAob3ApLT5cbiNcdFx0aWYgIVRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YVxuI1x0XHRcdHJldHVybiBBdXRvRm9ybS5nZXRMYWJlbEZvckZpZWxkKG9wLm5hbWUpXG4jXHRcdGVsc2VcbiNcdFx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG4jXHRcdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIG9wPy5oYXNoPy5uYW1lXG5cblx0aXNPcGluaW9uRmllbGQ6IChmaWVsZCktPlxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkLmZvcm11bGEpXG5cblx0aXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmc6IChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0cmV0dXJuIEluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblxuXHRpbmNsdWRlc09waW5pb25GaWVsZDogKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxuXG5cdFx0ZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcblxuXHRcdGZpZWxkcyA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KT8uZmllbGRzIHx8IFtdXG5cblx0XHRmaWVsZHMuZm9yRWFjaCAoZiktPlxuXHRcdFx0aWYgZi50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xuXHRcdFx0ZWxzZSBpZiBmLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cblx0XHRcdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYxLmZvcm11bGFcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmLmZvcm11bGFcblxuXHRcdF8uc29tZSBmaWVsZF9mb3JtdWxhcywgKGZpZWxkX2Zvcm11bGEpLT5cblx0XHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cblx0Z2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lOiAoZmllbGRfZm9ybXVsYSwgdG9wX2tleXdvcmRzKS0+XG5cblx0XHRvcGluaW9uRmllbGRzID0gbmV3IEFycmF5KCk7XG4jXHRcdGNvbnNvbGUubG9nKFwiZmllbGRfZm9ybXVsYVwiLCBmaWVsZF9mb3JtdWxhKVxuXHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblx0XHRcdGlmIGZpZWxkX2Zvcm11bGFcblxuI1x0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCIsXCIpXG5cdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKVxuXG4jXHRcdFx0XHRpZiB0b3Bfa2V5d29yZHNcbiNcdFx0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpXG5cblx0XHRcdFx0Zm9vMS5mb3JFYWNoIChmb28pLT5cblx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSB7fVxuXG5cdFx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSBldmFsKFwiKFwiICsgZm9vICsgXCIpXCIpXG5cdFx0XHRcdFx0Y2F0Y2hcblx0XHRcdFx0XHRcdGpzb25fZm9ybXVsYSA9IHt9XG5cblx0XHRcdFx0XHRpZiBqc29uX2Zvcm11bGE/LnlpamlhbmxhblxuXHRcdFx0XHRcdFx0c2YgPSB7fVxuXG5cdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uc3RlcFxuXG5cdFx0XHRcdFx0XHRzZi5pbWFnZV9zaWduID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5pbWFnZV9zaWduIHx8IGZhbHNlXG5cblx0XHRcdFx0XHRcdHNmLm9ubHlfY2Nfb3BpbmlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9jYyB8fCBmYWxzZVxuXG5cdFx0XHRcdFx0XHRzZi5kZWZhdWx0X2Rlc2NyaXB0aW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5kZWZhdWx0XG5cblx0XHRcdFx0XHRcdHNmLm9ubHlfaGFuZGxlciA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9oYW5kbGVyXG5cblx0XHRcdFx0XHRcdHNmLnRvcF9rZXl3b3JkcyA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4udG9wX2tleXdvcmRzIHx8IHRvcF9rZXl3b3Jkc1xuXG5cdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuXG5cdFx0XHRcdFx0ZWxzZSBpZihmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTEpXG5cblx0XHRcdFx0XHRcdHNmID0ge29ubHlfY2Nfb3BpbmlvbjogZmFsc2UsIGltYWdlX3NpZ246IGZhbHNlLCB0b3Bfa2V5d29yZHM6IHRvcF9rZXl3b3Jkc31cblxuXHRcdFx0XHRcdFx0aWYgZm9vLmluZGV4T2YoXCJ7c2lnbmF0dXJlLlwiKSA+IC0xXG5cdFx0XHRcdFx0XHRcdHNmLmltYWdlX3NpZ24gPSB0cnVlXG5cdFx0XHRcdFx0XHRcdGZvbyA9IGZvby5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIixcIlwiKTtcblxuXHRcdFx0XHRcdFx0czEgPSBmb28ucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXG5cdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMVxuXHRcdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IHMxLnNwbGl0KFwiLlwiKVsxXVxuXHRcdFx0XHRcdFx0XHRpZiBvcGluaW9uRmllbGRzLmZpbHRlclByb3BlcnR5KFwic3RlcE5hbWVcIixzZi5zdGVwTmFtZSkubGVuZ3RoID4gMFxuXHRcdFx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKT8ub25seV9jY19vcGluaW9uID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKVsyXT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnY2MnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcblx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMucHVzaChzZik7XG5cblx0XHRyZXR1cm4gb3BpbmlvbkZpZWxkc1xuXG5cdHNob3dDQ09waW5pb246IChmaWVsZCktPlxuXHRcdGlmIGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMVxuXHRcdFx0czEgPSBmaWVsZC5mb3JtdWxhLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLFwiXCIpLnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxuXHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDJcblx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpWzJdPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdjYydcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cblx0XHRpZiBtYXJrRG93blN0cmluZ1xuXHRcdFx0IyByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuXHRcdFx0IyByZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHQjIFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZShtYXJrRG93blN0cmluZykpXG5cblx0Zl9sYWJlbDogKHRoYXQpLT5cblx0XHRyZXR1cm4gdGhhdC5uYW1lIHx8IHRoYXQuY29kZVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSAtPlxuXHRcdHJldHVybiB0aGlzLmZvcm1fdmVyc2lvblxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT0gJ3NlY3Rpb24nXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5kb2NfdmFsdWVzID0gLT5cblx0XHRpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG5cdFx0cmV0dXJuIGluc3RhbmNlLnZhbHVlcztcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSAtPlxuXHRcdGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcblx0XHRkYXRhID0ge1xuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0YXR0czoge25hbWU6ICdpbnNfYXBwbGljYW50JywgaWQ6ICdpbnNfYXBwbGljYW50JywgY2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J30sXG5cdFx0XHR2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHR9XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSA9IC0+XG5cdFx0cmV0dXJuIHRoaXMuaW5zdGFuY2VcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZpZWxkcyA9IC0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gLT5cblx0XHRyZXR1cm4gXCJkaXNhYmxlZFwiXG5cblx0VGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIgXCJhZkZpZWxkTGFiZWxUZXh0XCIsIChvcCktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxuXHRcdGxvY2FsZSA9IHRoaXMubG9jYWxlXG5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnNfYXR0YWNoX2Rvd25sb2FkX3VybCA9IChfaWQsIGFic29sdXRlKS0+XG5cdFx0aWYgYWJzb2x1dGVcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiKTtcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiO1xuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMub3B0aW9ucyA9IChmaWVsZCktPlxuXHRcdG9wdGlvbnMgPSBmaWVsZD8ub3B0aW9ucz8uc3BsaXQoXCJcXG5cIilcblx0XHRyZXYgPSBbXVxuXHRcdG9wdGlvbnM/LmZvckVhY2ggKGl0ZW0pLT5cblx0XHRcdHJldi5wdXNoKHtsYWJlbDogaXRlbSwgdmFsdWU6IGl0ZW19KVxuXG5cdFx0cmV0dXJuIHJldlxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSAoY29kZSktPlxuXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHM/LmluY2x1ZGVzKGNvZGUpXG5cdFx0XHRyZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiXG5cdFx0cmV0dXJuIFwiXCJcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID1cblx0J2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogKGV2ZW50KS0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCd0eXBlYWhlYWQ6Y2hhbmdlIC5mb3JtLWNvbnRyb2wnOiAoZXZlbnQpIC0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCdjbGljayAuY2ZUZXh0YXJlYSBhJzogKGV2ZW50KS0+XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coZXZlbnQudGFyZ2V0LmhyZWYpO1xuXG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9ICgpLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlKTtcblxuXHR0cnlcblx0XHRjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUubG9nIFwiSW5zdGFuY2UgVGVtcGxhdGUgRXJyb3JcIiwgZVxuXHRcdGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7aXNCb2R5OiB0cnVlfSk7XG5cblxuXHRyZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuXG5cdGluc3RhbmNlVmlldyA9IG5ldyBCbGF6ZS5WaWV3KFwiY3VzdG9tX2luc3RhbmNlX3RlbXBsYXRlXCIsIHJlbmRlckZ1bmN0aW9uKTtcblxuXHRpbnN0YW5jZUN1c3RvbVRlbXBsYXRlID0gbmV3IEJsYXplLlRlbXBsYXRlKGluc3RhbmNlVmlldy5uYW1lLCByZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZVxuXG5cdFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuXG5cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9ICgpLT5cblx0IyB0ID0gdGhpcztcblxuXHQjdC5zdWJzY3JpYmUgXCJpbnN0YW5jZV9kYXRhXCIsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgLT5cblx0IyAgICBUcmFja2VyLmFmdGVyRmx1c2ggLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdCMkKFwiI2luc19hcHBsaWNhbnRcIikuc2VsZWN0MigpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuXHQkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdPy5kYXRhc2V0LnZhbHVlcyA9IGluc3RhbmNlLmFwcGxpY2FudDtcblx0JChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpXG5cblxuXHRBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtuZXh0U3RlcHM6ICcnLCBuZXh0U3RlcFVzZXJzOiAnJ307XG5cblx0IyBpbnN0YW5jZSBmcm9t57uR5a6a5LqL5Lu2XG5cdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2RyYWZ0J1xuXHRcdEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcblxuXHRpZiAhQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cblx0XHRjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuXG5cblx0XHRpbnN0YW5jZU51bWJlckZpZWxkcyA9ICQoXCJbZGF0YS1mb3JtdWxhXVwiLCAkKFwiI2luc3RhbmNlZm9ybVwiKSlcblxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2ggKCktPlxuXHRcdFx0c2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleVxuXHRcdFx0ZWxlbWVudCA9ICQodGhpcylcblx0XHRcdGlmICEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIilcblx0XHRcdFx0TWV0ZW9yLmNhbGwgJ2dldEluc3RhbmNlVmFsdWVzJywgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCAoZXJyb3IsIHJlc3VsdCktPlxuXHRcdFx0XHRcdGlmIGVycm9yXG5cdFx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKVxuXG5cdFx0XHRcdFx0aWYgIXJlc3VsdFtzY2hlbWFLZXldXG5cdFx0XHRcdFx0XHRrZXkgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpPy5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpXG5cblx0XHRcdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKVxuXG5cdFx0XHRcdFx0XHRpZiBrZXkuaW5kZXhPZihcIntcIikgPiAtMVxuXHRcdFx0XHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXG5cdFx0XHRcdFx0XHRcdGtleSA9IGtleS50cmltKClcblx0XHRcdFx0XHRcdFx0a2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKVxuXHRcdFx0XHRcdFx0SW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIgZWxlbWVudCwga2V5XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZWxlbWVudD8udmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpXG5cblx0XHRqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlXG5cdFx0Y3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXG5cdFx0Zm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuXHRcdGluc2VydERvYyA9IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlKVxuXHRcdEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIGluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG5cdFx0I+WcqOatpOWkhOWIneWni+WMlnNlc3Npb24g5Lit55qEIGZvcm1fdmFsdWVzIOWPmOmHj++8jOeUqOS6juinpuWPkeS4i+S4gOatpeatpemqpOiuoeeul1xuXHRcdFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfZm9ybV92YWx1ZXNcIiwge2luc3RhbmNlSWQ6IGluc3RhbmNlLl9pZCwgdmFsdWVzOiBpbnNlcnREb2N9KTtcblxuXG5cbiIsInZhciBtYXJrZWQ7XG5cbm1hcmtlZCA9IHJlcXVpcmUoXCJtYXJrZWRcIik7XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMgPSB7XG4gIGFwcGxpY2FudENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBzdGVlZG9zX2luc3RhbmNlO1xuICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnXG4gICAgICB9LFxuICAgICAgdmFsdWU6IHN0ZWVkb3NfaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICAgIGlmICghc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuICBpbnN0YW5jZUlkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2luc3RhbmNlZm9ybSc7XG4gIH0sXG4gIGZvcm1fdHlwZXM6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21ldGhvZCc7XG4gICAgfVxuICB9LFxuICBzdGVlZG9zX2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICAgIH1cbiAgfSxcbiAgaW5uZXJzdWJmb3JtQ29udGV4dDogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGRvY192YWx1ZXM7XG4gICAgZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICBvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGRvY192YWx1ZXMgPyBkb2NfdmFsdWVzW29iai5jb2RlXSA6IFtdO1xuICAgIG9ialtcImZvcm1JZFwiXSA9IFwiaW5zdGFuY2Vmb3JtXCI7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgaW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGVlZG9zX2luc3RhbmNlO1xuICAgIFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIik7XG4gICAgaWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgcmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgfVxuICB9LFxuICBlbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBlcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSxcbiAgdW5lcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gIShhID09PSBiKTtcbiAgfSxcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBpbmNsdWRlOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH0sXG4gIGZvcm1hdERhdGU6IGZ1bmN0aW9uKGRhdGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWRhdGUpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuZm9ybWF0KSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdChvcHRpb25zLmZvcm1hdCk7XG4gIH0sXG4gIHRyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZsb3csIGluc3RhbmNlLCBsb2NhbGUsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgc3RlZWRvc0RhdGEsIHN0ZXBzLCB0cmFjZXM7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgc3RlZWRvc0RhdGEgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLnZpZXcpICE9IG51bGwgPyAocmVmMiA9IHJlZjEudGVtcGxhdGUpICE9IG51bGwgPyByZWYyLnN0ZWVkb3NEYXRhIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgaW5zdGFuY2UgPSBzdGVlZG9zRGF0YSAhPSBudWxsID8gc3RlZWRvc0RhdGEuaW5zdGFuY2UgOiB2b2lkIDA7XG4gICAgICBmbG93ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uKGluc3RhbmNlKTtcbiAgICAgIGxvY2FsZSA9IHN0ZWVkb3NEYXRhICE9IG51bGwgPyBzdGVlZG9zRGF0YS5sb2NhbGUgOiB2b2lkIDA7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZsb3dWZXJzaW9uKCk7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlIHx8ICFmbG93KSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHN0ZXBzID0gZmxvdy5zdGVwcztcbiAgICB0cmFjZXMgPSB7fTtcbiAgICBpZiAoKHJlZjMgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwpIHtcbiAgICAgIHJlZjMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgYXBwcm92ZXMsIHJlZjQsIHN0ZXA7XG4gICAgICAgIHN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlLnN0ZXApO1xuICAgICAgICBhcHByb3ZlcyA9IFtdO1xuICAgICAgICBpZiAoKHJlZjQgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCkge1xuICAgICAgICAgIHJlZjQuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICB2YXIganVkZ2VfbmFtZTtcbiAgICAgICAgICAgIGlmICh0cmFjZS5pc19maW5pc2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ2FwcHJvdmVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgYXBwcm92ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlamVjdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWFzc2lnbmVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVhc3NpZ25lZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVsb2NhdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcGVuZGluZ1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcHByb3Zlcy5wdXNoKHtcbiAgICAgICAgICAgICAgX2lkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICAgICAgaGFuZGxlcjogYXBwcm92ZS51c2VyLFxuICAgICAgICAgICAgICBoYW5kbGVyX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9uYW1lLFxuICAgICAgICAgICAgICBoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUsXG4gICAgICAgICAgICAgIGhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lLFxuICAgICAgICAgICAgICBmaW5pc2hfZGF0ZTogYXBwcm92ZS5maW5pc2hfZGF0ZSxcbiAgICAgICAgICAgICAganVkZ2U6IGFwcHJvdmUuanVkZ2UsXG4gICAgICAgICAgICAgIGp1ZGdlX25hbWU6IGp1ZGdlX25hbWUsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhcHByb3ZlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICBpc19maW5pc2hlZDogYXBwcm92ZS5pc19maW5pc2hlZCxcbiAgICAgICAgICAgICAgdHlwZTogYXBwcm92ZS50eXBlLFxuICAgICAgICAgICAgICBvcGluaW9uX2ZpZWxkc19jb2RlOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUsXG4gICAgICAgICAgICAgIHNpZ25fZmllbGRfY29kZTogYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUsXG4gICAgICAgICAgICAgIGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcbiAgICAgICAgICAgICAgc2lnbl9zaG93OiBhcHByb3ZlLnNpZ25fc2hvd1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ZXApIHtcbiAgICAgICAgICBpZiAoc3RlcC5uYW1lIGluIHRyYWNlcykge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlc1tzdGVwLm5hbWVdID0gdHJhY2VzW3N0ZXAubmFtZV0uY29uY2F0KGFwcHJvdmVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlc1tzdGVwLm5hbWVdID0gYXBwcm92ZXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYWNlcztcbiAgfSxcbiAgZG9jX3ZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgfSxcbiAgaW5zdGFuY2VfYm94X3N0eWxlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm94LCBpbnMsIGp1ZGdlO1xuICAgIGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpO1xuICAgIGlmIChib3ggPT09IFwiaW5ib3hcIiB8fCBib3ggPT09IFwiZHJhZnRcIikge1xuICAgICAganVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpO1xuICAgICAgaWYgKGp1ZGdlKSB7XG4gICAgICAgIGlmIChqdWRnZSA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgICAgfSBlbHNlIGlmIChqdWRnZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgICBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdGFibGVfZmllbGRzOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBmaWVsZHMsIGZvcm1fdmVyc2lvbjtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgICB9XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgZmllbGRzID0gXy5jbG9uZShmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkLCBpbmRleCkge1xuICAgICAgICB2YXIgYWZ0ZXJfZmllbGQsIGJlZm9yZV9maWVsZCwgcHJlX2ZpZWxkcywgcHJlX3dpZGVfZmllbGRzLCB0ZF9jb2xzcGFuLCB0cl9lbmQsIHRyX3N0YXJ0O1xuICAgICAgICBmaWVsZC50cl9zdGFydCA9IFwiXCI7XG4gICAgICAgIGZpZWxkLnRyX2VuZCA9IFwiXCI7XG4gICAgICAgIHRkX2NvbHNwYW4gPSAxO1xuICAgICAgICBpZiAoKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgPT09IGZpZWxkLmNvZGUpIHtcbiAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQuZm9ybXVsYSAmJiBmaWVsZC50eXBlICE9PSAnb2RhdGEnKSB7XG4gICAgICAgICAgZmllbGQucGVybWlzc2lvbiA9IFwicmVhZG9ubHlcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgZmllbGQudHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC50cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZV9maWVsZHMgPSBmaWVsZHMuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgIHByZV93aWRlX2ZpZWxkcyA9IHByZV9maWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuICAgICAgICAgIHRyX3N0YXJ0ID0gXCJcIjtcbiAgICAgICAgICB0cl9lbmQgPSBcIlwiO1xuICAgICAgICAgIGJlZm9yZV9maWVsZCA9IG51bGw7XG4gICAgICAgICAgYWZ0ZXJfZmllbGQgPSBudWxsO1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIGJlZm9yZV9maWVsZCA9IGZpZWxkc1tpbmRleCAtIDFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggPCBmaWVsZHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgYWZ0ZXJfZmllbGQgPSBmaWVsZHNbaW5kZXggKyAxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICB0ZF9jb2xzcGFuID0gNDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlX2ZpZWxkICYmIGFmdGVyX2ZpZWxkICYmIGJlZm9yZV9maWVsZC5pc193aWRlICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCAmJiBhZnRlcl9maWVsZCAmJiBhZnRlcl9maWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgJiYgYWZ0ZXJfZmllbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gdGRfY29sc3BhbjtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgfHwgZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHIgY2xhc3MgPSBcXFwidHItY2hpbGQtdGFibGVcXFwiPlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGQudHJfc3RhcnQgPSB0cl9zdGFydDtcbiAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBmaWVsZHMubGVuZ3RoIHx8IGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnIHx8IGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgIHRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmllbGQudHJfZW5kID0gdHJfZW5kO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuICB9LFxuICBzb3J0X2FwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmVzLCBvcmRlcikge1xuICAgIGlmICghYXBwcm92ZXMpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCFhcHByb3ZlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcmRlciA9PT0gJ2Rlc2MnKSB7XG4gICAgICAgIGFwcHJvdmVzLnNvcnQoZnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgICAgICAgdmFyIF9wMSwgX3AyO1xuICAgICAgICAgIF9wMSA9IDA7XG4gICAgICAgICAgX3AyID0gMDtcbiAgICAgICAgICBpZiAocDEuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHAyLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcDIgLSBfcDE7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwcm92ZXMuc29ydChmdW5jdGlvbihwMSwgcDIpIHtcbiAgICAgICAgICB2YXIgX3AxLCBfcDI7XG4gICAgICAgICAgX3AxID0gMDtcbiAgICAgICAgICBfcDIgPSAwO1xuICAgICAgICAgIGlmIChwMS5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocDIuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9wMSAtIF9wMjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlcztcbiAgfSxcbiAgX3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gIH0sXG4gIGdldEZpZWxkOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpO1xuICAgIH1cbiAgfSxcbiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uLCBpbnN0YW5jZSwgbG9jYWxlLCB1dGNPZmZzZXQsIHZhbHVlcztcbiAgICBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldDtcbiAgICB2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge307XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIH1cbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlKHZhbHVlc1tjb2RlXSwgZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKSwgbG9jYWxlLCB1dGNPZmZzZXQpO1xuICB9LFxuICBnZXRMYWJlbDogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsKGZvcm1fdmVyc2lvbi5maWVsZHMsIGNvZGUpO1xuICB9LFxuICBnZXRDZkNsYXNzOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmICgoZmllbGQgIT0gbnVsbCA/IGZpZWxkLnR5cGUgOiB2b2lkIDApID09PSBcImlucHV0XCIgJiYgKGZpZWxkICE9IG51bGwgPyBmaWVsZC5pc190ZXh0YXJlYSA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBcImNmVGV4dGFyZWFcIjtcbiAgICB9XG4gIH0sXG4gIGdldFRhYmxlVGhlYWQ6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgZmFsc2UpO1xuICB9LFxuICBnZXRUYWJsZUJvZHk6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIGluc3RhbmNlLCB0YWJsZVZhbHVlLCB2YWx1ZXM7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG4gICAgICB2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge307XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICB9XG4gICAgdGFibGVWYWx1ZSA9IHZhbHVlc1tmaWVsZC5jb2RlXTtcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRib2R5KGZpZWxkLnNmaWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpLCBmaWVsZCwgdGFibGVWYWx1ZSwgZmFsc2UpO1xuICB9LFxuICBzaG93TGFiZWw6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHRlbXBsYXRlRGF0YTtcbiAgICB0ZW1wbGF0ZURhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGE7XG4gICAgaWYgKHRlbXBsYXRlRGF0YS5sYWJlbCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGlzT3BpbmlvbkZpZWxkOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkLmZvcm11bGEpO1xuICB9LFxuICBpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZzogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICAgIHJldHVybiBJbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICB9LFxuICBpbmNsdWRlc09waW5pb25GaWVsZDogZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gICAgdmFyIGZpZWxkX2Zvcm11bGFzLCBmaWVsZHMsIHJlZjtcbiAgICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICAgIGZpZWxkcyA9ICgocmVmID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybV92ZXJzaW9uLFxuICAgICAgZm9ybTogZm9ybVxuICAgIH0pKSAhPSBudWxsID8gcmVmLmZpZWxkcyA6IHZvaWQgMCkgfHwgW107XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgdmFyIHJlZjE7XG4gICAgICBpZiAoZi50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGYgIT0gbnVsbCA/IChyZWYxID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYxLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICAgIH0pO1xuICB9LFxuICBnZXRPcGluaW9uRmllbGRTdGVwc05hbWU6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHRvcF9rZXl3b3Jkcykge1xuICAgIHZhciBmb28xLCBvcGluaW9uRmllbGRzO1xuICAgIG9waW5pb25GaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKSkge1xuICAgICAgaWYgKGZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpO1xuICAgICAgICBmb28xLmZvckVhY2goZnVuY3Rpb24oZm9vKSB7XG4gICAgICAgICAgdmFyIGpzb25fZm9ybXVsYSwgcmVmLCByZWYxLCBzMSwgc2Y7XG4gICAgICAgICAganNvbl9mb3JtdWxhID0ge307XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGpzb25fZm9ybXVsYSA9IGV2YWwoXCIoXCIgKyBmb28gKyBcIilcIik7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgICAgICAgICBqc29uX2Zvcm11bGEgPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGpzb25fZm9ybXVsYSAhPSBudWxsID8ganNvbl9mb3JtdWxhLnlpamlhbmxhbiA6IHZvaWQgMCkge1xuICAgICAgICAgICAgc2YgPSB7fTtcbiAgICAgICAgICAgIHNmLnN0ZXBOYW1lID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5zdGVwO1xuICAgICAgICAgICAgc2YuaW1hZ2Vfc2lnbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uaW1hZ2Vfc2lnbiB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNmLm9ubHlfY2Nfb3BpbmlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9jYyB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNmLmRlZmF1bHRfZGVzY3JpcHRpb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgICAgIHNmLm9ubHlfaGFuZGxlciA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9oYW5kbGVyO1xuICAgICAgICAgICAgc2YudG9wX2tleXdvcmRzID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi50b3Bfa2V5d29yZHMgfHwgdG9wX2tleXdvcmRzO1xuICAgICAgICAgICAgcmV0dXJuIG9waW5pb25GaWVsZHMucHVzaChzZik7XG4gICAgICAgICAgfSBlbHNlIGlmICgoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSkge1xuICAgICAgICAgICAgc2YgPSB7XG4gICAgICAgICAgICAgIG9ubHlfY2Nfb3BpbmlvbjogZmFsc2UsXG4gICAgICAgICAgICAgIGltYWdlX3NpZ246IGZhbHNlLFxuICAgICAgICAgICAgICB0b3Bfa2V5d29yZHM6IHRvcF9rZXl3b3Jkc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmb28uaW5kZXhPZihcIntzaWduYXR1cmUuXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgc2YuaW1hZ2Vfc2lnbiA9IHRydWU7XG4gICAgICAgICAgICAgIGZvbyA9IGZvby5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIiwgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzMSA9IGZvby5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBzZi5zdGVwTmFtZSA9IHMxLnNwbGl0KFwiLlwiKVsxXTtcbiAgICAgICAgICAgICAgaWYgKG9waW5pb25GaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICgocmVmID0gb3BpbmlvbkZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICByZWYub25seV9jY19vcGluaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKChyZWYxID0gczEuc3BsaXQoXCIuXCIpWzJdKSAhPSBudWxsID8gcmVmMS50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwKSA9PT0gJ2NjJykge1xuICAgICAgICAgICAgICAgICAgICBzZi5vbmx5X2NjX29waW5pb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9waW5pb25GaWVsZHMucHVzaChzZik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9waW5pb25GaWVsZHM7XG4gIH0sXG4gIHNob3dDQ09waW5pb246IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHJlZiwgcmVmMSwgcmVmMiwgczE7XG4gICAgaWYgKCgocmVmID0gZmllbGQuZm9ybXVsYSkgIT0gbnVsbCA/IHJlZi5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKChyZWYxID0gZmllbGQuZm9ybXVsYSkgIT0gbnVsbCA/IHJlZjEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSkge1xuICAgICAgczEgPSBmaWVsZC5mb3JtdWxhLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLCBcIlwiKS5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMikge1xuICAgICAgICBpZiAoKChyZWYyID0gczEuc3BsaXQoXCIuXCIpWzJdKSAhPSBudWxsID8gcmVmMi50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwKSA9PT0gJ2NjJykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcobWFya2VkLnBhcnNlKG1hcmtEb3duU3RyaW5nKSk7XG4gICAgfVxuICB9LFxuICBmX2xhYmVsOiBmdW5jdGlvbih0aGF0KSB7XG4gICAgcmV0dXJuIHRoYXQubmFtZSB8fCB0aGF0LmNvZGU7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtX3ZlcnNpb247XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSkudHlwZSA9PT0gJ3NlY3Rpb24nO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmRvY192YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuICAgIHJldHVybiBpbnN0YW5jZS52YWx1ZXM7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuYXBwbGljYW50Q29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG4gICAgcmV0dXJuIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCdcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZmllbGRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiZGlzYWJsZWRcIjtcbiAgfTtcbiAgVGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIoXCJhZkZpZWxkTGFiZWxUZXh0XCIsIGZ1bmN0aW9uKG9wKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgcmVmO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBvcCAhPSBudWxsID8gKHJlZiA9IG9wLmhhc2gpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIH0pO1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSB0aGlzLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc19hdHRhY2hfZG93bmxvYWRfdXJsID0gZnVuY3Rpb24oX2lkLCBhYnNvbHV0ZSkge1xuICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyBfaWQgKyBcIj9kb3dubG9hZD10cnVlXCI7XG4gICAgfVxuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLm9wdGlvbnMgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBvcHRpb25zLCByZWYsIHJldjtcbiAgICBvcHRpb25zID0gZmllbGQgIT0gbnVsbCA/IChyZWYgPSBmaWVsZC5vcHRpb25zKSAhPSBudWxsID8gcmVmLnNwbGl0KFwiXFxuXCIpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHJldiA9IFtdO1xuICAgIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaCh7XG4gICAgICAgICAgbGFiZWw6IGl0ZW0sXG4gICAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmICghKChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY29kZSkgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfTtcbn1cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2hhbmdlIC5mb3JtLWNvbnRyb2wsLmNoZWNrYm94IGlucHV0LC5hZi1yYWRpby1ncm91cCBpbnB1dCwuYWYtY2hlY2tib3gtZ3JvdXAgaW5wdXQnOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpO1xuICB9LFxuICAndHlwZWFoZWFkOmNoYW5nZSAuZm9ybS1jb250cm9sJzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgJ2NsaWNrIC5jZlRleHRhcmVhIGEnOiBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIFN0ZWVkb3Mub3BlbldpbmRvdyhldmVudC50YXJnZXQuaHJlZik7XG4gIH1cbn07XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29tcGlsZWQsIGUsIGluc3RhbmNlLCBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlLCBpbnN0YW5jZVZpZXcsIHJlbmRlckZ1bmN0aW9uLCB0ZW1wbGF0ZTtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSk7XG4gIHRyeSB7XG4gICAgY29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgZSA9IGVycm9yMTtcbiAgICBjb25zb2xlLmxvZyhcIkluc3RhbmNlIFRlbXBsYXRlIEVycm9yXCIsIGUpO1xuICAgIGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfVxuICByZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuICBpbnN0YW5jZVZpZXcgPSBuZXcgQmxhemUuVmlldyhcImN1c3RvbV9pbnN0YW5jZV90ZW1wbGF0ZVwiLCByZW5kZXJGdW5jdGlvbik7XG4gIGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUgPSBuZXcgQmxhemUuVGVtcGxhdGUoaW5zdGFuY2VWaWV3Lm5hbWUsIHJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3VycmVudEFwcHJvdmUsIGN1cnJlbnRTdGVwLCBmb3JtX3ZlcnNpb24sIGZvcm11bGFfZmllbGRzLCBpbnNlcnREb2MsIGluc3RhbmNlLCBpbnN0YW5jZU51bWJlckZpZWxkcywganVkZ2UsIHJlZjtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoKHJlZiA9ICQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIilbMF0pICE9IG51bGwpIHtcbiAgICByZWYuZGF0YXNldC52YWx1ZXMgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gIH1cbiAgJChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpO1xuICBBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtcbiAgICBuZXh0U3RlcHM6ICcnLFxuICAgIG5leHRTdGVwVXNlcnM6ICcnXG4gIH07XG4gIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2RyYWZ0Jykge1xuICAgIEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcbiAgfVxuICBpZiAoIUFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgIGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgaW5zdGFuY2VOdW1iZXJGaWVsZHMgPSAkKFwiW2RhdGEtZm9ybXVsYV1cIiwgJChcIiNpbnN0YW5jZWZvcm1cIikpO1xuICAgIGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWxlbWVudCwgc2NoZW1hS2V5O1xuICAgICAgc2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleTtcbiAgICAgIGVsZW1lbnQgPSAkKHRoaXMpO1xuICAgICAgaWYgKCEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5jYWxsKCdnZXRJbnN0YW5jZVZhbHVlcycsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgIHZhciBrZXksIHJlZjE7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFyZXN1bHRbc2NoZW1hS2V5XSkge1xuICAgICAgICAgICAga2V5ID0gKHJlZjEgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpKSAhPSBudWxsID8gcmVmMS5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpIDogdm9pZCAwO1xuICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1xcXCIvZywgXCJcIikucmVwbGFjZSgvXFwnL2csIFwiXCIpO1xuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKFwie1wiKSA+IC0xKSB7XG4gICAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgICAgICAgICAga2V5ID0ga2V5LnRyaW0oKTtcbiAgICAgICAgICAgICAga2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBJbnN0YW5jZU51bWJlclJ1bGVzLmluc3RhbmNlTnVtYmVyQnVpbGRlcihlbGVtZW50LCBrZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC52YWwocmVzdWx0W3NjaGVtYUtleV0pLnRyaWdnZXIoXCJjaGFuZ2VcIikgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlO1xuICAgIGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBmb3JtdWxhX2ZpZWxkcyA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgaW5zZXJ0RG9jID0gQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiLCB2b2lkIDAsIHZvaWQgMCwgZmFsc2UpO1xuICAgIEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIGluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgcmV0dXJuIFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfZm9ybV92YWx1ZXNcIiwge1xuICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2UuX2lkLFxuICAgICAgdmFsdWVzOiBpbnNlcnREb2NcbiAgICB9KTtcbiAgfVxufTtcbiIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMgPSB7XG5cblx0c2hvd01haW5UaXRsZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkud29ya2Zsb3dNYWluQXR0YWNoVGl0bGUuZ2V0KCk7XG5cdH0sXG5cdGVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbiAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImRyYWZ0XCIgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJpbmJveFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHQvLyDlt7Lnu4/nu5PmnZ/nmoTljZXlrZDkuI3og73mlLnpmYTku7Zcblx0XHRpZiAoaW5zLnN0YXRlID09IFwiY29tcGxldGVkXCIpIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblxuXHRcdGlmICghY3VycmVudF9zdGVwKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0Ly8g5YiG5Y+R55qE5q2j5paH5oiW6ICF6ZmE5Lu25LiN5pi+56S66L2s5Li6cGRm5oyJ6ZKuXG5cdFx0Ly8g5aaC5p6c5pyJ5q2j5paH5p2D6ZmQ5YiZ5Li65q2j5paH77yM5ZCm5YiZ5YiG5Y+R5Li66ZmE5Lu2XG5cdFx0Ly8g5YiG5Y+R55qE6ZmE5Lu25LiN5YWB6K645L+u5pS5IOWIoOmZpCDmlrDlop7niYjmnKxcblx0XHR2YXIgbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLl9pZCxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdH0pLmNvdW50KCk7XG5cblx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA9IDA7XG5cblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XG5cdFx0XHRpZiAoc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCkge1xuXHRcdFx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSxcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0XHRcdH0pLmNvdW50KCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlICYmIG1haW5fYXR0YWNoX2NvdW50IDwgMSAmJiBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50IDwgMSkge1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHR9XG5cblx0XHQvLyDmraPmlofmnIDlpJrlj6rog73mnInkuIDkuKpcblx0XHRpZiAobWFpbl9hdHRhY2hfY291bnQgPj0gMSB8fCBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50ID49IDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyDlvIDlp4voioLngrnlubbkuJTorr7nva7kuoblj6/ku6XkuIrkvKDmraPmlofmiY3mmL7npLrkuIrkvKDmraPmlofnmoTmjInpkq5cblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cdFx0aWYgKGN1cnJlbnRfc3RlcCAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09IFwic3RhcnRcIiAmJiBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSlcblx0XHRcdHJldHVybiB0cnVlXG5cblx0XHRyZXR1cm4gZmFsc2Vcblx0fSxcblxuXHRlbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHR2YXIgZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KTtcblx0XHRpZiAoIWZsb3cpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXG5cdFx0Ly8g5YiG5Y+R5ZCO55qEIOmZhOS7tu+8jOS4jeWPr+S7pee8lui+kS/liKDpmaTvvIzkuZ/kuI3orqnkuIrkvKDmlrDnmoTpmYTku7YsIOa1geeoi+WIl+ihqO+8mua3u+WKoOWxnuaApyDigJjooqvliIblj5HlkI7mmK/lkKblhYHorrjkuIrkvKDpmYTku7bigJkgIzE4Mzdcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSAmJiAhZmxvdy51cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImRyYWZ0XCIgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJpbmJveFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHQvLyDlt7Lnu4/nu5PmnZ/nmoTljZXlrZDkuI3og73mlLnpmYTku7Zcblx0XHRpZiAoaW5zLnN0YXRlID09IFwiY29tcGxldGVkXCIpIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdGlmIChJbnN0YW5jZU1hbmFnZXIuaXNDQyhpbnMpKSB7XG5cdFx0XHR2YXIgc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDQ1N0ZXAoKTtcblx0XHRcdGlmIChzdGVwICYmIChzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKSlcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdFx0aWYgKGN1cnJlbnRfc3RlcCAmJiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpKVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZVxuXHR9LFxuXG5cdG1haW5fYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcblxuXHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNleW5tuS4lOacieS/ruaUueato+aWh+eahOadg+mZkO+8jOWImeS8mOWFiOaYvuekuuWOn+eUs+ivt+WNleaWh+S7tlxuXHRcdHZhciBtYWluX2F0dGFjaCA9IG51bGw7XG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgJiYgc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKSB7XG5cdFx0XHRtYWluX2F0dGFjaCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsXG5cdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoIW1haW5fYXR0YWNoKSB7XG5cdFx0XHRtYWluX2F0dGFjaCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5faWQsXG5cdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFpbl9hdHRhY2g7XG5cdH0sXG5cblx0bm9ybWFsX2F0dGFjaG1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdHZhciBzZWxlY3RvciA9IHtcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzoge1xuXHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdH0sXG5cdFx0fTtcblxuXHRcdHZhciBhdHRzID0gbmV3IEFycmF5KCk7XG5cblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuXHRcdFx0Ly8g5aaC5p6c5piv6KKr5YiG5Y+R55qE55Sz6K+35Y2V77yM5YiZ5pi+56S65Y6f55Sz6K+35Y2V5paH5Lu2LCDlpoLmnpzpgInmi6nkuoblsIbljp/ooajljZXlrZjlgqjkuLrpmYTku7bkuZ/opoHmmL7npLosIOWQjOaXtuS5n+imgeaYvuekuuaWsOS4iuS8oOeahOmZhOS7tlxuXHRcdFx0dmFyIGRmaXMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRcdGRmaXMucHVzaChpbnMuX2lkKTtcblx0XHRcdHNlbGVjdG9yWydtZXRhZGF0YS5pbnN0YW5jZSddID0ge1xuXHRcdFx0XHQkaW46IGRmaXNcblx0XHRcdH07XG5cblxuXHRcdFx0c2VsZWN0b3JbXCIkb3JcIl0gPSBbe1xuXHRcdFx0XHRcIm1ldGFkYXRhLmluc3RhbmNlXCI6IGlucy5faWRcblx0XHRcdH0sIHtcblx0XHRcdFx0XCJtZXRhZGF0YS5pbnN0YW5jZVwiOiB7XG5cdFx0XHRcdFx0JGluOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuXHRcdFx0XHRcdCRuZTogdHJ1ZVxuXHRcdFx0XHR9XG5cdFx0XHR9XVxuXG5cdFx0XHQvLyDlpoLmnpzljp/nlLPor7fljZXmnInmraPmlofkvYbmmK/liIblj5HlkI7msqHmnInmraPmlofmnYPpmZDvvIzliJnljp/nlLPor7fljZXmraPmlofmmL7npLrlnKjpmYTku7bmoI9cblx0XHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xuXHRcdFx0aWYgKHN0YXJ0X3N0ZXAgJiYgc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCAhPSB0cnVlKSB7XG5cdFx0XHRcdHZhciBkaXN0cmlidXRlX21haW4gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0XHRcdCRpbjogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWUsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAoZGlzdHJpYnV0ZV9tYWluKSB7XG5cdFx0XHRcdFx0dmFyIGZpcnN0VmVyc2lvbk1haW4gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoZGlzdHJpYnV0ZV9tYWluLm1ldGFkYXRhLnBhcmVudCk7XG5cdFx0XHRcdFx0ZGlzdHJpYnV0ZV9tYWluLmF0dGFjaG1lbnRVcGxvYWRlZEF0ID0gZmlyc3RWZXJzaW9uTWFpbiA/IGZpcnN0VmVyc2lvbk1haW4udXBsb2FkZWRBdCA6IGRpc3RyaWJ1dGVfbWFpbi51cGxvYWRlZEF0O1xuXHRcdFx0XHRcdGF0dHMucHVzaChkaXN0cmlidXRlX21haW4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNlbGVjdG9yWydtZXRhZGF0YS5pbnN0YW5jZSddID0gaW5zLl9pZDtcblx0XHR9XG5cblx0XHRjZnMuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24oYykge1xuXHRcdFx0dmFyIGZpcnN0VmVyc2lvbiA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZShjLm1ldGFkYXRhLnBhcmVudCk7XG5cdFx0XHRjLmF0dGFjaG1lbnRVcGxvYWRlZEF0ID0gZmlyc3RWZXJzaW9uID8gZmlyc3RWZXJzaW9uLnVwbG9hZGVkQXQgOiBjLnVwbG9hZGVkQXQ7XG5cdFx0XHRhdHRzLnB1c2goYyk7XG5cdFx0fSlcblxuXHRcdHJldHVybiBfLnNvcnRCeShhdHRzLCAnYXR0YWNobWVudFVwbG9hZGVkQXQnKTtcblx0fSxcblxuXHRzaG93QXR0YWNobWVudHM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNle+8jOWImeaYvuekuuWOn+eUs+ivt+WNleaWh+S7tiDlkozliIblj5HlkI7nlLPor7fljZXmlofku7Zcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGlucy5faWQpO1xuXHRcdHZhciBhdHRhY2htZW50c19jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcblx0XHR9KS5jb3VudCgpO1xuXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGF0dGFjaG1lbnRzX2NvdW50IDwgMSlcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImluYm94XCIgfHwgYXR0YWNobWVudHNfY291bnQgPiAwKVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF90OiBmdW5jdGlvbihrZXkpIHtcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cdH0sXG5cblx0XzogZnVuY3Rpb24oa2V5KSB7XG5cdFx0dmFyIGxvY2FsZTtcblx0XHRpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcblx0XHR9XG5cdH0sXG5cblx0Zmxvd19maWxlczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdHJldHVybiBjZnMuZmlsZXMuZmluZCh7ICdtZXRhZGF0YS5zcGFjZSc6IGlucy5zcGFjZSwgJ21ldGFkYXRhLm9iamVjdF9uYW1lJzogJ2Zsb3dzJywgJ21ldGFkYXRhLnJlY29yZF9pZCc6IGlucy5mbG93IH0pO1xuXHR9LFxuXG5cdGlzRHJhZnRBbmRGbG93ZmlsZXNFeGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdHJldHVybiAoU2Vzc2lvbi5nZXQoJ2JveCcpID09ICdkcmFmdCcpICYmICEhY2ZzLmZpbGVzLmZpbmQoeyAnbWV0YWRhdGEuc3BhY2UnOiBpbnMuc3BhY2UsICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBpbnMuZmxvdyB9KS5jb3VudCgpO1xuXHR9XG5cblxufVxuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuX3QgPSBmdW5jdGlvbihrZXkpIHtcblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxuXHR9XG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuZW5hYmxlZF9hZGRfbWFpbl9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGZhbHNlXG5cdH07XG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGZhbHNlXG5cdH07XG5cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5tYWluX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jb21wYWN0KFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsIGluc3RhbmNlLl9pZF0pO1xuXHRcdHZhciBhdHRhY2htZW50ID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGF0dGFjaG1lbnQ7XG5cdH07XG5cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5ub3JtYWxfYXR0YWNobWVudHMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgc3RlZWRvc0RhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGFcblx0XHR2YXIgaW5zdGFuY2UgPSBzdGVlZG9zRGF0YS5pbnN0YW5jZTtcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zdGFuY2UuX2lkKTtcblx0XHR2YXIgYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB7XG5cdFx0XHRcdCRuZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdCRvcjogW3tcblx0XHRcdFx0J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7XG5cdFx0XHRcdFx0JG5lOiB0cnVlXG5cdFx0XHRcdH1cblx0XHRcdH0sIHtcblx0XHRcdFx0J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLFxuXHRcdFx0XHRcIm1ldGFkYXRhLm93bmVyXCI6IHN0ZWVkb3NEYXRhLnVzZXJJZFxuXHRcdFx0fV1cblx0XHR9KS5mZXRjaCgpO1xuXG5cdFx0cmV0dXJuIGF0dGFjaG1lbnRzO1xuXHR9O1xuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuc2hvd0F0dGFjaG1lbnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY2xvbmUoaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnN0YW5jZS5faWQpO1xuXG5cdFx0dmFyIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxuXHRcdH0pLmZldGNoKCk7XG5cblx0XHRpZiAoYXR0YWNobWVudHMgJiYgYXR0YWNobWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuc2hvd01haW5UaXRsZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNvbXBhY3QoW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSwgaW5zdGFuY2UuX2lkXSk7XG5cdFx0dmFyIG1haW5fYXR0YWNoX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdH0pLmNvdW50KCk7XG5cblx0XHRyZXR1cm4gbWFpbl9hdHRhY2hfY291bnQgPiAwXG5cdH1cbn1cbiIsIm1hcmtlZCA9IHJlcXVpcmUoXCJtYXJrZWRcIilcbkluc3RhbmNlU2lnblRleHQuaGVscGVycyA9XG5cdHNob3c6IChzdGVwTmFtZSktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoJ2luc3RhbmNlUHJpbnQnKVxuXHRcdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRcdGlmIEluc3RhbmNlTWFuYWdlci5pc0luYm94KClcblx0XHRcdFx0bXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKClcblx0XHRcdFx0aWYgbXlBcHByb3ZlXG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRcdFx0XHRteVRyYWNlID0gaW5zdGFuY2U/LnRyYWNlcz8uZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCBteUFwcHJvdmUudHJhY2UpXG5cdFx0XHRcdFx0cmV0dXJuIG15VHJhY2U/Lm5hbWUgPT0gc3RlcE5hbWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRkZWZhdWx0RGVzY3JpcHRpb246ICgpLT5cbiNcdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIilcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb25cblxuXHR0cmFjZXM6ICgpLT5cblx0XHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXG5cblx0dHJhY2U6IChzdGVwTmFtZSwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduLCB0b3Bfa2V5d29yZHMpLT5cblx0XHRpbnN0YW5jZSA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UoKVxuXG5cdFx0aXNfY29tcGxldGVkID0gaW5zdGFuY2U/LnN0YXRlID09IFwiY29tcGxldGVkXCJcblxuXHRcdGNvbXBsZXRlZF9kYXRlID0gaWYgaXNfY29tcGxldGVkIHRoZW4gXy5sYXN0KGluc3RhbmNlLnRyYWNlcyk/LmZpbmlzaF9kYXRlPy5nZXRUaW1lKCkgZWxzZSAwXG5cblx0XHRpZiBpc19jb21wbGV0ZWQgJiYgaW5zdGFuY2UuZmluaXNoX2RhdGVcblx0XHRcdGNvbXBsZXRlZF9kYXRlID0gaW5zdGFuY2UuZmluaXNoX2RhdGU/LmdldFRpbWUoKVxuXG5cdFx0dHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxuXG5cdFx0YXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tzdGVwTmFtZV0pXG5cblx0XHRhcHByb3ZlX3NvcnQgPSAoYXBwcm92ZXMsIHRvcF9rZXl3b3JkcyktPlxuXG4j5a+5QXBwcm92ZXPmjpLluo/vvIwg5oyJ54Wn5o+Q5Lqk5pe26Ze05o6S5YCS5bqP77yM5aaC5p6c5rKh5pyJ5o+Q5Lqk5YiZ5pi+56S65Zyo5pyA5LiK6L65XG5cdFx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLnNvcnRCeSBhcHByb3ZlcywgKGFwcHJvdmUpLT5cblx0XHRcdFx0cmV0dXJuIC0oYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKClcblxuXHRcdFx0I+mAmui/h+WFs+mUruWtl+aOkuW6j1xuXHRcdFx0aWYgdG9wX2tleXdvcmRzXG5cdFx0XHRcdHRvcF9hcHByb3ZlcyA9IG5ldyBBcnJheSgpXG5cblx0XHRcdFx0dG9wX2tleXdvcmRzLnNwbGl0KFwiLFwiKS5mb3JFYWNoIChrZXkpIC0+XG5cdFx0XHRcdFx0dG9wX2FwcHJvdmVzID0gXy51bmlvbiB0b3BfYXBwcm92ZXMsIF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgKGFwcHJvdmUpLT5cblx0XHRcdFx0XHRcdHJldHVybiBhcHByb3ZlPy5oYW5kbGVyX25hbWU/LmluZGV4T2Yoa2V5KSA+IC0xXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQjIOWvuee9rumhtuaEj+ingeaMieeFp+WkhOeQhuS6i+S7tuaOkuWAkuW6j1xuXHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBfLnNvcnRCeSB0b3BfYXBwcm92ZXMsICh0b3BfYXBwcm92ZSktPlxuXHRcdFx0XHRcdHJldHVybiAtKHRvcF9hcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKVxuXG5cdFx0XHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8udW5pb24gdG9wX2FwcHJvdmVzLCBhcHByb3Zlc19zb3J0ZWRcblx0XHRcdHJldHVybiBhcHByb3Zlc19zb3J0ZWQgfHwgW11cblxuXHRcdGFwcHJvdmVzID0gXy5maWx0ZXIgYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRyZXR1cm4gYS50eXBlIGlzbnQgXCJmb3J3YXJkXCIgYW5kIGEudHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiIGFuZCBhLnR5cGUgaXNudCBcInRlcm1pbmF0ZWRcIlxuXG5cdFx0aWYgb25seV9jY19vcGluaW9uXG5cdFx0XHRhcHByb3ZlcyA9IGFwcHJvdmVzPy5maWx0ZXJQcm9wZXJ0eShcInR5cGVcIiwgXCJjY1wiKVxuXG5cdFx0YXBwcm92ZXNfc29ydGVkID0gYXBwcm92ZV9zb3J0KGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpXG5cblx0XHRhcHByb3Zlc0dyb3VwID0gXy5ncm91cEJ5KGFwcHJvdmVzLCBcImhhbmRsZXJcIik7XG5cblx0XHRoYXNOZXh0ID0gKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIC0+XG5cdFx0XHRoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl1cblx0XHRcdHJldHVybiBfLmluZGV4T2YoaGFuZGxlckFwcHJvdmVzLCBhcHByb3ZlKSArIDEgPCBoYW5kbGVyQXBwcm92ZXMubGVuZ3RoXG5cblx0XHRoYXZlRGVzY3JpcHRpb25BcHByb3ZlID0gKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIC0+XG5cdFx0XHRoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl1cblxuXHRcdFx0ZGVzY3JpcHRpb25BcHByb3ZlcyA9IF8uZmlsdGVyIGhhbmRsZXJBcHByb3ZlcywgKGEpLT5cblx0XHRcdFx0aWYgYS5kZXNjcmlwdGlvblxuXHRcdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0XHRpZiBkZXNjcmlwdGlvbkFwcHJvdmVzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cblx0XHRhcHByb3Zlc19zb3J0ZWQuZm9yRWFjaCAoYXBwcm92ZSkgLT5cbiNcdFx0XHTmnInovpPlhaXmhI/op4Eg5oiWIOacgOaWsOS4gOadoeW5tuS4lOeUqOaIt+ayoeaciei+k+WFpei/h+aEj+ingVxuI1x0XHRcdGlmICFhcHByb3ZlLmlzX2ZpbmlzaGVkIHx8IGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApICYmICFoYXZlRGVzY3JpcHRpb25BcHByb3ZlKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApKVxuI1x0XHRcdGlmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApXG5cdFx0XHRpZiBhcHByb3ZlLnNpZ25fc2hvdyAhPSBmYWxzZSAmJiAoYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWFwcHJvdmUuZGVzY3JpcHRpb24gJiYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgJiYgIWFwcHJvdmUuaXNfZmluaXNoZWQpIHx8IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud29ya2Zsb3c/LnNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbilcblx0XHRcdFx0aWYgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHRcdGFwcHJvdmUuX2Rpc3BsYXkgPSB0cnVlXG5cblx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLmZpbHRlciBhcHByb3Zlc19zb3J0ZWQsIChhKSAtPlxuXHRcdFx0aWYgaXNfY29tcGxldGVkXG5cdFx0XHRcdHJldHVybiBhLl9kaXNwbGF5ID09IHRydWUgJiYgYS5pc19maW5pc2hlZCAmJiBhLmZpbmlzaF9kYXRlPy5nZXRUaW1lKCkgPD0gY29tcGxldGVkX2RhdGVcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIGEuX2Rpc3BsYXkgPT0gdHJ1ZVxuXHRcdHJldHVybiBhcHByb3Zlc19zb3J0ZWRcblxuXHRpbmNsdWRlOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlKGEsIGIpXG5cblx0dW5lbXB0eTogKHZhbCktPlxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnVuZW1wdHkodmFsKSB8fCBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndvcmtmbG93Py5zaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb25cblxuXHRmb3JtYXREYXRlOiAoZGF0ZSwgb3B0aW9ucyktPlxuXHRcdGlmICFvcHRpb25zXG5cdFx0XHRvcHRpb25zID0ge1wiZm9ybWF0XCI6IFwiWVlZWS1NTS1ERFwifVxuXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKVxuXG5cdGlzTXlBcHByb3ZlOiAoYXBwcm92ZSwgb25seV9jY19vcGluaW9uKSAtPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cblx0XHRcdGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKClcblxuXHRcdFx0aWYgIWFwcHJvdmU/Ll9pZFxuXHRcdFx0XHRhcHByb3ZlID0gY3VycmVudEFwcHJvdmVcblxuXHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gY3VycmVudEFwcHJvdmU/Ll9pZCAmJiBjdXJyZW50QXBwcm92ZT8udHlwZSA9PSAnY2MnICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lXG5cdFx0XHRcdGlmIF8uaW5kZXhPZihjdXJyZW50QXBwcm92ZT8ub3Bpbmlvbl9maWVsZHNfY29kZSwgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpID4gLTFcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdGlmICEoY3VycmVudEFwcHJvdmU/LnR5cGUgPT0gJ2NjJykgJiYgb25seV9jY19vcGluaW9uXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0XHRpZiBjdXJyZW50QXBwcm92ZSAmJiBhcHByb3ZlLl9pZCA9PSBjdXJyZW50QXBwcm92ZS5faWRcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXG5cdFx0XHRcdGlmIG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0aWYgIW15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXG5cdFx0XHRcdFx0XHRpZiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXG5cdFx0XHRcdFx0XHRcdHJldHVybiBteUFwcHJvdmU/LmRlc2NyaXB0aW9uIHx8IFwiXCJcblx0XHRcdFx0XHRcdHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblxuXHRub3c6ICgpLT5cblx0XHRyZXR1cm4gbmV3IERhdGUoKTtcblxuXHRpc1JlYWRPbmx5OiAoKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0aXNPcGluaW9uT2ZGaWVsZDogKGFwcHJvdmUpLT5cblx0XHRpZiBhcHByb3ZlLnR5cGUgPT0gXCJjY1wiICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lXG5cdFx0XHRpZiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSA9PSBhcHByb3ZlLnNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcblx0XHRcdCMgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcblx0XHRcdCMgcmVuZGVyZXIubGluayA9IChocmVmLCB0aXRsZSwgdGV4dCkgLT5cblx0XHRcdCMgXHRyZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nI3tocmVmfScgdGl0bGU9JyN7dGl0bGV9Jz4je3RleHR9PC9hPlwiXG5cdFx0XHRyZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcobWFya2VkLnBhcnNlKG1hcmtEb3duU3RyaW5nKSlcblxuXHRzdGVwczogKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiktPlxuXHRcdHN0ZXBzID0gW11cblx0XHRpZiAhc3RlcFxuXHRcdFx0aWYgIWZpZWxkX2Zvcm11bGFcblx0XHRcdFx0ZmllbGRfZm9ybXVsYSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk/LmZpZWxkcz8uZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgdGhpcy5uYW1lKS5mb3JtdWxhXG5cdFx0XHRzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGEudG9wX2tleXdvcmRzKVxuXHRcdGVsc2Vcblx0XHRcdHN0ZXBzID0gW3tzdGVwTmFtZTogc3RlcCwgb25seV9jY19vcGluaW9uOiBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ246IGltYWdlX3NpZ259XVxuXHRcdHJldHVybiBzdGVwc1xuXG5cdGltYWdlU2lnbkRhdGE6IChoYW5kbGVyKSAtPlxuXHRcdHJldHVybiB7dXNlcjogaGFuZGxlcn1cblxuXHRzaG93U2lnbkltYWdlOiAoaGFuZGxlciwgaW1hZ2Vfc2lnbiwganVkZ2UpIC0+XG5cdFx0aWYgWydyZXR1cm5lZCcsICd0ZXJtaW5hdGVkJywgJ3JldHJpZXZlZCddLmluY2x1ZGVzKGp1ZGdlKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcilcblxuXHRcdGlmIHNwYWNlVXNlclNpZ24/LnNpZ24gJiYgaW1hZ2Vfc2lnblxuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRnZXRMYXN0U2lnbkFwcHJvdmU6ICgpLT5cblx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuXHRcdHJldHVybiBfLmxhc3QoVHJhY2VzTWFuYWdlci5nZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyBpbnMsIE1ldGVvci51c2VySWQoKSlcblxuXG5cdGxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbjogKCktPlxuXHRcdHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcblx0XHRjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbY3VycmVudFN0ZXAubmFtZV0pXG5cblx0XHRhcHByb3ZlcyA9IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCBNZXRlb3IudXNlcklkKCkpXG5cblx0XHRpZiBhcHByb3Zlcy5sZW5ndGggPiAxXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNbYXBwcm92ZXMubGVuZ3RoIC0gMl0/LmRlc2NyaXB0aW9uXG5cblx0XHRyZXR1cm4gXCJcIjtcblxuXHRzaG93QXBwcm92ZTogKGFwcHJvdmUpLT5cblx0XHRpZiAhYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxuXHRcdFx0aWYgYXBwcm92ZT8uaXNfcmVhZFxuXHRcdFx0XHRpZiBhcHByb3ZlLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0cmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoYXBwcm92ZS5qdWRnZSlcblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0anVkZ2VfZGVzY3JpcHRpb246IChqdWRnZSktPlxuXHRcdHJldHVybiB0KGp1ZGdlICsgXCJfZGVzY3JpcHRpb25cIilcblxuXHRpc19hcHByb3ZlZDogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIFwiYXBwcm92ZWRcIiA9PSBqdWRnZVxuXG5cdGlzX3JlamVjdGVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gXCJyZWplY3RlZFwiID09IGp1ZGdlXG5cblx0aXNfcmVhZGVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhqdWRnZSlcblxuXHRhZGRDbGFzczogKCktPlxuXHRcdG5hbWUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXG5cdFx0c2V0VGltZW91dCAoKSAtPlxuXHRcdFx0dHJ5XG5cdFx0XHRcdGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSlcblx0XHRcdFx0aWYgZWxlbWVudC5sZW5ndGggPiAwXG5cdFx0XHRcdFx0aWYgZWxlbWVudD8uaXMoXCJ0ZFwiKVxuXHRcdFx0XHRcdFx0ZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdCQoXCIuaW5zdGFuY2Utc2lnblwiLCBlbGVtZW50KS5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKVxuXHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRjb25zb2xlLmxvZyBlXG5cdFx0LCAxXG5cdFx0cmV0dXJuICcnXG5cbmlmIE1ldGVvci5pc1NlcnZlclxuXHRJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gLT5cblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIiwge30sIGxvY2FsZSkiLCJ2YXIgbWFya2VkO1xuXG5tYXJrZWQgPSByZXF1aXJlKFwibWFya2VkXCIpO1xuXG5JbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgPSB7XG4gIHNob3c6IGZ1bmN0aW9uKHN0ZXBOYW1lKSB7XG4gICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15VHJhY2UsIHJlZjtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoJ2luc3RhbmNlUHJpbnQnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoSW5zdGFuY2VNYW5hZ2VyLmlzSW5ib3goKSkge1xuICAgICAgICBteUFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICAgICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgICAgIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgbXlUcmFjZSA9IGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgbXlBcHByb3ZlLnRyYWNlKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4gKG15VHJhY2UgIT0gbnVsbCA/IG15VHJhY2UubmFtZSA6IHZvaWQgMCkgPT09IHN0ZXBOYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZGVmYXVsdERlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb247XG4gIH0sXG4gIHRyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gIH0sXG4gIHRyYWNlOiBmdW5jdGlvbihzdGVwTmFtZSwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduLCB0b3Bfa2V5d29yZHMpIHtcbiAgICB2YXIgYXBwcm92ZV9zb3J0LCBhcHByb3ZlcywgYXBwcm92ZXNHcm91cCwgYXBwcm92ZXNfc29ydGVkLCBjb21wbGV0ZWRfZGF0ZSwgaGFzTmV4dCwgaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSwgaW5zdGFuY2UsIGlzX2NvbXBsZXRlZCwgcmVmLCByZWYxLCByZWYyLCB0cmFjZXM7XG4gICAgaW5zdGFuY2UgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlKCk7XG4gICAgaXNfY29tcGxldGVkID0gKGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCI7XG4gICAgY29tcGxldGVkX2RhdGUgPSBpc19jb21wbGV0ZWQgPyAocmVmID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcykpICE9IG51bGwgPyAocmVmMSA9IHJlZi5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0VGltZSgpIDogdm9pZCAwIDogdm9pZCAwIDogMDtcbiAgICBpZiAoaXNfY29tcGxldGVkICYmIGluc3RhbmNlLmZpbmlzaF9kYXRlKSB7XG4gICAgICBjb21wbGV0ZWRfZGF0ZSA9IChyZWYyID0gaW5zdGFuY2UuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYyLmdldFRpbWUoKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgICBhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW3N0ZXBOYW1lXSk7XG4gICAgYXBwcm92ZV9zb3J0ID0gZnVuY3Rpb24oYXBwcm92ZXMsIHRvcF9rZXl3b3Jkcykge1xuICAgICAgdmFyIGFwcHJvdmVzX3NvcnRlZCwgdG9wX2FwcHJvdmVzO1xuICAgICAgYXBwcm92ZXNfc29ydGVkID0gXy5zb3J0QnkoYXBwcm92ZXMsIGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIC0oYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICB9KTtcbiAgICAgIGlmICh0b3Bfa2V5d29yZHMpIHtcbiAgICAgICAgdG9wX2FwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRvcF9rZXl3b3Jkcy5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gdG9wX2FwcHJvdmVzID0gXy51bmlvbih0b3BfYXBwcm92ZXMsIF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgdmFyIHJlZjM7XG4gICAgICAgICAgICByZXR1cm4gKGFwcHJvdmUgIT0gbnVsbCA/IChyZWYzID0gYXBwcm92ZS5oYW5kbGVyX25hbWUpICE9IG51bGwgPyByZWYzLmluZGV4T2Yoa2V5KSA6IHZvaWQgMCA6IHZvaWQgMCkgPiAtMTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0b3BfYXBwcm92ZXMgPSBfLnNvcnRCeSh0b3BfYXBwcm92ZXMsIGZ1bmN0aW9uKHRvcF9hcHByb3ZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0odG9wX2FwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgYXBwcm92ZXNfc29ydGVkID0gXy51bmlvbih0b3BfYXBwcm92ZXMsIGFwcHJvdmVzX3NvcnRlZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXBwcm92ZXNfc29ydGVkIHx8IFtdO1xuICAgIH07XG4gICAgYXBwcm92ZXMgPSBfLmZpbHRlcihhcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGEudHlwZSAhPT0gXCJmb3J3YXJkXCIgJiYgYS50eXBlICE9PSBcImRpc3RyaWJ1dGVcIiAmJiBhLnR5cGUgIT09IFwidGVybWluYXRlZFwiO1xuICAgIH0pO1xuICAgIGlmIChvbmx5X2NjX29waW5pb24pIHtcbiAgICAgIGFwcHJvdmVzID0gYXBwcm92ZXMgIT0gbnVsbCA/IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwidHlwZVwiLCBcImNjXCIpIDogdm9pZCAwO1xuICAgIH1cbiAgICBhcHByb3Zlc19zb3J0ZWQgPSBhcHByb3ZlX3NvcnQoYXBwcm92ZXMsIHRvcF9rZXl3b3Jkcyk7XG4gICAgYXBwcm92ZXNHcm91cCA9IF8uZ3JvdXBCeShhcHByb3ZlcywgXCJoYW5kbGVyXCIpO1xuICAgIGhhc05leHQgPSBmdW5jdGlvbihhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSB7XG4gICAgICB2YXIgaGFuZGxlckFwcHJvdmVzO1xuICAgICAgaGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdO1xuICAgICAgcmV0dXJuIF8uaW5kZXhPZihoYW5kbGVyQXBwcm92ZXMsIGFwcHJvdmUpICsgMSA8IGhhbmRsZXJBcHByb3Zlcy5sZW5ndGg7XG4gICAgfTtcbiAgICBoYXZlRGVzY3JpcHRpb25BcHByb3ZlID0gZnVuY3Rpb24oYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkge1xuICAgICAgdmFyIGRlc2NyaXB0aW9uQXBwcm92ZXMsIGhhbmRsZXJBcHByb3ZlcztcbiAgICAgIGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXTtcbiAgICAgIGRlc2NyaXB0aW9uQXBwcm92ZXMgPSBfLmZpbHRlcihoYW5kbGVyQXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgaWYgKGEuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGlmIChkZXNjcmlwdGlvbkFwcHJvdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIGFwcHJvdmVzX3NvcnRlZC5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgIHZhciByZWYzO1xuICAgICAgaWYgKGFwcHJvdmUuc2lnbl9zaG93ICE9PSBmYWxzZSAmJiAoYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWFwcHJvdmUuZGVzY3JpcHRpb24gJiYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgJiYgIWFwcHJvdmUuaXNfZmluaXNoZWQpIHx8ICgocmVmMyA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZjMuc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uIDogdm9pZCAwKSkpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgICAgIHJldHVybiBhcHByb3ZlLl9kaXNwbGF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIHJlZjM7XG4gICAgICBpZiAoaXNfY29tcGxldGVkKSB7XG4gICAgICAgIHJldHVybiBhLl9kaXNwbGF5ID09PSB0cnVlICYmIGEuaXNfZmluaXNoZWQgJiYgKChyZWYzID0gYS5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjMuZ2V0VGltZSgpIDogdm9pZCAwKSA8PSBjb21wbGV0ZWRfZGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhLl9kaXNwbGF5ID09PSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhcHByb3Zlc19zb3J0ZWQ7XG4gIH0sXG4gIGluY2x1ZGU6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlKGEsIGIpO1xuICB9LFxuICB1bmVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgcmVmO1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnVuZW1wdHkodmFsKSB8fCAoKHJlZiA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZi5zaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24gOiB2b2lkIDApO1xuICB9LFxuICBmb3JtYXREYXRlOiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBcImZvcm1hdFwiOiBcIllZWVktTU0tRERcIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKTtcbiAgfSxcbiAgaXNNeUFwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmUsIG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgIHZhciBjdXJyZW50QXBwcm92ZSwgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgY3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICAgIGlmICghKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUuX2lkIDogdm9pZCAwKSkge1xuICAgICAgICBhcHByb3ZlID0gY3VycmVudEFwcHJvdmU7XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5faWQgPT09IChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUuX2lkIDogdm9pZCAwKSAmJiAoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICAgIGlmIChfLmluZGV4T2YoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUgOiB2b2lkIDAsIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSA+IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoISgoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnKSAmJiBvbmx5X2NjX29waW5pb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRBcHByb3ZlICYmIGFwcHJvdmUuX2lkID09PSBjdXJyZW50QXBwcm92ZS5faWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IG15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT09ICgocmVmMiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMyA9IHJlZjIuZGF0YSkgIT0gbnVsbCA/IHJlZjMubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgIGlmICghU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbm93OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgfSxcbiAgaXNSZWFkT25seTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc09waW5pb25PZkZpZWxkOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gXCJjY1wiICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICBpZiAoVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUgPT09IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZShtYXJrRG93blN0cmluZykpO1xuICAgIH1cbiAgfSxcbiAgc3RlcHM6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbikge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHN0ZXBzO1xuICAgIHN0ZXBzID0gW107XG4gICAgaWYgKCFzdGVwKSB7XG4gICAgICBpZiAoIWZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZmllbGRfZm9ybXVsYSA9IChyZWYgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCB0aGlzLm5hbWUpLmZvcm11bGEgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIChyZWYyID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IHJlZjIuZGF0YS50b3Bfa2V5d29yZHMgOiB2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGVwcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0ZXBOYW1lOiBzdGVwLFxuICAgICAgICAgIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLFxuICAgICAgICAgIGltYWdlX3NpZ246IGltYWdlX3NpZ25cbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXBzO1xuICB9LFxuICBpbWFnZVNpZ25EYXRhOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IGhhbmRsZXJcbiAgICB9O1xuICB9LFxuICBzaG93U2lnbkltYWdlOiBmdW5jdGlvbihoYW5kbGVyLCBpbWFnZV9zaWduLCBqdWRnZSkge1xuICAgIHZhciBzcGFjZVVzZXJTaWduO1xuICAgIGlmIChbJ3JldHVybmVkJywgJ3Rlcm1pbmF0ZWQnLCAncmV0cmlldmVkJ10uaW5jbHVkZXMoanVkZ2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpO1xuICAgIGlmICgoc3BhY2VVc2VyU2lnbiAhPSBudWxsID8gc3BhY2VVc2VyU2lnbi5zaWduIDogdm9pZCAwKSAmJiBpbWFnZV9zaWduKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgZ2V0TGFzdFNpZ25BcHByb3ZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiBfLmxhc3QoVHJhY2VzTWFuYWdlci5nZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyhpbnMsIE1ldGVvci51c2VySWQoKSkpO1xuICB9LFxuICBsYXN0TXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcHByb3ZlcywgY3VycmVudFN0ZXAsIHJlZiwgdHJhY2VzO1xuICAgIHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gICAgY3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICBhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW2N1cnJlbnRTdGVwLm5hbWVdKTtcbiAgICBhcHByb3ZlcyA9IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCBNZXRlb3IudXNlcklkKCkpO1xuICAgIGlmIChhcHByb3Zlcy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gKHJlZiA9IGFwcHJvdmVzW2FwcHJvdmVzLmxlbmd0aCAtIDJdKSAhPSBudWxsID8gcmVmLmRlc2NyaXB0aW9uIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfSxcbiAgc2hvd0FwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICB2YXIgcmVmLCByZWYxO1xuICAgIGlmICghYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT09ICgocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmRhdGEpICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICBpZiAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS5pc19yZWFkIDogdm9pZCAwKSB7XG4gICAgICAgIGlmIChhcHByb3ZlLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgcmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoYXBwcm92ZS5qdWRnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBqdWRnZV9kZXNjcmlwdGlvbjogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gdChqdWRnZSArIFwiX2Rlc2NyaXB0aW9uXCIpO1xuICB9LFxuICBpc19hcHByb3ZlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gXCJhcHByb3ZlZFwiID09PSBqdWRnZTtcbiAgfSxcbiAgaXNfcmVqZWN0ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFwicmVqZWN0ZWRcIiA9PT0ganVkZ2U7XG4gIH0sXG4gIGlzX3JlYWRlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhqdWRnZSk7XG4gIH0sXG4gIGFkZENsYXNzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmFtZSwgcmVmLCByZWYxO1xuICAgIG5hbWUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmRhdGEpICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlLCBlbGVtZW50O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZWxlbWVudCA9ICQoXCIuYXV0b21hdGljLm9waW5pb24tZmllbGQtXCIgKyBuYW1lKTtcbiAgICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChlbGVtZW50ICE9IG51bGwgPyBlbGVtZW50LmlzKFwidGRcIikgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJChcIi5pbnN0YW5jZS1zaWduXCIsIGVsZW1lbnQpLmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7XG4gICAgICB9XG4gICAgfSwgMSk7XG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIEluc3RhbmNlU2lnblRleHQuaGVscGVycy5kZWZhdWx0RGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIiwge30sIGxvY2FsZSk7XG4gIH07XG59XG4iLCJtYXJrZWQgPSByZXF1aXJlKFwibWFya2VkXCIpXG5UcmFjZXNUZW1wbGF0ZS5oZWxwZXJzID1cblx0ZXF1YWxzOiAoYSwgYikgLT5cblx0XHRhID09IGJcblx0ZW1wdHk6IChhKSAtPlxuXHRcdGlmIGFcblx0XHRcdGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDwgMVxuXHRcdGVsc2Vcblx0XHRcdHRydWVcblx0dW5lbXB0eTogKGEpIC0+XG5cdFx0aWYgYVxuXHRcdFx0YS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwXG5cdFx0ZWxzZVxuXHRcdFx0ZmFsc2VcblxuXHRhcHBlbmQ6IChhLCBiKSAtPlxuXHRcdGEgKyBiXG5cblx0ZGF0ZUZvcm1hdDogKGRhdGUpIC0+XG5cdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKCkgJiYgZGF0ZT8uZ2V0RnVsbFllYXIoKSA9PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKClcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwiTU0tZGQgSEg6bW1cIlxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gJC5mb3JtYXQuZGF0ZSBuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCJcblxuXHRnZXRTdGVwTmFtZTogKHN0ZXBJZCkgLT5cblx0XHRzdGVwID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlU3RlcChzdGVwSWQpXG5cdFx0aWYgc3RlcFxuXHRcdFx0cmV0dXJuIHN0ZXAubmFtZVxuXHRcdG51bGxcblx0c2hvd0RlbGV0ZUJ1dHRvbjogKGFwcHJvdmVkKSAtPlxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdjYycgYW5kIGFwcHJvdmVkLmZyb21fdXNlciA9PSBNZXRlb3IudXNlcklkKCkgYW5kIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9IHRydWUgYW5kICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIilcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZmFsc2Vcblx0aXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uOiAoYXBwcm92ZWQpIC0+XG5cdFx0YXBwcm92ZV9hZG1pbnMgPSBNZXRlb3Iuc2V0dGluZ3M/LnB1YmxpYz8ud29ya2Zsb3c/LmFwcHJvdmVfYWRtaW5zXG5cdFx0aWYgYXBwcm92ZV9hZG1pbnM/Lmxlbmd0aFxuXHRcdFx0aXNTaG93ID0gYXBwcm92ZV9hZG1pbnM/LmNvbnRhaW5zIE1ldGVvci51c2VySWQoKVxuXHRcdHVubGVzcyBpc1Nob3dcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09IE1ldGVvci51c2VySWQoKVxuXHRpc0VkaXRpbmc6ICgpIC0+XG5cdFx0IHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmlzX2VkaXRpbmc/LmdldCgpXG5cdGlzU2hvd0Rlc2NyaXB0aW9uOiAoYXBwcm92ZWQpLT5cblx0XHQjIGRlYnVnZ2VyXG5cdFx0aWYgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24gYXBwcm92ZWRcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0cmV0dXJuIGFwcHJvdmVkLmRlc2NyaXB0aW9uPy50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwXG5cdGlzQ0M6IChhcHByb3ZlZCkgLT5cblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnY2MnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdGdldEFwcHJvdmVTdGF0dXNJY29uOiAoYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSAtPlxuXHRcdGlmIGF1dG9TdWJtaXR0ZWQgPT0gdHJ1ZVxuXHRcdFx0cmV0dXJuICdpb24gaW9uLWFuZHJvaWQtYWxhcm0tY2xvY2snXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXG5cdFx0YXBwcm92ZVN0YXR1c0ljb24gPSB1bmRlZmluZWRcblx0XHRzd2l0Y2ggYXBwcm92ZUp1ZGdlXG5cdFx0XHR3aGVuICdhcHByb3ZlZCdcblx0XHRcdFx0IyDlt7LmoLjlh4Zcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnXG5cdFx0XHR3aGVuICdyZWplY3RlZCdcblx0XHRcdFx0IyDlt7LpqbPlm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCdcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5raIXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbidcblx0XHRcdHdoZW4gJ3JlYXNzaWduZWQnXG5cdFx0XHRcdCMg6L2s562+5qC4XG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0J1xuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xuXHRcdFx0XHQjIOmHjeWumuS9jVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluaydcblx0XHRcdHdoZW4gJ3JldHJpZXZlZCdcblx0XHRcdFx0IyDlt7Llj5blm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbydcblx0XHRcdGVsc2Vcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnJ1xuXHRcdFx0XHRicmVha1xuXHRcdGFwcHJvdmVTdGF0dXNJY29uXG5cdGdldEFwcHJvdmVTdGF0dXNUZXh0OiAoYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSAtPlxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXG5cdFx0aWYgYXV0b1N1Ym1pdHRlZCA9PSB0cnVlXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV90aW1lb3V0X2F1dG9fc3VibWl0dGVkJywge30sIGxvY2FsZSlcblx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IHVuZGVmaW5lZFxuXHRcdHN3aXRjaCBhcHByb3ZlSnVkZ2Vcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xuXHRcdFx0XHQjIOW3suaguOWHhlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xuXHRcdFx0XHQjIOW3sumps+WbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5raIXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZWFzc2lnbmVkJ1xuXHRcdFx0XHQjIOi9rOetvuaguFxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xuXHRcdFx0XHQjIOmHjeWumuS9jVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZXRyaWV2ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5ZueXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JldHVybmVkJ1xuXHRcdFx0XHQjIOW3sumAgOWbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlYWRlZCdcblx0XHRcdFx0IyDlt7LpmIVcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9ICcnXG5cdFx0XHRcdGJyZWFrXG5cdFx0YXBwcm92ZVN0YXR1c1RleHRcblx0XG5cdGdldEFwcHJvdmVKdWRnZUNsYXNzOiAoYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSAtPlxuXHRcdGlmIGF1dG9TdWJtaXR0ZWQgPT0gdHJ1ZVxuXHRcdFx0cmV0dXJuICdhdXRvU3VibWl0dGVkJ1xuXHRcdHJldHVybiBhcHByb3ZlSnVkZ2VcblxuXHRfdDogKGtleSktPlxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcblxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXG5cdFx0XHRcdGlmIG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0aWYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxuXHRcdFx0XHRcdFx0cmV0dXJuIG15QXBwcm92ZT8uZGVzY3JpcHRpb24gfHwgXCJcIlxuXHRcdFx0XHRcdHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblx0aXNGb3J3YXJkOiAoYXBwcm92ZWQpIC0+XG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2ZvcndhcmQnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdHNob3dGb3J3YXJkRGVsZXRlQnV0dG9uOiAoYXBwcm92ZSkgLT5cblx0XHRpZiBkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgaXMgMFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdmb3J3YXJkJyBhbmQgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cblx0XHRpZiBtYXJrRG93blN0cmluZ1xuXHRcdFx0IyByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuXHRcdFx0IyByZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHQjIFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZShtYXJrRG93blN0cmluZykpXG5cdGlzRGlzdHJpYnV0ZTogKGFwcHJvdmUpIC0+XG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJyBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0IyDmtYHnqIvnrqHnkIblkZjlkozns7vnu5/nrqHnkIblkZjvvIzlj6/ku6XmiafooYzku7vkvZXmg4XlhrXkuIvnmoTmlofku7blj5bmtojliIblj5Fcblx0XHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGFwcHJvdmUuaW5zdGFuY2V9LCB7ZmllbGRzOiB7ZmxvdzogMSwgc3BhY2U6IDF9fSlcblx0XHRcdGlmIGlucyBhbmQgaW5zLmZsb3cgYW5kIGlucy5zcGFjZVxuXHRcdFx0XHRpZiBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCBNZXRlb3IudXNlcklkKCkpXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblxuXHRcdFx0aWYgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cblx0XHRmYWxzZVxuXG5cdGZpbmlzaERhdGVTY2hlbWE6ICgpIC0+XG5cdFx0aWYgU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG5cdFx0XHRcdGZpbmlzaF9kYXRlOiB7XG5cdFx0XHRcdFx0YXV0b2Zvcm06IHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxuXHRcdFx0XHRcdHR5cGU6IERhdGVcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG5cdFx0XHRcdGZpbmlzaF9kYXRlOiB7XG5cdFx0XHRcdFx0YXV0b2Zvcm06IHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyXCJcblx0XHRcdFx0XHRcdHJlYWRvbmx5OiB0cnVlXG5cdFx0XHRcdFx0XHRkYXRlVGltZVBpY2tlck9wdGlvbnM6e1xuXHRcdFx0XHRcdFx0XHRmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiLFxuXHRcdFx0XHRcdFx0XHRpZ25vcmVSZWFkb25seTp0cnVlLFxuXHRcdFx0XHRcdFx0XHRsb2NhbGU6IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIiksXG5cdFx0XHRcdFx0XHRcdHdpZGdldFBvc2l0aW9uaW5nOntcblx0XHRcdFx0XHRcdFx0XHRob3Jpem9udGFsOiAncmlnaHQnXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9wdGlvbmFsOiBmYWxzZSxcblx0XHRcdFx0XHR0eXBlOiBEYXRlXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblx0ZmluaXNoRGF0ZVZhbHVlczogKCkgLT5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZmluaXNoX2RhdGU6dGhpcy5maW5pc2hfZGF0ZVxuXHRcdH07XG5cblx0IyMjXG4gICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xuICAgIFx0dHJ1ZTog5pi+56S6dHJhY2VzIHZpZXcs562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCO5piv55u05o6l5a6a5L2N5YiwdHJhY2VzIHZpZXdcbiAgICBcdGZhbHNlOiDkuI3mmL7npLp0cmFjZXMgdmlld++8jOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjizku6VNb2RhbCDmlrnlvI/mmL7npLp0cmFjZXMgdmlld1xuXHQjIyNcblx0c2hvd1RyYWNlc1ZpZXc6IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cbiNcdFx0cmV0dXJuICEoSW5zdGFuY2VNYW5hZ2VyLmlzVGFibGVTdHlsZShmb3JtKSAmJiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGVzT3BpbmlvbkZpZWxkKGZvcm0sIGZvcm1fdmVyc2lvbikpXG5cblx0XHRzaG93X21vZGFsX3RyYWNlc19saXN0ID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7c3BhY2U6IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKSwga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIn0pPy52YWx1ZXMgfHwgZmFsc2VcblxuXHRcdHJldHVybiAhc2hvd19tb2RhbF90cmFjZXNfbGlzdFxuXG5cdGdldEluc3RhbmNlU3RhdGVUZXh0OiAoaW5zdGFuY2VfaWQpLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDEsIGlzX3JlYWQ6IDF9fSlcblx0XHRpZiBub3QgaW5zXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpXG5cblx0XHR0ZXh0ID0gJydcblx0XHRpZiBpbnMuc3RhdGUgaXMgJ2NvbXBsZXRlZCdcblx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdjb21wbGV0ZWQnLCB7fSwgbG9jYWxlKVxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdwZW5kaW5nJ1xuXHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ3BlbmRpbmcnLCB7fSwgbG9jYWxlKVxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdkcmFmdCdcblx0XHRcdGlmIGlucy5pc19yZWFkXG5cdFx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3JlYWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9ub3RfeWV0X2hhbmRsZWQnLCB7fSwgbG9jYWxlKVxuXG5cdFx0cmV0dXJuIHRleHRcblxuXHRnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IChpbnN0YW5jZV9pZCktPlxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxLCBpc19yZWFkOiAxfX0pXG5cdFx0aWYgbm90IGluc1xuXHRcdFx0cmV0dXJuIFwiXCJcblxuXHRcdGNsYSA9ICcnXG5cdFx0aWYgaW5zLnN0YXRlIGlzICdkcmFmdCdcblx0XHRcdGlmIGlucy5pc19yZWFkXG5cdFx0XHRcdGNsYSA9ICdibHVlJ1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRjbGEgPSAncmVkJ1xuXHRcdHJldHVybiBjbGFcblxuXHRmaXJzdFRyYWNlOiAoaW5kZXgpLT5cblx0XHRyZXR1cm4gaW5kZXggaXMgMFxuXG5cdGxhc3RfZGlzdHJpYnV0ZV9mcm9tOiAoaW5zdGFuY2VfaWQpLT5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZCwgZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlOiB7JGV4aXN0czogdHJ1ZX19LHtmaWVsZHM6e2NyZWF0ZWQ6IDEsIGNyZWF0ZWRfYnk6IDF9fSlcblx0XHRpZiBpbnNcblx0XHRcdGRpc19pbmZvID0ge31cblx0XHRcdHVzZXIgPSB7fVxuXHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRcdHVzZXIgPSBVVWZsb3dfYXBpLmdldE5hbWVGb3JVc2VyKGlucy5jcmVhdGVkX2J5KVxuXHRcdFx0ZWxzZSBpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdFx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe19pZDogaW5zLmNyZWF0ZWRfYnl9LCB7ZmllbGRzOiB7bmFtZTogMX19KVxuXG5cdFx0XHRpZiB1c2VyLm5hbWVcblx0XHRcdFx0ZGlzX2luZm8uZnJvbV91c2VyID0gdXNlci5faWRcblx0XHRcdFx0ZGlzX2luZm8uZnJvbV91c2VyX25hbWUgPSB1c2VyLm5hbWVcblx0XHRcdFx0ZGlzX2luZm8uY3JlYXRlZCA9IGlucy5jcmVhdGVkXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoZGlzX2luZm8pXG5cdFx0XHRcdHJldHVybiBkaXNfaW5mb1xuXHRcdHJldHVyblxuXG5cdGlzQ0NPckRpc3RyaWJ1dGVPckZvcndhcmRUZXJtaW5hdGVkOiAoYXBwcm92ZSktPlxuXHRcdGlmIChhcHByb3ZlLnR5cGUgaXMgJ2NjJyBvciBhcHByb3ZlLnR5cGUgaXMgJ2Rpc3RyaWJ1dGUnIG9yIGFwcHJvdmUudHlwZSBpcyAnZm9yd2FyZCcpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzICd0ZXJtaW5hdGVkJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRqdWRnZVRlcm1pbmF0ZWQ6IChqdWRnZSktPlxuXHRcdHJldHVybiBqdWRnZSBpcyAndGVybWluYXRlZCdcblxuXHRpbnN0YW5jZUV4aXN0czogKGluc3RhbmNlX2lkKS0+XG5cdFx0cmV0dXJuICEhZGIuaW5zdGFuY2VzLmZpbmQoaW5zdGFuY2VfaWQpLmNvdW50KClcblxuXHRhZ2VudERlc2NyaXB0aW9uOiAodXNlck5hbWUpLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxuXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogdXNlck5hbWV9LCBsb2NhbGUpXG5cdFxuXHR0cmFjZU5hbWU6IChpbnN0YW5jZV9pZCwgdHJhY2VJZCktPlxuXHRcdHJldHVybiBfLmZpbmQoZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQsIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSk/LnRyYWNlcywgKHRyYWNlKS0+XG5cdFx0XHRcdFx0cmV0dXJuIHRyYWNlLl9pZCA9PSAgdHJhY2VJZFxuXHRcdCk/Lm5hbWVcblxuXHRvYmplY3RVcmw6IChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpLT5cblx0XHRyZXR1cm4gQ3JlYXRvci5nZXRPYmplY3RVcmwob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKVxuXG5cdGhhbmRsZXJEb2M6IChoYW5kbGVySWQpLT5cblx0XHR1c2Vyc19jYW5fcmVhZF9jY19oYW5kbGVyX2RldGFpbF9pbmZvID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYz8ud29ya2Zsb3c/LnVzZXJzX2Nhbl9yZWFkX2NjX2hhbmRsZXJfZGV0YWlsX2luZm9cblx0XHRpZiAhdXNlcnNfY2FuX3JlYWRfY2NfaGFuZGxlcl9kZXRhaWxfaW5mbyBvciAhdXNlcnNfY2FuX3JlYWRfY2NfaGFuZGxlcl9kZXRhaWxfaW5mby5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpXG5cdFx0XHRyZXR1cm5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdHJldHVybiBVVWZsb3dfYXBpLmdldENvbnRhY3RJbmZvRm9yVXNlcihoYW5kbGVySWQsIFNlc3Npb24uZ2V0KCdzcGFjZUlkJykpXG5cdFx0ZWxzZSBpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdHJldHVybiBkYi51c2Vycy5maW5kT25lKGhhbmRsZXJJZClcblxuaWYgTWV0ZW9yLmlzU2VydmVyXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuZGF0ZUZvcm1hdCA9IChkYXRlKS0+XG5cdFx0aWYgZGF0ZVxuXHRcdFx0dXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldFxuXHRcdFx0cmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKGRhdGUsIHV0Y09mZnNldCk7XG5cblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5fdCA9IChrZXkpLT5cblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxuXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuc2hvd0RlbGV0ZUJ1dHRvbiA9IChhcHByb3ZlZCkgLT5cblx0XHRyZXR1cm4gZmFsc2U7XG5cblRyYWNlc1RlbXBsYXRlLmV2ZW50cyA9XG5cdCdjbGljayAuY2MtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cdFx0aWYgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgKiAxICE9IDFcblx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMVxuXHRcdFx0JChcImlcIixldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImZhLXNwaW5cIilcblx0XHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0XHQjIENBTEwg5Yig6ZmkYXBwcm92ZeWHveaVsOOAglxuXHRcdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRNZXRlb3IuY2FsbCAnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCAoZXJyLCByZXN1bHQpIC0+XG5cdFx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0XHRpZiBlcnJcblx0XHRcdFx0XHR0b2FzdHIuZXJyb3IgZXJyXG5cdFx0XHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAwXG5cdFx0XHRcdFx0JChcImlcIixldmVudC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcyhcImZhLXNwaW5cIilcblx0XHRcdFx0aWYgcmVzdWx0ID09IHRydWVcblx0XHRcdFx0XHR0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuXHRcdFx0XHRcdGlmICQoXCIuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsXCIpLmxlbmd0aFxuXHRcdFx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXG5cdFx0XHRcdHJldHVyblxuXHRcdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1jYy1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0IyAjIENBTEwg5Yig6ZmkYXBwcm92ZeWHveaVsOOAglxuXHRcdCMgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0IyBNZXRlb3IuY2FsbCAnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCAoZXJyLCByZXN1bHQpIC0+XG5cdFx0IyBcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdCMgXHRpZiBlcnJcblx0XHQjIFx0XHR0b2FzdHIuZXJyb3IgZXJyXG5cdFx0IyBcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0IyBcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcblx0XHQjIFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcblx0XHQjIFx0cmV0dXJuXG5cdFx0IyByZXR1cm5cblx0XHRNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZVxuXHRcdE1vZGFsLnNob3cgJ2NhbmNlbF9jY19tb2RhbCdcblxuXHQnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0IyBQQ+S4iumTvuaOpeWFgeiuuOebtOaOpeeCueW8gO+8jOS4jeWGjeaJk+W8gOetvuaJueWOhueoi+ivpue7hlxuXHRcdHVubGVzcyAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdChcImEuYnRuLWxpbmtcIikubGVuZ3RoXG5cdFx0XHRNb2RhbC5zaG93IFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXNcblxuXHQndGFwaG9sZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIOaJi+acuuS4iumVv+aMieaJk+W8gOetvuaJueWOhueoi+ivpue7hu+8jOWmguaenOaYr+mTvuaOpemVv+aMieaJk+W8gOWQjuS4gOaUvuaJi+eql+WPo+WwseWPiOWFs+aOieS6hu+8jOaJgOS7peS4jeiuqemTvuaOpeaJk+W8gOetvuaJueWOhueoi+ivpue7hlxuXHRcdHVubGVzcyAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdChcImEuYnRuLWxpbmtcIikubGVuZ3RoXG5cdFx0XHRNb2RhbC5zaG93IFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXNcblxuXHQnY2xpY2sgLmFwcHJvdmUtaXRlbSBhLmJ0bi1saW5rLC5hcHByb3ZlLWRlc2NyaXB0aW9uIGEuYnRuLWxpbmssLmFwcHJvdmUtaXRlbS1kaXN0cmlidXRlIGEuYnRuLWxpbmsnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdCMg5omL5py65LiK54K55Ye76ZO+5o6l77yM5by55Ye65paw56qX5Y+j77yM5LiN5pSv5oyB77yM5Zug5Li6YW5kcm9pZOS4iuS8muW8ueWHuueZu+W9leeVjOmdolxuXHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0dXNlcklkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQ/LnRhcmdldF91c2VyX2lkXG5cdFx0XHRDcmVhdG9yLm9wZW5TYWZlT2JqZWN0VXJsKCd1c2VycycsIHVzZXJJZClcblxuXHQndGFwZW5kIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdCMg5LiK6L+w6ZW/5oyJ5omT5byAYXBwcm92Zeivpue7hueql+WPo+eahOS6i+S7tnRhcGhvbGTkvJrop6blj5HmiZPlvIDnqpflj6PlkI7nmoR0b3VjaGVuZOS6i+S7tu+8jOmAoOaIkOmVv+aMieaJk+W8gOeql+WPo+WQjuS4gOaUvuaJi+eql+WPo+WwseWPiOWFs+aOieS6hlxuXHRcdCMg6L+Z6YeM5Y+q6IO96YCa6L+H6Zi75q2idGFwZW5k5LqL5Lu2KOS4jeWPr+S7peeUqHRvdWNoZW5k5LqL5Lu277yM5Zug5Li65Lya5b2x5ZONdGFwaG9sZOWKn+iDve+8jOmAoOaIkOayoeaciemVv+aMieaViOaenOaXtuS5n+S8muinpuWPkXRhcGhvbGTkuovku7Yp5YaS5rOh5p2l6YG/5YWN6Zeu6aKY44CCXG5cdFx0IyDpk77mjqXlhYHorrjnm7TmjqXngrnlvIBcblx0XHR1bmxlc3MgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aFxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXG5cdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRNZXRlb3IuY2FsbCAnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBUQVBpMThuLl9fKGVyci5yZWFzb24pXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwiaW5zdGFuY2VfYXBwcm92ZV9mb3J3YXJkX3JlbW92ZV9zdWNjZXNzXCIpKTtcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXG5cdFx0XHRyZXR1cm5cblx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0Zm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZVxuXHRcdGZvcndhcmRfaW5zdGFuY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkaW5zdGFuY2Vcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSlcblxuXHQnY2xpY2sgLmJ0bi1tb2RpZmljYXRpb24nXHQ6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuXHRcdHVubGVzcyBTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKClcblx0XHRcdFRyYWNrZXIuYWZ0ZXJGbHVzaCAtPlxuXHRcdFx0XHQjIOaYvuekuuaXpeW/l+eahOaXtuWAmeaKiua7muWKqOadoeW+gOS4i+enu+eCue+8jOiuqeaXpeacn+aOp+S7tuaYvuekuuWHuuS4gOmDqOWIhu+8jOS7pemBv+WFjeeUqOaIt+eci+S4jeWIsOaXpeacn+aOp+S7tlxuXHRcdFx0XHQkKFwiI2luc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbCAjZmluaXNoX2lucHV0XCIpLm9uIFwiZHAuc2hvd1wiLCAoKSAtPlxuXHRcdFx0XHRcdCQoXCIubW9kYWwtYm9keVwiKS5zY3JvbGxUb3AoMTAwKVxuXG5cdCdjbGljayAuYnRuLWNhbmNlbEJ1dCcgOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuXG5cdCdjbGljayAuYnRuLXNhdmVCdXQnIDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKVxuXG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXG5cdFx0b3Bpbmlvbl9pbnB1dCA9ICQoJyNvcGluaW9uX2lucHV0JykudmFsKClcblx0XHRmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIilcblxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdE1ldGVvci5jYWxsICdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIChlcnIsIHJlc3VsdCktPlxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRpZiBlcnJcblx0XHRcdFx0dG9hc3RyLmVycm9yIFRBUGkxOG4uX18oZXJyLnJlYXNvbilcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKHQoXCJpbnN0YW5jZV9hcHByb3ZlX21vZGFsX21vZGlmaWNhdGlvbnNhdmVcIikpXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1kaXN0cmlidXRlLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZVxuXHRcdE1vZGFsLnNob3cgJ2NhbmNlbF9kaXN0cmlidXRlX21vZGFsJ1xuIiwidmFyIG1hcmtlZDtcblxubWFya2VkID0gcmVxdWlyZShcIm1hcmtlZFwiKTtcblxuVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9IHtcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbihhKSB7XG4gICAgaWYgKGEpIHtcbiAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBhcHBlbmQ6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGI7XG4gIH0sXG4gIGRhdGVGb3JtYXQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpICYmIChkYXRlICE9IG51bGwgPyBkYXRlLmdldEZ1bGxZZWFyKCkgOiB2b2lkIDApID09PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgIHJldHVybiAkLmZvcm1hdC5kYXRlKG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCIpO1xuICAgIH1cbiAgfSxcbiAgZ2V0U3RlcE5hbWU6IGZ1bmN0aW9uKHN0ZXBJZCkge1xuICAgIHZhciBzdGVwO1xuICAgIHN0ZXAgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VTdGVwKHN0ZXBJZCk7XG4gICAgaWYgKHN0ZXApIHtcbiAgICAgIHJldHVybiBzdGVwLm5hbWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBzaG93RGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnICYmIGFwcHJvdmVkLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICB2YXIgYXBwcm92ZV9hZG1pbnMsIGlzU2hvdywgcmVmLCByZWYxLCByZWYyO1xuICAgIGFwcHJvdmVfYWRtaW5zID0gKHJlZiA9IE1ldGVvci5zZXR0aW5ncykgIT0gbnVsbCA/IChyZWYxID0gcmVmW1wicHVibGljXCJdKSAhPSBudWxsID8gKHJlZjIgPSByZWYxLndvcmtmbG93KSAhPSBudWxsID8gcmVmMi5hcHByb3ZlX2FkbWlucyA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmxlbmd0aCA6IHZvaWQgMCkge1xuICAgICAgaXNTaG93ID0gYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmNvbnRhaW5zKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICghaXNTaG93KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09PSBNZXRlb3IudXNlcklkKCk7XG4gIH0sXG4gIGlzRWRpdGluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZjtcbiAgICByZXR1cm4gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkuaXNfZWRpdGluZykgIT0gbnVsbCA/IHJlZi5nZXQoKSA6IHZvaWQgMDtcbiAgfSxcbiAgaXNTaG93RGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24oYXBwcm92ZWQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICgocmVmID0gYXBwcm92ZWQuZGVzY3JpcHRpb24pICE9IG51bGwgPyByZWYudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDogdm9pZCAwKSA+IDA7XG4gIH0sXG4gIGlzQ0M6IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgaWYgKGFwcHJvdmVkICYmIGFwcHJvdmVkLnR5cGUgPT09ICdjYycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNJY29uOiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UsIGF1dG9TdWJtaXR0ZWQpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c0ljb247XG4gICAgaWYgKGF1dG9TdWJtaXR0ZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAnaW9uIGlvbi1hbmRyb2lkLWFsYXJtLWNsb2NrJztcbiAgICB9XG4gICAgYXBwcm92ZVN0YXR1c0ljb24gPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhc3NpZ25lZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluayc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0cmlldmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzSWNvbjtcbiAgfSxcbiAgZ2V0QXBwcm92ZVN0YXR1c1RleHQ6IGZ1bmN0aW9uKGFwcHJvdmVKdWRnZSwgYXV0b1N1Ym1pdHRlZCkge1xuICAgIHZhciBhcHByb3ZlU3RhdHVzVGV4dCwgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpZiAoYXV0b1N1Ym1pdHRlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfdGltZW91dF9hdXRvX3N1Ym1pdHRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGFwcHJvdmVKdWRnZSkge1xuICAgICAgY2FzZSAnYXBwcm92ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVqZWN0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0dXJuZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhZGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVTdGF0dXNUZXh0O1xuICB9LFxuICBnZXRBcHByb3ZlSnVkZ2VDbGFzczogZnVuY3Rpb24oYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSB7XG4gICAgaWYgKGF1dG9TdWJtaXR0ZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAnYXV0b1N1Ym1pdHRlZCc7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlSnVkZ2U7XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICB9LFxuICBteUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oYXBwcm92ZUlkKSB7XG4gICAgdmFyIG15QXBwcm92ZSwgcmVmLCByZWYxO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICBteUFwcHJvdmUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLm15QXBwcm92ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0KCkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBpZiAoIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIChteUFwcHJvdmUgIT0gbnVsbCA/IG15QXBwcm92ZS5kZXNjcmlwdGlvbiA6IHZvaWQgMCkgfHwgXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNGb3J3YXJkOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnZm9yd2FyZCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNob3dGb3J3YXJkRGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdmb3J3YXJkJyAmJiBhcHByb3ZlLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgJiYgYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhtYXJrZWQucGFyc2UobWFya0Rvd25TdHJpbmcpKTtcbiAgICB9XG4gIH0sXG4gIGlzRGlzdHJpYnV0ZTogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGFwcHJvdmUuaW5zdGFuY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZmxvdzogMSxcbiAgICAgICAgICBzcGFjZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChpbnMgJiYgaW5zLmZsb3cgJiYgaW5zLnNwYWNlKSB7XG4gICAgICAgIGlmIChXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCBNZXRlb3IudXNlcklkKCkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhcHByb3ZlLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGZpbmlzaERhdGVTY2hlbWE6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKCkpIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcbiAgICAgICAgZmluaXNoX2RhdGU6IHtcbiAgICAgICAgICBhdXRvZm9ybToge1xuICAgICAgICAgICAgdHlwZTogXCJkYXRldGltZS1sb2NhbFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuICAgICAgICBmaW5pc2hfZGF0ZToge1xuICAgICAgICAgIGF1dG9mb3JtOiB7XG4gICAgICAgICAgICB0eXBlOiBcImJvb3RzdHJhcC1kYXRldGltZXBpY2tlclwiLFxuICAgICAgICAgICAgcmVhZG9ubHk6IHRydWUsXG4gICAgICAgICAgICBkYXRlVGltZVBpY2tlck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgZm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIixcbiAgICAgICAgICAgICAgaWdub3JlUmVhZG9ubHk6IHRydWUsXG4gICAgICAgICAgICAgIGxvY2FsZTogU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKSxcbiAgICAgICAgICAgICAgd2lkZ2V0UG9zaXRpb25pbmc6IHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAncmlnaHQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgICB0eXBlOiBEYXRlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgZmluaXNoRGF0ZVZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpbmlzaF9kYXRlOiB0aGlzLmZpbmlzaF9kYXRlXG4gICAgfTtcbiAgfSxcblxuICAvKlxuICAgICBcdOatpOWHveaVsOeUqOS6juaOp+WItuaYr+WQpuaYvuekunRyYWNlcyB2aWV3XG4gICAgIFx0dHJ1ZTog5pi+56S6dHJhY2VzIHZpZXcs562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCO5piv55u05o6l5a6a5L2N5YiwdHJhY2VzIHZpZXdcbiAgICAgXHRmYWxzZTog5LiN5pi+56S6dHJhY2VzIHZpZXfvvIznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI4s5LulTW9kYWwg5pa55byP5pi+56S6dHJhY2VzIHZpZXdcbiAgICovXG4gIHNob3dUcmFjZXNWaWV3OiBmdW5jdGlvbihmb3JtLCBmb3JtX3ZlcnNpb24pIHtcbiAgICB2YXIgcmVmLCBzaG93X21vZGFsX3RyYWNlc19saXN0O1xuICAgIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSAoKHJlZiA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKSxcbiAgICAgIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJcbiAgICB9KSkgIT0gbnVsbCA/IHJlZi52YWx1ZXMgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgIHJldHVybiAhc2hvd19tb2RhbF90cmFjZXNfbGlzdDtcbiAgfSxcbiAgZ2V0SW5zdGFuY2VTdGF0ZVRleHQ6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGlucywgbG9jYWxlLCB0ZXh0O1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19yZWFkOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKCdpbnN0YW5jZV9kZWxldGVkJywge30sIGxvY2FsZSk7XG4gICAgfVxuICAgIHRleHQgPSAnJztcbiAgICBpZiAoaW5zLnN0YXRlID09PSAnY29tcGxldGVkJykge1xuICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2NvbXBsZXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdwZW5kaW5nJywge30sIGxvY2FsZSk7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcpIHtcbiAgICAgIGlmIChpbnMuaXNfcmVhZCkge1xuICAgICAgICB0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9yZWFkJywge30sIGxvY2FsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9ub3RfeWV0X2hhbmRsZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH0sXG4gIGdldEluc3RhbmNlU3RhdGVDb2xvcjogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICB2YXIgY2xhLCBpbnM7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfcmVhZDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgY2xhID0gJyc7XG4gICAgaWYgKGlucy5zdGF0ZSA9PT0gJ2RyYWZ0Jykge1xuICAgICAgaWYgKGlucy5pc19yZWFkKSB7XG4gICAgICAgIGNsYSA9ICdibHVlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsYSA9ICdyZWQnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhO1xuICB9LFxuICBmaXJzdFRyYWNlOiBmdW5jdGlvbihpbmRleCkge1xuICAgIHJldHVybiBpbmRleCA9PT0gMDtcbiAgfSxcbiAgbGFzdF9kaXN0cmlidXRlX2Zyb206IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGRpc19pbmZvLCBpbnMsIHVzZXI7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgIGRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZToge1xuICAgICAgICAkZXhpc3RzOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWRfYnk6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICBkaXNfaW5mbyA9IHt9O1xuICAgICAgdXNlciA9IHt9O1xuICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgICB1c2VyID0gVVVmbG93X2FwaS5nZXROYW1lRm9yVXNlcihpbnMuY3JlYXRlZF9ieSk7XG4gICAgICB9IGVsc2UgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgICB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBpbnMuY3JlYXRlZF9ieVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh1c2VyLm5hbWUpIHtcbiAgICAgICAgZGlzX2luZm8uZnJvbV91c2VyID0gdXNlci5faWQ7XG4gICAgICAgIGRpc19pbmZvLmZyb21fdXNlcl9uYW1lID0gdXNlci5uYW1lO1xuICAgICAgICBkaXNfaW5mby5jcmVhdGVkID0gaW5zLmNyZWF0ZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNFbXB0eShkaXNfaW5mbykpIHtcbiAgICAgICAgcmV0dXJuIGRpc19pbmZvO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJyB8fCBhcHByb3ZlLnR5cGUgPT09ICdmb3J3YXJkJykgJiYgYXBwcm92ZS5qdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBqdWRnZVRlcm1pbmF0ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIGp1ZGdlID09PSAndGVybWluYXRlZCc7XG4gIH0sXG4gIGluc3RhbmNlRXhpc3RzOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHJldHVybiAhIWRiLmluc3RhbmNlcy5maW5kKGluc3RhbmNlX2lkKS5jb3VudCgpO1xuICB9LFxuICBhZ2VudERlc2NyaXB0aW9uOiBmdW5jdGlvbih1c2VyTmFtZSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIHJldHVybiBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICB1c2VyTmFtZTogdXNlck5hbWVcbiAgICB9LCBsb2NhbGUpO1xuICB9LFxuICB0cmFjZU5hbWU6IGZ1bmN0aW9uKGluc3RhbmNlX2lkLCB0cmFjZUlkKSB7XG4gICAgdmFyIHJlZiwgcmVmMTtcbiAgICByZXR1cm4gKHJlZiA9IF8uZmluZCgocmVmMSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYxLnRyYWNlcyA6IHZvaWQgMCwgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIHJldHVybiB0cmFjZS5faWQgPT09IHRyYWNlSWQ7XG4gICAgfSkpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMDtcbiAgfSxcbiAgb2JqZWN0VXJsOiBmdW5jdGlvbihvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpIHtcbiAgICByZXR1cm4gQ3JlYXRvci5nZXRPYmplY3RVcmwob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKTtcbiAgfSxcbiAgaGFuZGxlckRvYzogZnVuY3Rpb24oaGFuZGxlcklkKSB7XG4gICAgdmFyIHJlZiwgcmVmMSwgdXNlcnNfY2FuX3JlYWRfY2NfaGFuZGxlcl9kZXRhaWxfaW5mbztcbiAgICB1c2Vyc19jYW5fcmVhZF9jY19oYW5kbGVyX2RldGFpbF9pbmZvID0gKHJlZiA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLndvcmtmbG93KSAhPSBudWxsID8gcmVmMS51c2Vyc19jYW5fcmVhZF9jY19oYW5kbGVyX2RldGFpbF9pbmZvIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghdXNlcnNfY2FuX3JlYWRfY2NfaGFuZGxlcl9kZXRhaWxfaW5mbyB8fCAhdXNlcnNfY2FuX3JlYWRfY2NfaGFuZGxlcl9kZXRhaWxfaW5mby5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBVVWZsb3dfYXBpLmdldENvbnRhY3RJbmZvRm9yVXNlcihoYW5kbGVySWQsIFNlc3Npb24uZ2V0KCdzcGFjZUlkJykpO1xuICAgIH0gZWxzZSBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICByZXR1cm4gZGIudXNlcnMuZmluZE9uZShoYW5kbGVySWQpO1xuICAgIH1cbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmRhdGVGb3JtYXQgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIHV0Y09mZnNldDtcbiAgICBpZiAoZGF0ZSkge1xuICAgICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldDtcbiAgICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZShkYXRlLCB1dGNPZmZzZXQpO1xuICAgIH1cbiAgfTtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLnNob3dEZWxldGVCdXR0b24gPSBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn1cblxuVHJhY2VzVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2xpY2sgLmNjLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZDtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgKiAxICE9PSAxKSB7XG4gICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDE7XG4gICAgICAkKFwiaVwiLCBldmVudC5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcyhcImZhLXNwaW5cIik7XG4gICAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBNZXRlb3IuY2FsbCgnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyKTtcbiAgICAgICAgICBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDA7XG4gICAgICAgICAgJChcImlcIiwgZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xuICAgICAgICAgIGlmICgkKFwiLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbFwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgTW9kYWwuYWxsb3dNdWx0aXBsZSA9IHRydWU7XG4gICAgcmV0dXJuIE1vZGFsLnNob3coJ2NhbmNlbF9jY19tb2RhbCcpO1xuICB9LFxuICAnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIGlmICghJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIE1vZGFsLnNob3coXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpcyk7XG4gICAgfVxuICB9LFxuICAndGFwaG9sZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgaWYgKCEkKGV2ZW50LnRhcmdldCkuY2xvc2VzdChcImEuYnRuLWxpbmtcIikubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gTW9kYWwuc2hvdyhcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzKTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuYXBwcm92ZS1pdGVtIGEuYnRuLWxpbmssLmFwcHJvdmUtZGVzY3JpcHRpb24gYS5idG4tbGluaywuYXBwcm92ZS1pdGVtLWRpc3RyaWJ1dGUgYS5idG4tbGluayc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciByZWYsIHVzZXJJZDtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICB1c2VySWQgPSAocmVmID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQpICE9IG51bGwgPyByZWYudGFyZ2V0X3VzZXJfaWQgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gQ3JlYXRvci5vcGVuU2FmZU9iamVjdFVybCgndXNlcnMnLCB1c2VySWQpO1xuICAgIH1cbiAgfSxcbiAgJ3RhcGVuZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgaWYgKCEkKGV2ZW50LnRhcmdldCkuY2xvc2VzdChcImEuYnRuLWxpbmtcIikubGVuZ3RoKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkLCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICBNZXRlb3IuY2FsbCgnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcImluc3RhbmNlX2FwcHJvdmVfZm9yd2FyZF9yZW1vdmVfc3VjY2Vzc1wiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1pbnN0YW5jZS1sb29rJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGZvcndhcmRfaW5zdGFuY2UsIGZvcndhcmRfc3BhY2U7XG4gICAgZm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZTtcbiAgICBmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlO1xuICAgIHJldHVybiBTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSk7XG4gIH0sXG4gICdjbGljayAuYnRuLW1vZGlmaWNhdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcbiAgICBpZiAoIVN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKSkge1xuICAgICAgcmV0dXJuIFRyYWNrZXIuYWZ0ZXJGbHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuICQoXCIjaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsICNmaW5pc2hfaW5wdXRcIikub24oXCJkcC5zaG93XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmJ0bi1jYW5jZWxCdXQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICByZXR1cm4gdGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuICB9LFxuICAnY2xpY2sgLmJ0bi1zYXZlQnV0JzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgZmluaXNoX2lucHV0LCBpbnN0YW5jZUlkLCBvcGluaW9uX2lucHV0LCB0cmFjZUlkO1xuICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgIGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmU7XG4gICAgdHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlO1xuICAgIG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpO1xuICAgIGZpbmlzaF9pbnB1dCA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoXCJmaW5pc2hfZGF0ZVwiLCBcImZpbmlzaERhdGVBdXRvRm9ybVwiKTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgcmV0dXJuIE1ldGVvci5jYWxsKCdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHRvYXN0ci5lcnJvcihUQVBpMThuLl9fKGVyci5yZWFzb24pKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3ModChcImluc3RhbmNlX2FwcHJvdmVfbW9kYWxfbW9kaWZpY2F0aW9uc2F2ZVwiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZGlzdHJpYnV0ZS1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIE1vZGFsLmFsbG93TXVsdGlwbGUgPSB0cnVlO1xuICAgIHJldHVybiBNb2RhbC5zaG93KCdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCcpO1xuICB9XG59O1xuIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID1cblx0c2hvd1JlbGF0ZWRJbnN0YWNlczogLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGVsc2Vcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2Vcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxuXHRcdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgbmFtZTogMX19KS5jb3VudCgpID4gMFxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0cmVsYXRlZF9pbnN0YWNlczogLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGVsc2Vcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2Vcblx0XHRpZiBpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzICYmIF8uaXNBcnJheShpbnM/LnJlbGF0ZWRfaW5zdGFuY2VzKVxuXHRcdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7c3BhY2U6IDEsIG5hbWU6IDF9fSkuZmV0Y2goKVxuXG5cdHJlbGF0ZWRfaW5zdGFjZV91cmw6IChpbnMpIC0+XG5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKVxuXHRcdFx0cmV0dXJuICcnXG5cblx0XHRhYnNvbHV0ZSA9IGZhbHNlXG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZVxuXHRcdGlmIGFic29sdXRlXG5cdFx0XHRyZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIraW5zLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2lucy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cblx0X3Q6IChrZXkpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0c2hvd19kZWxldGU6ICgpLT5cblx0XHRpZiAhTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKVxuXHRcdFx0XHRpZiBjdXJyZW50X3N0ZXBcblx0XHRcdFx0XHRpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWUiLCJSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnMgPSB7XG4gIHNob3dSZWxhdGVkSW5zdGFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICgoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApICYmIF8uaXNBcnJheShpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkpIHtcbiAgICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgcmVsYXRlZF9pbnN0YWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKChpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkgJiYgXy5pc0FycmF5KGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSkge1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgfVxuICB9LFxuICByZWxhdGVkX2luc3RhY2VfdXJsOiBmdW5jdGlvbihpbnMpIHtcbiAgICB2YXIgYWJzb2x1dGU7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGFic29sdXRlID0gZmFsc2U7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgYWJzb2x1dGUgPSB0aGlzLmFic29sdXRlO1xuICAgIH1cbiAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGlucy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBpbnMuc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgIH1cbiAgfSxcbiAgX3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XG4gICAgfVxuICB9LFxuICBzaG93X2RlbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN1cnJlbnRfc3RlcDtcbiAgICBpZiAoIU1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICAgICAgaWYgKGN1cnJlbnRfc3RlcCkge1xuICAgICAgICAgIGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuIiwiUmVsYXRlZFJlY29yZHMuaGVscGVycyA9XG5cdHNob3dSZWxhdGVkUmVjb3JkczogKCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0ZWxzZVxuXHRcdFx0aW5zID0gdGhpcy5pbnN0YW5jZVxuXHRcdGlmICFpbnNcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdHJldHVybiAhXy5pc0VtcHR5KGlucy5yZWNvcmRfaWRzKSIsIlJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMgPSB7XG4gIHNob3dSZWxhdGVkUmVjb3JkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICFfLmlzRW1wdHkoaW5zLnJlY29yZF9pZHMpO1xuICB9XG59O1xuIiwiLypcbiAqIEBBdXRob3I6IHN1bmhhb2xpbkBob3RvYS5jb21cbiAqIEBEYXRlOiAyMDIxLTA1LTI0IDEyOjMyOjU2XG4gKiBATGFzdEVkaXRvcnM6IHN1bmhhb2xpbkBob3RvYS5jb21cbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjItMTItMjQgMTU6Mjk6MjJcbiAqIEBEZXNjcmlwdGlvbjogXG4gKi9cbi8vIEpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0U3BhY2VVc2Vyc1wiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbi8vICAgdmFyXG4vLyAgICAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHMsXG4vLyAgICAgc3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxuLy8gICAgIHNwYWNlVXNlcnMgPSBbXVxuLy8gICA7XG5cbi8vICAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XG4vLyAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuLy8gICAgICAgY29kZTogMjAwLFxuLy8gICAgICAgZGF0YToge1xuLy8gICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbi8vICAgICAgIH1cbi8vICAgICB9KTtcbi8vICAgfVxuXG4vLyAgIHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgdXNlcklkcyk7XG5cbi8vICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuLy8gICAgIGNvZGU6IDIwMCxcbi8vICAgICBkYXRhOiB7XG4vLyAgICAgICAnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcbi8vICAgICB9XG4vLyAgIH0pO1xuLy8gfSlcblxuXG4gIFxuICAiLCIvKlxuICogQEF1dGhvcjogc3VuaGFvbGluQGhvdG9hLmNvbVxuICogQERhdGU6IDIwMjEtMDUtMjQgMTI6MzI6NTZcbiAqIEBMYXN0RWRpdG9yczogc3VuaGFvbGluQGhvdG9hLmNvbVxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMi0yNCAxNToyMzoxNFxuICogQERlc2NyaXB0aW9uOiBcbiAqL1xuLy8gSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXRGb3JtdWxhVXNlck9iamVjdHNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4vLyAgIHZhclxuLy8gICAgIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzLFxuLy8gICAgIHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcbi8vICAgICBzcGFjZVVzZXJzID0gW11cbi8vICAgO1xuXG4vLyAgIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xuLy8gICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbi8vICAgICAgIGNvZGU6IDIwMCxcbi8vICAgICAgIGRhdGE6IHtcbi8vICAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4vLyAgICAgICB9XG4vLyAgICAgfSk7XG4vLyAgIH1cblxuLy8gICB2YXIgdXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgdXNlcklkcyk7XG5cbi8vICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuLy8gICAgIGNvZGU6IDIwMCxcbi8vICAgICBkYXRhOiB7XG4vLyAgICAgICAnc3BhY2VVc2Vycyc6IHVzZXJzXG4vLyAgICAgfVxuLy8gICB9KTtcbi8vIH0pXG5cblxuICBcbiAgIiwiLypcbiAqIEBBdXRob3I6IHN1bmhhb2xpbkBob3RvYS5jb21cbiAqIEBEYXRlOiAyMDIxLTA1LTI0IDEyOjMyOjU2XG4gKiBATGFzdEVkaXRvcnM6IHN1bmhhb2xpbkBob3RvYS5jb21cbiAqIEBMYXN0RWRpdFRpbWU6IDIwMjItMTItMjQgMTU6Mzg6NTRcbiAqIEBEZXNjcmlwdGlvbjogXG4gKi9cbi8vIEpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5pdF9mb3JtdWxhX3ZhbHVlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuLy8gXHR2YXJcbi8vIFx0XHRmaWVsZHMgPSByZXEuYm9keS5maWVsZHMsXG4vLyBcdFx0YXV0b0Zvcm1Eb2MgPSByZXEuYm9keS5hdXRvRm9ybURvYyxcbi8vIFx0XHRhcHByb3ZlciA9IHJlcS5ib2R5LmFwcHJvdmVyLFxuLy8gXHRcdGFwcGxpY2FudCA9IHJlcS5ib2R5LmFwcGxpY2FudCxcblxuLy8gXHRcdHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcblxuLy8gXHRcdHNwYWNlVXNlcnMgPSBbXTtcblxuLy8gXHRpZiAoIWZpZWxkcyB8fCAhc3BhY2VJZCB8fCAhYXV0b0Zvcm1Eb2MgfHwgIWFwcHJvdmVyIHx8ICFhcHBsaWNhbnQpIHtcbi8vIFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4vLyBcdFx0XHRjb2RlOiAyMDAsXG4vLyBcdFx0XHRkYXRhOiB7XG4vLyBcdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuLy8gXHRcdFx0fVxuLy8gXHRcdH0pO1xuLy8gXHRcdHJldHVybjtcbi8vIFx0fVxuXG4vLyBcdGZvcm11bGFfdmFsdWVzID0gRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMoZmllbGRzLCBhdXRvRm9ybURvYywgYXBwcm92ZXIsIGFwcGxpY2FudCwgc3BhY2VJZCk7XG5cbi8vIFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuLy8gXHRcdGNvZGU6IDIwMCxcbi8vIFx0XHRkYXRhOiB7XG4vLyBcdFx0XHQnZm9ybXVsYV92YWx1ZXMnOiBmb3JtdWxhX3ZhbHVlc1xuLy8gXHRcdH1cbi8vIFx0fSk7XG4vLyB9KVxuIiwiLy8gSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9mb3J3YXJkJywgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4vLyBcdHRyeSB7XG4vLyBcdFx0dmFyIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4vLyBcdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcblxuLy8gXHRcdHZhciBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuLy8gXHRcdHZhciBpbnN0YW5jZV9pZCA9IGhhc2hEYXRhLmluc3RhbmNlX2lkO1xuLy8gXHRcdHZhciBzcGFjZV9pZCA9IGhhc2hEYXRhLnNwYWNlX2lkO1xuLy8gXHRcdHZhciBmbG93X2lkID0gaGFzaERhdGEuZmxvd19pZDtcbi8vIFx0XHR2YXIgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50ID0gaGFzaERhdGEuaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50O1xuLy8gXHRcdHZhciBkZXNjcmlwdGlvbiA9IGhhc2hEYXRhLmRlc2NyaXB0aW9uO1xuLy8gXHRcdHZhciBpc0ZvcndhcmRBdHRhY2htZW50cyA9IGhhc2hEYXRhLmlzRm9yd2FyZEF0dGFjaG1lbnRzO1xuLy8gXHRcdHZhciBzZWxlY3RlZFVzZXJzID0gaGFzaERhdGEuc2VsZWN0ZWRVc2Vycztcbi8vIFx0XHR2YXIgYWN0aW9uX3R5cGUgPSBoYXNoRGF0YS5hY3Rpb25fdHlwZTtcbi8vIFx0XHR2YXIgcmVsYXRlZCA9IGhhc2hEYXRhLnJlbGF0ZWQ7XG4vLyBcdFx0dmFyIGZyb21fYXBwcm92ZV9pZCA9IGhhc2hEYXRhLmZyb21fYXBwcm92ZV9pZDtcblxuLy8gXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xuLy8gXHRcdGNoZWNrKHNwYWNlX2lkLCBTdHJpbmcpO1xuLy8gXHRcdGNoZWNrKGZsb3dfaWQsIFN0cmluZyk7XG4vLyBcdFx0Y2hlY2soaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBCb29sZWFuKTtcbi8vIFx0XHRjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcbi8vIFx0XHRjaGVjayhpc0ZvcndhcmRBdHRhY2htZW50cywgQm9vbGVhbik7XG4vLyBcdFx0Y2hlY2soc2VsZWN0ZWRVc2VycywgQXJyYXkpO1xuLy8gXHRcdGNoZWNrKGFjdGlvbl90eXBlLCBNYXRjaC5PbmVPZignZm9yd2FyZCcsICdkaXN0cmlidXRlJykpO1xuXG4vLyBcdFx0aWYgKGFjdGlvbl90eXBlID09IFwiZGlzdHJpYnV0ZVwiKVxuLy8gXHRcdFx0Y2hlY2soZnJvbV9hcHByb3ZlX2lkLCBTdHJpbmcpO1xuXG4vLyBcdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcbi8vIFx0XHR2YXIgb2xkX3NwYWNlX2lkID0gaW5zLnNwYWNlO1xuXG4vLyBcdFx0dmFyIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpO1xuXG4vLyBcdFx0dmFyIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VfaWQpO1xuXG4vLyBcdFx0aWYgKCFpbnMgfHwgIWZsb3cgfHwgIXNwYWNlKSB7XG4vLyBcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpO1xuLy8gXHRcdH1cblxuLy8gXHRcdHZhciBmb3J3YXJkX3VzZXJzID0gbmV3IEFycmF5O1xuLy8gXHRcdGlmIChfLmlzRW1wdHkoc2VsZWN0ZWRVc2VycykpIHtcbi8vIFx0XHRcdGZvcndhcmRfdXNlcnMgPSBbY3VycmVudF91c2VyX2lkXTtcbi8vIFx0XHR9IGVsc2Uge1xuLy8gXHRcdFx0Zm9yd2FyZF91c2VycyA9IHNlbGVjdGVkVXNlcnM7XG4vLyBcdFx0fVxuXG4vLyBcdFx0Ly8g5qCh6aqM5YiG5Y+R5a+56LGh5piv5ZCm5pyJ5YiG5Y+R5rWB56iL55qE5o+Q5Lqk5p2D6ZmQXG4vLyBcdFx0dmFyIG5vX3Blcm1pc3Npb25fdXNlcl9pZHMgPSBuZXcgQXJyYXkoKTtcbi8vIFx0XHRfLmVhY2goZm9yd2FyZF91c2VycywgZnVuY3Rpb24gKHVpZCkge1xuLy8gXHRcdFx0dmFyIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIHVpZCk7XG4vLyBcdFx0XHRpZiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRkXCIpKSB7XG4vLyBcdFx0XHRcdC8vIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6K+l55Sz6K+35Lq65rKh5pyJ5o+Q5Lqk5q2k55Sz6K+35Y2V55qE5p2D6ZmQ44CCXCIpXG4vLyBcdFx0XHRcdG5vX3Blcm1pc3Npb25fdXNlcl9pZHMucHVzaCh1aWQpO1xuLy8gXHRcdFx0fVxuLy8gXHRcdH0pXG4vLyBcdFx0aWYgKCFfLmlzRW1wdHkobm9fcGVybWlzc2lvbl91c2VyX2lkcykpIHtcbi8vIFx0XHRcdHZhciBub19wZXJtaXNzaW9uX3VzZXJzX25hbWUgPSBuZXcgQXJyYXkoKTtcbi8vIFx0XHRcdGRiLnVzZXJzLmZpbmQoe1xuLy8gXHRcdFx0XHRfaWQ6IHtcbi8vIFx0XHRcdFx0XHQkaW46IG5vX3Blcm1pc3Npb25fdXNlcl9pZHNcbi8vIFx0XHRcdFx0fVxuLy8gXHRcdFx0fSwge1xuLy8gXHRcdFx0XHRmaWVsZHM6IHtcbi8vIFx0XHRcdFx0XHRuYW1lOiAxXG4vLyBcdFx0XHRcdH1cbi8vIFx0XHRcdH0pLmZvckVhY2goZnVuY3Rpb24gKHUpIHtcbi8vIFx0XHRcdFx0bm9fcGVybWlzc2lvbl91c2Vyc19uYW1lLnB1c2godS5uYW1lKTtcbi8vIFx0XHRcdH0pO1xuLy8gXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm9fcGVybWlzc2lvbicsIFwi6K+l5o+Q5Lqk5Lq65rKh5pyJ5o+Q5Lqk5q2k55Sz6K+35Y2V55qE5p2D6ZmQ44CCXCIsIG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZS5qb2luKCcsJykpXG4vLyBcdFx0fVxuXG4vLyBcdFx0dmFyIG5ld19pbnNfaWRzID0gbmV3IEFycmF5O1xuXG4vLyBcdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBudWxsO1xuLy8gXHRcdGlmIChhY3Rpb25fdHlwZSA9PSBcImRpc3RyaWJ1dGVcIikge1xuLy8gXHRcdFx0Xy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG4vLyBcdFx0XHRcdGlmICghY3VycmVudF90cmFjZSkge1xuLy8gXHRcdFx0XHRcdF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbiAoYSkge1xuLy8gXHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50X3RyYWNlKSB7XG4vLyBcdFx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PSBmcm9tX2FwcHJvdmVfaWQpXG4vLyBcdFx0XHRcdFx0XHRcdFx0Y3VycmVudF90cmFjZSA9IHQ7XG4vLyBcdFx0XHRcdFx0XHR9XG4vLyBcdFx0XHRcdFx0fSlcbi8vIFx0XHRcdFx0fVxuLy8gXHRcdFx0fSlcbi8vIFx0XHR9IGVsc2Uge1xuLy8gXHRcdFx0Y3VycmVudF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKTtcbi8vIFx0XHR9XG4vLyBcdFx0dmFyIGN1cnJlbnRfdHJhY2VfaWQgPSBjdXJyZW50X3RyYWNlLl9pZDtcbi8vIFx0XHR2YXIgZm9yd2FyZF9hcHByb3ZlcyA9IFtdO1xuLy8gXHRcdHZhciBmcm9tX3VzZXJfbmFtZSA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkLCB7XG4vLyBcdFx0XHRmaWVsZHM6IHtcbi8vIFx0XHRcdFx0bmFtZTogMVxuLy8gXHRcdFx0fVxuLy8gXHRcdH0pLm5hbWVcbi8vIFx0XHR2YXIgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG5cbi8vIFx0XHQvLyDorqHnrpd2YWx1ZXNcbi8vIFx0XHR2YXIgb2xkX3ZhbHVlcyA9IGlucy52YWx1ZXMsXG4vLyBcdFx0XHRuZXdfdmFsdWVzID0ge307XG4vLyBcdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZsb3cuZm9ybSk7XG4vLyBcdFx0dmFyIGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHMgfHwgW107XG5cbi8vIFx0XHR2YXIgb2xkX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGlucy5mb3JtKTtcbi8vIFx0XHR2YXIgb2xkX2Zvcm1fdmVyc2lvbiA9IGlucy5mb3JtX3ZlcnNpb24sXG4vLyBcdFx0XHRvbGRfZmllbGRzID0gW10sXG4vLyBcdFx0XHRjb21tb25fZmllbGRzID0gW107XG5cbi8vIFx0XHR2YXIgc2VsZWN0X3RvX2lucHV0X2ZpZWxkcyA9IFtdO1xuXG4vLyBcdFx0aWYgKG9sZF9mb3JtLmN1cnJlbnQuX2lkID09IG9sZF9mb3JtX3ZlcnNpb24pIHtcbi8vIFx0XHRcdG9sZF9maWVsZHMgPSBvbGRfZm9ybS5jdXJyZW50LmZpZWxkcztcbi8vIFx0XHR9IGVsc2Uge1xuLy8gXHRcdFx0aWYgKG9sZF9mb3JtLmhpc3RvcnlzKSB7XG4vLyBcdFx0XHRcdG9sZF9mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24gKGgpIHtcbi8vIFx0XHRcdFx0XHRpZiAoaC5faWQgPT0gb2xkX2Zvcm1fdmVyc2lvbilcbi8vIFx0XHRcdFx0XHRcdG9sZF9maWVsZHMgPSBoLmZpZWxkcztcbi8vIFx0XHRcdFx0fSlcbi8vIFx0XHRcdH1cbi8vIFx0XHR9XG5cbi8vIFx0XHRmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbi8vIFx0XHRcdHZhciBleGlzdHNfZmllbGQgPSBfLmZpbmQob2xkX2ZpZWxkcywgZnVuY3Rpb24gKGYpIHtcbi8vIFx0XHRcdFx0cmV0dXJuIGYudHlwZSA9PSBmaWVsZC50eXBlICYmIGYuY29kZSA9PSBmaWVsZC5jb2RlO1xuLy8gXHRcdFx0fSlcbi8vIFx0XHRcdGlmIChleGlzdHNfZmllbGQpXG4vLyBcdFx0XHRcdGNvbW1vbl9maWVsZHMucHVzaChmaWVsZCk7XG4vLyBcdFx0XHR2YXIgc2VsZWN0X2lucHV0X2ZpZWxkID0gXy5maW5kKG9sZF9maWVsZHMsIGZ1bmN0aW9uIChmKSB7XG4vLyBcdFx0XHRcdHJldHVybiBmLnR5cGUgPT0gJ3NlbGVjdCcgJiYgZmllbGQudHlwZSA9PSAnaW5wdXQnICYmIGYuY29kZSA9PSBmaWVsZC5jb2RlO1xuLy8gXHRcdFx0fSlcbi8vIFx0XHRcdGlmIChzZWxlY3RfaW5wdXRfZmllbGQpXG4vLyBcdFx0XHRcdHNlbGVjdF90b19pbnB1dF9maWVsZHMucHVzaChzZWxlY3RfaW5wdXRfZmllbGQpO1xuLy8gXHRcdH0pXG5cbi8vIFx0XHRzZWxlY3RfdG9faW5wdXRfZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4vLyBcdFx0XHRpZiAob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkge1xuLy8gXHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdID0gb2xkX3ZhbHVlc1tmaWVsZC5jb2RlXTtcbi8vIFx0XHRcdH1cbi8vIFx0XHR9KVxuXG4vLyBcdFx0Y29tbW9uX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuLy8gXHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nKSB7XG4vLyBcdFx0XHRcdGlmIChmaWVsZC5maWVsZHMpIHtcbi8vIFx0XHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuLy8gXHRcdFx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXG4vLyBcdFx0XHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZi50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcbi8vIFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuLy8gXHRcdFx0XHRcdFx0fVxuLy8gXHRcdFx0XHRcdFx0dmFyIGtleSA9IGYuY29kZTtcbi8vIFx0XHRcdFx0XHRcdHZhciBvbGRfdiA9IG9sZF92YWx1ZXNba2V5XTtcbi8vIFx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xuLy8gXHRcdFx0XHRcdFx0XHR2YXIgZmllbGRPcHRpb25zID0gZi5vcHRpb25zICYmIGYub3B0aW9ucy5zcGxpdCAmJiBmLm9wdGlvbnMuc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKG4pe1xuLy8gXHRcdFx0XHRcdFx0XHRcdHZhciBpdGVtU3BsaXRzID0gbi5zcGxpdChcIjpcIik7XG4vLyBcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcbi8vIFx0XHRcdFx0XHRcdFx0XHRcdGxhYmVsOiBpdGVtU3BsaXRzWzBdLFxuLy8gXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IGl0ZW1TcGxpdHNbMV0gfHwgblxuLy8gXHRcdFx0XHRcdFx0XHRcdH1cbi8vIFx0XHRcdFx0XHRcdFx0fSk7XG4vLyBcdFx0XHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXG4vLyBcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZi50eXBlID09ICdyYWRpbycpIHtcbi8vIFx0XHRcdFx0XHRcdFx0XHR2YXIgc2VsZWN0ZWRPcHRpb24gPSBmaWVsZE9wdGlvbnMuZmluZChmdW5jdGlvbihpdGVtKSB7XG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaXRlbS52YWx1ZSA9PT0gb2xkX3Y7XG4vLyBcdFx0XHRcdFx0XHRcdFx0fSk7XG4vLyBcdFx0XHRcdFx0XHRcdFx0aWYoIXNlbGVjdGVkT3B0aW9uKXtcbi8vIFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcbi8vIFx0XHRcdFx0XHRcdFx0XHR9XG4vLyBcdFx0XHRcdFx0XHRcdH1cblxuLy8gXHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcbi8vIFx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xuLy8gXHRcdFx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKGZpZWxkT3B0aW9ucy5tYXAoZnVuY3Rpb24obil7IHJldHVybiBuLnZhbHVlOyB9KSwgb2xkX211bHRpU2VsZWN0ZWQpO1xuLy8gXHRcdFx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xuLy8gXHRcdFx0XHRcdFx0XHR9XG5cbi8vIFx0XHRcdFx0XHRcdFx0bmV3X3ZhbHVlc1trZXldID0gb2xkX3Y7XG4vLyBcdFx0XHRcdFx0XHR9XG4vLyBcdFx0XHRcdFx0fSlcbi8vIFx0XHRcdFx0fVxuLy8gXHRcdFx0fSBlbHNlIGlmIChmaWVsZC50eXBlID09ICd0YWJsZScpIHtcbi8vIFx0XHRcdFx0aWYgKCFfLmlzRW1wdHkob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkpIHtcbi8vIFx0XHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdID0gbmV3IEFycmF5O1xuLy8gXHRcdFx0XHRcdG9sZF92YWx1ZXNbZmllbGQuY29kZV0uZm9yRWFjaChmdW5jdGlvbiAob2xkX3RhYmxlX3Jvd192YWx1ZXMpIHtcbi8vIFx0XHRcdFx0XHRcdHZhciBuZXdfdGFibGVfcm93X3ZhbHVlcyA9IHt9O1xuXG4vLyBcdFx0XHRcdFx0XHRpZiAoIV8uaXNFbXB0eShmaWVsZC5maWVsZHMpKSB7XG4vLyBcdFx0XHRcdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4vLyBcdFx0XHRcdFx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXG4vLyBcdFx0XHRcdFx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGYudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG4vLyBcdFx0XHRcdFx0XHRcdFx0fVxuLy8gXHRcdFx0XHRcdFx0XHRcdHZhciBrZXkgPSBmLmNvZGU7XG4vLyBcdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3RhYmxlX3Jvd192YWx1ZXNba2V5XTtcbi8vIFx0XHRcdFx0XHRcdFx0XHRpZiAob2xkX3YpIHtcbi8vIFx0XHRcdFx0XHRcdFx0XHRcdHZhciBmaWVsZE9wdGlvbnMgPSBmLm9wdGlvbnMgJiYgZi5vcHRpb25zLnNwbGl0ICYmIGYub3B0aW9ucy5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24obil7XG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBpdGVtU3BsaXRzID0gbi5zcGxpdChcIjpcIik7XG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB7XG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0bGFiZWw6IGl0ZW1TcGxpdHNbMF0sXG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWU6IGl0ZW1TcGxpdHNbMV0gfHwgblxuLy8gXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG4vLyBcdFx0XHRcdFx0XHRcdFx0XHR9KTtcbi8vIFx0XHRcdFx0XHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdzZWxlY3QnIHx8IGYudHlwZSA9PSAncmFkaW8nKSB7XG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBzZWxlY3RlZE9wdGlvbiA9IGZpZWxkT3B0aW9ucy5maW5kKGZ1bmN0aW9uKGl0ZW0pIHtcbi8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaXRlbS52YWx1ZSA9PT0gb2xkX3Y7XG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuLy8gXHRcdFx0XHRcdFx0XHRcdFx0XHRpZighc2VsZWN0ZWRPcHRpb24pe1xuLy8gXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcbi8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuLy8gXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcbi8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcbi8vIFx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24oZmllbGRPcHRpb25zLm1hcChmdW5jdGlvbihuKXsgcmV0dXJuIG4udmFsdWU7IH0pLCBvbGRfbXVsdGlTZWxlY3RlZCk7XG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xuLy8gXHRcdFx0XHRcdFx0XHRcdFx0fVxuXG4vLyBcdFx0XHRcdFx0XHRcdFx0XHRuZXdfdGFibGVfcm93X3ZhbHVlc1trZXldID0gb2xkX3Y7XG4vLyBcdFx0XHRcdFx0XHRcdFx0fVxuLy8gXHRcdFx0XHRcdFx0XHR9KVxuLy8gXHRcdFx0XHRcdFx0fVxuXG4vLyBcdFx0XHRcdFx0XHRpZiAob2xkX3RhYmxlX3Jvd192YWx1ZXMuX2lkKSB7XG4vLyBcdFx0XHRcdFx0XHRcdG5ld190YWJsZV9yb3dfdmFsdWVzLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4vLyBcdFx0XHRcdFx0XHR9XG5cbi8vIFx0XHRcdFx0XHRcdGlmICghXy5pc0VtcHR5KG5ld190YWJsZV9yb3dfdmFsdWVzKSkge1xuLy8gXHRcdFx0XHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdLnB1c2gobmV3X3RhYmxlX3Jvd192YWx1ZXMpO1xuLy8gXHRcdFx0XHRcdFx0fVxuLy8gXHRcdFx0XHRcdH0pXG4vLyBcdFx0XHRcdH1cbi8vIFx0XHRcdH0gZWxzZSB7XG4vLyBcdFx0XHRcdC8vIOi3qOW3peS9nOWMuui9rOWPkeS4jeWkjeWItumAieS6uumAiee7hFxuLy8gXHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZmllbGQudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XG4vLyBcdFx0XHRcdFx0cmV0dXJuO1xuLy8gXHRcdFx0XHR9XG4vLyBcdFx0XHRcdHZhciBrZXkgPSBmaWVsZC5jb2RlO1xuLy8gXHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdmFsdWVzW2tleV07XG4vLyBcdFx0XHRcdGlmIChvbGRfdikge1xuLy8gXHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXG4vLyBcdFx0XHRcdFx0dmFyIGZpZWxkT3B0aW9ucyA9IGZpZWxkLm9wdGlvbnMgJiYgZmllbGQub3B0aW9ucy5zcGxpdCAmJiBmaWVsZC5vcHRpb25zLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihuKXtcbi8vIFx0XHRcdFx0XHRcdHZhciBpdGVtU3BsaXRzID0gbi5zcGxpdChcIjpcIik7XG4vLyBcdFx0XHRcdFx0XHRyZXR1cm4ge1xuLy8gXHRcdFx0XHRcdFx0XHRsYWJlbDogaXRlbVNwbGl0c1swXSxcbi8vIFx0XHRcdFx0XHRcdFx0dmFsdWU6IGl0ZW1TcGxpdHNbMV0gfHwgblxuLy8gXHRcdFx0XHRcdFx0fVxuLy8gXHRcdFx0XHRcdH0pO1xuLy8gXHRcdFx0XHRcdGlmIChmaWVsZC50eXBlID09ICdzZWxlY3QnIHx8IGZpZWxkLnR5cGUgPT0gJ3JhZGlvJykge1xuLy8gXHRcdFx0XHRcdFx0dmFyIHNlbGVjdGVkT3B0aW9uID0gZmllbGRPcHRpb25zLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuLy8gXHRcdFx0XHRcdFx0XHRyZXR1cm4gaXRlbS52YWx1ZSA9PT0gb2xkX3Y7XG4vLyBcdFx0XHRcdFx0XHR9KTtcbi8vIFx0XHRcdFx0XHRcdGlmKCFzZWxlY3RlZE9wdGlvbil7XG4vLyBcdFx0XHRcdFx0XHRcdHJldHVybjtcbi8vIFx0XHRcdFx0XHRcdH1cbi8vIFx0XHRcdFx0XHR9XG5cbi8vIFx0XHRcdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XG4vLyBcdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xuLy8gXHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24oZmllbGRPcHRpb25zLm1hcChmdW5jdGlvbihuKXsgcmV0dXJuIG4udmFsdWU7IH0pLCBvbGRfbXVsdGlTZWxlY3RlZCk7XG4vLyBcdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcbi8vIFx0XHRcdFx0XHR9XG5cbi8vIFx0XHRcdFx0XHRuZXdfdmFsdWVzW2tleV0gPSBvbGRfdjtcbi8vIFx0XHRcdFx0fVxuLy8gXHRcdFx0fVxuXG4vLyBcdFx0fSlcblxuLy8gXHRcdC8v5aaC5p6c5piv5YiG5Y+R77yM5YiZdmFsdWXkuK3nmoRyZWNvcmRfbmVlZOOAgUZPTkRTSUTkuI3pnIDopoHliIblj5HliLDmlrDnlLPor7fljZXkuK1cbi8vIFx0XHRpZiAoYWN0aW9uX3R5cGUgPT09ICdkaXN0cmlidXRlJykge1xuLy8gXHRcdFx0ZGVsZXRlIG5ld192YWx1ZXMucmVjb3JkX25lZWQ7XG4vLyBcdFx0XHRkZWxldGUgbmV3X3ZhbHVlcy5GT05EU0lEO1xuLy8gXHRcdH1cblxuLy8gXHRcdC8vIOiuoeeul+eUs+ivt+WNleagh+mimFxuLy8gXHRcdHZhciBpbnN0YW5jZV9uYW1lID0gXCJcIjtcbi8vIFx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybS5jdXJyZW50Lm5hbWVfZm9ydW1sYTtcbi8vIFx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XG4vLyBcdFx0XHR0cnkge1xuLy8gXHRcdFx0XHR2YXIgaXNjcmlwdCA9IG5hbWVfZm9ydW1sYS5yZXBsYWNlKC9cXHsvZywgXCIobmV3X3ZhbHVlc1snXCIpLnJlcGxhY2UoL1xcfS9nLCBcIiddIHx8ICcnKVwiKTtcbi8vIFx0XHRcdFx0dmFyIHJldiA9IGV2YWwoaXNjcmlwdCk7XG4vLyBcdFx0XHRcdGluc3RhbmNlX25hbWUgPSByZXYgfHwgZmxvdy5uYW1lO1xuLy8gXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcbi8vIFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignY2FjdWxhdGVfaW5zdGFuY2VfbmFtZScsIFwi6K6h566X55Sz6K+35Y2V5qCH6aKY5Ye66ZSZ6K+35qOA5p+l6KGo5Y2V5qCH6aKY6ISa5pys44CCXCIpO1xuLy8gXHRcdFx0fVxuLy8gXHRcdH0gZWxzZSB7XG4vLyBcdFx0XHRpbnN0YW5jZV9uYW1lID0gZmxvdy5uYW1lO1xuLy8gXHRcdH1cblxuLy8gXHRcdC8vIGluc3RhbmNl5Lit6K6w5b2V5b2T5YmN5q2l6aqk5ZCN56ewICMxMzE0XG4vLyBcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbiAoc3RlcCkge1xuLy8gXHRcdFx0cmV0dXJuIHN0ZXAuc3RlcF90eXBlID09ICdzdGFydCc7XG4vLyBcdFx0fSlcblxuLy8gXHRcdC8vIOa1geeoi+i9rOWPkeWKn+iDveS/ruaUueS4uu+8jOW8gOWni+iKgueCueaciee8lui+keadg+mZkOeahOWtl+auteeahOWAvOi/m+ihjOWkjeWItu+8jOaXoOe8lui+keadg+mZkOeahOWtl+auteWAvOS4jei/m+ihjOWkjeWItiAjMzc0OFxuLy8gXHRcdGlmIChhY3Rpb25fdHlwZSA9PT0gJ2ZvcndhcmQnKSB7XG4vLyBcdFx0XHRuZXdfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKG5ld192YWx1ZXMsIHN0YXJ0X3N0ZXAucGVybWlzc2lvbnMsIGZsb3cuZm9ybSwgZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbik7XG4vLyBcdFx0fVxuXG4vLyBcdFx0Ly8g5paw5bu655Sz6K+35Y2V5pe277yMaW5zdGFuY2Vz6K6w5b2V5rWB56iL5ZCN56ew44CB5rWB56iL5YiG57G75ZCN56ewICMxMzEzXG4vLyBcdFx0dmFyIGNhdGVnb3J5X25hbWUgPSBcIlwiO1xuLy8gXHRcdGlmIChmb3JtLmNhdGVnb3J5KSB7XG4vLyBcdFx0XHR2YXIgY2F0ZWdvcnkgPSB1dWZsb3dNYW5hZ2VyLmdldENhdGVnb3J5KGZvcm0uY2F0ZWdvcnkpO1xuLy8gXHRcdFx0aWYgKGNhdGVnb3J5KVxuLy8gXHRcdFx0XHRjYXRlZ29yeV9uYW1lID0gY2F0ZWdvcnkubmFtZTtcbi8vIFx0XHR9XG5cbi8vIFx0XHRfLmVhY2goZm9yd2FyZF91c2VycywgZnVuY3Rpb24gKHVzZXJfaWQpIHtcblxuLy8gXHRcdFx0dmFyIHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCk7XG5cbi8vIFx0XHRcdHZhciBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4vLyBcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcbi8vIFx0XHRcdFx0dXNlcjogdXNlcl9pZFxuLy8gXHRcdFx0fSwge1xuLy8gXHRcdFx0XHRmaWVsZHM6IHtcbi8vIFx0XHRcdFx0XHRvcmdhbml6YXRpb246IDFcbi8vIFx0XHRcdFx0fVxuLy8gXHRcdFx0fSk7XG4vLyBcdFx0XHR2YXIgc3BhY2VfdXNlcl9vcmdfaW5mbyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4vLyBcdFx0XHRcdF9pZDogc3BhY2VfdXNlci5vcmdhbml6YXRpb25cbi8vIFx0XHRcdH0sIHtcbi8vIFx0XHRcdFx0ZmllbGRzOiB7XG4vLyBcdFx0XHRcdFx0bmFtZTogMSxcbi8vIFx0XHRcdFx0XHRmdWxsbmFtZTogMVxuLy8gXHRcdFx0XHR9XG4vLyBcdFx0XHR9KTtcblxuLy8gXHRcdFx0dmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4vLyBcdFx0XHR2YXIgaW5zX29iaiA9IHt9O1xuXG4vLyBcdFx0XHR2YXIgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VyX2lkKTtcbi8vIFx0XHRcdHZhciBoYW5kbGVyX2lkID0gdXNlcl9pZDtcbi8vIFx0XHRcdHZhciBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XG4vLyBcdFx0XHR2YXIgaGFuZGxlcl9zcGFjZV91c2VyID0gc3BhY2VfdXNlcjtcbi8vIFx0XHRcdHZhciBoYW5kbGVyX29yZ19pbmZvID0gc3BhY2VfdXNlcl9vcmdfaW5mbztcbi8vIFx0XHRcdGlmIChhZ2VudCkge1xuLy8gXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnQ7XG4vLyBcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoYWdlbnQpO1xuLy8gXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xuLy8gXHRcdFx0XHRoYW5kbGVyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKGhhbmRsZXJfc3BhY2VfdXNlcik7XG4vLyBcdFx0XHR9XG4vLyBcdFx0XHRpbnNfb2JqLl9pZCA9IGRiLmluc3RhbmNlcy5fbWFrZU5ld0lEKCk7XG4vLyBcdFx0XHRpbnNfb2JqLnNwYWNlID0gc3BhY2VfaWQ7XG4vLyBcdFx0XHRpbnNfb2JqLmZsb3cgPSBmbG93X2lkO1xuLy8gXHRcdFx0aW5zX29iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xuLy8gXHRcdFx0aW5zX29iai5mb3JtID0gZmxvdy5mb3JtO1xuLy8gXHRcdFx0aW5zX29iai5mb3JtX3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuLy8gXHRcdFx0aW5zX29iai5uYW1lID0gaW5zdGFuY2VfbmFtZTtcbi8vIFx0XHRcdGluc19vYmouc3VibWl0dGVyID0gaGFuZGxlcl9pZDtcbi8vIFx0XHRcdGluc19vYmouc3VibWl0dGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbi8vIFx0XHRcdGluc19vYmouYXBwbGljYW50ID0gdXNlcl9pZDtcbi8vIFx0XHRcdGluc19vYmouYXBwbGljYW50X25hbWUgPSB1c2VyX2luZm8ubmFtZTtcbi8vIFx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuLy8gXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvLm5hbWU7XG4vLyBcdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvLmZ1bGxuYW1lO1xuLy8gXHRcdFx0aW5zX29iai5zdGF0ZSA9IFwiZHJhZnRcIjtcbi8vIFx0XHRcdGluc19vYmouY29kZSA9IFwiXCI7XG4vLyBcdFx0XHRpbnNfb2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4vLyBcdFx0XHRpbnNfb2JqLmlzX2RlbGV0ZWQgPSBmYWxzZTtcbi8vIFx0XHRcdGluc19vYmouY3JlYXRlZCA9IG5vdztcbi8vIFx0XHRcdGluc19vYmouY3JlYXRlZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcbi8vIFx0XHRcdGluc19vYmoubW9kaWZpZWQgPSBub3c7XG4vLyBcdFx0XHRpbnNfb2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xuLy8gXHRcdFx0aW5zX29iai5pbmJveF91c2VycyA9IFtoYW5kbGVyX2lkXTtcbi8vIFx0XHRcdGluc19vYmoudmFsdWVzID0gbmV3X3ZhbHVlcztcbi8vIFx0XHRcdGlmIChhY3Rpb25fdHlwZSA9PSAnZGlzdHJpYnV0ZScpIHtcbi8vIFx0XHRcdFx0Ly8g6Kej5Yaz5aSa5qyh5YiG5Y+R55yL5LiN5Yiw5q2j5paH44CB6ZmE5Lu26Zeu6aKYXG4vLyBcdFx0XHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG4vLyBcdFx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgPSBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlO1xuLy8gXHRcdFx0XHR9IGVsc2Uge1xuLy8gXHRcdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4vLyBcdFx0XHRcdH1cbi8vIFx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG4vLyBcdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcy5wdXNoKGluc3RhbmNlX2lkKTtcblxuLy8gXHRcdFx0XHRpZiAocmVsYXRlZCkge1xuLy8gXHRcdFx0XHRcdGluc19vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSBbaW5zdGFuY2VfaWRdXG4vLyBcdFx0XHRcdH1cblxuLy8gXHRcdFx0fSBlbHNlIGlmIChhY3Rpb25fdHlwZSA9PSAnZm9yd2FyZCcpIHtcbi8vIFx0XHRcdFx0aW5zX29iai5mb3J3YXJkX2Zyb21faW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuLy8gXHRcdFx0fVxuXG4vLyBcdFx0XHQvLyDmlrDlu7pUcmFjZVxuLy8gXHRcdFx0dmFyIHRyYWNlX29iaiA9IHt9O1xuLy8gXHRcdFx0dHJhY2Vfb2JqLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4vLyBcdFx0XHR0cmFjZV9vYmouaW5zdGFuY2UgPSBpbnNfb2JqLl9pZDtcbi8vIFx0XHRcdHRyYWNlX29iai5pc19maW5pc2hlZCA9IGZhbHNlO1xuXG4vLyBcdFx0XHQvLyDlvZPliY3mnIDmlrDniYhmbG935Lit5byA5aeL6IqC54K555qEc3RlcF9pZFxuLy8gXHRcdFx0dmFyIHN0ZXBfaWQsIHN0ZXBfbmFtZSwgY2FuX2VkaXRfbWFpbl9hdHRhY2gsIGNhbl9lZGl0X25vcm1hbF9hdHRhY2g7XG4vLyBcdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAoc3RlcCkge1xuLy8gXHRcdFx0XHRpZiAoc3RlcC5zdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XG4vLyBcdFx0XHRcdFx0c3RlcF9pZCA9IHN0ZXAuX2lkO1xuLy8gXHRcdFx0XHRcdHN0ZXBfbmFtZSA9IHN0ZXAubmFtZTtcbi8vIFx0XHRcdFx0XHRjYW5fZWRpdF9tYWluX2F0dGFjaCA9IHN0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2g7XG4vLyBcdFx0XHRcdFx0Y2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9IHN0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaDtcbi8vIFx0XHRcdFx0fVxuLy8gXHRcdFx0fSlcbi8vIFx0XHRcdHRyYWNlX29iai5zdGVwID0gc3RlcF9pZDtcbi8vIFx0XHRcdHRyYWNlX29iai5zdGFydF9kYXRlID0gbm93O1xuLy8gXHRcdFx0dHJhY2Vfb2JqLm5hbWUgPSBzdGVwX25hbWU7XG5cbi8vIFx0XHRcdC8vIOaWsOW7ukFwcHJvdmVcbi8vIFx0XHRcdHZhciBhcHByX29iaiA9IHt9O1xuLy8gXHRcdFx0YXBwcl9vYmouX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbi8vIFx0XHRcdGFwcHJfb2JqLmluc3RhbmNlID0gaW5zX29iai5faWQ7XG4vLyBcdFx0XHRhcHByX29iai50cmFjZSA9IHRyYWNlX29iai5faWQ7XG4vLyBcdFx0XHRhcHByX29iai5pc19maW5pc2hlZCA9IGZhbHNlO1xuLy8gXHRcdFx0YXBwcl9vYmoudXNlciA9IHVzZXJfaWQ7XG4vLyBcdFx0XHRhcHByX29iai51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcbi8vIFx0XHRcdGFwcHJfb2JqLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuLy8gXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4vLyBcdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGhhbmRsZXJfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4vLyBcdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gaGFuZGxlcl9vcmdfaW5mby5uYW1lO1xuLy8gXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBoYW5kbGVyX29yZ19pbmZvLmZ1bGxuYW1lO1xuLy8gXHRcdFx0YXBwcl9vYmoudHlwZSA9IFwiZHJhZnRcIjtcbi8vIFx0XHRcdGFwcHJfb2JqLnN0YXJ0X2RhdGUgPSBub3c7XG4vLyBcdFx0XHRhcHByX29iai5yZWFkX2RhdGUgPSBub3c7XG4vLyBcdFx0XHRhcHByX29iai5pc19yZWFkID0gZmFsc2U7XG4vLyBcdFx0XHRhcHByX29iai5pc19lcnJvciA9IGZhbHNlO1xuXG4vLyBcdFx0XHRhcHByX29iai52YWx1ZXMgPSBuZXdfdmFsdWVzO1xuXG4vLyBcdFx0XHRpZiAoYWdlbnQpIHtcbi8vIFx0XHRcdFx0YXBwcl9vYmouYWdlbnQgPSBhZ2VudDtcbi8vIFx0XHRcdH1cblxuLy8gXHRcdFx0dHJhY2Vfb2JqLmFwcHJvdmVzID0gW2FwcHJfb2JqXTtcbi8vIFx0XHRcdGluc19vYmoudHJhY2VzID0gW3RyYWNlX29ial07XG5cbi8vIFx0XHRcdGlmIChmbG93LmF1dG9fcmVtaW5kID09IHRydWUpXG4vLyBcdFx0XHRcdGluc19vYmouYXV0b19yZW1pbmQgPSB0cnVlO1xuXG4vLyBcdFx0XHRpbnNfb2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gc3RhcnRfc3RlcC5uYW1lO1xuXG4vLyBcdFx0XHRpbnNfb2JqLmZsb3dfbmFtZSA9IGZsb3cubmFtZTtcbi8vIFx0XHRcdGlmIChjYXRlZ29yeV9uYW1lKSB7XG4vLyBcdFx0XHRcdGluc19vYmouY2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5Lm5hbWU7XG4vLyBcdFx0XHRcdGluc19vYmouY2F0ZWdvcnkgPSBjYXRlZ29yeS5faWQ7XG4vLyBcdFx0XHR9XG5cbi8vIFx0XHRcdG5ld19pbnNfaWQgPSBkYi5pbnN0YW5jZXMuaW5zZXJ0KGluc19vYmopO1xuXG4vLyBcdFx0XHQvLyDlpI3liLbpmYTku7Zcbi8vIFx0XHRcdHZhciBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcblxuLy8gXHRcdFx0Ly/lsIbljp/ooajljZXlhoXlrrnlrZjlgqjkuLrnrKzkuIDkuKrpmYTku7Zcbi8vIFx0XHRcdGlmIChoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQpIHtcbi8vIFx0XHRcdFx0Ly8gdHJ5IHtcblxuLy8gXHRcdFx0XHRpbnN0YW5jZUh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXJfaW5mbywgc3BhY2VfaWQsIGlucywge1xuLy8gXHRcdFx0XHRcdGFic29sdXRlOiB0cnVlLFxuLy8gXHRcdFx0XHRcdHNob3dUcmFjZTogdHJ1ZVxuLy8gXHRcdFx0XHR9KVxuLy8gXHRcdFx0XHR2YXIgaW5zdGFuY2VGaWxlID0gbmV3IEZTLkZpbGUoKTtcbi8vIFx0XHRcdFx0aW5zdGFuY2VGaWxlLmF0dGFjaERhdGEoQnVmZmVyLmZyb20oaW5zdGFuY2VIdG1sLCBcInV0Zi04XCIpLCB7XG4vLyBcdFx0XHRcdFx0dHlwZTogXCJ0ZXh0L2h0bWxcIlxuLy8gXHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbi8vIFx0XHRcdFx0XHRpZiAoZXJyb3IpIHtcbi8vIFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoZXJyb3IuZXJyb3IsIGVycm9yLnJlYXNvbik7XG4vLyBcdFx0XHRcdFx0fVxuXG4vLyBcdFx0XHRcdFx0aW5zdGFuY2VGaWxlLm5hbWUoaW5zLm5hbWUgKyBcIi5odG1sXCIpO1xuLy8gXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5zaXplKGluc3RhbmNlSHRtbC5sZW5ndGgpO1xuXG4vLyBcdFx0XHRcdFx0dmFyIG1ldGFkYXRhID0ge1xuLy8gXHRcdFx0XHRcdFx0b3duZXI6IHVzZXJfaWQsXG4vLyBcdFx0XHRcdFx0XHRvd25lcl9uYW1lOiB1c2VyX2luZm8ubmFtZSxcbi8vIFx0XHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcbi8vIFx0XHRcdFx0XHRcdGluc3RhbmNlOiBuZXdfaW5zX2lkLFxuLy8gXHRcdFx0XHRcdFx0YXBwcm92ZTogYXBwcl9vYmouX2lkLFxuLy8gXHRcdFx0XHRcdFx0Y3VycmVudDogdHJ1ZVxuLy8gXHRcdFx0XHRcdH07XG4vLyBcdFx0XHRcdFx0aW5zdGFuY2VGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4vLyBcdFx0XHRcdFx0dmFyIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChpbnN0YW5jZUZpbGUpO1xuLy8gXHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHtcbi8vIFx0XHRcdFx0XHRcdCRzZXQ6IHtcbi8vIFx0XHRcdFx0XHRcdFx0J21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXG4vLyBcdFx0XHRcdFx0XHR9XG4vLyBcdFx0XHRcdFx0fSlcbi8vIFx0XHRcdFx0fSlcblxuLy8gXHRcdFx0XHQvLyB9IGNhdGNoIChlKSB7XG4vLyBcdFx0XHRcdC8vICAgICBjb25zb2xlLmVycm9yKGUpO1xuLy8gXHRcdFx0XHQvLyB9XG4vLyBcdFx0XHR9XG5cbi8vIFx0XHRcdGlmIChpc0ZvcndhcmRBdHRhY2htZW50cyAmJiBhY3Rpb25fdHlwZSA9PSAnZm9yd2FyZCcpIHtcbi8vIFx0XHRcdFx0dmFyIGZpbGVzID0gY29sbGVjdGlvbi5maW5kKHtcbi8vIFx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZV9pZCxcbi8vIFx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcbi8vIFx0XHRcdFx0fSk7XG4vLyBcdFx0XHRcdGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbi8vIFx0XHRcdFx0XHQvLyDliKTmlq3mlrDnmoTmtYHnqIvlvIDlp4voioLngrnmmK/lkKbmnInnvJbovpHmraPmloflkoznvJbovpHpmYTku7bmnYPpmZBcbi8vIFx0XHRcdFx0XHRpZiAoZi5tZXRhZGF0YS5tYWluID09IHRydWUpIHtcbi8vIFx0XHRcdFx0XHRcdGlmIChjYW5fZWRpdF9tYWluX2F0dGFjaCAhPSB0cnVlICYmIGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggIT0gdHJ1ZSlcbi8vIFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuLy8gXHRcdFx0XHRcdH0gZWxzZSB7XG4vLyBcdFx0XHRcdFx0XHRpZiAoY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCAhPSB0cnVlKVxuLy8gXHRcdFx0XHRcdFx0XHRyZXR1cm47XG4vLyBcdFx0XHRcdFx0fVxuXG4vLyBcdFx0XHRcdFx0dmFyIG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuLy8gXHRcdFx0XHRcdG5ld0ZpbGUuYXR0YWNoRGF0YShmLmNyZWF0ZVJlYWRTdHJlYW0oJ2luc3RhbmNlcycpLCB7XG4vLyBcdFx0XHRcdFx0XHR0eXBlOiBmLm9yaWdpbmFsLnR5cGVcbi8vIFx0XHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG4vLyBcdFx0XHRcdFx0XHRpZiAoZXJyKSB7XG4vLyBcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoZXJyLmVycm9yLCBlcnIucmVhc29uKTtcbi8vIFx0XHRcdFx0XHRcdH1cbi8vIFx0XHRcdFx0XHRcdG5ld0ZpbGUubmFtZShmLm5hbWUoKSk7XG4vLyBcdFx0XHRcdFx0XHRuZXdGaWxlLnNpemUoZi5zaXplKCkpO1xuLy8gXHRcdFx0XHRcdFx0dmFyIG1ldGFkYXRhID0ge1xuLy8gXHRcdFx0XHRcdFx0XHRvd25lcjogdXNlcl9pZCxcbi8vIFx0XHRcdFx0XHRcdFx0b3duZXJfbmFtZTogdXNlcl9pbmZvLm5hbWUsXG4vLyBcdFx0XHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcbi8vIFx0XHRcdFx0XHRcdFx0aW5zdGFuY2U6IG5ld19pbnNfaWQsXG4vLyBcdFx0XHRcdFx0XHRcdGFwcHJvdmU6IGFwcHJfb2JqLl9pZCxcbi8vIFx0XHRcdFx0XHRcdFx0Y3VycmVudDogdHJ1ZVxuLy8gXHRcdFx0XHRcdFx0fTtcbi8vIFx0XHRcdFx0XHRcdGlmIChmLm1ldGFkYXRhLm1haW4gPT0gdHJ1ZSAmJiBjYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKSB7XG4vLyBcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLm1haW4gPSB0cnVlO1xuLy8gXHRcdFx0XHRcdFx0fVxuLy8gXHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuLy8gXHRcdFx0XHRcdFx0dmFyIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbi8vIFx0XHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHtcbi8vIFx0XHRcdFx0XHRcdFx0JHNldDoge1xuLy8gXHRcdFx0XHRcdFx0XHRcdCdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxuLy8gXHRcdFx0XHRcdFx0XHR9XG4vLyBcdFx0XHRcdFx0XHR9KVxuLy8gXHRcdFx0XHRcdH0pXG5cbi8vIFx0XHRcdFx0fSlcbi8vIFx0XHRcdH1cblxuLy8gXHRcdFx0aWYgKGFjdGlvbl90eXBlID09PSAnZGlzdHJpYnV0ZScpIHtcbi8vIFx0XHRcdFx0Ly8g57uZ5b2T5YmN55qE55Sz6K+35Y2V5aKe5Yqg5YiG5Y+R6K6w5b2VXG4vLyBcdFx0XHRcdHZhciBhcHByID0ge1xuLy8gXHRcdFx0XHRcdCdfaWQnOiBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyLFxuLy8gXHRcdFx0XHRcdCdpbnN0YW5jZSc6IGluc3RhbmNlX2lkLFxuLy8gXHRcdFx0XHRcdCd0cmFjZSc6IGN1cnJlbnRfdHJhY2VfaWQsXG4vLyBcdFx0XHRcdFx0J2lzX2ZpbmlzaGVkJzogdHJ1ZSxcbi8vIFx0XHRcdFx0XHQndXNlcic6IHVzZXJfaWQsXG4vLyBcdFx0XHRcdFx0J3VzZXJfbmFtZSc6IHVzZXJfaW5mby5uYW1lLFxuLy8gXHRcdFx0XHRcdCdoYW5kbGVyJzogdXNlcl9pZCxcbi8vIFx0XHRcdFx0XHQnaGFuZGxlcl9uYW1lJzogdXNlcl9pbmZvLm5hbWUsXG4vLyBcdFx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uJzogc3BhY2VfdXNlci5vcmdhbml6YXRpb24sXG4vLyBcdFx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUnOiBzcGFjZV91c2VyX29yZ19pbmZvLm5hbWUsXG4vLyBcdFx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lJzogc3BhY2VfdXNlcl9vcmdfaW5mby5mdWxsbmFtZSxcbi8vIFx0XHRcdFx0XHQndHlwZSc6IGFjdGlvbl90eXBlLFxuLy8gXHRcdFx0XHRcdCdzdGFydF9kYXRlJzogbmV3IERhdGUoKSxcbi8vIFx0XHRcdFx0XHQnZmluaXNoX2RhdGUnOiBuZXcgRGF0ZSgpLFxuLy8gXHRcdFx0XHRcdCdpc19yZWFkJzogZmFsc2UsXG4vLyBcdFx0XHRcdFx0J2p1ZGdlJzogJ3N1Ym1pdHRlZCcsXG4vLyBcdFx0XHRcdFx0J2Zyb21fdXNlcic6IGN1cnJlbnRfdXNlcl9pZCxcbi8vIFx0XHRcdFx0XHQnZnJvbV91c2VyX25hbWUnOiBmcm9tX3VzZXJfbmFtZSxcbi8vIFx0XHRcdFx0XHQnZm9yd2FyZF9zcGFjZSc6IHNwYWNlX2lkLFxuLy8gXHRcdFx0XHRcdCdmb3J3YXJkX2luc3RhbmNlJzogbmV3X2luc19pZCxcbi8vIFx0XHRcdFx0XHQnZGVzY3JpcHRpb24nOiBkZXNjcmlwdGlvbixcbi8vIFx0XHRcdFx0XHQnZnJvbV9hcHByb3ZlX2lkJzogZnJvbV9hcHByb3ZlX2lkXG4vLyBcdFx0XHRcdH07XG5cbi8vIFx0XHRcdFx0Zm9yd2FyZF9hcHByb3Zlcy5wdXNoKGFwcHIpO1xuLy8gXHRcdFx0fVxuXG4vLyBcdFx0XHRuZXdfaW5zX2lkcy5wdXNoKG5ld19pbnNfaWQpO1xuLy8gXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuLy8gXHRcdH0pXG5cbi8vIFx0XHRpZiAoIV8uaXNFbXB0eShmb3J3YXJkX2FwcHJvdmVzKSkge1xuLy8gXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG4vLyBcdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xuLy8gXHRcdFx0dmFyIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbi8vIFx0XHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcbi8vIFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGN1cnJlbnRfdHJhY2VfaWRcbi8vIFx0XHRcdH0sIHtcbi8vIFx0XHRcdFx0JHNldDogc2V0X29iaixcbi8vIFx0XHRcdFx0JGFkZFRvU2V0OiB7XG4vLyBcdFx0XHRcdFx0J3RyYWNlcy4kLmFwcHJvdmVzJzoge1xuLy8gXHRcdFx0XHRcdFx0JGVhY2g6IGZvcndhcmRfYXBwcm92ZXNcbi8vIFx0XHRcdFx0XHR9XG4vLyBcdFx0XHRcdH1cbi8vIFx0XHRcdH0pO1xuLy8gXHRcdH1cblxuXG4vLyBcdFx0aWYgKHIpIHtcbi8vIFx0XHRcdF8uZWFjaChjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYSwgaWR4KSB7XG4vLyBcdFx0XHRcdGlmIChhLl9pZCA9PSBmcm9tX2FwcHJvdmVfaWQpIHtcbi8vIFx0XHRcdFx0XHR2YXIgdXBkYXRlX3JlYWQgPSB7fTtcbi8vIFx0XHRcdFx0XHR1cGRhdGVfcmVhZFtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbi8vIFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcbi8vIFx0XHRcdFx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXG4vLyBcdFx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogY3VycmVudF90cmFjZV9pZFxuLy8gXHRcdFx0XHRcdH0sIHtcbi8vIFx0XHRcdFx0XHRcdCRzZXQ6IHVwZGF0ZV9yZWFkXG4vLyBcdFx0XHRcdFx0fSk7XG4vLyBcdFx0XHRcdH1cbi8vIFx0XHRcdH0pXG5cbi8vIFx0XHR9XG5cbi8vIFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4vLyBcdFx0XHRjb2RlOiAyMDAsXG4vLyBcdFx0XHRkYXRhOiB7IG5ld19pbnNfaWRzOiBuZXdfaW5zX2lkcyB9XG4vLyBcdFx0fSlcbi8vIFx0fSBjYXRjaCAoZSkge1xuLy8gXHRcdGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcbi8vIFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4vLyBcdFx0XHRjb2RlOiAyMDAsXG4vLyBcdFx0XHRkYXRhOiB7XG4vLyBcdFx0XHRcdGVycm9yczogW2VdXG4vLyBcdFx0XHR9XG4vLyBcdFx0fSlcbi8vIFx0fVxuXG4vLyB9KSIsImlmIHByb2Nlc3MuZW52LkNSRUFUT1JfTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50J1xuICAgIEpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy90ZXN0L3dlYmhvb2snLCAocmVxLCByZXMsIG5leHQpIC0+XG4gICAgICAgIHRyeVxuXG4gICAgICAgICAgICBoYXNoRGF0YSA9IHJlcS5ib2R5XG4gICAgICAgICAgICBjb25zb2xlLmxvZyAnYWN0aW9uOiAnLCBoYXNoRGF0YS5hY3Rpb25cbiAgICAgICAgICAgIGNvbnNvbGUubG9nICdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlclxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ3RvX3VzZXJzOiAnLCBoYXNoRGF0YS50b191c2Vyc1xuXG5cbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fVxuICAgICAgICBjYXRjaCBlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yIGUuc3RhY2tcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG4gICAgICAgICAgICAgICAgY29kZTogMjAwXG4gICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9IiwiaWYgKHByb2Nlc3MuZW52LkNSRUFUT1JfTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL3Rlc3Qvd2ViaG9vaycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGUsIGhhc2hEYXRhO1xuICAgIHRyeSB7XG4gICAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgICAgY29uc29sZS5sb2coJ2FjdGlvbjogJywgaGFzaERhdGEuYWN0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlcik7XG4gICAgICBjb25zb2xlLmxvZygndG9fdXNlcnM6ICcsIGhhc2hEYXRhLnRvX3VzZXJzKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge31cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuIiwieyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzXG5cdHNldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmU6IChpbnNfaWQsIHN0ZXBfYXBwcm92ZSwgc3RlcHNBcHByb3Zlc09wdGlvbnMpLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLnNldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXHRzZXRfaW5zdGFuY2Vfc2tpcF9zdGVwczogKGluc19pZCwgc3RlcElkLCBhY3Rpb24pLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLnNldF9pbnN0YW5jZV9za2lwX3N0ZXBzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykiLCIvKlxuICogQEF1dGhvcjogc3VuaGFvbGluQGhvdG9hLmNvbVxuICogQERhdGU6IDIwMjEtMDUtMjQgMTI6MzI6NTZcbiAqIEBMYXN0RWRpdG9yczogc3VuaGFvbGluQGhvdG9hLmNvbVxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMi0yMiAxNToxODo1OVxuICogQERlc2NyaXB0aW9uOiBcbiAqL1xuY29uc3QgeyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzKHtcblxuXHRnZXRfaW5zdGFuY2VfZGF0YTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBmb3JtQ2FjaGVkLCBmbG93Q2FjaGVkKSB7XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5nZXRfaW5zdGFuY2VfZGF0YS5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cdH1cblxufSk7XG4iLCJjb25zdCB7IHdvcmtmbG93TWV0aG9kcyB9ID0gcmVxdWlyZSgnQHN0ZWVkb3Mvd29ya2Zsb3cnKVxuTWV0ZW9yLm1ldGhvZHMoe1xuXG5cdGRyYWZ0X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChpbnMpIHtcblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLmRyYWZ0X3NhdmVfaW5zdGFuY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXHR9LFxuXG5cdGluYm94X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5pbmJveF9zYXZlX2luc3RhbmNlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcblx0fVxuXG59KSIsIi8qXG4gKiBAQXV0aG9yOiBzdW5oYW9saW5AaG90b2EuY29tXG4gKiBARGF0ZTogMjAyMy0wMS0xMyAxNzozNToxM1xuICogQExhc3RFZGl0b3JzOiBzdW5oYW9saW5AaG90b2EuY29tXG4gKiBATGFzdEVkaXRUaW1lOiAyMDIzLTAzLTExIDEwOjUxOjI5XG4gKiBARGVzY3JpcHRpb246IFxuICovXG5jb25zdCB7IHdvcmtmbG93TWV0aG9kcyB9ID0gcmVxdWlyZSgnQHN0ZWVkb3Mvd29ya2Zsb3cnKVxuTWV0ZW9yLm1ldGhvZHMoe1xuXHRjY19kbzogZnVuY3Rpb24gKGFwcHJvdmUsIGNjX3VzZXJfaWRzLCBkZXNjcmlwdGlvbikge1xuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMuY2NfZG8uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXHR9LFxuXG5cdGNjX3JlYWQ6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5jY19yZWFkLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcblx0fSxcblxuXHRjY19zdWJtaXQ6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uLCBteUFwcHJvdmUsIGNjSGFzRWRpdFBlcm1pc3Npb24pIHtcblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLmNjX3N1Ym1pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cdH0sXG5cblx0Y2NfcmVtb3ZlOiBmdW5jdGlvbiAoaW5zdGFuY2VJZCwgYXBwcm92ZUlkKSB7XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5jY19yZW1vdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXHR9LFxuXG5cdGJhdGNoX2NhbmNlbF9jYzogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBhcHByb3ZlX2lkcykge1xuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMuYmF0Y2hfY2FuY2VsX2NjLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcblx0fSxcblxuXHRjY19zYXZlOiBmdW5jdGlvbiAoaW5zX2lkLCBkZXNjcmlwdGlvbiwgbXlBcHByb3ZlLCBjY0hhc0VkaXRQZXJtaXNzaW9uKSB7XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5jY19zYXZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcblx0fVxufSkiLCIvKlxuICogQEF1dGhvcjogc3VuaGFvbGluQGhvdG9hLmNvbVxuICogQERhdGU6IDIwMjEtMDUtMjQgMTI6MzI6NTZcbiAqIEBMYXN0RWRpdG9yczogc3VuaGFvbGluQGhvdG9hLmNvbVxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMi0yMiAxNToxODozOFxuICogQERlc2NyaXB0aW9uOiBcbiAqL1xuY29uc3QgeyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzKHtcblx0Ly8g5pS55Li66YCa6L+HYXBp6LCD55SoXG5cdGZvcndhcmRfaW5zdGFuY2U6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgc3BhY2VfaWQsIGZsb3dfaWQsIGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCwgZGVzY3JpcHRpb24sIGlzRm9yd2FyZEF0dGFjaG1lbnRzLCBzZWxlY3RlZFVzZXJzLCBhY3Rpb25fdHlwZSwgcmVsYXRlZCwgZnJvbV9hcHByb3ZlX2lkKSB7XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ25vdC1hdXRob3JpemVkJyk7XG5cblx0XHRyZXR1cm47XG5cdH0sXG5cblxuXHRmb3J3YXJkX3JlbW92ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCB0cmFjZV9pZCwgYXBwcm92ZV9pZCkge1xuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMuZm9yd2FyZF9yZW1vdmUuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXHR9LFxuXG5cdGNhbmNlbERpc3RyaWJ1dGU6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgYXBwcm92ZV9pZHMpIHtcblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLmNhbmNlbERpc3RyaWJ1dGUuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXHR9XG5cblxufSkiLCIvKlxuICogQEF1dGhvcjogc3VuaGFvbGluQGhvdG9hLmNvbVxuICogQERhdGU6IDIwMjEtMDUtMjQgMTI6MzI6NTZcbiAqIEBMYXN0RWRpdG9yczogc3VuaGFvbGluQGhvdG9hLmNvbVxuICogQExhc3RFZGl0VGltZTogMjAyMi0xMi0yMiAxNToxNzo1NFxuICogQERlc2NyaXB0aW9uOiBcbiAqL1xuY29uc3QgeyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzKHtcbiAgICBjZnNfaW5zdGFuY2VzX3JlbW92ZTogZnVuY3Rpb24gKGZpbGVfaWQpIHtcbiAgICAgICAgcmV0dXJuIHdvcmtmbG93TWV0aG9kcy5jZnNfaW5zdGFuY2VzX3JlbW92ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfSxcblxuICAgIGNmc19pbnN0YW5jZXNfc2V0X2N1cnJlbnQ6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XG4gICAgICAgIHJldHVybiB3b3JrZmxvd01ldGhvZHMuY2ZzX2luc3RhbmNlc19zZXRfY3VycmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfSxcblxuICAgIGNmc19pbnN0YW5jZXNfbG9jazogZnVuY3Rpb24gKGZpbGVfaWQsIHVzZXJfaWQsIHVzZXJfbmFtZSkge1xuICAgICAgICByZXR1cm4gd29ya2Zsb3dNZXRob2RzLmNmc19pbnN0YW5jZXNfbG9jay5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfSxcblxuICAgIGNmc19pbnN0YW5jZXNfdW5sb2NrOiBmdW5jdGlvbiAoZmlsZV9pZCkge1xuICAgICAgICByZXR1cm4gd29ya2Zsb3dNZXRob2RzLmNmc19pbnN0YW5jZXNfdW5sb2NrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9LFxuXG4gICAgZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogZnVuY3Rpb24gKHNwYWNlSWQsIGNmc1JlY29yZElkcykge1xuICAgICAgICByZXR1cm4gd29ya2Zsb3dNZXRob2RzLmRvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2suYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbn0pIiwieyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzXG5cdHNldF9hcHByb3ZlX2hhdmVfcmVhZDogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkgLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLnNldF9hcHByb3ZlX2hhdmVfcmVhZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cblx0Y2hhbmdlX2FwcHJvdmVfaW5mbzogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZGVzY3JpcHRpb24sIGZpbmlzaF9kYXRlKSAtPlxuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMuY2hhbmdlX2FwcHJvdmVfaW5mby5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cblx0dXBkYXRlX2FwcHJvdmVfc2lnbjogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgc2lnbl9maWVsZF9jb2RlLCBkZXNjcmlwdGlvbiwgc2lnbl90eXBlLCBsYXN0U2lnbkFwcHJvdmUpLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLnVwZGF0ZV9hcHByb3ZlX3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXG5cblx0dXBkYXRlX3NpZ25fc2hvdzogKG9ianMsIG15QXBwcm92ZV9pZCkgLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLnVwZGF0ZV9zaWduX3Nob3cuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuIiwieyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzXG5cdGluc3RhbmNlX3JldHVybjogKGFwcHJvdmUsIHJlYXNvbiktPlxuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMuaW5zdGFuY2VfcmV0dXJuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykiLCJ7IHdvcmtmbG93TWV0aG9kcyB9ID0gcmVxdWlyZSgnQHN0ZWVkb3Mvd29ya2Zsb3cnKVxuTWV0ZW9yLm1ldGhvZHNcblx0aW5zdGFuY2VfcmVtaW5kOiAocmVtaW5kX3VzZXJzLCByZW1pbmRfY291bnQsIHJlbWluZF9kZWFkbGluZSwgaW5zdGFuY2VfaWQsIGFjdGlvbl90eXBlcywgdHJhY2VfaWQpLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLmluc3RhbmNlX3JlbWluZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4iLCJ7IHdvcmtmbG93TWV0aG9kcyB9ID0gcmVxdWlyZSgnQHN0ZWVkb3Mvd29ya2Zsb3cnKVxuTWV0ZW9yLm1ldGhvZHNcblx0bmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZDogKGRlYWxfdHlwZSwgc3RlcF9uYW1lLCBwYXJhbXMpIC0+XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiIsInsgd29ya2Zsb3dNZXRob2RzIH0gPSByZXF1aXJlKCdAc3RlZWRvcy93b3JrZmxvdycpXG5fZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxuXG5NZXRlb3IubWV0aG9kc1xuXHRpbnN0YW5jZU51bWJlckJ1aWxkZXI6IChzcGFjZUlkLCBuYW1lKS0+XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuIiwieyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzXG5cdGNoZWNrX21haW5fYXR0YWNoOiAoaW5zX2lkLCBuYW1lKS0+XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5jaGVja19tYWluX2F0dGFjaC5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4iLCJ7IHdvcmtmbG93TWV0aG9kcyB9ID0gcmVxdWlyZSgnQHN0ZWVkb3Mvd29ya2Zsb3cnKVxuTWV0ZW9yLm1ldGhvZHNcblx0cmVtb3ZlX3JlbGF0ZWQ6IChpbnNfaWQsIHJlX2luc19pZCktPlxuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMucmVtb3ZlX3JlbGF0ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXG5cdHVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkOiAoaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcyktPlxuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMudXBkYXRlX2luc3RhbmNlX3JlbGF0ZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuIiwieyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzXG5cdHVwZGF0ZUZsb3dQb3NpdGlvbjogKGRhdGEpIC0+XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy51cGRhdGVGbG93UG9zaXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXG5cdHVwZGF0ZUZsb3dSb2xlOiAoZGF0YSkgLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLnVwZGF0ZUZsb3dSb2xlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykiLCJ7IHdvcmtmbG93TWV0aG9kcyB9ID0gcmVxdWlyZSgnQHN0ZWVkb3Mvd29ya2Zsb3cnKVxuTWV0ZW9yLm1ldGhvZHNcblx0c3RhcnRfZmxvdzogKHNwYWNlLCBmbG93SWQsIHN0YXJ0KSAtPlxuXG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5zdGFydF9mbG93LmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcblxuIiwieyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzXG5cdGdldF9pbnN0YW5jZV90cmFjZXM6IChpbnNfaWQpLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLmdldF9pbnN0YW5jZV90cmFjZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKSIsInsgd29ya2Zsb3dNZXRob2RzIH0gPSByZXF1aXJlKCdAc3RlZWRvcy93b3JrZmxvdycpXG5NZXRlb3IubWV0aG9kc1xuXHQnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMuZ2V0X2JhdGNoX2luc3RhbmNlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cblx0J2dldF9iYXRjaF9pbnN0YW5jZXNfY291bnQnOiAoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMpLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLmdldF9iYXRjaF9pbnN0YW5jZXNfY291bnQuYXBwbHkodGhpcywgYXJndW1lbnRzKVxuXG5cdCdnZXRfbXlfYXBwcm92ZXMnOiAoaW5zdGFuY2VJZHMpLT5cblx0XHRyZXR1cm4gd29ya2Zsb3dNZXRob2RzLmdldF9teV9hcHByb3Zlcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwieyB3b3JrZmxvd01ldGhvZHMgfSA9IHJlcXVpcmUoJ0BzdGVlZG9zL3dvcmtmbG93Jylcbk1ldGVvci5tZXRob2RzXG5cdGNoYW5nZV9mbG93X3N0YXRlOiAoZmxvd3MpIC0+XG5cdFx0cmV0dXJuIHdvcmtmbG93TWV0aG9kcy5jaGFuZ2VfZmxvd19zdGF0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG5cblxuXG5cbiIsInsgd29ya2Zsb3dNZXRob2RzIH0gPSByZXF1aXJlKCdAc3RlZWRvcy93b3JrZmxvdycpXG5NZXRlb3IubWV0aG9kc1xuXG5cdGhpZGVfaW5zdGFuY2U6IChpbnNJZCwgaXNfaGlkZGVuKSAtPlxuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMuaGlkZV9pbnN0YW5jZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4iLCJ7IHdvcmtmbG93TWV0aG9kcyB9ID0gcmVxdWlyZSgnQHN0ZWVkb3Mvd29ya2Zsb3cnKVxuTWV0ZW9yLm1ldGhvZHNcblx0Z2V0SW5zdGFuY2VWYWx1ZXM6IChpbnNJZCktPlxuXHRcdHJldHVybiB3b3JrZmxvd01ldGhvZHMuZ2V0SW5zdGFuY2VWYWx1ZXMuYXBwbHkodGhpcywgYXJndW1lbnRzKSIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gKHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKSAtPlxuXG5cdHVzZXIgPSBTdGVlZG9zLmdldEFQSUxvZ2luVXNlcihyZXEsIHJlcylcblxuXHRpZiByZXE/LnF1ZXJ5Py5hY2Nlc3NfdG9rZW5cblx0XHR1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKVxuXHRcdGlmIHVzZXJJZFxuXHRcdFx0dXNlciA9IE1ldGVvci51c2Vycy5maW5kT25lKHtfaWQ6IHVzZXJJZH0pXG5cblx0c3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2VcblxuXHRpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZFxuXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pO1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe19pZDogc3BhY2VJZH0pO1xuXG5cdGhpZGVfdHJhY2VzID0gcmVxLnF1ZXJ5Py5oaWRlX3RyYWNlc1xuXG5cdGlmICFvcHRpb25zXG5cdFx0b3B0aW9ucyA9IHtzaG93VHJhY2U6IHRydWV9XG5cdGVsc2Vcblx0XHRvcHRpb25zLnNob3dUcmFjZSA9IHRydWVcblxuXHRpZiBoaWRlX3RyYWNlcyBpcyBcIjFcIlxuXHRcdGlmIG9wdGlvbnNcblx0XHRcdG9wdGlvbnMuc2hvd1RyYWNlID0gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogZmFsc2V9XG5cblx0aWYgIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzXG5cdFx0b3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlXG5cblx0aWYgIXNwYWNlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGlmICAhaW5zdGFuY2Vcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBpbnN0YW5jZVwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0aWYgIXVzZXJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRpZiBpbnN0YW5jZS5zcGFjZSAhPSBzcGFjZUlkXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cblxuXHRzcGFjZVVzZXJDb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyB1c2VyOiB1c2VyLl9pZCwgc3BhY2U6IHNwYWNlSWQgfSkuY291bnQoKVxuXG5cdGlmIHNwYWNlVXNlckNvdW50IGlzIDBcblx0XHRpZiAhc3BhY2Vcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0cmV0dXJuO1xuXG5cdCPmoKHpqox1c2Vy5piv5ZCm5a+5aW5zdGFuY2XmnInmn6XnnIvmnYPpmZBcblx0X2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSlcblxuXHRpZiAhX2hhc1Blcm1pc3Npb24gICYmIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZVxuXHRcdF9wYXJlbnRfaW5zdGFuY2VzID0gXy51bmlvbihbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXSwgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyB8fCBbXSlcblxuXHRcdF9oYXNQZXJtaXNzaW9uID0gXy5maW5kIF9wYXJlbnRfaW5zdGFuY2VzLCAoX3BhcmVudF9pZCktPlxuXHRcdFx0X3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOl9wYXJlbnRfaWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pXG5cblx0XHRcdHJldHVybiBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBfcGFyZW50X2lucylcblxuXHRpZiAhX2hhc1Blcm1pc3Npb25cblx0XHRfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpXG5cdFx0ZXJyb3IgPSBUQVBpMThuLl9fKFwiaW5zdGFuY2VfcGVybWlzc2lvbnNfZXJyb3JcIiwge30sIF9sb2NhbGUpXG5cdFx0cmVzLmNoYXJzZXQgPSBcInV0Zi04XCJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBlcnJvcixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoaHRtbClcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkXCIsIGdldEluc3RhbmNlUmVhZE9ubHlcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkLzppbnN0YW5jZV9uYW1lXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG5cdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcblx0cmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJylcblxuXHRvcHRpb25zID0ge2Fic29sdXRlOiB0cnVlfVxuXG5cdHJldHVybiBnZXRJbnN0YW5jZVJlYWRPbmx5KHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKVxuIyMjXG5cdOiOt+WPlueUs+ivt+WNleWIl+ihqO+8mlxuICAgIGZpbmFsX2RlY2lzaW9u77ya5a6h5om557uT5p6cXG4gICAgc3RhdGU6IOeUs+ivt+WNleeKtuaAgVxuIyMjXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVybiA7XG5cblx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHRzcGFjZUlkID0gcmVxLmhlYWRlcnNbXCJ4LXNwYWNlLWlkXCJdXG5cblx0aWYgbm90IHNwYWNlSWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3dJZFxuXG5cdGlmICFmbG93SWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAwLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBmbG93SWRcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdHF1ZXJ5ID0ge31cblxuXHRyZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG5cblx0Zmxvd0lkcyA9IGZsb3dJZC5zcGxpdChcIixcIilcblxuXG5cdGZsb3dzID0gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93SWRzfX0pLmZldGNoKClcblxuXHRpID0gMFxuXHR3aGlsZSBpIDwgZmxvd3MubGVuZ3RoXG5cdFx0ZiA9IGZsb3dzW2ldXG5cdFx0c3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7c3BhY2U6IGYuc3BhY2UsIHVzZXI6IHVzZXJfaWR9KVxuXHRcdGlmICFzcGFjZVVzZXJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRyZXR1cm47XG5cdFx0ZWxzZVxuXG5cdCNcdOaYr+WQpuW3peS9nOWMuueuoeeQhuWRmFxuXHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCB1c2VyX2lkKVxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogc3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSkuZmV0Y2goKTtcblxuXHRcdFx0aWYgIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0XHRcdGRhdGE6XG5cdFx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdFx0cmV0dXJuO1xuXHRcdGkrK1xuXG5cblx0cXVlcnkuZmxvdyA9IHskaW46IGZsb3dJZHN9XG5cblx0cXVlcnkuc3BhY2UgPSBzcGFjZUlkXG5cblx0aWYgcmVxLnF1ZXJ5Py5zeW5jX3Rva2VuXG5cdFx0c3luY190b2tlbiA9IG5ldyBEYXRlKE51bWJlcihyZXEucXVlcnkuc3luY190b2tlbikpXG5cdFx0cXVlcnkubW9kaWZpZWQgPSB7JGd0OiBzeW5jX3Rva2VufVxuXG5cdGlmIHJlcS5xdWVyeT8uZmluYWxfZGVjaXNpb25cblx0XHRxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHskaW4gOiByZXEucXVlcnkuZmluYWxfZGVjaXNpb24uc3BsaXQoXCIsXCIpfVxuXHRlbHNlXG5cdFx0cXVlcnkuZmluYWxfZGVjaXNpb24gPSB7JG5pbjogW1widGVybWluYXRlZFwiLCBcInJlamVjdGVkXCJdfVxuXG5cdGlmIHJlcS5xdWVyeT8uc3RhdGVcblx0XHRxdWVyeS5zdGF0ZSA9IHskaW46IHJlcS5xdWVyeS5zdGF0ZS5zcGxpdChcIixcIil9XG5cdGVsc2Vcblx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblxuI1x05pyA5aSa6L+U5ZueNTAw5p2h5pWw5o2uXG5cdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5mZXRjaCgpXG5cdGluc3RhbmNlcy5mb3JFYWNoIChpbnN0YW5jZSktPlxuXG5cdFx0YXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBhdHRhY2htZW50c1xuXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHRcInN5bmNfdG9rZW5cIjogcmV0X3N5bmNfdG9rZW5cblx0XHRcdFx0XCJkYXRhXCI6IGluc3RhbmNlc1xuXHRyZXR1cm47XG4iLCJ2YXIgQ29va2llcywgZ2V0SW5zdGFuY2VSZWFkT25seTtcblxuQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpO1xuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpIHtcbiAgdmFyIF9oYXNQZXJtaXNzaW9uLCBfbG9jYWxlLCBfcGFyZW50X2luc3RhbmNlcywgZGF0YUJ1ZiwgZXJyb3IsIGhpZGVfdHJhY2VzLCBodG1sLCBpbnN0YW5jZSwgaW5zdGFuY2VJZCwgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZCwgc3BhY2VVc2VyQ291bnQsIHVzZXIsIHVzZXJJZDtcbiAgdXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKTtcbiAgaWYgKHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5hY2Nlc3NfdG9rZW4gOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICB1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKTtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICB1c2VyID0gTWV0ZW9yLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHVzZXJJZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZDtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICBfaWQ6IHNwYWNlSWRcbiAgfSk7XG4gIGhpZGVfdHJhY2VzID0gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmhpZGVfdHJhY2VzIDogdm9pZCAwO1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2hvd1RyYWNlOiB0cnVlXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLnNob3dUcmFjZSA9IHRydWU7XG4gIH1cbiAgaWYgKGhpZGVfdHJhY2VzID09PSBcIjFcIikge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLnNob3dUcmFjZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzaG93VHJhY2U6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzKSB7XG4gICAgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlO1xuICB9XG4gIGlmICghc3BhY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghdXNlcikge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5zdGFuY2Uuc3BhY2UgIT09IHNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNwYWNlVXNlckNvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgdXNlcjogdXNlci5faWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKTtcbiAgaWYgKHNwYWNlVXNlckNvdW50ID09PSAwKSB7XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgX2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSk7XG4gIGlmICghX2hhc1Blcm1pc3Npb24gJiYgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG4gICAgX3BhcmVudF9pbnN0YW5jZXMgPSBfLnVuaW9uKFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VdLCBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIHx8IFtdKTtcbiAgICBfaGFzUGVybWlzc2lvbiA9IF8uZmluZChfcGFyZW50X2luc3RhbmNlcywgZnVuY3Rpb24oX3BhcmVudF9pZCkge1xuICAgICAgdmFyIF9wYXJlbnRfaW5zO1xuICAgICAgX3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogX3BhcmVudF9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0cmFjZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpO1xuICAgIH0pO1xuICB9XG4gIGlmICghX2hhc1Blcm1pc3Npb24pIHtcbiAgICBfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpO1xuICAgIGVycm9yID0gVEFQaTE4bi5fXyhcImluc3RhbmNlX3Blcm1pc3Npb25zX2Vycm9yXCIsIHt9LCBfbG9jYWxlKTtcbiAgICByZXMuY2hhcnNldCA9IFwidXRmLThcIjtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtXCIgKyAoZGF0YUJ1Zi5sZW5ndGggLSAxKSArIFwiL1wiICsgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoaHRtbCk7XG59O1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZC86aW5zdGFuY2VfbmFtZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgb3B0aW9ucztcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcbiAgcmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJyk7XG4gIG9wdGlvbnMgPSB7XG4gICAgYWJzb2x1dGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpO1xufSk7XG5cblxuLypcblx06I635Y+W55Sz6K+35Y2V5YiX6KGo77yaXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcbiAgICBzdGF0ZTog55Sz6K+35Y2V54q25oCBXG4gKi9cblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZiwgZmxvd0lkLCBmbG93SWRzLCBmbG93cywgaSwgaW5zdGFuY2VzLCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZXRfc3luY190b2tlbiwgc3BhY2VJZCwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzeW5jX3Rva2VuLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHNwYWNlSWQgPSByZXEuaGVhZGVyc1tcIngtc3BhY2UtaWRcIl07XG4gIGlmICghc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3dJZCA6IHZvaWQgMDtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgZmxvd0lkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBxdWVyeSA9IHt9O1xuICByZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBmbG93SWRzID0gZmxvd0lkLnNwbGl0KFwiLFwiKTtcbiAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgaSA9IDA7XG4gIHdoaWxlIChpIDwgZmxvd3MubGVuZ3RoKSB7XG4gICAgZiA9IGZsb3dzW2ldO1xuICAgIHNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IGYuc3BhY2UsXG4gICAgICB1c2VyOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgaWYgKCFzcGFjZVVzZXIpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuXG4gICAgfVxuICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgdXNlcl9pZCkpIHtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpKys7XG4gIH1cbiAgcXVlcnkuZmxvdyA9IHtcbiAgICAkaW46IGZsb3dJZHNcbiAgfTtcbiAgcXVlcnkuc3BhY2UgPSBzcGFjZUlkO1xuICBpZiAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN5bmNfdG9rZW4gOiB2b2lkIDApIHtcbiAgICBzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSk7XG4gICAgcXVlcnkubW9kaWZpZWQgPSB7XG4gICAgICAkZ3Q6IHN5bmNfdG9rZW5cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuZmluYWxfZGVjaXNpb24gOiB2b2lkIDApIHtcbiAgICBxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuZmluYWxfZGVjaXNpb24gPSB7XG4gICAgICAkbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl1cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc3RhdGUgOiB2b2lkIDApIHtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9XG4gIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICB0cmFjZXM6IDAsXG4gICAgICBhdHRhY2htZW50czogMFxuICAgIH0sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogNTAwXG4gIH0pLmZldGNoKCk7XG4gIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzO1xuICAgIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICRuZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjb3BpZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzO1xuICB9KTtcbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICAgIFwic3luY190b2tlblwiOiByZXRfc3luY190b2tlbixcbiAgICAgIFwiZGF0YVwiOiBpbnN0YW5jZXNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXG5cdGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpXG5cblx0YWxsQ3NzTGluayA9IFwiXCJcblxuXHRhbGxDc3MuZm9yRWFjaCAoY3NzKSAtPlxuXHRcdGlmIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVhcblx0XHRcdHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMXG5cdFx0XHRpZiByb290VXJsLmVuZHNXaXRoKFwiL1wiKVxuXHRcdFx0XHRjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCwgXCJcIikgKyBjc3MudXJsXG5cdFx0ZWxzZVxuXHRcdFx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKVxuXHRcdGFsbENzc0xpbmsgKz0gXCJAaW1wb3J0IHVybCgje2Nzc0hyZWZ9KTtcIlxuXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoYWxsQ3NzTGluaykiLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9zdGVlZG9zLWNzc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYWxsQ3NzLCBhbGxDc3NMaW5rO1xuICBhbGxDc3MgPSBXZWJBcHAuZ2V0UmVmcmVzaGFibGVBc3NldHMoKTtcbiAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIGFsbENzcy5mb3JFYWNoKGZ1bmN0aW9uKGNzcykge1xuICAgIHZhciBjc3NIcmVmLCByb290VXJsO1xuICAgIGlmIChfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYKSB7XG4gICAgICByb290VXJsID0gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTDtcbiAgICAgIGlmIChyb290VXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYLCBcIlwiKSArIGNzcy51cmw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoY3NzLnVybCk7XG4gICAgfVxuICAgIHJldHVybiBhbGxDc3NMaW5rICs9IFwiQGltcG9ydCB1cmwoXCIgKyBjc3NIcmVmICsgXCIpO1wiO1xuICB9KTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGFsbENzc0xpbmspO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVyblxuXG5cdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcblxuXHRzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZVxuXG5cdGZsb3dJZCA9IHJlcS5wYXJhbXMuZmxvd1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IHNwYWNlSWQgfSlcblxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50Ll9pZCc6IDEsIGZvcm06IDEgfSB9KVxuXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuX2lkJzogMSB9IH0pXG5cblx0b3B0aW9ucyA9IHtcblx0XHRzaG93VHJhY2U6IGZhbHNlLFxuXHRcdHNob3dBdHRhY2htZW50czogZmFsc2UsXG5cdFx0dGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcblx0XHRlZGl0YWJsZTogdHJ1ZSxcblx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0aW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuXHRcdHBsdWdpbnM6IFwiXCJcIlxuXG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiWC1VQS1Db21wYXRpYmxlXCIgY29udGVudD1cIklFPWVkZ2UsY2hyb21lPTFcIiAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cImZvcm1hdC1kZXRlY3Rpb25cIiBjb250ZW50PVwidGVsZXBob25lPW5vXCI+XG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwieC1yaW0tYXV0by1tYXRjaFwiIGNvbnRlbnQ9XCJub25lXCI+XG5cdFx0XHQ8dGl0bGU+I3tmbG93Lm5hbWV9PC90aXRsZT5cblx0XHRcdDxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aFwiIC8+XG5cblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1wiPlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9sb2NhbGVzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci56aC1DTi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBjaGFyc2V0PVwiVVRGLThcIj48L3NjcmlwdD5cblxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5jc3NcIj5cblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXCI+XG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy93b3JrZmxvd19jbGllbnQuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XCJcIlwiXG5cdH1cblxuXHRpbnN0YW5jZSA9IHtcblx0XHRmbG93OiBmbG93Ll9pZCxcblx0XHRmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG5cdFx0Zm9ybTogZm9ybS5faWQsXG5cdFx0Zm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuXHRcdHZhbHVlczoge30sXG5cdFx0bmFtZTogZmxvdy5uYW1lLFxuXHRcdHNwYWNlOiBzcGFjZUlkXG5cdH1cblxuXHRodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbClcblxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKVxuXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcblxuXHRyZXMuZW5kKGh0bWwpXG4iLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGRhdGFCdWYsIGZsb3csIGZsb3dJZCwgZm9ybSwgaHRtbCwgaW5zdGFuY2UsIG9wdGlvbnMsIHNwYWNlLCBzcGFjZUlkLCB1c2VyLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICBfaWQ6IHVzZXJfaWRcbiAgfSk7XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBmbG93SWQgPSByZXEucGFyYW1zLmZsb3c7XG4gIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogc3BhY2VJZFxuICB9KTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICAnY3VycmVudC5faWQnOiAxLFxuICAgICAgZm9ybTogMVxuICAgIH1cbiAgfSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGZsb3cuZm9ybVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgfVxuICB9KTtcbiAgb3B0aW9ucyA9IHtcbiAgICBzaG93VHJhY2U6IGZhbHNlLFxuICAgIHNob3dBdHRhY2htZW50czogZmFsc2UsXG4gICAgdGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuICAgIHBsdWdpbnM6IFwiXFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwiWC1VQS1Db21wYXRpYmxlXFxcIiBjb250ZW50PVxcXCJJRT1lZGdlLGNocm9tZT0xXFxcIiAvPlxcbjxtZXRhIG5hbWU9XFxcImZvcm1hdC1kZXRlY3Rpb25cXFwiIGNvbnRlbnQ9XFxcInRlbGVwaG9uZT1ub1xcXCI+XFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwieC1yaW0tYXV0by1tYXRjaFxcXCIgY29udGVudD1cXFwibm9uZVxcXCI+XFxuPHRpdGxlPlwiICsgZmxvdy5uYW1lICsgXCI8L3RpdGxlPlxcbjxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxcbjxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGhcXFwiIC8+XFxuXFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1xcXCI+XFxuXFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcblxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvbG9jYWxlcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIuemgtQ04uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCIgY2hhcnNldD1cXFwiVVRGLThcXFwiPjwvc2NyaXB0PlxcblxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmNzc1xcXCI+XFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXFxcIj5cXG48c2NyaXB0IHNyYz1cXFwiL2pzL3dvcmtmbG93X2NsaWVudC5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cIlxuICB9O1xuICBpbnN0YW5jZSA9IHtcbiAgICBmbG93OiBmbG93Ll9pZCxcbiAgICBmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG4gICAgZm9ybTogZm9ybS5faWQsXG4gICAgZm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuICAgIHZhbHVlczoge30sXG4gICAgbmFtZTogZmxvdy5uYW1lLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC1cIiArIChkYXRhQnVmLmxlbmd0aCAtIDEpICsgXCIvXCIgKyBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChodG1sKTtcbn0pO1xuIiwiQXJyYXkucHJvdG90eXBlLmZpbHRlclByb3BlcnR5ID0gZnVuY3Rpb24oaCwgbCl7XG4gICAgdmFyIGcgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7XG4gICAgICAgIHZhciBtID0gdD8gdFtoXTpudWxsO1xuICAgICAgICB2YXIgZCA9IGZhbHNlO1xuICAgICAgICBpZihtIGluc3RhbmNlb2YgQXJyYXkpe1xuICAgICAgICAgICAgZCA9IG0uaW5jbHVkZXMobCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZCA9IChsID09PSB1bmRlZmluZWQpPyBmYWxzZTptPT1sO1xuICAgICAgICB9XG4gICAgICAgIGlmKGQpe1xuICAgICAgICAgICAgZy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGc7XG59O1xuXG5BcnJheS5wcm90b3R5cGUuZ2V0UHJvcGVydHkgPSBmdW5jdGlvbihrKXtcbiAgICB2YXIgdiA9IG5ldyBBcnJheSgpO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtcbiAgICAgICAgdmFyIG0gPSB0PyB0W2tdOm51bGw7XG4gICAgICAgIHYucHVzaChtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdjtcbn1cblxuQXJyYXkucHJvdG90eXBlLmdldEVhY2ggPSBmdW5jdGlvbihjb2RlKXtcbiAgICB2YXIgcmV2ID0gW107XG4gICAgZm9yKHZhciBpID0gMCA7IGkgPCB0aGlzLmxlbmd0aCA7IGkrKyl7XG4gICAgICAgIHJldi5wdXNoKHRoaXNbaV1bY29kZV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xufTtcblxuQXJyYXkucHJvdG90eXBlLnVuaXEgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGIpeyBcbiAgICAgICAgaWYoYS5pbmRleE9mKGIpIDwgMClcbiAgICAgICAgICAgIHthW2EubGVuZ3RoXSA9IGJ9XG4gICAgfSk7XG4gICAgcmV0dXJuIGE7XG59O1xuXG5Gb3JtX2Zvcm11bGEgPSB7fTtcblxuXG5Gb3JtX2Zvcm11bGEubWl4aW4gPSBmdW5jdGlvbihkZXN0LCBzcmMpe1xuICAgIGZvcih2YXIga2V5IGluIHNyYyl7XG4gICAgICAgIGRlc3Rba2V5XSA9IHNyY1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn07XG5cblxuRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QgPSBmdW5jdGlvbih1KXtcblxuICAgIGlmKHUgaW5zdGFuY2VvZiBBcnJheSl7XG4gICAgICAgIHZhciB1c2VyID0ge307XG5cbiAgICAgICAgdXNlci5uYW1lID0gdS5nZXRQcm9wZXJ0eShcIm5hbWVcIilcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24gPSB7fTtcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24ubmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbi5mdWxsbmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICB1c2VyLmhyID0gdS5nZXRQcm9wZXJ0eShcImhyXCIpXG5cbiAgICAgICAgdXNlci5zb3J0X25vID0gdS5nZXRQcm9wZXJ0eShcInNvcnRfbm9cIilcblxuXHRcdHVzZXIubW9iaWxlID0gdS5nZXRQcm9wZXJ0eShcIm1vYmlsZVwiKVxuXG5cdFx0dXNlci53b3JrX3Bob25lID0gdS5nZXRQcm9wZXJ0eShcIndvcmtfcGhvbmVcIilcblxuXHRcdHVzZXIucG9zaXRpb24gPSB1LmdldFByb3BlcnR5KFwicG9zaXRpb25cIilcblxuICAgICAgICB2YXIgdXNlclJvbGVzID0gdS5nZXRQcm9wZXJ0eShcInJvbGVzXCIpO1xuICAgICAgICB2YXIgcm9sZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdXNlclJvbGVzLmZvckVhY2goZnVuY3Rpb24oaSl7XG4gICAgICAgICAgICByb2xlcyA9IHJvbGVzLmNvbmNhdChpKTtcbiAgICAgICAgfSk7IFxuICAgICAgICByb2xlcy51bmlxKCk7XG4gICAgICAgIHVzZXIucm9sZXMgPSByb2xlcztcbiAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB1O1xuICAgIH1cbn1cblxuRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdCA9IGZ1bmN0aW9uKG8pe1xuXG4gICAgaWYobyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgICAgICAgdmFyIG9yZyA9IHt9O1xuXHRcdG9yZy5pZCA9IG8uZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICAgIG9yZy5uYW1lID0gby5nZXRQcm9wZXJ0eShcIm5hbWVcIik7XG4gICAgICAgIG9yZy5mdWxsbmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICByZXR1cm4gb3JnO1xuICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG59XG5cblxuXG4vKipcbiAgICAqIOiOt+W+l+WFrOW8j+mcgOimgeeUqOWIsOeahOWIneWni+WAvFxuICAgICog6L6T5YWl77yaZmllbGRzLCB2YWx1ZXMsIGFwcGxpY2FudFxuICAgICog6L6T5Ye677yaX192YWx1ZXNcbioqL1xuRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMgPSBmdW5jdGlvbihmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKXtcbiAgICB2YXIgX192YWx1ZXMgPSB7fTtcbiAgICAvL+eUs+ivt+WNleS4reWhq+eahOWAvOWkhOeQhlxuICAgIGlmKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoICYmIGF1dG9Gb3JtRG9jKSB7XG4gICAgICAgIC8vZGVidWdnZXI7XG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKXtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmllbGQudHlwZTtcbiAgICAgICAgICAgIGlmKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICog5bCG6KGo5qC85a2X5q6155qE5YC86L+b6KGM6L2s5o2i5ZCO5Lyg5YWlX192YWx1ZXPkuK1cbiAgICAgICAgICAgICAgICAgICAgKiB2YWx1ZXPkuK3ooajmoLznmoTlgLzmoLzlvI/kuLpcbiAgICAgICAgICAgICAgICAgICAgKiBbe1wiYVwiOjEsXCJiXCI6NH0se1wiYVwiOjIsXCJiXCI6NX0se1wiYVwiOjMsXCJiXCI6Nn1dXG4gICAgICAgICAgICAgICAgICAgICogX192YWx1ZXPpnIDopoHovazljJbkuLrkuIvpnaLmoLzlvI/kuJTlkozkuLvooajnmoTlgLzkuIDmoLfmlL7liLDnrKzkuIDlsYJcbiAgICAgICAgICAgICAgICAgICAgKiB7XCJhXCI6WzEsMiwzXSxcImJcIjpbNCw1LDZdfVxuICAgICAgICAgICAgICAgICAgICAqKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlRmllbGRzID0gZmllbGQuc2ZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdGFibGVWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy/mjInlhazlvI/nmoTmoLzlvI/ovazmjaLlgLzkuLpfX3RhYmxlVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhYmxlRmllbGRzICYmIHRhYmxlRmllbGRzLmxlbmd0aCAmJiB0YWJsZVZhbHVlcyAmJiB0YWJsZVZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlVmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGFUYWJsZVZhbHVlcy5wdXNoKEZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzKHRhYmxlRmllbGRzLCB0YWJsZVZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5oyJ5Li76KGo55qE5qC85byP6L2s5o2iX190YWJsZVZhbHVlc+WKoOWIsFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVGaWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZWZpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RhYmxlVmFsdWVzW3RhYmxlZmllbGQuY29kZV0gPSBmb3JtdWxhVGFibGVWYWx1ZXMuZ2V0RWFjaCh0YWJsZWZpZWxkLmNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlcyA9IEZvcm1fZm9ybXVsYS5taXhpbihfX3ZhbHVlcywgX190YWJsZVZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3VzZXInKXtcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBGb3JtX2Zvcm11bGEuaGFuZGVyVXNlck9iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdKSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2dyb3VwJyl7XG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMoYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0pKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnb2RhdGEnKXtcblx0XHRcdFx0XHRfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdIHx8IHt9XG5cblx0XHRcdFx0fSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy/mraTlpITkvKBzcGFjZUlk57uZ6YCJ5Lq65o6n5Lu255qE5pen5pWw5o2u6K6h566Xcm9sZXPlkoxvcmdhbml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgICAvL+W9k+WJjeWkhOeQhuS6ulxuICAgIF9fdmFsdWVzW1wiYXBwcm92ZXJcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwcm92ZXIpO1xuICAgIC8v55Sz6K+35Lq6XG4gICAgX192YWx1ZXNbXCJhcHBsaWNhbnRcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwbGljYW50KTtcblxuICAgIHJldHVybiBfX3ZhbHVlcztcbn07XG5cbiIsIk1ldGVvci5wdWJsaXNoICdjYXRlZ29yaWVzJywgKHNwYWNlSWQpIC0+XG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCBzcGFjZTogMSwgc29ydF9ubzogMSwgYXBwOiAxIH0gfSkiLCJNZXRlb3IucHVibGlzaCgnY2F0ZWdvcmllcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzb3J0X25vOiAxLFxuICAgICAgYXBwOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiXG5NZXRlb3IucHVibGlzaCAnY2ZzX2luc3RhbmNlcycsIChpbnN0YW5jZUlkcyktPlxuXHRjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkc1xuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IHskaW46IGluc3RhbmNlSWRzfSAsICRvcjogW3snbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHskbmU6IHRydWV9fSx7J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLCBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkfV19KVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Nmc19pbnN0YW5jZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkcykge1xuICBjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG4gICAgICAkaW46IGluc3RhbmNlSWRzXG4gICAgfSxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7XG4gICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLFxuICAgICAgICBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkXG4gICAgICB9XG4gICAgXVxuICB9KTtcbn0pO1xuIiwiXG5cbk1ldGVvci5wdWJsaXNoICdmbG93X3Bvc2l0aW9ucycsIChzcGFjZUlkKS0+XG5cdFxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cdFxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7cm9sZToxLCB1c2VyczogMSwgb3JnOiAxfX0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfcG9zaXRpb25zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICByb2xlOiAxLFxuICAgICAgdXNlcnM6IDEsXG4gICAgICBvcmc6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaENvbXBvc2l0ZSAnZmxvd19wb3NpdGlvbnNfdGFidWxhcicsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHRoaXMudW5ibG9jaygpXG5cblx0ZmluZDogLT5cblx0XHR0aGlzLnVuYmxvY2soKVxuXHRcdGRiLmZsb3dfcG9zaXRpb25zLmZpbmQge19pZDogeyRpbjogaWRzfX0sIGZpZWxkczogZmllbGRzXG5cblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIGZsb3dfcm9sZXNcblx0XHRcdFx0ZGIuZmxvd19yb2xlcy5maW5kIHsgX2lkOiBwb3NpdGlvbi5yb2xlIH0sIGZpZWxkczogbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIG9yZ2FuaXphdGlvbnNcblx0XHRcdFx0ZGIub3JnYW5pemF0aW9ucy5maW5kIHsgX2lkOiBwb3NpdGlvbi5vcmcgfSwgZmllbGRzOiBmdWxsbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IHBvc2l0aW9uLnNwYWNlXG5cdFx0XHRcdFx0dXNlcjogJGluOiBwb3NpdGlvbi51c2Vyc1xuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHR1c2VyOiAxXG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdH1cblx0XSIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlKCdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB0aGlzLnVuYmxvY2soKTtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlkc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLnJvbGVcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLm9yZ1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHBvc2l0aW9uLnNwYWNlLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAkaW46IHBvc2l0aW9uLnVzZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIlxuXG5cdE1ldGVvci5wdWJsaXNoICdmbG93X3JvbGVzJywgKHNwYWNlSWQpLT5cblx0XHRcblx0XHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XHRcblx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0XHRyZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOjF9fSk7XG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19yb2xlcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdCMg56ys5LiA5qyh6K6i6ZiF5pe25Yid5aeL5YyW5bel5L2c5Yy6XG5cdGlmIGRiLmZsb3dzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSkuY291bnQoKSA9PSAwXG5cdFx0ZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7XG5cdFx0ZmllbGRzOiB7XG5cdFx0XHRuYW1lOiAxLFxuXHRcdFx0Zm9ybTogMSxcblx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0cGVybXM6IDEsXG5cdFx0XHRzcGFjZTogMSxcblx0XHRcdGNvbXBhbnlfaWQ6IDEsXG5cdFx0XHRzb3J0X25vOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcblx0XHRcdGRpc3RyaWJ1dGVfdG9fc2VsZjogMVxuXHRcdH1cblx0fSlcblxuXG5NZXRlb3IucHVibGlzaCAnZmxvd192ZXJzaW9uJywgKHNwYWNlSWQsIGZsb3dJZCwgdmVyc2lvbklkKSAtPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGZsb3dJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgdmVyc2lvbklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0Z2V0Rmxvd1ZlcnNpb24gPSAoaWQgLCB2ZXJzaW9uSWQpLT5cblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkIDogaWR9KTtcblx0XHRpZiBmbG93XG5cdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnRcblx0XHRcdGZsb3dfdmVyc2lvbi5sYXRlc3QgPSB0cnVlXG5cblx0XHRcdGlmIGZsb3dfdmVyc2lvbi5faWQgIT0gdmVyc2lvbklkXG5cdFx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpXG5cdFx0XHRcdGZsb3dfdmVyc2lvbi5sYXRlc3QgPSBmYWxzZVxuXG5cdFx0XHRyZXR1cm4gZmxvd192ZXJzaW9uXG5cdGhhbmRsZSA9IGRiLmZsb3dzLmZpbmQoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcblx0fVxuXG5cblx0c2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG5cbk1ldGVvci5wdWJsaXNoICdkaXN0cmlidXRlX29wdGlvbmFsX2Zsb3dzJywgKGZsb3dfaWRzKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd19pZHNcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe19pZDogeyRpbjogZmxvd19pZHN9fSwge1xuXHRcdGZpZWxkczoge1xuXHRcdFx0bmFtZTogMSxcblx0XHRcdGZvcm06IDEsXG5cdFx0XHRzdGF0ZTogMSxcblx0XHRcdHBlcm1zOiAxLFxuXHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuXHRcdFx0Y29tcGFueV9pZDogMVxuXHRcdH1cblx0fSlcblxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3cnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe19pZDogZmxvd0lkLCBzcGFjZTogc3BhY2VJZH0sIHtcblx0XHRmaWVsZHM6IHtcblx0XHRcdHByaW50X3RlbXBsYXRlOiAxLFxuXHRcdFx0aW5zdGFuY2VfdGVtcGxhdGU6IDEsXG5cdFx0XHRldmVudHM6IDEsXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuXHRcdFx0dXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuXHRcdFx0Y29tcGFueV9pZDogMSxcblx0XHRcdGFsbG93X3NlbGVjdF9zdGVwOiAxXG5cdFx0fVxuXHR9KVxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfZmlsZXMnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBjZnMuZmlsZXMuZmluZCh7ICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWQsICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBmbG93SWQgfSlcblxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgJ2Zsb3dzX3RhYnVsYXInLCAodGFibGVOYW1lLCBpZHMsIGZpZWxkcyktPlxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG5cdGNoZWNrKGlkcywgQXJyYXkpO1xuXHRjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR0aGlzLnVuYmxvY2soKVxuXG5cdGZpbmQ6IC0+XG5cdFx0dGhpcy51bmJsb2NrKClcblx0XHRkYi5mbG93cy5maW5kIHtfaWQ6IHskaW46IGlkc319LCBmaWVsZHM6IGZpZWxkc1xuXG5cdGNoaWxkcmVuOiBbXG5cdFx0e1xuXHRcdFx0ZmluZDogKGZsb3cpIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2UsXG5cdFx0XHRcdFx0dXNlcjogZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5XG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdHVzZXI6IDFcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5mb3Jtcy5maW5kIHtcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZSxcblx0XHRcdFx0XHRfaWQ6IGZsb3cuZm9ybVxuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHRfaWQ6IDFcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdGNhdGVnb3J5OiAxXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5jYXRlZ29yaWVzLmZpbmQge1xuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlXG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdF9pZDogMVxuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHR9XG5cdF0iLCJNZXRlb3IucHVibGlzaCgnZmxvd3MnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKGRiLmZsb3dzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICBkYi5zcGFjZXMuY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyhzcGFjZUlkKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHBlcm1zOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBjb21wYW55X2lkOiAxLFxuICAgICAgc29ydF9ubzogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93X3ZlcnNpb24nLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQsIHZlcnNpb25JZCkge1xuICB2YXIgZ2V0Rmxvd1ZlcnNpb24sIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRGbG93VmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uSWQpIHtcbiAgICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9KTtcbiAgICBpZiAoZmxvdykge1xuICAgICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICAgICAgZmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWU7XG4gICAgICBpZiAoZmxvd192ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpO1xuICAgICAgICBmbG93X3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmxvd192ZXJzaW9uO1xuICAgIH1cbiAgfTtcbiAgaGFuZGxlID0gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCBmdW5jdGlvbihmbG93X2lkcykge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGZsb3dfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgcGVybXM6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvdycsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd0lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcHJpbnRfdGVtcGxhdGU6IDEsXG4gICAgICBpbnN0YW5jZV90ZW1wbGF0ZTogMSxcbiAgICAgIGV2ZW50czogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICB1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxLFxuICAgICAgYWxsb3dfc2VsZWN0X3N0ZXA6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93X2ZpbGVzJywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93SWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBjZnMuZmlsZXMuZmluZCh7XG4gICAgJ21ldGFkYXRhLnNwYWNlJzogc3BhY2VJZCxcbiAgICAnbWV0YWRhdGEub2JqZWN0X25hbWUnOiAnZmxvd3MnLFxuICAgICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBmbG93SWRcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUoJ2Zsb3dzX3RhYnVsYXInLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHRoaXMudW5ibG9jaygpO1xuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaWRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgdXNlcjogZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdmb3JtcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCBjYXRlZ29yeTogMSwgc3RhdGU6IDEsIGRlc2NyaXB0aW9uOiAxLCBpbnN0YW5jZV9zdHlsZTogMX19KVxuXG5cbk1ldGVvci5wdWJsaXNoICdmb3JtX3ZlcnNpb24nLCAoc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIC0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZm9ybUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyB2ZXJzaW9uSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRGb3JtVmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQgOiBpZH0pO1xuXHRcdGlmICFmb3JtXG5cdFx0XHRyZXR1cm4ge31cblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcblx0XHRmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZVxuXHRcdGlmIGZvcm1fdmVyc2lvbi5faWQgIT0gdmVyc2lvbklkXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKVxuXHRcdFx0Zm9ybV92ZXJzaW9uLmxhdGVzdCA9IGZhbHNlXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxuXG5cdGhhbmRsZSA9IGRiLmZvcm1zLmZpbmQoe19pZDogZm9ybUlkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcblx0fVxuXG5cdHNlbGYuYWRkZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oZm9ybUlkLCB2ZXJzaW9uSWQpKTtcblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdmb3JtcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGNhdGVnb3J5OiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgIGluc3RhbmNlX3N0eWxlOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZm9ybV92ZXJzaW9uJywgZnVuY3Rpb24oc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIHtcbiAgdmFyIGdldEZvcm1WZXJzaW9uLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmb3JtSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghdmVyc2lvbklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0Rm9ybVZlcnNpb24gPSBmdW5jdGlvbihpZCwgdmVyc2lvbklkKSB7XG4gICAgdmFyIGZvcm0sIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgICBmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKTtcbiAgICAgIGZvcm1fdmVyc2lvbi5sYXRlc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgfTtcbiAgaGFuZGxlID0gZGIuZm9ybXMuZmluZCh7XG4gICAgX2lkOiBmb3JtSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihmb3JtSWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZV9kYXRhJywgKGluc3RhbmNlSWQsIGJveCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIChpbnN0YW5jZUlkICYmIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IGluc3RhbmNlSWR9KS5jb3VudCgpKVxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHRtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJyxcblx0XHQnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nLCAnYXV0b19zdWJtaXR0ZWQnXVxuXG5cdHRyaWdnZXJDaGFuZ2VGaWVsZHMgPSBbJ2Zvcm1fdmVyc2lvbicsICdmbG93X3ZlcnNpb24nLCAncmVsYXRlZF9pbnN0YW5jZXMnLCAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycsICd2YWx1ZXMnXVxuXG5cdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMgPSB7fVxuXG5cdGluc3RhbmNlX2ZpZWxkc18wID0ge1xuXHRcdFwicmVjb3JkX3N5bmNlZFwiOiAwLFxuXG4jXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY29zdF90aW1lXCI6IDAsXG4jXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlYWRfZGF0ZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2Vycm9yXCI6IDAsXG5cdFx0IyBcInRyYWNlcy5hcHByb3Zlcy51c2VyX25hbWVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5kZWFkbGluZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZF9kYXRlXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kZWRfY291bnRcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZF9ieVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZ2VvbG9jYXRpb25cIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5jY191c2Vyc1wiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmZyb21fYXBwcm92ZV9pZFwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnZhbHVlc19oaXN0b3J5XCI6IDBcblx0fVxuXG5cdGdldE15YXBwcm92ZU1vZGlmaWVkID0gKHRyYWNlcyktPlxuXHRcdG15QXBwcm92ZU1vZGlmaWVkcyA9IG5ldyBBcnJheSgpXG5cblx0XHR0cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XG5cdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpLT5cblx0XHRcdFx0aWYgKGFwcHJvdmUudXNlciA9PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT0gc2VsZi51c2VySWQpXG5cdFx0XHRcdCMgJiYgIWFwcHJvdmUuaXNfZmluaXNoZWRcbiNcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJhcHByb3ZlXCIsIGFwcHJvdmUuX2lkLCBhcHByb3ZlLnJlYWRfZGF0ZSlcblxuXHRcdFx0XHRcdG15QXBwcm92ZU1vZGlmaWVkcy5wdXNoKGFwcHJvdmUucmVhZF9kYXRlKVxuXG5cdFx0cmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkc1xuXG5cblx0Z2V0TWluaUluc3RhbmNlID0gKF9pbnN0YW5jZUlkKS0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBfaW5zdGFuY2VJZH0sIHtmaWVsZHM6IGluc3RhbmNlX2ZpZWxkc18wfSlcblxuXHRcdGlmIGluc3RhbmNlXG5cblx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHMuZm9yRWFjaCAoa2V5KS0+XG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcblx0XHRcdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBnZXRNeWFwcHJvdmVNb2RpZmllZChpbnN0YW5jZS50cmFjZXMpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBpbnN0YW5jZVtrZXldXG5cbiNcdFx0XHRoYXNPcGluaW9uRmllbGQgPSBJbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcblxuXHRcdFx0c2hvd19tb2RhbF90cmFjZXNfbGlzdCA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoeyBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCIgfSwgeyBmaWVsZHM6IHsgdmFsdWVzOiAxIH0gfSk/LnZhbHVlcyB8fCBmYWxzZVxuXG5cdFx0XHRpZiBzaG93X21vZGFsX3RyYWNlc19saXN0XG5cblx0XHRcdFx0dHJhY2VzID0gbmV3IEFycmF5KCk7XG5cblx0XHRcdFx0aW5zdGFuY2U/LnRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cblx0XHRcdFx0XHRfdHJhY2UgPSBfLmNsb25lKHRyYWNlKVxuXG5cdFx0XHRcdFx0YXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0XHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKS0+XG5cdFx0XHRcdFx0XHRpZiBhcHByb3ZlLnR5cGUgIT0gJ2NjJyB8fCBhcHByb3ZlLnVzZXIgPT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09IHNlbGYudXNlcklkIHx8ICghXy5pc0VtcHR5KGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSlcblx0XHRcdFx0XHRcdFx0YXBwcm92ZXMucHVzaChhcHByb3ZlKVxuXG5cdFx0XHRcdFx0X3RyYWNlLmFwcHJvdmVzID0gYXBwcm92ZXNcblxuXHRcdFx0XHRcdHRyYWNlcy5wdXNoKF90cmFjZSlcblxuXHRcdFx0XHRpbnN0YW5jZS50cmFjZXMgPSB0cmFjZXM7XG5cblx0XHRyZXR1cm4gaW5zdGFuY2VcblxuXG5cdG5lZWRDaGFuZ2UgPSAoY2hhbmdlRmllbGRzKS0+XG5cdFx0aWYgY2hhbmdlRmllbGRzXG5cblx0XHRcdF9jaGFuZ2UgPSBmYWxzZVxuXG5cdFx0XHRfcmV2ID0gXy5maW5kIHRyaWdnZXJDaGFuZ2VGaWVsZHMsIChrZXkpLT5cblx0XHRcdFx0X2tleSA9IGtleVxuXG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcblx0XHRcdFx0XHRfa2V5ID0gJ3RyYWNlcydcblxuXHRcdFx0XHRpZiBfLmhhcyhjaGFuZ2VGaWVsZHMsIF9rZXkpXG5cblx0XHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXG5cblx0XHRcdFx0XHRcdF9teV9hcHByb3ZlX21vZGlmaWVkcyA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGNoYW5nZUZpZWxkcy50cmFjZXMpXG5cbiNcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcylcblxuXHRcdFx0XHRcdFx0cmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0cmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBjaGFuZ2VGaWVsZHNba2V5XSlcblxuXHRcdFx0aWYgX3JldlxuXHRcdFx0XHRfY2hhbmdlID0gdHJ1ZVxuXG4jXHRcdFx0Y29uc29sZS5sb2coX3JldiwgX2NoYW5nZSlcblxuXHRcdFx0cmV0dXJuIF9jaGFuZ2VcblxuXHRcdHJldHVybiB0cnVlXG5cdCPmraTlpITkuI3og73mt7vliqBmaWVsZHPpmZDliLbvvIzlkKbliJnkvJrlr7zoh7TmlbDmja7kuI3lrp7ml7Zcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogaW5zdGFuY2VJZH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRjaGFuZ2VkOiAoaWQsIGZpZWxkcyktPlxuXHRcdFx0aWYoYm94ICE9ICdpbmJveCcgfHwgbmVlZENoYW5nZShmaWVsZHMpKVxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGdldE1pbmlJbnN0YW5jZShpZCkpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdGluc3RhbmNlID0gZ2V0TWluaUluc3RhbmNlKGluc3RhbmNlSWQpXG5cblx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpbnN0YW5jZT8uX2lkLCBpbnN0YW5jZSk7XG5cblx0c2VsZi5yZWFkeSgpO1xuXG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG5cblxuTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlX3RyYWNlcycsIChpbnN0YW5jZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgaW5zdGFuY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpc1xuXG5cdGdldEluc3RhbmNlVHJhY2VzID0gKF9pbnNJZCktPlxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBfaW5zSWR9LCB7ZmllbGRzOiB7X2lkOiAxLCB0cmFjZXM6IDF9fSlcblxuXG5cdGhhbmRsZSA9ICBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiBpbnN0YW5jZUlkfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcblx0fVxuXG5cdHNlbGYuYWRkZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKCkiLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VfZGF0YScsIGZ1bmN0aW9uKGluc3RhbmNlSWQsIGJveCkge1xuICB2YXIgZ2V0TWluaUluc3RhbmNlLCBnZXRNeWFwcHJvdmVNb2RpZmllZCwgaGFuZGxlLCBpbnN0YW5jZSwgaW5zdGFuY2VfZmllbGRzXzAsIG1pbmlBcHByb3ZlRmllbGRzLCBuZWVkQ2hhbmdlLCBzZWxmLCB0cmlnZ2VyQ2hhbmdlRmllbGRzLCB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIShpbnN0YW5jZUlkICYmIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSkuY291bnQoKSkpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJywgJ2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJywgJ2F1dG9fc3VibWl0dGVkJ107XG4gIHRyaWdnZXJDaGFuZ2VGaWVsZHMgPSBbJ2Zvcm1fdmVyc2lvbicsICdmbG93X3ZlcnNpb24nLCAncmVsYXRlZF9pbnN0YW5jZXMnLCAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycsICd2YWx1ZXMnXTtcbiAgdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcyA9IHt9O1xuICBpbnN0YW5jZV9maWVsZHNfMCA9IHtcbiAgICBcInJlY29yZF9zeW5jZWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25cIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5jb3N0X3RpbWVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19lcnJvclwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmRlYWRsaW5lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kX2RhdGVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRlZF9jb3VudFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkX2J5XCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5nZW9sb2NhdGlvblwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmNjX3VzZXJzXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV9hcHByb3ZlX2lkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMudmFsdWVzX2hpc3RvcnlcIjogMFxuICB9O1xuICBnZXRNeWFwcHJvdmVNb2RpZmllZCA9IGZ1bmN0aW9uKHRyYWNlcykge1xuICAgIHZhciBteUFwcHJvdmVNb2RpZmllZHM7XG4gICAgbXlBcHByb3ZlTW9kaWZpZWRzID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKHRyYWNlcyAhPSBudWxsKSB7XG4gICAgICB0cmFjZXMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgcmVmO1xuICAgICAgICByZXR1cm4gdHJhY2UgIT0gbnVsbCA/IChyZWYgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS51c2VyID09PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT09IHNlbGYudXNlcklkKSB7XG4gICAgICAgICAgICByZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzLnB1c2goYXBwcm92ZS5yZWFkX2RhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkcztcbiAgfTtcbiAgZ2V0TWluaUluc3RhbmNlID0gZnVuY3Rpb24oX2luc3RhbmNlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgcmVmMSwgc2hvd19tb2RhbF90cmFjZXNfbGlzdCwgdHJhY2VzO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBfaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczogaW5zdGFuY2VfZmllbGRzXzBcbiAgICB9KTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIHRyaWdnZXJDaGFuZ2VGaWVsZHMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGluc3RhbmNlLnRyYWNlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGluc3RhbmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2hvd19tb2RhbF90cmFjZXNfbGlzdCA9ICgocmVmID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7XG4gICAgICAgIHNwYWNlOiBpbnN0YW5jZS5zcGFjZSxcbiAgICAgICAga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIlxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB2YWx1ZXM6IDFcbiAgICAgICAgfVxuICAgICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICAgIGlmIChzaG93X21vZGFsX3RyYWNlc19saXN0KSB7XG4gICAgICAgIHRyYWNlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICgocmVmMSA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVmMS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgICAgICAgIHZhciBfdHJhY2UsIGFwcHJvdmVzLCByZWYyO1xuICAgICAgICAgICAgICBfdHJhY2UgPSBfLmNsb25lKHRyYWNlKTtcbiAgICAgICAgICAgICAgYXBwcm92ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlZjIgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVmMi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcHJvdmUudHlwZSAhPT0gJ2NjJyB8fCBhcHByb3ZlLnVzZXIgPT09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PT0gc2VsZi51c2VySWQgfHwgKCFfLmlzRW1wdHkoYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHByb3Zlcy5wdXNoKGFwcHJvdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3RyYWNlLmFwcHJvdmVzID0gYXBwcm92ZXM7XG4gICAgICAgICAgICAgIHJldHVybiB0cmFjZXMucHVzaChfdHJhY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuICBuZWVkQ2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlRmllbGRzKSB7XG4gICAgdmFyIF9jaGFuZ2UsIF9yZXY7XG4gICAgaWYgKGNoYW5nZUZpZWxkcykge1xuICAgICAgX2NoYW5nZSA9IGZhbHNlO1xuICAgICAgX3JldiA9IF8uZmluZCh0cmlnZ2VyQ2hhbmdlRmllbGRzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIF9rZXksIF9teV9hcHByb3ZlX21vZGlmaWVkcztcbiAgICAgICAgX2tleSA9IGtleTtcbiAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgX2tleSA9ICd0cmFjZXMnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLmhhcyhjaGFuZ2VGaWVsZHMsIF9rZXkpKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgICBfbXlfYXBwcm92ZV9tb2RpZmllZHMgPSBnZXRNeWFwcHJvdmVNb2RpZmllZChjaGFuZ2VGaWVsZHMudHJhY2VzKTtcbiAgICAgICAgICAgIHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBjaGFuZ2VGaWVsZHNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChfcmV2KSB7XG4gICAgICAgIF9jaGFuZ2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9jaGFuZ2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICBpZiAoYm94ICE9PSAnaW5ib3gnIHx8IG5lZWRDaGFuZ2UoZmllbGRzKSkge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBnZXRNaW5pSW5zdGFuY2UoaWQpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcbiAgICB9XG4gIH0pO1xuICBpbnN0YW5jZSA9IGdldE1pbmlJbnN0YW5jZShpbnN0YW5jZUlkKTtcbiAgc2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2UuX2lkIDogdm9pZCAwLCBpbnN0YW5jZSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnaW5zdGFuY2VfdHJhY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZCkge1xuICB2YXIgZ2V0SW5zdGFuY2VUcmFjZXMsIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0SW5zdGFuY2VUcmFjZXMgPSBmdW5jdGlvbihfaW5zSWQpIHtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBfaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuICAgIH1cbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIlxuXHRNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VzX2xpc3QnLCAoc3BhY2VJZCwgYm94LCBmbG93SWQpLT5cblxuXHRcdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXHRcdFxuXHRcdHVubGVzcyBzcGFjZUlkXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0XHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblx0XHRpZiBib3ggPT0gXCJpbmJveFwiXG5cdFx0XHRxdWVyeS5pbmJveF91c2VycyA9IHRoaXMudXNlcklkO1xuXHRcdGVsc2UgaWYgYm94ID09IFwib3V0Ym94XCJcblx0XHRcdHF1ZXJ5Lm91dGJveF91c2VycyA9IHRoaXMudXNlcklkO1xuXHRcdGVsc2UgaWYgYm94ID09IFwiZHJhZnRcIlxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIlxuXHRcdGVsc2UgaWYgYm94ID09IFwicGVuZGluZ1wiXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJwZW5kaW5nXCJcblx0XHRlbHNlIGlmIGJveCA9PSBcImNvbXBsZXRlZFwiXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIlxuXHRcdGVsc2UgaWYgYm94ID09IFwibW9uaXRvclwiXG5cdFx0XHRxdWVyeS5mbG93ID0gZmxvd0lkO1xuXHRcdFx0cXVlcnkuc3RhdGUgPSB7JGluOiBbXCJwZW5kaW5nXCIsXCJjb21wbGV0ZWRcIl19O1xuXHRcdGVsc2Vcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJub25lXCJcblxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge25hbWU6MSwgY3JlYXRlZDoxLCBmb3JtOjEsIGZsb3c6IDEsIHNwYWNlOjEsIG1vZGlmaWVkOjEsIGFwcGxpY2FudDogMSwgaXNfYXJjaGl2ZWQ6MSwgZm9ybV92ZXJzaW9uOiAxLCBmbG93X3ZlcnNpb246IDF9fSlcblxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlc19saXN0JywgZnVuY3Rpb24oc3BhY2VJZCwgYm94LCBmbG93SWQpIHtcbiAgdmFyIHF1ZXJ5O1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGlmIChib3ggPT09IFwiaW5ib3hcIikge1xuICAgIHF1ZXJ5LmluYm94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm91dGJveFwiKSB7XG4gICAgcXVlcnkub3V0Ym94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwicGVuZGluZ1wiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm1vbml0b3JcIikge1xuICAgIHF1ZXJ5LmZsb3cgPSBmbG93SWQ7XG4gICAgcXVlcnkuc3RhdGUgPSB7XG4gICAgICAkaW46IFtcInBlbmRpbmdcIiwgXCJjb21wbGV0ZWRcIl1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJub25lXCI7XG4gIH1cbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgY3JlYXRlZDogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBmbG93OiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBtb2RpZmllZDogMSxcbiAgICAgIGFwcGxpY2FudDogMSxcbiAgICAgIGlzX2FyY2hpdmVkOiAxLFxuICAgICAgZm9ybV92ZXJzaW9uOiAxLFxuICAgICAgZmxvd192ZXJzaW9uOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwibGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSA9IChpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKS0+XG5cdG9wZXJhdGlvbiA9IFt7XG5cdFx0XCIkbWF0Y2hcIjoge1xuXHRcdFx0XCJfaWRcIjogaW5zdGFuY2VpZFxuXHRcdH1cblx0fSwge1wiJHByb2plY3RcIjoge1wibmFtZVwiOiAxLCBcIl9hcHByb3ZlXCI6IFwiJHRyYWNlcy5hcHByb3Zlc1wifX0sIHtcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIn0sIHtcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIn0sXG5cdFx0e1wiJG1hdGNoXCI6IHtcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsICRvcjpbe1wiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWR9LHtcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkfV19fSxcblx0XHR7XCIkZ3JvdXBcIjoge1wiX2lkXCI6IFwiJF9pZFwiLCBcImZpbmlzaF9kYXRlXCI6IHtcIiRsYXN0XCI6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJ9fX1cblx0XVxuXG5cdGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKG9wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKS0+XG5cdFx0aWYgZXJyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXG5cdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRkYXRhTWFwLnB1c2ggZG9jXG5cblx0XHRpZiBjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spXG5cdFx0XHRjYWxsYmFjaygpXG5cdFx0cmV0dXJuXG5cbmFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSA9IE1ldGVvci53cmFwQXN5bmMobGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSlcblxuTWV0ZW9yLnB1Ymxpc2ggXCJpbnN0YW5jZV90YWJ1bGFyXCIsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG5cblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKVxuXG5cdGZpZWxkcy5jY191c2VycyA9IDFcblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUgPSAodXNlcklkLCBpbnN0YW5jZUlkKS0+XG5cdFx0ZGF0YSA9IFtdXG5cdFx0YXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlKGluc3RhbmNlSWQsIHVzZXJJZCwgZGF0YSlcblx0XHRpZiBkYXRhLmxlbmd0aCA+IDBcblx0XHRcdHJldHVybiBkYXRhWzBdXG5cblxuXHRnZXRNeUFwcHJvdmUgPSAodXNlcklkLCBpbnN0YW5jZUlkKS0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSwge2ZpZWxkczoge3RyYWNlczogMX19KVxuXHRcdG15QXBwcm92ZSA9IG51bGxcblxuXHRcdGlmICFpbnN0YW5jZVxuXHRcdFx0cmV0dXJuXG5cblx0XHRpZiAhaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxXG5cdFx0XHRyZXR1cm5cblxuXHRcdG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpXG5cblx0XHRpZiBub3RGaW5pc2hlZFRyYWNlcy5sZW5ndGggPiAwXG5cdFx0XHRhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xuXG5cdFx0XHRpZiBhcHByb3Zlcy5sZW5ndGggPiAwXG5cdFx0XHRcdGFwcHJvdmUgPSBhcHByb3Zlc1swXVxuXHRcdFx0XHRteUFwcHJvdmUgPSB7XG5cdFx0XHRcdFx0aWQ6IGFwcHJvdmUuX2lkLFxuXHRcdFx0XHRcdGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxuXHRcdFx0XHRcdHRyYWNlOiBhcHByb3ZlLnRyYWNlLFxuXHRcdFx0XHRcdGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcblx0XHRcdFx0XHRzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRhZ2VudDogYXBwcm92ZS5hZ2VudFxuXHRcdFx0XHRcdHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWVcblx0XHRcdFx0fVxuXG5cdFx0aWYgIW15QXBwcm92ZVxuXHRcdFx0aXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRpbnN0YW5jZS50cmFjZXMuZm9yRWFjaCAodHJhY2UpIC0+XG5cdFx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSkgLT5cblx0XHRcdFx0XHRpZiBhcHByb3ZlLnR5cGUgPT0gJ2NjJyBhbmQgYXBwcm92ZS51c2VyID09IHVzZXJJZCBhbmQgYXBwcm92ZS5pc19maW5pc2hlZCA9PSBmYWxzZVxuXHRcdFx0XHRcdFx0aWYgYXBwcm92ZS5pc19yZWFkXG5cdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRteUFwcHJvdmUgPSB7aWQ6IGFwcHJvdmUuX2lkLCBpc19yZWFkOiBpc19yZWFkLCBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsIGFnZW50OiBhcHByb3ZlLmFnZW50LCB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lfVxuXG5cdFx0cmV0dXJuIG15QXBwcm92ZVxuXG5cdGdldFN0ZXBDdXJyZW50TmFtZSA9IChpbnN0YW5jZUlkKSAtPlxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0sIHtmaWVsZHM6IHtcInRyYWNlcy5uYW1lXCI6IDEsIFwidHJhY2VzXCI6IHskc2xpY2U6IC0xfX19KVxuXHRcdGlmIGluc3RhbmNlXG5cdFx0XHRzdGVwQ3VycmVudE5hbWUgPSBpbnN0YW5jZS50cmFjZXM/WzBdPy5uYW1lXG5cblx0XHRyZXR1cm4gc3RlcEN1cnJlbnROYW1lXG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaWRzfX0sIHtmaWVsZHM6IHt0cmFjZXM6IDB9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdFx0bXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRcdGlmIG15QXBwcm92ZVxuXHRcdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWRcblx0XHRcdFx0aW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRcdGlmIG15QXBwcm92ZS5hZ2VudFxuXHRcdFx0XHRcdGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWVcblx0XHRcdGVsc2Vcblx0XHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IHRydWVcblxuXHRcdFx0aWYgbXlMYXN0RmluaXNoZWRBcHByb3ZlXG5cdFx0XHRcdGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlXG5cblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0aW5zdGFuY2UuY2NfY291bnQgPSBpbnN0YW5jZS5jY191c2Vycz8ubGVuZ3RoIHx8IDBcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0dHJ5XG5cdFx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXHRcdFx0Y2F0Y2ggZXJyb3Jcblx0XHRcdFx0Y29uc29sZS5sb2coJ2luc3RhbmNlIG9ic2VydmVDaGFuZ2VzIGVycm9yOiAnLCBlcnJvci5tZXNzYWdlKTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ3NlbGYudXNlcklkOiAnLCBzZWxmLnVzZXJJZCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCd0YWJsZU5hbWU6ICcsIHRhYmxlTmFtZSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdpZHM6ICcsIEpTT04uc3RyaW5naWZ5KGlkcykpO1xuXHRcdFx0XHRjb25zb2xlLmxvZygnbXlBcHByb3ZlOiAnLCBKU09OLnN0cmluZ2lmeShteUFwcHJvdmUpKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRpZHMuZm9yRWFjaCAoaWQpLT5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0bXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdGlmIG15QXBwcm92ZVxuXHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkXG5cdFx0XHRpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdGlmIG15QXBwcm92ZS5hZ2VudFxuXHRcdFx0XHRcdGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWVcblx0XHRlbHNlXG5cdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZVxuXG5cdFx0aWYgbXlMYXN0RmluaXNoZWRBcHByb3ZlXG5cdFx0XHRpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZVxuXG5cdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0aW5zdGFuY2UuY2NfY291bnQgPSBpbnN0YW5jZS5jY191c2Vycz8ubGVuZ3RoIHx8IDBcblx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuXG5NZXRlb3IucHVibGlzaCBcImluc3RhbmNlX3Rhc2tzX3RhYnVsYXJcIiwgKHRhYnVsYXJOYW1lLCBpZHMsIGZpZWxkcyktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0Y2hlY2sodGFidWxhck5hbWUsIFN0cmluZyk7XG5cblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKVxuXG5cdCMgY29uc29sZS5sb2coJ3RhYnVsYXJOYW1lOiAnLCB0YWJ1bGFyTmFtZSk7XG5cdCMgY29uc29sZS5sb2coJ2lkczogJywgSlNPTi5zdHJpbmdpZnkoaWRzKSk7XG5cdCMgY29uc29sZS5sb2coJ2ZpZWxkczogJywgSlNPTi5zdHJpbmdpZnkoZmllbGRzKSk7XG5cblx0ZGIuaW5zdGFuY2VfdGFza3MuZmluZCh7XG5cdFx0X2lkOiB7XG5cdFx0XHQkaW46IGlkc1xuXHRcdH1cblx0fSwge1xuXHRcdGZpZWxkczogZmllbGRzXG5cdH0pXG5cbk1ldGVvci5wdWJsaXNoIFwiaW5zdGFuY2VzX3RhYnVsYXJcIiwgKHRhYnVsYXJOYW1lLCBpZHMsIGZpZWxkcyktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0Y2hlY2sodGFidWxhck5hbWUsIFN0cmluZyk7XG5cblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKVxuXG5cdCMgY29uc29sZS5sb2coJ3RhYnVsYXJOYW1lOiAnLCB0YWJ1bGFyTmFtZSk7XG5cdCMgY29uc29sZS5sb2coJ2lkczogJywgSlNPTi5zdHJpbmdpZnkoaWRzKSk7XG5cdCMgY29uc29sZS5sb2coJ2ZpZWxkczogJywgSlNPTi5zdHJpbmdpZnkoZmllbGRzKSk7XG5cblx0ZGIuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdF9pZDoge1xuXHRcdFx0JGluOiBpZHNcblx0XHR9XG5cdH0sIHtcblx0XHRmaWVsZHM6IGZpZWxkc1xuXHR9KSIsInZhciBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUsIGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGU7XG5cbmxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUgPSBmdW5jdGlvbihpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKSB7XG4gIHZhciBvcGVyYXRpb247XG4gIG9wZXJhdGlvbiA9IFtcbiAgICB7XG4gICAgICBcIiRtYXRjaFwiOiB7XG4gICAgICAgIFwiX2lkXCI6IGluc3RhbmNlaWRcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiRwcm9qZWN0XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IDEsXG4gICAgICAgIFwiX2FwcHJvdmVcIjogXCIkdHJhY2VzLmFwcHJvdmVzXCJcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIlxuICAgIH0sIHtcbiAgICAgIFwiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwiXG4gICAgfSwge1xuICAgICAgXCIkbWF0Y2hcIjoge1xuICAgICAgICBcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgXCIkZ3JvdXBcIjoge1xuICAgICAgICBcIl9pZFwiOiBcIiRfaWRcIixcbiAgICAgICAgXCJmaW5pc2hfZGF0ZVwiOiB7XG4gICAgICAgICAgXCIkbGFzdFwiOiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF07XG4gIHJldHVybiBkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShvcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBkYXRhTWFwLnB1c2goZG9jKTtcbiAgICB9KTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufTtcblxuYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlID0gTWV0ZW9yLndyYXBBc3luYyhsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlKTtcblxuTWV0ZW9yLnB1Ymxpc2goXCJpbnN0YW5jZV90YWJ1bGFyXCIsIGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgdmFyIGdldE15QXBwcm92ZSwgZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlLCBnZXRTdGVwQ3VycmVudE5hbWUsIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgY2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgZmllbGRzLmNjX3VzZXJzID0gMTtcbiAgc2VsZiA9IHRoaXM7XG4gIGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBkYXRhO1xuICAgIGRhdGEgPSBbXTtcbiAgICBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUoaW5zdGFuY2VJZCwgdXNlcklkLCBkYXRhKTtcbiAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZGF0YVswXTtcbiAgICB9XG4gIH07XG4gIGdldE15QXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBhcHByb3ZlLCBhcHByb3ZlcywgaW5zdGFuY2UsIGlzX3JlYWQsIG15QXBwcm92ZSwgbm90RmluaXNoZWRUcmFjZXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgbXlBcHByb3ZlID0gbnVsbDtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpO1xuICAgIGlmIChub3RGaW5pc2hlZFRyYWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xuICAgICAgaWYgKGFwcHJvdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXBwcm92ZSA9IGFwcHJvdmVzWzBdO1xuICAgICAgICBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgIGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxuICAgICAgICAgIHRyYWNlOiBhcHByb3ZlLnRyYWNlLFxuICAgICAgICAgIGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcbiAgICAgICAgICBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsXG4gICAgICAgICAgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsXG4gICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW15QXBwcm92ZSkge1xuICAgICAgaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgaW5zdGFuY2UudHJhY2VzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgcmV0dXJuIHRyYWNlICE9IG51bGwgPyAocmVmID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyAmJiBhcHByb3ZlLnVzZXIgPT09IHVzZXJJZCAmJiBhcHByb3ZlLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKGFwcHJvdmUuaXNfcmVhZCkge1xuICAgICAgICAgICAgICBpc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgICAgIGlkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICAgICAgaXNfcmVhZDogaXNfcmVhZCxcbiAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLFxuICAgICAgICAgICAgICBhZ2VudDogYXBwcm92ZS5hZ2VudCxcbiAgICAgICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBteUFwcHJvdmU7XG4gIH07XG4gIGdldFN0ZXBDdXJyZW50TmFtZSA9IGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgcmVmMSwgc3RlcEN1cnJlbnROYW1lO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXNcIjoge1xuICAgICAgICAgICRzbGljZTogLTFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgc3RlcEN1cnJlbnROYW1lID0gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IChyZWYxID0gcmVmWzBdKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RlcEN1cnJlbnROYW1lO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGlkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgdHJhY2VzOiAwXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBlcnJvciwgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlMYXN0RmluaXNoZWRBcHByb3ZlLCByZWYsIHJlZjE7XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IGZpZWxkc1xuICAgICAgfSk7XG4gICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgICAgbXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZDtcbiAgICAgICAgaW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICBpZiAobXlBcHByb3ZlLmFnZW50KSB7XG4gICAgICAgICAgaW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobXlMYXN0RmluaXNoZWRBcHByb3ZlKSB7XG4gICAgICAgIGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2UuaXNfY2MgPSAoKHJlZiA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKHNlbGYudXNlcklkKSA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgICBpbnN0YW5jZS5jY19jb3VudCA9ICgocmVmMSA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDApIHx8IDA7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICAgICAgZXJyb3IgPSBlcnJvcjE7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpbnN0YW5jZSBvYnNlcnZlQ2hhbmdlcyBlcnJvcjogJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZWxmLnVzZXJJZDogJywgc2VsZi51c2VySWQpO1xuICAgICAgICBjb25zb2xlLmxvZygndGFibGVOYW1lOiAnLCB0YWJsZU5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZygnaWRzOiAnLCBKU09OLnN0cmluZ2lmeShpZHMpKTtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdteUFwcHJvdmU6ICcsIEpTT04uc3RyaW5naWZ5KG15QXBwcm92ZSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuICAgIH1cbiAgfSk7XG4gIGlkcy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15TGFzdEZpbmlzaGVkQXBwcm92ZSwgcmVmLCByZWYxO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczogZmllbGRzXG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWQ7XG4gICAgICBpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICBpZiAobXlBcHByb3ZlLmFnZW50KSB7XG4gICAgICAgIGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobXlMYXN0RmluaXNoZWRBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZTtcbiAgICB9XG4gICAgaW5zdGFuY2UuaXNfY2MgPSAoKHJlZiA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKHNlbGYudXNlcklkKSA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgaW5zdGFuY2UuY2NfY291bnQgPSAoKHJlZjEgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICAgIGRlbGV0ZSBpbnN0YW5jZS5jY191c2VycztcbiAgICByZXR1cm4gc2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuICB9KTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKFwiaW5zdGFuY2VfdGFza3NfdGFidWxhclwiLCBmdW5jdGlvbih0YWJ1bGFyTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgY2hlY2sodGFidWxhck5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICByZXR1cm4gZGIuaW5zdGFuY2VfdGFza3MuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGlkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczogZmllbGRzXG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKFwiaW5zdGFuY2VzX3RhYnVsYXJcIiwgZnVuY3Rpb24odGFidWxhck5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGNoZWNrKHRhYnVsYXJOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiBmaWVsZHNcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZXNfZHJhZnQnLCAoc3BhY2VJZCkgLT5cblx0Y2hlY2sgc3BhY2VJZCwgU3RyaW5nXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVzZXJJZCA9IHRoaXMudXNlcklkXG5cdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7c3RhdGU6XCJkcmFmdFwiLHNwYWNlOnNwYWNlSWQsc3VibWl0dGVyOnVzZXJJZCwkb3I6W3tpbmJveF91c2VyczogeyRleGlzdHM6ZmFsc2V9fSwge2luYm94X3VzZXJzOiBbXX1dfSwge2ZpZWxkczoge19pZDogMSwgc3RhdGU6IDEsIHNwYWNlOiAxLCBzdWJtaXR0ZXI6IDEsIGluYm94X3VzZXJzOiAxLCBtb2RpZmllZDogMSwgbmFtZTogMX0sIHNvcnQ6e21vZGlmaWVkOiAtMX19KSIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZXNfZHJhZnQnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIHZhciB1c2VySWQ7XG4gIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHVzZXJJZCA9IHRoaXMudXNlcklkO1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIHN0YXRlOiBcImRyYWZ0XCIsXG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgc3VibWl0dGVyOiB1c2VySWQsXG4gICAgJG9yOiBbXG4gICAgICB7XG4gICAgICAgIGluYm94X3VzZXJzOiB7XG4gICAgICAgICAgJGV4aXN0czogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBpbmJveF91c2VyczogW11cbiAgICAgIH1cbiAgICBdXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzdWJtaXR0ZXI6IDEsXG4gICAgICBpbmJveF91c2VyczogMSxcbiAgICAgIG1vZGlmaWVkOiAxLFxuICAgICAgbmFtZTogMVxuICAgIH0sXG4gICAgc29ydDoge1xuICAgICAgbW9kaWZpZWQ6IC0xXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Rpc3RyaWJ1dGVkX2luc3RhbmNlc19zdGF0ZV9ieV9pZHMnLCAoaW5zdGFuY2VfaWRzKS0+XG5cdGNoZWNrKGluc3RhbmNlX2lkcywgQXJyYXkpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXHRcblx0dW5sZXNzIGluc3RhbmNlX2lkc1xuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRpZiBfLmlzRW1wdHkoaW5zdGFuY2VfaWRzKVxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpc1xuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGluc3RhbmNlX2lkc319LCB7ZmllbGRzOiB7c3RhdGU6IDEsIHRyYWNlczp7JHNsaWNlOiAxfSB9IH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRhZGRlZDogKGlkLCBmaWVsZHMpLT5cblx0XHRcdHNlbGYuYWRkZWQoJ2luc3RhbmNlcycsIGlkLCB7c3RhdGU6IGZpZWxkcy5zdGF0ZSwgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkfSlcblxuXHRcdGNoYW5nZWQ6IChpZCwgZmllbGRzKS0+XG5cdFx0XHRpZiBmaWVsZHMuc3RhdGVcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge3N0YXRlOiBmaWVsZHMuc3RhdGV9KVxuXHRcdFx0aWYgZmllbGRzLnRyYWNlc1xuXHRcdFx0XHRzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7aXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkfSlcblx0fVxuXG5cdHRoaXMucmVhZHkoKVxuXHR0aGlzLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVkX2luc3RhbmNlc19zdGF0ZV9ieV9pZHMnLCBmdW5jdGlvbihpbnN0YW5jZV9pZHMpIHtcbiAgdmFyIGhhbmRsZSwgc2VsZjtcbiAgY2hlY2soaW5zdGFuY2VfaWRzLCBBcnJheSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoXy5pc0VtcHR5KGluc3RhbmNlX2lkcykpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGluc3RhbmNlX2lkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgc3RhdGU6IDEsXG4gICAgICB0cmFjZXM6IHtcbiAgICAgICAgJHNsaWNlOiAxXG4gICAgICB9XG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgYWRkZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIHJldHVybiBzZWxmLmFkZGVkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICBzdGF0ZTogZmllbGRzLnN0YXRlLFxuICAgICAgICBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgaWYgKGZpZWxkcy5zdGF0ZSkge1xuICAgICAgICBzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgICAgc3RhdGU6IGZpZWxkcy5zdGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWVsZHMudHJhY2VzKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgICAgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRoaXMucmVhZHkoKTtcbiAgcmV0dXJuIHRoaXMub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ3JlbGF0ZWRfaW5zdGFjZXMnLCAoaW5zdGFuY2VJZCwgcmVsYXRlZF9pbnN0YW5jZXMpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJlbGF0ZWRfaW5zdGFuY2VfaWRzID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCx7ZmllbGRzOiB7cmVsYXRlZF9pbnN0YW5jZXM6IDF9fSk/LnJlbGF0ZWRfaW5zdGFuY2VzXG5cblx0aWYgcmVsYXRlZF9pbnN0YW5jZV9pZHMgJiYgXy5pc0FycmF5KHJlbGF0ZWRfaW5zdGFuY2VfaWRzKVxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluIDogcmVsYXRlZF9pbnN0YW5jZV9pZHN9fSwge2ZpZWxkczoge19pZDogMSwgbmFtZTogMSwgc3BhY2U6IDF9fSlcblx0ZWxzZVxuXHRcdHJldHVybiB0aGlzLnJlYWR5KCkiLCJNZXRlb3IucHVibGlzaCgncmVsYXRlZF9pbnN0YWNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWQsIHJlbGF0ZWRfaW5zdGFuY2VzKSB7XG4gIHZhciByZWYsIHJlbGF0ZWRfaW5zdGFuY2VfaWRzO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJlbGF0ZWRfaW5zdGFuY2VfaWRzID0gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQsIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHJlbGF0ZWRfaW5zdGFuY2VzOiAxXG4gICAgfVxuICB9KSkgIT0gbnVsbCA/IHJlZi5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMDtcbiAgaWYgKHJlbGF0ZWRfaW5zdGFuY2VfaWRzICYmIF8uaXNBcnJheShyZWxhdGVkX2luc3RhbmNlX2lkcykpIHtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogcmVsYXRlZF9pbnN0YW5jZV9pZHNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbn0pO1xuIiwiaWYgTWV0ZW9yLmlzU2VydmVyXG4gICAgTWV0ZW9yLnB1Ymxpc2ggJ3NwYWNlX3VzZXJfc2lnbnMnLCAoc3BhY2VJZCkgLT5cbiAgICAgICAgY2hlY2sgc3BhY2VJZCwgU3RyaW5nXG5cbiAgICAgICAgdW5sZXNzIHRoaXMudXNlcklkXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkeSgpXG5cbiAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0sIHtmaWVsZHM6IHtjcmVhdGVkX2J5OiAwLCBjcmVhdGVkOiAwLCBtb2RpZmllZF9ieTogMH19KVxuIiwiaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBNZXRlb3IucHVibGlzaCgnc3BhY2VfdXNlcl9zaWducycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gICAgfVxuICAgIHJldHVybiBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY3JlYXRlZF9ieTogMCxcbiAgICAgICAgY3JlYXRlZDogMCxcbiAgICAgICAgbW9kaWZpZWRfYnk6IDBcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG4iLCIjIyNcbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlIFwidXNlcl9pbmJveF9pbnN0YW5jZVwiLCAoKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblx0cXVlcnkgPSB7c3BhY2U6IHskaW46IHVzZXJTcGFjZUlkc319XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaW5kOiAtPlxuXHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdFx0XHRmbG93OiAxLFxuXHRcdFx0XHRpbmJveF91c2VyczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRtb2RpZmllZDogMSxcblx0XHRcdFx0Zm9ybTogMVxuXHRcdFx0fSwgc29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiAyMDBcblx0XHR9KTtcblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAoaW5zdGFuY2UsIHBvc3QpLT5cblx0XHRcdFx0ZGIuZmxvd3MuZmluZCh7X2lkOiBpbnN0YW5jZS5mbG93fSwge2ZpZWxkczoge25hbWU6IDEsIHNwYWNlOiAxfX0pO1xuXHRcdH1cblx0XVxuIyMjXG5cbiMjI1xuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2luc3RhbmNlcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHQjXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0I1x0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0I1x0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdCNcdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpZWxkcyA9IHtcblx0XHRzcGFjZTogMSxcbiNcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0ZmxvdzogMSxcblx0XHRpbmJveF91c2VyczogMSxcblx0XHRjY191c2VyczogMSxcblx0XHRzdGF0ZTogMSxcbiNcdFx0bmFtZTogMSxcbiNcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0Zm9ybTogMVxuXHR9XG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRhZGRlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSlcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcbiMjI1xuXG5fZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IChzcGFjZUlkLCB1c2VySWQsIF9pdGVtcywgY2FsbGJhY2spLT5cblx0ZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoW1xuXHRcdHtcblx0XHRcdCRtYXRjaDoge1xuXHRcdFx0XHRzcGFjZTogc3BhY2VJZCxcblx0XHRcdFx0JG9yOiBbe2luYm94X3VzZXJzOiB1c2VySWR9LCB7Y2NfdXNlcnM6IHVzZXJJZH1dXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7XG5cdFx0XHQkZ3JvdXA6IHtcblx0XHRcdFx0X2lkOiB7ZmxvdzogXCIkZmxvd1wiLCBjYXRlZ29yeTogXCIkY2F0ZWdvcnlcIn0sIGNvdW50OiB7JHN1bTogMX1cblx0XHRcdH1cblx0XHR9XG5cdF0pLnRvQXJyYXkgKGVyciwgZGF0YSktPlxuXHRcdGlmIGVyclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcblxuXHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxuXHRcdFx0X2l0ZW1zLnB1c2ggZG9jXG5cblx0XHRpZiBjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spXG5cdFx0XHRjYWxsYmFjaygpXG5cdFx0cmV0dXJuXG5cbl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSlcblxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2Zsb3dfaW5zdGFuY2VzX2NvdW50JywgKHNwYWNlSWQpLT5cblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRkYXRhID0gW10gICPmlbDmja7moLzlvI/vvJpbe19pZDpmbG93SWQsIGNvdW50OiDlvoXlip7mlbDph499LCB7X2lkOmZsb3dJZDIsIGNvdW50OiDlvoXlip7mlbDph48yfV1cblx0X2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUoc3BhY2VJZCwgc2VsZi51c2VySWQsIGRhdGEpXG5cblx0X2Zsb3dzRGF0YSA9IFtdXG5cblx0Xy5lYWNoIGRhdGEsIChkYXRhSXRlbSktPlxuXHRcdF9mbG93c0RhdGEucHVzaCh7X2lkOiBkYXRhSXRlbS5faWQuZmxvdywgY2F0ZWdvcnk6IGRhdGFJdGVtLl9pZC5jYXRlZ29yeSwgY291bnQ6IGRhdGFJdGVtLmNvdW50fSlcblxuXHRzZWxmLmFkZGVkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge2Zsb3dzOiBfZmxvd3NEYXRhfSk7XG5cblx0X2NoYW5nZURhdGEgPSAoZG9jLCBhY3Rpb24pLT5cblx0XHRmbG93X2luc3RhbmNlID0gXy5maW5kIF9mbG93c0RhdGEsIChmKS0+XG5cdFx0XHRyZXR1cm4gZi5faWQgPT0gZG9jLmZsb3dcblx0XHRpZiBmbG93X2luc3RhbmNlXG5cdFx0XHRpZiBhY3Rpb24gPT0gXCJhZGRlZFwiXG5cdFx0XHRcdGZsb3dfaW5zdGFuY2UuY291bnQrK1xuXHRcdFx0ZWxzZSBpZiBhY3Rpb24gPT0gXCJyZW1vdmVkXCJcblx0XHRcdFx0Zmxvd19pbnN0YW5jZS5jb3VudC0tXG5cdFx0ZWxzZSBpZiBhY3Rpb24gPT0gXCJhZGRlZFwiXG5cdFx0XHRfZmxvd3NEYXRhLnB1c2gge19pZDogZG9jLmZsb3csIGNhdGVnb3J5OiBkb2MuY2F0ZWdvcnksIGNvdW50OiAxfVxuXG5cdFx0c2VsZi5jaGFuZ2VkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge2Zsb3dzOiBfZmxvd3NEYXRhfSk7XG5cblx0X2luaXQgPSB0cnVlXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7X2lkOiAxLCBpbmJveF91c2VyczogMSwgY2NfdXNlcnM6IDEsIGZsb3c6IDEsIGNhdGVnb3J5OiAxfX0pLm9ic2VydmUge1xuXHRcdGFkZGVkOiAoZG9jKS0+XG5cdFx0XHRpZiAhX2luaXRcblx0XHRcdFx0X2NoYW5nZURhdGEoZG9jLCBcImFkZGVkXCIpXG5cdFx0cmVtb3ZlZDogKGRvYyktPlxuXHRcdFx0aWYgIV9pbml0XG5cdFx0XHRcdF9jaGFuZ2VEYXRhKGRvYywgXCJyZW1vdmVkXCIpXG5cdH1cblx0X2luaXQgPSBmYWxzZVxuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKCkiLCJcbi8qXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSBcInVzZXJfaW5ib3hfaW5zdGFuY2VcIiwgKCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cdHF1ZXJ5ID0ge3NwYWNlOiB7JGluOiB1c2VyU3BhY2VJZHN9fVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmluZDogLT5cblx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRcdFx0ZmxvdzogMSxcblx0XHRcdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHRzdGF0ZTogMSxcblx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0XHRcdGZvcm06IDFcblx0XHRcdH0sIHNvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogMjAwXG5cdFx0fSk7XG5cdGNoaWxkcmVuOiBbXG5cdFx0e1xuXHRcdFx0ZmluZDogKGluc3RhbmNlLCBwb3N0KS0+XG5cdFx0XHRcdGRiLmZsb3dzLmZpbmQoe19pZDogaW5zdGFuY2UuZmxvd30sIHtmaWVsZHM6IHtuYW1lOiAxLCBzcGFjZTogMX19KTtcblx0XHR9XG5cdF1cbiAqL1xuXG4vKlxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2luc3RhbmNlcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHQgKlx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdCAqXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHQgKlx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdCAqXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaWVsZHMgPSB7XG5cdFx0c3BhY2U6IDEsXG4gKlx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRmbG93OiAxLFxuXHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdGNjX3VzZXJzOiAxLFxuXHRcdHN0YXRlOiAxLFxuICpcdFx0bmFtZTogMSxcbiAqXHRcdG1vZGlmaWVkOiAxLFxuXHRcdGZvcm06IDFcblx0fVxuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7c29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0YWRkZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpXG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG4gKi9cbnZhciBfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSwgX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGU7XG5cbl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gZnVuY3Rpb24oc3BhY2VJZCwgdXNlcklkLCBfaXRlbXMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShbXG4gICAge1xuICAgICAgJG1hdGNoOiB7XG4gICAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRncm91cDoge1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICBmbG93OiBcIiRmbG93XCIsXG4gICAgICAgICAgY2F0ZWdvcnk6IFwiJGNhdGVnb3J5XCJcbiAgICAgICAgfSxcbiAgICAgICAgY291bnQ6IHtcbiAgICAgICAgICAkc3VtOiAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF0pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfaXRlbXMucHVzaChkb2MpO1xuICAgIH0pO1xuICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5fYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUpO1xuXG5NZXRlb3IucHVibGlzaCgnbXlfaW5ib3hfZmxvd19pbnN0YW5jZXNfY291bnQnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIHZhciBfY2hhbmdlRGF0YSwgX2Zsb3dzRGF0YSwgX2luaXQsIGRhdGEsIGhhbmRsZSwgcXVlcnksIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9O1xuICBxdWVyeS4kb3IgPSBbXG4gICAge1xuICAgICAgaW5ib3hfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgfSwge1xuICAgICAgY2NfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgfVxuICBdO1xuICBkYXRhID0gW107XG4gIF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKHNwYWNlSWQsIHNlbGYudXNlcklkLCBkYXRhKTtcbiAgX2Zsb3dzRGF0YSA9IFtdO1xuICBfLmVhY2goZGF0YSwgZnVuY3Rpb24oZGF0YUl0ZW0pIHtcbiAgICByZXR1cm4gX2Zsb3dzRGF0YS5wdXNoKHtcbiAgICAgIF9pZDogZGF0YUl0ZW0uX2lkLmZsb3csXG4gICAgICBjYXRlZ29yeTogZGF0YUl0ZW0uX2lkLmNhdGVnb3J5LFxuICAgICAgY291bnQ6IGRhdGFJdGVtLmNvdW50XG4gICAgfSk7XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge1xuICAgIGZsb3dzOiBfZmxvd3NEYXRhXG4gIH0pO1xuICBfY2hhbmdlRGF0YSA9IGZ1bmN0aW9uKGRvYywgYWN0aW9uKSB7XG4gICAgdmFyIGZsb3dfaW5zdGFuY2U7XG4gICAgZmxvd19pbnN0YW5jZSA9IF8uZmluZChfZmxvd3NEYXRhLCBmdW5jdGlvbihmKSB7XG4gICAgICByZXR1cm4gZi5faWQgPT09IGRvYy5mbG93O1xuICAgIH0pO1xuICAgIGlmIChmbG93X2luc3RhbmNlKSB7XG4gICAgICBpZiAoYWN0aW9uID09PSBcImFkZGVkXCIpIHtcbiAgICAgICAgZmxvd19pbnN0YW5jZS5jb3VudCsrO1xuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwicmVtb3ZlZFwiKSB7XG4gICAgICAgIGZsb3dfaW5zdGFuY2UuY291bnQtLTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJhZGRlZFwiKSB7XG4gICAgICBfZmxvd3NEYXRhLnB1c2goe1xuICAgICAgICBfaWQ6IGRvYy5mbG93LFxuICAgICAgICBjYXRlZ29yeTogZG9jLmNhdGVnb3J5LFxuICAgICAgICBjb3VudDogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7XG4gICAgICBmbG93czogX2Zsb3dzRGF0YVxuICAgIH0pO1xuICB9O1xuICBfaW5pdCA9IHRydWU7XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBpbmJveF91c2VyczogMSxcbiAgICAgIGNjX3VzZXJzOiAxLFxuICAgICAgZmxvdzogMSxcbiAgICAgIGNhdGVnb3J5OiAxXG4gICAgfVxuICB9KS5vYnNlcnZlKHtcbiAgICBhZGRlZDogZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAoIV9pbml0KSB7XG4gICAgICAgIHJldHVybiBfY2hhbmdlRGF0YShkb2MsIFwiYWRkZWRcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihkb2MpIHtcbiAgICAgIGlmICghX2luaXQpIHtcbiAgICAgICAgcmV0dXJuIF9jaGFuZ2VEYXRhKGRvYywgXCJyZW1vdmVkXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIF9pbml0ID0gZmFsc2U7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiXG5NZXRlb3IucHVibGlzaCAnZmxvd19tYWluX2F0dGFjaF90ZW1wbGF0ZScsIChzcGFjZUlkLCBmbG93SWQpLT5cblx0Y2hlY2soc3BhY2VJZCwgU3RyaW5nKVxuXHRjaGVjayhmbG93SWQsIFN0cmluZylcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWQgJiYgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBDcmVhdG9yLmdldENvbGxlY3Rpb24oJ2Ntc19maWxlcycpLmZpbmQoeyBzcGFjZTogc3BhY2VJZCwgJ3BhcmVudC5vJzogJ2Zsb3dzJywgJ3BhcmVudC5pZHMnOiBmbG93SWQsICBuYW1lOiAn5q2j5paHLmRvY3gnIH0pXG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19tYWluX2F0dGFjaF90ZW1wbGF0ZScsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBjaGVjayhmbG93SWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghKHNwYWNlSWQgJiYgZmxvd0lkKSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIENyZWF0b3IuZ2V0Q29sbGVjdGlvbignY21zX2ZpbGVzJykuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgJ3BhcmVudC5vJzogJ2Zsb3dzJyxcbiAgICAncGFyZW50Lmlkcyc6IGZsb3dJZCxcbiAgICBuYW1lOiAn5q2j5paHLmRvY3gnXG4gIH0pO1xufSk7XG4iLCJ3b3JrZmxvd1RlbXBsYXRlID0ge31cblxuI+WPr+eUqOatpOiEmuacrOS7juaooeadv+W3peS9nOWMuuWBmuaJuemHj+WvvOWHuu+8mlxuI+S9v+eUqOeuoeeQhuWRmOi0puaIt+eZu+W9leWQju+8jOi/m+WFpUZsb3dNb2R1bGVz77yM5Zyo5o6n5Yi25Y+w5omn6KGM5Lul5LiL6ISa5pys5Y2z5Y+vXG4jZGIuZm9ybXMuZmluZCh7c3RhdGU6XCJlbmFibGVkXCJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pe3dpbmRvdy5vcGVuKE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS93b3JrZmxvdy9leHBvcnQvZm9ybT9mb3JtPVwiK2Zvcm0uX2lkKSl9KVxud29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdID1bXVxuXG4j5Y+v55So5q2k6ISa5pys5LuO5qih5p2/5bel5L2c5Yy65YGa5om56YeP5a+85Ye677yaXG4j5L2/55So566h55CG5ZGY6LSm5oi355m75b2V5ZCO77yM6L+b5YWl5qih5p2/5LiT5Yy677yM5Zyo5o6n5Yi25Y+w5omn6KGM5Lul5LiL6ISa5pys5Y2z5Y+vXG4jZGIuZm9ybXMuZmluZCh7c3RhdGU6XCJlbmFibGVkXCJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pe3dpbmRvdy5vcGVuKE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS93b3JrZmxvdy9leHBvcnQvZm9ybT9mb3JtPVwiK2Zvcm0uX2lkKSl9KVxud29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdID1bXVxuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdGZzID0gcmVxdWlyZSgnZnMnKVxuXHRwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5cdG1pbWUgPSByZXF1aXJlKCdtaW1lJylcblx0cmVhZEZpbGVMaXN0ID0gKHBhdGhEaXIsIGZpbGVzTGlzdCktPlxuXHRcdGZpbGVzID0gZnMucmVhZGRpclN5bmMocGF0aERpcilcblx0XHRmaWxlcy5mb3JFYWNoIChuYW1lLCBpbmRleCktPlxuXHRcdFx0c3RhdCA9IGZzLnN0YXRTeW5jKHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSlcblx0XHRcdGlmIHN0YXQuaXNEaXJlY3RvcnkoKVxuXHRcdFx0XHQjIOmAkuW9kuivu+WPluaWh+S7tlxuXHRcdFx0XHRyZWFkRmlsZUxpc3QocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpLCBmaWxlc0xpc3QpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG9iaiA9IHt9XG5cdFx0XHRcdG9iai5wYXRoID0gcGF0aERpclxuXHRcdFx0XHRvYmoubmFtZSA9IG5hbWVcblx0XHRcdFx0ZmlsZXNMaXN0LnB1c2gob2JqKVxuXG5cdCPojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlxuXHRmaWxlc0xpc3RfY24gPSBbXVxuXHRwYXRoX2NuID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzPy5wYXRoX2NuXG5cdGlmIHBhdGhfY25cblx0XHRhYnNvbHV0ZV9wYXRoX2NuID0gcGF0aC5yZXNvbHZlKHBhdGhfY24pXG5cdFx0Y29uc29sZS5sb2cgXCJhYnNvbHV0ZV9wYXRoX2NuXCIsIGFic29sdXRlX3BhdGhfY25cblx0XHRpZiBmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfY24pXG5cdFx0XHRyZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF9jbiwgZmlsZXNMaXN0X2NuKVxuXHRcdFx0ZmlsZXNMaXN0X2NuLmZvckVhY2ggKGZpbGUpLT5cblx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0aWYgbWltZS5nZXRUeXBlKGZpbGUubmFtZSkgaXMgXCJhcHBsaWNhdGlvbi9qc29uXCJcblx0XHRcdFx0XHRcdGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKVxuXHRcdFx0XHRcdFx0d29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSlcblx0XHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCLojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cblx0I+iOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XG5cdGZpbGVzTGlzdF91cyA9IFtdXG5cdHBhdGhfdXMgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXM/LnBhdGhfdXNcblx0aWYgcGF0aF91c1xuXHRcdGFic29sdXRlX3BhdGhfdXMgPSBwYXRoLnJlc29sdmUocGF0aF91cylcblx0XHRjb25zb2xlLmxvZyBcImFic29sdXRlX3BhdGhfdXNcIiwgYWJzb2x1dGVfcGF0aF91c1xuXHRcdGlmIGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF91cylcblx0XHRcdHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfdXMpXG5cdFx0XHRmaWxlc0xpc3RfdXMuZm9yRWFjaCAoZmlsZSktPlxuXHRcdFx0XHR0cnlcblx0XHRcdFx0XHRpZiBtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSBpcyBcImFwcGxpY2F0aW9uL2pzb25cIlxuXHRcdFx0XHRcdFx0ZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpXG5cdFx0XHRcdFx0XHR3b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKVxuXHRcdFx0XHRjYXRjaCBlXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBcIuiOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSlcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdFx0XG5cdFx0XHRcdFx0XG5cblxuIiwiICAgICAgICAgICAgICAgICAgICAgXG5cbndvcmtmbG93VGVtcGxhdGUgPSB7fTtcblxud29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdID0gW107XG5cbndvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXSA9IFtdO1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGFic29sdXRlX3BhdGhfY24sIGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF9jbiwgZmlsZXNMaXN0X3VzLCBmcywgbWltZSwgcGF0aCwgcGF0aF9jbiwgcGF0aF91cywgcmVhZEZpbGVMaXN0LCByZWYsIHJlZjE7XG4gIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbiAgbWltZSA9IHJlcXVpcmUoJ21pbWUnKTtcbiAgcmVhZEZpbGVMaXN0ID0gZnVuY3Rpb24ocGF0aERpciwgZmlsZXNMaXN0KSB7XG4gICAgdmFyIGZpbGVzO1xuICAgIGZpbGVzID0gZnMucmVhZGRpclN5bmMocGF0aERpcik7XG4gICAgcmV0dXJuIGZpbGVzLmZvckVhY2goZnVuY3Rpb24obmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBvYmosIHN0YXQ7XG4gICAgICBzdGF0ID0gZnMuc3RhdFN5bmMocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpKTtcbiAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRGaWxlTGlzdChwYXRoLmpvaW4ocGF0aERpciwgbmFtZSksIGZpbGVzTGlzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgb2JqLnBhdGggPSBwYXRoRGlyO1xuICAgICAgICBvYmoubmFtZSA9IG5hbWU7XG4gICAgICAgIHJldHVybiBmaWxlc0xpc3QucHVzaChvYmopO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBmaWxlc0xpc3RfY24gPSBbXTtcbiAgcGF0aF9jbiA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXMpICE9IG51bGwgPyByZWYucGF0aF9jbiA6IHZvaWQgMDtcbiAgaWYgKHBhdGhfY24pIHtcbiAgICBhYnNvbHV0ZV9wYXRoX2NuID0gcGF0aC5yZXNvbHZlKHBhdGhfY24pO1xuICAgIGNvbnNvbGUubG9nKFwiYWJzb2x1dGVfcGF0aF9jblwiLCBhYnNvbHV0ZV9wYXRoX2NuKTtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX2NuKSkge1xuICAgICAgcmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfY24sIGZpbGVzTGlzdF9jbik7XG4gICAgICBmaWxlc0xpc3RfY24uZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHZhciBkYXRhLCBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpKTtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZpbGVzTGlzdF91cyA9IFtdO1xuICBwYXRoX3VzID0gKHJlZjEgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXMpICE9IG51bGwgPyByZWYxLnBhdGhfdXMgOiB2b2lkIDA7XG4gIGlmIChwYXRoX3VzKSB7XG4gICAgYWJzb2x1dGVfcGF0aF91cyA9IHBhdGgucmVzb2x2ZShwYXRoX3VzKTtcbiAgICBjb25zb2xlLmxvZyhcImFic29sdXRlX3BhdGhfdXNcIiwgYWJzb2x1dGVfcGF0aF91cyk7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF91cykpIHtcbiAgICAgIHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfdXMpO1xuICAgICAgcmV0dXJuIGZpbGVzTGlzdF91cy5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgdmFyIGRhdGEsIGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgICAgICAgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtmbG93VGVtcGxhdGVbXCJlblwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuiOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSkpO1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiIyMjXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuIyMjXG5NZXRlb3Iuc3RhcnR1cCAtPlxuXHRpZiBNZXRlb3Iuc2V0dGluZ3MuY3Jvbj8uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uXG5cdFx0c2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJylcblx0XHQjIOWumuaXtuaJp+ihjOWQjOatpVxuXHRcdHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb25cblx0XHRnb19uZXh0ID0gdHJ1ZVxuXHRcdHNjaGVkdWxlLnNjaGVkdWxlSm9iIHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQgKCktPlxuXHRcdFx0dHJ5XG5cdFx0XHRcdGlmICFnb19uZXh0XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdGdvX25leHQgPSBmYWxzZVxuXHRcdFx0XHRjb25zb2xlLnRpbWUgJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbidcblxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxuXG5cdFx0XHRcdCMg5bCG5aeU5omY6KeE5YiZ6K6+572u5Li65LiN5Y+v55SoXG5cdFx0XHRcdGRiLnByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcy51cGRhdGUoeyBlbmFibGVkOiB0cnVlLCBlbmRfdGltZTogeyAkbHRlOiBub3cgfSB9LCB7ICRzZXQ6IHsgZW5hYmxlZDogZmFsc2UgfSB9LCB7IG11bHRpIDp0cnVlIH0pXG5cblx0XHRcdFx0Y29uc29sZS50aW1lRW5kICdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXG5cblx0XHRcdGNhdGNoIGVcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIkFVVE8gQVVUT19GSU5JU0hfUFJPQ0VTU19ERUxFR0FUSU9OIEVSUk9SOiBcIlxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcblxuXHRcdCwgKGUpLT5cblx0XHRcdGNvbnNvbGUubG9nICdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudDogYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSdcblx0XHRcdGNvbnNvbGUubG9nIGUuc3RhY2tcbiIsIlxuLypcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4gKi9cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgZ29fbmV4dCwgcmVmLCBydWxlLCBzY2hlZHVsZTtcbiAgaWYgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MuY3JvbikgIT0gbnVsbCA/IHJlZi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24gOiB2b2lkIDApIHtcbiAgICBzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKTtcbiAgICBydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uO1xuICAgIGdvX25leHQgPSB0cnVlO1xuICAgIHJldHVybiBzY2hlZHVsZS5zY2hlZHVsZUpvYihydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUsIG5vdztcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZ29fbmV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnb19uZXh0ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUudGltZSgnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJyk7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBkYi5wcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMudXBkYXRlKHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGVuZF90aW1lOiB7XG4gICAgICAgICAgICAkbHRlOiBub3dcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIG11bHRpOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbicpO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBVVRPIEFVVE9fRklOSVNIX1BST0NFU1NfREVMRUdBVElPTiBFUlJPUjogXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50OiBhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24uY29mZmVlJyk7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coZS5zdGFjayk7XG4gICAgfSkpO1xuICB9XG59KTtcbiIsIiMjI1xuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiMjI1xuTWV0ZW9yLnN0YXJ0dXAgLT5cblx0aWYgTWV0ZW9yLnNldHRpbmdzLmNyb24/LnRpbWVvdXRfYXV0b19zdWJtaXRcblx0XHRzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKVxuXHRcdCMg5a6a5pe25omn6KGM5ZCM5q2lXG5cdFx0cnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLnRpbWVvdXRfYXV0b19zdWJtaXRcblx0XHRnb19uZXh0ID0gdHJ1ZVxuXHRcdHNjaGVkdWxlLnNjaGVkdWxlSm9iIHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQgKCktPlxuXHRcdFx0dHJ5XG5cdFx0XHRcdGlmICFnb19uZXh0XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdGdvX25leHQgPSBmYWxzZVxuXHRcdFx0XHRjb25zb2xlLnRpbWUgJ3RpbWVvdXRfYXV0b19zdWJtaXQnXG5cblx0XHRcdFx0dXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdCgpXG5cblx0XHRcdFx0Y29uc29sZS50aW1lRW5kICd0aW1lb3V0X2F1dG9fc3VibWl0J1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCJBVVRPIFRJTUVPVVRfQVVUT19TVUJNSVQgRVJST1I6IFwiXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0LCAoZSktPlxuXHRcdFx0Y29uc29sZS5sb2cgJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50OiB0aW1lb3V0X2F1dG9fc3VibWl0LmNvZmZlZSdcblx0XHRcdGNvbnNvbGUubG9nIGUuc3RhY2tcblxuTWV0ZW9yLm1ldGhvZHNcblx0dGltZW91dF9hdXRvX3N1Ym1pdDogKGluc19pZCktPlxuXHRcdHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoaW5zX2lkKVxuXHRcdHJldHVybiB0cnVlXG5cblxuIiwiXG4vKlxuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiAqL1xuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBnb19uZXh0LCByZWYsIHJ1bGUsIHNjaGVkdWxlO1xuICBpZiAoKHJlZiA9IE1ldGVvci5zZXR0aW5ncy5jcm9uKSAhPSBudWxsID8gcmVmLnRpbWVvdXRfYXV0b19zdWJtaXQgOiB2b2lkIDApIHtcbiAgICBzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKTtcbiAgICBydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24udGltZW91dF9hdXRvX3N1Ym1pdDtcbiAgICBnb19uZXh0ID0gdHJ1ZTtcbiAgICByZXR1cm4gc2NoZWR1bGUuc2NoZWR1bGVKb2IocnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFnb19uZXh0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdvX25leHQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS50aW1lKCd0aW1lb3V0X2F1dG9fc3VibWl0Jyk7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoKTtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKCd0aW1lb3V0X2F1dG9fc3VibWl0Jyk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFVVE8gVElNRU9VVF9BVVRPX1NVQk1JVCBFUlJPUjogXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50OiB0aW1lb3V0X2F1dG9fc3VibWl0LmNvZmZlZScpO1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUuc3RhY2spO1xuICAgIH0pKTtcbiAgfVxufSk7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgdGltZW91dF9hdXRvX3N1Ym1pdDogZnVuY3Rpb24oaW5zX2lkKSB7XG4gICAgdXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdChpbnNfaWQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5zdGFydHVwICgpLT5cblx0VGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyID0gbmV3IFRhYnVsYXIuVGFibGVcblx0XHRuYW1lOiBcInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXJcIlxuXHRcdGNvbGxlY3Rpb246IGRiLmluc3RhbmNlc1xuXHRcdGNvbHVtbnM6IFtcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJfaWRcIixcblx0XHRcdFx0dGl0bGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJldmVyc2VcIiBpZD1cInJldmVyc2VcIj4nLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3aWR0aDogJzFweCcsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlucHV0ID0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInJlbGF0ZWQtaW5zdGFuY2VzLWxpc3QtY2hlY2tib3hcIiBuYW1lPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgaWQ9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiB2YWx1ZT1cIicgKyBkb2MuX2lkICsgJ1wiJ1xuXG5cdFx0XHRcdFx0aWYgVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLnJlbGF0ZWRfaW5zdGFuY2VzPy5pbmNsdWRlcyhkb2MuX2lkKVxuXHRcdFx0XHRcdFx0aW5wdXQgKz0gXCIgY2hlY2tlZCBcIlxuXG5cdFx0XHRcdFx0aW5wdXQgKz0gXCI+XCJcblx0XHRcdFx0XHRyZXR1cm4gaW5wdXRcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibmFtZVwiLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3aWR0aDogJzQ1JScsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGhyZWYgPSAnJztcblx0XHRcdFx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKVxuXHRcdFx0XHRcdFx0aHJlZiA9ICcnXG5cblx0XHRcdFx0XHRhYnNvbHV0ZSA9IGZhbHNlXG5cblx0XHRcdFx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdFx0XHRcdGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZVxuXHRcdFx0XHRcdGlmIGFic29sdXRlXG5cdFx0XHRcdFx0XHRocmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIrZG9jLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRocmVmID0gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2RvYy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cdFx0XHRcdFx0cmV0dXJuIFwiPGEgZGF0YS1pZD0nI3tkb2MuX2lkfScgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiK2hyZWYrXCInPlwiICsgZG9jLm5hbWUgKyBcIjwvYT5cIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJmbG93X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0XHRcdFx0anVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiXG5cblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJ1xuXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlcC1jdXJyZW50LXN0YXRlICN7anVkZ2V9XCI+I3tzdGVwX2N1cnJlbnRfbmFtZX08L2Rpdj5cblx0XHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0fVxuXHRcdF1cblxuXHRcdGRvbTogXCJ0cFwiLFxuXHRcdGxlbmd0aENoYW5nZTogZmFsc2UsXG5cdFx0ZXh0cmFGaWVsZHM6IFtcInN0YXRlXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJzcGFjZVwiLCBcImtleXdvcmRzXCJdLFxuXHRcdHBhZ2VMZW5ndGg6IDEwLFxuXHRcdGluZm86IGZhbHNlLFxuXHRcdHNlYXJjaGluZzogdHJ1ZSxcblx0XHRyZXNwb25zaXZlOlxuXHRcdFx0ZGV0YWlsczogZmFsc2Vcblx0XHRhdXRvV2lkdGg6IGZhbHNlLFxuXHRcdGNoYW5nZVNlbGVjdG9yOiAoc2VsZWN0b3IsIHVzZXJJZCkgLT5cblx0XHRcdHVubGVzcyB1c2VySWRcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXG5cdFx0XHRzcGFjZUlkID0gc2VsZWN0b3Iuc3BhY2Vcblx0XHRcdHVubGVzcyBzcGFjZUlkXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0c3BhY2VJZCA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF1cblx0XHRcdHVubGVzcyBzcGFjZUlkXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZClcblx0XHRcdGlmICFzcGFjZVxuXHRcdFx0XHRzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiXG5cdFx0XHRpZiAhc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZClcblxuXHRcdFx0XHRmbG93X2lkcyA9IFtdXG5cdFx0XHRcdGN1clNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZUlkLFxuXHRcdFx0XHRcdCd1c2VyJzogdXNlcklkXG5cdFx0XHRcdH0pXG5cdFx0XHRcdGlmIGN1clNwYWNlVXNlclxuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuXHRcdFx0XHRcdFx0X2lkOiB7XG5cdFx0XHRcdFx0XHRcdCRpbjogY3VyU3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KS5mZXRjaCgpXG5cdFx0XHRcdFx0Zmxvd3MgPSBkYi5mbG93cy5maW5kKHsgc3BhY2U6IHNwYWNlSWQgfSlcblx0XHRcdFx0XHRmbG93cy5mb3JFYWNoIChmbCktPlxuXHRcdFx0XHRcdFx0aWYgV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykgfHwgV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpXG5cdFx0XHRcdFx0XHRcdGZsb3dfaWRzLnB1c2goZmwuX2lkKVxuXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0c2VsZWN0b3IuJGFuZFswXS4kb3IgPSBbe3N1Ym1pdHRlcjogdXNlcklkfSwge2FwcGxpY2FudDogdXNlcklkfSwge2luYm94X3VzZXJzOiB1c2VySWR9LCB7b3V0Ym94X3VzZXJzOiB1c2VySWR9LFxuXHRcdFx0XHRcdFx0XHR7Y2NfdXNlcnM6IHVzZXJJZH0sIHsgZmxvdzogeyAkaW46IGZsb3dfaWRzIH0gfV1cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdF8uZXh0ZW5kIHNlbGVjdG9yLCB7XG5cdFx0XHRcdFx0XHQkb3I6IFt7c3VibWl0dGVyOiB1c2VySWR9LCB7YXBwbGljYW50OiB1c2VySWR9LCB7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtvdXRib3hfdXNlcnM6IHVzZXJJZH0sXG5cdFx0XHRcdFx0XHRcdHtjY191c2VyczogdXNlcklkfSwgeyBmbG93OiB7ICRpbjogZmxvd19pZHMgfSB9XVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNlbGVjdG9yIiwiTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIgPSBuZXcgVGFidWxhci5UYWJsZSh7XG4gICAgbmFtZTogXCJyZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyXCIsXG4gICAgY29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxuICAgIGNvbHVtbnM6IFtcbiAgICAgIHtcbiAgICAgICAgZGF0YTogXCJfaWRcIixcbiAgICAgICAgdGl0bGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJldmVyc2VcIiBpZD1cInJldmVyc2VcIj4nLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICB3aWR0aDogJzFweCcsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgaW5wdXQsIHJlZjtcbiAgICAgICAgICBpbnB1dCA9ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJyZWxhdGVkLWluc3RhbmNlcy1saXN0LWNoZWNrYm94XCIgbmFtZT1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIGlkPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgdmFsdWU9XCInICsgZG9jLl9pZCArICdcIic7XG4gICAgICAgICAgaWYgKChyZWYgPSBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIucmVsYXRlZF9pbnN0YW5jZXMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoZG9jLl9pZCkgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIGlucHV0ICs9IFwiIGNoZWNrZWQgXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlucHV0ICs9IFwiPlwiO1xuICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm5hbWVcIixcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6ICc0NSUnLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFic29sdXRlLCBocmVmO1xuICAgICAgICAgIGhyZWYgPSAnJztcbiAgICAgICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSkpIHtcbiAgICAgICAgICAgIGhyZWYgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICAgICAgICBhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgaHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZG9jLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHJlZiA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGRvYy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoXCI8YSBkYXRhLWlkPSdcIiArIGRvYy5faWQgKyBcIicgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiKSArIGhyZWYgKyBcIic+XCIgKyBkb2MubmFtZSArIFwiPC9hPlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmbG93X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIganVkZ2UsIHN0ZXBfY3VycmVudF9uYW1lO1xuICAgICAgICAgIGlmIChkb2Muc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgICAgIGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJyc7XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwic3RlcC1jdXJyZW50LXN0YXRlIFwiICsganVkZ2UgKyBcIlxcXCI+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZSArIFwiPC9kaXY+XCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLFxuICAgIGRvbTogXCJ0cFwiLFxuICAgIGxlbmd0aENoYW5nZTogZmFsc2UsXG4gICAgZXh0cmFGaWVsZHM6IFtcInN0YXRlXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJzcGFjZVwiLCBcImtleXdvcmRzXCJdLFxuICAgIHBhZ2VMZW5ndGg6IDEwLFxuICAgIGluZm86IGZhbHNlLFxuICAgIHNlYXJjaGluZzogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICBkZXRhaWxzOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBjaGFuZ2VTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IsIHVzZXJJZCkge1xuICAgICAgdmFyIGN1clNwYWNlVXNlciwgZmxvd19pZHMsIGZsb3dzLCBvcmdhbml6YXRpb25zLCByZWYsIHJlZjEsIHNwYWNlLCBzcGFjZUlkO1xuICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZUlkID0gc2VsZWN0b3Iuc3BhY2U7XG4gICAgICBpZiAoIXNwYWNlSWQpIHtcbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZiA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzcGFjZUlkID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZUlkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkKTtcbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgc2VsZWN0b3Iuc3RhdGUgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZCkpIHtcbiAgICAgICAgZmxvd19pZHMgPSBbXTtcbiAgICAgICAgY3VyU3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICAgICAgJ3VzZXInOiB1c2VySWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdXJTcGFjZVVzZXIpIHtcbiAgICAgICAgICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgICAkaW46IGN1clNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgICBmbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHNwYWNlSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmbG93cy5mb3JFYWNoKGZ1bmN0aW9uKGZsKSB7XG4gICAgICAgICAgICBpZiAoV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykgfHwgV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmbG93X2lkcy5wdXNoKGZsLl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZjEgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNlbGVjdG9yLiRhbmRbMF0uJG9yID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdWJtaXR0ZXI6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBhcHBsaWNhbnQ6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIG91dGJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZmxvdzoge1xuICAgICAgICAgICAgICAgICRpbjogZmxvd19pZHNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXy5leHRlbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VibWl0dGVyOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGFwcGxpY2FudDogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBvdXRib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZmxvdzoge1xuICAgICAgICAgICAgICAgICAgJGluOiBmbG93X2lkc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfVxuICB9KTtcbn0pO1xuIiwiU3RlZWRvcy5zdWJzW1wiSW5zdGFuY2VUYWJ1bGFyXCJdID0gbmV3IFN1YnNNYW5hZ2VyKClcblxuXG5faGFuZGxlTGlzdEZpZWxkcyA9IChmaWVsZHMpIC0+XG5cdGluc19maWVsZHMgPSBuZXcgQXJyYXkoKTtcblxuXHRmaWVsZHM/LmZvckVhY2ggKGYpLT5cblx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xuXHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxuXHRcdFx0XHRpbnNfZmllbGRzLnB1c2ggZjFcblx0XHRlbHNlXG5cdFx0XHRpbnNfZmllbGRzLnB1c2ggZlxuXG5cdHJldHVybiBpbnNfZmllbGRzXG5cblxudXBkYXRlVGFidWxhclRpdGxlID0gKCktPlxuXG4jIOWmguaenGNvbHVtbnPmnInliqDlh4/vvIzor7fkv67mlLlUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMg5Ye95pWwXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gKGZsb3dJZCwgZmllbGRzKS0+XG5cdG9wdGlvbnMgPSB7XG5cdFx0bmFtZTogXCJpbnN0YW5jZXNcIixcblx0XHRjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG5cdFx0cHViOiBcImluc3RhbmNlX3RhYnVsYXJcIixcblx0XHRvblVubG9hZDogKCktPlxuXHRcdFx0TWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApXG5cblx0XHRkcmF3Q2FsbGJhY2s6IChzZXR0aW5ncyktPlxuXHRcdFx0ZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKVxuXHRcdFx0aWYgZW1wdHlUZC5sZW5ndGhcblx0XHRcdFx0ZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCJcblx0XHRcdGlmICFTdGVlZG9zLmlzTW9iaWxlKCkgJiYgIVN0ZWVkb3MuaXNQYWQoKVxuXHRcdFx0XHRNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MClcblx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeSAtPlxuXHRcdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5wZXJmZWN0U2Nyb2xsYmFyKFwidXBkYXRlXCIpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMClcblxuXHRcdFx0dGl0bGUgPSB0IFwicGFnZXJfaW5wdXRfaGludFwiXG5cdFx0XHRlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJylcblx0XHRcdGVsbGlwc2lzTGluay5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmNzcyhcImN1cnNvclwiLCBcInBvaW50ZXJcIikuY2xpY2sgLT5cblx0XHRcdFx0aWYgISQodGhpcykuZmluZCgnaW5wdXQnKS5sZW5ndGhcblx0XHRcdFx0XHRpbnB1dCA9ICQoJzxpbnB1dCBjbGFzcz1cInBhZ2luYXRlX2lucHV0IGZvcm0tY29udHJvbCBpbnB1dC1zbVwiIHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBhZGRpbmc6MCAycHg7XCIvPicpXG5cdFx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRcdFx0XHRpbnB1dC5jc3Moe1xuXHRcdFx0XHRcdFx0XHR3aWR0aDpcIjUycHhcIlxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMjBweFwiXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOlwiNTJweFwiXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogXCIxNnB4XCJcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0aW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpXG5cdFx0XHRcdFx0JCh0aGlzKS5lbXB0eSgpLmFwcGVuZCBpbnB1dFxuXHRcdFx0XHRcdGdvUGFnZSA9IChpbmRleCktPlxuXHRcdFx0XHRcdFx0aWYgaW5kZXggPiAwXG5cdFx0XHRcdFx0XHRcdHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aClcblx0XHRcdFx0XHRcdFx0aWYgaW5kZXggPiBwYWdlc1xuXHRcdFx0XHRcdFx0XHRcdCMg6aG156CB6LaF5Ye657Si5byV5pe26Lez6L2s5Yiw5pyA5ZCO5LiA6aG1XG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBwYWdlc1xuXHRcdFx0XHRcdFx0XHRpbmRleC0tXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm9JbnN0YW5jZS5EYXRhVGFibGUoKS5wYWdlKGluZGV4KS5kcmF3KCdwYWdlJylcblx0XHRcdFx0XHRpbnB1dC5ibHVyIChlKS0+XG5cdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcblx0XHRcdFx0XHRcdGdvUGFnZSBjdXJyZW50UGFnZVxuXHRcdFx0XHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5odG1sICcuLi4nXG5cdFx0XHRcdFx0aW5wdXQua2V5ZG93biAoZSktPlxuXHRcdFx0XHRcdFx0aWYoZS5rZXlDb2RlLnRvU3RyaW5nKCkgPT0gXCIxM1wiKVxuXHRcdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcblx0XHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXG5cblx0XHRjcmVhdGVkUm93OiAocm93LCBkYXRhLCBkYXRhSW5kZXgpIC0+XG5cdFx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdFx0aWYgZGF0YS5faWQgPT0gRmxvd1JvdXRlci5jdXJyZW50KCkucGFyYW1zLmluc3RhbmNlSWRcblx0XHRcdFx0XHRyb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3RlZFwiKVxuXHRcdGNvbHVtbnM6IFtcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJfaWRcIixcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRtb2RpZmllZFN0cmluZyA9IG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuXG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2MubW9kaWZpZWRcblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5zdGF0ZSAhPSAnZHJhZnQnXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdGFydF9kYXRlIHx8IGRvYy5tb2RpZmllZFxuXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ291dGJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2Muc3VibWl0X2RhdGVcblxuXHRcdFx0XHRcdG1vZGlmaWVkRnJvbU5vdyA9IFN0ZWVkb3MubW9tZW50UmVhY3RpdmVGcm9tTm93KG1vZGlmaWVkKTtcblx0XHRcdFx0XHRmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lXG5cdFx0XHRcdFx0Y2NfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0IyDlvZPliY3nlKjmiLflnKhjYyB1c2Vy5Lit77yM5L2G5piv5LiN5ZyoaW5ib3ggdXNlcnPml7bmiY3mmL7npLon5Lyg6ZiFJ+aWh+Wtl1xuXHRcdFx0XHRcdGlmIGRvYy5pc19jYyAmJiAhZG9jLmluYm94X3VzZXJzPy5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0XHRcdGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiXG5cdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTxzcGFuPigje2RvYy5jdXJyZW50X3N0ZXBfbmFtZX0pPC9zcGFuPjwvZGl2PlwiXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gJ2RyYWZ0JyAmJiBkb2MuY3VycmVudF9zdGVwX25hbWVcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08c3Bhbj4oI3tkb2MuY3VycmVudF9zdGVwX25hbWV9KTwvc3Bhbj48L2Rpdj5cIlxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTwvZGl2PlwiXG5cblx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRpZiBkb2MuYWdlbnRfdXNlcl9uYW1lICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxuXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcblxuXHRcdFx0XHRcdCMgaXNGYXZvcml0ZVNlbGVjdGVkID0gRmF2b3JpdGVzLmlzUmVjb3JkU2VsZWN0ZWQoXCJpbnN0YW5jZXNcIiwgZG9jLl9pZClcblx0XHRcdFx0XHQjIGlmIEZhdm9yaXRlcy5pc1JlY29yZFNlbGVjdGVkKFwiaW5zdGFuY2VzXCIsIGRvYy5faWQpXG5cdFx0XHRcdFx0IyBcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24taW9zLXN0YXItb3V0bGluZSBpbnN0YW5jZS1mYXZvcml0ZS1zZWxlY3RlZFwiPjwvaT4nXG5cdFx0XHRcdFx0IyBlbHNlIFxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PSB0cnVlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcblxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbiA9IFwiXCJcblx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiXCJcblx0XHRcdFx0XHRwcmlvcml0eVZhbHVlID0gZG9jLnZhbHVlcz8ucHJpb3JpdHlcblx0XHRcdFx0XHRzd2l0Y2ggcHJpb3JpdHlWYWx1ZVxuXHRcdFx0XHRcdFx0d2hlbiBcIueJueaApVwiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIlxuXHRcdFx0XHRcdFx0d2hlbiBcIue0p+aApVwiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLlip7mlodcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIlxuXHRcdFx0XHRcdGlmIHByaW9yaXR5SWNvbkNsYXNzXG5cdFx0XHRcdFx0XHRpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS0je3ByaW9yaXR5SWNvbkNsYXNzfVwiXG5cblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPiN7dW5yZWFkfTwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgI3tpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzfSc+I3tkb2MubmFtZX0je2NjX3ZpZXd9I3thZ2VudF92aWV3fVxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4+I3tkb2MuYXBwbGljYW50X25hbWV9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLWRldGFpbCc+I3tzdGVwX2N1cnJlbnRfbmFtZV92aWV3fVxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nI3ttb2RpZmllZFN0cmluZ30nPiN7bW9kaWZpZWRGcm9tTm93fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJuYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX25hbWVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGNjX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdCMg5b2T5YmN55So5oi35ZyoY2MgdXNlcuS4re+8jOS9huaYr+S4jeWcqGluYm94IHVzZXJz5pe25omN5pi+56S6J+S8oOmYhSfmloflrZdcblx0XHRcdFx0XHRpZiBkb2MuaXNfY2MgJiYgIWRvYy5pbmJveF91c2Vycz8uaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdFx0XHRjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIlxuXG5cdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0aWYgZG9jLmFnZW50X3VzZXJfbmFtZVxuXHRcdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lfSkgKyBcIik8L2xhYmVsPlwiXG5cblx0XHRcdFx0XHR1bnJlYWQgPSAnJ1xuXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PSBmYWxzZVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPidcblx0XHRcdFx0XHRlbHNlIGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09IHRydWVcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+J1xuXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlWYWx1ZSA9IGRvYy52YWx1ZXM/LnByaW9yaXR5XG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXG5cdFx0XHRcdFx0XHR3aGVuIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xuXHRcdFx0XHRcdFx0aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktI3twcmlvcml0eUljb25DbGFzc31cIlxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPiN7dW5yZWFkfTwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLm5hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld308L2Rpdj5cblx0XHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwic3VibWl0X2RhdGVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3VibWl0X2RhdGVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5zdWJtaXRfZGF0ZVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2Muc3VibWl0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiZmxvd19uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0ZXBfY3VycmVudF9uYW1lXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0XHRcdFx0anVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiXG5cblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJ1xuXG5cdFx0XHRcdFx0Y2NfdGFnID0gJydcblxuXHRcdFx0XHRcdGlmIGRvYy5jY19jb3VudCA+IDBcblx0XHRcdFx0XHRcdGNjX3RhZyA9IFRBUGkxOG4uX18oJ2NjX3RhZycpXG5cblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlcC1jdXJyZW50LXN0YXRlICN7anVkZ2V9XCI+I3tzdGVwX2N1cnJlbnRfbmFtZX0je2NjX3RhZ308L2Rpdj5cblx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfbW9kaWZpZWRcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcInN0YXJ0X2RhdGVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RhcnRfZGF0ZVwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN0YXJ0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibXlfZmluaXNoX2RhdGVcIixcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLm15X2ZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5teV9maW5pc2hfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG5cdFx0XHRcdCxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJtb2RpZmllZFwiLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJrZXl3b3Jkc1wiLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJpc19hcmNoaXZlZFwiLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2M/LnZhbHVlcz8ucmVjb3JkX25lZWQgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0aWYgZG9jPy5pc19hcmNoaXZlZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdChcIllFU1wiKVxuXHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJOT1wiKVxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRkb206IGRvIC0+XG5cdFx0XHQjIOaJi+acuuS4iuS4jeaYvuekuuS4gOmhteaYvuekuuWkmuWwkeadoeiusOW9lemAiemhuVxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRcdCd0cCdcblx0XHRcdGVsc2Vcblx0XHRcdFx0J3RwbCdcblx0XHRvcmRlcjogW1s0LCBcImRlc2NcIl1dLFxuXHRcdGV4dHJhRmllbGRzOiBbXCJmb3JtXCIsIFwiZmxvd1wiLCBcImluYm94X3VzZXJzXCIsIFwic3RhdGVcIiwgXCJzcGFjZVwiLCBcImFwcGxpY2FudFwiLCBcImZvcm1fdmVyc2lvblwiLFxuXHRcdFx0XCJmbG93X3ZlcnNpb25cIiwgXCJpc19jY1wiLCBcImNjX2NvdW50XCIsIFwiaXNfcmVhZFwiLCBcImN1cnJlbnRfc3RlcF9uYW1lXCIsIFwidmFsdWVzXCIsIFwia2V5d29yZHNcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcImZsb3dfbmFtZVwiLCBcImlzX2hpZGRlblwiLCBcImFnZW50X3VzZXJfbmFtZVwiXSxcblx0XHRsZW5ndGhDaGFuZ2U6IHRydWUsXG5cdFx0bGVuZ3RoTWVudTogWzEwLDE1LDIwLDI1LDUwLDEwMF0sXG5cdFx0cGFnZUxlbmd0aDogMTAsXG5cdFx0aW5mbzogZmFsc2UsXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxuXHRcdHJlc3BvbnNpdmU6XG5cdFx0XHRkZXRhaWxzOiBmYWxzZVxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXG5cdFx0Y2hhbmdlU2VsZWN0b3I6IChzZWxlY3RvciwgdXNlcklkKSAtPlxuXHRcdFx0dW5sZXNzIHVzZXJJZFxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZSA9IHNlbGVjdG9yLnNwYWNlXG5cdFx0XHR1bmxlc3Mgc3BhY2Vcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRzcGFjZSA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF1cblx0XHRcdHVubGVzcyBzcGFjZVxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogdXNlcklkLCBzcGFjZTogc3BhY2V9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXG5cdFx0XHR1bmxlc3Mgc3BhY2VfdXNlclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRyZXR1cm4gc2VsZWN0b3Jcblx0XHRwYWdpbmdUeXBlOiBcIm51bWJlcnNcIlxuXHRcdFxuXHRcdCMgZ2V0U29ydDogKHNlbGVjdG9yLCBzb3J0KSAtPiBcblx0XHQjIFx0Y29uc29sZS5sb2coJ3NlbGVjdG9yOicsc2VsZWN0b3IpXG5cdFx0IyBcdGNvbnNvbGUubG9nKCdzb3J0Oicsc29ydClcblx0XHQjIFx0bmV3U29ydCA9IFtdXG5cdFx0IyBcdF8uZWFjaCBzZWxlY3RvciwgKHYsIGspIC0+XG5cdFx0IyBcdFx0bmV3U29ydC5wdXNoKFtrLCAxXSlcblx0XHQjIFx0bmV3U29ydCA9IG5ld1NvcnQuY29uY2F0KHNvcnQpXG5cdFx0IyBcdGNvbnNvbGUubG9nKCduZXdTb3J0OicsbmV3U29ydClcblx0XHQjIFx0cmV0dXJuIG5ld1NvcnRcblx0fVxuXG5cdGlmIGZsb3dJZFxuXHRcdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBmbG93SWRcblxuXHRcdG9wdGlvbnMubmFtZSA9IGtleVxuXG5cdFx0VGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzID0gZmllbGRzXG5cblx0XHRpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMgVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzXG5cblx0XHRpbnNfZmllbGRzLmZvckVhY2ggKGYpLT5cblx0XHRcdGlmIGYudHlwZSAhPSAndGFibGUnICYmIGYuaXNfbGlzdF9kaXNwbGF5XG5cdFx0XHRcdG9wdGlvbnMuY29sdW1ucy5wdXNoXG5cdFx0XHRcdFx0ZGF0YTogKGYubmFtZSB8fCBmLmNvZGUpLFxuXHRcdFx0XHRcdHRpdGxlOiB0KGYubmFtZSB8fCBmLmNvZGUpLFxuXHRcdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblxuXHRcdFx0XHRcdFx0dmFsdWVzID0gZG9jLnZhbHVlcyB8fCB7fVxuXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlc1tmLmNvZGVdXG5cblx0XHRcdFx0XHRcdHN3aXRjaCBmLnR5cGVcblx0XHRcdFx0XHRcdFx0d2hlbiAndXNlcidcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5uYW1lXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2dyb3VwJ1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWU/LmZ1bGxuYW1lXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2RhdGUnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxuXHRcdFx0XHRcdFx0XHR3aGVuICdkYXRlVGltZSdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2NoZWNrYm94J1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlID09IHRydWUgfHwgdmFsdWUgPT0gJ3RydWUnXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcblx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xuXHRcdFx0XHRcdFx0XHR3aGVuICdvZGF0YSdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgXy5pc0FycmF5KHZhbHVlKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IF8ucGx1Y2sodmFsdWUsICdAbGFiZWwnKS50b1N0cmluZygpXG5cdFx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXG5cblx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZVxuXG5cblx0cmV0dXJuIG9wdGlvbnM7XG5cblxuIyDlpoLmnpxjb2x1bW5z5pyJ5Yqg5YeP77yM6K+35L+u5pS5VGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zIOWHveaVsFxuaW5zdGFuY2VUYXNrc0xpc3RUYWJsZVRhYnVsYXIgPSAoZmxvd0lkLCBmaWVsZHMpLT5cblx0b3B0aW9ucyA9IHtcblx0XHRuYW1lOiBcImluc3RhbmNlX3Rhc2tzXCIsXG5cdFx0Y29sbGVjdGlvbjogZGIuaW5zdGFuY2VfdGFza3MsXG5cdFx0cHViOiBcImluc3RhbmNlX3Rhc2tzX3RhYnVsYXJcIixcblx0XHRvblVubG9hZDogKCktPlxuXHRcdFx0TWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApXG5cblx0XHRkcmF3Q2FsbGJhY2s6IChzZXR0aW5ncyktPlxuXHRcdFx0ZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKVxuXHRcdFx0aWYgZW1wdHlUZC5sZW5ndGhcblx0XHRcdFx0ZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCJcblx0XHRcdGlmICFTdGVlZG9zLmlzTW9iaWxlKCkgJiYgIVN0ZWVkb3MuaXNQYWQoKVxuXHRcdFx0XHRNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MClcblx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeSAtPlxuXHRcdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5wZXJmZWN0U2Nyb2xsYmFyKFwidXBkYXRlXCIpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMClcblxuXHRcdFx0dGl0bGUgPSB0IFwicGFnZXJfaW5wdXRfaGludFwiXG5cdFx0XHRlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJylcblx0XHRcdGVsbGlwc2lzTGluay5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmNzcyhcImN1cnNvclwiLCBcInBvaW50ZXJcIikuY2xpY2sgLT5cblx0XHRcdFx0aWYgISQodGhpcykuZmluZCgnaW5wdXQnKS5sZW5ndGhcblx0XHRcdFx0XHRpbnB1dCA9ICQoJzxpbnB1dCBjbGFzcz1cInBhZ2luYXRlX2lucHV0IGZvcm0tY29udHJvbCBpbnB1dC1zbVwiIHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBhZGRpbmc6MCAycHg7XCIvPicpXG5cdFx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRcdFx0XHRpbnB1dC5jc3Moe1xuXHRcdFx0XHRcdFx0XHR3aWR0aDpcIjUycHhcIlxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMjBweFwiXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOlwiNTJweFwiXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogXCIxNnB4XCJcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0aW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpXG5cdFx0XHRcdFx0JCh0aGlzKS5lbXB0eSgpLmFwcGVuZCBpbnB1dFxuXHRcdFx0XHRcdGdvUGFnZSA9IChpbmRleCktPlxuXHRcdFx0XHRcdFx0aWYgaW5kZXggPiAwXG5cdFx0XHRcdFx0XHRcdHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aClcblx0XHRcdFx0XHRcdFx0aWYgaW5kZXggPiBwYWdlc1xuXHRcdFx0XHRcdFx0XHRcdCMg6aG156CB6LaF5Ye657Si5byV5pe26Lez6L2s5Yiw5pyA5ZCO5LiA6aG1XG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBwYWdlc1xuXHRcdFx0XHRcdFx0XHRpbmRleC0tXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm9JbnN0YW5jZS5EYXRhVGFibGUoKS5wYWdlKGluZGV4KS5kcmF3KCdwYWdlJylcblx0XHRcdFx0XHRpbnB1dC5ibHVyIChlKS0+XG5cdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcblx0XHRcdFx0XHRcdGdvUGFnZSBjdXJyZW50UGFnZVxuXHRcdFx0XHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5odG1sICcuLi4nXG5cdFx0XHRcdFx0aW5wdXQua2V5ZG93biAoZSktPlxuXHRcdFx0XHRcdFx0aWYoZS5rZXlDb2RlLnRvU3RyaW5nKCkgPT0gXCIxM1wiKVxuXHRcdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcblx0XHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXG5cblx0XHRjcmVhdGVkUm93OiAocm93LCBkYXRhLCBkYXRhSW5kZXgpIC0+XG5cdFx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdFx0aWYgZGF0YS5pbnN0YW5jZSA9PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZFxuXHRcdFx0XHRcdHJvdy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdGVkXCIpXG5cdFx0Y29sdW1uczogW1xuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIl9pZFwiLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdG1vZGlmaWVkU3RyaW5nID0gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG5cblx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5tb2RpZmllZFxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmluc3RhbmNlX3N0YXRlICE9ICdkcmFmdCdcblx0XHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLnN0YXJ0X2RhdGUgfHwgZG9jLm1vZGlmaWVkXG5cblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnb3V0Ym94J1xuXHRcdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2Muc3VibWl0X2RhdGUgfHwgZG9jLm1vZGlmaWVkXG5cblx0XHRcdFx0XHRtb2RpZmllZEZyb21Ob3cgPSBTdGVlZG9zLm1vbWVudFJlYWN0aXZlRnJvbU5vdyhtb2RpZmllZCk7XG5cdFx0XHRcdFx0Zmxvd19uYW1lID0gZG9jLmZsb3dfbmFtZVxuXHRcdFx0XHRcdGNjX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdCMg5b2T5YmN55So5oi35ZyoY2MgdXNlcuS4re+8jOS9huaYr+S4jeWcqGluYm94IHVzZXJz5pe25omN5pi+56S6J+S8oOmYhSfmloflrZdcblx0XHRcdFx0XHRpZiBkb2MudHlwZSA9PSAnY2MnICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0XHRcdGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiXG5cdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTxzcGFuPigje2RvYy5zdGVwX25hbWV9KTwvc3Bhbj48L2Rpdj5cIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlmIGRvYy5zdGVwX25hbWVcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08c3Bhbj4oI3tkb2Muc3RlcF9uYW1lfSk8L3NwYW4+PC9kaXY+XCJcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08L2Rpdj5cIlxuXG5cdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0aWYgZG9jLmFnZW50X3VzZXJfbmFtZSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7dXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWV9KSArIFwiKTwvbGFiZWw+XCJcblxuXHRcdFx0XHRcdHVucmVhZCA9ICcnXG5cblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09IGZhbHNlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+J1xuXHRcdFx0XHRcdGVsc2UgaWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT0gdHJ1ZVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nXG5cblx0XHRcdFx0XHRwcmlvcml0eUljb24gPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlWYWx1ZSA9IGRvYy52YWx1ZXM/LnByaW9yaXR5XG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXG5cdFx0XHRcdFx0XHR3aGVuIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xuXHRcdFx0XHRcdFx0aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktI3twcmlvcml0eUljb25DbGFzc31cIlxuXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLmluc3RhbmNlX25hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld31cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPiN7ZG9jLmFwcGxpY2FudF9uYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1kZXRhaWwnPiN7c3RlcF9jdXJyZW50X25hbWVfdmlld31cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPSdpbnN0YW5jZS1tb2RpZmllZCcgdGl0bGU9JyN7bW9kaWZpZWRTdHJpbmd9Jz4je21vZGlmaWVkRnJvbU5vd308L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIpLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiaW5zdGFuY2VfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRjY192aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHQjIOW9k+WJjeeUqOaIt+WcqGNjIHVzZXLkuK3vvIzkvYbmmK/kuI3lnKhpbmJveCB1c2Vyc+aXtuaJjeaYvuekuifkvKDpmIUn5paH5a2XXG5cdFx0XHRcdFx0aWYgZG9jLmlzX2NjICYmICFkb2MuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRcdFx0Y2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCJcblxuXHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdGlmIGRvYy5hZ2VudF91c2VyX25hbWVcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxuXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcblxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PSB0cnVlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcblxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIlxuXHRcdFx0XHRcdHByaW9yaXR5VmFsdWUgPSBkb2MudmFsdWVzPy5wcmlvcml0eVxuXHRcdFx0XHRcdHN3aXRjaCBwcmlvcml0eVZhbHVlXG5cdFx0XHRcdFx0XHR3aGVuIFwi54m55oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiXG5cdFx0XHRcdFx0XHR3aGVuIFwi57Sn5oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIlxuXHRcdFx0XHRcdFx0d2hlbiBcIuWKnuaWh1wiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiXG5cdFx0XHRcdFx0aWYgcHJpb3JpdHlJY29uQ2xhc3Ncblx0XHRcdFx0XHRcdGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LSN7cHJpb3JpdHlJY29uQ2xhc3N9XCJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSAje2luc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3N9Jz4je2RvYy5pbnN0YW5jZV9uYW1lfSN7Y2Nfdmlld30je2FnZW50X3ZpZXd9PC9kaXY+XG5cdFx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3VibWl0X2RhdGVcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJzdGVwX25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RlcF9jdXJyZW50X25hbWVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5pbnN0YW5jZV9zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXG5cdFx0XHRcdFx0XHRqdWRnZSA9IGRvYy5qdWRnZSB8fCBcImFwcHJvdmVkXCJcblxuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLnN0ZXBfbmFtZSB8fCAnJ1xuXG5cdFx0XHRcdFx0Y2NfdGFnID0gJydcblxuXHRcdFx0XHRcdGlmIGRvYy5jY19jb3VudCA+IDBcblx0XHRcdFx0XHRcdGNjX3RhZyA9IFRBUGkxOG4uX18oJ2NjX3RhZycpXG5cblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlcC1jdXJyZW50LXN0YXRlICN7anVkZ2V9XCI+I3tzdGVwX2N1cnJlbnRfbmFtZX0je2NjX3RhZ308L2Rpdj5cblx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfbW9kaWZpZWRcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcInN0YXJ0X2RhdGVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RhcnRfZGF0ZVwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN0YXJ0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiZmluaXNoX2RhdGVcIixcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5maW5pc2hfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG5cdFx0XHRcdCxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJtb2RpZmllZFwiLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJrZXl3b3Jkc1wiLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJpc19hcmNoaXZlZFwiLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2M/LnZhbHVlcz8ucmVjb3JkX25lZWQgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0aWYgZG9jPy5pc19hcmNoaXZlZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gdChcIllFU1wiKVxuXHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJOT1wiKVxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9XG5cdFx0XSxcblx0XHRkb206IGRvIC0+XG5cdFx0XHQjIOaJi+acuuS4iuS4jeaYvuekuuS4gOmhteaYvuekuuWkmuWwkeadoeiusOW9lemAiemhuVxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRcdCd0cCdcblx0XHRcdGVsc2Vcblx0XHRcdFx0J3RwbCdcblx0XHRvcmRlcjogW1s0LCBcImRlc2NcIl1dLFxuXHRcdGV4dHJhRmllbGRzOiBbXCJpbnN0YW5jZVwiLCBcImZvcm1cIiwgXCJmbG93XCIsIFwiaW5ib3hfdXNlcnNcIiwgXCJpbnN0YW5jZV9zdGF0ZVwiLCBcInNwYWNlXCIsIFwiYXBwbGljYW50XCIsIFwiZm9ybV92ZXJzaW9uXCIsXG5cdFx0XHRcImZsb3dfdmVyc2lvblwiLCBcInR5cGVcIiwgXCJpc19yZWFkXCIsIFwic3RlcF9uYW1lXCIsIFwidmFsdWVzXCIsIFwia2V5d29yZHNcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcImZsb3dfbmFtZVwiLCBcImlzX2hpZGRlblwiLCBcImFnZW50X3VzZXJfbmFtZVwiXSxcblx0XHRsZW5ndGhDaGFuZ2U6IHRydWUsXG5cdFx0bGVuZ3RoTWVudTogWzEwLDE1LDIwLDI1LDUwLDEwMF0sXG5cdFx0cGFnZUxlbmd0aDogMTAsXG5cdFx0aW5mbzogZmFsc2UsXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxuXHRcdHJlc3BvbnNpdmU6XG5cdFx0XHRkZXRhaWxzOiBmYWxzZVxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXG5cdFx0Y2hhbmdlU2VsZWN0b3I6IChzZWxlY3RvciwgdXNlcklkKSAtPlxuXHRcdFx0dW5sZXNzIHVzZXJJZFxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZSA9IHNlbGVjdG9yLnNwYWNlXG5cdFx0XHR1bmxlc3Mgc3BhY2Vcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRzcGFjZSA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF1cblx0XHRcdHVubGVzcyBzcGFjZVxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogdXNlcklkLCBzcGFjZTogc3BhY2V9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXG5cdFx0XHR1bmxlc3Mgc3BhY2VfdXNlclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRyZXR1cm4gc2VsZWN0b3Jcblx0XHRwYWdpbmdUeXBlOiBcIm51bWJlcnNcIlxuXG5cdH1cblxuXHRpZiBmbG93SWRcblx0XHRrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgZmxvd0lkXG5cblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcblxuXHRcdFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VfdGFza3MuZmllbGRzID0gZmllbGRzXG5cblx0XHRpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMgVGFidWxhclRhYmxlcy5pbnN0YW5jZV90YXNrcy5maWVsZHNcblxuXHRcdGluc19maWVsZHMuZm9yRWFjaCAoZiktPlxuXHRcdFx0aWYgZi50eXBlICE9ICd0YWJsZScgJiYgZi5pc19saXN0X2Rpc3BsYXlcblx0XHRcdFx0b3B0aW9ucy5jb2x1bW5zLnB1c2hcblx0XHRcdFx0XHRkYXRhOiAoZi5uYW1lIHx8IGYuY29kZSksXG5cdFx0XHRcdFx0dGl0bGU6IHQoZi5uYW1lIHx8IGYuY29kZSksXG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXG5cdFx0XHRcdFx0XHR2YWx1ZXMgPSBkb2MudmFsdWVzIHx8IHt9XG5cblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVzW2YuY29kZV1cblxuXHRcdFx0XHRcdFx0c3dpdGNoIGYudHlwZVxuXHRcdFx0XHRcdFx0XHR3aGVuICd1c2VyJ1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWU/Lm5hbWVcblx0XHRcdFx0XHRcdFx0d2hlbiAnZ3JvdXAnXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcblx0XHRcdFx0XHRcdFx0d2hlbiAnZGF0ZSdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2RhdGVUaW1lJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJylcblx0XHRcdFx0XHRcdFx0d2hlbiAnY2hlY2tib3gnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWUgPT0gdHJ1ZSB8fCB2YWx1ZSA9PSAndHJ1ZSdcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG5cdFx0XHRcdFx0XHRcdHdoZW4gJ29kYXRhJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBfLmlzQXJyYXkodmFsdWUpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ11cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlXG5cblxuXHRyZXR1cm4gb3B0aW9ucztcblxuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcigpXG5cdFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VfdGFza3MgPSBuZXcgVGFidWxhci5UYWJsZSBpbnN0YW5jZVRhc2tzTGlzdFRhYmxlVGFidWxhcigpXG5cdFRhYnVsYXJUYWJsZXMuaW5ib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJpbmJveFwiKVxuXHRUYWJ1bGFyVGFibGVzLm91dGJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcIm91dGJveFwiKVxuXG5cbkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zID0gKGJveCwgZmxvd0lkLCBmaWVsZHMpLT5cblx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZFxuXHRpZiBib3ggPT0gXCJpbmJveFwiXG5cdFx0b3B0aW9ucyA9IF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcylcblx0ZWxzZSBpZiBib3ggPT0gXCJvdXRib3hcIlxuXHRcdG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKVxuXHRlbHNlXG5cdFx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cdFx0aWYgIWZsb3dJZFxuXHRcdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxuXHRpZiBmbG93SWRcblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcblx0cmV0dXJuIG9wdGlvbnNcblxuX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gKGZsb3dJZCwgZmllbGRzKS0+XG5cdG9wdGlvbnMgPSBpbnN0YW5jZVRhc2tzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcblxuXHRpZiAhZmxvd0lkXG5cdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxuXG5cdG9wdGlvbnMub3JkZXIgPSBbWzgsIFwiZGVzY1wiXV1cblxuXHRvcHRpb25zLmdldFNvcnQgPSAoc2VsZWN0b3IsIHNvcnQpIC0+IFxuXHRcdGNvbnNvbGUubG9nKCdpbmJveF9pbnN0YW5jZXM6Jyxzb3J0KVxuXHRcdHJldHVybiBzb3J0XG5cblx0cmV0dXJuIG9wdGlvbnNcblxuX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IChmbG93SWQsIGZpZWxkcyktPlxuXHRvcHRpb25zID0gaW5zdGFuY2VUYXNrc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cblx0aWYgIWZsb3dJZFxuXHRcdG9wdGlvbnMubmFtZSA9IFwib3V0Ym94X2luc3RhbmNlc1wiXG5cblx0b3B0aW9ucy5vcmRlciA9IFtbOSwgLTFdXVxuXG5cdG9wdGlvbnMuZ2V0U29ydCA9IChzZWxlY3Rvciwgc29ydCkgLT4gXG5cdFx0Y29uc29sZS5sb2coJ291dGJveF9pbnN0YW5jZXM6Jyxzb3J0KVxuXHRcdCMgbmV3U29ydCA9IFsgXG5cdFx0IyBcdFsnc3BhY2UnLCAxXSxcblx0XHQjIFx0WydoYW5kbGVyJywgMV0sXG5cdFx0IyBcdFsnaXNfZmluaXNoZWQnLCAxXSxcblx0XHQjIF1cblx0XHQjIG5ld1NvcnQgPSBuZXdTb3J0LmNvbmNhdChzb3J0KVxuXHRcdCMgcmV0dXJuIG5ld1NvcnRcblx0XHRyZXR1cm4gc29ydFxuXG5cdHJldHVybiBvcHRpb25zXG5cbmlmIE1ldGVvci5pc0NsaWVudFxuXHRUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMgPSBuZXcgUmVhY3RpdmVWYXIoKVxuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRyYWNrZXIuYXV0b3J1biAoYykgLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgIVN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIikgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gJ2RyYWZ0J1xuXHRcdFx0XHRNZXRlb3IuY2FsbCBcIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyXCIsIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgKGVycm9yLCByZXN1bHQpIC0+XG5cdFx0XHRcdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCByZXN1bHRcblx0XHRcdFx0XHRUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll9jaGFuZ2VPcmRlcigpXG5cblxubmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgPSAoYm94LCBmbG93SWQsIGZpZWxkcyktPlxuXHRpZiAhZmllbGRzXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge2Zvcm06IDF9fSlcblx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXG5cblx0ZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMgZmllbGRzXG5cblx0aWYgZmllbGRzPy5maWx0ZXJQcm9wZXJ0eShcImlzX2xpc3RfZGlzcGxheVwiLCB0cnVlKT8ubGVuZ3RoID4gMFxuXHRcdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWRcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcy5zZXQobmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpXG5cdFx0ZWxzZVxuXHRcdFx0bmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcylcblx0XHRjb25zb2xlLmxvZyBcIm5ldyBUYWJ1bGFyVGFibGVzIFwiLCBrZXlcblxuaWYgTWV0ZW9yLmlzU2VydmVyXG5cdE1ldGVvci5tZXRob2RzXG5cdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXI6IChib3gsIGZsb3dJZCktPlxuXHRcdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoYm94LCBmbG93SWQpXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtmb3JtOiAxfX0pXG5cdFx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXG5cdFx0XHRyZXR1cm4gZmllbGRzXG5cblxuIiwidmFyIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zLCBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMsIF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMsIF9oYW5kbGVMaXN0RmllbGRzLCBpbnN0YW5jZVRhc2tzTGlzdFRhYmxlVGFidWxhciwgaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciwgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIsIHVwZGF0ZVRhYnVsYXJUaXRsZTtcblxuU3RlZWRvcy5zdWJzW1wiSW5zdGFuY2VUYWJ1bGFyXCJdID0gbmV3IFN1YnNNYW5hZ2VyKCk7XG5cbl9oYW5kbGVMaXN0RmllbGRzID0gZnVuY3Rpb24oZmllbGRzKSB7XG4gIHZhciBpbnNfZmllbGRzO1xuICBpbnNfZmllbGRzID0gbmV3IEFycmF5KCk7XG4gIGlmIChmaWVsZHMgIT0gbnVsbCkge1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIHZhciByZWY7XG4gICAgICBpZiAoZi50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGYgIT0gbnVsbCA/IChyZWYgPSBmLmZpZWxkcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGYxKSB7XG4gICAgICAgICAgcmV0dXJuIGluc19maWVsZHMucHVzaChmMSk7XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGluc19maWVsZHMucHVzaChmKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaW5zX2ZpZWxkcztcbn07XG5cbnVwZGF0ZVRhYnVsYXJUaXRsZSA9IGZ1bmN0aW9uKCkge307XG5cbmluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgaW5zX2ZpZWxkcywga2V5LCBvcHRpb25zO1xuICBvcHRpb25zID0ge1xuICAgIG5hbWU6IFwiaW5zdGFuY2VzXCIsXG4gICAgY29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxuICAgIHB1YjogXCJpbnN0YW5jZV90YWJ1bGFyXCIsXG4gICAgb25VbmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKTtcbiAgICB9LFxuICAgIGRyYXdDYWxsYmFjazogZnVuY3Rpb24oc2V0dGluZ3MpIHtcbiAgICAgIHZhciBlbGxpcHNpc0xpbmssIGVtcHR5VGQsIHRpdGxlO1xuICAgICAgZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKTtcbiAgICAgIGlmIChlbXB0eVRkLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVRkWzBdLmNvbFNwYW4gPSBcIjZcIjtcbiAgICAgIH1cbiAgICAgIGlmICghU3RlZWRvcy5pc01vYmlsZSgpICYmICFTdGVlZG9zLmlzUGFkKCkpIHtcbiAgICAgICAgTWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApO1xuICAgICAgICAkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiLmluc3RhbmNlLWxpc3RcIikucGVyZmVjdFNjcm9sbGJhcihcInVwZGF0ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApO1xuICAgICAgfVxuICAgICAgdGl0bGUgPSB0KFwicGFnZXJfaW5wdXRfaGludFwiKTtcbiAgICAgIGVsbGlwc2lzTGluayA9IHNldHRpbmdzLm9JbnN0YW5jZS5wYXJlbnQoKS5maW5kKCcucGFnaW5nX251bWJlcnMgLnBhZ2luYXRpb24gLmRpc2FibGVkIGEnKTtcbiAgICAgIHJldHVybiBlbGxpcHNpc0xpbmsuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5jc3MoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZ29QYWdlLCBpbnB1dDtcbiAgICAgICAgaWYgKCEkKHRoaXMpLmZpbmQoJ2lucHV0JykubGVuZ3RoKSB7XG4gICAgICAgICAgaW5wdXQgPSAkKCc8aW5wdXQgY2xhc3M9XCJwYWdpbmF0ZV9pbnB1dCBmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwiYm9yZGVyOiBub25lOyBwYWRkaW5nOjAgMnB4O1wiLz4nKTtcbiAgICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICBpbnB1dC5jc3Moe1xuICAgICAgICAgICAgICB3aWR0aDogXCI1MnB4XCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCIyMHB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dC5jc3Moe1xuICAgICAgICAgICAgICB3aWR0aDogXCI1MnB4XCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCIxNnB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnB1dC5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCB0aXRsZSk7XG4gICAgICAgICAgJCh0aGlzKS5lbXB0eSgpLmFwcGVuZChpbnB1dCk7XG4gICAgICAgICAgZ29QYWdlID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwYWdlcztcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgcGFnZXMgPSBNYXRoLmNlaWwoc2V0dGluZ3MuZm5SZWNvcmRzRGlzcGxheSgpIC8gc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoKTtcbiAgICAgICAgICAgICAgaWYgKGluZGV4ID4gcGFnZXMpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IHBhZ2VzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5vSW5zdGFuY2UuRGF0YVRhYmxlKCkucGFnZShpbmRleCkuZHJhdygncGFnZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaW5wdXQuYmx1cihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFBhZ2U7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICBnb1BhZ2UoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykucGFyZW50KCkuaHRtbCgnLi4uJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGlucHV0LmtleWRvd24oZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZS50b1N0cmluZygpID09PSBcIjEzXCIpIHtcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICByZXR1cm4gZ29QYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjcmVhdGVkUm93OiBmdW5jdGlvbihyb3csIGRhdGEsIGRhdGFJbmRleCkge1xuICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgICBpZiAoZGF0YS5faWQgPT09IEZsb3dSb3V0ZXIuY3VycmVudCgpLnBhcmFtcy5pbnN0YW5jZUlkKSB7XG4gICAgICAgICAgcmV0dXJuIHJvdy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdGVkXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb2x1bW5zOiBbXG4gICAgICB7XG4gICAgICAgIGRhdGE6IFwiX2lkXCIsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWdlbnRfdmlldywgY2NfdmlldywgZmxvd19uYW1lLCBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzLCBtb2RpZmllZCwgbW9kaWZpZWRGcm9tTm93LCBtb2RpZmllZFN0cmluZywgcHJpb3JpdHlJY29uLCBwcmlvcml0eUljb25DbGFzcywgcHJpb3JpdHlWYWx1ZSwgcmVmLCByZWYxLCBzdGVwX2N1cnJlbnRfbmFtZV92aWV3LCB1bnJlYWQ7XG4gICAgICAgICAgbW9kaWZpZWRTdHJpbmcgPSBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgICBtb2RpZmllZCA9IGRvYy5tb2RpZmllZDtcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLnN0YXRlICE9PSAnZHJhZnQnKSB7XG4gICAgICAgICAgICBtb2RpZmllZCA9IGRvYy5zdGFydF9kYXRlIHx8IGRvYy5tb2RpZmllZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnb3V0Ym94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InKSB7XG4gICAgICAgICAgICBtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2Muc3VibWl0X2RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vZGlmaWVkRnJvbU5vdyA9IFN0ZWVkb3MubW9tZW50UmVhY3RpdmVGcm9tTm93KG1vZGlmaWVkKTtcbiAgICAgICAgICBmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuaXNfY2MgJiYgISgocmVmID0gZG9jLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDApICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIjtcbiAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjxzcGFuPihcIiArIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSArIFwiKTwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpICE9PSAnZHJhZnQnICYmIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSkge1xuICAgICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8c3Bhbj4oXCIgKyBkb2MuY3VycmVudF9zdGVwX25hbWUgKyBcIik8L3NwYW4+PC9kaXY+XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYWdlbnRfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5hZ2VudF91c2VyX25hbWUgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWVcbiAgICAgICAgICAgIH0pICsgXCIpPC9sYWJlbD5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5yZWFkID0gJyc7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JpdHlJY29uID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9IChyZWYxID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZjEucHJpb3JpdHkgOiB2b2lkIDA7XG4gICAgICAgICAgc3dpdGNoIChwcmlvcml0eVZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwi54m55oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi57Sn5oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIuWKnuaWh1wiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByaW9yaXR5SWNvbkNsYXNzKSB7XG4gICAgICAgICAgICBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS1cIiArIHByaW9yaXR5SWNvbkNsYXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+XCIgKyB1bnJlYWQgKyBcIjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgXCIgKyBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzICsgXCInPlwiICsgZG9jLm5hbWUgKyBjY192aWV3ICsgYWdlbnRfdmlldyArIFwiXFxuXHQ8c3Bhbj5cIiArIGRvYy5hcHBsaWNhbnRfbmFtZSArIFwiPC9zcGFuPlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLWRldGFpbCc+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ICsgXCJcXG5cdDxzcGFuIGNsYXNzPSdpbnN0YW5jZS1tb2RpZmllZCcgdGl0bGU9J1wiICsgbW9kaWZpZWRTdHJpbmcgKyBcIic+XCIgKyBtb2RpZmllZEZyb21Ob3cgKyBcIjwvc3Bhbj5cXG48L2Rpdj5cIjtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFnZW50X3ZpZXcsIGNjX3ZpZXcsIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MsIHByaW9yaXR5SWNvbkNsYXNzLCBwcmlvcml0eVZhbHVlLCByZWYsIHJlZjEsIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcsIHVucmVhZDtcbiAgICAgICAgICBjY192aWV3ID0gXCJcIjtcbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmlzX2NjICYmICEoKHJlZiA9IGRvYy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgY2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuYWdlbnRfdXNlcl9uYW1lKSB7XG4gICAgICAgICAgICBhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICAgICAgICAgIHVzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lXG4gICAgICAgICAgICB9KSArIFwiKTwvbGFiZWw+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVucmVhZCA9ICcnO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eVZhbHVlID0gKHJlZjEgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmMS5wcmlvcml0eSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHByaW9yaXR5VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCLnibnmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLntKfmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi5Yqe5paHXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJpb3JpdHlJY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LVwiICsgcHJpb3JpdHlJY29uQ2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz5cIiArIHVucmVhZCArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSBcIiArIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgKyBcIic+XCIgKyBkb2MubmFtZSArIGNjX3ZpZXcgKyBhZ2VudF92aWV3ICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJzdWJtaXRfZGF0ZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdWJtaXRfZGF0ZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2Muc3VibWl0X2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmbG93X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdGVwX2N1cnJlbnRfbmFtZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBjY190YWcsIGp1ZGdlLCBzdGVwX2N1cnJlbnRfbmFtZTtcbiAgICAgICAgICBpZiAoZG9jLnN0YXRlID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgICBqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnO1xuICAgICAgICAgIGNjX3RhZyA9ICcnO1xuICAgICAgICAgIGlmIChkb2MuY2NfY291bnQgPiAwKSB7XG4gICAgICAgICAgICBjY190YWcgPSBUQVBpMThuLl9fKCdjY190YWcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwic3RlcC1jdXJyZW50LXN0YXRlIFwiICsganVkZ2UgKyBcIlxcXCI+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZSArIGNjX3RhZyArIFwiPC9kaXY+XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibW9kaWZpZWRcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfbW9kaWZpZWRcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJzdGFydF9kYXRlXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0YXJ0X2RhdGVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLnN0YXJ0X2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLnN0YXJ0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm15X2ZpbmlzaF9kYXRlXCIsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLm15X2ZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5teV9maW5pc2hfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibW9kaWZpZWRcIixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJrZXl3b3Jkc1wiLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImlzX2FyY2hpdmVkXCIsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgcmVmO1xuICAgICAgICAgIGlmICgoZG9jICE9IG51bGwgPyAocmVmID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZi5yZWNvcmRfbmVlZCA6IHZvaWQgMCA6IHZvaWQgMCkgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgIGlmIChkb2MgIT0gbnVsbCA/IGRvYy5pc19hcmNoaXZlZCA6IHZvaWQgMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdChcIllFU1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0KFwiTk9cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sXG4gICAgZG9tOiAoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgIHJldHVybiAndHAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICd0cGwnO1xuICAgICAgfVxuICAgIH0pKCksXG4gICAgb3JkZXI6IFtbNCwgXCJkZXNjXCJdXSxcbiAgICBleHRyYUZpZWxkczogW1wiZm9ybVwiLCBcImZsb3dcIiwgXCJpbmJveF91c2Vyc1wiLCBcInN0YXRlXCIsIFwic3BhY2VcIiwgXCJhcHBsaWNhbnRcIiwgXCJmb3JtX3ZlcnNpb25cIiwgXCJmbG93X3ZlcnNpb25cIiwgXCJpc19jY1wiLCBcImNjX2NvdW50XCIsIFwiaXNfcmVhZFwiLCBcImN1cnJlbnRfc3RlcF9uYW1lXCIsIFwidmFsdWVzXCIsIFwia2V5d29yZHNcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcImZsb3dfbmFtZVwiLCBcImlzX2hpZGRlblwiLCBcImFnZW50X3VzZXJfbmFtZVwiXSxcbiAgICBsZW5ndGhDaGFuZ2U6IHRydWUsXG4gICAgbGVuZ3RoTWVudTogWzEwLCAxNSwgMjAsIDI1LCA1MCwgMTAwXSxcbiAgICBwYWdlTGVuZ3RoOiAxMCxcbiAgICBpbmZvOiBmYWxzZSxcbiAgICBzZWFyY2hpbmc6IHRydWUsXG4gICAgcmVzcG9uc2l2ZToge1xuICAgICAgZGV0YWlsczogZmFsc2VcbiAgICB9LFxuICAgIGF1dG9XaWR0aDogZmFsc2UsXG4gICAgY2hhbmdlU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yLCB1c2VySWQpIHtcbiAgICAgIHZhciByZWYsIHNwYWNlLCBzcGFjZV91c2VyO1xuICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZSA9IHNlbGVjdG9yLnNwYWNlO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNwYWNlID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgdXNlcjogdXNlcklkLFxuICAgICAgICBzcGFjZTogc3BhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgX2lkOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH0sXG4gICAgcGFnaW5nVHlwZTogXCJudW1iZXJzXCJcbiAgfTtcbiAgaWYgKGZsb3dJZCkge1xuICAgIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBmbG93SWQ7XG4gICAgb3B0aW9ucy5uYW1lID0ga2V5O1xuICAgIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyA9IGZpZWxkcztcbiAgICBpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMoVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzKTtcbiAgICBpbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgaWYgKGYudHlwZSAhPT0gJ3RhYmxlJyAmJiBmLmlzX2xpc3RfZGlzcGxheSkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5jb2x1bW5zLnB1c2goe1xuICAgICAgICAgIGRhdGE6IGYubmFtZSB8fCBmLmNvZGUsXG4gICAgICAgICAgdGl0bGU6IHQoZi5uYW1lIHx8IGYuY29kZSksXG4gICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUsIHZhbHVlcztcbiAgICAgICAgICAgIHZhbHVlcyA9IGRvYy52YWx1ZXMgfHwge307XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlc1tmLmNvZGVdO1xuICAgICAgICAgICAgc3dpdGNoIChmLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAndXNlcic6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUubmFtZSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmZ1bGxuYW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdvZGF0YSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoXy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF8ucGx1Y2sodmFsdWUsICdAbGFiZWwnKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ107XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5pbnN0YW5jZVRhc2tzTGlzdFRhYmxlVGFidWxhciA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBpbnNfZmllbGRzLCBrZXksIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJpbnN0YW5jZV90YXNrc1wiLFxuICAgIGNvbGxlY3Rpb246IGRiLmluc3RhbmNlX3Rhc2tzLFxuICAgIHB1YjogXCJpbnN0YW5jZV90YXNrc190YWJ1bGFyXCIsXG4gICAgb25VbmxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKTtcbiAgICB9LFxuICAgIGRyYXdDYWxsYmFjazogZnVuY3Rpb24oc2V0dGluZ3MpIHtcbiAgICAgIHZhciBlbGxpcHNpc0xpbmssIGVtcHR5VGQsIHRpdGxlO1xuICAgICAgZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKTtcbiAgICAgIGlmIChlbXB0eVRkLmxlbmd0aCkge1xuICAgICAgICBlbXB0eVRkWzBdLmNvbFNwYW4gPSBcIjZcIjtcbiAgICAgIH1cbiAgICAgIGlmICghU3RlZWRvcy5pc01vYmlsZSgpICYmICFTdGVlZG9zLmlzUGFkKCkpIHtcbiAgICAgICAgTWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApO1xuICAgICAgICAkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKFwiLmluc3RhbmNlLWxpc3RcIikucGVyZmVjdFNjcm9sbGJhcihcInVwZGF0ZVwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApO1xuICAgICAgfVxuICAgICAgdGl0bGUgPSB0KFwicGFnZXJfaW5wdXRfaGludFwiKTtcbiAgICAgIGVsbGlwc2lzTGluayA9IHNldHRpbmdzLm9JbnN0YW5jZS5wYXJlbnQoKS5maW5kKCcucGFnaW5nX251bWJlcnMgLnBhZ2luYXRpb24gLmRpc2FibGVkIGEnKTtcbiAgICAgIHJldHVybiBlbGxpcHNpc0xpbmsuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5jc3MoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZ29QYWdlLCBpbnB1dDtcbiAgICAgICAgaWYgKCEkKHRoaXMpLmZpbmQoJ2lucHV0JykubGVuZ3RoKSB7XG4gICAgICAgICAgaW5wdXQgPSAkKCc8aW5wdXQgY2xhc3M9XCJwYWdpbmF0ZV9pbnB1dCBmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwiYm9yZGVyOiBub25lOyBwYWRkaW5nOjAgMnB4O1wiLz4nKTtcbiAgICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICBpbnB1dC5jc3Moe1xuICAgICAgICAgICAgICB3aWR0aDogXCI1MnB4XCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCIyMHB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbnB1dC5jc3Moe1xuICAgICAgICAgICAgICB3aWR0aDogXCI1MnB4XCIsXG4gICAgICAgICAgICAgIGhlaWdodDogXCIxNnB4XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnB1dC5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmF0dHIoXCJwbGFjZWhvbGRlclwiLCB0aXRsZSk7XG4gICAgICAgICAgJCh0aGlzKS5lbXB0eSgpLmFwcGVuZChpbnB1dCk7XG4gICAgICAgICAgZ29QYWdlID0gZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBwYWdlcztcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgcGFnZXMgPSBNYXRoLmNlaWwoc2V0dGluZ3MuZm5SZWNvcmRzRGlzcGxheSgpIC8gc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoKTtcbiAgICAgICAgICAgICAgaWYgKGluZGV4ID4gcGFnZXMpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IHBhZ2VzO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGluZGV4LS07XG4gICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5vSW5zdGFuY2UuRGF0YVRhYmxlKCkucGFnZShpbmRleCkuZHJhdygncGFnZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgaW5wdXQuYmx1cihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFBhZ2U7XG4gICAgICAgICAgICBjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICBnb1BhZ2UoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuICQodGhpcykucGFyZW50KCkuaHRtbCgnLi4uJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGlucHV0LmtleWRvd24oZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgaWYgKGUua2V5Q29kZS50b1N0cmluZygpID09PSBcIjEzXCIpIHtcbiAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICByZXR1cm4gZ29QYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjcmVhdGVkUm93OiBmdW5jdGlvbihyb3csIGRhdGEsIGRhdGFJbmRleCkge1xuICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgICBpZiAoZGF0YS5pbnN0YW5jZSA9PT0gRmxvd1JvdXRlci5jdXJyZW50KCkucGFyYW1zLmluc3RhbmNlSWQpIHtcbiAgICAgICAgICByZXR1cm4gcm93LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbHVtbnM6IFtcbiAgICAgIHtcbiAgICAgICAgZGF0YTogXCJfaWRcIixcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhZ2VudF92aWV3LCBjY192aWV3LCBmbG93X25hbWUsIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MsIG1vZGlmaWVkLCBtb2RpZmllZEZyb21Ob3csIG1vZGlmaWVkU3RyaW5nLCBwcmlvcml0eUljb24sIHByaW9yaXR5SWNvbkNsYXNzLCBwcmlvcml0eVZhbHVlLCByZWYsIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcsIHVucmVhZDtcbiAgICAgICAgICBtb2RpZmllZFN0cmluZyA9IG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgIG1vZGlmaWVkID0gZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2MuaW5zdGFuY2Vfc3RhdGUgIT09ICdkcmFmdCcpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gZG9jLnN0YXJ0X2RhdGUgfHwgZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdvdXRib3gnKSB7XG4gICAgICAgICAgICBtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2MubW9kaWZpZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vZGlmaWVkRnJvbU5vdyA9IFN0ZWVkb3MubW9tZW50UmVhY3RpdmVGcm9tTm93KG1vZGlmaWVkKTtcbiAgICAgICAgICBmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MudHlwZSA9PT0gJ2NjJyAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgY2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCI7XG4gICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8c3Bhbj4oXCIgKyBkb2Muc3RlcF9uYW1lICsgXCIpPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZG9jLnN0ZXBfbmFtZSkge1xuICAgICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8c3Bhbj4oXCIgKyBkb2Muc3RlcF9uYW1lICsgXCIpPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPC9kaXY+XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuYWdlbnRfdXNlcl9uYW1lICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICAgICAgICAgIHVzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lXG4gICAgICAgICAgICB9KSArIFwiKTwvbGFiZWw+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVucmVhZCA9ICcnO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yaXR5SWNvbiA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5VmFsdWUgPSAocmVmID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZi5wcmlvcml0eSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHByaW9yaXR5VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCLnibnmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLntKfmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi5Yqe5paHXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJpb3JpdHlJY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LVwiICsgcHJpb3JpdHlJY29uQ2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz5cIiArIHVucmVhZCArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSBcIiArIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgKyBcIic+XCIgKyBkb2MuaW5zdGFuY2VfbmFtZSArIGNjX3ZpZXcgKyBhZ2VudF92aWV3ICsgXCJcXG5cdDxzcGFuPlwiICsgZG9jLmFwcGxpY2FudF9uYW1lICsgXCI8L3NwYW4+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtZGV0YWlsJz5cIiArIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgKyBcIlxcblx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nXCIgKyBtb2RpZmllZFN0cmluZyArIFwiJz5cIiArIG1vZGlmaWVkRnJvbU5vdyArIFwiPC9zcGFuPlxcbjwvZGl2PlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJpbnN0YW5jZV9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX25hbWVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWdlbnRfdmlldywgY2NfdmlldywgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgcHJpb3JpdHlJY29uQ2xhc3MsIHByaW9yaXR5VmFsdWUsIHJlZiwgcmVmMSwgc3RlcF9jdXJyZW50X25hbWVfdmlldywgdW5yZWFkO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuaXNfY2MgJiYgISgocmVmID0gZG9jLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDApICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWdlbnRfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5hZ2VudF91c2VyX25hbWUpIHtcbiAgICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWVcbiAgICAgICAgICAgIH0pICsgXCIpPC9sYWJlbD5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5yZWFkID0gJyc7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5VmFsdWUgPSAocmVmMSA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYxLnByaW9yaXR5IDogdm9pZCAwO1xuICAgICAgICAgIHN3aXRjaCAocHJpb3JpdHlWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcIueJueaApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIue0p+aApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLlip7mlodcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmlvcml0eUljb25DbGFzcykge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktXCIgKyBwcmlvcml0eUljb25DbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPlwiICsgdW5yZWFkICsgXCI8L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lIFwiICsgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyArIFwiJz5cIiArIGRvYy5pbnN0YW5jZV9uYW1lICsgY2NfdmlldyArIGFnZW50X3ZpZXcgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5zdWJtaXRfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2Muc3VibWl0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImZsb3dfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN0ZXBfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdGVwX2N1cnJlbnRfbmFtZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBjY190YWcsIGp1ZGdlLCBzdGVwX2N1cnJlbnRfbmFtZTtcbiAgICAgICAgICBpZiAoZG9jLmluc3RhbmNlX3N0YXRlID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgICBqdWRnZSA9IGRvYy5qdWRnZSB8fCBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLnN0ZXBfbmFtZSB8fCAnJztcbiAgICAgICAgICBjY190YWcgPSAnJztcbiAgICAgICAgICBpZiAoZG9jLmNjX2NvdW50ID4gMCkge1xuICAgICAgICAgICAgY2NfdGFnID0gVEFQaTE4bi5fXygnY2NfdGFnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInN0ZXAtY3VycmVudC1zdGF0ZSBcIiArIGp1ZGdlICsgXCJcXFwiPlwiICsgc3RlcF9jdXJyZW50X25hbWUgKyBjY190YWcgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm1vZGlmaWVkXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX21vZGlmaWVkXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgcmV0dXJuIG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwic3RhcnRfZGF0ZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdGFydF9kYXRlXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5zdGFydF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5zdGFydF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmaW5pc2hfZGF0ZVwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2MuZmluaXNoX2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm1vZGlmaWVkXCIsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwia2V5d29yZHNcIixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJpc19hcmNoaXZlZFwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgICBpZiAoKGRvYyAhPSBudWxsID8gKHJlZiA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYucmVjb3JkX25lZWQgOiB2b2lkIDAgOiB2b2lkIDApICYmIGRvYy52YWx1ZXMucmVjb3JkX25lZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICBpZiAoZG9jICE9IG51bGwgPyBkb2MuaXNfYXJjaGl2ZWQgOiB2b2lkIDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHQoXCJZRVNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdChcIk5PXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLFxuICAgIGRvbTogKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICByZXR1cm4gJ3RwJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAndHBsJztcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIG9yZGVyOiBbWzQsIFwiZGVzY1wiXV0sXG4gICAgZXh0cmFGaWVsZHM6IFtcImluc3RhbmNlXCIsIFwiZm9ybVwiLCBcImZsb3dcIiwgXCJpbmJveF91c2Vyc1wiLCBcImluc3RhbmNlX3N0YXRlXCIsIFwic3BhY2VcIiwgXCJhcHBsaWNhbnRcIiwgXCJmb3JtX3ZlcnNpb25cIiwgXCJmbG93X3ZlcnNpb25cIiwgXCJ0eXBlXCIsIFwiaXNfcmVhZFwiLCBcInN0ZXBfbmFtZVwiLCBcInZhbHVlc1wiLCBcImtleXdvcmRzXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJmbG93X25hbWVcIiwgXCJpc19oaWRkZW5cIiwgXCJhZ2VudF91c2VyX25hbWVcIl0sXG4gICAgbGVuZ3RoQ2hhbmdlOiB0cnVlLFxuICAgIGxlbmd0aE1lbnU6IFsxMCwgMTUsIDIwLCAyNSwgNTAsIDEwMF0sXG4gICAgcGFnZUxlbmd0aDogMTAsXG4gICAgaW5mbzogZmFsc2UsXG4gICAgc2VhcmNoaW5nOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgIGRldGFpbHM6IGZhbHNlXG4gICAgfSxcbiAgICBhdXRvV2lkdGg6IGZhbHNlLFxuICAgIGNoYW5nZVNlbGVjdG9yOiBmdW5jdGlvbihzZWxlY3RvciwgdXNlcklkKSB7XG4gICAgICB2YXIgcmVmLCBzcGFjZSwgc3BhY2VfdXNlcjtcbiAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBzZWxlY3Rvci5zcGFjZTtcbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZiA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzcGFjZSA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgIHVzZXI6IHVzZXJJZCxcbiAgICAgICAgc3BhY2U6IHNwYWNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIF9pZDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghc3BhY2VfdXNlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9LFxuICAgIHBhZ2luZ1R5cGU6IFwibnVtYmVyc1wiXG4gIH07XG4gIGlmIChmbG93SWQpIHtcbiAgICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgZmxvd0lkO1xuICAgIG9wdGlvbnMubmFtZSA9IGtleTtcbiAgICBUYWJ1bGFyVGFibGVzLmluc3RhbmNlX3Rhc2tzLmZpZWxkcyA9IGZpZWxkcztcbiAgICBpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMoVGFidWxhclRhYmxlcy5pbnN0YW5jZV90YXNrcy5maWVsZHMpO1xuICAgIGluc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICBpZiAoZi50eXBlICE9PSAndGFibGUnICYmIGYuaXNfbGlzdF9kaXNwbGF5KSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmNvbHVtbnMucHVzaCh7XG4gICAgICAgICAgZGF0YTogZi5uYW1lIHx8IGYuY29kZSxcbiAgICAgICAgICB0aXRsZTogdChmLm5hbWUgfHwgZi5jb2RlKSxcbiAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSwgdmFsdWVzO1xuICAgICAgICAgICAgdmFsdWVzID0gZG9jLnZhbHVlcyB8fCB7fTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2YuY29kZV07XG4gICAgICAgICAgICBzd2l0Y2ggKGYudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5uYW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZnVsbG5hbWUgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWydAbGFiZWwnXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoKSk7XG4gIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VfdGFza3MgPSBuZXcgVGFidWxhci5UYWJsZShpbnN0YW5jZVRhc2tzTGlzdFRhYmxlVGFidWxhcigpKTtcbiAgVGFidWxhclRhYmxlcy5pbmJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcImluYm94XCIpKTtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMub3V0Ym94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwib3V0Ym94XCIpKTtcbn0pO1xuXG5HZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyA9IGZ1bmN0aW9uKGJveCwgZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGtleSwgb3B0aW9ucztcbiAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZDtcbiAgaWYgKGJveCA9PT0gXCJpbmJveFwiKSB7XG4gICAgb3B0aW9ucyA9IF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcyk7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm91dGJveFwiKSB7XG4gICAgb3B0aW9ucyA9IF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgICBpZiAoIWZsb3dJZCkge1xuICAgICAgb3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIjtcbiAgICB9XG4gIH1cbiAgaWYgKGZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IGtleTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBvcHRpb25zO1xuICBvcHRpb25zID0gaW5zdGFuY2VUYXNrc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCI7XG4gIH1cbiAgb3B0aW9ucy5vcmRlciA9IFtbOCwgXCJkZXNjXCJdXTtcbiAgb3B0aW9ucy5nZXRTb3J0ID0gZnVuY3Rpb24oc2VsZWN0b3IsIHNvcnQpIHtcbiAgICBjb25zb2xlLmxvZygnaW5ib3hfaW5zdGFuY2VzOicsIHNvcnQpO1xuICAgIHJldHVybiBzb3J0O1xuICB9O1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgb3B0aW9ucztcbiAgb3B0aW9ucyA9IGluc3RhbmNlVGFza3NMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBcIm91dGJveF9pbnN0YW5jZXNcIjtcbiAgfVxuICBvcHRpb25zLm9yZGVyID0gW1s5LCAtMV1dO1xuICBvcHRpb25zLmdldFNvcnQgPSBmdW5jdGlvbihzZWxlY3Rvciwgc29ydCkge1xuICAgIGNvbnNvbGUubG9nKCdvdXRib3hfaW5zdGFuY2VzOicsIHNvcnQpO1xuICAgIHJldHVybiBzb3J0O1xuICB9O1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbmlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgVGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzID0gbmV3IFJlYWN0aXZlVmFyKCk7XG59XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVHJhY2tlci5hdXRvcnVuKGZ1bmN0aW9uKGMpIHtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmICFTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImZsb3dJZFwiKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmNhbGwoXCJuZXdJbnN0YW5jZXNMaXN0VGFidWxhclwiLCBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX2NoYW5nZU9yZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KTtcblxubmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgPSBmdW5jdGlvbihib3gsIGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBmbG93LCBrZXksIHJlZiwgcmVmMSwgcmVmMjtcbiAgaWYgKCFmaWVsZHMpIHtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3dJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBmb3JtOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgZmllbGRzID0gKHJlZiA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93ICE9IG51bGwgPyBmbG93LmZvcm0gOiB2b2lkIDBcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICB9XG4gIGZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzKGZpZWxkcyk7XG4gIGlmICgoZmllbGRzICE9IG51bGwgPyAocmVmMiA9IGZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX2xpc3RfZGlzcGxheVwiLCB0cnVlKSkgIT0gbnVsbCA/IHJlZjIubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcy5zZXQobmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpO1xuICAgIH1cbiAgICByZXR1cm4gY29uc29sZS5sb2coXCJuZXcgVGFidWxhclRhYmxlcyBcIiwga2V5KTtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBNZXRlb3IubWV0aG9kcyh7XG4gICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXI6IGZ1bmN0aW9uKGJveCwgZmxvd0lkKSB7XG4gICAgICB2YXIgZmllbGRzLCBmbG93LCByZWYsIHJlZjE7XG4gICAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihib3gsIGZsb3dJZCk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvd0lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm06IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmaWVsZHMgPSAocmVmID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvdyAhPSBudWxsID8gZmxvdy5mb3JtIDogdm9pZCAwXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgICAgfVxuICAgICAgfSkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=
