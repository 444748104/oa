(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, orgFieldUsers, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"checkNpm.js":function module(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  cookies: "^0.6.2",
  "xml2js": "^0.4.19",
  mkdirp: "^0.3.5"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"URI.js":function module(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/URI.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
!function (module1) {
  /*!
   * URI.js - Mutating URLs
   *
   * Version: 1.17.0
   *
   * Author: Rodney Rehm
   * Web: http://medialize.github.io/URI.js/
   *
   * Licensed under
   *   MIT License http://www.opensource.org/licenses/mit-license
   *   GPL v3 http://opensource.org/licenses/GPL-3.0
   *
   */
  (function (root, factory) {
    'use strict'; // https://github.com/umdjs/umd/blob/master/returnExports.js
    // if (typeof exports === 'object') {
    //   // Node
    //   module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));
    // } else

    if (typeof define === 'function' && define.amd) {
      // AMD. Register as an anonymous module.
      define(['./punycode', './IPv6', './SecondLevelDomains'], factory);
    } else {
      // Browser globals (root is window)
      root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);
    }
  })(this, function (punycode, IPv6, SLD, root) {
    'use strict';
    /*global location, escape, unescape */
    // FIXME: v2.0.0 renamce non-camelCase properties to uppercase

    /*jshint camelcase: false */
    // save current URI variable, if any

    var _URI = root && root.URI;

    function URI(url, base) {
      var _urlSupplied = arguments.length >= 1;

      var _baseSupplied = arguments.length >= 2; // Allow instantiation without the 'new' keyword


      if (!(this instanceof URI)) {
        if (_urlSupplied) {
          if (_baseSupplied) {
            return new URI(url, base);
          }

          return new URI(url);
        }

        return new URI();
      }

      if (url === undefined) {
        if (_urlSupplied) {
          throw new TypeError('undefined is not a valid argument for URI');
        }

        if (typeof location !== 'undefined') {
          url = location.href + '';
        } else {
          url = '';
        }
      }

      this.href(url); // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor

      if (base !== undefined) {
        return this.absoluteTo(base);
      }

      return this;
    }

    URI.version = '1.17.0';
    var p = URI.prototype;
    var hasOwn = Object.prototype.hasOwnProperty;

    function escapeRegEx(string) {
      // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963
      return string.replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
    }

    function getType(value) {
      // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value
      if (value === undefined) {
        return 'Undefined';
      }

      return String(Object.prototype.toString.call(value)).slice(8, -1);
    }

    function isArray(obj) {
      return getType(obj) === 'Array';
    }

    function filterArrayValues(data, value) {
      var lookup = {};
      var i, length;

      if (getType(value) === 'RegExp') {
        lookup = null;
      } else if (isArray(value)) {
        for (i = 0, length = value.length; i < length; i++) {
          lookup[value[i]] = true;
        }
      } else {
        lookup[value] = true;
      }

      for (i = 0, length = data.length; i < length; i++) {
        /*jshint laxbreak: true */
        var _match = lookup && lookup[data[i]] !== undefined || !lookup && value.test(data[i]);
        /*jshint laxbreak: false */


        if (_match) {
          data.splice(i, 1);
          length--;
          i--;
        }
      }

      return data;
    }

    function arrayContains(list, value) {
      var i, length; // value may be string, number, array, regexp

      if (isArray(value)) {
        // Note: this can be optimized to O(n) (instead of current O(m * n))
        for (i = 0, length = value.length; i < length; i++) {
          if (!arrayContains(list, value[i])) {
            return false;
          }
        }

        return true;
      }

      var _type = getType(value);

      for (i = 0, length = list.length; i < length; i++) {
        if (_type === 'RegExp') {
          if (typeof list[i] === 'string' && list[i].match(value)) {
            return true;
          }
        } else if (list[i] === value) {
          return true;
        }
      }

      return false;
    }

    function arraysEqual(one, two) {
      if (!isArray(one) || !isArray(two)) {
        return false;
      } // arrays can't be equal if they have different amount of content


      if (one.length !== two.length) {
        return false;
      }

      one.sort();
      two.sort();

      for (var i = 0, l = one.length; i < l; i++) {
        if (one[i] !== two[i]) {
          return false;
        }
      }

      return true;
    }

    function trimSlashes(text) {
      var trim_expression = /^\/+|\/+$/g;
      return text.replace(trim_expression, '');
    }

    URI._parts = function () {
      return {
        protocol: null,
        username: null,
        password: null,
        hostname: null,
        urn: null,
        port: null,
        path: null,
        query: null,
        fragment: null,
        // state
        duplicateQueryParameters: URI.duplicateQueryParameters,
        escapeQuerySpace: URI.escapeQuerySpace
      };
    }; // state: allow duplicate query parameters (a=1&a=1)


    URI.duplicateQueryParameters = false; // state: replaces + with %20 (space in query strings)

    URI.escapeQuerySpace = true; // static properties

    URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;
    URI.idn_expression = /[^a-z0-9\.-]/i;
    URI.punycode_expression = /(xn--)/i; // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?

    URI.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/; // credits to Rich Brown
    // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096
    // specification: http://www.ietf.org/rfc/rfc4291.txt

    URI.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/; // expression used is "gruber revised" (@gruber v2) determined to be the
    // best solution in a regex-golf we did a couple of ages ago at
    // * http://mathiasbynens.be/demo/url-regex
    // * http://rodneyrehm.de/t/url-regex.html

    URI.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig;
    URI.findUri = {
      // valid "scheme://" or "www."
      start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
      // everything up to the next whitespace
      end: /[\s\r\n]|$/,
      // trim trailing punctuation captured by end RegExp
      trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/
    }; // http://www.iana.org/assignments/uri-schemes.html
    // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports

    URI.defaultPorts = {
      http: '80',
      https: '443',
      ftp: '21',
      gopher: '70',
      ws: '80',
      wss: '443'
    }; // allowed hostname characters according to RFC 3986
    // ALPHA DIGIT "-" "." "_" "~" "!" "$" "&" "'" "(" ")" "*" "+" "," ";" "=" %encoded
    // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . -

    URI.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/; // map DOM Elements to their URI attribute

    URI.domAttributes = {
      'a': 'href',
      'blockquote': 'cite',
      'link': 'href',
      'base': 'href',
      'script': 'src',
      'form': 'action',
      'img': 'src',
      'area': 'href',
      'iframe': 'src',
      'embed': 'src',
      'source': 'src',
      'track': 'src',
      'input': 'src',
      // but only if type="image"
      'audio': 'src',
      'video': 'src'
    };

    URI.getDomAttribute = function (node) {
      if (!node || !node.nodeName) {
        return undefined;
      }

      var nodeName = node.nodeName.toLowerCase(); // <input> should only expose src for type="image"

      if (nodeName === 'input' && node.type !== 'image') {
        return undefined;
      }

      return URI.domAttributes[nodeName];
    };

    function escapeForDumbFirefox36(value) {
      // https://github.com/medialize/URI.js/issues/91
      return escape(value);
    } // encoding / decoding according to RFC3986


    function strictEncodeURIComponent(string) {
      // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent
      return encodeURIComponent(string).replace(/[!'()*]/g, escapeForDumbFirefox36).replace(/\*/g, '%2A');
    }

    URI.encode = strictEncodeURIComponent;
    URI.decode = decodeURIComponent;

    URI.iso8859 = function () {
      URI.encode = escape;
      URI.decode = unescape;
    };

    URI.unicode = function () {
      URI.encode = strictEncodeURIComponent;
      URI.decode = decodeURIComponent;
    };

    URI.characters = {
      pathname: {
        encode: {
          // RFC3986 2.1: For consistency, URI producers and normalizers should
          // use uppercase hexadecimal digits for all percent-encodings.
          expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,
          map: {
            // -._~!'()*
            '%24': '$',
            '%26': '&',
            '%2B': '+',
            '%2C': ',',
            '%3B': ';',
            '%3D': '=',
            '%3A': ':',
            '%40': '@'
          }
        },
        decode: {
          expression: /[\/\?#]/g,
          map: {
            '/': '%2F',
            '?': '%3F',
            '#': '%23'
          }
        }
      },
      reserved: {
        encode: {
          // RFC3986 2.1: For consistency, URI producers and normalizers should
          // use uppercase hexadecimal digits for all percent-encodings.
          expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,
          map: {
            // gen-delims
            '%3A': ':',
            '%2F': '/',
            '%3F': '?',
            '%23': '#',
            '%5B': '[',
            '%5D': ']',
            '%40': '@',
            // sub-delims
            '%21': '!',
            '%24': '$',
            '%26': '&',
            '%27': '\'',
            '%28': '(',
            '%29': ')',
            '%2A': '*',
            '%2B': '+',
            '%2C': ',',
            '%3B': ';',
            '%3D': '='
          }
        }
      },
      urnpath: {
        // The characters under `encode` are the characters called out by RFC 2141 as being acceptable
        // for usage in a URN. RFC2141 also calls out "-", ".", and "_" as acceptable characters, but
        // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also
        // note that the colon character is not featured in the encoding map; this is because URI.js
        // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it
        // should not appear unencoded in a segment itself.
        // See also the note above about RFC3986 and capitalalized hex digits.
        encode: {
          expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,
          map: {
            '%21': '!',
            '%24': '$',
            '%27': '\'',
            '%28': '(',
            '%29': ')',
            '%2A': '*',
            '%2B': '+',
            '%2C': ',',
            '%3B': ';',
            '%3D': '=',
            '%40': '@'
          }
        },
        // These characters are the characters called out by RFC2141 as "reserved" characters that
        // should never appear in a URN, plus the colon character (see note above).
        decode: {
          expression: /[\/\?#:]/g,
          map: {
            '/': '%2F',
            '?': '%3F',
            '#': '%23',
            ':': '%3A'
          }
        }
      }
    };

    URI.encodeQuery = function (string, escapeQuerySpace) {
      var escaped = URI.encode(string + '');

      if (escapeQuerySpace === undefined) {
        escapeQuerySpace = URI.escapeQuerySpace;
      }

      return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;
    };

    URI.decodeQuery = function (string, escapeQuerySpace) {
      string += '';

      if (escapeQuerySpace === undefined) {
        escapeQuerySpace = URI.escapeQuerySpace;
      }

      try {
        return URI.decode(escapeQuerySpace ? string.replace(/\+/g, '%20') : string);
      } catch (e) {
        // we're not going to mess with weird encodings,
        // give up and return the undecoded original string
        // see https://github.com/medialize/URI.js/issues/87
        // see https://github.com/medialize/URI.js/issues/92
        return string;
      }
    }; // generate encode/decode path functions


    var _parts = {
      'encode': 'encode',
      'decode': 'decode'
    };

    var _part;

    var generateAccessor = function (_group, _part) {
      return function (string) {
        try {
          return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function (c) {
            return URI.characters[_group][_part].map[c];
          });
        } catch (e) {
          // we're not going to mess with weird encodings,
          // give up and return the undecoded original string
          // see https://github.com/medialize/URI.js/issues/87
          // see https://github.com/medialize/URI.js/issues/92
          return string;
        }
      };
    };

    for (_part in _parts) {
      URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);
      URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);
    }

    var generateSegmentedPathFunction = function (_sep, _codingFuncName, _innerCodingFuncName) {
      return function (string) {
        // Why pass in names of functions, rather than the function objects themselves? The
        // definitions of some functions (but in particular, URI.decode) will occasionally change due
        // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure
        // that the functions we use here are "fresh".
        var actualCodingFunc;

        if (!_innerCodingFuncName) {
          actualCodingFunc = URI[_codingFuncName];
        } else {
          actualCodingFunc = function (string) {
            return URI[_codingFuncName](URI[_innerCodingFuncName](string));
          };
        }

        var segments = (string + '').split(_sep);

        for (var i = 0, length = segments.length; i < length; i++) {
          segments[i] = actualCodingFunc(segments[i]);
        }

        return segments.join(_sep);
      };
    }; // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.


    URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');
    URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');
    URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');
    URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');
    URI.encodeReserved = generateAccessor('reserved', 'encode');

    URI.parse = function (string, parts) {
      var pos;

      if (!parts) {
        parts = {};
      } // [protocol"://"[username[":"password]"@"]hostname[":"port]"/"?][path]["?"querystring]["#"fragment]
      // extract fragment


      pos = string.indexOf('#');

      if (pos > -1) {
        // escaping?
        parts.fragment = string.substring(pos + 1) || null;
        string = string.substring(0, pos);
      } // extract query


      pos = string.indexOf('?');

      if (pos > -1) {
        // escaping?
        parts.query = string.substring(pos + 1) || null;
        string = string.substring(0, pos);
      } // extract protocol


      if (string.substring(0, 2) === '//') {
        // relative-scheme
        parts.protocol = null;
        string = string.substring(2); // extract "user:pass@host:port"

        string = URI.parseAuthority(string, parts);
      } else {
        pos = string.indexOf(':');

        if (pos > -1) {
          parts.protocol = string.substring(0, pos) || null;

          if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {
            // : may be within the path
            parts.protocol = undefined;
          } else if (string.substring(pos + 1, pos + 3) === '//') {
            string = string.substring(pos + 3); // extract "user:pass@host:port"

            string = URI.parseAuthority(string, parts);
          } else {
            string = string.substring(pos + 1);
            parts.urn = true;
          }
        }
      } // what's left must be the path


      parts.path = string; // and we're done

      return parts;
    };

    URI.parseHost = function (string, parts) {
      // Copy chrome, IE, opera backslash-handling behavior.
      // Back slashes before the query string get converted to forward slashes
      // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124
      // See: https://code.google.com/p/chromium/issues/detail?id=25916
      // https://github.com/medialize/URI.js/pull/233
      string = string.replace(/\\/g, '/'); // extract host:port

      var pos = string.indexOf('/');
      var bracketPos;
      var t;

      if (pos === -1) {
        pos = string.length;
      }

      if (string.charAt(0) === '[') {
        // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6
        // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts
        // IPv6+port in the format [2001:db8::1]:80 (for the time being)
        bracketPos = string.indexOf(']');
        parts.hostname = string.substring(1, bracketPos) || null;
        parts.port = string.substring(bracketPos + 2, pos) || null;

        if (parts.port === '/') {
          parts.port = null;
        }
      } else {
        var firstColon = string.indexOf(':');
        var firstSlash = string.indexOf('/');
        var nextColon = string.indexOf(':', firstColon + 1);

        if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {
          // IPv6 host contains multiple colons - but no port
          // this notation is actually not allowed by RFC 3986, but we're a liberal parser
          parts.hostname = string.substring(0, pos) || null;
          parts.port = null;
        } else {
          t = string.substring(0, pos).split(':');
          parts.hostname = t[0] || null;
          parts.port = t[1] || null;
        }
      }

      if (parts.hostname && string.substring(pos).charAt(0) !== '/') {
        pos++;
        string = '/' + string;
      }

      return string.substring(pos) || '/';
    };

    URI.parseAuthority = function (string, parts) {
      string = URI.parseUserinfo(string, parts);
      return URI.parseHost(string, parts);
    };

    URI.parseUserinfo = function (string, parts) {
      // extract username:password
      var firstSlash = string.indexOf('/');
      var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);
      var t; // authority@ must come before /path

      if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {
        t = string.substring(0, pos).split(':');
        parts.username = t[0] ? URI.decode(t[0]) : null;
        t.shift();
        parts.password = t[0] ? URI.decode(t.join(':')) : null;
        string = string.substring(pos + 1);
      } else {
        parts.username = null;
        parts.password = null;
      }

      return string;
    };

    URI.parseQuery = function (string, escapeQuerySpace) {
      if (!string) {
        return {};
      } // throw out the funky business - "?"[name"="value"&"]+


      string = string.replace(/&+/g, '&').replace(/^\?*&*|&+$/g, '');

      if (!string) {
        return {};
      }

      var items = {};
      var splits = string.split('&');
      var length = splits.length;
      var v, name, value;

      for (var i = 0; i < length; i++) {
        v = splits[i].split('=');
        name = URI.decodeQuery(v.shift(), escapeQuerySpace); // no "=" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters

        value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;

        if (hasOwn.call(items, name)) {
          if (typeof items[name] === 'string' || items[name] === null) {
            items[name] = [items[name]];
          }

          items[name].push(value);
        } else {
          items[name] = value;
        }
      }

      return items;
    };

    URI.build = function (parts) {
      var t = '';

      if (parts.protocol) {
        t += parts.protocol + ':';
      }

      if (!parts.urn && (t || parts.hostname)) {
        t += '//';
      }

      t += URI.buildAuthority(parts) || '';

      if (typeof parts.path === 'string') {
        if (parts.path.charAt(0) !== '/' && typeof parts.hostname === 'string') {
          t += '/';
        }

        t += parts.path;
      }

      if (typeof parts.query === 'string' && parts.query) {
        t += '?' + parts.query;
      }

      if (typeof parts.fragment === 'string' && parts.fragment) {
        t += '#' + parts.fragment;
      }

      return t;
    };

    URI.buildHost = function (parts) {
      var t = '';

      if (!parts.hostname) {
        return '';
      } else if (URI.ip6_expression.test(parts.hostname)) {
        t += '[' + parts.hostname + ']';
      } else {
        t += parts.hostname;
      }

      if (parts.port) {
        t += ':' + parts.port;
      }

      return t;
    };

    URI.buildAuthority = function (parts) {
      return URI.buildUserinfo(parts) + URI.buildHost(parts);
    };

    URI.buildUserinfo = function (parts) {
      var t = '';

      if (parts.username) {
        t += URI.encode(parts.username);

        if (parts.password) {
          t += ':' + URI.encode(parts.password);
        }

        t += '@';
      }

      return t;
    };

    URI.buildQuery = function (data, duplicateQueryParameters, escapeQuerySpace) {
      // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html
      // being »-._~!$&'()*+,;=:@/?« %HEX and alnum are allowed
      // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!
      // URI.js treats the query string as being application/x-www-form-urlencoded
      // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type
      var t = '';
      var unique, key, i, length;

      for (key in data) {
        if (hasOwn.call(data, key) && key) {
          if (isArray(data[key])) {
            unique = {};

            for (i = 0, length = data[key].length; i < length; i++) {
              if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {
                t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);

                if (duplicateQueryParameters !== true) {
                  unique[data[key][i] + ''] = true;
                }
              }
            }
          } else if (data[key] !== undefined) {
            t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);
          }
        }
      }

      return t.substring(1);
    };

    URI.buildQueryParameter = function (name, value, escapeQuerySpace) {
      // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded
      // don't append "=" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization
      return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');
    };

    URI.addQuery = function (data, name, value) {
      if (typeof name === 'object') {
        for (var key in name) {
          if (hasOwn.call(name, key)) {
            URI.addQuery(data, key, name[key]);
          }
        }
      } else if (typeof name === 'string') {
        if (data[name] === undefined) {
          data[name] = value;
          return;
        } else if (typeof data[name] === 'string') {
          data[name] = [data[name]];
        }

        if (!isArray(value)) {
          value = [value];
        }

        data[name] = (data[name] || []).concat(value);
      } else {
        throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
      }
    };

    URI.removeQuery = function (data, name, value) {
      var i, length, key;

      if (isArray(name)) {
        for (i = 0, length = name.length; i < length; i++) {
          data[name[i]] = undefined;
        }
      } else if (getType(name) === 'RegExp') {
        for (key in data) {
          if (name.test(key)) {
            data[key] = undefined;
          }
        }
      } else if (typeof name === 'object') {
        for (key in name) {
          if (hasOwn.call(name, key)) {
            URI.removeQuery(data, key, name[key]);
          }
        }
      } else if (typeof name === 'string') {
        if (value !== undefined) {
          if (getType(value) === 'RegExp') {
            if (!isArray(data[name]) && value.test(data[name])) {
              data[name] = undefined;
            } else {
              data[name] = filterArrayValues(data[name], value);
            }
          } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {
            data[name] = undefined;
          } else if (isArray(data[name])) {
            data[name] = filterArrayValues(data[name], value);
          }
        } else {
          data[name] = undefined;
        }
      } else {
        throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');
      }
    };

    URI.hasQuery = function (data, name, value, withinArray) {
      if (typeof name === 'object') {
        for (var key in name) {
          if (hasOwn.call(name, key)) {
            if (!URI.hasQuery(data, key, name[key])) {
              return false;
            }
          }
        }

        return true;
      } else if (typeof name !== 'string') {
        throw new TypeError('URI.hasQuery() accepts an object, string as the name parameter');
      }

      switch (getType(value)) {
        case 'Undefined':
          // true if exists (but may be empty)
          return name in data;
        // data[name] !== undefined;

        case 'Boolean':
          // true if exists and non-empty
          var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);

          return value === _booly;

        case 'Function':
          // allow complex comparison
          return !!value(data[name], name, data);

        case 'Array':
          if (!isArray(data[name])) {
            return false;
          }

          var op = withinArray ? arrayContains : arraysEqual;
          return op(data[name], value);

        case 'RegExp':
          if (!isArray(data[name])) {
            return Boolean(data[name] && data[name].match(value));
          }

          if (!withinArray) {
            return false;
          }

          return arrayContains(data[name], value);

        case 'Number':
          value = String(value);

        /* falls through */

        case 'String':
          if (!isArray(data[name])) {
            return data[name] === value;
          }

          if (!withinArray) {
            return false;
          }

          return arrayContains(data[name], value);

        default:
          throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');
      }
    };

    URI.commonPath = function (one, two) {
      var length = Math.min(one.length, two.length);
      var pos; // find first non-matching character

      for (pos = 0; pos < length; pos++) {
        if (one.charAt(pos) !== two.charAt(pos)) {
          pos--;
          break;
        }
      }

      if (pos < 1) {
        return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';
      } // revert to last /


      if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {
        pos = one.substring(0, pos).lastIndexOf('/');
      }

      return one.substring(0, pos + 1);
    };

    URI.withinString = function (string, callback, options) {
      options || (options = {});

      var _start = options.start || URI.findUri.start;

      var _end = options.end || URI.findUri.end;

      var _trim = options.trim || URI.findUri.trim;

      var _attributeOpen = /[a-z0-9-]=["']?$/i;
      _start.lastIndex = 0;

      while (true) {
        var match = _start.exec(string);

        if (!match) {
          break;
        }

        var start = match.index;

        if (options.ignoreHtml) {
          // attribut(e=["']?$)
          var attributeOpen = string.slice(Math.max(start - 3, 0), start);

          if (attributeOpen && _attributeOpen.test(attributeOpen)) {
            continue;
          }
        }

        var end = start + string.slice(start).search(_end);
        var slice = string.slice(start, end).replace(_trim, '');

        if (options.ignore && options.ignore.test(slice)) {
          continue;
        }

        end = start + slice.length;
        var result = callback(slice, start, end, string);
        string = string.slice(0, start) + result + string.slice(end);
        _start.lastIndex = start + result.length;
      }

      _start.lastIndex = 0;
      return string;
    };

    URI.ensureValidHostname = function (v) {
      // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)
      // they are not part of DNS and therefore ignored by URI.js
      if (v.match(URI.invalid_hostname_characters)) {
        // test punycode
        if (!punycode) {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available');
        }

        if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }
      }
    }; // noConflict


    URI.noConflict = function (removeAll) {
      if (removeAll) {
        var unconflicted = {
          URI: this.noConflict()
        };

        if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {
          unconflicted.URITemplate = root.URITemplate.noConflict();
        }

        if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {
          unconflicted.IPv6 = root.IPv6.noConflict();
        }

        if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {
          unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();
        }

        return unconflicted;
      } else if (root.URI === this) {
        root.URI = _URI;
      }

      return this;
    };

    p.build = function (deferBuild) {
      if (deferBuild === true) {
        this._deferred_build = true;
      } else if (deferBuild === undefined || this._deferred_build) {
        this._string = URI.build(this._parts);
        this._deferred_build = false;
      }

      return this;
    };

    p.clone = function () {
      return new URI(this);
    };

    p.valueOf = p.toString = function () {
      return this.build(false)._string;
    };

    function generateSimpleAccessor(_part) {
      return function (v, build) {
        if (v === undefined) {
          return this._parts[_part] || '';
        } else {
          this._parts[_part] = v || null;
          this.build(!build);
          return this;
        }
      };
    }

    function generatePrefixAccessor(_part, _key) {
      return function (v, build) {
        if (v === undefined) {
          return this._parts[_part] || '';
        } else {
          if (v !== null) {
            v = v + '';

            if (v.charAt(0) === _key) {
              v = v.substring(1);
            }
          }

          this._parts[_part] = v;
          this.build(!build);
          return this;
        }
      };
    }

    p.protocol = generateSimpleAccessor('protocol');
    p.username = generateSimpleAccessor('username');
    p.password = generateSimpleAccessor('password');
    p.hostname = generateSimpleAccessor('hostname');
    p.port = generateSimpleAccessor('port');
    p.query = generatePrefixAccessor('query', '?');
    p.fragment = generatePrefixAccessor('fragment', '#');

    p.search = function (v, build) {
      var t = this.query(v, build);
      return typeof t === 'string' && t.length ? '?' + t : t;
    };

    p.hash = function (v, build) {
      var t = this.fragment(v, build);
      return typeof t === 'string' && t.length ? '#' + t : t;
    };

    p.pathname = function (v, build) {
      if (v === undefined || v === true) {
        var res = this._parts.path || (this._parts.hostname ? '/' : '');
        return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;
      } else {
        if (this._parts.urn) {
          this._parts.path = v ? URI.recodeUrnPath(v) : '';
        } else {
          this._parts.path = v ? URI.recodePath(v) : '/';
        }

        this.build(!build);
        return this;
      }
    };

    p.path = p.pathname;

    p.href = function (href, build) {
      var key;

      if (href === undefined) {
        return this.toString();
      }

      this._string = '';
      this._parts = URI._parts();

      var _URI = href instanceof URI;

      var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);

      if (href.nodeName) {
        var attribute = URI.getDomAttribute(href);
        href = href[attribute] || '';
        _object = false;
      } // window.location is reported to be an object, but it's not the sort
      // of object we're looking for:
      // * location.protocol ends with a colon
      // * location.query != object.search
      // * location.hash != object.fragment
      // simply serializing the unknown object should do the trick
      // (for location, not for everything...)


      if (!_URI && _object && href.pathname !== undefined) {
        href = href.toString();
      }

      if (typeof href === 'string' || href instanceof String) {
        this._parts = URI.parse(String(href), this._parts);
      } else if (_URI || _object) {
        var src = _URI ? href._parts : href;

        for (key in src) {
          if (hasOwn.call(this._parts, key)) {
            this._parts[key] = src[key];
          }
        }
      } else {
        throw new TypeError('invalid input');
      }

      this.build(!build);
      return this;
    }; // identification accessors


    p.is = function (what) {
      var ip = false;
      var ip4 = false;
      var ip6 = false;
      var name = false;
      var sld = false;
      var idn = false;
      var punycode = false;
      var relative = !this._parts.urn;

      if (this._parts.hostname) {
        relative = false;
        ip4 = URI.ip4_expression.test(this._parts.hostname);
        ip6 = URI.ip6_expression.test(this._parts.hostname);
        ip = ip4 || ip6;
        name = !ip;
        sld = name && SLD && SLD.has(this._parts.hostname);
        idn = name && URI.idn_expression.test(this._parts.hostname);
        punycode = name && URI.punycode_expression.test(this._parts.hostname);
      }

      switch (what.toLowerCase()) {
        case 'relative':
          return relative;

        case 'absolute':
          return !relative;
        // hostname identification

        case 'domain':
        case 'name':
          return name;

        case 'sld':
          return sld;

        case 'ip':
          return ip;

        case 'ip4':
        case 'ipv4':
        case 'inet4':
          return ip4;

        case 'ip6':
        case 'ipv6':
        case 'inet6':
          return ip6;

        case 'idn':
          return idn;

        case 'url':
          return !this._parts.urn;

        case 'urn':
          return !!this._parts.urn;

        case 'punycode':
          return punycode;
      }

      return null;
    }; // component specific input validation


    var _protocol = p.protocol;
    var _port = p.port;
    var _hostname = p.hostname;

    p.protocol = function (v, build) {
      if (v !== undefined) {
        if (v) {
          // accept trailing ://
          v = v.replace(/:(\/\/)?$/, '');

          if (!v.match(URI.protocol_expression)) {
            throw new TypeError('Protocol "' + v + '" contains characters other than [A-Z0-9.+-] or doesn\'t start with [A-Z]');
          }
        }
      }

      return _protocol.call(this, v, build);
    };

    p.scheme = p.protocol;

    p.port = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v !== undefined) {
        if (v === 0) {
          v = null;
        }

        if (v) {
          v += '';

          if (v.charAt(0) === ':') {
            v = v.substring(1);
          }

          if (v.match(/[^0-9]/)) {
            throw new TypeError('Port "' + v + '" contains characters other than [0-9]');
          }
        }
      }

      return _port.call(this, v, build);
    };

    p.hostname = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v !== undefined) {
        var x = {};
        var res = URI.parseHost(v, x);

        if (res !== '/') {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }

        v = x.hostname;
      }

      return _hostname.call(this, v, build);
    }; // compound accessors


    p.origin = function (v, build) {
      var parts;

      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        var protocol = this.protocol();
        var authority = this.authority();
        if (!authority) return '';
        return (protocol ? protocol + '://' : '') + this.authority();
      } else {
        var origin = URI(v);
        this.protocol(origin.protocol()).authority(origin.authority()).build(!build);
        return this;
      }
    };

    p.host = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        return this._parts.hostname ? URI.buildHost(this._parts) : '';
      } else {
        var res = URI.parseHost(v, this._parts);

        if (res !== '/') {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }

        this.build(!build);
        return this;
      }
    };

    p.authority = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        return this._parts.hostname ? URI.buildAuthority(this._parts) : '';
      } else {
        var res = URI.parseAuthority(v, this._parts);

        if (res !== '/') {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }

        this.build(!build);
        return this;
      }
    };

    p.userinfo = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        if (!this._parts.username) {
          return '';
        }

        var t = URI.buildUserinfo(this._parts);
        return t.substring(0, t.length - 1);
      } else {
        if (v[v.length - 1] !== '@') {
          v += '@';
        }

        URI.parseUserinfo(v, this._parts);
        this.build(!build);
        return this;
      }
    };

    p.resource = function (v, build) {
      var parts;

      if (v === undefined) {
        return this.path() + this.search() + this.hash();
      }

      parts = URI.parse(v);
      this._parts.path = parts.path;
      this._parts.query = parts.query;
      this._parts.fragment = parts.fragment;
      this.build(!build);
      return this;
    }; // fraction accessors


    p.subdomain = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      } // convenience, return "www" from "www.example.org"


      if (v === undefined) {
        if (!this._parts.hostname || this.is('IP')) {
          return '';
        } // grab domain and add another segment


        var end = this._parts.hostname.length - this.domain().length - 1;
        return this._parts.hostname.substring(0, end) || '';
      } else {
        var e = this._parts.hostname.length - this.domain().length;

        var sub = this._parts.hostname.substring(0, e);

        var replace = new RegExp('^' + escapeRegEx(sub));

        if (v && v.charAt(v.length - 1) !== '.') {
          v += '.';
        }

        if (v) {
          URI.ensureValidHostname(v);
        }

        this._parts.hostname = this._parts.hostname.replace(replace, v);
        this.build(!build);
        return this;
      }
    };

    p.domain = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (typeof v === 'boolean') {
        build = v;
        v = undefined;
      } // convenience, return "example.org" from "www.example.org"


      if (v === undefined) {
        if (!this._parts.hostname || this.is('IP')) {
          return '';
        } // if hostname consists of 1 or 2 segments, it must be the domain


        var t = this._parts.hostname.match(/\./g);

        if (t && t.length < 2) {
          return this._parts.hostname;
        } // grab tld and add another segment


        var end = this._parts.hostname.length - this.tld(build).length - 1;
        end = this._parts.hostname.lastIndexOf('.', end - 1) + 1;
        return this._parts.hostname.substring(end) || '';
      } else {
        if (!v) {
          throw new TypeError('cannot set domain empty');
        }

        URI.ensureValidHostname(v);

        if (!this._parts.hostname || this.is('IP')) {
          this._parts.hostname = v;
        } else {
          var replace = new RegExp(escapeRegEx(this.domain()) + '$');
          this._parts.hostname = this._parts.hostname.replace(replace, v);
        }

        this.build(!build);
        return this;
      }
    };

    p.tld = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (typeof v === 'boolean') {
        build = v;
        v = undefined;
      } // return "org" from "www.example.org"


      if (v === undefined) {
        if (!this._parts.hostname || this.is('IP')) {
          return '';
        }

        var pos = this._parts.hostname.lastIndexOf('.');

        var tld = this._parts.hostname.substring(pos + 1);

        if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {
          return SLD.get(this._parts.hostname) || tld;
        }

        return tld;
      } else {
        var replace;

        if (!v) {
          throw new TypeError('cannot set TLD empty');
        } else if (v.match(/[^a-zA-Z0-9-]/)) {
          if (SLD && SLD.is(v)) {
            replace = new RegExp(escapeRegEx(this.tld()) + '$');
            this._parts.hostname = this._parts.hostname.replace(replace, v);
          } else {
            throw new TypeError('TLD "' + v + '" contains characters other than [A-Z0-9]');
          }
        } else if (!this._parts.hostname || this.is('IP')) {
          throw new ReferenceError('cannot set TLD on non-domain host');
        } else {
          replace = new RegExp(escapeRegEx(this.tld()) + '$');
          this._parts.hostname = this._parts.hostname.replace(replace, v);
        }

        this.build(!build);
        return this;
      }
    };

    p.directory = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined || v === true) {
        if (!this._parts.path && !this._parts.hostname) {
          return '';
        }

        if (this._parts.path === '/') {
          return '/';
        }

        var end = this._parts.path.length - this.filename().length - 1;
        var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');
        return v ? URI.decodePath(res) : res;
      } else {
        var e = this._parts.path.length - this.filename().length;

        var directory = this._parts.path.substring(0, e);

        var replace = new RegExp('^' + escapeRegEx(directory)); // fully qualifier directories begin with a slash

        if (!this.is('relative')) {
          if (!v) {
            v = '/';
          }

          if (v.charAt(0) !== '/') {
            v = '/' + v;
          }
        } // directories always end with a slash


        if (v && v.charAt(v.length - 1) !== '/') {
          v += '/';
        }

        v = URI.recodePath(v);
        this._parts.path = this._parts.path.replace(replace, v);
        this.build(!build);
        return this;
      }
    };

    p.filename = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined || v === true) {
        if (!this._parts.path || this._parts.path === '/') {
          return '';
        }

        var pos = this._parts.path.lastIndexOf('/');

        var res = this._parts.path.substring(pos + 1);

        return v ? URI.decodePathSegment(res) : res;
      } else {
        var mutatedDirectory = false;

        if (v.charAt(0) === '/') {
          v = v.substring(1);
        }

        if (v.match(/\.?\//)) {
          mutatedDirectory = true;
        }

        var replace = new RegExp(escapeRegEx(this.filename()) + '$');
        v = URI.recodePath(v);
        this._parts.path = this._parts.path.replace(replace, v);

        if (mutatedDirectory) {
          this.normalizePath(build);
        } else {
          this.build(!build);
        }

        return this;
      }
    };

    p.suffix = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined || v === true) {
        if (!this._parts.path || this._parts.path === '/') {
          return '';
        }

        var filename = this.filename();
        var pos = filename.lastIndexOf('.');
        var s, res;

        if (pos === -1) {
          return '';
        } // suffix may only contain alnum characters (yup, I made this up.)


        s = filename.substring(pos + 1);
        res = /^[a-z0-9%]+$/i.test(s) ? s : '';
        return v ? URI.decodePathSegment(res) : res;
      } else {
        if (v.charAt(0) === '.') {
          v = v.substring(1);
        }

        var suffix = this.suffix();
        var replace;

        if (!suffix) {
          if (!v) {
            return this;
          }

          this._parts.path += '.' + URI.recodePath(v);
        } else if (!v) {
          replace = new RegExp(escapeRegEx('.' + suffix) + '$');
        } else {
          replace = new RegExp(escapeRegEx(suffix) + '$');
        }

        if (replace) {
          v = URI.recodePath(v);
          this._parts.path = this._parts.path.replace(replace, v);
        }

        this.build(!build);
        return this;
      }
    };

    p.segment = function (segment, v, build) {
      var separator = this._parts.urn ? ':' : '/';
      var path = this.path();
      var absolute = path.substring(0, 1) === '/';
      var segments = path.split(separator);

      if (segment !== undefined && typeof segment !== 'number') {
        build = v;
        v = segment;
        segment = undefined;
      }

      if (segment !== undefined && typeof segment !== 'number') {
        throw new Error('Bad segment "' + segment + '", must be 0-based integer');
      }

      if (absolute) {
        segments.shift();
      }

      if (segment < 0) {
        // allow negative indexes to address from the end
        segment = Math.max(segments.length + segment, 0);
      }

      if (v === undefined) {
        /*jshint laxbreak: true */
        return segment === undefined ? segments : segments[segment];
        /*jshint laxbreak: false */
      } else if (segment === null || segments[segment] === undefined) {
        if (isArray(v)) {
          segments = []; // collapse empty elements within array

          for (var i = 0, l = v.length; i < l; i++) {
            if (!v[i].length && (!segments.length || !segments[segments.length - 1].length)) {
              continue;
            }

            if (segments.length && !segments[segments.length - 1].length) {
              segments.pop();
            }

            segments.push(trimSlashes(v[i]));
          }
        } else if (v || typeof v === 'string') {
          v = trimSlashes(v);

          if (segments[segments.length - 1] === '') {
            // empty trailing elements have to be overwritten
            // to prevent results such as /foo//bar
            segments[segments.length - 1] = v;
          } else {
            segments.push(v);
          }
        }
      } else {
        if (v) {
          segments[segment] = trimSlashes(v);
        } else {
          segments.splice(segment, 1);
        }
      }

      if (absolute) {
        segments.unshift('');
      }

      return this.path(segments.join(separator), build);
    };

    p.segmentCoded = function (segment, v, build) {
      var segments, i, l;

      if (typeof segment !== 'number') {
        build = v;
        v = segment;
        segment = undefined;
      }

      if (v === undefined) {
        segments = this.segment(segment, v, build);

        if (!isArray(segments)) {
          segments = segments !== undefined ? URI.decode(segments) : undefined;
        } else {
          for (i = 0, l = segments.length; i < l; i++) {
            segments[i] = URI.decode(segments[i]);
          }
        }

        return segments;
      }

      if (!isArray(v)) {
        v = typeof v === 'string' || v instanceof String ? URI.encode(v) : v;
      } else {
        for (i = 0, l = v.length; i < l; i++) {
          v[i] = URI.encode(v[i]);
        }
      }

      return this.segment(segment, v, build);
    }; // mutating query string


    var q = p.query;

    p.query = function (v, build) {
      if (v === true) {
        return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      } else if (typeof v === 'function') {
        var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
        var result = v.call(this, data);
        this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
        this.build(!build);
        return this;
      } else if (v !== undefined && typeof v !== 'string') {
        this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
        this.build(!build);
        return this;
      } else {
        return q.call(this, v, build);
      }
    };

    p.setQuery = function (name, value, build) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);

      if (typeof name === 'string' || name instanceof String) {
        data[name] = value !== undefined ? value : null;
      } else if (typeof name === 'object') {
        for (var key in name) {
          if (hasOwn.call(name, key)) {
            data[key] = name[key];
          }
        }
      } else {
        throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
      }

      this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

      if (typeof name !== 'string') {
        build = value;
      }

      this.build(!build);
      return this;
    };

    p.addQuery = function (name, value, build) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      URI.addQuery(data, name, value === undefined ? null : value);
      this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

      if (typeof name !== 'string') {
        build = value;
      }

      this.build(!build);
      return this;
    };

    p.removeQuery = function (name, value, build) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      URI.removeQuery(data, name, value);
      this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

      if (typeof name !== 'string') {
        build = value;
      }

      this.build(!build);
      return this;
    };

    p.hasQuery = function (name, value, withinArray) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      return URI.hasQuery(data, name, value, withinArray);
    };

    p.setSearch = p.setQuery;
    p.addSearch = p.addQuery;
    p.removeSearch = p.removeQuery;
    p.hasSearch = p.hasQuery; // sanitizing URLs

    p.normalize = function () {
      if (this._parts.urn) {
        return this.normalizeProtocol(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
      }

      return this.normalizeProtocol(false).normalizeHostname(false).normalizePort(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
    };

    p.normalizeProtocol = function (build) {
      if (typeof this._parts.protocol === 'string') {
        this._parts.protocol = this._parts.protocol.toLowerCase();
        this.build(!build);
      }

      return this;
    };

    p.normalizeHostname = function (build) {
      if (this._parts.hostname) {
        if (this.is('IDN') && punycode) {
          this._parts.hostname = punycode.toASCII(this._parts.hostname);
        } else if (this.is('IPv6') && IPv6) {
          this._parts.hostname = IPv6.best(this._parts.hostname);
        }

        this._parts.hostname = this._parts.hostname.toLowerCase();
        this.build(!build);
      }

      return this;
    };

    p.normalizePort = function (build) {
      // remove port of it's the protocol's default
      if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {
        this._parts.port = null;
        this.build(!build);
      }

      return this;
    };

    p.normalizePath = function (build) {
      var _path = this._parts.path;

      if (!_path) {
        return this;
      }

      if (this._parts.urn) {
        this._parts.path = URI.recodeUrnPath(this._parts.path);
        this.build(!build);
        return this;
      }

      if (this._parts.path === '/') {
        return this;
      }

      var _was_relative;

      var _leadingParents = '';

      var _parent, _pos; // handle relative paths


      if (_path.charAt(0) !== '/') {
        _was_relative = true;
        _path = '/' + _path;
      } // handle relative files (as opposed to directories)


      if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {
        _path += '/';
      } // resolve simples


      _path = _path.replace(/(\/(\.\/)+)|(\/\.$)/g, '/').replace(/\/{2,}/g, '/'); // remember leading parents

      if (_was_relative) {
        _leadingParents = _path.substring(1).match(/^(\.\.\/)+/) || '';

        if (_leadingParents) {
          _leadingParents = _leadingParents[0];
        }
      } // resolve parents


      while (true) {
        _parent = _path.indexOf('/..');

        if (_parent === -1) {
          // no more ../ to resolve
          break;
        } else if (_parent === 0) {
          // top level cannot be relative, skip it
          _path = _path.substring(3);
          continue;
        }

        _pos = _path.substring(0, _parent).lastIndexOf('/');

        if (_pos === -1) {
          _pos = _parent;
        }

        _path = _path.substring(0, _pos) + _path.substring(_parent + 3);
      } // revert to relative


      if (_was_relative && this.is('relative')) {
        _path = _leadingParents + _path.substring(1);
      }

      _path = URI.recodePath(_path);
      this._parts.path = _path;
      this.build(!build);
      return this;
    };

    p.normalizePathname = p.normalizePath;

    p.normalizeQuery = function (build) {
      if (typeof this._parts.query === 'string') {
        if (!this._parts.query.length) {
          this._parts.query = null;
        } else {
          this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));
        }

        this.build(!build);
      }

      return this;
    };

    p.normalizeFragment = function (build) {
      if (!this._parts.fragment) {
        this._parts.fragment = null;
        this.build(!build);
      }

      return this;
    };

    p.normalizeSearch = p.normalizeQuery;
    p.normalizeHash = p.normalizeFragment;

    p.iso8859 = function () {
      // expect unicode input, iso8859 output
      var e = URI.encode;
      var d = URI.decode;
      URI.encode = escape;
      URI.decode = decodeURIComponent;

      try {
        this.normalize();
      } finally {
        URI.encode = e;
        URI.decode = d;
      }

      return this;
    };

    p.unicode = function () {
      // expect iso8859 input, unicode output
      var e = URI.encode;
      var d = URI.decode;
      URI.encode = strictEncodeURIComponent;
      URI.decode = unescape;

      try {
        this.normalize();
      } finally {
        URI.encode = e;
        URI.decode = d;
      }

      return this;
    };

    p.readable = function () {
      var uri = this.clone(); // removing username, password, because they shouldn't be displayed according to RFC 3986

      uri.username('').password('').normalize();
      var t = '';

      if (uri._parts.protocol) {
        t += uri._parts.protocol + '://';
      }

      if (uri._parts.hostname) {
        if (uri.is('punycode') && punycode) {
          t += punycode.toUnicode(uri._parts.hostname);

          if (uri._parts.port) {
            t += ':' + uri._parts.port;
          }
        } else {
          t += uri.host();
        }
      }

      if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {
        t += '/';
      }

      t += uri.path(true);

      if (uri._parts.query) {
        var q = '';

        for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {
          var kv = (qp[i] || '').split('=');
          q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace).replace(/&/g, '%26');

          if (kv[1] !== undefined) {
            q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace).replace(/&/g, '%26');
          }
        }

        t += '?' + q.substring(1);
      }

      t += URI.decodeQuery(uri.hash(), true);
      return t;
    }; // resolving relative and absolute URLs


    p.absoluteTo = function (base) {
      var resolved = this.clone();
      var properties = ['protocol', 'username', 'password', 'hostname', 'port'];
      var basedir, i, p;

      if (this._parts.urn) {
        throw new Error('URNs do not have any generally defined hierarchical components');
      }

      if (!(base instanceof URI)) {
        base = new URI(base);
      }

      if (!resolved._parts.protocol) {
        resolved._parts.protocol = base._parts.protocol;
      }

      if (this._parts.hostname) {
        return resolved;
      }

      for (i = 0; p = properties[i]; i++) {
        resolved._parts[p] = base._parts[p];
      }

      if (!resolved._parts.path) {
        resolved._parts.path = base._parts.path;

        if (!resolved._parts.query) {
          resolved._parts.query = base._parts.query;
        }
      } else if (resolved._parts.path.substring(-2) === '..') {
        resolved._parts.path += '/';
      }

      if (resolved.path().charAt(0) !== '/') {
        basedir = base.directory();
        basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';
        resolved._parts.path = (basedir ? basedir + '/' : '') + resolved._parts.path;
        resolved.normalizePath();
      }

      resolved.build();
      return resolved;
    };

    p.relativeTo = function (base) {
      var relative = this.clone().normalize();
      var relativeParts, baseParts, common, relativePath, basePath;

      if (relative._parts.urn) {
        throw new Error('URNs do not have any generally defined hierarchical components');
      }

      base = new URI(base).normalize();
      relativeParts = relative._parts;
      baseParts = base._parts;
      relativePath = relative.path();
      basePath = base.path();

      if (relativePath.charAt(0) !== '/') {
        throw new Error('URI is already relative');
      }

      if (basePath.charAt(0) !== '/') {
        throw new Error('Cannot calculate a URI relative to another relative URI');
      }

      if (relativeParts.protocol === baseParts.protocol) {
        relativeParts.protocol = null;
      }

      if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {
        return relative.build();
      }

      if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {
        return relative.build();
      }

      if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {
        relativeParts.hostname = null;
        relativeParts.port = null;
      } else {
        return relative.build();
      }

      if (relativePath === basePath) {
        relativeParts.path = '';
        return relative.build();
      } // determine common sub path


      common = URI.commonPath(relativePath, basePath); // If the paths have nothing in common, return a relative URL with the absolute path.

      if (!common) {
        return relative.build();
      }

      var parents = baseParts.path.substring(common.length).replace(/[^\/]*$/, '').replace(/.*?\//g, '../');
      relativeParts.path = parents + relativeParts.path.substring(common.length) || './';
      return relative.build();
    }; // comparing URIs


    p.equals = function (uri) {
      var one = this.clone();
      var two = new URI(uri);
      var one_map = {};
      var two_map = {};
      var checked = {};
      var one_query, two_query, key;
      one.normalize();
      two.normalize(); // exact match

      if (one.toString() === two.toString()) {
        return true;
      } // extract query string


      one_query = one.query();
      two_query = two.query();
      one.query('');
      two.query(''); // definitely not equal if not even non-query parts match

      if (one.toString() !== two.toString()) {
        return false;
      } // query parameters have the same length, even if they're permuted


      if (one_query.length !== two_query.length) {
        return false;
      }

      one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);
      two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);

      for (key in one_map) {
        if (hasOwn.call(one_map, key)) {
          if (!isArray(one_map[key])) {
            if (one_map[key] !== two_map[key]) {
              return false;
            }
          } else if (!arraysEqual(one_map[key], two_map[key])) {
            return false;
          }

          checked[key] = true;
        }
      }

      for (key in two_map) {
        if (hasOwn.call(two_map, key)) {
          if (!checked[key]) {
            // two contains a parameter not present in one
            return false;
          }
        }
      }

      return true;
    }; // state


    p.duplicateQueryParameters = function (v) {
      this._parts.duplicateQueryParameters = !!v;
      return this;
    };

    p.escapeQuerySpace = function (v) {
      this._parts.escapeQuerySpace = !!v;
      return this;
    };

    return URI;
  });
}.call(this, module);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"collection_helpers.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesHandler = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText;

InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						{{#if is_textarea}}\n							<textarea title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\"></textarea>\n						{{/if}}\n						{{#unless is_textarea}}\n							<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						{{/unless}}\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.createTracesHanlder = function (steedosData) {
  var tracesHanlderCompiled, tracesHanlderHtml, tracesHanlderRenderFunction;
  tracesHanlderHtml = _getViewHtml('client/views/instance/traces_handler.html');
  tracesHanlderCompiled = SpacebarsCompiler.compile(tracesHanlderHtml, {
    isBody: true
  });
  tracesHanlderRenderFunction = eval(tracesHanlderCompiled);
  Template.instance_traces_handler = new Blaze.Template("instance_traces_handler", tracesHanlderRenderFunction);
  Template.instance_traces_handler.steedosData = steedosData;
  return Template.instance_traces_handler.helpers(TracesHandler.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    InstanceReadOnlyTemplate.createTracesHanlder(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);

    if (!/^http(s?):\/\//.test(detail_url)) {
      detail_url = Steedos.absoluteUrl(detail_url);
    }

    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, hours, month, seconds, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(Markdown(value));
      }

      break;

    case 'number':
      if (value || value === 0) {
        value = Steedos.numberToString(value, field.digits);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

      break;

    case 'html':
      value = value ? "<div class=\"steedos-html\">" + value + "</div>" : '';
  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, locale, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  locale = _getLocale(user);
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email' || (options != null ? options.editable : void 0)) {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>" + TAPi18n.__('instance_attachment', {}, locale) + "</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + TAPi18n.__('instance_approval_history', {}, locale) + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b && b.checked && t){\n		t.style = 'display: block;'\n	} else if(t){\n		t.style = 'display: none;'\n	}\n	if(b){\n		b.addEventListener('change', function(e){\n			if (e.target.checked){\n				t.style = 'display: block;'\n			} else {\n				t.style = 'display: none;'\n			}\n		});\n	}\n\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox && attachmentsCheckbox.checked && attachmentsView){\n		attachmentsView.style = 'display: block;'\n	} else if(attachmentsView){\n		attachmentsView.style = 'display: none;'\n	}\n	if(attachmentsCheckbox){\n		attachmentsCheckbox.addEventListener('change', function(e){\n			if (e.target.checked){\n				attachmentsView.style = 'display: block;'\n			} else {\n				attachmentsView.style = 'display: none;'\n			}\n		});\n	}\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0], sf_name, fieldVal[sf.code])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable, sfieldsEditable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable, sfieldsEditable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable, sfieldsEditable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable || sfieldsEditable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'number':
        if (value || value == 0) {
          td_value = Steedos.numberToString(value, field.digits);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable || template.data.atts.sfieldsEditable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var sfieldsEditable = this.data.atts.sfieldsEditable;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable, sfieldsEditable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }

    var c = InstanceManager.getCurrentStep();

    if (c.step_type == 'counterSign' || InstanceManager.ccHasEditPermission()) {
      this.autorun(function () {
        var data = Template.currentData();
        var field = data.name;
        var keys = SteedosTable.getKeys(field);
        var validValue = SteedosTable.handleData(field, data.value);
        SteedosTable.setTableValue(field, validValue);
        $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), data.atts.editable, sfieldsEditable));
      });
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_handler.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_handler.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesHandler.helpers = {
  showSignImage: function (handler, is_finished, judge) {
    var spaceUserSign;

    if (!is_finished) {
      return false;
    }

    if (['returned', 'terminated', 'retrieved'].includes(judge)) {
      return false;
    }

    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      return true;
    } else {
      return false;
    }
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    Form_formula.run("", "", formula_fields, AutoForm.getFormValues("instanceform").insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: AutoForm.getFormValues("instanceform").insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  flow_files: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    });
  },
  isDraftAndFlowfilesExist: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return Session.get('box') == 'draft' && !!cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    }).count();
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      var ref3;

      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup) && !approve.is_finished || ((ref3 = Meteor.settings["public"].workflow) != null ? ref3.showBlankApproveDescription : void 0))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    var ref;
    return InstanceformTemplate.helpers.unempty(val) || ((ref = Meteor.settings["public"].workflow) != null ? ref.showBlankApproveDescription : void 0);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign, judge) {
    var spaceUserSign;

    if (['returned', 'terminated', 'retrieved'].includes(judge)) {
      return false;
    }

    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge, autoSubmitted) {
    var approveStatusIcon;

    if (autoSubmitted === true) {
      return 'ion ion-android-alarm-clock';
    }

    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge, autoSubmitted) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (autoSubmitted === true) {
      return TAPi18n.__('instance_approve_timeout_auto_submitted', {}, locale);
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  getApproveJudgeClass: function (approveJudge, autoSubmitted) {
    if (autoSubmitted === true) {
      return 'autoSubmitted';
    }

    return approveJudge;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated' && Steedos.hasFeature('file_distribution', Steedos.getSpaceId())) {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user = user._id;
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'click .approve-item a.btn-link,.approve-description a.btn-link,.approve-item-distribute a.btn-link': function (event, template) {
    var ref, userId;

    if (Steedos.isMobile()) {
      userId = (ref = event.target.dataset) != null ? ref.target_user_id : void 0;
      return Creator.openSafeObjectUrl('users', userId);
    }
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      event.stopPropagation();
      event.preventDefault();
      return false;
    }
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"routes":{"designer.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/designer.coffee                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var DesignerAPI;
DesignerAPI = {
  getAbsoluteUrl: function (url) {
    var rootUrl;
    rootUrl = __meteor_runtime_config__ ? __meteor_runtime_config__.ROOT_URL_PATH_PREFIX : "";

    if (rootUrl) {
      url = rootUrl + url;
    }

    return url;
  },
  writeResponse: function (res, httpCode, body) {
    res.statusCode = httpCode;
    return res.end(body);
  },
  sendInvalidURLResponse: function (res) {
    return this.writeResponse(res, 404, "the param 'url' is required as querys.");
  },
  sendAuthTokenExpiredResponse: function (res) {
    return this.writeResponse(res, 401, "the auth_token has expired.");
  },
  sendHtmlResponse: function (req, res, type) {
    var error_msg, query, title, url;
    query = req.query;
    url = query.url;

    if (url) {
      url = decodeURIComponent(url);
    } else {
      DesignerAPI.sendInvalidURLResponse(res);
    }

    title = query.title;

    if (title) {
      title = decodeURIComponent(title);
    } else {
      title = "Steedos Designer";
    }

    error_msg = "";
    return this.writeResponse(res, 200, "<html>\n	<head>\n		<style>\n			html,body{\n				margin: 0;\n				padding: 0;\n				height: 100%;\n			}\n			body { \n				font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n				text-align: center;\n				background-color: #fff;\n			}\n			.loading{\n				position: absolute;\n				left: 0px;\n				right: 0px;\n				top: 50%;\n				z-index: -1;/*设置为-1，可以在iframe加载出来后自动消失*/\n				text-align: center;\n				margin-top: -30px;\n				font-size: 36px;\n				color: #dfdfdf;\n			}\n			.error-msg{\n				position: absolute;\n				left: 0px;\n				right: 0px;\n				bottom: 20px;\n				z-index: 1100;\n				text-align: center;\n				font-size: 20px;\n				color: #a94442;\n			}\n		</style>\n		<meta charset=\"utf-8\">\n		<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\">\n		<title>" + title + "</title>\n		<link rel=\"icon\" type=\"image/png\" sizes=\"192x192\" href=\"" + this.getAbsoluteUrl("/favicons/android-chrome-192x192.png") + "\">\n		<link rel=\"manifest\" href=\"" + this.getAbsoluteUrl("/favicons/manifest.json") + "\">\n		<meta name=\"mobile-web-app-capable\" content=\"yes\">\n		<meta name=\"theme-color\" content=\"#000\">\n		<meta name=\"application-name\">\n		<link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-57x57.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"60x60\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-60x60.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-72x72.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-76x76.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-114x114.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-120x120.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-144x144.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-152x152.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-180x180.png") + "\">\n		<meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n		<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n		<meta name=\"apple-mobile-web-app-title\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"228x228\" href=\"" + this.getAbsoluteUrl("/favicons/coast-228x228.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-16x16.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-32x32.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"96x96\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-96x96.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"230x230\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-230x230.png") + "\">\n		<link rel=\"shortcut icon\" href=\"" + this.getAbsoluteUrl("/favicons/favicon.ico") + "\">\n		<link rel=\"yandex-tableau-widget\" href=\"" + this.getAbsoluteUrl("/favicons/yandex-browser-manifest.json") + "\">\n		<meta name=\"msapplication-TileColor\" content=\"#fff\">\n		<meta name=\"msapplication-TileImage\" content=\"" + this.getAbsoluteUrl("/favicons/mstile-144x144.png") + "\">\n		<meta name=\"msapplication-config\" content=\"" + this.getAbsoluteUrl("/favicons/browserconfig.xml") + "\">\n		<meta property=\"twitter:image\" content=\"" + this.getAbsoluteUrl("/favicons/twitter.png") + "\">\n		<meta property=\"og:image\" content=\"" + this.getAbsoluteUrl("/favicons/open-graph.png") + "\">\n	</head>\n	<body>\n		<div class = \"loading\">Loading...</div>\n		<div class = \"error-msg\">" + error_msg + "</div>\n		<iframe id=\"ifrDesigner\" src=\"\" width=\"100%\" height=\"100%\" nwdisable=\"true\" frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" allowtransparency=\"yes\"></iframe>\n		<script type=\"text/javascript\" src=\"" + this.getAbsoluteUrl("/lib/jquery/jquery-1.11.2.min.js") + "\"></script>\n		<script type=\"text/javascript\">\n			var designer = {\n				urlQuery:function(name){\n					var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n					var r = window.location.search.substr(1).match(reg);\n					if (r != null) return unescape(r[2]);\n					return null;\n				},\n				run:function(){\n					var url = this.urlQuery(\"url\");\n					url = decodeURIComponent(url);\n					\n					if(url){\n						$(\"#ifrDesigner\").attr(\"src\",url);\n					}\n					var Steedos = window.opener.Steedos || null;\n					if (Steedos) {\n						Steedos.forbidNodeContextmenu(window);\n					}\n				}\n			};\n			$(function(){\n				designer.run();\n			});\n		</script>\n	<body>\n</html>");
  }
};
JsonRoutes.add('get', '/api/workflow/designer?url=:url', function (req, res, next) {
  return DesignerAPI.sendHtmlResponse(req, res);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"nextStepUsers.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/nextStepUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/nextStepUsers", function (req, res, next) {
  var deal_type = req.query.deal_type,
      spaceId = req.query.spaceId,
      error = "";

  if (!deal_type || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var body = req.body,
      nextStepUsers = [];

  switch (deal_type) {
    case 'specifyUser':
      var specifyUserIds = body.specifyUserIds;
      nextStepUsers = WorkflowManager.getUsers(spaceId, specifyUserIds);
      break;

    case 'applicantRole':
      var applicantId = body.applicantId,
          approveRoleIds = body.approveRoleIds;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);
      if (applicant) nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, applicant.organizations, approveRoleIds);
      break;

    case 'hrRole':
      var approveHrRoleIds = body.approveHrRoleIds;
      if (approveHrRoleIds) nextStepUsers = WorkflowManager.getHrRolesUsers(spaceId, approveHrRoleIds);
      break;

    case 'applicantSuperior':
      var applicantId = body.applicantId;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);

      if (applicant.manager) {
        nextStepUsers = WorkflowManager.getUsers(spaceId, applicant.manager);
      }

      break;

    case 'applicant':
      var applicantId = body.applicantId;
      nextStepUsers = WorkflowManager.getUsers(spaceId, applicantId);
      break;

    case 'userField':
      var userField = body.userField,
          userFieldValue = body.userFieldValue;

      if (userField.is_multiselect) {
        //如果多选，以userFieldValue值为Array
        nextStepUsers = WorkflowManager.getUsers(spaceId, userFieldValue);
      } else {
        nextStepUsers.push(WorkflowManager.getUser(spaceId, userFieldValue));
      }

      break;

    case 'orgField':
      var orgs,
          orgChildrens,
          orgField = body.orgField,
          orgFieldValue = body.orgFieldValue;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          orgs = WorkflowManager.getOrganizations(orgFieldValue);
          orgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, orgFieldValue);
        } else {
          orgs = [WorkflowManager.getOrganization(orgFieldValue)];
          orgChildrens = WorkflowManager.getOrganizationChildrens(spaceId, orgFieldValue);
        }

        nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgChildrens);
        orgFieldUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgs);
        nextStepUsers = nextStepUsers.concat(orgFieldUsers);

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ORG_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'specifyOrg':
      var specifyOrgIds = body.specifyOrgIds;
      var specifyOrgs = WorkflowManager.getOrganizations(specifyOrgIds);
      var specifyOrgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, specifyOrgIds);
      nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgs);
      nextStepUsers = nextStepUsers.concat(WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgChildrens));
      break;

    case 'userFieldRole':
      var userField = body.userField,
          userFieldValue = body.userFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (userFieldValue) {
        if (userField.is_multiselect) {
          //如果多选，以userFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, userFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, [userFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'orgFieldRole':
      var orgField = body.orgField,
          orgFieldValue = body.orgFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, orgFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, [orgFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    default:
      break;
  }

  var result = [];
  nextStepUsers.forEach(function (su) {
    if (su.user_accepted) {
      var o = {
        id: su.id,
        name: su.name
      };
      result.push(o);
    }
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'nextStepUsers': WorkflowManager.uniqUsers(result),
      'error': error
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_engine.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_engine.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/engine', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Approvals'], function (approve_from_client) {
      return uuflowManager.workflow_engine(approve_from_client, current_user_info, current_user);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_submit.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_submit.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/submit', function (req, res, next) {
  var current_user, current_user_info, e, hashData, result;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    result = [];

    _.each(hashData['Instances'], function (instance_from_client) {
      var current_approve, flow_id, instance, r;
      r = uuflowManager.submit_instance(instance_from_client, current_user_info);

      if (r.alerts) {
        result.push(r);
      }

      if (!_.isEmpty(instance_from_client['inbox_users'])) {
        pushManager.send_message_to_specifyUser("current_user", current_user);
      }

      if (_.isEmpty(r.alerts)) {
        instance = db.instances.findOne(instance_from_client._id);
        flow_id = instance.flow;
        current_approve = instance_from_client.traces[0].approves[0];
        pushManager.triggerWebhook(flow_id, instance, current_approve, 'draft_submit', current_user, instance.inbox_users);
      }

      return uuflowManager.distributedInstancesRemind(instance_from_client);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        result: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_terminate.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_terminate.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/terminate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var flow, flow_id, flow_ver_end_step, flow_vers, h, i, ins, instance, instance_flow_ver, instance_id, instance_trace, newApprove, newTrace, now, old_cc_users, old_inbox_users, old_outbox_users, permissions, r, setObj, space, space_id, space_user, space_user_org_info, tempUsers, terminate_reason, traces;
      terminate_reason = instance_from_client["terminate_reason"];
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      flow_id = instance.flow;
      space = uuflowManager.getSpace(space_id);
      flow = uuflowManager.getFlow(flow_id);
      uuflowManager.isInstancePending(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_flow_ver = null;
      flow_ver_end_step = null;
      flow_vers = new Array();
      flow_vers.push(flow.current);
      flow_vers = flow_vers.concat(flow.historys);
      instance_flow_ver = _.find(flow_vers, function (f_ver) {
        return f_ver._id === instance.flow_version;
      });

      if (!instance_flow_ver) {
        throw new Meteor.Error('error!', "未找到申请单对应流程版本");
      }

      flow_ver_end_step = _.find(instance_flow_ver.steps, function (f_step) {
        return f_step.step_type === "end";
      });
      permissions = permissionManager.getFlowPermissions(flow_id, current_user);
      now = new Date();
      setObj = new Object();

      if (permissions.includes("admin") || space.admins.includes(current_user) || instance.submitter === current_user || instance.applicant === current_user) {
        if (!terminate_reason) {
          throw new Meteor.Error('error!', "还未填写强制结束申请单的理由，操作失败");
        }

        instance_trace = _.find(instance.traces, function (trace) {
          return trace.is_finished === false;
        });
        traces = instance.traces;
        i = 0;

        while (i < traces.length) {
          if (traces[i].is_finished === false) {
            traces[i].is_finished = true;
            traces[i].finish_date = now;
            h = 0;

            while (h < traces[i].approves.length) {
              if (traces[i].approves[h].is_finished === false) {
                traces[i].approves[h].is_finished = true;
                traces[i].approves[h].finish_date = now;
                traces[i].approves[h].judge = null;
                traces[i].approves[h].description = null;
              }

              h++;
            }

            newApprove = new Object();
            newApprove._id = new Mongo.ObjectID()._str;
            newApprove.instance = instance_id;
            newApprove.trace = instance_trace._id;
            newApprove.is_finished = true;
            newApprove.user = current_user;
            newApprove.user_name = current_user_info.name;
            newApprove.handler = current_user;
            newApprove.handler_name = current_user_info.name;
            newApprove.handler_organization = space_user_org_info["organization"];
            newApprove.handler_organization_name = space_user_org_info["organization_name"];
            newApprove.handler_organization_fullname = space_user_org_info["organization_fullname"];
            newApprove.start_date = now;
            newApprove.finish_date = now;
            newApprove.due_date = instance_trace.due_date;
            newApprove.read_date = now;
            newApprove.judge = "terminated";
            newApprove.is_read = true;
            newApprove.description = terminate_reason;
            newApprove.is_error = false;
            newApprove.values = new Object();
            newApprove.cost_time = newApprove.finish_date - newApprove.start_date;
            traces[i].approves.push(newApprove);
          }

          i++;
        }

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [instance_trace._id];
        newTrace.is_finished = true;
        newTrace.step = flow_ver_end_step._id;
        newTrace.name = flow_ver_end_step.name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.judge = "terminated";
        setObj.state = "completed";
        setObj.final_decision = "terminated";
        old_inbox_users = instance.inbox_users;
        old_cc_users = instance.cc_users || [];
        old_outbox_users = instance.outbox_users;
        tempUsers = new Array();

        _.each(instance_trace.approves, function (nft_approve) {
          tempUsers.push(nft_approve.user);
          return tempUsers.push(nft_approve.handler);
        });

        setObj.outbox_users = _.uniq(instance.outbox_users.concat(tempUsers));
        setObj.inbox_users = new Array();
        setObj.cc_users = new Array();
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.current_step_name = flow_ver_end_step.name;
        setObj.current_step_auto_submit = false;
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          ins = uuflowManager.getInstance(instance_id);
          pushManager.send_instance_notification("submit_terminate_applicant", ins, terminate_reason, current_user_info);

          if (old_inbox_users) {
            _.each(_.uniq(old_inbox_users.concat(old_cc_users)), function (user_id) {
              return pushManager.send_message_to_specifyUser("terminate_approval", user_id);
            });
          }

          return pushManager.triggerWebhook(ins.flow, ins, {}, 'terminate', current_user, []);
        }
      }
    });

    pushManager.send_message_current_user(current_user_info);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_relocate.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_relocate.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/relocate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, ah, approve_users, current_setp, current_setp_type, current_space_user, current_user_organization, flow, h, i, inbox_users, ins, instance, instance_id, l, last_trace, newTrace, new_inbox_users, next_step, next_step_name, next_step_type, not_in_inbox_users, now, permissions, r, relocate_appr, relocate_comment, relocate_inbox_users, relocate_next_step, sameTraces, setObj, signShowApproveId, space, space_id, ta, ti, traces;

      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      last_trace = _.last(instance.traces);
      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne(instance.space, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      space_id = instance.space;
      instance_id = last_trace.instance;
      inbox_users = instance.inbox_users;
      relocate_inbox_users = instance_from_client["relocate_inbox_users"];
      relocate_comment = instance_from_client["relocate_comment"];
      relocate_next_step = instance_from_client["relocate_next_step"];
      not_in_inbox_users = _.difference(inbox_users, relocate_inbox_users);
      new_inbox_users = _.difference(relocate_inbox_users, inbox_users);
      approve_users = [];
      flow = uuflowManager.getFlow(instance.flow);
      next_step = uuflowManager.getStep(instance, flow, relocate_next_step);
      next_step_type = next_step.step_type;
      next_step_name = next_step.name;
      current_setp = uuflowManager.getStep(instance, flow, last_trace.step);
      current_setp_type = current_setp.step_type;
      traces = instance.traces;
      setObj = new Object();
      setObj.values = uuflowManager.getUpdatedValues(instance);
      now = new Date();
      i = 0;

      while (i < traces.length) {
        if (traces[i]._id === last_trace._id) {
          if (!traces[i].approves) {
            traces[i].approves = new Array();
          }

          h = 0;

          while (h < traces[i].approves.length) {
            if (traces[i].approves[h].is_finished === false && traces[i].approves[h].type !== "cc" && traces[i].approves[h].type !== "distribute") {
              traces[i].approves[h].start_date = now;
              traces[i].approves[h].finish_date = now;
              traces[i].approves[h].read_date = now;
              traces[i].approves[h].is_error = false;
              traces[i].approves[h].is_read = true;
              traces[i].approves[h].is_finished = true;
              traces[i].approves[h].judge = "terminated";
              traces[i].approves[h].cost_time = traces[i].approves[h].finish_date - traces[i].approves[h].start_date;
              approve_users.push(traces[i].approves[h].user);

              if (traces[i].approves[h].sign_show === true) {
                ta = traces[i].approves[h];
                sameTraces = _.filter(traces, function (t) {
                  return t.step === traces[i].step;
                });
                l = sameTraces.length - 1;
                signShowApproveId = null;

                while (l > -1) {
                  _.each(sameTraces[l].approves, function (a) {
                    if (a.user === ta.user && a.judge !== "terminated" && a.description && !signShowApproveId) {
                      return signShowApproveId = a._id;
                    }
                  });

                  l--;
                }

                if (signShowApproveId) {
                  ti = 0;

                  while (ti < traces.length) {
                    ah = 0;

                    while (ah < traces[ti].approves.length) {
                      if (traces[ti].approves[ah]._id === signShowApproveId) {
                        traces[ti].approves[ah].sign_show = true;
                        traces[i].approves[h].sign_show = false;
                      }

                      ah++;
                    }

                    ti++;
                  }
                }
              }
            }

            h++;
          }

          current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
          current_user_organization = db.organizations.findOne(current_space_user.organization, {
            fields: {
              name: 1,
              fullname: 1
            }
          });
          relocate_appr = new Object();
          relocate_appr._id = new Mongo.ObjectID()._str;
          relocate_appr.instance = instance_id;
          relocate_appr.trace = traces[i]._id;
          relocate_appr.is_finished = true;
          relocate_appr.user = current_user;
          relocate_appr.user_name = current_user_info.name;
          relocate_appr.handler = current_user;
          relocate_appr.handler_name = current_user_info.name;
          relocate_appr.handler_organization = current_space_user.organization;
          relocate_appr.handler_organization_name = current_user_organization.name;
          relocate_appr.handler_organization_fullname = current_user_organization.fullname;
          relocate_appr.start_date = now;
          relocate_appr.finish_date = now;
          relocate_appr.due_date = traces[i].due_date;
          relocate_appr.read_date = now;
          relocate_appr.judge = "relocated";
          relocate_appr.is_read = true;
          relocate_appr.description = relocate_comment;
          relocate_appr.is_error = false;
          relocate_appr.values = new Object();
          relocate_appr.cost_time = relocate_appr.finish_date - relocate_appr.start_date;
          traces[i].approves.push(relocate_appr);
          traces[i].is_finished = true;
          traces[i].finish_date = now;
          traces[i].judge = "relocated";
        }

        i++;
      }

      if (next_step_type === "end") {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = true;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.approves = [];
        setObj.state = "completed";
        setObj.inbox_users = [];
        setObj.final_decision = "terminated";
        setObj.finish_date = new Date();
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = false;
      } else {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = false;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(next_step.timeout_hours, space_id);
        newTrace.approves = [];

        _.each(relocate_inbox_users, function (next_step_user_id, idx) {
          var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
          newApprove = new Object();
          newApprove._id = new Mongo.ObjectID()._str;
          newApprove.instance = instance_id;
          newApprove.trace = newTrace._id;
          newApprove.is_finished = false;
          newApprove.user = next_step_user_id;
          user_info = db.users.findOne(next_step_user_id, {
            fields: {
              name: 1
            }
          });
          newApprove.user_name = user_info.name;
          handler_id = next_step_user_id;
          handler_info = user_info;
          agent = uuflowManager.getAgent(space_id, next_step_user_id);

          if (agent) {
            relocate_inbox_users[idx] = agent;
            handler_id = agent;
            handler_info = db.users.findOne({
              _id: agent
            }, {
              fields: {
                name: 1
              }
            });
            newApprove.agent = agent;
          }

          newApprove.handler = handler_id;
          newApprove.handler_name = handler_info.name;
          next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
          next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
          newApprove.handler_organization = next_step_user_org_info["organization"];
          newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
          newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
          newApprove.start_date = now;
          newApprove.due_date = newTrace.due_date;
          newApprove.is_read = false;
          newApprove.is_error = false;
          newApprove.values = new Object();
          uuflowManager.setRemindInfo(instance.values, newApprove);
          return newTrace.approves.push(newApprove);
        });

        setObj.inbox_users = relocate_inbox_users;
        setObj.state = "pending";
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, next_step.lines);
      }

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(inbox_users).concat(approve_users);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj.is_archived = false;
      traces.push(newTrace);
      setObj.traces = traces;

      if (setObj.state === 'completed') {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });
      } else {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj,
          $unset: {
            finish_date: 1
          }
        });
      }

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, relocate_comment, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'relocate', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, ejsLint, end_date, error_obj, fields, fileName, flow, flow_id, flow_ids, form, form_name, formatDate, ins_to_xls, lang, last_month_date, now, query, ret, selector, space, space_id, start_date, str, table_fields, template, timezoneoffset, type, uid, utcOffset;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();
      selector = {
        space: space_id,
        flow: flow_id
      };
      selector.state = {
        $in: ["pending", "completed"]
      };
      uid = current_user_info._id;
      space = db.spaces.findOne(space_id);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(uid)) {
        flow_ids = WorkflowManager.getMyAdminOrMonitorFlows(space_id, uid);

        if (!flow_ids.includes(selector.flow)) {
          selector.$or = [{
            submitter: uid
          }, {
            applicant: uid
          }, {
            inbox_users: uid
          }, {
            outbox_users: uid
          }];
        }
      }

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        selector.submit_date = {
          $gte: start_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        selector.submit_date = {
          $gte: start_date,
          $lte: end_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        selector.submit_date = {
          $gte: start_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      ejsLint = require('ejs-lint');
      error_obj = ejsLint.lint(str, {});

      if (error_obj) {
        console.error("===/api/workflow/export:");
        console.error(error_obj);
      }

      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      utcOffset = timezoneoffset / -60;

      formatDate = function (date, formater) {
        return moment(date).utcOffset(utcOffset).format(formater);
      };

      ret = template({
        lang: lang,
        formatDate: formatDate,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours, space_id);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
              if (f.type == 'select' || f.type == 'radio') {
                var options = f.options.split('\n');
                if (!options.includes(old_v)) return;
              }

              if (f.type == 'multiSelect') {
                var options = f.options.split('\n');
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(options, old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
                  if (f.type == 'select' || f.type == 'radio') {
                    var options = f.options.split('\n');
                    if (!options.includes(old_v)) return;
                  }

                  if (f.type == 'multiSelect') {
                    var options = f.options.split('\n');
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(options, old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (old_table_row_values._id) {
              new_table_row_values._id = new Mongo.ObjectID()._str;
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          if (field.type == 'select' || field.type == 'radio') {
            var options = field.options.split('\n');
            if (!options.includes(old_v)) return;
          }

          if (field.type == 'multiSelect') {
            var options = field.options.split('\n');
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(options, old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      try {
        var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
        var rev = eval(iscript);
        instance_name = rev || flow.name;
      } catch (error) {
        throw new Meteor.Error('caculate_instance_name', "计算申请单标题出错请检查表单标题脚本。");
      }
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;

      if (category_name) {
        ins_obj.category_name = category.name;
        ins_obj.category = category._id;
      }

      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true,
          showTrace: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      }

      if (action_type === 'distribute') {
        // 给当前的申请单增加分发记录
        var appr = {
          '_id': new Mongo.ObjectID()._str,
          'instance': instance_id,
          'trace': current_trace_id,
          'is_finished': true,
          'user': user_id,
          'user_name': user_info.name,
          'handler': user_id,
          'handler_name': user_info.name,
          'handler_organization': space_user.organization,
          'handler_organization_name': space_user_org_info.name,
          'handler_organization_fullname': space_user_org_info.fullname,
          'type': action_type,
          'start_date': new Date(),
          'finish_date': new Date(),
          'is_read': false,
          'judge': 'submitted',
          'from_user': current_user_id,
          'from_user_name': from_user_name,
          'forward_space': space_id,
          'forward_instance': new_ins_id,
          'description': description,
          'from_approve_id': from_approve_id
        };
        forward_approves.push(appr);
      }

      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    if (!_.isEmpty(forward_approves)) {
      set_obj.modified = new Date();
      set_obj.modified_by = current_user_id;
      var r = db.instances.update({
        _id: instance_id,
        "traces._id": current_trace_id
      }, {
        $set: set_obj,
        $addToSet: {
          'traces.$.approves': {
            $each: forward_approves
          }
        }
      });
    }

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        new_ins_ids: new_ins_ids
      }
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, redirectToUrl, ref, ref1, ref2, req_async, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    req_async = _.has(req.query, 'async');
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = "workflow/space/" + spaceId + "/" + box + "/" + insId;
    redirectToUrl = Meteor.absoluteUrl(redirectTo);

    if (req_async) {
      return res.status(200).send({
        "status": 302,
        "redirect": redirectTo
      });
    } else {
      res.setHeader("Location", redirectToUrl);
      res.writeHead(302);
      res.end();
    }
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!space || !Steedos.hasFeature('paid', space._id)) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- Non-paid space.",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (process.env.CREATOR_NODE_ENV === 'development') {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"server":{"methods":{"set_instance_step_approve.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve, stepsApprovesOptions) {
    var _keys1, _keys2, ins, keys, stepsApproves;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    _keys1 = _.keys(step_approve);
    _keys2 = _.keys(stepsApprovesOptions);
    keys = _.compact(_.union(_keys1, _keys2));
    stepsApproves = {};

    _.each(keys, function (stepId) {
      var stepApproves, stepsApproveOptions;
      stepApproves = step_approve[stepId];
      stepsApproveOptions = stepsApprovesOptions[stepId];

      if (stepApproves) {
        stepsApproves[stepId] = stepApproves;

        if (stepsApproveOptions) {
          if (_.isArray(stepApproves)) {
            stepsApproveOptions = stepApproves.concat(stepsApproveOptions);
          } else {
            stepsApproveOptions.push(stepApproves);
          }
        }
      }

      if (stepsApproveOptions) {
        return stepsApproves[stepId + '_options'] = _.uniq(stepsApproveOptions);
      }
    });

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: stepsApproves
      }
    });
  },
  set_instance_skip_steps: function (ins_id, stepId, action) {
    if (action === 'pull') {
      return db.instances.update({
        _id: ins_id
      }, {
        $pull: {
          skip_steps: stepId
        }
      });
    } else if (action === 'push') {
      return db.instances.update({
        _id: ins_id
      }, {
        $push: {
          skip_steps: stepId
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    var result = true;
    var setObj = {};
    var index = 0;
    var ins_id = ins._id;
    var trace_id = ins.traces[0]._id;
    var approve_id = ins.traces[0].approves[0]._id;
    var description = ins.traces[0].approves[0].description;
    var next_steps = ins.traces[0].approves[0].next_steps;
    var values = ins.traces[0].approves[0].values || {};
    var applicant_id = ins.applicant;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        applicant: 1,
        state: 1,
        submitter: 1,
        traces: 1,
        form: 1,
        flow_version: 1,
        space: 1,
        flow: 1
      }
    });
    var space_id = instance.space;
    var flow_id = instance.flow;
    var form_id = instance.form;
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.'; // 判断一个instance是否为拟稿状态

    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';
    uuflowManager.isInstanceDraft(instance, lang); // 判断一个用户是否是一个instance的提交者

    uuflowManager.isInstanceSubmitter(instance, this.userId);
    var flow = db.flows.findOne(flow_id, {
      fields: {
        "current._id": 1,
        "current.form_version": 1,
        "name": 1,
        "current.steps": 1
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (flow.current._id != instance.flow_version) {
      result = "upgraded";

      var start_step = _.find(flow.current.steps, function (s) {
        return s.step_type == "start";
      }); // 流程已升级


      setObj.flow_version = flow.current._id;
      setObj.form_version = flow.current.form_version; // 存入当前最新版flow中开始节点的step_id

      setObj["traces.$.step"] = start_step._id;
      setObj["traces.$.name"] = start_step.name;
    }

    if (instance.applicant != applicant_id) {
      // 申请人已变换
      var user = db.users.findOne(applicant_id, {
        fields: {
          name: 1
        }
      });
      var applicant = db.space_users.find({
        space: space_id,
        user: applicant_id
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = applicant.fetch()[0].organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      setObj.applicant = applicant_id;
      setObj.applicant_name = user.name;
      setObj.applicant_organization = org_id;
      setObj.applicant_organization_name = organization.name;
      setObj.applicant_organization_fullname = organization.fullname;
      setObj[key_str + 'user'] = applicant_id;
      setObj[key_str + 'user_name'] = user.name;
    }

    setObj[key_str + 'values'] = values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'judge'] = 'submitted';
    setObj[key_str + 'read_date'] = new Date();

    if (result != "upgraded" && next_steps) {
      setObj[key_str + 'next_steps'] = next_steps;
    } // 计算申请单标题


    var form = db.forms.findOne({
      _id: form_id
    }, {
      fields: {
        "current.name_forumla": 1
      }
    });
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      // var iscript = name_forumla.replace(/\{/g, "(values['").replace(/\}/g, "'] || '')");
      // var rev = eval(iscript);
      setObj.name = uuflowManager.getInstanceName(ins, values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return result;
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1,
        code: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description, myApprove, ccHasEditPermission) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id);
    var traces = instance.traces;
    var current_user_id = this.userId;
    var flow = uuflowManager.getFlow(instance.flow);
    var values = myApprove.values || {};
    var approve_id = myApprove._id;
    var myTrace;

    for (let tidx = 0; tidx < traces.length; tidx++) {
      const t = traces[tidx];

      if (t.approves) {
        for (let aidx = 0; aidx < t.approves.length; aidx++) {
          const a = t.approves[aidx];

          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            var upobj = {};
            var key_str = 'traces.$.approves.' + aidx + '.';
            upobj[key_str + 'is_finished'] = true;
            upobj[key_str + 'is_read'] = true;
            upobj[key_str + 'finish_date'] = new Date();
            upobj[key_str + 'judge'] = "submitted";
            upobj[key_str + 'cost_time'] = new Date() - a.start_date;

            if (approve_id == a._id && !t.is_finished && ccHasEditPermission) {
              myTrace = t;
              var step = uuflowManager.getStep(instance, flow, t.step);
              upobj[key_str + "values"] = uuflowManager.getApproveValues(values, step["permissions"], instance.form, instance.form_version);
            } //设置意见，意见只添加到最后一条approve中


            if (approve_id == a._id) {
              upobj[key_str + 'description'] = description;
            }

            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        }
      }
    }

    if (myApprove) {
      setObj.modified = new Date();
      setObj.modified_by = this.userId;

      if (ccHasEditPermission && myApprove && !myTrace.is_finished) {
        var ins = uuflowManager.getInstance(ins_id);
        var updated_values = uuflowManager.getUpdatedValues(ins, approve_id);
        setObj.values = updated_values;
        setObj.name = uuflowManager.getInstanceName(instance);
      }

      db.instances.update({
        _id: ins_id,
        'traces._id': myApprove.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, myApprove.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && myApprove && myApprove.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [myApprove.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, myApprove, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description, myApprove, ccHasEditPermission) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id);
    var traces = instance.traces;
    var current_user_id = this.userId;
    var myTrace;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0;
    var currentStepId; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (myApprove && t._id === myApprove.trace) {
        currentStepId = t.step;
        myTrace = t;

        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === myApprove._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    var updateObj = {};

    if (ccHasEditPermission && myApprove && !myTrace.is_finished) {
      var key_str = 'traces.$.approves.' + index + '.';
      var flow = uuflowManager.getFlow(instance.flow);
      var step = uuflowManager.getStep(instance, flow, currentStepId);
      var permissions_values = uuflowManager.getApproveValues(myApprove.values, step.permissions, instance.form, instance.form_version);
      var change_values = approveManager.getChangeValues(instance.values, permissions_values);
      setObj.values = _.extend(instance.values || {}, permissions_values);

      if (!_.isEmpty(change_values)) {
        var pushObj = {};
        pushObj[key_str + 'values_history'] = {
          values: change_values,
          create: new Date()
        };
        updateObj.$push = pushObj;
      }

      setObj.name = uuflowManager.getInstanceName(instance);
    }

    updateObj.$set = setObj;
    db.instances.update({
      _id: ins_id,
      'traces._id': myApprove.trace
    }, updateObj);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var currentApproveDescription, currentStep, currentTrace, ins, instance, ref, ref1, ref2, ref3, session_userId, showBlankApproveDescription, trace, traces, trimDescription, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    trimDescription = description.trim();
    showBlankApproveDescription = (ref = Meteor.settings["public"].workflow) != null ? ref.showBlankApproveDescription : void 0;
    session_userId = this.userId;

    if (lastSignApprove) {
      if (((ref1 = Meteor.settings["public"].workflow) != null ? ref1.keepLastSignApproveDescription : void 0) !== false) {
        if (lastSignApprove.custom_sign_show) {
          return;
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref2 = instance.traces) != null ? ref2.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      currentApproveDescription = '';
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          currentApproveDescription = approve.description;

          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = trimDescription || showBlankApproveDescription ? true : false;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (((ref3 = Meteor.settings["public"].workflow) != null ? ref3.keepLastSignApproveDescription : void 0) === false && (!!currentApproveDescription !== !!trimDescription || showBlankApproveDescription)) {
        ins = db.instances.findOne({
          _id: instanceId
        }, {
          fields: {
            "traces": 1
          }
        });
        traces = ins.traces;
        currentTrace = _.find(traces, function (t) {
          return t._id === traceId;
        });
        currentStep = currentTrace.step;
        traces.forEach(function (t, tIdx) {
          if (t.step === currentStep) {
            return t != null ? t.approves.forEach(function (appr, aIdx) {
              if (appr.handler === session_userId && appr.is_finished && appr._id !== approveId && !_.has(appr, 'custom_sign_show')) {
                if (trimDescription && appr.sign_show === true && (sign_field_code === "" || !appr.sign_field_code || sign_field_code === appr.sign_field_code) || showBlankApproveDescription) {
                  upObj["traces." + tIdx + ".approves." + aIdx + ".sign_show"] = false;
                  return upObj["traces." + tIdx + ".approves." + aIdx + ".keepLastSignApproveDescription"] = approveId;
                } else if (appr.keepLastSignApproveDescription === approveId) {
                  upObj["traces." + tIdx + ".approves." + aIdx + ".sign_show"] = true;
                  return upObj["traces." + tIdx + ".approves." + aIdx + ".keepLastSignApproveDescription"] = null;
                }
              }
            }) : void 0;
          }
        });
      }

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours, space_id);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function module(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    context.NUMBER = _.clone(_NUMBER);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }, {
        inbox_users: this.userId
      }, {
        cc_users: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approveHrRoleIds, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && !_.isEmpty(instance.step_approve[step_id + "_options"])) {
    return instance.step_approve[step_id + "_options"];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        return getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "hrRole") {
    approveHrRoleIds = current_step.approver_hr_roles;

    if (approveHrRoleIds) {
      return _.pluck(WorkflowManager.getHrRolesUsers(space_id, approveHrRoleIds), 'user');
    } else {
      throw new Meteor.Error('error!', "角色未指定");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      return new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    return getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    approve_users = _.uniq(approve_users);
    return approve_users;
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          return getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      return new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    return new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    return new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    return next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    return applicantSuperiors;
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function module(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, judge, my_approve, nextSteps, next_user_ids, step, step_type, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    step_type = step.step_type;
    judge = step_type === "sign" ? "approved" : "";
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, judge);

    if (nextSteps.length === 1) {
      if (step_type === "sign" || step_type === "counterSign") {
        my_approve.judge = 'approved';
      }

      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0]);

      if (!next_user_ids) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: []
        }];
        return my_approve;
      }

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1,
    current_step_name: 1,
    flow_name: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow, myApprove;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);
    myApprove = InstanceManager.getMyApprove(ins._id, inbox_user);

    if (stepManager.allowBatch(currentStep) && myApprove) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      ins.approve_start_date = myApprove.start_date;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1,
      allow_select_step: 1
    }
  });
});
Meteor.publish('flow_files', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return cfs.files.find({
    'metadata.space': spaceId,
    'metadata.object_name': 'flows',
    'metadata.record_id': flowId
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!(instanceId && db.instances.find({
    _id: instanceId
  }).count())) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates', 'values'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var error, instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;

      try {
        return self.changed("instances", id, instance);
      } catch (error1) {
        error = error1;
        console.log('instance observeChanges error: ', error.message);
        console.log('self.userId: ', self.userId);
        console.log('tableName: ', tableName);
        console.log('ids: ', JSON.stringify(ids));
        return console.log('myApprove: ', JSON.stringify(myApprove));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: auto_finish_process_delegation.coffee');
      return console.log(e.stack);
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: timeout_auto_submit.coffee');
      return console.log(e.stack);
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"related_instances_tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, isFavoriteSelected, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';
        isFavoriteSelected = Favorites.isRecordSelected("instances", doc._id);

        if (Favorites.isRecordSelected("instances", doc._id)) {
          unread = '<i class="ion ion-ios-star-outline instance-favorite-selected"></i>';
        } else if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/URI.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_handler.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/routes/designer.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/nextStepUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_engine.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_terminate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_relocate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9saWIvVVJJLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvbGliL2NvcmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9tb2RlbHMvYXV0aF90b2tlbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC9saWIvaW5zdGFuY2VfcmVhZG9ubHlfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L2NsaWVudC9jb3JlZm9ybS9pbnB1dFR5cGVzL2NvcmVmb3JtLXRhYmxlL3N0ZWVkb3MtdGFibGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oYW5kbGVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL190cmFjZXNfaGFuZGxlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2Rlc2lnbmVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2Rlc2lnbmVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvbmV4dFN0ZXBVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvZ2V0U3BhY2VVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvZ2V0Rm9ybXVsYVVzZXJPYmplY3RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3JvdXRlcy9pbml0X2Zvcm11bGFfdmFsdWVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9nZXROYW1lRm9yVXNlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9nZXROYW1lRm9yVXNlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9kZXNpZ25lcl9zdGFydHVwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9kZXNpZ25lcl9zdGFydHVwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2VuZ2luZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZW5naW5lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVtb3ZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3Rlcm1pbmF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfdGVybWluYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlYXNzaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZWxvY2F0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVsb2NhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfYXJjaGl2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfYXJjaGl2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19leHBvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2V4cG9ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19zcGFjZV9jaGFuZ2VzZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3NwYWNlX2NoYW5nZXNldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZXRyaWV2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmV0cmlldmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZC5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3BlbmRpbmcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fcGVuZGluZy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2V4cG9ydF90YWJsZV90ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9leHBvcnRfdGFibGVfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zYXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3NhdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXRfYnlfc3RlcG5hbWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0X2J5X3N0ZXBuYW1lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fY2ZzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2Nmcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF90YWJsZV9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfdGFibGVfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3N1Yl90YWJsZV9zb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9zdWJfdGFibGVfc29ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL3Rlc3Rfd2ViaG9vay5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZm9ybXVsYV91c2Vycy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZm9ybXVsYV91c2Vycy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9mb3JtdWxhX29yZ2FuaXphdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX2Zvcm11bGFfb3JnYW5pemF0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9jaGVja19tYWluX2F0dGFjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvcmVsYXRlZF9pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2VkaXRfZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaGlkZV9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfdmFsdWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZ2V0X2hhbmRsZXJzX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvcGVybWlzc2lvbl9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvYXBwcm92ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZmxvd19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2Zvcm1fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL3N0ZXBfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mb3Jtcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfZHJhZnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvZmxvdy10ZW1wbGF0ZS93b3JrZmxvd190ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3NjaGVkdWxlL2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3NjaGVkdWxlL3RpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC90YWJ1bGFyLmNvZmZlZSJdLCJuYW1lcyI6WyJjaGVja05wbVZlcnNpb25zIiwibW9kdWxlIiwibGluayIsInYiLCJjb29raWVzIiwibWtkaXJwIiwicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJVUkkiLCJwdW55Y29kZSIsIklQdjYiLCJTZWNvbmRMZXZlbERvbWFpbnMiLCJTTEQiLCJfVVJJIiwidXJsIiwiYmFzZSIsIl91cmxTdXBwbGllZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsIl9iYXNlU3VwcGxpZWQiLCJ1bmRlZmluZWQiLCJUeXBlRXJyb3IiLCJsb2NhdGlvbiIsImhyZWYiLCJhYnNvbHV0ZVRvIiwidmVyc2lvbiIsInAiLCJwcm90b3R5cGUiLCJoYXNPd24iLCJPYmplY3QiLCJoYXNPd25Qcm9wZXJ0eSIsImVzY2FwZVJlZ0V4Iiwic3RyaW5nIiwicmVwbGFjZSIsImdldFR5cGUiLCJ2YWx1ZSIsIlN0cmluZyIsInRvU3RyaW5nIiwiY2FsbCIsInNsaWNlIiwiaXNBcnJheSIsIm9iaiIsImZpbHRlckFycmF5VmFsdWVzIiwiZGF0YSIsImxvb2t1cCIsImkiLCJfbWF0Y2giLCJ0ZXN0Iiwic3BsaWNlIiwiYXJyYXlDb250YWlucyIsImxpc3QiLCJfdHlwZSIsIm1hdGNoIiwiYXJyYXlzRXF1YWwiLCJvbmUiLCJ0d28iLCJzb3J0IiwibCIsInRyaW1TbGFzaGVzIiwidGV4dCIsInRyaW1fZXhwcmVzc2lvbiIsIl9wYXJ0cyIsInByb3RvY29sIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImhvc3RuYW1lIiwidXJuIiwicG9ydCIsInBhdGgiLCJxdWVyeSIsImZyYWdtZW50IiwiZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzIiwiZXNjYXBlUXVlcnlTcGFjZSIsInByb3RvY29sX2V4cHJlc3Npb24iLCJpZG5fZXhwcmVzc2lvbiIsInB1bnljb2RlX2V4cHJlc3Npb24iLCJpcDRfZXhwcmVzc2lvbiIsImlwNl9leHByZXNzaW9uIiwiZmluZF91cmlfZXhwcmVzc2lvbiIsImZpbmRVcmkiLCJzdGFydCIsImVuZCIsInRyaW0iLCJkZWZhdWx0UG9ydHMiLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJnb3BoZXIiLCJ3cyIsIndzcyIsImludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyIsImRvbUF0dHJpYnV0ZXMiLCJnZXREb21BdHRyaWJ1dGUiLCJub2RlIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsInR5cGUiLCJlc2NhcGVGb3JEdW1iRmlyZWZveDM2IiwiZXNjYXBlIiwic3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZW5jb2RlIiwiZGVjb2RlIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiaXNvODg1OSIsInVuZXNjYXBlIiwidW5pY29kZSIsImNoYXJhY3RlcnMiLCJwYXRobmFtZSIsImV4cHJlc3Npb24iLCJtYXAiLCJyZXNlcnZlZCIsInVybnBhdGgiLCJlbmNvZGVRdWVyeSIsImVzY2FwZWQiLCJkZWNvZGVRdWVyeSIsImUiLCJfcGFydCIsImdlbmVyYXRlQWNjZXNzb3IiLCJfZ3JvdXAiLCJjIiwiZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24iLCJfc2VwIiwiX2NvZGluZ0Z1bmNOYW1lIiwiX2lubmVyQ29kaW5nRnVuY05hbWUiLCJhY3R1YWxDb2RpbmdGdW5jIiwic2VnbWVudHMiLCJzcGxpdCIsImpvaW4iLCJkZWNvZGVQYXRoIiwiZGVjb2RlVXJuUGF0aCIsInJlY29kZVBhdGgiLCJyZWNvZGVVcm5QYXRoIiwiZW5jb2RlUmVzZXJ2ZWQiLCJwYXJzZSIsInBhcnRzIiwicG9zIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsInBhcnNlQXV0aG9yaXR5IiwicGFyc2VIb3N0IiwiYnJhY2tldFBvcyIsInQiLCJjaGFyQXQiLCJmaXJzdENvbG9uIiwiZmlyc3RTbGFzaCIsIm5leHRDb2xvbiIsInBhcnNlVXNlcmluZm8iLCJsYXN0SW5kZXhPZiIsInNoaWZ0IiwicGFyc2VRdWVyeSIsIml0ZW1zIiwic3BsaXRzIiwibmFtZSIsInB1c2giLCJidWlsZCIsImJ1aWxkQXV0aG9yaXR5IiwiYnVpbGRIb3N0IiwiYnVpbGRVc2VyaW5mbyIsImJ1aWxkUXVlcnkiLCJ1bmlxdWUiLCJrZXkiLCJidWlsZFF1ZXJ5UGFyYW1ldGVyIiwiYWRkUXVlcnkiLCJjb25jYXQiLCJyZW1vdmVRdWVyeSIsImhhc1F1ZXJ5Iiwid2l0aGluQXJyYXkiLCJfYm9vbHkiLCJCb29sZWFuIiwib3AiLCJjb21tb25QYXRoIiwiTWF0aCIsIm1pbiIsIndpdGhpblN0cmluZyIsImNhbGxiYWNrIiwib3B0aW9ucyIsIl9zdGFydCIsIl9lbmQiLCJfdHJpbSIsIl9hdHRyaWJ1dGVPcGVuIiwibGFzdEluZGV4IiwiZXhlYyIsImluZGV4IiwiaWdub3JlSHRtbCIsImF0dHJpYnV0ZU9wZW4iLCJtYXgiLCJzZWFyY2giLCJpZ25vcmUiLCJyZXN1bHQiLCJlbnN1cmVWYWxpZEhvc3RuYW1lIiwidG9BU0NJSSIsIm5vQ29uZmxpY3QiLCJyZW1vdmVBbGwiLCJ1bmNvbmZsaWN0ZWQiLCJVUklUZW1wbGF0ZSIsImRlZmVyQnVpbGQiLCJfZGVmZXJyZWRfYnVpbGQiLCJfc3RyaW5nIiwiY2xvbmUiLCJ2YWx1ZU9mIiwiZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvciIsImdlbmVyYXRlUHJlZml4QWNjZXNzb3IiLCJfa2V5IiwiaGFzaCIsInJlcyIsIl9vYmplY3QiLCJhdHRyaWJ1dGUiLCJzcmMiLCJpcyIsIndoYXQiLCJpcCIsImlwNCIsImlwNiIsInNsZCIsImlkbiIsInJlbGF0aXZlIiwiaGFzIiwiX3Byb3RvY29sIiwiX3BvcnQiLCJfaG9zdG5hbWUiLCJzY2hlbWUiLCJ4Iiwib3JpZ2luIiwiYXV0aG9yaXR5IiwiaG9zdCIsInVzZXJpbmZvIiwicmVzb3VyY2UiLCJzdWJkb21haW4iLCJkb21haW4iLCJzdWIiLCJSZWdFeHAiLCJ0bGQiLCJnZXQiLCJSZWZlcmVuY2VFcnJvciIsImRpcmVjdG9yeSIsImZpbGVuYW1lIiwiZGVjb2RlUGF0aFNlZ21lbnQiLCJtdXRhdGVkRGlyZWN0b3J5Iiwibm9ybWFsaXplUGF0aCIsInN1ZmZpeCIsInMiLCJzZWdtZW50Iiwic2VwYXJhdG9yIiwiYWJzb2x1dGUiLCJFcnJvciIsInBvcCIsInVuc2hpZnQiLCJzZWdtZW50Q29kZWQiLCJxIiwic2V0UXVlcnkiLCJzZXRTZWFyY2giLCJhZGRTZWFyY2giLCJyZW1vdmVTZWFyY2giLCJoYXNTZWFyY2giLCJub3JtYWxpemUiLCJub3JtYWxpemVQcm90b2NvbCIsIm5vcm1hbGl6ZVF1ZXJ5Iiwibm9ybWFsaXplRnJhZ21lbnQiLCJub3JtYWxpemVIb3N0bmFtZSIsIm5vcm1hbGl6ZVBvcnQiLCJiZXN0IiwiX3BhdGgiLCJfd2FzX3JlbGF0aXZlIiwiX2xlYWRpbmdQYXJlbnRzIiwiX3BhcmVudCIsIl9wb3MiLCJub3JtYWxpemVQYXRobmFtZSIsIm5vcm1hbGl6ZVNlYXJjaCIsIm5vcm1hbGl6ZUhhc2giLCJkIiwicmVhZGFibGUiLCJ1cmkiLCJ0b1VuaWNvZGUiLCJxcCIsImt2IiwicmVzb2x2ZWQiLCJwcm9wZXJ0aWVzIiwiYmFzZWRpciIsInJlbGF0aXZlVG8iLCJyZWxhdGl2ZVBhcnRzIiwiYmFzZVBhcnRzIiwiY29tbW9uIiwicmVsYXRpdmVQYXRoIiwiYmFzZVBhdGgiLCJwYXJlbnRzIiwiZXF1YWxzIiwib25lX21hcCIsInR3b19tYXAiLCJjaGVja2VkIiwib25lX3F1ZXJ5IiwidHdvX3F1ZXJ5IiwiV29ya2Zsb3ciLCJJbWFnZVNpZ24iLCJUcmFjZXNIYW5kbGVyIiwiVHJhY2VzVGVtcGxhdGUiLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZSIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlIiwiSW5zdGFuY2VTaWduVGV4dCIsIlJlbGF0ZWRJbnN0YW5jZXMiLCJSZWxhdGVkUmVjb3JkcyIsIkluc3RhbmNlTWFjcm8iLCJjb250ZXh0IiwiVHJhY2VzTWFuYWdlciIsImlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nIiwiZmllbGRfZm9ybXVsYSIsImluY2x1ZGVzT3BpbmlvbkZpZWxkIiwiZm9ybSIsImZvcm1fdmVyc2lvbiIsIl9mb3JtX3ZlcnNpb24iLCJmaWVsZF9mb3JtdWxhcyIsImZpZWxkcyIsIkFycmF5IiwiTWV0ZW9yIiwiaXNTZXJ2ZXIiLCJ1dWZsb3dNYW5hZ2VyIiwiZ2V0Rm9ybVZlcnNpb24iLCJkYiIsImZvcm1zIiwiZmluZE9uZSIsIl9pZCIsImZvcm1fdmVyc2lvbnMiLCJmb3JFYWNoIiwiZiIsInJlZiIsImNvbnNvbGUiLCJsb2ciLCJmMSIsImZvcm11bGEiLCJfIiwic29tZSIsImhlbHBlcnMiLCJhdXRoX3Rva2VucyIsIkNvbGxlY3Rpb24iLCJfZ2V0TG9jYWxlIiwiX2dldFJlcXVpcmVkRmllbGRzIiwiX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzIiwiX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzIiwiX2dldFRlbXBsYXRlRGF0YSIsIl9nZXRWaWV3SHRtbCIsImdldExpbmtUZXh0IiwiSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlIiwiaW5zdGFuY2VfYXR0YWNobWVudCIsImFmU2VsZWN0VXNlclJlYWQiLCJhZkZvcm1Hcm91cFJlYWQiLCJhZkZvcm1Hcm91cCIsImNyZWF0ZSIsInRlbXBhbHRlTmFtZSIsInN0ZWVkb3NEYXRhIiwidGVtcGxhdGUiLCJ0ZW1wbGF0ZUNvbXBpbGVkIiwidGVtcGxhdGVSZW5kZXJGdW5jdGlvbiIsIlNwYWNlYmFyc0NvbXBpbGVyIiwiY29tcGlsZSIsImlzQm9keSIsImV2YWwiLCJUZW1wbGF0ZSIsIkJsYXplIiwiY3JlYXRlSW5zdGFuY2VTaWduVGV4dCIsImluc3RhbmNlU2lnblRleHRDb21waWxlZCIsImluc3RhbmNlU2lnblRleHRIdG1sIiwiaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VTaWduVGV4dCIsImNyZWF0ZUltYWdlU2lnbiIsImltYWdlU2lnbkNvbXBpbGVkIiwiaW1hZ2VTaWduSHRtbCIsImltYWdlU2lnblJlbmRlckZ1bmN0aW9uIiwiaW1hZ2VTaWduIiwiY3JlYXRlVHJhY2VzSGFubGRlciIsInRyYWNlc0hhbmxkZXJDb21waWxlZCIsInRyYWNlc0hhbmxkZXJIdG1sIiwidHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIiLCJpbml0IiwiaXRlbSIsImxhYmVsIiwiZGV0YWlsX3VybCIsIlN0ZWVkb3MiLCJhYnNvbHV0ZVVybCIsImdldFZhbHVlIiwiZmllbGQiLCJsb2NhbGUiLCJ1dGNPZmZzZXQiLCJkYXRlIiwiaG91cnMiLCJtb250aCIsInNlY29uZHMiLCJ0MCIsInQxIiwieWVhciIsImVuY29kZVVSSSIsImVycm9yIiwiaXNfbXVsdGlzZWxlY3QiLCJnZXRQcm9wZXJ0eSIsImZ1bGxuYW1lIiwiVEFQaTE4biIsIl9fIiwiRGF0ZSIsImZvcm1hdERhdGUiLCJpc190ZXh0YXJlYSIsIlNwYWNlYmFycyIsIlNhZmVTdHJpbmciLCJNYXJrZG93biIsIm51bWJlclRvU3RyaW5nIiwiZGlnaXRzIiwiZ2V0TGFiZWwiLCJjb2RlIiwiZmluZFByb3BlcnR5QnlQSyIsImdldEluc3RhbmNlRm9ybVZlcnNpb24iLCJpbnN0YW5jZSIsImZvcm1fZmllbGRzIiwiY3VycmVudCIsIndoZXJlIiwiaGlzdG9yeXMiLCJnZXRGbG93VmVyc2lvbiIsImZsb3ciLCJmbG93X3ZlcnNpb24iLCJmbG93cyIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInVzZXIiLCJyZWYxIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZXYiLCJpc19yZXF1aXJlZCIsInN0ZXBzIiwiZWRpdGFibGVDb2RlIiwic3RhcnRTdGVwIiwia2V5cyIsInBlcm1pc3Npb25zIiwicmVxdWlyZWRGaWVsZHMiLCJpbnRlcnNlY3Rpb24iLCJzcGFjZSIsIldvcmtmbG93TWFuYWdlciIsImlzQ2xpZW50IiwiV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdCIsImdldEF1dG9mb3JtU2NoZW1hVmFsdWVzIiwiaW5zbmFtZSIsImluc19zdGF0ZSIsInN0YXRlIiwiaW5zX2ZpbmFsX2RlY2lzaW9uIiwiaW5zX2NvZGUiLCJpbnNfaXNfYXJjaGl2ZWQiLCJpc19hcmNoaXZlZCIsImluc19pc19kZWxldGVkIiwiYXBwbGljYW50X25hbWUiLCJhcHBsaWNhbnRDb250ZXh0Iiwic2Vzc2lvblVzZXJJZCIsImVkaXRhYmxlIiwic3RhcnRTdGVwRWRpdGFibGVGaWVsZHMiLCJwYXNzaW5nIiwibW9tZW50IiwiZm9ybWF0IiwiZ2V0SW5zdGFuY2VWaWV3IiwiYm9keSIsImluc3RhbmNlQ29tcGlsZWQiLCJpbnN0YW5jZVJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VUZW1wbGF0ZSIsIlRlbXBsYXRlTWFuYWdlciIsImdldFRlbXBsYXRlIiwidGVtcGxhdGVOYW1lIiwiaW5zdGFuY2VfcmVhZG9ubHlfdmlldyIsInRvSFRNTFdpdGhEYXRhIiwiZ2V0VHJhY2VzVmlldyIsInRyYWNlQ29tcGlsZWQiLCJ0cmFjZVJlbmRlckZ1bmN0aW9uIiwidHJhY2VzSHRtbCIsImluc3RhbmNlX3N0eWxlIiwidHJhY2VfcmVhZG9ubHlfdmlldyIsInRyYWNlcyIsImdldEF0dGFjaG1lbnRWaWV3IiwiYXR0YWNobWVudENvbXBpbGVkIiwiYXR0YWNobWVudEh0bWwiLCJhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24iLCJhdHRhY2htZW50c19yZWFkb25seV92aWV3IiwiZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXciLCJyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQiLCJyZWxhdGVkSW5zdGFuY2VzSHRtbCIsInJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXciLCJnZXRSZWxhdGVkUmVjb3Jkc1ZpZXciLCJyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkIiwicmVsYXRlZFJlY29yZHNIdG1sIiwicmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfcmVjb3Jkc192aWV3IiwiZ2V0T25Mb2FkU2NyaXB0IiwiZm9ybV9zY3JpcHQiLCJnZXRJbnN0YW5jZUh0bWwiLCJhbGxDc3NMaW5rIiwiYXR0YWNobWVudCIsImNyZWF0b3JTZXJ2aWNlIiwiY3NzSHJlZiIsImZvcm1EZXNjcmlwdGlvbiIsImZvcm1EZXNjcmlwdGlvbkh0bWwiLCJodG1sIiwiaW5zX3JlY29yZF9pZHMiLCJpbnN0YW5jZUJveFN0eWxlIiwib25Mb2FkU2NyaXB0Iiwib3BlbkZpbGVTY3JpcHQiLCJyZWxhdGVkX2luc3RhbmNlcyIsInJlbGF0ZWRfcmVjb3JkcyIsInNob3dUcmFjZXNCdG4iLCJzaG93VHJhY2VzU2NyaXB0IiwidHJhY2UiLCJ0cmFjZUNoZWNrIiwid2lkdGgiLCJzZXR0aW5ncyIsIndlYnNlcnZpY2VzIiwiY3JlYXRvciIsInJlY29yZF9pZHMiLCJKU09OIiwic3RyaW5naWZ5IiwiaXNNb2JpbGUiLCJzaG93VHJhY2UiLCJmaW5hbF9kZWNpc2lvbiIsInNob3dBdHRhY2htZW50cyIsImlzRW1wdHkiLCJ0YWdnZXIiLCJzdHlsZXMiLCJkZXNjcmlwdGlvbiIsInBsdWdpbnMiLCJmb3JtSWQiLCJpbnN0YW5jZV90aXRsZSIsInBhZ2VUaXRsZSIsInBhZ2VUaXRsZVRyQ2xhc3MiLCJ2YWwiLCJDb3JlRm9ybSIsInBhZ2VUaXRsZUZpZWxkTmFtZSIsImhhbmRsZVRhYmxlVGVtcGxhdGUiLCJfZXhwb3J0IiwidGFibGVfZmllbGRzIiwidGFibGVfZmllbGQiLCJmaWVsZF9wZXJtaXNzaW9uIiwicHVyZUNvZGUiLCJyZXF1aXJlZCIsInRpdGxlX3Blcm1pc3Npb24iLCJyZW1vdmVTcGVjaWFsQ2hhcmFjdGVyIiwiaXNPcGluaW9uRmllbGQiLCJ0cl9zdGFydCIsInRkX2NvbHNwYW4iLCJ0cl9lbmQiLCJpbmNsdWRlcyIsInBlcm1pc3Npb24iLCJfdGVtcGxhdGUiLCJ0YWJsZSIsIl90ZW1wbGF0ZUhlbHBzIiwic3RlZWRvc19pbnN0YW5jZSIsImdldEluc3RhbmNlIiwiYXR0cyIsImlkIiwic3R5bGUiLCJkaXNhYmxlZCIsImluc3RhbmNlSWQiLCJmb3JtX3R5cGVzIiwiQXBwcm92ZU1hbmFnZXIiLCJpc1JlYWRPbmx5Iiwic3RlZWRvc19mb3JtIiwiaW5uZXJzdWJmb3JtQ29udGV4dCIsImRvY192YWx1ZXMiLCJTZXNzaW9uIiwiYSIsImIiLCJTaW1wbGVTY2hlbWEiLCJnZXRBdXRvZm9ybVNjaGVtYSIsImluc3RhbmNlX2JveF9zdHlsZSIsImJveCIsImlucyIsImp1ZGdlIiwicHJpbnRfdGVtcGxhdGUiLCJpbnN0YW5jZV90ZW1wbGF0ZSIsIlN0ZWVkb3NUYWJsZSIsImNoZWNrSXRlbSIsIml0ZW1faW5kZXgiLCJmaWVsZE9iaiIsImdldEZpZWxkIiwiZmllbGRWYWwiLCJnZXRJdGVtTW9kYWxWYWx1ZSIsInNmX25hbWUiLCJzZmllbGRzIiwic2YiLCJJbnN0YW5jZU1hbmFnZXIiLCJjaGVja0Zvcm1GaWVsZFZhbHVlIiwiJCIsInNldFRhYmxlSXRlbVZhbHVlIiwiaXRlbV92YWx1ZSIsInRhYmxlVmFsdWUiLCJnZXRUYWJsZVZhbHVlIiwiZ2V0VGFibGVJdGVtVmFsdWUiLCJyZW1vdmVUYWJsZUl0ZW0iLCJyZW1vdmVkIiwic2V0VGFibGVWYWx1ZSIsImdldFZhbGlkVmFsdWUiLCJ2YWxpZFZhbHVlIiwiaGFuZGxlRGF0YSIsInZhbHVlcyIsImluc3RhbmNlRmllbGRzIiwiZ2V0SW5zdGFuY2VGaWVsZHMiLCJnZXRNb2RhbERhdGEiLCJGb3JtX2Zvcm11bGEiLCJnZXRGb3JtdWxhRmllbGRWYXJpYWJsZSIsIkF1dG9Gb3JtIiwiZ2V0Rm9ybVZhbHVlcyIsImluc2VydERvYyIsImFkZEl0ZW0iLCJfaXRlbV92YWx1ZSIsImdldEtleXMiLCJhcHBlbmQiLCJnZXRUciIsInVwZGF0ZUl0ZW0iLCJ0ZHMiLCJnZXRSZW1vdmVUZCIsInNmaWVsZCIsImdldFRkIiwiZW1wdHkiLCJydW5Gb3JtdWxhIiwicmVtb3ZlSXRlbSIsImhpZGUiLCJzaG93TW9kYWwiLCJtZXRob2QiLCJtb2RhbERhdGEiLCJNb2RhbCIsInNob3ciLCJnZXRDdXJyZW50RGF0YUZvckZvcm0iLCJzcyIsImdldEZvcm1TY2hlbWEiLCJzY2hlbWEiLCJvYmplY3RLZXlzIiwiX21ha2VHZW5lcmljIiwiZ2V0VGhlYWQiLCJpc09iamVjdCIsInRoZWFkIiwidHJzIiwic2ZfbGVuZ3RoIiwid2lkZV9maWVsZHMiLCJmaWx0ZXJQcm9wZXJ0eSIsImlzX3dpZGUiLCJnZXRUYm9keSIsInNmaWVsZHNFZGl0YWJsZSIsInRib2R5IiwidHIiLCJ0ZCIsInRkX3ZhbHVlIiwiZ2V0VERWYWx1ZSIsInZpZXciLCJDRkRhdGFNYW5hZ2VyIiwiZ2V0Rm9ybXVsYVNwYWNlVXNlcnMiLCJ1IiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnMiLCJvIiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbiIsInBsdWNrIiwiYWRkSW5wdXRUeXBlIiwidmFsdWVPdXQiLCJ2YWx1ZUNvbnZlcnRlcnMiLCJzdHJpbmdUb1N0cmluZ0FycmF5Iiwic3RyaW5nVG9OdW1iZXIiLCJzdHJpbmdUb051bWJlckFycmF5Iiwic3RyaW5nVG9Cb29sZWFuIiwic3RyaW5nVG9Cb29sZWFuQXJyYXkiLCJzdHJpbmdUb0RhdGUiLCJzdHJpbmdUb0RhdGVBcnJheSIsImNvbnRleHRBZGp1c3QiLCJtYXhsZW5ndGgiLCJhZlRhYmxlIiwiZXZlbnRzIiwiZXZlbnQiLCJuZXdfaXRlbV9pbmRleCIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0Iiwic2V0IiwicmVuZGVyZWQiLCJzdHIiLCJhZGRJdGVtVHIiLCJnZXRDdXJyZW50U3RlcCIsInN0ZXBfdHlwZSIsImNjSGFzRWRpdFBlcm1pc3Npb24iLCJhdXRvcnVuIiwiY3VycmVudERhdGEiLCJzcGFjZVVzZXJTaWduIiwidXNlcklkIiwic3BhY2VfdXNlcl9zaWducyIsImltYWdlVVJMIiwic2lnbiIsInNob3dTaWduSW1hZ2UiLCJoYW5kbGVyIiwiaXNfZmluaXNoZWQiLCJvYmplY3RVcmwiLCJvYmplY3RfbmFtZSIsInJlY29yZF9pZCIsImFwcF9pZCIsIkNyZWF0b3IiLCJnZXRPYmplY3RVcmwiLCJ1bmVtcHR5IiwidW5lcXVhbHMiLCJpbmNsdWRlIiwicmVmMiIsInJlZjMiLCJnZXRJbnN0YW5jZUZsb3dWZXJzaW9uIiwiYXBwcm92ZXMiLCJyZWY0Iiwic3RlcCIsImFwcHJvdmUiLCJqdWRnZV9uYW1lIiwiaGFuZGxlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZmluaXNoX2RhdGUiLCJvcGluaW9uX2ZpZWxkc19jb2RlIiwic2lnbl9maWVsZF9jb2RlIiwiaXNfcmVhZCIsInNpZ25fc2hvdyIsImFmdGVyX2ZpZWxkIiwiYmVmb3JlX2ZpZWxkIiwicHJlX2ZpZWxkcyIsInByZV93aWRlX2ZpZWxkcyIsInNvcnRfYXBwcm92ZSIsIm9yZGVyIiwicDEiLCJwMiIsIl9wMSIsIl9wMiIsImdldFRpbWUiLCJfdCIsImdldENmQ2xhc3MiLCJnZXRUYWJsZVRoZWFkIiwiZ2V0VGFibGVCb2R5Iiwic2hvd0xhYmVsIiwidGVtcGxhdGVEYXRhIiwiZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lIiwidG9wX2tleXdvcmRzIiwiZm9vMSIsIm9waW5pb25GaWVsZHMiLCJmb28iLCJqc29uX2Zvcm11bGEiLCJzMSIsImVycm9yMSIsInlpamlhbmxhbiIsInN0ZXBOYW1lIiwiaW1hZ2Vfc2lnbiIsIm9ubHlfY2Nfb3BpbmlvbiIsIm9ubHlfY2MiLCJkZWZhdWx0X2Rlc2NyaXB0aW9uIiwib25seV9oYW5kbGVyIiwic2hvd0NDT3BpbmlvbiIsIm1hcmtEb3duVG9IdG1sIiwibWFya0Rvd25TdHJpbmciLCJyZW5kZXJlciIsIlJlbmRlcmVyIiwidGl0bGUiLCJmX2xhYmVsIiwidGhhdCIsImlzU2VjdGlvbiIsInJlZ2lzdGVySGVscGVyIiwiaW5zX2F0dGFjaF9kb3dubG9hZF91cmwiLCJnZXRQZXJtaXNzaW9ucyIsImluc3RhbmNlZm9ybUNoYW5nZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvcGVuV2luZG93IiwidGFyZ2V0Iiwib25DcmVhdGVkIiwiY29tcGlsZWQiLCJpbnN0YW5jZUN1c3RvbVRlbXBsYXRlIiwiaW5zdGFuY2VWaWV3IiwicmVuZGVyRnVuY3Rpb24iLCJWaWV3IiwiaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlIiwib25SZW5kZXJlZCIsImN1cnJlbnRBcHByb3ZlIiwiY3VycmVudFN0ZXAiLCJmb3JtdWxhX2ZpZWxkcyIsImluc3RhbmNlTnVtYmVyRmllbGRzIiwiYXBwbGljYW50IiwibmV4dFN0ZXBzIiwibmV4dFN0ZXBVc2VycyIsIkluc3RhbmNlRXZlbnQiLCJpbml0RXZlbnRzIiwiZ2V0Q3VycmVudEFwcHJvdmUiLCJlYWNoIiwiZWxlbWVudCIsInNjaGVtYUtleSIsInRvYXN0ciIsInJlYXNvbiIsImdldEZpZWxkVmFsdWUiLCJJbnN0YW5jZU51bWJlclJ1bGVzIiwiaW5zdGFuY2VOdW1iZXJCdWlsZGVyIiwidHJpZ2dlciIsInJ1biIsInNob3dNYWluVGl0bGUiLCJ3b3JrZmxvd01haW5BdHRhY2hUaXRsZSIsImVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCIsImN1cnJlbnRfc3RlcCIsIm1haW5fYXR0YWNoX2NvdW50IiwiY2ZzIiwiaW5zdGFuY2VzIiwiZmluZCIsImNvdW50IiwiZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCIsImRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSIsInN0YXJ0X3N0ZXAiLCJnZXRTdGFydFN0ZXAiLCJjYW5fZWRpdF9tYWluX2F0dGFjaCIsImVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudCIsImdldEZsb3ciLCJ1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQiLCJpc0NDIiwiZ2V0Q0NTdGVwIiwiY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCIsIm1haW5fYXR0YWNobWVudCIsIm1haW5fYXR0YWNoIiwibm9ybWFsX2F0dGFjaG1lbnRzIiwic2VsZWN0b3IiLCIkbmUiLCJkZmlzIiwiZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyIsIiRpbiIsImRpc3RyaWJ1dGVfbWFpbiIsImZpcnN0VmVyc2lvbk1haW4iLCJtZXRhZGF0YSIsInBhcmVudCIsImF0dGFjaG1lbnRVcGxvYWRlZEF0IiwidXBsb2FkZWRBdCIsImZpcnN0VmVyc2lvbiIsInNvcnRCeSIsImluc3RhbmNlSWRzIiwiYXR0YWNobWVudHNfY291bnQiLCJmbG93X2ZpbGVzIiwiZmlsZXMiLCJpc0RyYWZ0QW5kRmxvd2ZpbGVzRXhpc3QiLCJjb21wYWN0IiwiYXR0YWNobWVudHMiLCIkb3IiLCJmZXRjaCIsIm15QXBwcm92ZSIsIm15VHJhY2UiLCJpc0luYm94IiwiZGVmYXVsdERlc2NyaXB0aW9uIiwiYXBwcm92ZV9zb3J0IiwiYXBwcm92ZXNHcm91cCIsImFwcHJvdmVzX3NvcnRlZCIsImNvbXBsZXRlZF9kYXRlIiwiaGFzTmV4dCIsImhhdmVEZXNjcmlwdGlvbkFwcHJvdmUiLCJpc19jb21wbGV0ZWQiLCJsYXN0IiwidG9wX2FwcHJvdmVzIiwidW5pb24iLCJmaWx0ZXIiLCJ0b3BfYXBwcm92ZSIsImdyb3VwQnkiLCJoYW5kbGVyQXBwcm92ZXMiLCJkZXNjcmlwdGlvbkFwcHJvdmVzIiwid29ya2Zsb3ciLCJzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24iLCJfZGlzcGxheSIsImlzTXlBcHByb3ZlIiwibXlBcHByb3ZlRGVzY3JpcHRpb24iLCJhcHByb3ZlSWQiLCJub3ciLCJpc09waW5pb25PZkZpZWxkIiwiaW1hZ2VTaWduRGF0YSIsImdldExhc3RTaWduQXBwcm92ZSIsImdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIiwibGFzdE15QXBwcm92ZURlc2NyaXB0aW9uIiwic2hvd0FwcHJvdmUiLCJqdWRnZV9kZXNjcmlwdGlvbiIsImlzX2FwcHJvdmVkIiwiaXNfcmVqZWN0ZWQiLCJpc19yZWFkZWQiLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJkYXRlRm9ybWF0IiwiZ2V0RnVsbFllYXIiLCJnZXRTdGVwTmFtZSIsInN0ZXBJZCIsImdldEluc3RhbmNlU3RlcCIsInNob3dEZWxldGVCdXR0b24iLCJhcHByb3ZlZCIsImZyb21fdXNlciIsImlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbiIsImFwcHJvdmVfYWRtaW5zIiwiaXNTaG93IiwiY29udGFpbnMiLCJpc0VkaXRpbmciLCJpc19lZGl0aW5nIiwiaXNTaG93RGVzY3JpcHRpb24iLCJnZXRBcHByb3ZlU3RhdHVzSWNvbiIsImFwcHJvdmVKdWRnZSIsImF1dG9TdWJtaXR0ZWQiLCJhcHByb3ZlU3RhdHVzSWNvbiIsImdldEFwcHJvdmVTdGF0dXNUZXh0IiwiYXBwcm92ZVN0YXR1c1RleHQiLCJnZXRBcHByb3ZlSnVkZ2VDbGFzcyIsImlzRm9yd2FyZCIsInNob3dGb3J3YXJkRGVsZXRlQnV0dG9uIiwiZm9yd2FyZF9pbnN0YW5jZSIsImlzRGlzdHJpYnV0ZSIsInNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uIiwiaGFzRmVhdHVyZSIsImdldFNwYWNlSWQiLCJoYXNGbG93QWRtaW5QZXJtaXNzaW9uIiwiZmluaXNoRGF0ZVNjaGVtYSIsImlzQW5kcm9pZE9ySU9TIiwiYXV0b2Zvcm0iLCJvcHRpb25hbCIsInJlYWRvbmx5IiwiZGF0ZVRpbWVQaWNrZXJPcHRpb25zIiwiaWdub3JlUmVhZG9ubHkiLCJ3aWRnZXRQb3NpdGlvbmluZyIsImhvcml6b250YWwiLCJmaW5pc2hEYXRlVmFsdWVzIiwic2hvd1RyYWNlc1ZpZXciLCJzaG93X21vZGFsX3RyYWNlc19saXN0Iiwic3BhY2Vfc2V0dGluZ3MiLCJnZXRJbnN0YW5jZVN0YXRlVGV4dCIsImluc3RhbmNlX2lkIiwiZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yIiwiY2xhIiwiZmlyc3RUcmFjZSIsImxhc3RfZGlzdHJpYnV0ZV9mcm9tIiwiZGlzX2luZm8iLCIkZXhpc3RzIiwiY3JlYXRlZCIsImNyZWF0ZWRfYnkiLCJVVWZsb3dfYXBpIiwiZ2V0TmFtZUZvclVzZXIiLCJ1c2VycyIsImZyb21fdXNlcl9uYW1lIiwiaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQiLCJqdWRnZVRlcm1pbmF0ZWQiLCJpbnN0YW5jZUV4aXN0cyIsImFnZW50RGVzY3JpcHRpb24iLCJ1c2VyTmFtZSIsInRyYWNlTmFtZSIsInRyYWNlSWQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYWxsaW5nIiwiZXJyIiwicmVtb3ZlQ2xhc3MiLCJzdWNjZXNzIiwiY2xvc2VzdCIsInRhcmdldF91c2VyX2lkIiwib3BlblNhZmVPYmplY3RVcmwiLCJmb3J3YXJkX3NwYWNlIiwiZm9yd2FyZHNwYWNlIiwiZm9yd2FyZGluc3RhbmNlIiwiVHJhY2tlciIsImFmdGVyRmx1c2giLCJvbiIsInNjcm9sbFRvcCIsImZpbmlzaF9pbnB1dCIsIm9waW5pb25faW5wdXQiLCJhbGxvd011bHRpcGxlIiwic2hvd1JlbGF0ZWRJbnN0YWNlcyIsInJlbGF0ZWRfaW5zdGFjZXMiLCJyZWxhdGVkX2luc3RhY2VfdXJsIiwiaXNDb3Jkb3ZhIiwic2hvd19kZWxldGUiLCJzaG93UmVsYXRlZFJlY29yZHMiLCJEZXNpZ25lckFQSSIsImdldEFic29sdXRlVXJsIiwicm9vdFVybCIsIl9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18iLCJST09UX1VSTF9QQVRIX1BSRUZJWCIsIndyaXRlUmVzcG9uc2UiLCJodHRwQ29kZSIsInN0YXR1c0NvZGUiLCJzZW5kSW52YWxpZFVSTFJlc3BvbnNlIiwic2VuZEF1dGhUb2tlbkV4cGlyZWRSZXNwb25zZSIsInNlbmRIdG1sUmVzcG9uc2UiLCJyZXEiLCJlcnJvcl9tc2ciLCJKc29uUm91dGVzIiwiYWRkIiwibmV4dCIsImRlYWxfdHlwZSIsInNwYWNlSWQiLCJzZW5kUmVzdWx0Iiwic3BlY2lmeVVzZXJJZHMiLCJnZXRVc2VycyIsImFwcGxpY2FudElkIiwiYXBwcm92ZVJvbGVJZHMiLCJnZXRVc2VyIiwiZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMiLCJvcmdhbml6YXRpb25zIiwiYXBwcm92ZUhyUm9sZUlkcyIsImdldEhyUm9sZXNVc2VycyIsIm1hbmFnZXIiLCJ1c2VyRmllbGQiLCJ1c2VyRmllbGRWYWx1ZSIsIm9yZ3MiLCJvcmdDaGlsZHJlbnMiLCJvcmdGaWVsZCIsIm9yZ0ZpZWxkVmFsdWUiLCJnZXRPcmdhbml6YXRpb25zIiwiZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbiIsImdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbnNVc2VycyIsIm9yZ0ZpZWxkVXNlcnMiLCJzcGVjaWZ5T3JnSWRzIiwic3BlY2lmeU9yZ3MiLCJzcGVjaWZ5T3JnQ2hpbGRyZW5zIiwiYXBwcm92ZXJSb2xlSWRzIiwiZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzIiwic3UiLCJ1c2VyX2FjY2VwdGVkIiwidW5pcVVzZXJzIiwidXNlcklkcyIsInNwYWNlVXNlcnMiLCJnZXRGb3JtdWxhVXNlck9iamVjdCIsImF1dG9Gb3JtRG9jIiwiYXBwcm92ZXIiLCJmb3JtdWxhX3ZhbHVlcyIsImluaXRfZm9ybXVsYV92YWx1ZXMiLCJzdGFjayIsImVycm9ycyIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJjYXRlZ29yaWVzIiwiY29tcGFueUlkIiwiY3VycmVudF91c2VyIiwiY3VycmVudF91c2VyX2luZm8iLCJvcmciLCJwb3NpdGlvbnMiLCJyb2xlcyIsInNwYWNlSWRzIiwic3BhY2VzIiwic3BhY2VzUXVlcnkiLCJjaGVja19hdXRob3JpemF0aW9uIiwiYWRtaW5zIiwiY29tcGFueV9pZCIsInNwYWNlX3VzZXJzIiwiaXNfZGVsZXRlZCIsImlzX3ZhbGlkIiwiaGVscF90ZXh0IiwiY2F0ZWdvcnkiLCJuYW1lX2Zvcm11bGEiLCJjb2RlX2Zvcm11bGEiLCJmbG93dHlwZSIsImN1cnJlbnRfbm8iLCJwZXJtcyIsImVycm9yX21lc3NhZ2UiLCJkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzIiwiZmxvd19yb2xlcyIsImZsb3dfcG9zaXRpb25zIiwiU3BhY2VVc2VycyIsIlVzZXJzIiwiRm9ybXMiLCJGbG93cyIsIk9yZ2FuaXphdGlvbnMiLCJQb3NpdGlvbnMiLCJSb2xlcyIsIkNhdGVnb3JpZXMiLCJTcGFjZXMiLCJoYXNoRGF0YSIsImFwcHJvdmVfZnJvbV9jbGllbnQiLCJ3b3JrZmxvd19lbmdpbmUiLCJpbnNlcnRlZF9pbnN0YW5jZXMiLCJpbnN0YW5jZV9mcm9tX2NsaWVudCIsIm5ld19pbnMiLCJuZXdfaW5zX2lkIiwiY3JlYXRlX2luc3RhbmNlIiwiaW5zZXJ0cyIsImNjX3VzZXJzIiwiZGVsZXRlX29iaiIsImluYm94X3VzZXJzIiwic3BhY2VVc2VyT3JnYW5pemF0aW9ucyIsInNwYWNlX2lkIiwic3BhY2VfdXNlciIsInVzZXJfaWRzIiwiZ2V0U3BhY2UiLCJnZXRTcGFjZVVzZXIiLCJzdWJtaXR0ZXIiLCJjYW5BZG1pbiIsImRlbGV0ZWQiLCJkZWxldGVkX2J5IiwiZGVsZXRlZF9pbnN0YW5jZXMiLCJpbnNlcnQiLCJyZW1vdmUiLCJ1bmlxIiwidV9pZCIsInB1c2hNYW5hZ2VyIiwic2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyIiwic2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24iLCJjdXJyZW50X2FwcHJvdmUiLCJmbG93X2lkIiwiciIsInN1Ym1pdF9pbnN0YW5jZSIsImFsZXJ0cyIsInRyaWdnZXJXZWJob29rIiwiZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQiLCJmbG93X3Zlcl9lbmRfc3RlcCIsImZsb3dfdmVycyIsImgiLCJpbnN0YW5jZV9mbG93X3ZlciIsImluc3RhbmNlX3RyYWNlIiwibmV3QXBwcm92ZSIsIm5ld1RyYWNlIiwib2xkX2NjX3VzZXJzIiwib2xkX2luYm94X3VzZXJzIiwib2xkX291dGJveF91c2VycyIsInNldE9iaiIsInNwYWNlX3VzZXJfb3JnX2luZm8iLCJ0ZW1wVXNlcnMiLCJ0ZXJtaW5hdGVfcmVhc29uIiwiaXNJbnN0YW5jZVBlbmRpbmciLCJnZXRTcGFjZVVzZXJPcmdJbmZvIiwiZl92ZXIiLCJmX3N0ZXAiLCJwZXJtaXNzaW9uTWFuYWdlciIsImdldEZsb3dQZXJtaXNzaW9ucyIsIk1vbmdvIiwiT2JqZWN0SUQiLCJfc3RyIiwidXNlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb24iLCJzdGFydF9kYXRlIiwiZHVlX2RhdGUiLCJyZWFkX2RhdGUiLCJpc19lcnJvciIsImNvc3RfdGltZSIsInByZXZpb3VzX3RyYWNlX2lkcyIsIm91dGJveF91c2VycyIsIm5mdF9hcHByb3ZlIiwibW9kaWZpZWQiLCJtb2RpZmllZF9ieSIsImN1cnJlbnRfc3RlcF9uYW1lIiwiY3VycmVudF9zdGVwX2F1dG9fc3VibWl0IiwidXBkYXRlIiwiJHNldCIsInVzZXJfaWQiLCJzZW5kX21lc3NhZ2VfY3VycmVudF91c2VyIiwiX3VzZXJzIiwiYXBwcm92ZV91c2Vyc19oYW5kbGVycyIsImFzc2lnbmVlX2FwcHIiLCJjdXJyZW50X3NwYWNlX3VzZXIiLCJjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uIiwiaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQiLCJsYXN0X3RyYWNlIiwibGFzdF90cmFjZV9mcm9tX2NsaWVudCIsIm5ld19pbmJveF91c2VycyIsIm5vdF9pbl9pbmJveF91c2VycyIsInJlYXNzaWduX3JlYXNvbiIsImRpZmZlcmVuY2UiLCJvcmdhbml6YXRpb24iLCJhZ2VudCIsImhhbmRsZXJfaWQiLCJoYW5kbGVyX2luZm8iLCJuZXdfYXBwciIsIm5ld191c2VyIiwidXNlcl9vcmdhbml6YXRpb24iLCJnZXRBZ2VudCIsInNldFJlbWluZEluZm8iLCJhaCIsImFwcHJvdmVfdXNlcnMiLCJjdXJyZW50X3NldHAiLCJjdXJyZW50X3NldHBfdHlwZSIsIm5leHRfc3RlcCIsIm5leHRfc3RlcF9uYW1lIiwibmV4dF9zdGVwX3R5cGUiLCJyZWxvY2F0ZV9hcHByIiwicmVsb2NhdGVfY29tbWVudCIsInJlbG9jYXRlX2luYm94X3VzZXJzIiwicmVsb2NhdGVfbmV4dF9zdGVwIiwic2FtZVRyYWNlcyIsInNpZ25TaG93QXBwcm92ZUlkIiwidGEiLCJ0aSIsImdldFN0ZXAiLCJnZXRVcGRhdGVkVmFsdWVzIiwiZ2V0RHVlRGF0ZSIsInRpbWVvdXRfaG91cnMiLCJuZXh0X3N0ZXBfdXNlcl9pZCIsImlkeCIsIm5leHRfc3RlcF9zcGFjZV91c2VyIiwibmV4dF9zdGVwX3VzZXJfb3JnX2luZm8iLCJ1c2VyX2luZm8iLCJnZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQiLCJ0aW1lb3V0X2F1dG9fc3VibWl0IiwibGluZXMiLCIkdW5zZXQiLCJpc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQiLCJpc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4iLCJzdGFydHVwIiwiV2ViQXBwIiwiY29ubmVjdEhhbmRsZXJzIiwidXNlIiwiZWpzIiwiZWpzTGludCIsImVuZF9kYXRlIiwiZXJyb3Jfb2JqIiwiZmlsZU5hbWUiLCJmbG93X2lkcyIsImZvcm1fbmFtZSIsImluc190b194bHMiLCJsYW5nIiwibGFzdF9tb250aF9kYXRlIiwicmV0IiwidGltZXpvbmVvZmZzZXQiLCJ1aWQiLCJwYXJzZUludCIsImdldE15QWRtaW5Pck1vbml0b3JGbG93cyIsImdldE1vbnRoIiwic3VibWl0X2RhdGUiLCIkZ3RlIiwiJGx0ZSIsInJlcXVpcmUiLCJsaW50IiwiZm9ybWF0ZXIiLCJzZXRIZWFkZXIiLCJhdXRoX3Rva2VuIiwiZm9ybWlkcyIsImlzX2FkbWluIiwic3luY190b2tlbiIsImVuYWJsZWQiLCJnZXRfU3BhY2VDaGFuZ2VTZXQiLCJsYXN0X3RyYWNlX2lkIiwib3JnX2luZm8iLCJwcmV2aW91c19zdGVwIiwicHJldmlvdXNfdHJhY2UiLCJwcmV2aW91c190cmFjZV9hcHByb3ZlcyIsInByZXZpb3VzX3RyYWNlX2lkIiwicHJldmlvdXNfdHJhY2VfbmFtZSIsInByZXZpb3VzX3RyYWNlX3N0ZXBfaWQiLCJyZXRyaWV2ZV9hcHByb3ZlIiwicmV0cmlldmVfY29tbWVudCIsInJldHJpZXZlX3R5cGUiLCJ0aGVfdHJhY2UiLCJyZXRyaWV2ZV9hcHByIiwiYXBwciIsImN1cnJlbnRfdXNlcl9pZCIsImhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCIsImlzRm9yd2FyZEF0dGFjaG1lbnRzIiwic2VsZWN0ZWRVc2VycyIsImFjdGlvbl90eXBlIiwicmVsYXRlZCIsImZyb21fYXBwcm92ZV9pZCIsImNoZWNrIiwiTWF0Y2giLCJPbmVPZiIsIm9sZF9zcGFjZV9pZCIsImZvcndhcmRfdXNlcnMiLCJub19wZXJtaXNzaW9uX3VzZXJfaWRzIiwibm9fcGVybWlzc2lvbl91c2Vyc19uYW1lIiwibmV3X2luc19pZHMiLCJjdXJyZW50X3RyYWNlIiwiY3VycmVudF90cmFjZV9pZCIsImZvcndhcmRfYXBwcm92ZXMiLCJzZXRfb2JqIiwib2xkX3ZhbHVlcyIsIm5ld192YWx1ZXMiLCJvbGRfZm9ybSIsIm9sZF9mb3JtX3ZlcnNpb24iLCJvbGRfZmllbGRzIiwiY29tbW9uX2ZpZWxkcyIsInNlbGVjdF90b19pbnB1dF9maWVsZHMiLCJleGlzdHNfZmllbGQiLCJzZWxlY3RfaW5wdXRfZmllbGQiLCJvbGRfdiIsIm9sZF9tdWx0aVNlbGVjdGVkIiwibmV3X211bHRpU2VsZWN0ZWQiLCJvbGRfdGFibGVfcm93X3ZhbHVlcyIsIm5ld190YWJsZV9yb3dfdmFsdWVzIiwicmVjb3JkX25lZWQiLCJGT05EU0lEIiwiaW5zdGFuY2VfbmFtZSIsIm5hbWVfZm9ydW1sYSIsImlzY3JpcHQiLCJjYXRlZ29yeV9uYW1lIiwiZ2V0Q2F0ZWdvcnkiLCJpbnNfb2JqIiwiaGFuZGxlcl9zcGFjZV91c2VyIiwiaGFuZGxlcl9vcmdfaW5mbyIsIl9tYWtlTmV3SUQiLCJzdWJtaXR0ZXJfbmFtZSIsImFwcGxpY2FudF9vcmdhbml6YXRpb24iLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUiLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZm9yd2FyZF9mcm9tX2luc3RhbmNlIiwidHJhY2Vfb2JqIiwic3RlcF9pZCIsInN0ZXBfbmFtZSIsImFwcHJfb2JqIiwiYXV0b19yZW1pbmQiLCJmbG93X25hbWUiLCJjb2xsZWN0aW9uIiwiaW5zdGFuY2VIdG1sIiwiaW5zdGFuY2VGaWxlIiwiRlMiLCJGaWxlIiwiYXR0YWNoRGF0YSIsIkJ1ZmZlciIsImZyb20iLCJzaXplIiwib3duZXIiLCJvd25lcl9uYW1lIiwiZmlsZU9iaiIsIm1haW4iLCJuZXdGaWxlIiwiY3JlYXRlUmVhZFN0cmVhbSIsIm9yaWdpbmFsIiwiJGFkZFRvU2V0IiwiJGVhY2giLCJ1cGRhdGVfcmVhZCIsImZsb3dJZCIsImluc0lkIiwicmVkaXJlY3RUbyIsInJlZGlyZWN0VG9VcmwiLCJyZXFfYXN5bmMiLCJwYXJhbXMiLCJzdGF0dXMiLCJzZW5kIiwid3JpdGVIZWFkIiwiYXR0YWNoIiwibGltaXQiLCJub19saW1pdF9jb3VudCIsInJlZjUiLCJyZXN1bHRfaW5zdGFuY2VzIiwic3BhY2VfbmFtZXMiLCJzcGVjaWFsX3VzZXJfaWQiLCJ1c2VyaWQiLCJ3b3JrZmxvd19jYXRlZ29yaWVzIiwiQVBJQXV0aGVudGljYXRpb25DaGVjayIsImhlYWRlcnMiLCJyZWY2IiwicmVmNyIsImNvcGllcyIsIkNvb2tpZXMiLCJhdXRoVG9rZW4iLCJpc1NwYWNlQWRtaW4iLCJpc19wYWlkIiwiYXBwbGljYW50SW5mbyIsImFwcGxpY2FudF9pZCIsImFwcGxpY2FudF91c2VybmFtZSIsImluc19pZCIsInBlcm1fdXNlcnMiLCJuZXh0X3N0ZXBfaWQiLCJuZXh0X3VzZXJfaWRzIiwicmVxdWlyZV9idXRfZW1wdHlfZmllbGRzIiwiaXNJbnN0YW5jZURyYWZ0IiwiZ2V0Rm9ybSIsImNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlIiwiZ2V0TmV4dFN0ZXBzIiwiZ2V0SGFuZGxlcnNNYW5hZ2VyIiwiZ2V0SGFuZGxlcnMiLCJzdGVwbmFtZSIsIiRlbGVtTWF0Y2giLCJpbmJveF91ZXJzIiwiYXBwcm92ZV9pZCIsInBhcnNlRmlsZXMiLCJtaW1lVHlwZSIsImlzX3ByaXZhdGUiLCJsb2NrZWRfYnkiLCJsb2NrZWRfYnlfbmFtZSIsImF0dGFjaF9pZCIsImZpbGUiLCJjb2x1bW5zIiwiZm9yd2FyZF9pbnMiLCJmb3J3YXJkX2luc192YWx1ZXMiLCJvcmlnaW5hbF9pbnMiLCJvcmlnaW5hbF9pbnNfZmllbGRzIiwib3JpZ2luYWxfaW5zX2Zvcm0iLCJvcmlnaW5hbF9pbnNfaWQiLCJvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMiLCJyZWY4IiwicmVmOSIsInJvd19kYXRhIiwic3ViVGFibGUiLCJ0YWJsZV9kYXRhIiwiY29sdW1uIiwib3JpZ2luYWxfaW5zX2ZpZWxkIiwib2giLCJhX3RhYmxlIiwiYV90YWJsZV92YWx1ZXMiLCJjb2x1bW5fbGlzdCIsImRfaW5zIiwiZF9pbnNfZmllbGRzIiwiZF9pbnNfZm9ybSIsImRfaW5zX3ZhbHVlcyIsImRfbWF0Y2hfY29sIiwiZF9tYXRjaF9jb2xfZmllbGQiLCJkX21hdGNoX2NvbF9maWVsZHMiLCJkX3N1YnRhYmxlX2ZpZWxkcyIsImRfdGFibGUiLCJkX3RhYmxlX3ZhbHVlcyIsIm9faW5zIiwib19pbnNfZmllbGRzIiwib19pbnNfZm9ybSIsIm9faW5zX2lkIiwib19tYXRjaF9jb2wiLCJvX21hdGNoX2NvbF9maWVsZCIsIm9fbWF0Y2hfY29sX2ZpZWxkcyIsIm9fc3VidGFibGVfZmllbGRzIiwib190YWJsZSIsInJlZjEwIiwicmVmMTEiLCJyZWYxMiIsInJlZjEzIiwicmVmMTQiLCJyZWYxNSIsInJlZjE2IiwicmVmMTciLCJyZWYxOCIsInJlZjE5IiwicmVmMjAiLCJyZWYyMSIsInJlZjIyIiwib1RhYmxlIiwiZFRhYmxlIiwib01hdGNoQ29sIiwiZE1hdGNoQ29sIiwicmVmaWxsQ29sIiwiYVRhYmxlIiwib19pbnNfZmllbGQiLCJkX2luc19maWVsZCIsImRoIiwiYV9yb3ciLCJyZXN1bHRzIiwibSIsImNvbCIsImNvbHMiLCJkX2NvbCIsImRfY29sX2ZpZWxkcyIsIm9fY29sIiwib19jb2xfZmllbGRzIiwiZF9yb3ciLCJoYXNfb2JqIiwib19yb3ciLCJuZXdfdGFibGVfdmFsdWVzIiwic29ydF9jb2wiLCJzdWJfdGFibGUiLCJzdWJfdGFibGVfdmFsdWVzIiwic3VtX2NvbCIsInN1bUNvbCIsInNvcnRDb2wiLCJzaW5nbGVDb2xzIiwiSnNvblNvcnQiLCJqc29uQXJyIiwiYXNjIiwiaiIsImpsIiwidGVtcCIsIk51bWJlciIsInByb2Nlc3MiLCJlbnYiLCJDUkVBVE9SX05PREVfRU5WIiwiYWN0aW9uIiwidG9fdXNlcnMiLCJnZXRGb3JtdWxhVXNlck9iamVjdHMiLCJvcmdJZHMiLCJnZXRGb3JtdWxhT3JnT2JqZWN0cyIsIm1ldGhvZHMiLCJzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlIiwic3RlcF9hcHByb3ZlIiwic3RlcHNBcHByb3Zlc09wdGlvbnMiLCJfa2V5czEiLCJfa2V5czIiLCJzdGVwc0FwcHJvdmVzIiwic3RlcEFwcHJvdmVzIiwic3RlcHNBcHByb3ZlT3B0aW9ucyIsInNldF9pbnN0YW5jZV9za2lwX3N0ZXBzIiwiJHB1bGwiLCJza2lwX3N0ZXBzIiwiJHB1c2giLCJnZXRfaW5zdGFuY2VfZGF0YSIsImZvcm1DYWNoZWQiLCJmbG93Q2FjaGVkIiwiZHJhZnRfc2F2ZV9pbnN0YW5jZSIsInRyYWNlX2lkIiwibmV4dF9zdGVwcyIsImZvcm1faWQiLCJrZXlfc3RyIiwiaXNJbnN0YW5jZVN1Ym1pdHRlciIsIm9yZ19pZCIsImdldEluc3RhbmNlTmFtZSIsImluYm94X3NhdmVfaW5zdGFuY2UiLCJpc1RyYWNlTm90RmluaXNoZWQiLCJpc0FwcHJvdmVOb3RGaW5pc2hlZCIsImlzSGFuZGxlck9yQWdlbnQiLCJwZXJtaXNzaW9uc192YWx1ZXMiLCJnZXRBcHByb3ZlVmFsdWVzIiwiY2hhbmdlX3ZhbHVlcyIsImFwcHJvdmVNYW5hZ2VyIiwiZ2V0Q2hhbmdlVmFsdWVzIiwiZXh0ZW5kIiwidmFsdWVzX2hpc3RvcnkiLCJmb3JtX3YiLCJjY19kbyIsImNjX3VzZXJfaWRzIiwibmV3X2FwcHJvdmVzIiwiZmlsZWRzIiwiY2NfcmVhZCIsImNjX3N1Ym1pdCIsInRpZHgiLCJhaWR4IiwidXBvYmoiLCJ1cGRhdGVkX3ZhbHVlcyIsImNjX3JlbW92ZSIsInJlbW92ZV91c2VyX2lkIiwibXVsdGkiLCJjY19zYXZlIiwiY3VycmVudFN0ZXBJZCIsInVwZGF0ZU9iaiIsInB1c2hPYmoiLCJmb3J3YXJkX3JlbW92ZSIsImhhc0FkbWluUGVybWlzc2lvbiIsImZvcndhcmRfaW5zdGFuY2VfaWQiLCJkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQiLCJjYW5jZWxEaXN0cmlidXRlIiwiYXBwcm92ZV9pZHMiLCJleGlzdHMiLCJjZnNfaW5zdGFuY2VzX3JlbW92ZSIsImZpbGVfaWQiLCJjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50IiwiY2ZzX2luc3RhbmNlc19sb2NrIiwiY2ZzX2luc3RhbmNlc191bmxvY2siLCJkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrIiwiY2ZzUmVjb3JkSWRzIiwiaXNfY2xvdWRhZG1pbiIsInN0b3JlIiwiZnMiLCJfX21ldGVvcl9ib290c3RyYXBfXyIsInNlcnZlckRpciIsImFic29sdXRlUGF0aCIsInJlc29sdmUiLCJzeW5jIiwidGltZSIsImRvd25sb2FkRmFpbGVkUmVjb3JkSWRzIiwiZmlsZVBhdGgiLCJ3cmFwQXN5bmMiLCJ3cml0ZXIiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImlzRnVuY3Rpb24iLCJyZWFkZXIiLCJwaXBlIiwidGltZUVuZCIsInNldF9hcHByb3ZlX2hhdmVfcmVhZCIsInNlbGYiLCJjaGFuZ2VfYXBwcm92ZV9pbmZvIiwidXBkYXRlX2FwcHJvdmVfc2lnbiIsInNpZ25fdHlwZSIsImxhc3RTaWduQXBwcm92ZSIsImN1cnJlbnRBcHByb3ZlRGVzY3JpcHRpb24iLCJjdXJyZW50VHJhY2UiLCJzZXNzaW9uX3VzZXJJZCIsInRyaW1EZXNjcmlwdGlvbiIsInVwT2JqIiwia2VlcExhc3RTaWduQXBwcm92ZURlc2NyaXB0aW9uIiwiY3VzdG9tX3NpZ25fc2hvdyIsInRJZHgiLCJhSWR4IiwidXBkYXRlX3NpZ25fc2hvdyIsIm9ianMiLCJteUFwcHJvdmVfaWQiLCJpbnN0YW5jZV9yZXR1cm4iLCJhcHByb3ZlX3ZhbHVlcyIsInByZV9zdGVwIiwicHJlX3RyYWNlIiwicmVzdF9jb3VudGVyX3VzZXJzIiwiaW5zdGFuY2VfcmVtaW5kIiwicmVtaW5kX3VzZXJzIiwicmVtaW5kX2NvdW50IiwicmVtaW5kX2RlYWRsaW5lIiwiYWN0aW9uX3R5cGVzIiwibGFzdF9yZW1pbmRfdXNlcnMiLCJwcmlvcml0eSIsImFwIiwiY2FjdWxhdGVfZGF0ZSIsIm1hbnVhbF9kZWFkbGluZSIsImNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5IiwicmVtaW5kX2RhdGUiLCJjYWN1bGF0ZVdvcmtpbmdUaW1lIiwiYmFzZV9kYXRlIiwicGx1c19oYWxmZGF5X2RhdGUiLCJzZW5kUmVtaW5kU01TIiwibmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZCIsImFwcHJvdmVyX3JvbGVzIiwicm9sZXNfbmFtZSIsInJvbGVfbmFtZSIsIl9ldmFsIiwiX05VTUJFUiIsIl9ZWVlZIiwibnVtYmVyUnVsZXMiLCJydWxlcyIsInNjcmlwdCIsImluc3RhbmNlX251bWJlcl9ydWxlcyIsIm51bWJlciIsIllZWVkiLCJNTSIsIm1tIiwiREQiLCJnZXREYXRlIiwiZGQiLCJmaXJzdF9udW1iZXIiLCJOVU1CRVIiLCJuZXdObyIsIl9lcnJvciIsImNoZWNrX21haW5fYXR0YWNoIiwiY2hlY2tNYWluQXR0YWNoIiwicmVtb3ZlX3JlbGF0ZWQiLCJyZV9pbnNfaWQiLCJ1cGRhdGVfaW5zdGFuY2VfcmVsYXRlZCIsInVwZGF0ZUZsb3dQb3NpdGlvbiIsInJvbGUiLCJ1cGRhdGVGbG93Um9sZSIsInN0YXJ0X2Zsb3ciLCJrZXlWYWx1ZSIsInN0YXJ0X2Zsb3dzIiwic3RlZWRvc19rZXl2YWx1ZXMiLCJnZXRfaW5zdGFuY2VfdHJhY2VzIiwibWluaUFwcHJvdmVGaWVsZHMiLCJjYXRlZ29yeUlkIiwiZmxvd0lkcyIsIl9iYXRjaF9pbnN0YW5jZXMiLCJnZXRCYXRjaEluc3RhbmNlcyIsIm15QXBwcm92ZXMiLCJteV9hcHByb3ZlIiwiZ2V0TXlBcHByb3ZlIiwiY2hhbmdlX2Zsb3dfc3RhdGUiLCJfdXNlcklkIiwiX2Zsb3dzIiwiX2Zsb3dzX3N0YXRlIiwiZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlIiwic3BlY2lmeVN0ZXAiLCJhcHByb3Zlcl9zdGVwIiwiX3N0ZXAiLCJmaWVsZHNfbW9kaWZpYWJsZSIsImhpZGVfaW5zdGFuY2UiLCJpc19oaWRkZW4iLCJnZXRJbnN0YW5jZVZhbHVlcyIsImdldEluc3RhbmNlUmVhZE9ubHkiLCJfaGFzUGVybWlzc2lvbiIsIl9sb2NhbGUiLCJfcGFyZW50X2luc3RhbmNlcyIsImRhdGFCdWYiLCJoaWRlX3RyYWNlcyIsInNwYWNlVXNlckNvdW50IiwiZ2V0QVBJTG9naW5Vc2VyIiwiYWNjZXNzX3Rva2VuIiwiZ2V0VXNlcklkRnJvbUFjY2Vzc1Rva2VuIiwiaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyIsIl9wYXJlbnRfaWQiLCJfcGFyZW50X2lucyIsImNoYXJzZXQiLCJyZXRfc3luY190b2tlbiIsInNwYWNlVXNlciIsImNhbk1vbml0b3IiLCIkZ3QiLCIkbmluIiwic2tpcCIsImFsbENzcyIsImdldFJlZnJlc2hhYmxlQXNzZXRzIiwiY3NzIiwiUk9PVF9VUkwiLCJlbmRzV2l0aCIsImciLCJrIiwiZ2V0RWFjaCIsIm1peGluIiwiZGVzdCIsImhhbmRlclVzZXJPYmplY3QiLCJociIsInNvcnRfbm8iLCJtb2JpbGUiLCJ3b3JrX3Bob25lIiwicG9zaXRpb24iLCJ1c2VyUm9sZXMiLCJoYW5kZXJPcmdPYmplY3QiLCJfX3ZhbHVlcyIsInRhYmxlRmllbGRzIiwidGFibGVWYWx1ZXMiLCJmb3JtdWxhVGFibGVWYWx1ZXMiLCJfX3RhYmxlVmFsdWVzIiwidGFibGVmaWVsZCIsImdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzIiwicm9sZV9pZHMiLCJnZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzIiwicm9sZV9pZCIsImdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSIsImdldEhhbmRsZXJzQnlPcmdBbmRSb2xlIiwiZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyIsIm9yZ19pZHMiLCJnZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMiLCJwYXJlbnRfaWQiLCJfYXBwcm92ZSIsIl9zcGFjZV91c2VyIiwiX3RyYWNlIiwiYXBwbGljYW50U3VwZXJpb3JzIiwiYXBwcm92ZXJfb3JnX2ZpZWxkIiwiYXBwcm92ZXJfb3JnX2lkcyIsImFwcHJvdmVyX3VzZXJfZmllbGQiLCJhcHByb3Zlcl91c2VyX2lkcyIsImN1cnJlbnRfZmxvdyIsImN1cnJlbnRfZmxvd192ZXJzaW9uIiwiY3VycmVudF9mb3JtIiwiY3VycmVudF9zdGVwcyIsImZpZWxkX2NvZGUiLCJmaW5pc2hlZF90cmFjZXMiLCJmbG93X3JldiIsImZvcm1fcmV2IiwiaGFuZGxlcnMiLCJtYXhfc3RhcnREYXRlX3RyYWNlIiwibmV3X2FwcHJvdmVyX3VzZXJfaWRzIiwibmV3X29yZ191c2VyX2lkcyIsIm5ld2VzdF92YWx1ZXMiLCJuZXh0X3N0ZXBfdXNlcnMiLCJvcmdfaWRzX25hbWVzIiwib3JnX3VzZXJfaWRzIiwic3BhY2VfdXNlcl9jb3VudCIsInN1Ym1pdHRlcl91c2VyX2NvdW50IiwidW5maW5pc2hlZF90cmFjZSIsInVzZXJfaWRzX25hbWVzIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkcyIsImhpc3RvcnkiLCJhcHByb3Zlcl9yb2xlIiwicm9sZV9jb3VudCIsImFwcHJvdmVyX2hyX3JvbGVzIiwiY3VycmVudF9mbG93X2hpc3RvcnkiLCJmb3JtX2hpc3RvcnkiLCJmb3JtX2ZpZWxkIiwiY2hlY2tfb3JnX2NvdW50IiwiY2hlY2tfb3JncyIsIm9yZ19jaGlsZHJlbiIsIm9yZ191c2VycyIsImNoZWNrX29yZ191c2VyIiwib3JnX3VzZXIiLCJjaGVja191c2VyX2NvdW50IiwiYXBwcm92ZV91c2VyIiwiY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50IiwiYXBwcm92ZXJfb3JncyIsImFwcHJvdmVyX29yZ19pZCIsInZhbGlkX2FwcHJvdmVyX29yZ19pZCIsImNoaWxkX29yZ3MiLCJ2YWxpZF9hcHByb3Zlcl9vcmciLCJjaGlsZF9vcmciLCJvcmdfdXNlcl9pZCIsInNwYWNlX3VzZXJfaW5mb19jb3VudCIsImFwcHJvdmVyX3VzZXJzIiwiYXBwcm92ZXJfdXNlcl9pZCIsIl90ciIsIl9hcHAiLCJteV9wZXJtaXNzaW9ucyIsIm9yZ3NfY2FuX2FkZCIsIm9yZ3NfY2FuX2FkbWluIiwib3Jnc19jYW5fbW9uaXRvciIsInVzZXJzX2Nhbl9hZGQiLCJ1c2Vyc19jYW5fYWRtaW4iLCJ1c2Vyc19jYW5fbW9uaXRvciIsImxhc3RfdmFsdWVzIiwiYXBwcm92ZV92YWx1ZXNfa2V5cyIsImNoYW5nZVZhbHVlcyIsImxhc3RfdmFsdWVzX2tleXMiLCJpc0VxdWFsIiwiZmxvd01hbmFnZXIiLCJnZXRDYXRlZ29yaWVzRmxvd3MiLCJjYXRlZ29yaWVJZCIsImNhdGVnb3JpZXNGb3JtcyIsImZvcm1NYW5hZ2VyIiwiZ2V0Q2F0ZWdvcmllc0Zvcm1zIiwiZ2V0VW5DYXRlZ29yaWVzRmxvd3MiLCJ1bkNhdGVnb3JpZXNGb3JtcyIsImdldFVuQ2F0ZWdvcmllc0Zvcm1zIiwiX2ZpZWxkcyIsInN0ZXBNYW5hZ2VyIiwiYWxsb3dCYXRjaCIsImlzRXhpc3RTdGVwIiwibG9nZ2VyIiwiTG9nZ2VyIiwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcCIsImZpZWxkX21hcCIsImN1cnJlbnRBcHByb3ZlcyIsImN1cnJlbnRUcmFjZXMiLCJnZXRDdXJyZW50VHJhY2UiLCJpbmJveF91c2VyIiwiRklFTERTIiwiY2F0ZWdvcnlGbG93cyIsImluYm94X2luc3RhbmNlcyIsInVuQ2F0ZWdvcnlGbG93cyIsImFwcHJvdmVfc3RhcnRfZGF0ZSIsInB1Ymxpc2giLCJyZWFkeSIsImFwcCIsInB1Ymxpc2hDb21wb3NpdGUiLCJ0YWJsZU5hbWUiLCJpZHMiLCJPcHRpb25hbCIsInVuYmxvY2siLCJjaGlsZHJlbiIsImNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3ciLCJkaXN0cmlidXRlX3RvX3NlbGYiLCJ2ZXJzaW9uSWQiLCJoYW5kbGUiLCJsYXRlc3QiLCJvYnNlcnZlQ2hhbmdlcyIsImNoYW5nZWQiLCJhZGRlZCIsIm9uU3RvcCIsInN0b3AiLCJkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb24iLCJhbGxvd19zZWxlY3Rfc3RlcCIsImdldE1pbmlJbnN0YW5jZSIsImdldE15YXBwcm92ZU1vZGlmaWVkIiwiaW5zdGFuY2VfZmllbGRzXzAiLCJuZWVkQ2hhbmdlIiwidHJpZ2dlckNoYW5nZUZpZWxkcyIsInRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMiLCJteUFwcHJvdmVNb2RpZmllZHMiLCJfaW5zdGFuY2VJZCIsImNoYW5nZUZpZWxkcyIsIl9jaGFuZ2UiLCJfcmV2IiwiX215X2FwcHJvdmVfbW9kaWZpZWRzIiwiZ2V0SW5zdGFuY2VUcmFjZXMiLCJfaW5zSWQiLCJhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUiLCJsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlIiwiaW5zdGFuY2VpZCIsImRhdGFNYXAiLCJvcGVyYXRpb24iLCJyYXdDb2xsZWN0aW9uIiwiYWdncmVnYXRlIiwidG9BcnJheSIsImRvYyIsImdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSIsImdldFN0ZXBDdXJyZW50TmFtZSIsIm5vdEZpbmlzaGVkVHJhY2VzIiwic3RlcEN1cnJlbnROYW1lIiwiJHNsaWNlIiwibXlMYXN0RmluaXNoZWRBcHByb3ZlIiwiYWdlbnRfdXNlcl9uYW1lIiwibXlfZmluaXNoX2RhdGUiLCJpc19jYyIsImNjX2NvdW50IiwiaW5zdGFuY2VfaWRzIiwicmVsYXRlZF9pbnN0YW5jZV9pZHMiLCJfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSIsIl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlIiwiX2l0ZW1zIiwiJG1hdGNoIiwiJGdyb3VwIiwiJHN1bSIsIl9jaGFuZ2VEYXRhIiwiX2Zsb3dzRGF0YSIsIl9pbml0IiwiZGF0YUl0ZW0iLCJmbG93X2luc3RhbmNlIiwib2JzZXJ2ZSIsImdldENvbGxlY3Rpb24iLCJ3b3JrZmxvd1RlbXBsYXRlIiwiYWJzb2x1dGVfcGF0aF9jbiIsImFic29sdXRlX3BhdGhfdXMiLCJmaWxlc0xpc3RfY24iLCJmaWxlc0xpc3RfdXMiLCJtaW1lIiwicGF0aF9jbiIsInBhdGhfdXMiLCJyZWFkRmlsZUxpc3QiLCJwYXRoRGlyIiwiZmlsZXNMaXN0IiwicmVhZGRpclN5bmMiLCJzdGF0Iiwic3RhdFN5bmMiLCJpc0RpcmVjdG9yeSIsIndvcmtmbG93VGVtcGxhdGVzIiwiZXhpc3RzU3luYyIsInJlYWRGaWxlU3luYyIsImdvX25leHQiLCJydWxlIiwic2NoZWR1bGUiLCJjcm9uIiwiYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uIiwic2NoZWR1bGVKb2IiLCJiaW5kRW52aXJvbm1lbnQiLCJwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMiLCJlbmRfdGltZSIsInRpbWVvdXRBdXRvU3VibWl0IiwiVGFidWxhclRhYmxlcyIsInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIiLCJUYWJ1bGFyIiwiVGFibGUiLCJvcmRlcmFibGUiLCJyZW5kZXIiLCJpbnB1dCIsInN0ZXBfY3VycmVudF9uYW1lIiwiZG9tIiwibGVuZ3RoQ2hhbmdlIiwiZXh0cmFGaWVsZHMiLCJwYWdlTGVuZ3RoIiwiaW5mbyIsInNlYXJjaGluZyIsInJlc3BvbnNpdmUiLCJkZXRhaWxzIiwiYXV0b1dpZHRoIiwiY2hhbmdlU2VsZWN0b3IiLCJjdXJTcGFjZVVzZXIiLCIkYW5kIiwiZmwiLCJHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyIsIl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyIsIl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMiLCJfaGFuZGxlTGlzdEZpZWxkcyIsImluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIiLCJuZXdJbnN0YW5jZXNMaXN0VGFidWxhciIsInVwZGF0ZVRhYnVsYXJUaXRsZSIsInN1YnMiLCJTdWJzTWFuYWdlciIsImluc19maWVsZHMiLCJwdWIiLCJvblVubG9hZCIsImluc3RhbmNlX2xpc3QiLCJfdGFibGVDb2x1bW5zIiwiZHJhd0NhbGxiYWNrIiwiZWxsaXBzaXNMaW5rIiwiZW1wdHlUZCIsImNvbFNwYW4iLCJpc1BhZCIsInBlcmZlY3RTY3JvbGxiYXIiLCJvSW5zdGFuY2UiLCJhdHRyIiwiY2xpY2siLCJnb1BhZ2UiLCJoZWlnaHQiLCJwYWdlcyIsImNlaWwiLCJmblJlY29yZHNEaXNwbGF5IiwiX2lEaXNwbGF5TGVuZ3RoIiwiRGF0YVRhYmxlIiwicGFnZSIsImRyYXciLCJibHVyIiwiY3VycmVudFBhZ2UiLCJrZXlkb3duIiwia2V5Q29kZSIsImNyZWF0ZWRSb3ciLCJyb3ciLCJkYXRhSW5kZXgiLCJGbG93Um91dGVyIiwic2V0QXR0cmlidXRlIiwiYWdlbnRfdmlldyIsImNjX3ZpZXciLCJpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzIiwiaXNGYXZvcml0ZVNlbGVjdGVkIiwibW9kaWZpZWRGcm9tTm93IiwibW9kaWZpZWRTdHJpbmciLCJwcmlvcml0eUljb24iLCJwcmlvcml0eUljb25DbGFzcyIsInByaW9yaXR5VmFsdWUiLCJzdGVwX2N1cnJlbnRfbmFtZV92aWV3IiwidW5yZWFkIiwibW9tZW50UmVhY3RpdmVGcm9tTm93IiwiRmF2b3JpdGVzIiwiaXNSZWNvcmRTZWxlY3RlZCIsInZpc2libGUiLCJjY190YWciLCJsZW5ndGhNZW51IiwicGFnaW5nVHlwZSIsImlzX2xpc3RfZGlzcGxheSIsImZpbHRlcmVkUmVjb3JkSWRzIiwib2xkX2ZpbHRlcmVkUmVjb3JkSWRzIiwiZmluZE9wdGlvbnMiLCJhZ19zb3J0IiwiYWdncmVnYXRlX29wZXJhdGlvbiIsImFzeW5jX2FnZ3JlZ2F0ZSIsInMxXzAiLCJzMV8xIiwiJHByb2plY3QiLCIkdW53aW5kIiwiJGZpcnN0IiwiJHNvcnQiLCIkc2tpcCIsIiRsaW1pdCIsImNiIiwiJGxhc3QiLCJvdXRib3hfaW5zdGFuY2VzIiwiZmxvd0luc3RhbmNlcyIsIlJlYWN0aXZlVmFyIiwiX2NoYW5nZU9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxnQkFBSjtBQUFxQkMsTUFBTSxDQUFDQyxJQUFQLENBQVksb0NBQVosRUFBaUQ7QUFBQ0Ysa0JBQWdCLENBQUNHLENBQUQsRUFBRztBQUFDSCxvQkFBZ0IsR0FBQ0csQ0FBakI7QUFBbUI7O0FBQXhDLENBQWpELEVBQTJGLENBQTNGO0FBQ3JCSCxnQkFBZ0IsQ0FBQztBQUNoQixtQkFBaUIsUUFERDtBQUVoQkksU0FBTyxFQUFFLFFBRk87QUFHaEIsWUFBVSxTQUhNO0FBSWhCQyxRQUFNLEVBQUU7QUFKUSxDQUFELEVBS2Isa0JBTGEsQ0FBaEIsQzs7Ozs7Ozs7Ozs7O0FDREE7Ozs7Ozs7Ozs7Ozs7QUFhQyxhQUFVQyxJQUFWLEVBQWdCQyxPQUFoQixFQUF5QjtB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K0JXLEtEeEc4Qy9HLE1Dd0c3RSxHRHhHNkUsTUFBOUYsR0FBOEYsTUFBOUY7QUFDQSxhQUFPQSxNQUFQO0FBTEQ7QUFBQSxHQUREO0FDaUhBLEMiLCJmaWxlIjoiL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGVja05wbVZlcnNpb25zIH0gZnJvbSAnbWV0ZW9yL3RtZWFzZGF5OmNoZWNrLW5wbS12ZXJzaW9ucyc7XG5jaGVja05wbVZlcnNpb25zKHtcblx0XCJub2RlLXNjaGVkdWxlXCI6IFwiXjEuMy4xXCIsXG5cdGNvb2tpZXM6IFwiXjAuNi4yXCIsXG5cdFwieG1sMmpzXCI6IFwiXjAuNC4xOVwiLFxuXHRta2RpcnA6IFwiXjAuMy41XCIsXG59LCAnc3RlZWRvczp3b3JrZmxvdycpOyIsIi8qIVxuICogVVJJLmpzIC0gTXV0YXRpbmcgVVJMc1xuICpcbiAqIFZlcnNpb246IDEuMTcuMFxuICpcbiAqIEF1dGhvcjogUm9kbmV5IFJlaG1cbiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzL1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyXG4gKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqICAgR1BMIHYzIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9HUEwtMy4wXG4gKlxuICovXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0J3VzZSBzdHJpY3QnO1xuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanNcblx0Ly8gaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHQvLyAgIC8vIE5vZGVcblx0Ly8gICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi9wdW55Y29kZScpLCByZXF1aXJlKCcuL0lQdjYnKSwgcmVxdWlyZSgnLi9TZWNvbmRMZXZlbERvbWFpbnMnKSk7XG5cdC8vIH0gZWxzZVxuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuXHRcdGRlZmluZShbJy4vcHVueWNvZGUnLCAnLi9JUHY2JywgJy4vU2Vjb25kTGV2ZWxEb21haW5zJ10sIGZhY3RvcnkpO1xuXHR9IGVsc2Uge1xuXHRcdC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG5cdFx0cm9vdC5VUkkgPSBmYWN0b3J5KHJvb3QucHVueWNvZGUsIHJvb3QuSVB2Niwgcm9vdC5TZWNvbmRMZXZlbERvbWFpbnMsIHJvb3QpO1xuXHR9XG59KHRoaXMsIGZ1bmN0aW9uIChwdW55Y29kZSwgSVB2NiwgU0xELCByb290KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0LypnbG9iYWwgbG9jYXRpb24sIGVzY2FwZSwgdW5lc2NhcGUgKi9cblx0Ly8gRklYTUU6IHYyLjAuMCByZW5hbWNlIG5vbi1jYW1lbENhc2UgcHJvcGVydGllcyB0byB1cHBlcmNhc2Vcblx0Lypqc2hpbnQgY2FtZWxjYXNlOiBmYWxzZSAqL1xuXG5cdC8vIHNhdmUgY3VycmVudCBVUkkgdmFyaWFibGUsIGlmIGFueVxuXHR2YXIgX1VSSSA9IHJvb3QgJiYgcm9vdC5VUkk7XG5cblx0ZnVuY3Rpb24gVVJJKHVybCwgYmFzZSkge1xuXHRcdHZhciBfdXJsU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDE7XG5cdFx0dmFyIF9iYXNlU3VwcGxpZWQgPSBhcmd1bWVudHMubGVuZ3RoID49IDI7XG5cblx0XHQvLyBBbGxvdyBpbnN0YW50aWF0aW9uIHdpdGhvdXQgdGhlICduZXcnIGtleXdvcmRcblx0XHRpZiAoISh0aGlzIGluc3RhbmNlb2YgVVJJKSkge1xuXHRcdFx0aWYgKF91cmxTdXBwbGllZCkge1xuXHRcdFx0XHRpZiAoX2Jhc2VTdXBwbGllZCkge1xuXHRcdFx0XHRcdHJldHVybiBuZXcgVVJJKHVybCwgYmFzZSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gbmV3IFVSSSh1cmwpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbmV3IFVSSSgpO1xuXHRcdH1cblxuXHRcdGlmICh1cmwgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKF91cmxTdXBwbGllZCkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCd1bmRlZmluZWQgaXMgbm90IGEgdmFsaWQgYXJndW1lbnQgZm9yIFVSSScpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIGxvY2F0aW9uICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHR1cmwgPSBsb2NhdGlvbi5ocmVmICsgJyc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR1cmwgPSAnJztcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0aGlzLmhyZWYodXJsKTtcblxuXHRcdC8vIHJlc29sdmUgdG8gYmFzZSBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNjb25zdHJ1Y3RvclxuXHRcdGlmIChiYXNlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLmFic29sdXRlVG8oYmFzZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRVUkkudmVyc2lvbiA9ICcxLjE3LjAnO1xuXG5cdHZhciBwID0gVVJJLnByb3RvdHlwZTtcblx0dmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cblx0ZnVuY3Rpb24gZXNjYXBlUmVnRXgoc3RyaW5nKSB7XG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvY29tbWl0Lzg1YWMyMTc4M2MxMWY4Y2NhYjA2MTA2ZGJhOTczNWEzMWE4NjkyNGQjY29tbWl0Y29tbWVudC04MjE5NjNcblx0XHRyZXR1cm4gc3RyaW5nLnJlcGxhY2UoLyhbLiorP149IToke30oKXxbXFxdXFwvXFxcXF0pL2csICdcXFxcJDEnKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFR5cGUodmFsdWUpIHtcblx0XHQvLyBJRTggZG9lc24ndCByZXR1cm4gW09iamVjdCBVbmRlZmluZWRdIGJ1dCBbT2JqZWN0IE9iamVjdF0gZm9yIHVuZGVmaW5lZCB2YWx1ZVxuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gJ1VuZGVmaW5lZCc7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFN0cmluZyhPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpKS5zbGljZSg4LCAtMSk7XG5cdH1cblxuXHRmdW5jdGlvbiBpc0FycmF5KG9iaikge1xuXHRcdHJldHVybiBnZXRUeXBlKG9iaikgPT09ICdBcnJheSc7XG5cdH1cblxuXHRmdW5jdGlvbiBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhLCB2YWx1ZSkge1xuXHRcdHZhciBsb29rdXAgPSB7fTtcblx0XHR2YXIgaSwgbGVuZ3RoO1xuXG5cdFx0aWYgKGdldFR5cGUodmFsdWUpID09PSAnUmVnRXhwJykge1xuXHRcdFx0bG9va3VwID0gbnVsbDtcblx0XHR9IGVsc2UgaWYgKGlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRsb29rdXBbdmFsdWVbaV1dID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0bG9va3VwW3ZhbHVlXSA9IHRydWU7XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gZGF0YS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi9cblx0XHRcdHZhciBfbWF0Y2ggPSBsb29rdXAgJiYgbG9va3VwW2RhdGFbaV1dICE9PSB1bmRlZmluZWRcblx0XHRcdFx0fHwgIWxvb2t1cCAmJiB2YWx1ZS50ZXN0KGRhdGFbaV0pO1xuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovXG5cdFx0XHRpZiAoX21hdGNoKSB7XG5cdFx0XHRcdGRhdGEuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRsZW5ndGgtLTtcblx0XHRcdFx0aS0tO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBkYXRhO1xuXHR9XG5cblx0ZnVuY3Rpb24gYXJyYXlDb250YWlucyhsaXN0LCB2YWx1ZSkge1xuXHRcdHZhciBpLCBsZW5ndGg7XG5cblx0XHQvLyB2YWx1ZSBtYXkgYmUgc3RyaW5nLCBudW1iZXIsIGFycmF5LCByZWdleHBcblx0XHRpZiAoaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdC8vIE5vdGU6IHRoaXMgY2FuIGJlIG9wdGltaXplZCB0byBPKG4pIChpbnN0ZWFkIG9mIGN1cnJlbnQgTyhtICogbikpXG5cdFx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAoIWFycmF5Q29udGFpbnMobGlzdCwgdmFsdWVbaV0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHZhciBfdHlwZSA9IGdldFR5cGUodmFsdWUpO1xuXHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGlmIChfdHlwZSA9PT0gJ1JlZ0V4cCcpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBsaXN0W2ldID09PSAnc3RyaW5nJyAmJiBsaXN0W2ldLm1hdGNoKHZhbHVlKSkge1xuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGxpc3RbaV0gPT09IHZhbHVlKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFycmF5c0VxdWFsKG9uZSwgdHdvKSB7XG5cdFx0aWYgKCFpc0FycmF5KG9uZSkgfHwgIWlzQXJyYXkodHdvKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIGFycmF5cyBjYW4ndCBiZSBlcXVhbCBpZiB0aGV5IGhhdmUgZGlmZmVyZW50IGFtb3VudCBvZiBjb250ZW50XG5cdFx0aWYgKG9uZS5sZW5ndGggIT09IHR3by5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRvbmUuc29ydCgpO1xuXHRcdHR3by5zb3J0KCk7XG5cblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IG9uZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdGlmIChvbmVbaV0gIT09IHR3b1tpXSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRmdW5jdGlvbiB0cmltU2xhc2hlcyh0ZXh0KSB7XG5cdFx0dmFyIHRyaW1fZXhwcmVzc2lvbiA9IC9eXFwvK3xcXC8rJC9nO1xuXHRcdHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7XG5cdH1cblxuXHRVUkkuX3BhcnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHByb3RvY29sOiBudWxsLFxuXHRcdFx0dXNlcm5hbWU6IG51bGwsXG5cdFx0XHRwYXNzd29yZDogbnVsbCxcblx0XHRcdGhvc3RuYW1lOiBudWxsLFxuXHRcdFx0dXJuOiBudWxsLFxuXHRcdFx0cG9ydDogbnVsbCxcblx0XHRcdHBhdGg6IG51bGwsXG5cdFx0XHRxdWVyeTogbnVsbCxcblx0XHRcdGZyYWdtZW50OiBudWxsLFxuXHRcdFx0Ly8gc3RhdGVcblx0XHRcdGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVyczogVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyxcblx0XHRcdGVzY2FwZVF1ZXJ5U3BhY2U6IFVSSS5lc2NhcGVRdWVyeVNwYWNlXG5cdFx0fTtcblx0fTtcblx0Ly8gc3RhdGU6IGFsbG93IGR1cGxpY2F0ZSBxdWVyeSBwYXJhbWV0ZXJzIChhPTEmYT0xKVxuXHRVUkkuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gZmFsc2U7XG5cdC8vIHN0YXRlOiByZXBsYWNlcyArIHdpdGggJTIwIChzcGFjZSBpbiBxdWVyeSBzdHJpbmdzKVxuXHRVUkkuZXNjYXBlUXVlcnlTcGFjZSA9IHRydWU7XG5cdC8vIHN0YXRpYyBwcm9wZXJ0aWVzXG5cdFVSSS5wcm90b2NvbF9leHByZXNzaW9uID0gL15bYS16XVthLXowLTkuKy1dKiQvaTtcblx0VVJJLmlkbl9leHByZXNzaW9uID0gL1teYS16MC05XFwuLV0vaTtcblx0VVJJLnB1bnljb2RlX2V4cHJlc3Npb24gPSAvKHhuLS0pL2k7XG5cdC8vIHdlbGwsIDMzMy40NDQuNTU1LjY2NiBtYXRjaGVzLCBidXQgaXQgc3VyZSBhaW4ndCBubyBJUHY0IC0gZG8gd2UgY2FyZT9cblx0VVJJLmlwNF9leHByZXNzaW9uID0gL15cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfSQvO1xuXHQvLyBjcmVkaXRzIHRvIFJpY2ggQnJvd25cblx0Ly8gc291cmNlOiBodHRwOi8vZm9ydW1zLmludGVybWFwcGVyLmNvbS92aWV3dG9waWMucGhwP3A9MTA5NiMxMDk2XG5cdC8vIHNwZWNpZmljYXRpb246IGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQyOTEudHh0XG5cdFVSSS5pcDZfZXhwcmVzc2lvbiA9IC9eXFxzKigoKFswLTlBLUZhLWZdezEsNH06KXs3fShbMC05QS1GYS1mXXsxLDR9fDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs2fSg6WzAtOUEtRmEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezV9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezR9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsM30pfCgoOlswLTlBLUZhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXszfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezJ9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNX0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7MX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSglLispP1xccyokLztcblx0Ly8gZXhwcmVzc2lvbiB1c2VkIGlzIFwiZ3J1YmVyIHJldmlzZWRcIiAoQGdydWJlciB2MikgZGV0ZXJtaW5lZCB0byBiZSB0aGVcblx0Ly8gYmVzdCBzb2x1dGlvbiBpbiBhIHJlZ2V4LWdvbGYgd2UgZGlkIGEgY291cGxlIG9mIGFnZXMgYWdvIGF0XG5cdC8vICogaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXhcblx0Ly8gKiBodHRwOi8vcm9kbmV5cmVobS5kZS90L3VybC1yZWdleC5odG1sXG5cdFVSSS5maW5kX3VyaV9leHByZXNzaW9uID0gL1xcYigoPzpbYS16XVtcXHctXSs6KD86XFwvezEsM318W2EtejAtOSVdKXx3d3dcXGR7MCwzfVsuXXxbYS16MC05LlxcLV0rWy5dW2Etel17Miw0fVxcLykoPzpbXlxccygpPD5dK3xcXCgoW15cXHMoKTw+XSt8KFxcKFteXFxzKCk8Pl0rXFwpKSkqXFwpKSsoPzpcXCgoW15cXHMoKTw+XSt8KFxcKFteXFxzKCk8Pl0rXFwpKSkqXFwpfFteXFxzYCEoKVxcW1xcXXt9OzonXCIuLDw+P8KrwrvigJzigJ3igJjigJldKSkvaWc7XG5cdFVSSS5maW5kVXJpID0ge1xuXHRcdC8vIHZhbGlkIFwic2NoZW1lOi8vXCIgb3IgXCJ3d3cuXCJcblx0XHRzdGFydDogL1xcYig/OihbYS16XVthLXowLTkuKy1dKjpcXC9cXC8pfHd3d1xcLikvZ2ksXG5cdFx0Ly8gZXZlcnl0aGluZyB1cCB0byB0aGUgbmV4dCB3aGl0ZXNwYWNlXG5cdFx0ZW5kOiAvW1xcc1xcclxcbl18JC8sXG5cdFx0Ly8gdHJpbSB0cmFpbGluZyBwdW5jdHVhdGlvbiBjYXB0dXJlZCBieSBlbmQgUmVnRXhwXG5cdFx0dHJpbTogL1tgISgpXFxbXFxde307OidcIi4sPD4/wqvCu+KAnOKAneKAnuKAmOKAmV0rJC9cblx0fTtcblx0Ly8gaHR0cDovL3d3dy5pYW5hLm9yZy9hc3NpZ25tZW50cy91cmktc2NoZW1lcy5odG1sXG5cdC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGlzdF9vZl9UQ1BfYW5kX1VEUF9wb3J0X251bWJlcnMjV2VsbC1rbm93bl9wb3J0c1xuXHRVUkkuZGVmYXVsdFBvcnRzID0ge1xuXHRcdGh0dHA6ICc4MCcsXG5cdFx0aHR0cHM6ICc0NDMnLFxuXHRcdGZ0cDogJzIxJyxcblx0XHRnb3BoZXI6ICc3MCcsXG5cdFx0d3M6ICc4MCcsXG5cdFx0d3NzOiAnNDQzJ1xuXHR9O1xuXHQvLyBhbGxvd2VkIGhvc3RuYW1lIGNoYXJhY3RlcnMgYWNjb3JkaW5nIHRvIFJGQyAzOTg2XG5cdC8vIEFMUEhBIERJR0lUIFwiLVwiIFwiLlwiIFwiX1wiIFwiflwiIFwiIVwiIFwiJFwiIFwiJlwiIFwiJ1wiIFwiKFwiIFwiKVwiIFwiKlwiIFwiK1wiIFwiLFwiIFwiO1wiIFwiPVwiICVlbmNvZGVkXG5cdC8vIEkndmUgbmV2ZXIgc2VlbiBhIChub24tSUROKSBob3N0bmFtZSBvdGhlciB0aGFuOiBBTFBIQSBESUdJVCAuIC1cblx0VVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycyA9IC9bXmEtekEtWjAtOVxcLi1dLztcblx0Ly8gbWFwIERPTSBFbGVtZW50cyB0byB0aGVpciBVUkkgYXR0cmlidXRlXG5cdFVSSS5kb21BdHRyaWJ1dGVzID0ge1xuXHRcdCdhJzogJ2hyZWYnLFxuXHRcdCdibG9ja3F1b3RlJzogJ2NpdGUnLFxuXHRcdCdsaW5rJzogJ2hyZWYnLFxuXHRcdCdiYXNlJzogJ2hyZWYnLFxuXHRcdCdzY3JpcHQnOiAnc3JjJyxcblx0XHQnZm9ybSc6ICdhY3Rpb24nLFxuXHRcdCdpbWcnOiAnc3JjJyxcblx0XHQnYXJlYSc6ICdocmVmJyxcblx0XHQnaWZyYW1lJzogJ3NyYycsXG5cdFx0J2VtYmVkJzogJ3NyYycsXG5cdFx0J3NvdXJjZSc6ICdzcmMnLFxuXHRcdCd0cmFjayc6ICdzcmMnLFxuXHRcdCdpbnB1dCc6ICdzcmMnLCAvLyBidXQgb25seSBpZiB0eXBlPVwiaW1hZ2VcIlxuXHRcdCdhdWRpbyc6ICdzcmMnLFxuXHRcdCd2aWRlbyc6ICdzcmMnXG5cdH07XG5cdFVSSS5nZXREb21BdHRyaWJ1dGUgPSBmdW5jdGlvbihub2RlKSB7XG5cdFx0aWYgKCFub2RlIHx8ICFub2RlLm5vZGVOYW1lKSB7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdHZhciBub2RlTmFtZSA9IG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHQvLyA8aW5wdXQ+IHNob3VsZCBvbmx5IGV4cG9zZSBzcmMgZm9yIHR5cGU9XCJpbWFnZVwiXG5cdFx0aWYgKG5vZGVOYW1lID09PSAnaW5wdXQnICYmIG5vZGUudHlwZSAhPT0gJ2ltYWdlJykge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRyZXR1cm4gVVJJLmRvbUF0dHJpYnV0ZXNbbm9kZU5hbWVdO1xuXHR9O1xuXG5cdGZ1bmN0aW9uIGVzY2FwZUZvckR1bWJGaXJlZm94MzYodmFsdWUpIHtcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTFcblx0XHRyZXR1cm4gZXNjYXBlKHZhbHVlKTtcblx0fVxuXG5cdC8vIGVuY29kaW5nIC8gZGVjb2RpbmcgYWNjb3JkaW5nIHRvIFJGQzM5ODZcblx0ZnVuY3Rpb24gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZykge1xuXHRcdC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudFxuXHRcdHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKVxuXHRcdFx0LnJlcGxhY2UoL1shJygpKl0vZywgZXNjYXBlRm9yRHVtYkZpcmVmb3gzNilcblx0XHRcdC5yZXBsYWNlKC9cXCovZywgJyUyQScpO1xuXHR9XG5cdFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7XG5cdFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7XG5cdFVSSS5pc284ODU5ID0gZnVuY3Rpb24oKSB7XG5cdFx0VVJJLmVuY29kZSA9IGVzY2FwZTtcblx0XHRVUkkuZGVjb2RlID0gdW5lc2NhcGU7XG5cdH07XG5cdFVSSS51bmljb2RlID0gZnVuY3Rpb24oKSB7XG5cdFx0VVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDtcblx0XHRVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50O1xuXHR9O1xuXHRVUkkuY2hhcmFjdGVycyA9IHtcblx0XHRwYXRobmFtZToge1xuXHRcdFx0ZW5jb2RlOiB7XG5cdFx0XHRcdC8vIFJGQzM5ODYgMi4xOiBGb3IgY29uc2lzdGVuY3ksIFVSSSBwcm9kdWNlcnMgYW5kIG5vcm1hbGl6ZXJzIHNob3VsZFxuXHRcdFx0XHQvLyB1c2UgdXBwZXJjYXNlIGhleGFkZWNpbWFsIGRpZ2l0cyBmb3IgYWxsIHBlcmNlbnQtZW5jb2RpbmdzLlxuXHRcdFx0XHRleHByZXNzaW9uOiAvJSgyNHwyNnwyQnwyQ3wzQnwzRHwzQXw0MCkvaWcsXG5cdFx0XHRcdG1hcDoge1xuXHRcdFx0XHRcdC8vIC0uX34hJygpKlxuXHRcdFx0XHRcdCclMjQnOiAnJCcsXG5cdFx0XHRcdFx0JyUyNic6ICcmJyxcblx0XHRcdFx0XHQnJTJCJzogJysnLFxuXHRcdFx0XHRcdCclMkMnOiAnLCcsXG5cdFx0XHRcdFx0JyUzQic6ICc7Jyxcblx0XHRcdFx0XHQnJTNEJzogJz0nLFxuXHRcdFx0XHRcdCclM0EnOiAnOicsXG5cdFx0XHRcdFx0JyU0MCc6ICdAJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGVjb2RlOiB7XG5cdFx0XHRcdGV4cHJlc3Npb246IC9bXFwvXFw/I10vZyxcblx0XHRcdFx0bWFwOiB7XG5cdFx0XHRcdFx0Jy8nOiAnJTJGJyxcblx0XHRcdFx0XHQnPyc6ICclM0YnLFxuXHRcdFx0XHRcdCcjJzogJyUyMydcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0cmVzZXJ2ZWQ6IHtcblx0XHRcdGVuY29kZToge1xuXHRcdFx0XHQvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGRcblx0XHRcdFx0Ly8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy5cblx0XHRcdFx0ZXhwcmVzc2lvbjogLyUoMjF8MjN8MjR8MjZ8Mjd8Mjh8Mjl8MkF8MkJ8MkN8MkZ8M0F8M0J8M0R8M0Z8NDB8NUJ8NUQpL2lnLFxuXHRcdFx0XHRtYXA6IHtcblx0XHRcdFx0XHQvLyBnZW4tZGVsaW1zXG5cdFx0XHRcdFx0JyUzQSc6ICc6Jyxcblx0XHRcdFx0XHQnJTJGJzogJy8nLFxuXHRcdFx0XHRcdCclM0YnOiAnPycsXG5cdFx0XHRcdFx0JyUyMyc6ICcjJyxcblx0XHRcdFx0XHQnJTVCJzogJ1snLFxuXHRcdFx0XHRcdCclNUQnOiAnXScsXG5cdFx0XHRcdFx0JyU0MCc6ICdAJyxcblx0XHRcdFx0XHQvLyBzdWItZGVsaW1zXG5cdFx0XHRcdFx0JyUyMSc6ICchJyxcblx0XHRcdFx0XHQnJTI0JzogJyQnLFxuXHRcdFx0XHRcdCclMjYnOiAnJicsXG5cdFx0XHRcdFx0JyUyNyc6ICdcXCcnLFxuXHRcdFx0XHRcdCclMjgnOiAnKCcsXG5cdFx0XHRcdFx0JyUyOSc6ICcpJyxcblx0XHRcdFx0XHQnJTJBJzogJyonLFxuXHRcdFx0XHRcdCclMkInOiAnKycsXG5cdFx0XHRcdFx0JyUyQyc6ICcsJyxcblx0XHRcdFx0XHQnJTNCJzogJzsnLFxuXHRcdFx0XHRcdCclM0QnOiAnPSdcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dXJucGF0aDoge1xuXHRcdFx0Ly8gVGhlIGNoYXJhY3RlcnMgdW5kZXIgYGVuY29kZWAgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDIDIxNDEgYXMgYmVpbmcgYWNjZXB0YWJsZVxuXHRcdFx0Ly8gZm9yIHVzYWdlIGluIGEgVVJOLiBSRkMyMTQxIGFsc28gY2FsbHMgb3V0IFwiLVwiLCBcIi5cIiwgYW5kIFwiX1wiIGFzIGFjY2VwdGFibGUgY2hhcmFjdGVycywgYnV0XG5cdFx0XHQvLyB0aGVzZSBhcmVuJ3QgZW5jb2RlZCBieSBlbmNvZGVVUklDb21wb25lbnQsIHNvIHdlIGRvbid0IGhhdmUgdG8gY2FsbCB0aGVtIG91dCBoZXJlLiBBbHNvXG5cdFx0XHQvLyBub3RlIHRoYXQgdGhlIGNvbG9uIGNoYXJhY3RlciBpcyBub3QgZmVhdHVyZWQgaW4gdGhlIGVuY29kaW5nIG1hcDsgdGhpcyBpcyBiZWNhdXNlIFVSSS5qc1xuXHRcdFx0Ly8gZ2l2ZXMgdGhlIGNvbG9ucyBpbiBVUk5zIHNlbWFudGljIG1lYW5pbmcgYXMgdGhlIGRlbGltaXRlcnMgb2YgcGF0aCBzZWdlbWVudHMsIGFuZCBzbyBpdFxuXHRcdFx0Ly8gc2hvdWxkIG5vdCBhcHBlYXIgdW5lbmNvZGVkIGluIGEgc2VnbWVudCBpdHNlbGYuXG5cdFx0XHQvLyBTZWUgYWxzbyB0aGUgbm90ZSBhYm92ZSBhYm91dCBSRkMzOTg2IGFuZCBjYXBpdGFsYWxpemVkIGhleCBkaWdpdHMuXG5cdFx0XHRlbmNvZGU6IHtcblx0XHRcdFx0ZXhwcmVzc2lvbjogLyUoMjF8MjR8Mjd8Mjh8Mjl8MkF8MkJ8MkN8M0J8M0R8NDApL2lnLFxuXHRcdFx0XHRtYXA6IHtcblx0XHRcdFx0XHQnJTIxJzogJyEnLFxuXHRcdFx0XHRcdCclMjQnOiAnJCcsXG5cdFx0XHRcdFx0JyUyNyc6ICdcXCcnLFxuXHRcdFx0XHRcdCclMjgnOiAnKCcsXG5cdFx0XHRcdFx0JyUyOSc6ICcpJyxcblx0XHRcdFx0XHQnJTJBJzogJyonLFxuXHRcdFx0XHRcdCclMkInOiAnKycsXG5cdFx0XHRcdFx0JyUyQyc6ICcsJyxcblx0XHRcdFx0XHQnJTNCJzogJzsnLFxuXHRcdFx0XHRcdCclM0QnOiAnPScsXG5cdFx0XHRcdFx0JyU0MCc6ICdAJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0Ly8gVGhlc2UgY2hhcmFjdGVycyBhcmUgdGhlIGNoYXJhY3RlcnMgY2FsbGVkIG91dCBieSBSRkMyMTQxIGFzIFwicmVzZXJ2ZWRcIiBjaGFyYWN0ZXJzIHRoYXRcblx0XHRcdC8vIHNob3VsZCBuZXZlciBhcHBlYXIgaW4gYSBVUk4sIHBsdXMgdGhlIGNvbG9uIGNoYXJhY3RlciAoc2VlIG5vdGUgYWJvdmUpLlxuXHRcdFx0ZGVjb2RlOiB7XG5cdFx0XHRcdGV4cHJlc3Npb246IC9bXFwvXFw/IzpdL2csXG5cdFx0XHRcdG1hcDoge1xuXHRcdFx0XHRcdCcvJzogJyUyRicsXG5cdFx0XHRcdFx0Jz8nOiAnJTNGJyxcblx0XHRcdFx0XHQnIyc6ICclMjMnLFxuXHRcdFx0XHRcdCc6JzogJyUzQSdcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0VVJJLmVuY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7XG5cdFx0dmFyIGVzY2FwZWQgPSBVUkkuZW5jb2RlKHN0cmluZyArICcnKTtcblx0XHRpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDtcblx0fTtcblx0VVJJLmRlY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7XG5cdFx0c3RyaW5nICs9ICcnO1xuXHRcdGlmIChlc2NhcGVRdWVyeVNwYWNlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGVzY2FwZVF1ZXJ5U3BhY2UgPSBVUkkuZXNjYXBlUXVlcnlTcGFjZTtcblx0XHR9XG5cblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIFVSSS5kZWNvZGUoZXNjYXBlUXVlcnlTcGFjZSA/IHN0cmluZy5yZXBsYWNlKC9cXCsvZywgJyUyMCcpIDogc3RyaW5nKTtcblx0XHR9IGNhdGNoKGUpIHtcblx0XHRcdC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLFxuXHRcdFx0Ly8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nXG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3XG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyXG5cdFx0XHRyZXR1cm4gc3RyaW5nO1xuXHRcdH1cblx0fTtcblx0Ly8gZ2VuZXJhdGUgZW5jb2RlL2RlY29kZSBwYXRoIGZ1bmN0aW9uc1xuXHR2YXIgX3BhcnRzID0geydlbmNvZGUnOidlbmNvZGUnLCAnZGVjb2RlJzonZGVjb2RlJ307XG5cdHZhciBfcGFydDtcblx0dmFyIGdlbmVyYXRlQWNjZXNzb3IgPSBmdW5jdGlvbihfZ3JvdXAsIF9wYXJ0KSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmV0dXJuIFVSSVtfcGFydF0oc3RyaW5nICsgJycpLnJlcGxhY2UoVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0uZXhwcmVzc2lvbiwgZnVuY3Rpb24oYykge1xuXHRcdFx0XHRcdHJldHVybiBVUkkuY2hhcmFjdGVyc1tfZ3JvdXBdW19wYXJ0XS5tYXBbY107XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHQvLyB3ZSdyZSBub3QgZ29pbmcgdG8gbWVzcyB3aXRoIHdlaXJkIGVuY29kaW5ncyxcblx0XHRcdFx0Ly8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nXG5cdFx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvODdcblx0XHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MlxuXHRcdFx0XHRyZXR1cm4gc3RyaW5nO1xuXHRcdFx0fVxuXHRcdH07XG5cdH07XG5cblx0Zm9yIChfcGFydCBpbiBfcGFydHMpIHtcblx0XHRVUklbX3BhcnQgKyAnUGF0aFNlZ21lbnQnXSA9IGdlbmVyYXRlQWNjZXNzb3IoJ3BhdGhuYW1lJywgX3BhcnRzW19wYXJ0XSk7XG5cdFx0VVJJW19wYXJ0ICsgJ1VyblBhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCd1cm5wYXRoJywgX3BhcnRzW19wYXJ0XSk7XG5cdH1cblxuXHR2YXIgZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24gPSBmdW5jdGlvbihfc2VwLCBfY29kaW5nRnVuY05hbWUsIF9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0Ly8gV2h5IHBhc3MgaW4gbmFtZXMgb2YgZnVuY3Rpb25zLCByYXRoZXIgdGhhbiB0aGUgZnVuY3Rpb24gb2JqZWN0cyB0aGVtc2VsdmVzPyBUaGVcblx0XHRcdC8vIGRlZmluaXRpb25zIG9mIHNvbWUgZnVuY3Rpb25zIChidXQgaW4gcGFydGljdWxhciwgVVJJLmRlY29kZSkgd2lsbCBvY2Nhc2lvbmFsbHkgY2hhbmdlIGR1ZVxuXHRcdFx0Ly8gdG8gVVJJLmpzIGhhdmluZyBJU084ODU5IGFuZCBVbmljb2RlIG1vZGVzLiBQYXNzaW5nIGluIHRoZSBuYW1lIGFuZCBnZXR0aW5nIGl0IHdpbGwgZW5zdXJlXG5cdFx0XHQvLyB0aGF0IHRoZSBmdW5jdGlvbnMgd2UgdXNlIGhlcmUgYXJlIFwiZnJlc2hcIi5cblx0XHRcdHZhciBhY3R1YWxDb2RpbmdGdW5jO1xuXHRcdFx0aWYgKCFfaW5uZXJDb2RpbmdGdW5jTmFtZSkge1xuXHRcdFx0XHRhY3R1YWxDb2RpbmdGdW5jID0gVVJJW19jb2RpbmdGdW5jTmFtZV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRhY3R1YWxDb2RpbmdGdW5jID0gZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFVSSVtfY29kaW5nRnVuY05hbWVdKFVSSVtfaW5uZXJDb2RpbmdGdW5jTmFtZV0oc3RyaW5nKSk7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzZWdtZW50cyA9IChzdHJpbmcgKyAnJykuc3BsaXQoX3NlcCk7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRzZWdtZW50c1tpXSA9IGFjdHVhbENvZGluZ0Z1bmMoc2VnbWVudHNbaV0pO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2VnbWVudHMuam9pbihfc2VwKTtcblx0XHR9O1xuXHR9O1xuXG5cdC8vIFRoaXMgdGFrZXMgcGxhY2Ugb3V0c2lkZSB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGRvbid0IHdhbnQsIGUuZy4sIGVuY29kZVVyblBhdGggZnVuY3Rpb25zLlxuXHRVUkkuZGVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2RlY29kZVBhdGhTZWdtZW50Jyk7XG5cdFVSSS5kZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZGVjb2RlVXJuUGF0aFNlZ21lbnQnKTtcblx0VVJJLnJlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdlbmNvZGVQYXRoU2VnbWVudCcsICdkZWNvZGUnKTtcblx0VVJJLnJlY29kZVVyblBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignOicsICdlbmNvZGVVcm5QYXRoU2VnbWVudCcsICdkZWNvZGUnKTtcblxuXHRVUkkuZW5jb2RlUmVzZXJ2ZWQgPSBnZW5lcmF0ZUFjY2Vzc29yKCdyZXNlcnZlZCcsICdlbmNvZGUnKTtcblxuXHRVUkkucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7XG5cdFx0dmFyIHBvcztcblx0XHRpZiAoIXBhcnRzKSB7XG5cdFx0XHRwYXJ0cyA9IHt9O1xuXHRcdH1cblx0XHQvLyBbcHJvdG9jb2xcIjovL1wiW3VzZXJuYW1lW1wiOlwicGFzc3dvcmRdXCJAXCJdaG9zdG5hbWVbXCI6XCJwb3J0XVwiL1wiP11bcGF0aF1bXCI/XCJxdWVyeXN0cmluZ11bXCIjXCJmcmFnbWVudF1cblxuXHRcdC8vIGV4dHJhY3QgZnJhZ21lbnRcblx0XHRwb3MgPSBzdHJpbmcuaW5kZXhPZignIycpO1xuXHRcdGlmIChwb3MgPiAtMSkge1xuXHRcdFx0Ly8gZXNjYXBpbmc/XG5cdFx0XHRwYXJ0cy5mcmFnbWVudCA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDtcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTtcblx0XHR9XG5cblx0XHQvLyBleHRyYWN0IHF1ZXJ5XG5cdFx0cG9zID0gc3RyaW5nLmluZGV4T2YoJz8nKTtcblx0XHRpZiAocG9zID4gLTEpIHtcblx0XHRcdC8vIGVzY2FwaW5nP1xuXHRcdFx0cGFydHMucXVlcnkgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7XG5cdFx0fVxuXG5cdFx0Ly8gZXh0cmFjdCBwcm90b2NvbFxuXHRcdGlmIChzdHJpbmcuc3Vic3RyaW5nKDAsIDIpID09PSAnLy8nKSB7XG5cdFx0XHQvLyByZWxhdGl2ZS1zY2hlbWVcblx0XHRcdHBhcnRzLnByb3RvY29sID0gbnVsbDtcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMik7XG5cdFx0XHQvLyBleHRyYWN0IFwidXNlcjpwYXNzQGhvc3Q6cG9ydFwiXG5cdFx0XHRzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBvcyA9IHN0cmluZy5pbmRleE9mKCc6Jyk7XG5cdFx0XHRpZiAocG9zID4gLTEpIHtcblx0XHRcdFx0cGFydHMucHJvdG9jb2wgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDtcblx0XHRcdFx0aWYgKHBhcnRzLnByb3RvY29sICYmICFwYXJ0cy5wcm90b2NvbC5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHtcblx0XHRcdFx0XHQvLyA6IG1heSBiZSB3aXRoaW4gdGhlIHBhdGhcblx0XHRcdFx0XHRwYXJ0cy5wcm90b2NvbCA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fSBlbHNlIGlmIChzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEsIHBvcyArIDMpID09PSAnLy8nKSB7XG5cdFx0XHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAzKTtcblxuXHRcdFx0XHRcdC8vIGV4dHJhY3QgXCJ1c2VyOnBhc3NAaG9zdDpwb3J0XCJcblx0XHRcdFx0XHRzdHJpbmcgPSBVUkkucGFyc2VBdXRob3JpdHkoc3RyaW5nLCBwYXJ0cyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTtcblx0XHRcdFx0XHRwYXJ0cy51cm4gPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gd2hhdCdzIGxlZnQgbXVzdCBiZSB0aGUgcGF0aFxuXHRcdHBhcnRzLnBhdGggPSBzdHJpbmc7XG5cblx0XHQvLyBhbmQgd2UncmUgZG9uZVxuXHRcdHJldHVybiBwYXJ0cztcblx0fTtcblx0VVJJLnBhcnNlSG9zdCA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHtcblx0XHQvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cblx0XHQvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcblx0XHQvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9ibG9iLzM4NmZkMjRmNDliMGU5ZDFhOGEwNzY1OTJhNDA0MTY4ZmFlZWNjMzQvbGliL3VybC5qcyNMMTE1LUwxMjRcblx0XHQvLyBTZWU6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNTkxNlxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoL1xcXFwvZywgJy8nKTtcblxuXHRcdC8vIGV4dHJhY3QgaG9zdDpwb3J0XG5cdFx0dmFyIHBvcyA9IHN0cmluZy5pbmRleE9mKCcvJyk7XG5cdFx0dmFyIGJyYWNrZXRQb3M7XG5cdFx0dmFyIHQ7XG5cblx0XHRpZiAocG9zID09PSAtMSkge1xuXHRcdFx0cG9zID0gc3RyaW5nLmxlbmd0aDtcblx0XHR9XG5cblx0XHRpZiAoc3RyaW5nLmNoYXJBdCgwKSA9PT0gJ1snKSB7XG5cdFx0XHQvLyBJUHY2IGhvc3QgLSBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9kcmFmdC1pZXRmLTZtYW4tdGV4dC1hZGRyLXJlcHJlc2VudGF0aW9uLTA0I3NlY3Rpb24tNlxuXHRcdFx0Ly8gSSBjbGFpbSBtb3N0IGNsaWVudCBzb2Z0d2FyZSBicmVha3Mgb24gSVB2NiBhbnl3YXlzLiBUbyBzaW1wbGlmeSB0aGluZ3MsIFVSSSBvbmx5IGFjY2VwdHNcblx0XHRcdC8vIElQdjYrcG9ydCBpbiB0aGUgZm9ybWF0IFsyMDAxOmRiODo6MV06ODAgKGZvciB0aGUgdGltZSBiZWluZylcblx0XHRcdGJyYWNrZXRQb3MgPSBzdHJpbmcuaW5kZXhPZignXScpO1xuXHRcdFx0cGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDEsIGJyYWNrZXRQb3MpIHx8IG51bGw7XG5cdFx0XHRwYXJ0cy5wb3J0ID0gc3RyaW5nLnN1YnN0cmluZyhicmFja2V0UG9zICsgMiwgcG9zKSB8fCBudWxsO1xuXHRcdFx0aWYgKHBhcnRzLnBvcnQgPT09ICcvJykge1xuXHRcdFx0XHRwYXJ0cy5wb3J0ID0gbnVsbDtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGZpcnN0Q29sb24gPSBzdHJpbmcuaW5kZXhPZignOicpO1xuXHRcdFx0dmFyIGZpcnN0U2xhc2ggPSBzdHJpbmcuaW5kZXhPZignLycpO1xuXHRcdFx0dmFyIG5leHRDb2xvbiA9IHN0cmluZy5pbmRleE9mKCc6JywgZmlyc3RDb2xvbiArIDEpO1xuXHRcdFx0aWYgKG5leHRDb2xvbiAhPT0gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IG5leHRDb2xvbiA8IGZpcnN0U2xhc2gpKSB7XG5cdFx0XHRcdC8vIElQdjYgaG9zdCBjb250YWlucyBtdWx0aXBsZSBjb2xvbnMgLSBidXQgbm8gcG9ydFxuXHRcdFx0XHQvLyB0aGlzIG5vdGF0aW9uIGlzIGFjdHVhbGx5IG5vdCBhbGxvd2VkIGJ5IFJGQyAzOTg2LCBidXQgd2UncmUgYSBsaWJlcmFsIHBhcnNlclxuXHRcdFx0XHRwYXJ0cy5ob3N0bmFtZSA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKSB8fCBudWxsO1xuXHRcdFx0XHRwYXJ0cy5wb3J0ID0gbnVsbDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTtcblx0XHRcdFx0cGFydHMuaG9zdG5hbWUgPSB0WzBdIHx8IG51bGw7XG5cdFx0XHRcdHBhcnRzLnBvcnQgPSB0WzFdIHx8IG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHBhcnRzLmhvc3RuYW1lICYmIHN0cmluZy5zdWJzdHJpbmcocG9zKS5jaGFyQXQoMCkgIT09ICcvJykge1xuXHRcdFx0cG9zKys7XG5cdFx0XHRzdHJpbmcgPSAnLycgKyBzdHJpbmc7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN0cmluZy5zdWJzdHJpbmcocG9zKSB8fCAnLyc7XG5cdH07XG5cdFVSSS5wYXJzZUF1dGhvcml0eSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHtcblx0XHRzdHJpbmcgPSBVUkkucGFyc2VVc2VyaW5mbyhzdHJpbmcsIHBhcnRzKTtcblx0XHRyZXR1cm4gVVJJLnBhcnNlSG9zdChzdHJpbmcsIHBhcnRzKTtcblx0fTtcblx0VVJJLnBhcnNlVXNlcmluZm8gPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7XG5cdFx0Ly8gZXh0cmFjdCB1c2VybmFtZTpwYXNzd29yZFxuXHRcdHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTtcblx0XHR2YXIgcG9zID0gc3RyaW5nLmxhc3RJbmRleE9mKCdAJywgZmlyc3RTbGFzaCA+IC0xID8gZmlyc3RTbGFzaCA6IHN0cmluZy5sZW5ndGggLSAxKTtcblx0XHR2YXIgdDtcblxuXHRcdC8vIGF1dGhvcml0eUAgbXVzdCBjb21lIGJlZm9yZSAvcGF0aFxuXHRcdGlmIChwb3MgPiAtMSAmJiAoZmlyc3RTbGFzaCA9PT0gLTEgfHwgcG9zIDwgZmlyc3RTbGFzaCkpIHtcblx0XHRcdHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTtcblx0XHRcdHBhcnRzLnVzZXJuYW1lID0gdFswXSA/IFVSSS5kZWNvZGUodFswXSkgOiBudWxsO1xuXHRcdFx0dC5zaGlmdCgpO1xuXHRcdFx0cGFydHMucGFzc3dvcmQgPSB0WzBdID8gVVJJLmRlY29kZSh0LmpvaW4oJzonKSkgOiBudWxsO1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cGFydHMudXNlcm5hbWUgPSBudWxsO1xuXHRcdFx0cGFydHMucGFzc3dvcmQgPSBudWxsO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdHJpbmc7XG5cdH07XG5cdFVSSS5wYXJzZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7XG5cdFx0aWYgKCFzdHJpbmcpIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cblx0XHQvLyB0aHJvdyBvdXQgdGhlIGZ1bmt5IGJ1c2luZXNzIC0gXCI/XCJbbmFtZVwiPVwidmFsdWVcIiZcIl0rXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoLyYrL2csICcmJykucmVwbGFjZSgvXlxcPyomKnwmKyQvZywgJycpO1xuXG5cdFx0aWYgKCFzdHJpbmcpIHtcblx0XHRcdHJldHVybiB7fTtcblx0XHR9XG5cblx0XHR2YXIgaXRlbXMgPSB7fTtcblx0XHR2YXIgc3BsaXRzID0gc3RyaW5nLnNwbGl0KCcmJyk7XG5cdFx0dmFyIGxlbmd0aCA9IHNwbGl0cy5sZW5ndGg7XG5cdFx0dmFyIHYsIG5hbWUsIHZhbHVlO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0diA9IHNwbGl0c1tpXS5zcGxpdCgnPScpO1xuXHRcdFx0bmFtZSA9IFVSSS5kZWNvZGVRdWVyeSh2LnNoaWZ0KCksIGVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFx0Ly8gbm8gXCI9XCIgaXMgbnVsbCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzXG5cdFx0XHR2YWx1ZSA9IHYubGVuZ3RoID8gVVJJLmRlY29kZVF1ZXJ5KHYuam9pbignPScpLCBlc2NhcGVRdWVyeVNwYWNlKSA6IG51bGw7XG5cblx0XHRcdGlmIChoYXNPd24uY2FsbChpdGVtcywgbmFtZSkpIHtcblx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtc1tuYW1lXSA9PT0gJ3N0cmluZycgfHwgaXRlbXNbbmFtZV0gPT09IG51bGwpIHtcblx0XHRcdFx0XHRpdGVtc1tuYW1lXSA9IFtpdGVtc1tuYW1lXV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpdGVtc1tuYW1lXS5wdXNoKHZhbHVlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGl0ZW1zW25hbWVdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGl0ZW1zO1xuXHR9O1xuXG5cdFVSSS5idWlsZCA9IGZ1bmN0aW9uKHBhcnRzKSB7XG5cdFx0dmFyIHQgPSAnJztcblxuXHRcdGlmIChwYXJ0cy5wcm90b2NvbCkge1xuXHRcdFx0dCArPSBwYXJ0cy5wcm90b2NvbCArICc6Jztcblx0XHR9XG5cblx0XHRpZiAoIXBhcnRzLnVybiAmJiAodCB8fCBwYXJ0cy5ob3N0bmFtZSkpIHtcblx0XHRcdHQgKz0gJy8vJztcblx0XHR9XG5cblx0XHR0ICs9IChVUkkuYnVpbGRBdXRob3JpdHkocGFydHMpIHx8ICcnKTtcblxuXHRcdGlmICh0eXBlb2YgcGFydHMucGF0aCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGlmIChwYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nICYmIHR5cGVvZiBwYXJ0cy5ob3N0bmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0dCArPSAnLyc7XG5cdFx0XHR9XG5cblx0XHRcdHQgKz0gcGFydHMucGF0aDtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHBhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5xdWVyeSkge1xuXHRcdFx0dCArPSAnPycgKyBwYXJ0cy5xdWVyeTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHBhcnRzLmZyYWdtZW50ID09PSAnc3RyaW5nJyAmJiBwYXJ0cy5mcmFnbWVudCkge1xuXHRcdFx0dCArPSAnIycgKyBwYXJ0cy5mcmFnbWVudDtcblx0XHR9XG5cdFx0cmV0dXJuIHQ7XG5cdH07XG5cdFVSSS5idWlsZEhvc3QgPSBmdW5jdGlvbihwYXJ0cykge1xuXHRcdHZhciB0ID0gJyc7XG5cblx0XHRpZiAoIXBhcnRzLmhvc3RuYW1lKSB7XG5cdFx0XHRyZXR1cm4gJyc7XG5cdFx0fSBlbHNlIGlmIChVUkkuaXA2X2V4cHJlc3Npb24udGVzdChwYXJ0cy5ob3N0bmFtZSkpIHtcblx0XHRcdHQgKz0gJ1snICsgcGFydHMuaG9zdG5hbWUgKyAnXSc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHQgKz0gcGFydHMuaG9zdG5hbWU7XG5cdFx0fVxuXG5cdFx0aWYgKHBhcnRzLnBvcnQpIHtcblx0XHRcdHQgKz0gJzonICsgcGFydHMucG9ydDtcblx0XHR9XG5cblx0XHRyZXR1cm4gdDtcblx0fTtcblx0VVJJLmJ1aWxkQXV0aG9yaXR5ID0gZnVuY3Rpb24ocGFydHMpIHtcblx0XHRyZXR1cm4gVVJJLmJ1aWxkVXNlcmluZm8ocGFydHMpICsgVVJJLmJ1aWxkSG9zdChwYXJ0cyk7XG5cdH07XG5cdFVSSS5idWlsZFVzZXJpbmZvID0gZnVuY3Rpb24ocGFydHMpIHtcblx0XHR2YXIgdCA9ICcnO1xuXG5cdFx0aWYgKHBhcnRzLnVzZXJuYW1lKSB7XG5cdFx0XHR0ICs9IFVSSS5lbmNvZGUocGFydHMudXNlcm5hbWUpO1xuXG5cdFx0XHRpZiAocGFydHMucGFzc3dvcmQpIHtcblx0XHRcdFx0dCArPSAnOicgKyBVUkkuZW5jb2RlKHBhcnRzLnBhc3N3b3JkKTtcblx0XHRcdH1cblxuXHRcdFx0dCArPSAnQCc7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHQ7XG5cdH07XG5cdFVSSS5idWlsZFF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCBlc2NhcGVRdWVyeVNwYWNlKSB7XG5cdFx0Ly8gYWNjb3JkaW5nIHRvIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYgb3IgaHR0cDovL2xhYnMuYXBhY2hlLm9yZy93ZWJhcmNoL3VyaS9yZmMvcmZjMzk4Ni5odG1sXG5cdFx0Ly8gYmVpbmcgwrstLl9+ISQmJygpKissOz06QC8/wqsgJUhFWCBhbmQgYWxudW0gYXJlIGFsbG93ZWRcblx0XHQvLyB0aGUgUkZDIGV4cGxpY2l0bHkgc3RhdGVzID8vZm9vIGJlaW5nIGEgdmFsaWQgdXNlIGNhc2UsIG5vIG1lbnRpb24gb2YgcGFyYW1ldGVyIHN5bnRheCFcblx0XHQvLyBVUkkuanMgdHJlYXRzIHRoZSBxdWVyeSBzdHJpbmcgYXMgYmVpbmcgYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXG5cdFx0Ly8gc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1JFQy1odG1sNDAvaW50ZXJhY3QvZm9ybXMuaHRtbCNmb3JtLWNvbnRlbnQtdHlwZVxuXG5cdFx0dmFyIHQgPSAnJztcblx0XHR2YXIgdW5pcXVlLCBrZXksIGksIGxlbmd0aDtcblx0XHRmb3IgKGtleSBpbiBkYXRhKSB7XG5cdFx0XHRpZiAoaGFzT3duLmNhbGwoZGF0YSwga2V5KSAmJiBrZXkpIHtcblx0XHRcdFx0aWYgKGlzQXJyYXkoZGF0YVtrZXldKSkge1xuXHRcdFx0XHRcdHVuaXF1ZSA9IHt9O1xuXHRcdFx0XHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGFba2V5XS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0aWYgKGRhdGFba2V5XVtpXSAhPT0gdW5kZWZpbmVkICYmIHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0XHR0ICs9ICcmJyArIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyKGtleSwgZGF0YVtrZXldW2ldLCBlc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRcdFx0XHRcdFx0aWYgKGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyAhPT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0XHRcdHVuaXF1ZVtkYXRhW2tleV1baV0gKyAnJ10gPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0dCArPSAnJicgKyBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlcihrZXksIGRhdGFba2V5XSwgZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdC5zdWJzdHJpbmcoMSk7XG5cdH07XG5cdFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIHtcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGUgLS0gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXG5cdFx0Ly8gZG9uJ3QgYXBwZW5kIFwiPVwiIGZvciBudWxsIHZhbHVlcywgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjdXJsLXBhcmFtZXRlci1zZXJpYWxpemF0aW9uXG5cdFx0cmV0dXJuIFVSSS5lbmNvZGVRdWVyeShuYW1lLCBlc2NhcGVRdWVyeVNwYWNlKSArICh2YWx1ZSAhPT0gbnVsbCA/ICc9JyArIFVSSS5lbmNvZGVRdWVyeSh2YWx1ZSwgZXNjYXBlUXVlcnlTcGFjZSkgOiAnJyk7XG5cdH07XG5cblx0VVJJLmFkZFF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHtcblx0XHRpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gbmFtZSkge1xuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkge1xuXHRcdFx0XHRcdFVSSS5hZGRRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xuXHRcdFx0aWYgKGRhdGFbbmFtZV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRkYXRhW25hbWVdID0gdmFsdWU7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGRhdGFbbmFtZV0gPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdGRhdGFbbmFtZV0gPSBbZGF0YVtuYW1lXV07XG5cdFx0XHR9XG5cblx0XHRcdGlmICghaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdFx0dmFsdWUgPSBbdmFsdWVdO1xuXHRcdFx0fVxuXG5cdFx0XHRkYXRhW25hbWVdID0gKGRhdGFbbmFtZV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7XG5cdFx0fVxuXHR9O1xuXHRVUkkucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSkge1xuXHRcdHZhciBpLCBsZW5ndGgsIGtleTtcblxuXHRcdGlmIChpc0FycmF5KG5hbWUpKSB7XG5cdFx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGRhdGFbbmFtZVtpXV0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykge1xuXHRcdFx0Zm9yIChrZXkgaW4gZGF0YSkge1xuXHRcdFx0XHRpZiAobmFtZS50ZXN0KGtleSkpIHtcblx0XHRcdFx0XHRkYXRhW2tleV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Zm9yIChrZXkgaW4gbmFtZSkge1xuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkge1xuXHRcdFx0XHRcdFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xuXHRcdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0aWYgKGdldFR5cGUodmFsdWUpID09PSAnUmVnRXhwJykge1xuXHRcdFx0XHRcdGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7XG5cdFx0XHRcdFx0XHRkYXRhW25hbWVdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChkYXRhW25hbWVdID09PSBTdHJpbmcodmFsdWUpICYmICghaXNBcnJheSh2YWx1ZSkgfHwgdmFsdWUubGVuZ3RoID09PSAxKSkge1xuXHRcdFx0XHRcdGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoaXNBcnJheShkYXRhW25hbWVdKSkge1xuXHRcdFx0XHRcdGRhdGFbbmFtZV0gPSBmaWx0ZXJBcnJheVZhbHVlcyhkYXRhW25hbWVdLCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5yZW1vdmVRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcsIFJlZ0V4cCBhcyB0aGUgZmlyc3QgcGFyYW1ldGVyJyk7XG5cdFx0fVxuXHR9O1xuXHRVUkkuaGFzUXVlcnkgPSBmdW5jdGlvbihkYXRhLCBuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHtcblx0XHRpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gbmFtZSkge1xuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkge1xuXHRcdFx0XHRcdGlmICghVVJJLmhhc1F1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmhhc1F1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTtcblx0XHR9XG5cblx0XHRzd2l0Y2ggKGdldFR5cGUodmFsdWUpKSB7XG5cdFx0XHRjYXNlICdVbmRlZmluZWQnOlxuXHRcdFx0XHQvLyB0cnVlIGlmIGV4aXN0cyAoYnV0IG1heSBiZSBlbXB0eSlcblx0XHRcdFx0cmV0dXJuIG5hbWUgaW4gZGF0YTsgLy8gZGF0YVtuYW1lXSAhPT0gdW5kZWZpbmVkO1xuXG5cdFx0XHRjYXNlICdCb29sZWFuJzpcblx0XHRcdFx0Ly8gdHJ1ZSBpZiBleGlzdHMgYW5kIG5vbi1lbXB0eVxuXHRcdFx0XHR2YXIgX2Jvb2x5ID0gQm9vbGVhbihpc0FycmF5KGRhdGFbbmFtZV0pID8gZGF0YVtuYW1lXS5sZW5ndGggOiBkYXRhW25hbWVdKTtcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09PSBfYm9vbHk7XG5cblx0XHRcdGNhc2UgJ0Z1bmN0aW9uJzpcblx0XHRcdFx0Ly8gYWxsb3cgY29tcGxleCBjb21wYXJpc29uXG5cdFx0XHRcdHJldHVybiAhIXZhbHVlKGRhdGFbbmFtZV0sIG5hbWUsIGRhdGEpO1xuXG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdGlmICghaXNBcnJheShkYXRhW25hbWVdKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBvcCA9IHdpdGhpbkFycmF5ID8gYXJyYXlDb250YWlucyA6IGFycmF5c0VxdWFsO1xuXHRcdFx0XHRyZXR1cm4gb3AoZGF0YVtuYW1lXSwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlICdSZWdFeHAnOlxuXHRcdFx0XHRpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gQm9vbGVhbihkYXRhW25hbWVdICYmIGRhdGFbbmFtZV0ubWF0Y2godmFsdWUpKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghd2l0aGluQXJyYXkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7XG5cblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcblx0XHRcdC8qIGZhbGxzIHRocm91Z2ggKi9cblx0XHRcdGNhc2UgJ1N0cmluZyc6XG5cdFx0XHRcdGlmICghaXNBcnJheShkYXRhW25hbWVdKSkge1xuXHRcdFx0XHRcdHJldHVybiBkYXRhW25hbWVdID09PSB2YWx1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghd2l0aGluQXJyYXkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7XG5cblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgdW5kZWZpbmVkLCBib29sZWFuLCBzdHJpbmcsIG51bWJlciwgUmVnRXhwLCBGdW5jdGlvbiBhcyB0aGUgdmFsdWUgcGFyYW1ldGVyJyk7XG5cdFx0fVxuXHR9O1xuXG5cblx0VVJJLmNvbW1vblBhdGggPSBmdW5jdGlvbihvbmUsIHR3bykge1xuXHRcdHZhciBsZW5ndGggPSBNYXRoLm1pbihvbmUubGVuZ3RoLCB0d28ubGVuZ3RoKTtcblx0XHR2YXIgcG9zO1xuXG5cdFx0Ly8gZmluZCBmaXJzdCBub24tbWF0Y2hpbmcgY2hhcmFjdGVyXG5cdFx0Zm9yIChwb3MgPSAwOyBwb3MgPCBsZW5ndGg7IHBvcysrKSB7XG5cdFx0XHRpZiAob25lLmNoYXJBdChwb3MpICE9PSB0d28uY2hhckF0KHBvcykpIHtcblx0XHRcdFx0cG9zLS07XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChwb3MgPCAxKSB7XG5cdFx0XHRyZXR1cm4gb25lLmNoYXJBdCgwKSA9PT0gdHdvLmNoYXJBdCgwKSAmJiBvbmUuY2hhckF0KDApID09PSAnLycgPyAnLycgOiAnJztcblx0XHR9XG5cblx0XHQvLyByZXZlcnQgdG8gbGFzdCAvXG5cdFx0aWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gJy8nIHx8IHR3by5jaGFyQXQocG9zKSAhPT0gJy8nKSB7XG5cdFx0XHRwb3MgPSBvbmUuc3Vic3RyaW5nKDAsIHBvcykubGFzdEluZGV4T2YoJy8nKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb25lLnN1YnN0cmluZygwLCBwb3MgKyAxKTtcblx0fTtcblxuXHRVUkkud2l0aGluU3RyaW5nID0gZnVuY3Rpb24oc3RyaW5nLCBjYWxsYmFjaywgb3B0aW9ucykge1xuXHRcdG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG5cdFx0dmFyIF9zdGFydCA9IG9wdGlvbnMuc3RhcnQgfHwgVVJJLmZpbmRVcmkuc3RhcnQ7XG5cdFx0dmFyIF9lbmQgPSBvcHRpb25zLmVuZCB8fCBVUkkuZmluZFVyaS5lbmQ7XG5cdFx0dmFyIF90cmltID0gb3B0aW9ucy50cmltIHx8IFVSSS5maW5kVXJpLnRyaW07XG5cdFx0dmFyIF9hdHRyaWJ1dGVPcGVuID0gL1thLXowLTktXT1bXCInXT8kL2k7XG5cblx0XHRfc3RhcnQubGFzdEluZGV4ID0gMDtcblx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0dmFyIG1hdGNoID0gX3N0YXJ0LmV4ZWMoc3RyaW5nKTtcblx0XHRcdGlmICghbWF0Y2gpIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzdGFydCA9IG1hdGNoLmluZGV4O1xuXHRcdFx0aWYgKG9wdGlvbnMuaWdub3JlSHRtbCkge1xuXHRcdFx0XHQvLyBhdHRyaWJ1dChlPVtcIiddPyQpXG5cdFx0XHRcdHZhciBhdHRyaWJ1dGVPcGVuID0gc3RyaW5nLnNsaWNlKE1hdGgubWF4KHN0YXJ0IC0gMywgMCksIHN0YXJ0KTtcblx0XHRcdFx0aWYgKGF0dHJpYnV0ZU9wZW4gJiYgX2F0dHJpYnV0ZU9wZW4udGVzdChhdHRyaWJ1dGVPcGVuKSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHZhciBlbmQgPSBzdGFydCArIHN0cmluZy5zbGljZShzdGFydCkuc2VhcmNoKF9lbmQpO1xuXHRcdFx0dmFyIHNsaWNlID0gc3RyaW5nLnNsaWNlKHN0YXJ0LCBlbmQpLnJlcGxhY2UoX3RyaW0sICcnKTtcblx0XHRcdGlmIChvcHRpb25zLmlnbm9yZSAmJiBvcHRpb25zLmlnbm9yZS50ZXN0KHNsaWNlKSkge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0ZW5kID0gc3RhcnQgKyBzbGljZS5sZW5ndGg7XG5cdFx0XHR2YXIgcmVzdWx0ID0gY2FsbGJhY2soc2xpY2UsIHN0YXJ0LCBlbmQsIHN0cmluZyk7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc2xpY2UoMCwgc3RhcnQpICsgcmVzdWx0ICsgc3RyaW5nLnNsaWNlKGVuZCk7XG5cdFx0XHRfc3RhcnQubGFzdEluZGV4ID0gc3RhcnQgKyByZXN1bHQubGVuZ3RoO1xuXHRcdH1cblxuXHRcdF9zdGFydC5sYXN0SW5kZXggPSAwO1xuXHRcdHJldHVybiBzdHJpbmc7XG5cdH07XG5cblx0VVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUgPSBmdW5jdGlvbih2KSB7XG5cdFx0Ly8gVGhlb3JldGljYWxseSBVUklzIGFsbG93IHBlcmNlbnQtZW5jb2RpbmcgaW4gSG9zdG5hbWVzIChhY2NvcmRpbmcgdG8gUkZDIDM5ODYpXG5cdFx0Ly8gdGhleSBhcmUgbm90IHBhcnQgb2YgRE5TIGFuZCB0aGVyZWZvcmUgaWdub3JlZCBieSBVUkkuanNcblxuXHRcdGlmICh2Lm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7XG5cdFx0XHQvLyB0ZXN0IHB1bnljb2RlXG5cdFx0XHRpZiAoIXB1bnljb2RlKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0gYW5kIFB1bnljb2RlLmpzIGlzIG5vdCBhdmFpbGFibGUnKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHB1bnljb2RlLnRvQVNDSUkodikubWF0Y2goVVJJLmludmFsaWRfaG9zdG5hbWVfY2hhcmFjdGVycykpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvLyBub0NvbmZsaWN0XG5cdFVSSS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24ocmVtb3ZlQWxsKSB7XG5cdFx0aWYgKHJlbW92ZUFsbCkge1xuXHRcdFx0dmFyIHVuY29uZmxpY3RlZCA9IHtcblx0XHRcdFx0VVJJOiB0aGlzLm5vQ29uZmxpY3QoKVxuXHRcdFx0fTtcblxuXHRcdFx0aWYgKHJvb3QuVVJJVGVtcGxhdGUgJiYgdHlwZW9mIHJvb3QuVVJJVGVtcGxhdGUubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHR1bmNvbmZsaWN0ZWQuVVJJVGVtcGxhdGUgPSByb290LlVSSVRlbXBsYXRlLm5vQ29uZmxpY3QoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHJvb3QuSVB2NiAmJiB0eXBlb2Ygcm9vdC5JUHY2Lm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0dW5jb25mbGljdGVkLklQdjYgPSByb290LklQdjYubm9Db25mbGljdCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAocm9vdC5TZWNvbmRMZXZlbERvbWFpbnMgJiYgdHlwZW9mIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0dW5jb25mbGljdGVkLlNlY29uZExldmVsRG9tYWlucyA9IHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QoKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVuY29uZmxpY3RlZDtcblx0XHR9IGVsc2UgaWYgKHJvb3QuVVJJID09PSB0aGlzKSB7XG5cdFx0XHRyb290LlVSSSA9IF9VUkk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cC5idWlsZCA9IGZ1bmN0aW9uKGRlZmVyQnVpbGQpIHtcblx0XHRpZiAoZGVmZXJCdWlsZCA9PT0gdHJ1ZSkge1xuXHRcdFx0dGhpcy5fZGVmZXJyZWRfYnVpbGQgPSB0cnVlO1xuXHRcdH0gZWxzZSBpZiAoZGVmZXJCdWlsZCA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuX2RlZmVycmVkX2J1aWxkKSB7XG5cdFx0XHR0aGlzLl9zdHJpbmcgPSBVUkkuYnVpbGQodGhpcy5fcGFydHMpO1xuXHRcdFx0dGhpcy5fZGVmZXJyZWRfYnVpbGQgPSBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRwLmNsb25lID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIG5ldyBVUkkodGhpcyk7XG5cdH07XG5cblx0cC52YWx1ZU9mID0gcC50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB0aGlzLmJ1aWxkKGZhbHNlKS5fc3RyaW5nO1xuXHR9O1xuXG5cblx0ZnVuY3Rpb24gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcihfcGFydCl7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLl9wYXJ0c1tfcGFydF0gfHwgJyc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLl9wYXJ0c1tfcGFydF0gPSB2IHx8IG51bGw7XG5cdFx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoX3BhcnQsIF9rZXkpe1xuXHRcdHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHYgIT09IG51bGwpIHtcblx0XHRcdFx0XHR2ID0gdiArICcnO1xuXHRcdFx0XHRcdGlmICh2LmNoYXJBdCgwKSA9PT0gX2tleSkge1xuXHRcdFx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX3BhcnRzW19wYXJ0XSA9IHY7XG5cdFx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0XHR9XG5cdFx0fTtcblx0fVxuXG5cdHAucHJvdG9jb2wgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwcm90b2NvbCcpO1xuXHRwLnVzZXJuYW1lID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigndXNlcm5hbWUnKTtcblx0cC5wYXNzd29yZCA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3Bhc3N3b3JkJyk7XG5cdHAuaG9zdG5hbWUgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdob3N0bmFtZScpO1xuXHRwLnBvcnQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwb3J0Jyk7XG5cdHAucXVlcnkgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdxdWVyeScsICc/Jyk7XG5cdHAuZnJhZ21lbnQgPSBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKCdmcmFnbWVudCcsICcjJyk7XG5cblx0cC5zZWFyY2ggPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdHZhciB0ID0gdGhpcy5xdWVyeSh2LCBidWlsZCk7XG5cdFx0cmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnPycgKyB0KSA6IHQ7XG5cdH07XG5cdHAuaGFzaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0dmFyIHQgPSB0aGlzLmZyYWdtZW50KHYsIGJ1aWxkKTtcblx0XHRyZXR1cm4gdHlwZW9mIHQgPT09ICdzdHJpbmcnICYmIHQubGVuZ3RoID8gKCcjJyArIHQpIDogdDtcblx0fTtcblxuXHRwLnBhdGhuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHtcblx0XHRcdHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoIHx8ICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/ICcvJyA6ICcnKTtcblx0XHRcdHJldHVybiB2ID8gKHRoaXMuX3BhcnRzLnVybiA/IFVSSS5kZWNvZGVVcm5QYXRoIDogVVJJLmRlY29kZVBhdGgpKHJlcykgOiByZXM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHYgPyBVUkkucmVjb2RlVXJuUGF0aCh2KSA6ICcnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHYgPyBVUkkucmVjb2RlUGF0aCh2KSA6ICcvJztcblx0XHRcdH1cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5wYXRoID0gcC5wYXRobmFtZTtcblx0cC5ocmVmID0gZnVuY3Rpb24oaHJlZiwgYnVpbGQpIHtcblx0XHR2YXIga2V5O1xuXG5cdFx0aWYgKGhyZWYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMudG9TdHJpbmcoKTtcblx0XHR9XG5cblx0XHR0aGlzLl9zdHJpbmcgPSAnJztcblx0XHR0aGlzLl9wYXJ0cyA9IFVSSS5fcGFydHMoKTtcblxuXHRcdHZhciBfVVJJID0gaHJlZiBpbnN0YW5jZW9mIFVSSTtcblx0XHR2YXIgX29iamVjdCA9IHR5cGVvZiBocmVmID09PSAnb2JqZWN0JyAmJiAoaHJlZi5ob3N0bmFtZSB8fCBocmVmLnBhdGggfHwgaHJlZi5wYXRobmFtZSk7XG5cdFx0aWYgKGhyZWYubm9kZU5hbWUpIHtcblx0XHRcdHZhciBhdHRyaWJ1dGUgPSBVUkkuZ2V0RG9tQXR0cmlidXRlKGhyZWYpO1xuXHRcdFx0aHJlZiA9IGhyZWZbYXR0cmlidXRlXSB8fCAnJztcblx0XHRcdF9vYmplY3QgPSBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyB3aW5kb3cubG9jYXRpb24gaXMgcmVwb3J0ZWQgdG8gYmUgYW4gb2JqZWN0LCBidXQgaXQncyBub3QgdGhlIHNvcnRcblx0XHQvLyBvZiBvYmplY3Qgd2UncmUgbG9va2luZyBmb3I6XG5cdFx0Ly8gKiBsb2NhdGlvbi5wcm90b2NvbCBlbmRzIHdpdGggYSBjb2xvblxuXHRcdC8vICogbG9jYXRpb24ucXVlcnkgIT0gb2JqZWN0LnNlYXJjaFxuXHRcdC8vICogbG9jYXRpb24uaGFzaCAhPSBvYmplY3QuZnJhZ21lbnRcblx0XHQvLyBzaW1wbHkgc2VyaWFsaXppbmcgdGhlIHVua25vd24gb2JqZWN0IHNob3VsZCBkbyB0aGUgdHJpY2tcblx0XHQvLyAoZm9yIGxvY2F0aW9uLCBub3QgZm9yIGV2ZXJ5dGhpbmcuLi4pXG5cdFx0aWYgKCFfVVJJICYmIF9vYmplY3QgJiYgaHJlZi5wYXRobmFtZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRocmVmID0gaHJlZi50b1N0cmluZygpO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgaHJlZiA9PT0gJ3N0cmluZycgfHwgaHJlZiBpbnN0YW5jZW9mIFN0cmluZykge1xuXHRcdFx0dGhpcy5fcGFydHMgPSBVUkkucGFyc2UoU3RyaW5nKGhyZWYpLCB0aGlzLl9wYXJ0cyk7XG5cdFx0fSBlbHNlIGlmIChfVVJJIHx8IF9vYmplY3QpIHtcblx0XHRcdHZhciBzcmMgPSBfVVJJID8gaHJlZi5fcGFydHMgOiBocmVmO1xuXHRcdFx0Zm9yIChrZXkgaW4gc3JjKSB7XG5cdFx0XHRcdGlmIChoYXNPd24uY2FsbCh0aGlzLl9wYXJ0cywga2V5KSkge1xuXHRcdFx0XHRcdHRoaXMuX3BhcnRzW2tleV0gPSBzcmNba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIGlucHV0Jyk7XG5cdFx0fVxuXG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8vIGlkZW50aWZpY2F0aW9uIGFjY2Vzc29yc1xuXHRwLmlzID0gZnVuY3Rpb24od2hhdCkge1xuXHRcdHZhciBpcCA9IGZhbHNlO1xuXHRcdHZhciBpcDQgPSBmYWxzZTtcblx0XHR2YXIgaXA2ID0gZmFsc2U7XG5cdFx0dmFyIG5hbWUgPSBmYWxzZTtcblx0XHR2YXIgc2xkID0gZmFsc2U7XG5cdFx0dmFyIGlkbiA9IGZhbHNlO1xuXHRcdHZhciBwdW55Y29kZSA9IGZhbHNlO1xuXHRcdHZhciByZWxhdGl2ZSA9ICF0aGlzLl9wYXJ0cy51cm47XG5cblx0XHRpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHtcblx0XHRcdHJlbGF0aXZlID0gZmFsc2U7XG5cdFx0XHRpcDQgPSBVUkkuaXA0X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0XHRpcDYgPSBVUkkuaXA2X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0XHRpcCA9IGlwNCB8fCBpcDY7XG5cdFx0XHRuYW1lID0gIWlwO1xuXHRcdFx0c2xkID0gbmFtZSAmJiBTTEQgJiYgU0xELmhhcyh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0XHRpZG4gPSBuYW1lICYmIFVSSS5pZG5fZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcblx0XHRcdHB1bnljb2RlID0gbmFtZSAmJiBVUkkucHVueWNvZGVfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcblx0XHR9XG5cblx0XHRzd2l0Y2ggKHdoYXQudG9Mb3dlckNhc2UoKSkge1xuXHRcdFx0Y2FzZSAncmVsYXRpdmUnOlxuXHRcdFx0XHRyZXR1cm4gcmVsYXRpdmU7XG5cblx0XHRcdGNhc2UgJ2Fic29sdXRlJzpcblx0XHRcdFx0cmV0dXJuICFyZWxhdGl2ZTtcblxuXHRcdFx0Ly8gaG9zdG5hbWUgaWRlbnRpZmljYXRpb25cblx0XHRcdGNhc2UgJ2RvbWFpbic6XG5cdFx0XHRjYXNlICduYW1lJzpcblx0XHRcdFx0cmV0dXJuIG5hbWU7XG5cblx0XHRcdGNhc2UgJ3NsZCc6XG5cdFx0XHRcdHJldHVybiBzbGQ7XG5cblx0XHRcdGNhc2UgJ2lwJzpcblx0XHRcdFx0cmV0dXJuIGlwO1xuXG5cdFx0XHRjYXNlICdpcDQnOlxuXHRcdFx0Y2FzZSAnaXB2NCc6XG5cdFx0XHRjYXNlICdpbmV0NCc6XG5cdFx0XHRcdHJldHVybiBpcDQ7XG5cblx0XHRcdGNhc2UgJ2lwNic6XG5cdFx0XHRjYXNlICdpcHY2Jzpcblx0XHRcdGNhc2UgJ2luZXQ2Jzpcblx0XHRcdFx0cmV0dXJuIGlwNjtcblxuXHRcdFx0Y2FzZSAnaWRuJzpcblx0XHRcdFx0cmV0dXJuIGlkbjtcblxuXHRcdFx0Y2FzZSAndXJsJzpcblx0XHRcdFx0cmV0dXJuICF0aGlzLl9wYXJ0cy51cm47XG5cblx0XHRcdGNhc2UgJ3Vybic6XG5cdFx0XHRcdHJldHVybiAhIXRoaXMuX3BhcnRzLnVybjtcblxuXHRcdFx0Y2FzZSAncHVueWNvZGUnOlxuXHRcdFx0XHRyZXR1cm4gcHVueWNvZGU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH07XG5cblx0Ly8gY29tcG9uZW50IHNwZWNpZmljIGlucHV0IHZhbGlkYXRpb25cblx0dmFyIF9wcm90b2NvbCA9IHAucHJvdG9jb2w7XG5cdHZhciBfcG9ydCA9IHAucG9ydDtcblx0dmFyIF9ob3N0bmFtZSA9IHAuaG9zdG5hbWU7XG5cblx0cC5wcm90b2NvbCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHYgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKHYpIHtcblx0XHRcdFx0Ly8gYWNjZXB0IHRyYWlsaW5nIDovL1xuXHRcdFx0XHR2ID0gdi5yZXBsYWNlKC86KFxcL1xcLyk/JC8sICcnKTtcblxuXHRcdFx0XHRpZiAoIXYubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdG9jb2wgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4rLV0gb3IgZG9lc25cXCd0IHN0YXJ0IHdpdGggW0EtWl0nKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gX3Byb3RvY29sLmNhbGwodGhpcywgdiwgYnVpbGQpO1xuXHR9O1xuXHRwLnNjaGVtZSA9IHAucHJvdG9jb2w7XG5cdHAucG9ydCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAodiA9PT0gMCkge1xuXHRcdFx0XHR2ID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHYpIHtcblx0XHRcdFx0diArPSAnJztcblx0XHRcdFx0aWYgKHYuY2hhckF0KDApID09PSAnOicpIHtcblx0XHRcdFx0XHR2ID0gdi5zdWJzdHJpbmcoMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodi5tYXRjaCgvW14wLTldLykpIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdQb3J0IFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFswLTldJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIF9wb3J0LmNhbGwodGhpcywgdiwgYnVpbGQpO1xuXHR9O1xuXHRwLmhvc3RuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHZhciB4ID0ge307XG5cdFx0XHR2YXIgcmVzID0gVVJJLnBhcnNlSG9zdCh2LCB4KTtcblx0XHRcdGlmIChyZXMgIT09ICcvJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7XG5cdFx0XHR9XG5cblx0XHRcdHYgPSB4Lmhvc3RuYW1lO1xuXHRcdH1cblx0XHRyZXR1cm4gX2hvc3RuYW1lLmNhbGwodGhpcywgdiwgYnVpbGQpO1xuXHR9O1xuXG5cdC8vIGNvbXBvdW5kIGFjY2Vzc29yc1xuXHRwLm9yaWdpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0dmFyIHBhcnRzO1xuXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR2YXIgcHJvdG9jb2wgPSB0aGlzLnByb3RvY29sKCk7XG5cdFx0XHR2YXIgYXV0aG9yaXR5ID0gdGhpcy5hdXRob3JpdHkoKTtcblx0XHRcdGlmICghYXV0aG9yaXR5KSByZXR1cm4gJyc7XG5cdFx0XHRyZXR1cm4gKHByb3RvY29sID8gcHJvdG9jb2wgKyAnOi8vJyA6ICcnKSArIHRoaXMuYXV0aG9yaXR5KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBvcmlnaW4gPSBVUkkodik7XG5cdFx0XHR0aGlzXG5cdFx0XHRcdC5wcm90b2NvbChvcmlnaW4ucHJvdG9jb2woKSlcblx0XHRcdFx0LmF1dGhvcml0eShvcmlnaW4uYXV0aG9yaXR5KCkpXG5cdFx0XHRcdC5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLmhvc3QgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkSG9zdCh0aGlzLl9wYXJ0cykgOiAnJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgdGhpcy5fcGFydHMpO1xuXHRcdFx0aWYgKHJlcyAhPT0gJy8nKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLmF1dGhvcml0eSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUgPyBVUkkuYnVpbGRBdXRob3JpdHkodGhpcy5fcGFydHMpIDogJyc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciByZXMgPSBVUkkucGFyc2VBdXRob3JpdHkodiwgdGhpcy5fcGFydHMpO1xuXHRcdFx0aWYgKHJlcyAhPT0gJy8nKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLnVzZXJpbmZvID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMudXNlcm5hbWUpIHtcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgdCA9IFVSSS5idWlsZFVzZXJpbmZvKHRoaXMuX3BhcnRzKTtcblx0XHRcdHJldHVybiB0LnN1YnN0cmluZygwLCB0Lmxlbmd0aCAtMSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh2W3YubGVuZ3RoLTFdICE9PSAnQCcpIHtcblx0XHRcdFx0diArPSAnQCc7XG5cdFx0XHR9XG5cblx0XHRcdFVSSS5wYXJzZVVzZXJpbmZvKHYsIHRoaXMuX3BhcnRzKTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5yZXNvdXJjZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0dmFyIHBhcnRzO1xuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMucGF0aCgpICsgdGhpcy5zZWFyY2goKSArIHRoaXMuaGFzaCgpO1xuXHRcdH1cblxuXHRcdHBhcnRzID0gVVJJLnBhcnNlKHYpO1xuXHRcdHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoO1xuXHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gcGFydHMucXVlcnk7XG5cdFx0dGhpcy5fcGFydHMuZnJhZ21lbnQgPSBwYXJ0cy5mcmFnbWVudDtcblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0Ly8gZnJhY3Rpb24gYWNjZXNzb3JzXG5cdHAuc3ViZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlbmllbmNlLCByZXR1cm4gXCJ3d3dcIiBmcm9tIFwid3d3LmV4YW1wbGUub3JnXCJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBncmFiIGRvbWFpbiBhbmQgYWRkIGFub3RoZXIgc2VnbWVudFxuXHRcdFx0dmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMuZG9tYWluKCkubGVuZ3RoIC0gMTtcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZW5kKSB8fCAnJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aDtcblx0XHRcdHZhciBzdWIgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZSk7XG5cdFx0XHR2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ14nICsgZXNjYXBlUmVnRXgoc3ViKSk7XG5cblx0XHRcdGlmICh2ICYmIHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgIT09ICcuJykge1xuXHRcdFx0XHR2ICs9ICcuJztcblx0XHRcdH1cblxuXHRcdFx0aWYgKHYpIHtcblx0XHRcdFx0VVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5kb21haW4gPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcblx0XHRcdGJ1aWxkID0gdjtcblx0XHRcdHYgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVuaWVuY2UsIHJldHVybiBcImV4YW1wbGUub3JnXCIgZnJvbSBcInd3dy5leGFtcGxlLm9yZ1wiXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0Ly8gaWYgaG9zdG5hbWUgY29uc2lzdHMgb2YgMSBvciAyIHNlZ21lbnRzLCBpdCBtdXN0IGJlIHRoZSBkb21haW5cblx0XHRcdHZhciB0ID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubWF0Y2goL1xcLi9nKTtcblx0XHRcdGlmICh0ICYmIHQubGVuZ3RoIDwgMikge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGdyYWIgdGxkIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50XG5cdFx0XHR2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy50bGQoYnVpbGQpLmxlbmd0aCAtIDE7XG5cdFx0XHRlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicsIGVuZCAtMSkgKyAxO1xuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhlbmQpIHx8ICcnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoIXYpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBkb21haW4gZW1wdHknKTtcblx0XHRcdH1cblxuXHRcdFx0VVJJLmVuc3VyZVZhbGlkSG9zdG5hbWUodik7XG5cblx0XHRcdGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHY7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy5kb21haW4oKSkgKyAnJCcpO1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC50bGQgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcblx0XHRcdGJ1aWxkID0gdjtcblx0XHRcdHYgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0Ly8gcmV0dXJuIFwib3JnXCIgZnJvbSBcInd3dy5leGFtcGxlLm9yZ1wiXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBvcyA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJyk7XG5cdFx0XHR2YXIgdGxkID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKHBvcyArIDEpO1xuXG5cdFx0XHRpZiAoYnVpbGQgIT09IHRydWUgJiYgU0xEICYmIFNMRC5saXN0W3RsZC50b0xvd2VyQ2FzZSgpXSkge1xuXHRcdFx0XHRyZXR1cm4gU0xELmdldCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkgfHwgdGxkO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGxkO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcmVwbGFjZTtcblxuXHRcdFx0aWYgKCF2KSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIGVtcHR5Jyk7XG5cdFx0XHR9IGVsc2UgaWYgKHYubWF0Y2goL1teYS16QS1aMC05LV0vKSkge1xuXHRcdFx0XHRpZiAoU0xEICYmIFNMRC5pcyh2KSkge1xuXHRcdFx0XHRcdHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTtcblx0XHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVExEIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTldJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBvbiBub24tZG9tYWluIGhvc3QnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTtcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAuZGlyZWN0b3J5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5wYXRoICYmICF0aGlzLl9wYXJ0cy5ob3N0bmFtZSkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHtcblx0XHRcdFx0cmV0dXJuICcvJztcblx0XHRcdH1cblxuXHRcdFx0dmFyIGVuZCA9IHRoaXMuX3BhcnRzLnBhdGgubGVuZ3RoIC0gdGhpcy5maWxlbmFtZSgpLmxlbmd0aCAtIDE7XG5cdFx0XHR2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZW5kKSB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7XG5cblx0XHRcdHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGgocmVzKSA6IHJlcztcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgZSA9IHRoaXMuX3BhcnRzLnBhdGgubGVuZ3RoIC0gdGhpcy5maWxlbmFtZSgpLmxlbmd0aDtcblx0XHRcdHZhciBkaXJlY3RvcnkgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygwLCBlKTtcblx0XHRcdHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChkaXJlY3RvcnkpKTtcblxuXHRcdFx0Ly8gZnVsbHkgcXVhbGlmaWVyIGRpcmVjdG9yaWVzIGJlZ2luIHdpdGggYSBzbGFzaFxuXHRcdFx0aWYgKCF0aGlzLmlzKCdyZWxhdGl2ZScpKSB7XG5cdFx0XHRcdGlmICghdikge1xuXHRcdFx0XHRcdHYgPSAnLyc7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodi5jaGFyQXQoMCkgIT09ICcvJykge1xuXHRcdFx0XHRcdHYgPSAnLycgKyB2O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIGRpcmVjdG9yaWVzIGFsd2F5cyBlbmQgd2l0aCBhIHNsYXNoXG5cdFx0XHRpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLycpIHtcblx0XHRcdFx0diArPSAnLyc7XG5cdFx0XHR9XG5cblx0XHRcdHYgPSBVUkkucmVjb2RlUGF0aCh2KTtcblx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAuZmlsZW5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBvcyA9IHRoaXMuX3BhcnRzLnBhdGgubGFzdEluZGV4T2YoJy8nKTtcblx0XHRcdHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoLnN1YnN0cmluZyhwb3MrMSk7XG5cblx0XHRcdHJldHVybiB2ID8gVVJJLmRlY29kZVBhdGhTZWdtZW50KHJlcykgOiByZXM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBtdXRhdGVkRGlyZWN0b3J5ID0gZmFsc2U7XG5cblx0XHRcdGlmICh2LmNoYXJBdCgwKSA9PT0gJy8nKSB7XG5cdFx0XHRcdHYgPSB2LnN1YnN0cmluZygxKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHYubWF0Y2goL1xcLj9cXC8vKSkge1xuXHRcdFx0XHRtdXRhdGVkRGlyZWN0b3J5ID0gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZmlsZW5hbWUoKSkgKyAnJCcpO1xuXHRcdFx0diA9IFVSSS5yZWNvZGVQYXRoKHYpO1xuXHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTtcblxuXHRcdFx0aWYgKG11dGF0ZWREaXJlY3RvcnkpIHtcblx0XHRcdFx0dGhpcy5ub3JtYWxpemVQYXRoKGJ1aWxkKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLnN1ZmZpeCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMucGF0aCB8fCB0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHtcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lKCk7XG5cdFx0XHR2YXIgcG9zID0gZmlsZW5hbWUubGFzdEluZGV4T2YoJy4nKTtcblx0XHRcdHZhciBzLCByZXM7XG5cblx0XHRcdGlmIChwb3MgPT09IC0xKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0Ly8gc3VmZml4IG1heSBvbmx5IGNvbnRhaW4gYWxudW0gY2hhcmFjdGVycyAoeXVwLCBJIG1hZGUgdGhpcyB1cC4pXG5cdFx0XHRzID0gZmlsZW5hbWUuc3Vic3RyaW5nKHBvcysxKTtcblx0XHRcdHJlcyA9ICgvXlthLXowLTklXSskL2kpLnRlc3QocykgPyBzIDogJyc7XG5cdFx0XHRyZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodi5jaGFyQXQoMCkgPT09ICcuJykge1xuXHRcdFx0XHR2ID0gdi5zdWJzdHJpbmcoMSk7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzdWZmaXggPSB0aGlzLnN1ZmZpeCgpO1xuXHRcdFx0dmFyIHJlcGxhY2U7XG5cblx0XHRcdGlmICghc3VmZml4KSB7XG5cdFx0XHRcdGlmICghdikge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5fcGFydHMucGF0aCArPSAnLicgKyBVUkkucmVjb2RlUGF0aCh2KTtcblx0XHRcdH0gZWxzZSBpZiAoIXYpIHtcblx0XHRcdFx0cmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoJy4nICsgc3VmZml4KSArICckJyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeChzdWZmaXgpICsgJyQnKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHJlcGxhY2UpIHtcblx0XHRcdFx0diA9IFVSSS5yZWNvZGVQYXRoKHYpO1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAuc2VnbWVudCA9IGZ1bmN0aW9uKHNlZ21lbnQsIHYsIGJ1aWxkKSB7XG5cdFx0dmFyIHNlcGFyYXRvciA9IHRoaXMuX3BhcnRzLnVybiA/ICc6JyA6ICcvJztcblx0XHR2YXIgcGF0aCA9IHRoaXMucGF0aCgpO1xuXHRcdHZhciBhYnNvbHV0ZSA9IHBhdGguc3Vic3RyaW5nKDAsIDEpID09PSAnLyc7XG5cdFx0dmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdChzZXBhcmF0b3IpO1xuXG5cdFx0aWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHtcblx0XHRcdGJ1aWxkID0gdjtcblx0XHRcdHYgPSBzZWdtZW50O1xuXHRcdFx0c2VnbWVudCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRpZiAoc2VnbWVudCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudCBcIicgKyBzZWdtZW50ICsgJ1wiLCBtdXN0IGJlIDAtYmFzZWQgaW50ZWdlcicpO1xuXHRcdH1cblxuXHRcdGlmIChhYnNvbHV0ZSkge1xuXHRcdFx0c2VnbWVudHMuc2hpZnQoKTtcblx0XHR9XG5cblx0XHRpZiAoc2VnbWVudCA8IDApIHtcblx0XHRcdC8vIGFsbG93IG5lZ2F0aXZlIGluZGV4ZXMgdG8gYWRkcmVzcyBmcm9tIHRoZSBlbmRcblx0XHRcdHNlZ21lbnQgPSBNYXRoLm1heChzZWdtZW50cy5sZW5ndGggKyBzZWdtZW50LCAwKTtcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHQvKmpzaGludCBsYXhicmVhazogdHJ1ZSAqL1xuXHRcdFx0cmV0dXJuIHNlZ21lbnQgPT09IHVuZGVmaW5lZFxuXHRcdFx0XHQ/IHNlZ21lbnRzXG5cdFx0XHRcdDogc2VnbWVudHNbc2VnbWVudF07XG5cdFx0XHQvKmpzaGludCBsYXhicmVhazogZmFsc2UgKi9cblx0XHR9IGVsc2UgaWYgKHNlZ21lbnQgPT09IG51bGwgfHwgc2VnbWVudHNbc2VnbWVudF0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKGlzQXJyYXkodikpIHtcblx0XHRcdFx0c2VnbWVudHMgPSBbXTtcblx0XHRcdFx0Ly8gY29sbGFwc2UgZW1wdHkgZWxlbWVudHMgd2l0aGluIGFycmF5XG5cdFx0XHRcdGZvciAodmFyIGk9MCwgbD12Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHRcdGlmICghdltpXS5sZW5ndGggJiYgKCFzZWdtZW50cy5sZW5ndGggfHwgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSkge1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKHNlZ21lbnRzLmxlbmd0aCAmJiAhc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXS5sZW5ndGgpIHtcblx0XHRcdFx0XHRcdHNlZ21lbnRzLnBvcCgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHNlZ21lbnRzLnB1c2godHJpbVNsYXNoZXModltpXSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKHYgfHwgdHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHYgPSB0cmltU2xhc2hlcyh2KTtcblx0XHRcdFx0aWYgKHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPT09ICcnKSB7XG5cdFx0XHRcdFx0Ly8gZW1wdHkgdHJhaWxpbmcgZWxlbWVudHMgaGF2ZSB0byBiZSBvdmVyd3JpdHRlblxuXHRcdFx0XHRcdC8vIHRvIHByZXZlbnQgcmVzdWx0cyBzdWNoIGFzIC9mb28vL2JhclxuXHRcdFx0XHRcdHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0gPSB2O1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHNlZ21lbnRzLnB1c2godik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHYpIHtcblx0XHRcdFx0c2VnbWVudHNbc2VnbWVudF0gPSB0cmltU2xhc2hlcyh2KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHNlZ21lbnRzLnNwbGljZShzZWdtZW50LCAxKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoYWJzb2x1dGUpIHtcblx0XHRcdHNlZ21lbnRzLnVuc2hpZnQoJycpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnBhdGgoc2VnbWVudHMuam9pbihzZXBhcmF0b3IpLCBidWlsZCk7XG5cdH07XG5cdHAuc2VnbWVudENvZGVkID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHtcblx0XHR2YXIgc2VnbWVudHMsIGksIGw7XG5cblx0XHRpZiAodHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7XG5cdFx0XHRidWlsZCA9IHY7XG5cdFx0XHR2ID0gc2VnbWVudDtcblx0XHRcdHNlZ21lbnQgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0c2VnbWVudHMgPSB0aGlzLnNlZ21lbnQoc2VnbWVudCwgdiwgYnVpbGQpO1xuXHRcdFx0aWYgKCFpc0FycmF5KHNlZ21lbnRzKSkge1xuXHRcdFx0XHRzZWdtZW50cyA9IHNlZ21lbnRzICE9PSB1bmRlZmluZWQgPyBVUkkuZGVjb2RlKHNlZ21lbnRzKSA6IHVuZGVmaW5lZDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGZvciAoaSA9IDAsIGwgPSBzZWdtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0XHRzZWdtZW50c1tpXSA9IFVSSS5kZWNvZGUoc2VnbWVudHNbaV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZWdtZW50cztcblx0XHR9XG5cblx0XHRpZiAoIWlzQXJyYXkodikpIHtcblx0XHRcdHYgPSAodHlwZW9mIHYgPT09ICdzdHJpbmcnIHx8IHYgaW5zdGFuY2VvZiBTdHJpbmcpID8gVVJJLmVuY29kZSh2KSA6IHY7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAoaSA9IDAsIGwgPSB2Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHR2W2ldID0gVVJJLmVuY29kZSh2W2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTtcblx0fTtcblxuXHQvLyBtdXRhdGluZyBxdWVyeSBzdHJpbmdcblx0dmFyIHEgPSBwLnF1ZXJ5O1xuXHRwLnF1ZXJ5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodiA9PT0gdHJ1ZSkge1xuXHRcdFx0cmV0dXJuIFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRcdHZhciByZXN1bHQgPSB2LmNhbGwodGhpcywgZGF0YSk7XG5cdFx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHJlc3VsdCB8fCBkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSBlbHNlIGlmICh2ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHYgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHYsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHEuY2FsbCh0aGlzLCB2LCBidWlsZCk7XG5cdFx0fVxuXHR9O1xuXHRwLnNldFF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7XG5cdFx0dmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cblx0XHRpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnIHx8IG5hbWUgaW5zdGFuY2VvZiBTdHJpbmcpIHtcblx0XHRcdGRhdGFbbmFtZV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiBudWxsO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gbmFtZSkge1xuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwobmFtZSwga2V5KSkge1xuXHRcdFx0XHRcdGRhdGFba2V5XSA9IG5hbWVba2V5XTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpO1xuXHRcdH1cblxuXHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRidWlsZCA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5hZGRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkge1xuXHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFVSSS5hZGRRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlKTtcblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHRcdFx0YnVpbGQgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAucmVtb3ZlUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHtcblx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRVUkkucmVtb3ZlUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUpO1xuXHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gVVJJLmJ1aWxkUXVlcnkoZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRidWlsZCA9IHZhbHVlO1xuXHRcdH1cblxuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5oYXNRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSkge1xuXHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdHJldHVybiBVUkkuaGFzUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KTtcblx0fTtcblx0cC5zZXRTZWFyY2ggPSBwLnNldFF1ZXJ5O1xuXHRwLmFkZFNlYXJjaCA9IHAuYWRkUXVlcnk7XG5cdHAucmVtb3ZlU2VhcmNoID0gcC5yZW1vdmVRdWVyeTtcblx0cC5oYXNTZWFyY2ggPSBwLmhhc1F1ZXJ5O1xuXG5cdC8vIHNhbml0aXppbmcgVVJMc1xuXHRwLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB0aGlzXG5cdFx0XHRcdC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSlcblx0XHRcdFx0Lm5vcm1hbGl6ZVBhdGgoZmFsc2UpXG5cdFx0XHRcdC5ub3JtYWxpemVRdWVyeShmYWxzZSlcblx0XHRcdFx0Lm5vcm1hbGl6ZUZyYWdtZW50KGZhbHNlKVxuXHRcdFx0XHQuYnVpbGQoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0Lm5vcm1hbGl6ZVByb3RvY29sKGZhbHNlKVxuXHRcdFx0Lm5vcm1hbGl6ZUhvc3RuYW1lKGZhbHNlKVxuXHRcdFx0Lm5vcm1hbGl6ZVBvcnQoZmFsc2UpXG5cdFx0XHQubm9ybWFsaXplUGF0aChmYWxzZSlcblx0XHRcdC5ub3JtYWxpemVRdWVyeShmYWxzZSlcblx0XHRcdC5ub3JtYWxpemVGcmFnbWVudChmYWxzZSlcblx0XHRcdC5idWlsZCgpO1xuXHR9O1xuXHRwLm5vcm1hbGl6ZVByb3RvY29sID0gZnVuY3Rpb24oYnVpbGQpIHtcblx0XHRpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnByb3RvY29sID09PSAnc3RyaW5nJykge1xuXHRcdFx0dGhpcy5fcGFydHMucHJvdG9jb2wgPSB0aGlzLl9wYXJ0cy5wcm90b2NvbC50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLm5vcm1hbGl6ZUhvc3RuYW1lID0gZnVuY3Rpb24oYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHtcblx0XHRcdGlmICh0aGlzLmlzKCdJRE4nKSAmJiBwdW55Y29kZSkge1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHB1bnljb2RlLnRvQVNDSUkodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmlzKCdJUHY2JykgJiYgSVB2Nikge1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IElQdjYuYmVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUudG9Mb3dlckNhc2UoKTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5ub3JtYWxpemVQb3J0ID0gZnVuY3Rpb24oYnVpbGQpIHtcblx0XHQvLyByZW1vdmUgcG9ydCBvZiBpdCdzIHRoZSBwcm90b2NvbCdzIGRlZmF1bHRcblx0XHRpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnByb3RvY29sID09PSAnc3RyaW5nJyAmJiB0aGlzLl9wYXJ0cy5wb3J0ID09PSBVUkkuZGVmYXVsdFBvcnRzW3RoaXMuX3BhcnRzLnByb3RvY29sXSkge1xuXHRcdFx0dGhpcy5fcGFydHMucG9ydCA9IG51bGw7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAubm9ybWFsaXplUGF0aCA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0dmFyIF9wYXRoID0gdGhpcy5fcGFydHMucGF0aDtcblx0XHRpZiAoIV9wYXRoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gVVJJLnJlY29kZVVyblBhdGgodGhpcy5fcGFydHMucGF0aCk7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRpZiAodGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHR2YXIgX3dhc19yZWxhdGl2ZTtcblx0XHR2YXIgX2xlYWRpbmdQYXJlbnRzID0gJyc7XG5cdFx0dmFyIF9wYXJlbnQsIF9wb3M7XG5cblx0XHQvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHNcblx0XHRpZiAoX3BhdGguY2hhckF0KDApICE9PSAnLycpIHtcblx0XHRcdF93YXNfcmVsYXRpdmUgPSB0cnVlO1xuXHRcdFx0X3BhdGggPSAnLycgKyBfcGF0aDtcblx0XHR9XG5cblx0XHQvLyBoYW5kbGUgcmVsYXRpdmUgZmlsZXMgKGFzIG9wcG9zZWQgdG8gZGlyZWN0b3JpZXMpXG5cdFx0aWYgKF9wYXRoLnNsaWNlKC0zKSA9PT0gJy8uLicgfHwgX3BhdGguc2xpY2UoLTIpID09PSAnLy4nKSB7XG5cdFx0XHRfcGF0aCArPSAnLyc7XG5cdFx0fVxuXG5cdFx0Ly8gcmVzb2x2ZSBzaW1wbGVzXG5cdFx0X3BhdGggPSBfcGF0aFxuXHRcdFx0LnJlcGxhY2UoLyhcXC8oXFwuXFwvKSspfChcXC9cXC4kKS9nLCAnLycpXG5cdFx0XHQucmVwbGFjZSgvXFwvezIsfS9nLCAnLycpO1xuXG5cdFx0Ly8gcmVtZW1iZXIgbGVhZGluZyBwYXJlbnRzXG5cdFx0aWYgKF93YXNfcmVsYXRpdmUpIHtcblx0XHRcdF9sZWFkaW5nUGFyZW50cyA9IF9wYXRoLnN1YnN0cmluZygxKS5tYXRjaCgvXihcXC5cXC5cXC8pKy8pIHx8ICcnO1xuXHRcdFx0aWYgKF9sZWFkaW5nUGFyZW50cykge1xuXHRcdFx0XHRfbGVhZGluZ1BhcmVudHMgPSBfbGVhZGluZ1BhcmVudHNbMF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gcmVzb2x2ZSBwYXJlbnRzXG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdF9wYXJlbnQgPSBfcGF0aC5pbmRleE9mKCcvLi4nKTtcblx0XHRcdGlmIChfcGFyZW50ID09PSAtMSkge1xuXHRcdFx0XHQvLyBubyBtb3JlIC4uLyB0byByZXNvbHZlXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fSBlbHNlIGlmIChfcGFyZW50ID09PSAwKSB7XG5cdFx0XHRcdC8vIHRvcCBsZXZlbCBjYW5ub3QgYmUgcmVsYXRpdmUsIHNraXAgaXRcblx0XHRcdFx0X3BhdGggPSBfcGF0aC5zdWJzdHJpbmcoMyk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRfcG9zID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wYXJlbnQpLmxhc3RJbmRleE9mKCcvJyk7XG5cdFx0XHRpZiAoX3BvcyA9PT0gLTEpIHtcblx0XHRcdFx0X3BvcyA9IF9wYXJlbnQ7XG5cdFx0XHR9XG5cdFx0XHRfcGF0aCA9IF9wYXRoLnN1YnN0cmluZygwLCBfcG9zKSArIF9wYXRoLnN1YnN0cmluZyhfcGFyZW50ICsgMyk7XG5cdFx0fVxuXG5cdFx0Ly8gcmV2ZXJ0IHRvIHJlbGF0aXZlXG5cdFx0aWYgKF93YXNfcmVsYXRpdmUgJiYgdGhpcy5pcygncmVsYXRpdmUnKSkge1xuXHRcdFx0X3BhdGggPSBfbGVhZGluZ1BhcmVudHMgKyBfcGF0aC5zdWJzdHJpbmcoMSk7XG5cdFx0fVxuXG5cdFx0X3BhdGggPSBVUkkucmVjb2RlUGF0aChfcGF0aCk7XG5cdFx0dGhpcy5fcGFydHMucGF0aCA9IF9wYXRoO1xuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5ub3JtYWxpemVQYXRobmFtZSA9IHAubm9ybWFsaXplUGF0aDtcblx0cC5ub3JtYWxpemVRdWVyeSA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0aWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5xdWVyeSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMucXVlcnkubGVuZ3RoKSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gbnVsbDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucXVlcnkoVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLm5vcm1hbGl6ZUZyYWdtZW50ID0gZnVuY3Rpb24oYnVpbGQpIHtcblx0XHRpZiAoIXRoaXMuX3BhcnRzLmZyYWdtZW50KSB7XG5cdFx0XHR0aGlzLl9wYXJ0cy5mcmFnbWVudCA9IG51bGw7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAubm9ybWFsaXplU2VhcmNoID0gcC5ub3JtYWxpemVRdWVyeTtcblx0cC5ub3JtYWxpemVIYXNoID0gcC5ub3JtYWxpemVGcmFnbWVudDtcblxuXHRwLmlzbzg4NTkgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBleHBlY3QgdW5pY29kZSBpbnB1dCwgaXNvODg1OSBvdXRwdXRcblx0XHR2YXIgZSA9IFVSSS5lbmNvZGU7XG5cdFx0dmFyIGQgPSBVUkkuZGVjb2RlO1xuXG5cdFx0VVJJLmVuY29kZSA9IGVzY2FwZTtcblx0XHRVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50O1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLm5vcm1hbGl6ZSgpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRVUkkuZW5jb2RlID0gZTtcblx0XHRcdFVSSS5kZWNvZGUgPSBkO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRwLnVuaWNvZGUgPSBmdW5jdGlvbigpIHtcblx0XHQvLyBleHBlY3QgaXNvODg1OSBpbnB1dCwgdW5pY29kZSBvdXRwdXRcblx0XHR2YXIgZSA9IFVSSS5lbmNvZGU7XG5cdFx0dmFyIGQgPSBVUkkuZGVjb2RlO1xuXG5cdFx0VVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDtcblx0XHRVUkkuZGVjb2RlID0gdW5lc2NhcGU7XG5cdFx0dHJ5IHtcblx0XHRcdHRoaXMubm9ybWFsaXplKCk7XG5cdFx0fSBmaW5hbGx5IHtcblx0XHRcdFVSSS5lbmNvZGUgPSBlO1xuXHRcdFx0VVJJLmRlY29kZSA9IGQ7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdHAucmVhZGFibGUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgdXJpID0gdGhpcy5jbG9uZSgpO1xuXHRcdC8vIHJlbW92aW5nIHVzZXJuYW1lLCBwYXNzd29yZCwgYmVjYXVzZSB0aGV5IHNob3VsZG4ndCBiZSBkaXNwbGF5ZWQgYWNjb3JkaW5nIHRvIFJGQyAzOTg2XG5cdFx0dXJpLnVzZXJuYW1lKCcnKS5wYXNzd29yZCgnJykubm9ybWFsaXplKCk7XG5cdFx0dmFyIHQgPSAnJztcblx0XHRpZiAodXJpLl9wYXJ0cy5wcm90b2NvbCkge1xuXHRcdFx0dCArPSB1cmkuX3BhcnRzLnByb3RvY29sICsgJzovLyc7XG5cdFx0fVxuXG5cdFx0aWYgKHVyaS5fcGFydHMuaG9zdG5hbWUpIHtcblx0XHRcdGlmICh1cmkuaXMoJ3B1bnljb2RlJykgJiYgcHVueWNvZGUpIHtcblx0XHRcdFx0dCArPSBwdW55Y29kZS50b1VuaWNvZGUodXJpLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0XHRcdGlmICh1cmkuX3BhcnRzLnBvcnQpIHtcblx0XHRcdFx0XHR0ICs9ICc6JyArIHVyaS5fcGFydHMucG9ydDtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dCArPSB1cmkuaG9zdCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lICYmIHVyaS5fcGFydHMucGF0aCAmJiB1cmkuX3BhcnRzLnBhdGguY2hhckF0KDApICE9PSAnLycpIHtcblx0XHRcdHQgKz0gJy8nO1xuXHRcdH1cblxuXHRcdHQgKz0gdXJpLnBhdGgodHJ1ZSk7XG5cdFx0aWYgKHVyaS5fcGFydHMucXVlcnkpIHtcblx0XHRcdHZhciBxID0gJyc7XG5cdFx0XHRmb3IgKHZhciBpID0gMCwgcXAgPSB1cmkuX3BhcnRzLnF1ZXJ5LnNwbGl0KCcmJyksIGwgPSBxcC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0dmFyIGt2ID0gKHFwW2ldIHx8ICcnKS5zcGxpdCgnPScpO1xuXHRcdFx0XHRxICs9ICcmJyArIFVSSS5kZWNvZGVRdWVyeShrdlswXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSlcblx0XHRcdFx0XHQucmVwbGFjZSgvJi9nLCAnJTI2Jyk7XG5cblx0XHRcdFx0aWYgKGt2WzFdICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRxICs9ICc9JyArIFVSSS5kZWNvZGVRdWVyeShrdlsxXSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSlcblx0XHRcdFx0XHRcdC5yZXBsYWNlKC8mL2csICclMjYnKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dCArPSAnPycgKyBxLnN1YnN0cmluZygxKTtcblx0XHR9XG5cblx0XHR0ICs9IFVSSS5kZWNvZGVRdWVyeSh1cmkuaGFzaCgpLCB0cnVlKTtcblx0XHRyZXR1cm4gdDtcblx0fTtcblxuXHQvLyByZXNvbHZpbmcgcmVsYXRpdmUgYW5kIGFic29sdXRlIFVSTHNcblx0cC5hYnNvbHV0ZVRvID0gZnVuY3Rpb24oYmFzZSkge1xuXHRcdHZhciByZXNvbHZlZCA9IHRoaXMuY2xvbmUoKTtcblx0XHR2YXIgcHJvcGVydGllcyA9IFsncHJvdG9jb2wnLCAndXNlcm5hbWUnLCAncGFzc3dvcmQnLCAnaG9zdG5hbWUnLCAncG9ydCddO1xuXHRcdHZhciBiYXNlZGlyLCBpLCBwO1xuXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpO1xuXHRcdH1cblxuXHRcdGlmICghKGJhc2UgaW5zdGFuY2VvZiBVUkkpKSB7XG5cdFx0XHRiYXNlID0gbmV3IFVSSShiYXNlKTtcblx0XHR9XG5cblx0XHRpZiAoIXJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCkge1xuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnByb3RvY29sID0gYmFzZS5fcGFydHMucHJvdG9jb2w7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7XG5cdFx0XHRyZXR1cm4gcmVzb2x2ZWQ7XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMDsgKHAgPSBwcm9wZXJ0aWVzW2ldKTsgaSsrKSB7XG5cdFx0XHRyZXNvbHZlZC5fcGFydHNbcF0gPSBiYXNlLl9wYXJ0c1twXTtcblx0XHR9XG5cblx0XHRpZiAoIXJlc29sdmVkLl9wYXJ0cy5wYXRoKSB7XG5cdFx0XHRyZXNvbHZlZC5fcGFydHMucGF0aCA9IGJhc2UuX3BhcnRzLnBhdGg7XG5cdFx0XHRpZiAoIXJlc29sdmVkLl9wYXJ0cy5xdWVyeSkge1xuXHRcdFx0XHRyZXNvbHZlZC5fcGFydHMucXVlcnkgPSBiYXNlLl9wYXJ0cy5xdWVyeTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKHJlc29sdmVkLl9wYXJ0cy5wYXRoLnN1YnN0cmluZygtMikgPT09ICcuLicpIHtcblx0XHRcdHJlc29sdmVkLl9wYXJ0cy5wYXRoICs9ICcvJztcblx0XHR9XG5cblx0XHRpZiAocmVzb2x2ZWQucGF0aCgpLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHRiYXNlZGlyID0gYmFzZS5kaXJlY3RvcnkoKTtcblx0XHRcdGJhc2VkaXIgPSBiYXNlZGlyID8gYmFzZWRpciA6IGJhc2UucGF0aCgpLmluZGV4T2YoJy8nKSA9PT0gMCA/ICcvJyA6ICcnO1xuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnBhdGggPSAoYmFzZWRpciA/IChiYXNlZGlyICsgJy8nKSA6ICcnKSArIHJlc29sdmVkLl9wYXJ0cy5wYXRoO1xuXHRcdFx0cmVzb2x2ZWQubm9ybWFsaXplUGF0aCgpO1xuXHRcdH1cblxuXHRcdHJlc29sdmVkLmJ1aWxkKCk7XG5cdFx0cmV0dXJuIHJlc29sdmVkO1xuXHR9O1xuXHRwLnJlbGF0aXZlVG8gPSBmdW5jdGlvbihiYXNlKSB7XG5cdFx0dmFyIHJlbGF0aXZlID0gdGhpcy5jbG9uZSgpLm5vcm1hbGl6ZSgpO1xuXHRcdHZhciByZWxhdGl2ZVBhcnRzLCBiYXNlUGFydHMsIGNvbW1vbiwgcmVsYXRpdmVQYXRoLCBiYXNlUGF0aDtcblxuXHRcdGlmIChyZWxhdGl2ZS5fcGFydHMudXJuKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzJyk7XG5cdFx0fVxuXG5cdFx0YmFzZSA9IG5ldyBVUkkoYmFzZSkubm9ybWFsaXplKCk7XG5cdFx0cmVsYXRpdmVQYXJ0cyA9IHJlbGF0aXZlLl9wYXJ0cztcblx0XHRiYXNlUGFydHMgPSBiYXNlLl9wYXJ0cztcblx0XHRyZWxhdGl2ZVBhdGggPSByZWxhdGl2ZS5wYXRoKCk7XG5cdFx0YmFzZVBhdGggPSBiYXNlLnBhdGgoKTtcblxuXHRcdGlmIChyZWxhdGl2ZVBhdGguY2hhckF0KDApICE9PSAnLycpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVVJJIGlzIGFscmVhZHkgcmVsYXRpdmUnKTtcblx0XHR9XG5cblx0XHRpZiAoYmFzZVBhdGguY2hhckF0KDApICE9PSAnLycpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGN1bGF0ZSBhIFVSSSByZWxhdGl2ZSB0byBhbm90aGVyIHJlbGF0aXZlIFVSSScpO1xuXHRcdH1cblxuXHRcdGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sID09PSBiYXNlUGFydHMucHJvdG9jb2wpIHtcblx0XHRcdHJlbGF0aXZlUGFydHMucHJvdG9jb2wgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChyZWxhdGl2ZVBhcnRzLnVzZXJuYW1lICE9PSBiYXNlUGFydHMudXNlcm5hbWUgfHwgcmVsYXRpdmVQYXJ0cy5wYXNzd29yZCAhPT0gYmFzZVBhcnRzLnBhc3N3b3JkKSB7XG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcblx0XHR9XG5cblx0XHRpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnVzZXJuYW1lICE9PSBudWxsIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IG51bGwpIHtcblx0XHRcdHJldHVybiByZWxhdGl2ZS5idWlsZCgpO1xuXHRcdH1cblxuXHRcdGlmIChyZWxhdGl2ZVBhcnRzLmhvc3RuYW1lID09PSBiYXNlUGFydHMuaG9zdG5hbWUgJiYgcmVsYXRpdmVQYXJ0cy5wb3J0ID09PSBiYXNlUGFydHMucG9ydCkge1xuXHRcdFx0cmVsYXRpdmVQYXJ0cy5ob3N0bmFtZSA9IG51bGw7XG5cdFx0XHRyZWxhdGl2ZVBhcnRzLnBvcnQgPSBudWxsO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcblx0XHR9XG5cblx0XHRpZiAocmVsYXRpdmVQYXRoID09PSBiYXNlUGF0aCkge1xuXHRcdFx0cmVsYXRpdmVQYXJ0cy5wYXRoID0gJyc7XG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcblx0XHR9XG5cblx0XHQvLyBkZXRlcm1pbmUgY29tbW9uIHN1YiBwYXRoXG5cdFx0Y29tbW9uID0gVVJJLmNvbW1vblBhdGgocmVsYXRpdmVQYXRoLCBiYXNlUGF0aCk7XG5cblx0XHQvLyBJZiB0aGUgcGF0aHMgaGF2ZSBub3RoaW5nIGluIGNvbW1vbiwgcmV0dXJuIGEgcmVsYXRpdmUgVVJMIHdpdGggdGhlIGFic29sdXRlIHBhdGguXG5cdFx0aWYgKCFjb21tb24pIHtcblx0XHRcdHJldHVybiByZWxhdGl2ZS5idWlsZCgpO1xuXHRcdH1cblxuXHRcdHZhciBwYXJlbnRzID0gYmFzZVBhcnRzLnBhdGhcblx0XHRcdC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aClcblx0XHRcdC5yZXBsYWNlKC9bXlxcL10qJC8sICcnKVxuXHRcdFx0LnJlcGxhY2UoLy4qP1xcLy9nLCAnLi4vJyk7XG5cblx0XHRyZWxhdGl2ZVBhcnRzLnBhdGggPSAocGFyZW50cyArIHJlbGF0aXZlUGFydHMucGF0aC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkpIHx8ICcuLyc7XG5cblx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcblx0fTtcblxuXHQvLyBjb21wYXJpbmcgVVJJc1xuXHRwLmVxdWFscyA9IGZ1bmN0aW9uKHVyaSkge1xuXHRcdHZhciBvbmUgPSB0aGlzLmNsb25lKCk7XG5cdFx0dmFyIHR3byA9IG5ldyBVUkkodXJpKTtcblx0XHR2YXIgb25lX21hcCA9IHt9O1xuXHRcdHZhciB0d29fbWFwID0ge307XG5cdFx0dmFyIGNoZWNrZWQgPSB7fTtcblx0XHR2YXIgb25lX3F1ZXJ5LCB0d29fcXVlcnksIGtleTtcblxuXHRcdG9uZS5ub3JtYWxpemUoKTtcblx0XHR0d28ubm9ybWFsaXplKCk7XG5cblx0XHQvLyBleGFjdCBtYXRjaFxuXHRcdGlmIChvbmUudG9TdHJpbmcoKSA9PT0gdHdvLnRvU3RyaW5nKCkpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIGV4dHJhY3QgcXVlcnkgc3RyaW5nXG5cdFx0b25lX3F1ZXJ5ID0gb25lLnF1ZXJ5KCk7XG5cdFx0dHdvX3F1ZXJ5ID0gdHdvLnF1ZXJ5KCk7XG5cdFx0b25lLnF1ZXJ5KCcnKTtcblx0XHR0d28ucXVlcnkoJycpO1xuXG5cdFx0Ly8gZGVmaW5pdGVseSBub3QgZXF1YWwgaWYgbm90IGV2ZW4gbm9uLXF1ZXJ5IHBhcnRzIG1hdGNoXG5cdFx0aWYgKG9uZS50b1N0cmluZygpICE9PSB0d28udG9TdHJpbmcoKSkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIHF1ZXJ5IHBhcmFtZXRlcnMgaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGV2ZW4gaWYgdGhleSdyZSBwZXJtdXRlZFxuXHRcdGlmIChvbmVfcXVlcnkubGVuZ3RoICE9PSB0d29fcXVlcnkubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0b25lX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KG9uZV9xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0dHdvX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KHR3b19xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cblx0XHRmb3IgKGtleSBpbiBvbmVfbWFwKSB7XG5cdFx0XHRpZiAoaGFzT3duLmNhbGwob25lX21hcCwga2V5KSkge1xuXHRcdFx0XHRpZiAoIWlzQXJyYXkob25lX21hcFtrZXldKSkge1xuXHRcdFx0XHRcdGlmIChvbmVfbWFwW2tleV0gIT09IHR3b19tYXBba2V5XSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmICghYXJyYXlzRXF1YWwob25lX21hcFtrZXldLCB0d29fbWFwW2tleV0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y2hlY2tlZFtrZXldID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmb3IgKGtleSBpbiB0d29fbWFwKSB7XG5cdFx0XHRpZiAoaGFzT3duLmNhbGwodHdvX21hcCwga2V5KSkge1xuXHRcdFx0XHRpZiAoIWNoZWNrZWRba2V5XSkge1xuXHRcdFx0XHRcdC8vIHR3byBjb250YWlucyBhIHBhcmFtZXRlciBub3QgcHJlc2VudCBpbiBvbmVcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTtcblxuXHQvLyBzdGF0ZVxuXHRwLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZ1bmN0aW9uKHYpIHtcblx0XHR0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSAhIXY7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cC5lc2NhcGVRdWVyeVNwYWNlID0gZnVuY3Rpb24odikge1xuXHRcdHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UgPSAhIXY7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cmV0dXJuIFVSSTtcbn0pKTsiLCJXb3JrZmxvdyA9IHt9XG5cbkBJbWFnZVNpZ24gPSB7fTtcblxuQFRyYWNlc0hhbmRsZXIgPSB7fTtcblxuQFRyYWNlc1RlbXBsYXRlID0ge307XG5cbkBJbnN0YW5jZWZvcm1UZW1wbGF0ZSA9IHt9O1xuXG5ASW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUgPSB7fTtcblxuQEluc3RhbmNlU2lnblRleHQgPSB7fVxuXG5AUmVsYXRlZEluc3RhbmNlcyA9IHt9XG5cbkBSZWxhdGVkUmVjb3JkcyA9IHt9XG5cbkBJbnN0YW5jZU1hY3JvID0ge2NvbnRleHQ6IHt9fVxuXG5AVHJhY2VzTWFuYWdlciA9IHt9O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nID0gKGZpZWxkX2Zvcm11bGEpLT5cblx0cmV0dXJuIChmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt5aWppYW5sYW46XCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwieyd5aWppYW5sYW4nOlwiKSA+IC0xKVxuXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxuXHRmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuXG5cdF9mb3JtX3ZlcnNpb24gPSB7fVxuXG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdF9mb3JtX3ZlcnNpb24gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGRiLmZvcm1zLmZpbmRPbmUoe19pZDogZm9ybX0pLCBmb3JtX3ZlcnNpb24pXG5cdGVsc2Vcblx0XHRfZm9ybV92ZXJzaW9uID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtfaWQ6IGZvcm1fdmVyc2lvbiwgZm9ybTogZm9ybX0pXG5cblx0ZmllbGRzID0gX2Zvcm1fdmVyc2lvbj8uZmllbGRzIHx8IFtdXG5cblx0ZmllbGRzLmZvckVhY2ggKGYpLT5cblx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xuXHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxuXHRcdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYxLmZvcm11bGFcblx0XHRlbHNlXG5cdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYuZm9ybXVsYVxuXG5cdF8uc29tZSBmaWVsZF9mb3JtdWxhcywgKGZpZWxkX2Zvcm11bGEpLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxuXG4iLCIgICAgICAgICAgICAgXG5cbldvcmtmbG93ID0ge307XG5cbnRoaXMuSW1hZ2VTaWduID0ge307XG5cbnRoaXMuVHJhY2VzSGFuZGxlciA9IHt9O1xuXG50aGlzLlRyYWNlc1RlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2Vmb3JtVGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlU2lnblRleHQgPSB7fTtcblxudGhpcy5SZWxhdGVkSW5zdGFuY2VzID0ge307XG5cbnRoaXMuUmVsYXRlZFJlY29yZHMgPSB7fTtcblxudGhpcy5JbnN0YW5jZU1hY3JvID0ge1xuICBjb250ZXh0OiB7fVxufTtcblxudGhpcy5UcmFjZXNNYW5hZ2VyID0ge307XG5cbkluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcgPSBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gIHJldHVybiAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3lpamlhbmxhbjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgOiB2b2lkIDApID4gLTE7XG59O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gIHZhciBfZm9ybV92ZXJzaW9uLCBmaWVsZF9mb3JtdWxhcywgZmllbGRzO1xuICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICBfZm9ybV92ZXJzaW9uID0ge307XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybVxuICAgIH0pLCBmb3JtX3ZlcnNpb24pO1xuICB9IGVsc2Uge1xuICAgIF9mb3JtX3ZlcnNpb24gPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtX3ZlcnNpb24sXG4gICAgICBmb3JtOiBmb3JtXG4gICAgfSk7XG4gIH1cbiAgZmllbGRzID0gKF9mb3JtX3ZlcnNpb24gIT0gbnVsbCA/IF9mb3JtX3ZlcnNpb24uZmllbGRzIDogdm9pZCAwKSB8fCBbXTtcbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgIHZhciByZWY7XG4gICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSk7XG59O1xuIiwiZGIuYXV0aF90b2tlbnMgPSBuZXcgTWV0ZW9yLkNvbGxlY3Rpb24oJ2F1dGhfdG9rZW5zJykiLCJJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUgPSB7fTtcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiXCJcIlxuXHQ8dHI+XG5cdFx0PHRkIGNsYXNzPVwiaW5zLWF0dGFjaC12aWV3XCI+XG5cdFx0XHQ8YSBocmVmPVwie3tpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCBfaWQgYWJzb2x1dGV9fVwiIGNsYXNzPVwiaW5zX2F0dGFjaF9ocmVmXCIgdGFyZ2V0PVwiX3BhcmVudFwiIGRhdGEtbmFtZT1cInt7dGhpcy5uYW1lfX1cIiBkYXRhLXR5cGU9XCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XCIgZGF0YS1pZD1cInt7X2lkfX1cIj57e3RoaXMubmFtZX19PC9hPlxuXHRcdDwvdGQ+XG5cdDwvdHI+XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmU2VsZWN0VXNlclJlYWQgPSBcIlwiXCJcblx0PGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XG5cIlwiXCJcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXBSZWFkID0gXCJcIlwiXG5cdDxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxuXHRcdHt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCIgc3R5bGU9XCJwYWRkaW5nOjBweDtcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiA+XG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJlYWRvbmx5LXRhYmxlXCIgc3R5bGU9XCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cInt7dGhpcy5jb2RlfX1UYWJsZVwiIG5hbWU9XCJ7e3RoaXMuY29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3t0aGlzLm5hbWV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XCJ7e3RoaXMubmFtZX19VGhlYWRcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRoZWFkXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cInt7dGhpcy5uYW1lfX1UYm9keVwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXHQ8L2Rpdj5cblwiXCJcIlxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlwiXCJcblxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG4gIFx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiIHN0eWxlPVwicGFkZGluZzowcHg7XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XCJ7e3RoaXMuY29kZX19VGFibGVcIiBuYW1lPVwie3t0aGlzLmNvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7dGhpcy5uYW1lfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIGRhdGEtcmVxdWlyZWQ9XCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHR7eyNpZiBpc190ZXh0YXJlYX19XG5cdFx0XHRcdFx0XHRcdFx0PHRleHRhcmVhIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+PC90ZXh0YXJlYT5cblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHR7eyN1bmxlc3MgaXNfdGV4dGFyZWF9fVxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdHt7L3VubGVzc319XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ251bWJlcid9fVxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cIm51bWJlclwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGUnfX1cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtdHlwZT1cImRhdGVcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGVUaW1lJ319XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXR5cGU9J2RhdGV0aW1lJyBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3Bhc3N3b3JkJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWxlY3QnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNlbGVjdCBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVwie3t2YWx1ZX19XCI+e3tsYWJlbH19PC9vcHRpb24+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zZWxlY3Q+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3JhZGlvJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhZi1yYWRpby1ncm91cFwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxuICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJyYWRpby1pbmxpbmUgZml4LWluZGVudFwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiB2YWx1ZT1cInt7dmFsdWV9fVwiIG5hbWU9XCJ7ey4uL2NvZGV9fVwiIGNsYXNzPVwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcIj4ge3tsYWJlbH19PC9sYWJlbD5cbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdtdWx0aVNlbGVjdCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtY2hlY2tib3gtZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJ7e3ZhbHVlfX1cIiBuYW1lPVwie3suLi9jb2RlfX1cIiBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+IHt7bGFiZWx9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndXJsJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidXJsXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZW1haWwnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJlbWFpbFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2NoZWNrYm94J319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaGVja2JveFwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJ0cnVlXCIgbmFtZT1cInt7Y29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPjwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHR7ey9pZn19XG5cdFx0XHR7ey9pZn19XG5cdFx0e3svd2l0aH19XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZSA9ICh0ZW1wYWx0ZU5hbWUsIHN0ZWVkb3NEYXRhKSAtPlxuXHR0ZW1wbGF0ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdXG5cblx0dGVtcGxhdGVDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblxuXHR0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0ZW1wbGF0ZUNvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdID0gbmV3IEJsYXplLlRlbXBsYXRlKHRlbXBhbHRlTmFtZSwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbik7XG5cdFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLmhlbHBlcnMgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dCA9IChzdGVlZG9zRGF0YSktPlxuXHRpbnN0YW5jZVNpZ25UZXh0SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX3NpZ25fdGV4dC5odG1sJylcblxuXHRpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlU2lnblRleHRIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0aW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZVNpZ25UZXh0XCIsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbik7XG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24gPSAoc3RlZWRvc0RhdGEpIC0+XG5cdGltYWdlU2lnbkh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbWFnZV9zaWduLmh0bWwnKVxuXHRpbWFnZVNpZ25Db21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW1hZ2VTaWduSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXHRpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW1hZ2VTaWduQ29tcGlsZWQpO1xuXHRUZW1wbGF0ZS5pbWFnZVNpZ24gPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbWFnZVNpZ25cIiwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZS5pbWFnZVNpZ24uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZS5pbWFnZVNpZ24uaGVscGVycyBJbWFnZVNpZ24uaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlVHJhY2VzSGFubGRlciA9IChzdGVlZG9zRGF0YSkgLT5cblx0dHJhY2VzSGFubGRlckh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfaGFuZGxlci5odG1sJylcblx0dHJhY2VzSGFubGRlckNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIYW5sZGVySHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXHR0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlc0hhbmxkZXJDb21waWxlZCk7XG5cdFRlbXBsYXRlLmluc3RhbmNlX3RyYWNlc19oYW5kbGVyID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXJcIiwgdHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uKTtcblx0VGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlci5oZWxwZXJzIFRyYWNlc0hhbmRsZXIuaGVscGVyc1xuXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0ID0gKHN0ZWVkb3NEYXRhKSAtPlxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwXCIsIHN0ZWVkb3NEYXRhKTtcblxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBSZWFkXCIsIHN0ZWVkb3NEYXRhKTtcblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge2Fic29sdXRlOiBzdGVlZG9zRGF0YS5hYnNvbHV0ZX0pO1xuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24oc3RlZWRvc0RhdGEpXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIoc3RlZWRvc0RhdGEpO1xuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKVxuXG5nZXRMaW5rVGV4dCA9IChpdGVtLCBsYWJlbCwgZGV0YWlsX3VybCktPlxuXHRpZiBkZXRhaWxfdXJsXG5cdFx0ZGV0YWlsX3VybCA9IGRldGFpbF91cmwucmVwbGFjZShcIntfaWR9XCIsIGl0ZW0uX2lkKVxuXHRcdGlmICEvXmh0dHAocz8pOlxcL1xcLy8udGVzdChkZXRhaWxfdXJsKVxuXHRcdFx0ZGV0YWlsX3VybCA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoZGV0YWlsX3VybClcblx0XHRyZXR1cm4gJzxhIGhyZWY9XCInK2RldGFpbF91cmwrJ1wiIHRhcmdldD1cIl9ibGFua1wiPicrbGFiZWwrJzwvYT4nO1xuXHRlbHNlXG5cdFx0cmV0dXJuIGxhYmVsXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSA9ICh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSAtPlxuXHRpZiAhdmFsdWUgJiYgdmFsdWUgIT0gZmFsc2Vcblx0XHRyZXR1cm4gJydcblx0c3dpdGNoIGZpZWxkLnR5cGVcblx0XHR3aGVuICdlbWFpbCdcblx0XHRcdHZhbHVlID0gaWYgdmFsdWUgdGhlbiAnPGEgaHJlZj1cXCdtYWlsdG86JyArIHZhbHVlICsgJ1xcJz4nICsgdmFsdWUgKyAnPC9hPicgZWxzZSAnJ1xuXHRcdHdoZW4gJ3VybCdcblx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdGlmIHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09IDBcblx0XHRcdFx0XHR0cnlcblx0XHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcblx0XHRcdFx0XHRjYXRjaCBlXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IFwiPGEgaHJlZj0nJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR2YWx1ZSA9IFwiPGEgaHJlZj0naHR0cDovL1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9ICcnXG5cdFx0d2hlbiAnZ3JvdXAnXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpLnRvU3RyaW5nKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcblx0XHR3aGVuICd1c2VyJ1xuXHRcdFx0aWYgZmllbGQuaXNfbXVsdGlzZWxlY3Rcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8ubmFtZVxuXHRcdHdoZW4gJ3Bhc3N3b3JkJ1xuXHRcdFx0dmFsdWUgPSAnKioqKioqJ1xuXHRcdHdoZW4gJ2NoZWNrYm94J1xuXHRcdFx0aWYgdmFsdWUgJiYgdmFsdWUgIT0gJ2ZhbHNlJ1xuXHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIsIHt9LCBsb2NhbGUpXG5cdFx0d2hlbiAnZGF0ZVRpbWUnXG5cdFx0XHRpZiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPT0gMTZcblx0XHRcdFx0dCA9IHZhbHVlLnNwbGl0KFwiVFwiKVxuXHRcdFx0XHR0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xuXHRcdFx0XHR0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG5cdFx0XHRcdHllYXIgPSB0MFswXTtcblx0XHRcdFx0bW9udGggPSB0MFsxXTtcblx0XHRcdFx0ZGF0ZSA9IHQwWzJdO1xuXHRcdFx0XHRob3VycyA9IHQxWzBdO1xuXHRcdFx0XHRzZWNvbmRzID0gdDFbMV07XG5cblx0XHRcdFx0dmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxuXG5cdFx0XHR2YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKHZhbHVlLCB1dGNPZmZzZXQpO1xuXHRcdHdoZW4gJ2lucHV0J1xuXHRcdFx0aWYgZmllbGQuaXNfdGV4dGFyZWFcblx0XHRcdFx0dmFsdWUgPSBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bih2YWx1ZSkpXG5cdFx0d2hlbiAnbnVtYmVyJ1xuXHRcdFx0aWYgdmFsdWUgb3IgdmFsdWUgPT0gMFxuXHRcdFx0XHR2YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcgdmFsdWUsIGZpZWxkLmRpZ2l0c1xuXHRcdHdoZW4gJ29kYXRhJ1xuXHRcdFx0ZGV0YWlsX3VybCA9IGZpZWxkLmRldGFpbF91cmxcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XG5cdFx0XHRcdHZhbHVlID0gXy5tYXAgdmFsdWUsIChpdGVtKS0+XG5cdFx0XHRcdFx0cmV0dXJuIGdldExpbmtUZXh0KGl0ZW0sIGl0ZW1bJ0BsYWJlbCddLCBkZXRhaWxfdXJsKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IGdldExpbmtUZXh0KHZhbHVlLCB2YWx1ZVsnQGxhYmVsJ10sIGRldGFpbF91cmwpXG5cdFx0d2hlbiAnaHRtbCdcblx0XHRcdHZhbHVlID0gaWYgdmFsdWUgdGhlbiBcIjxkaXYgY2xhc3M9XFxcInN0ZWVkb3MtaHRtbFxcXCI+I3t2YWx1ZX08L2Rpdj5cIiBlbHNlICcnXG5cblx0cmV0dXJuIHZhbHVlO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgPSAoZmllbGRzLCBjb2RlKSAtPlxuXHRmaWVsZCA9IGZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKVxuXHRpZiBmaWVsZFxuXHRcdGlmIGZpZWxkLm5hbWVcblx0XHRcdHJldHVybiBmaWVsZC5uYW1lXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZpZWxkLmNvZGVcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiA9IChpbnN0YW5jZSktPlxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblxuXHRmb3JtX3ZlcnNpb24gPSB7fVxuXG5cdGZvcm1fZmllbGRzID0gW107XG5cblx0aWYgZm9ybS5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb25cblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcblx0ZWxzZVxuXHRcdGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9ufSlbMF1cblxuXHRmb3JtX3ZlcnNpb24uZmllbGRzLmZvckVhY2ggKGZpZWxkKS0+XG5cdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuXHRcdFx0aWYgZmllbGQuZmllbGRzXG5cdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoIChmKSAtPlxuXHRcdFx0XHRcdGZvcm1fZmllbGRzLnB1c2goZik7XG5cdFx0ZWxzZSBpZiBmaWVsZC50eXBlID09ICd0YWJsZSdcblx0XHRcdGZpZWxkWydzZmllbGRzJ10gPSBmaWVsZFsnZmllbGRzJ11cblx0XHRcdGRlbGV0ZSBmaWVsZFsnZmllbGRzJ11cblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuXHRcdGVsc2Vcblx0XHRcdGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuXG5cdGZvcm1fdmVyc2lvbi5maWVsZHMgPSBmb3JtX2ZpZWxkcztcblxuXHRyZXR1cm4gZm9ybV92ZXJzaW9uO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24gPSAoaW5zdGFuY2UpLT5cblx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG5cdGZsb3dfdmVyc2lvbiA9IHt9XG5cdGlmIGZsb3cuY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXG5cdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50XG5cdGVsc2Vcblx0XHRmbG93X3ZlcnNpb24gPSBfLndoZXJlKGZsb3cuaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvbn0pWzBdXG5cblx0cmV0dXJuIGZsb3dfdmVyc2lvbjtcblxuXG5fZ2V0Vmlld0h0bWwgPSAocGF0aCkgLT5cblx0dmlld0h0bWwgPSBBc3NldHMuZ2V0VGV4dChwYXRoKVxuXG5cdGlmIHZpZXdIdG1sXG5cdFx0dmlld0h0bWwgPSB2aWV3SHRtbC5yZXBsYWNlKC88dGVtcGxhdGVbXFx3XFxzXFxcIlxcPSddKz4vaSxcIlwiKS5yZXBsYWNlKC88XFwvdGVtcGxhdGU+L2ksXCJcIilcblxuXHRyZXR1cm4gdmlld0h0bWw7XG5cbl9nZXRMb2NhbGUgPSAodXNlciktPlxuXHRpZiB1c2VyPy5sb2NhbGU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRlbHNlIGlmIHVzZXI/LmxvY2FsZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnZW4tdXMnXG5cdFx0bG9jYWxlID0gXCJlblwiXG5cdGVsc2Vcblx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0cmV0dXJuIGxvY2FsZVxuXG5cbl9nZXRSZXF1aXJlZEZpZWxkcyA9IChmaWVsZHMsIHJldiktPlxuXHRpZiAhcmV2XG5cdFx0cmV2ID0gW107XG5cblx0ZmllbGRzLmZvckVhY2ggKGZpZWxkKS0+XG5cdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZC5maWVsZHMsIHJldilcblx0XHRlbHNlIGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXG5cdFx0ZWxzZVxuXHRcdFx0aWYgZmllbGQuaXNfcmVxdWlyZWRcblx0XHRcdFx0cmV2LnB1c2ggZmllbGQuY29kZVxuXHRyZXR1cm4gcmV2O1xuXG5fZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSAoZmllbGRzLCBzdGVwcyktPlxuXHRzdGFydFN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcF90eXBlXCIsXCJzdGFydFwiKVxuXG5cdGVkaXRhYmxlQ29kZSA9IFtdXG5cblx0Xy5rZXlzKHN0YXJ0U3RlcC5wZXJtaXNzaW9ucykuZm9yRWFjaCAoa2V5KS0+XG5cdFx0aWYgc3RhcnRTdGVwLnBlcm1pc3Npb25zW2tleV0gPT0gJ2VkaXRhYmxlJ1xuXHRcdFx0ZWRpdGFibGVDb2RlLnB1c2gga2V5XG5cblx0cmV0dXJuIGVkaXRhYmxlQ29kZVxuXG5fZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMgPSAoZmllbGRzLCBzdGVwcyktPlxuXHRyZXF1aXJlZEZpZWxkcyA9IF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZHMpXG5cblx0ZWRpdGFibGVDb2RlID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZpZWxkcywgc3RlcHMpXG5cblx0cmV0dXJuIF8uaW50ZXJzZWN0aW9uKHJlcXVpcmVkRmllbGRzLCBlZGl0YWJsZUNvZGUpXG5cbl9nZXRUZW1wbGF0ZURhdGEgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdGZvcm1fdmVyc2lvbiA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKVxuXHRlbHNlXG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpXG5cblx0bG9jYWxlID0gX2dldExvY2FsZSh1c2VyKVxuXG5cdHN0ZWVkb3NEYXRhID0ge31cblxuXHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRzdGVlZG9zRGF0YSA9IF8uY2xvbmUoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpKVxuXHRcdHN0ZWVkb3NEYXRhLmluc25hbWUgPSBpbnN0YW5jZS5uYW1lXG5cdFx0c3RlZWRvc0RhdGEuaW5zX3N0YXRlID0gaW5zdGFuY2Uuc3RhdGVcblx0XHRzdGVlZG9zRGF0YS5pbnNfZmluYWxfZGVjaXNpb24gPSBpbnN0YW5jZS5pbnNfZmluYWxfZGVjaXNpb25cblx0XHRzdGVlZG9zRGF0YS5pbnNfY29kZSA9IGluc3RhbmNlLmNvZGVcblx0XHRzdGVlZG9zRGF0YS5pbnNfaXNfYXJjaGl2ZWQgPSBpbnN0YW5jZS5pc19hcmNoaXZlZFxuXHRcdHN0ZWVkb3NEYXRhLmluc19pc19kZWxldGVkID0gaW5zdGFuY2UuaW5zX2lzX2RlbGV0ZWRcblx0XHRzdGVlZG9zRGF0YS5hcHBsaWNhbnRfbmFtZSA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXG5cdFx0c3RlZWRvc0RhdGEuYXBwbGljYW50Q29udGV4dCA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXG5cblx0c3RlZWRvc0RhdGEuaW5zdGFuY2UgPSBpbnN0YW5jZVxuXHRzdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb24gPSBmb3JtX3ZlcnNpb25cblx0c3RlZWRvc0RhdGEubG9jYWxlID0gbG9jYWxlXG5cdHN0ZWVkb3NEYXRhLnV0Y09mZnNldCA9IHVzZXIudXRjT2Zmc2V0XG5cdHN0ZWVkb3NEYXRhLnNwYWNlID0gaW5zdGFuY2Uuc3BhY2Vcblx0c3RlZWRvc0RhdGEuc2Vzc2lvblVzZXJJZCA9IHVzZXIuX2lkXG5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0aWYgb3B0aW9ucz8uZWRpdGFibGVcblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZvcm19KVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mbG93fSlcblxuXHRcdFx0c3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZm9ybS5jdXJyZW50LmZpZWxkcywgZmxvdy5jdXJyZW50LnN0ZXBzKTtcblxuXHRyZXR1cm4gc3RlZWRvc0RhdGE7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlID0gKGRhdGUsIHV0Y09mZnNldCktPlxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRwYXNzaW5nID0gZmFsc2U7XG5cdGVsc2Vcblx0XHRwYXNzaW5nID0gdHJ1ZTtcblxuXHRpZiAhdXRjT2Zmc2V0ICYmIHV0Y09mZnNldCAhPTBcblx0XHR1dGNPZmZzZXQgPSA4XG5cblx0cmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0LCBwYXNzaW5nKS5mb3JtYXQoXCJZWVlZLU1NLUREIEhIOm1tXCIpO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcblxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcblxuXHRpbnN0YW5jZVRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlLCBvcHRpb25zPy50ZW1wbGF0ZU5hbWUpO1xuXG5cdGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmU2VsZWN0VXNlci9nLFwiYWZTZWxlY3RVc2VyUmVhZFwiKVxuXG5cdGlmICFvcHRpb25zPy5lZGl0YWJsZVxuXHRcdGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmRm9ybUdyb3VwL2csXCJhZkZvcm1Hcm91cFJlYWRcIilcblxuXHRpbnN0YW5jZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVRlbXBsYXRlLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0aW5zdGFuY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VDb21waWxlZCk7XG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlX3JlYWRvbmx5X3ZpZXdcIiwgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdChzdGVlZG9zRGF0YSk7XG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcsIHN0ZWVkb3NEYXRhKVxuXG5cdHJldHVybiBcIlwiXCJcblx0XHQ8ZGl2IGlkPSdpbnN0YW5jZWZvcm0nID5cblx0XHRcdCN7Ym9keX1cblx0XHQ8L2Rpdj5cblx0XCJcIlwiXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdGlmIGZvcm0uaW5zdGFuY2Vfc3R5bGUgPT0gXCJ0YWJsZVwiIHx8IG9wdGlvbnM/LnRlbXBsYXRlTmFtZSA9PSBcInRhYmxlXCJcblx0XHR0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX3RhYmxlLmh0bWwnKVxuXHRlbHNlXG5cdFx0dHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlcy5odG1sJylcblxuXHR0cmFjZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0dHJhY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VDb21waWxlZCk7XG5cblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInRyYWNlX3JlYWRvbmx5X3ZpZXdcIiwgdHJhY2VSZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnNcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldywgaW5zdGFuY2UudHJhY2VzKVxuXG5cdHJldHVybiBib2R5O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlKS0+XG5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRhdHRhY2htZW50SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX2F0dGFjaG1lbnRzLmh0bWwnKVxuXG5cdGF0dGFjaG1lbnRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoYXR0YWNobWVudEh0bWwsIHtpc0JvZHk6IHRydWV9KTtcblxuXHRhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24gPSBldmFsKGF0dGFjaG1lbnRDb21waWxlZCk7XG5cblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXdcIiwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LmhlbHBlcnMgSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVyc1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3KVxuXG5cdHJldHVybiBib2R5O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcblxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcblxuXHRyZWxhdGVkSW5zdGFuY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfaW5zdGFuY2VzLmh0bWwnKVxuXG5cdHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZEluc3RhbmNlc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcblxuXHRyZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCk7XG5cblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXdcIiwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LmhlbHBlcnMgUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcsIHN0ZWVkb3NEYXRhKVxuXG5cdHJldHVybiBib2R5O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXG5cdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG5cblx0aWYgb3B0aW9ucz8uYWJzb2x1dGVcblx0XHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG5cblx0cmVsYXRlZFJlY29yZHNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9yZWNvcmRzLmh0bWwnKVxuXG5cdHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRSZWNvcmRzSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9yZWNvcmRzX3ZpZXdcIiwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LmhlbHBlcnMgUmVsYXRlZFJlY29yZHMuaGVscGVyc1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldywgc3RlZWRvc0RhdGEpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQgPSAoaW5zdGFuY2UpLT5cblx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcblxuXHRmb3JtX3NjcmlwdCA9IGZvcm1fdmVyc2lvbi5mb3JtX3NjcmlwdDtcblxuXHRpZiBmb3JtX3NjcmlwdCAmJiBmb3JtX3NjcmlwdC5yZXBsYWNlKC9cXG4vZyxcIlwiKS5yZXBsYWNlKC9cXHMvZyxcIlwiKS5sZW5ndGggPiAwXG5cdFx0Zm9ybV9zY3JpcHQgPSBcIkNvcmVGb3JtID0ge307Q29yZUZvcm0uaW5zdGFuY2Vmb3JtID0ge307XCIgKyBmb3JtX3NjcmlwdFxuXHRcdGZvcm1fc2NyaXB0ICs9IFwiO2lmKENvcmVGb3JtLmZvcm1fT25Mb2FkKXt3aW5kb3cub25sb2FkID0gQ29yZUZvcm0uZm9ybV9PbkxvYWQoKTt9XCJcblx0ZWxzZVxuXHRcdGZvcm1fc2NyaXB0ID0gXCJcIlxuXG5cblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblxuXHRib2R5ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuXG5cdG9uTG9hZFNjcmlwdCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQoaW5zdGFuY2UpO1xuXG5cdGNyZWF0b3JTZXJ2aWNlID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy53ZWJzZXJ2aWNlcz8uY3JlYXRvcj8udXJsXG5cdGluc19yZWNvcmRfaWRzID0gaW5zdGFuY2UucmVjb3JkX2lkc1xuXHRsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpO1xuXHRvcGVuRmlsZVNjcmlwdCA9IFwiXCJcIlxuXHRcdFx0aWYod2luZG93LmlzTm9kZSAmJiBpc05vZGUoKSl7XG5cdFx0XHRcdGF0dGFjaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5zX2F0dGFjaF9ocmVmXCIpO1xuXHRcdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgYXR0YWNocy5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdFx0YXR0YWNoID0gYXR0YWNoc1tpXTtcblx0XHRcdFx0XHRhdHRhY2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdFx0aWYoaXNJbWFnZSh0aGlzLmRhdGFzZXQudHlwZSkgfHwgaXNIdG1sKHRoaXMuZGF0YXNldC50eXBlKSl7XG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdFx0b3BlbldpbmRvdyhcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgdGhpcy5kYXRhc2V0LmlkKTtcblx0XHRcdFx0XHRcdH1lbHNlIGlmKG53X2NvcmUuY2FuT3BlbkZpbGUodGhpcy5kYXRhc2V0Lm5hbWUpKXtcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRud19jb3JlLm9wZW5GaWxlKHRoaXMuaHJlZiwgdGhpcy5kYXRhc2V0Lm5hbWUpXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dmFyIGZsb3cgPSBcIiN7aW5zdGFuY2UuZmxvd31cIjtcblx0XHRcdHZhciBzcGFjZSA9IFwiI3tpbnN0YW5jZS5zcGFjZX1cIjtcblxuXHRcdFx0ZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpe1xuXHRcdFx0XHRsZXQgcGF0dGVybiA9IFJlZ0V4cChuYW1lICsgXCI9LlteO10qXCIpXG5cdFx0XHRcdGxldCBtYXRjaGVkID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHBhdHRlcm4pXG5cdFx0XHRcdGlmKG1hdGNoZWQpe1xuXHRcdFx0XHRcdGxldCBjb29raWUgPSBtYXRjaGVkWzBdLnNwbGl0KCc9Jylcblx0XHRcdFx0XHRyZXR1cm4gY29va2llWzFdXG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuICcnXG5cdFx0XHR9XG5cblx0XHRcdHZhciByZWNvcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImlucy1yZWxhdGVkLXJlY29yZHNcIik7XG5cdFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKyl7XG5cdFx0XHRcdFx0dmFyIHJlY29yZCA9IHJlY29yZHNbaV07XG5cdFx0XHRcdFx0cmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRcdHZhciBjcmVhdG9yU2VydmljZSA9IFwiI3tjcmVhdG9yU2VydmljZX1cIlxuXHRcdFx0XHRcdFx0dmFyIGluc19yZWNvcmRfaWRzID0gI3tKU09OLnN0cmluZ2lmeShpbnNfcmVjb3JkX2lkcyl9XG5cdFx0XHRcdFx0XHRpZihjcmVhdG9yU2VydmljZSAmJiBpbnNfcmVjb3JkX2lkcyAmJiBpbnNfcmVjb3JkX2lkcy5sZW5ndGggPiAwKXtcblx0XHRcdFx0XHRcdFx0dmFyIG9iamNldE5hbWUgPSBpbnNfcmVjb3JkX2lkc1swXS5vXG5cdFx0XHRcdFx0XHRcdHZhciBpZCA9IGluc19yZWNvcmRfaWRzWzBdLmlkc1swXVxuXHRcdFx0XHRcdFx0XHR2YXIgdW9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0XHR1b2JqW1wiWC1Vc2VyLUlkXCJdID0gZ2V0Q29va2llKFwiWC1Vc2VyLUlkXCIpO1xuXHRcdFx0XHRcdFx0XHR1b2JqW1wiWC1BdXRoLVRva2VuXCJdID0gZ2V0Q29va2llKFwiWC1BdXRoLVRva2VuXCIpO1xuXHRcdFx0XHRcdFx0XHRyZWRpcmVjdFVybCA9IGNyZWF0b3JTZXJ2aWNlICsgXCJhcHAvLS9cIiArIG9iamNldE5hbWUgKyBcIi92aWV3L1wiICsgaWQgKyBcIj9cIiArICQucGFyYW0odW9iaik7XG5cdFx0XHRcdFx0XHRcdG9wZW5XaW5kb3cocmVkaXJlY3RVcmwpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XCJcIlwiO1xuXG5cblx0aWYgIVN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXHRcdGlmIGZvcm0/Lmluc3RhbmNlX3N0eWxlID09ICd0YWJsZSdcblx0XHRcdGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiXG5cblx0aWYgb3B0aW9ucz8udGVtcGxhdGVOYW1lID09ICd0YWJsZSdcblx0XHRpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIlxuXG5cdGlmIG9wdGlvbnM/Lmluc3RhbmNlX3N0eWxlXG5cdFx0aW5zdGFuY2Vfc3R5bGUgPSBvcHRpb25zLmluc3RhbmNlX3N0eWxlXG5cblx0aWYgIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93VHJhY2UgPT0gdHJ1ZVxuXHRcdHRyYWNlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXHRlbHNlXG5cdFx0dHJhY2UgPSBcIlwiXG5cblx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiXCI7XG5cblx0aWYgaW5zdGFuY2UgJiYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb25cblx0XHRpZiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcblx0XHRcdGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1zdWNjZXNzXCJcblx0XHRlbHNlIGlmIChpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtZGFuZ2VyXCJcblx0aWYgIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPT0gdHJ1ZVxuXHRcdGF0dGFjaG1lbnQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXHRcdHJlbGF0ZWRfaW5zdGFuY2VzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblx0XHRyZWxhdGVkX3JlY29yZHMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblx0ZWxzZVxuXHRcdGF0dGFjaG1lbnQgPSBcIlwiXG5cdFx0cmVsYXRlZF9pbnN0YW5jZXMgPSBcIlwiXG5cdFx0cmVsYXRlZF9yZWNvcmRzID0gXCJcIlxuXG5cblx0d2lkdGggPSBcIjk2MHB4XCJcblx0I1x05aaC5p6c57uZdGFibGXnmoRwYXJlbnTorr7nva53aWR0aO+8jOWImeS8muWvvOiHtOmYv+mHjOS6kemCrueuseaYvuekunRhYmxlIOW8guW4uFxuXHRpZiBvcHRpb25zPy53aWR0aFxuXHRcdHdpZHRoID0gXCJcIlxuXG5cdGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJzdGVlZG9zLWNzc1wiKVxuXG5cdGFsbENzc0xpbmsgPSBcIlwiXCI8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgY2xhc3M9XCJfX21ldGVvci1jc3NfX1wiIGhyZWY9XCIje2Nzc0hyZWZ9XCI+XCJcIlwiXG5cblx0dHJhY2VDaGVjayA9IFwiXCJcblx0aWYgIV8uaXNFbXB0eSh0cmFjZSlcblx0XHR0cmFjZUNoZWNrID0gXCJjaGVja2VkXCJcblx0aWYgb3B0aW9ucz8udGFnZ2VyID09ICdlbWFpbCcgfHwgb3B0aW9ucz8uZWRpdGFibGVcblx0XHRzaG93VHJhY2VzQnRuID0gXCJcIlxuXHRlbHNlXG5cdFx0c2hvd1RyYWNlc0J0biA9IFwiXCJcIlxuXHRcdFx0PGRpdiBjbGFzcz1cIm5hdmlnYXRpb24tYmFyIGJ0bi1ncm91cCBuby1wcmludFwiIHN0eWxlPVwibWluLXdpZHRoOiA2MDBweDsgei1pbmRleDogOTk5XCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJwcmludC10b29sXCI+XG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY2J4LWxhYmVsXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiY2J4LXByaW50IGNieC1wcmludC1hdHRhY2htZW50c1wiIGlkPVwiY2J4LXByaW50LWF0dGFjaG1lbnRzXCIgY2hlY2tlZD1cImNoZWNrZWRcIj48c3Bhbj4je1RBUGkxOG4uX18oJ2luc3RhbmNlX2F0dGFjaG1lbnQnLCB7fSwgbG9jYWxlKX08L3NwYW4+PC9sYWJlbD5cblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjYngtbGFiZWxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJjYngtcHJpbnQgY2J4LXByaW50LXRyYWNlc1wiIGlkPVwiY2J4LXByaW50LXRyYWNlc1wiIGNoZWNrZWQ9XCIje3RyYWNlQ2hlY2t9XCI+PHNwYW4+I3tUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZhbF9oaXN0b3J5Jywge30sIGxvY2FsZSl9PC9zcGFuPjwvbGFiZWw+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHRcIlwiXCJcblxuXHRzaG93VHJhY2VzU2NyaXB0ID0gXCJcIlwiXG5cdFx0JCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbigpe1xuXHRcdFx0dmFyIGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LXRyYWNlcycpO1xuXHRcdFx0dmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnN0YW5jZS10cmFjZXMnKVswXTtcblx0XHRcdGlmIChiICYmIGIuY2hlY2tlZCAmJiB0KXtcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXG5cdFx0XHR9IGVsc2UgaWYodCl7XG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXG5cdFx0XHR9XG5cdFx0XHRpZihiKXtcblx0XHRcdFx0Yi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XG5cdFx0XHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cblx0XHRcdHZhciBhdHRhY2htZW50c0NoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC1hdHRhY2htZW50cycpO1xuXHRcdFx0dmFyIGF0dGFjaG1lbnRzVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0dGFjaG1lbnRzLXNlY3Rpb24nKVswXTtcblx0XHRcdGlmIChhdHRhY2htZW50c0NoZWNrYm94ICYmIGF0dGFjaG1lbnRzQ2hlY2tib3guY2hlY2tlZCAmJiBhdHRhY2htZW50c1ZpZXcpe1xuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xuXHRcdFx0fSBlbHNlIGlmKGF0dGFjaG1lbnRzVmlldyl7XG5cdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcblx0XHRcdH1cblx0XHRcdGlmKGF0dGFjaG1lbnRzQ2hlY2tib3gpe1xuXHRcdFx0XHRhdHRhY2htZW50c0NoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcblx0XHRcdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFwiXCJcIlxuXG5cdGlmIG9wdGlvbnM/LnN0eWxlc1xuXHRcdGFsbENzc0xpbmsgPSBcIlwiXG5cblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pO1xuXHRmb3JtRGVzY3JpcHRpb25IdG1sID0gXCJcIlxuXHRpZiBmb3JtXG5cdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybS5kZXNjcmlwdGlvblxuXHRcdGlmIGZvcm1EZXNjcmlwdGlvblxuXHRcdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybURlc2NyaXB0aW9uLnJlcGxhY2UoL1xcbi9nLFwiPGJyLz5cIilcblx0XHRcdGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiXCJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyIGluc3RhbmNlLWhlYWRlclwiPlxuXHRcdFx0XHRcdDxkaXY+XG5cdFx0XHRcdFx0XHQje2Zvcm1EZXNjcmlwdGlvbn1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFwiXCJcIlxuXG5cdGh0bWwgPSBcIlwiXCJcblx0XHQ8IURPQ1RZUEUgaHRtbD5cblx0XHQ8aHRtbD5cblx0XHRcdDxoZWFkPlxuXHRcdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiQ29udGVudC1UeXBlXCIgY29udGVudD1cInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFwiLz5cblx0XHRcdFx0I3thbGxDc3NMaW5rfVxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cImh0dHBzOi8vd3d3LnN0ZWVkb3MuY29tL3dlYnNpdGUvbGlicy9qcXVlcnkubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy9ud19jb3JlLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXHRcdFx0XHQje29wdGlvbnMucGx1Z2lucyB8fCBcIlwifVxuXG5cdFx0XHRcdDxzdHlsZT5cblx0XHRcdFx0XHQuc3RlZWRvc3tcblx0XHRcdFx0XHRcdHdpZHRoOiAje3dpZHRofTtcblx0XHRcdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xuXHRcdFx0XHRcdFx0bWFyZ2luLXJpZ2h0OiBhdXRvO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS1uYW1le1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LmJveC10b29sc3tcblx0XHRcdFx0XHRcdGRpc3BsYXk6IG5vbmU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC5ib3guY29sbGFwc2VkLWJveCAuYm94LWJvZHksLmJveC5jb2xsYXBzZWQtYm94IC5ib3gtZm9vdGVyIHtcblx0XHRcdFx0XHQgIGRpc3BsYXk6IGJsb2NrO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGJvZHl7XG5cdFx0XHRcdFx0XHRiYWNrZ3JvdW5kOiBhenVyZSAhaW1wb3J0YW50O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS10cmFjZXN7XG5cdFx0XHRcdFx0XHRwYWRkaW5nLWxlZnQ6IDE1cHg7XG5cdFx0XHRcdFx0XHRwYWRkaW5nLXJpZ2h0OiAxNXB4O1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdCN7b3B0aW9ucz8uc3R5bGVzIHx8IFwiXCJ9XG5cdFx0XHRcdDwvc3R5bGU+XG5cdFx0XHQ8L2hlYWQ+XG5cdFx0XHQ8Ym9keT5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZWVkb3Mgd29ya2Zsb3cgaW5zdGFuY2UtcHJpbnRcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic2tpbi1ncmVlbiBza2luLWFkbWluLWx0ZVwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbnRlbnQtd3JhcHBlclwiPlxuXHRcdFx0XHRcdFx0XHRcdCN7c2hvd1RyYWNlc0J0bn1cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtcHJpbnRcIj5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZSAje2luc3RhbmNlX3N0eWxlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8Zm9ybSBuYW1lPVwiaW5zdGFuY2VGb3JtXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLWZvcm0gYm94ICN7aW5zdGFuY2VCb3hTdHlsZX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7Zm9ybURlc2NyaXB0aW9uSHRtbH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJib3gtYm9keVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0nYXR0YWNobWVudHMtc2VjdGlvbic+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje2F0dGFjaG1lbnR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje3JlbGF0ZWRfaW5zdGFuY2VzfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tyZWxhdGVkX3JlY29yZHN9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tib2R5fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Zvcm0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdCN7dHJhY2V9XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvYm9keT5cblx0XHRcdDxzY3JpcHQ+I3tvcGVuRmlsZVNjcmlwdH07I3tvbkxvYWRTY3JpcHR9OyN7c2hvd1RyYWNlc1NjcmlwdH08L3NjcmlwdD5cblx0XHQ8L2h0bWw+XG5cdFwiXCJcIlxuXG5cdHJldHVybiBodG1sIiwidmFyIF9nZXRMb2NhbGUsIF9nZXRSZXF1aXJlZEZpZWxkcywgX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzLCBfZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMsIF9nZXRUZW1wbGF0ZURhdGEsIF9nZXRWaWV3SHRtbCwgZ2V0TGlua1RleHQ7ICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlID0ge307XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbnN0YW5jZV9hdHRhY2htZW50ID0gXCI8dHI+XFxuXHQ8dGQgY2xhc3M9XFxcImlucy1hdHRhY2gtdmlld1xcXCI+XFxuXHRcdDxhIGhyZWY9XFxcInt7aW5zX2F0dGFjaF9kb3dubG9hZF91cmwgX2lkIGFic29sdXRlfX1cXFwiIGNsYXNzPVxcXCJpbnNfYXR0YWNoX2hyZWZcXFwiIHRhcmdldD1cXFwiX3BhcmVudFxcXCIgZGF0YS1uYW1lPVxcXCJ7e3RoaXMubmFtZX19XFxcIiBkYXRhLXR5cGU9XFxcInt7dGhpcy5vcmlnaW5hbC50eXBlfX1cXFwiIGRhdGEtaWQ9XFxcInt7X2lkfX1cXFwiPnt7dGhpcy5uYW1lfX08L2E+XFxuXHQ8L3RkPlxcbjwvdHI+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZlNlbGVjdFVzZXJSZWFkID0gXCI8ZGl2IGNsYXNzPSdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50Jz57e3ZhbHVlfX08L2Rpdj5cIjtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmRm9ybUdyb3VwUmVhZCA9IFwiPGRpdiBjbGFzcz0nZm9ybS1ncm91cCc+XFxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XFxuXHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdzZWN0aW9uIGNhbGxvdXQgY2FsbG91dC1kZWZhdWx0Jz5cXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2ZfbGFiZWwgdGhpc319PC9sYWJlbD5cXG5cdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIHNob3dMYWJlbH19XFxuXHRcdFx0XHRcdDxsYWJlbD57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSd7e2dldENmQ2xhc3MgdGhpc319IGZvcm0tY29udHJvbCcgcmVhZG9ubHkgZGlzYWJsZWQ+e3t7Z2V0VmFsdWUgY29kZX19fTwvZGl2Plxcblx0XHRcdHt7L2lmfX1cXG5cdFx0e3svaWZ9fVxcblx0e3svd2l0aH19XFxuPC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cCA9IFwiXFxue3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuICBcdFx0XHRcdDwvZGl2Plxcblx0XHR7e2Vsc2V9fVxcblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXFxcIj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O1xcXCI+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCIgPlxcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cXFwiZGVzY3JpcHRpb25cXFwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInJlYWRvbmx5LXRhYmxlXFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1xcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDx0YWJsZSB0eXBlPSd0YWJsZScgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVxcXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cXFwie3t0aGlzLmNvZGV9fVRhYmxlXFxcIiBuYW1lPVxcXCJ7e3RoaXMuY29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7dGhpcy5uYW1lfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZCBpZD1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlQm9keSB0aGlzfX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cXG5cdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIGRhdGEtcmVxdWlyZWQ9XFxcInt7I2lmIGlzX3JlcXVpcmVkfX10cnVle3svaWZ9fVxcXCI+XFxuXHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0e3sjaWYgaXNfdGV4dGFyZWF9fVxcblx0XHRcdFx0XHRcdFx0PHRleHRhcmVhIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIHt7Z2V0UGVybWlzc2lvbnMgY29kZX19IGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPjwvdGV4dGFyZWE+XFxuXHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdHt7I3VubGVzcyBpc190ZXh0YXJlYX19XFxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIge3tnZXRQZXJtaXNzaW9ucyBjb2RlfX0gZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0e3svdW5sZXNzfX1cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbnVtYmVyJ319XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJudW1iZXJcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlJ319XFxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXR5cGU9XFxcImRhdGVcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlVGltZSd9fVxcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS10eXBlPSdkYXRldGltZScgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3Bhc3N3b3JkJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJwYXNzd29yZFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlbGVjdCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c2VsZWN0IG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiPnt7bGFiZWx9fTwvb3B0aW9uPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NlbGVjdD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncmFkaW8nfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYWYtcmFkaW8tZ3JvdXBcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcbiAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJyYWRpby1pbmxpbmUgZml4LWluZGVudFxcXCI+PGlucHV0IHR5cGU9XFxcInJhZGlvXFxcIiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIiBuYW1lPVxcXCJ7ey4uL2NvZGV9fVxcXCIgY2xhc3M9XFxcInJhZGlvLWlubGluZSBmaXgtaW5kZW50XFxcIj4ge3tsYWJlbH19PC9sYWJlbD5cXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ211bHRpU2VsZWN0J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImFmLWNoZWNrYm94LWdyb3VwXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiIG5hbWU9XFxcInt7Li4vY29kZX19XFxcIiBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPiB7e2xhYmVsfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd1cmwnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInVybFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2VtYWlsJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJlbWFpbFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2NoZWNrYm94J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImNoZWNrYm94XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIHN0eWxlPVxcXCJ3aWR0aDogMTAwJTtcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgdmFsdWU9XFxcInRydWVcXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPjwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdHt7L2lmfX1cXG5cdFx0e3svaWZ9fVxcblx0e3svd2l0aH19XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUgPSBmdW5jdGlvbih0ZW1wYWx0ZU5hbWUsIHN0ZWVkb3NEYXRhKSB7XG4gIHZhciB0ZW1wbGF0ZSwgdGVtcGxhdGVDb21waWxlZCwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbjtcbiAgdGVtcGxhdGUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGVbdGVtcGFsdGVOYW1lXTtcbiAgdGVtcGxhdGVDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRlbXBsYXRlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdID0gbmV3IEJsYXplLlRlbXBsYXRlKHRlbXBhbHRlTmFtZSwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0ID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIGluc3RhbmNlU2lnblRleHRDb21waWxlZCwgaW5zdGFuY2VTaWduVGV4dEh0bWwsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbjtcbiAgaW5zdGFuY2VTaWduVGV4dEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9zaWduX3RleHQuaHRtbCcpO1xuICBpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlU2lnblRleHRIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlU2lnblRleHRDb21waWxlZCk7XG4gIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZVNpZ25UZXh0XCIsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuaGVscGVycyhJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbiA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIHZhciBpbWFnZVNpZ25Db21waWxlZCwgaW1hZ2VTaWduSHRtbCwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb247XG4gIGltYWdlU2lnbkh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbWFnZV9zaWduLmh0bWwnKTtcbiAgaW1hZ2VTaWduQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGltYWdlU2lnbkh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uID0gZXZhbChpbWFnZVNpZ25Db21waWxlZCk7XG4gIFRlbXBsYXRlLmltYWdlU2lnbiA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImltYWdlU2lnblwiLCBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmltYWdlU2lnbi5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW1hZ2VTaWduLmhlbHBlcnMoSW1hZ2VTaWduLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICB2YXIgdHJhY2VzSGFubGRlckNvbXBpbGVkLCB0cmFjZXNIYW5sZGVySHRtbCwgdHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uO1xuICB0cmFjZXNIYW5sZGVySHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlc19oYW5kbGVyLmh0bWwnKTtcbiAgdHJhY2VzSGFubGRlckNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIYW5sZGVySHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgdHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uID0gZXZhbCh0cmFjZXNIYW5sZGVyQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlciA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlX3RyYWNlc19oYW5kbGVyXCIsIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3RyYWNlc19oYW5kbGVyLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlci5oZWxwZXJzKFRyYWNlc0hhbmRsZXIuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdCA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZlNlbGVjdFVzZXJSZWFkXCIsIHN0ZWVkb3NEYXRhKTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFwiLCBzdGVlZG9zRGF0YSk7XG4gIH1cbiAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiaW5zdGFuY2VfYXR0YWNobWVudFwiLCB7XG4gICAgICBhYnNvbHV0ZTogc3RlZWRvc0RhdGEuYWJzb2x1dGVcbiAgICB9KTtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduKHN0ZWVkb3NEYXRhKTtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlVHJhY2VzSGFubGRlcihzdGVlZG9zRGF0YSk7XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKTtcbiAgfVxufTtcblxuZ2V0TGlua1RleHQgPSBmdW5jdGlvbihpdGVtLCBsYWJlbCwgZGV0YWlsX3VybCkge1xuICBpZiAoZGV0YWlsX3VybCkge1xuICAgIGRldGFpbF91cmwgPSBkZXRhaWxfdXJsLnJlcGxhY2UoXCJ7X2lkfVwiLCBpdGVtLl9pZCk7XG4gICAgaWYgKCEvXmh0dHAocz8pOlxcL1xcLy8udGVzdChkZXRhaWxfdXJsKSkge1xuICAgICAgZGV0YWlsX3VybCA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoZGV0YWlsX3VybCk7XG4gICAgfVxuICAgIHJldHVybiAnPGEgaHJlZj1cIicgKyBkZXRhaWxfdXJsICsgJ1wiIHRhcmdldD1cIl9ibGFua1wiPicgKyBsYWJlbCArICc8L2E+JztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGFiZWw7XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBmaWVsZCwgbG9jYWxlLCB1dGNPZmZzZXQpIHtcbiAgdmFyIGRhdGUsIGRldGFpbF91cmwsIGUsIGhvdXJzLCBtb250aCwgc2Vjb25kcywgdCwgdDAsIHQxLCB5ZWFyO1xuICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSBmYWxzZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICBjYXNlICdlbWFpbCc6XG4gICAgICB2YWx1ZSA9IHZhbHVlID8gJzxhIGhyZWY9XFwnbWFpbHRvOicgKyB2YWx1ZSArICdcXCc+JyArIHZhbHVlICsgJzwvYT4nIDogJyc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd1cmwnOlxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiaHR0cFwiKSA9PT0gMCkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWx1ZSA9IFwiPGEgaHJlZj0nXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gJyc7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdncm91cCc6XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKS50b1N0cmluZygpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZnVsbG5hbWUgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICd1c2VyJzpcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKSA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLm5hbWUgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwYXNzd29yZCc6XG4gICAgICB2YWx1ZSA9ICcqKioqKionO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlICE9PSAnZmFsc2UnKSB7XG4gICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPT09IDE2KSB7XG4gICAgICAgIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgIHQwID0gdFswXS5zcGxpdChcIi1cIik7XG4gICAgICAgIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG4gICAgICAgIHllYXIgPSB0MFswXTtcbiAgICAgICAgbW9udGggPSB0MFsxXTtcbiAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICBob3VycyA9IHQxWzBdO1xuICAgICAgICBzZWNvbmRzID0gdDFbMV07XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUodmFsdWUsIHV0Y09mZnNldCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdpbnB1dCc6XG4gICAgICBpZiAoZmllbGQuaXNfdGV4dGFyZWEpIHtcbiAgICAgICAgdmFsdWUgPSBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bih2YWx1ZSkpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmICh2YWx1ZSB8fCB2YWx1ZSA9PT0gMCkge1xuICAgICAgICB2YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcodmFsdWUsIGZpZWxkLmRpZ2l0cyk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdvZGF0YSc6XG4gICAgICBkZXRhaWxfdXJsID0gZmllbGQuZGV0YWlsX3VybDtcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IF8ubWFwKHZhbHVlLCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGdldExpbmtUZXh0KGl0ZW0sIGl0ZW1bJ0BsYWJlbCddLCBkZXRhaWxfdXJsKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IGdldExpbmtUZXh0KHZhbHVlLCB2YWx1ZVsnQGxhYmVsJ10sIGRldGFpbF91cmwpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaHRtbCc6XG4gICAgICB2YWx1ZSA9IHZhbHVlID8gXCI8ZGl2IGNsYXNzPVxcXCJzdGVlZG9zLWh0bWxcXFwiPlwiICsgdmFsdWUgKyBcIjwvZGl2PlwiIDogJyc7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsID0gZnVuY3Rpb24oZmllbGRzLCBjb2RlKSB7XG4gIHZhciBmaWVsZDtcbiAgZmllbGQgPSBmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSk7XG4gIGlmIChmaWVsZCkge1xuICAgIGlmIChmaWVsZC5uYW1lKSB7XG4gICAgICByZXR1cm4gZmllbGQubmFtZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpZWxkLmNvZGU7XG4gICAgfVxuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmb3JtLCBmb3JtX2ZpZWxkcywgZm9ybV92ZXJzaW9uO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgZm9ybV92ZXJzaW9uID0ge307XG4gIGZvcm1fZmllbGRzID0gW107XG4gIGlmIChmb3JtLmN1cnJlbnQuX2lkID09PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgZm9ybV92ZXJzaW9uID0gXy53aGVyZShmb3JtLmhpc3RvcnlzLCB7XG4gICAgICBfaWQ6IGluc3RhbmNlLmZvcm1fdmVyc2lvblxuICAgIH0pWzBdO1xuICB9XG4gIGZvcm1fdmVyc2lvbi5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgaWYgKGZpZWxkLmZpZWxkcykge1xuICAgICAgICByZXR1cm4gZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGYpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgIGZpZWxkWydzZmllbGRzJ10gPSBmaWVsZFsnZmllbGRzJ107XG4gICAgICBkZWxldGUgZmllbGRbJ2ZpZWxkcyddO1xuICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZmllbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgfVxuICB9KTtcbiAgZm9ybV92ZXJzaW9uLmZpZWxkcyA9IGZvcm1fZmllbGRzO1xuICByZXR1cm4gZm9ybV92ZXJzaW9uO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZsb3csIGZsb3dfdmVyc2lvbjtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG4gIGZsb3dfdmVyc2lvbiA9IHt9O1xuICBpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uKSB7XG4gICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICB9IGVsc2Uge1xuICAgIGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge1xuICAgICAgX2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb25cbiAgICB9KVswXTtcbiAgfVxuICByZXR1cm4gZmxvd192ZXJzaW9uO1xufTtcblxuX2dldFZpZXdIdG1sID0gZnVuY3Rpb24ocGF0aCkge1xuICB2YXIgdmlld0h0bWw7XG4gIHZpZXdIdG1sID0gQXNzZXRzLmdldFRleHQocGF0aCk7XG4gIGlmICh2aWV3SHRtbCkge1xuICAgIHZpZXdIdG1sID0gdmlld0h0bWwucmVwbGFjZSgvPHRlbXBsYXRlW1xcd1xcc1xcXCJcXD0nXSs+L2ksIFwiXCIpLnJlcGxhY2UoLzxcXC90ZW1wbGF0ZT4vaSwgXCJcIik7XG4gIH1cbiAgcmV0dXJuIHZpZXdIdG1sO1xufTtcblxuX2dldExvY2FsZSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgdmFyIGxvY2FsZSwgcmVmLCByZWYxO1xuICBpZiAoKHVzZXIgIT0gbnVsbCA/IChyZWYgPSB1c2VyLmxvY2FsZSkgIT0gbnVsbCA/IHJlZi50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwIDogdm9pZCAwKSA9PT0gJ3poLWNuJykge1xuICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgfSBlbHNlIGlmICgodXNlciAhPSBudWxsID8gKHJlZjEgPSB1c2VyLmxvY2FsZSkgIT0gbnVsbCA/IHJlZjEudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCA6IHZvaWQgMCkgPT09ICdlbi11cycpIHtcbiAgICBsb2NhbGUgPSBcImVuXCI7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICB9XG4gIHJldHVybiBsb2NhbGU7XG59O1xuXG5fZ2V0UmVxdWlyZWRGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHJldikge1xuICBpZiAoIXJldikge1xuICAgIHJldiA9IFtdO1xuICB9XG4gIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgcmV0dXJuIF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZC5maWVsZHMsIHJldik7XG4gICAgfSBlbHNlIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZpZWxkLmlzX3JlcXVpcmVkKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaChmaWVsZC5jb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV2O1xufTtcblxuX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCBzdGVwcykge1xuICB2YXIgZWRpdGFibGVDb2RlLCBzdGFydFN0ZXA7XG4gIHN0YXJ0U3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwX3R5cGVcIiwgXCJzdGFydFwiKTtcbiAgZWRpdGFibGVDb2RlID0gW107XG4gIF8ua2V5cyhzdGFydFN0ZXAucGVybWlzc2lvbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKHN0YXJ0U3RlcC5wZXJtaXNzaW9uc1trZXldID09PSAnZWRpdGFibGUnKSB7XG4gICAgICByZXR1cm4gZWRpdGFibGVDb2RlLnB1c2goa2V5KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZWRpdGFibGVDb2RlO1xufTtcblxuX2dldFN0YXJ0U3RlcFJlcXVpcmVkRmllbGRzID0gZnVuY3Rpb24oZmllbGRzLCBzdGVwcykge1xuICB2YXIgZWRpdGFibGVDb2RlLCByZXF1aXJlZEZpZWxkcztcbiAgcmVxdWlyZWRGaWVsZHMgPSBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGRzKTtcbiAgZWRpdGFibGVDb2RlID0gX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKGZpZWxkcywgc3RlcHMpO1xuICByZXR1cm4gXy5pbnRlcnNlY3Rpb24ocmVxdWlyZWRGaWVsZHMsIGVkaXRhYmxlQ29kZSk7XG59O1xuXG5fZ2V0VGVtcGxhdGVEYXRhID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBmbG93LCBmb3JtLCBmb3JtX3ZlcnNpb24sIGxvY2FsZSwgc3RlZWRvc0RhdGE7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpO1xuICB9XG4gIGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcik7XG4gIHN0ZWVkb3NEYXRhID0ge307XG4gIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICBzdGVlZG9zRGF0YSA9IF8uY2xvbmUoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpKTtcbiAgICBzdGVlZG9zRGF0YS5pbnNuYW1lID0gaW5zdGFuY2UubmFtZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZTtcbiAgICBzdGVlZG9zRGF0YS5pbnNfZmluYWxfZGVjaXNpb24gPSBpbnN0YW5jZS5pbnNfZmluYWxfZGVjaXNpb247XG4gICAgc3RlZWRvc0RhdGEuaW5zX2NvZGUgPSBpbnN0YW5jZS5jb2RlO1xuICAgIHN0ZWVkb3NEYXRhLmluc19pc19hcmNoaXZlZCA9IGluc3RhbmNlLmlzX2FyY2hpdmVkO1xuICAgIHN0ZWVkb3NEYXRhLmluc19pc19kZWxldGVkID0gaW5zdGFuY2UuaW5zX2lzX2RlbGV0ZWQ7XG4gICAgc3RlZWRvc0RhdGEuYXBwbGljYW50X25hbWUgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZTtcbiAgICBzdGVlZG9zRGF0YS5hcHBsaWNhbnRDb250ZXh0ID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWU7XG4gIH1cbiAgc3RlZWRvc0RhdGEuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uID0gZm9ybV92ZXJzaW9uO1xuICBzdGVlZG9zRGF0YS5sb2NhbGUgPSBsb2NhbGU7XG4gIHN0ZWVkb3NEYXRhLnV0Y09mZnNldCA9IHVzZXIudXRjT2Zmc2V0O1xuICBzdGVlZG9zRGF0YS5zcGFjZSA9IGluc3RhbmNlLnNwYWNlO1xuICBzdGVlZG9zRGF0YS5zZXNzaW9uVXNlcklkID0gdXNlci5faWQ7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkge1xuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZvcm1cbiAgICAgIH0pO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlLmZsb3dcbiAgICAgIH0pO1xuICAgICAgc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZm9ybS5jdXJyZW50LmZpZWxkcywgZmxvdy5jdXJyZW50LnN0ZXBzKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHN0ZWVkb3NEYXRhO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlLCB1dGNPZmZzZXQpIHtcbiAgdmFyIHBhc3Npbmc7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBwYXNzaW5nID0gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcGFzc2luZyA9IHRydWU7XG4gIH1cbiAgaWYgKCF1dGNPZmZzZXQgJiYgdXRjT2Zmc2V0ICE9PSAwKSB7XG4gICAgdXRjT2Zmc2V0ID0gODtcbiAgfVxuICByZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQsIHBhc3NpbmcpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW1cIik7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCBpbnN0YW5jZUNvbXBpbGVkLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uLCBpbnN0YW5jZVRlbXBsYXRlLCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmFic29sdXRlIDogdm9pZCAwKSB7XG4gICAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuICB9XG4gIGluc3RhbmNlVGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UsIG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKTtcbiAgaW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZTZWxlY3RVc2VyL2csIFwiYWZTZWxlY3RVc2VyUmVhZFwiKTtcbiAgaWYgKCEob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkpIHtcbiAgICBpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZkZvcm1Hcm91cC9nLCBcImFmRm9ybUdyb3VwUmVhZFwiKTtcbiAgfVxuICBpbnN0YW5jZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVRlbXBsYXRlLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlX3JlYWRvbmx5X3ZpZXdcIiwgaW5zdGFuY2VSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdChzdGVlZG9zRGF0YSk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBcIjxkaXYgaWQ9J2luc3RhbmNlZm9ybScgPlxcblx0XCIgKyBib2R5ICsgXCJcXG48L2Rpdj5cIjtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCBmb3JtLCBzdGVlZG9zRGF0YSwgdHJhY2VDb21waWxlZCwgdHJhY2VSZW5kZXJGdW5jdGlvbiwgdHJhY2VzSHRtbDtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBpZiAoZm9ybS5pbnN0YW5jZV9zdHlsZSA9PT0gXCJ0YWJsZVwiIHx8IChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCkgPT09IFwidGFibGVcIikge1xuICAgIHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfdGFibGUuaHRtbCcpO1xuICB9IGVsc2Uge1xuICAgIHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXMuaHRtbCcpO1xuICB9XG4gIHRyYWNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRyYWNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwidHJhY2VfcmVhZG9ubHlfdmlld1wiLCB0cmFjZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LmhlbHBlcnMoVHJhY2VzVGVtcGxhdGUuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LCBpbnN0YW5jZS50cmFjZXMpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50VmlldyA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSkge1xuICB2YXIgYXR0YWNobWVudENvbXBpbGVkLCBhdHRhY2htZW50SHRtbCwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uLCBib2R5LCBzdGVlZG9zRGF0YTtcbiAgc3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIGF0dGFjaG1lbnRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2VfYXR0YWNobWVudHMuaHRtbCcpO1xuICBhdHRhY2htZW50Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGF0dGFjaG1lbnRIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24gPSBldmFsKGF0dGFjaG1lbnRDb21waWxlZCk7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJhdHRhY2htZW50c19yZWFkb25seV92aWV3XCIsIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5oZWxwZXJzKEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCByZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQsIHJlbGF0ZWRJbnN0YW5jZXNIdG1sLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24sIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgcmVsYXRlZEluc3RhbmNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX2luc3RhbmNlcy5odG1sJyk7XG4gIHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZEluc3RhbmNlc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXdcIiwgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LmhlbHBlcnMoUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKSB7XG4gIHZhciBib2R5LCByZWxhdGVkUmVjb3Jkc0NvbXBpbGVkLCByZWxhdGVkUmVjb3Jkc0h0bWwsIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24sIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgcmVsYXRlZFJlY29yZHNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9yZWNvcmRzLmh0bWwnKTtcbiAgcmVsYXRlZFJlY29yZHNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZFJlY29yZHNIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX3JlY29yZHNfdmlld1wiLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuaGVscGVycyhSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LCBzdGVlZG9zRGF0YSk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdCA9IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIHZhciBmb3JtX3NjcmlwdCwgZm9ybV92ZXJzaW9uO1xuICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgZm9ybV9zY3JpcHQgPSBmb3JtX3ZlcnNpb24uZm9ybV9zY3JpcHQ7XG4gIGlmIChmb3JtX3NjcmlwdCAmJiBmb3JtX3NjcmlwdC5yZXBsYWNlKC9cXG4vZywgXCJcIikucmVwbGFjZSgvXFxzL2csIFwiXCIpLmxlbmd0aCA+IDApIHtcbiAgICBmb3JtX3NjcmlwdCA9IFwiQ29yZUZvcm0gPSB7fTtDb3JlRm9ybS5pbnN0YW5jZWZvcm0gPSB7fTtcIiArIGZvcm1fc2NyaXB0O1xuICAgIHJldHVybiBmb3JtX3NjcmlwdCArPSBcIjtpZihDb3JlRm9ybS5mb3JtX09uTG9hZCl7d2luZG93Lm9ubG9hZCA9IENvcmVGb3JtLmZvcm1fT25Mb2FkKCk7fVwiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmb3JtX3NjcmlwdCA9IFwiXCI7XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGFsbENzc0xpbmssIGF0dGFjaG1lbnQsIGJvZHksIGNyZWF0b3JTZXJ2aWNlLCBjc3NIcmVmLCBmb3JtLCBmb3JtRGVzY3JpcHRpb24sIGZvcm1EZXNjcmlwdGlvbkh0bWwsIGh0bWwsIGluc19yZWNvcmRfaWRzLCBpbnN0YW5jZUJveFN0eWxlLCBpbnN0YW5jZV9zdHlsZSwgbG9jYWxlLCBvbkxvYWRTY3JpcHQsIG9wZW5GaWxlU2NyaXB0LCByZWYsIHJlZjEsIHJlbGF0ZWRfaW5zdGFuY2VzLCByZWxhdGVkX3JlY29yZHMsIHNob3dUcmFjZXNCdG4sIHNob3dUcmFjZXNTY3JpcHQsIHRyYWNlLCB0cmFjZUNoZWNrLCB3aWR0aDtcbiAgYm9keSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgb25Mb2FkU2NyaXB0ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdChpbnN0YW5jZSk7XG4gIGNyZWF0b3JTZXJ2aWNlID0gKHJlZiA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53ZWJzZXJ2aWNlcykgIT0gbnVsbCA/IChyZWYxID0gcmVmLmNyZWF0b3IpICE9IG51bGwgPyByZWYxLnVybCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgaW5zX3JlY29yZF9pZHMgPSBpbnN0YW5jZS5yZWNvcmRfaWRzO1xuICBsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpO1xuICBvcGVuRmlsZVNjcmlwdCA9IFwiaWYod2luZG93LmlzTm9kZSAmJiBpc05vZGUoKSl7XFxuXHRhdHRhY2hzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcXFwiaW5zX2F0dGFjaF9ocmVmXFxcIik7XFxuXHRmb3IodmFyIGkgPSAwOyBpIDwgYXR0YWNocy5sZW5ndGg7IGkrKyl7XFxuXHRcdGF0dGFjaCA9IGF0dGFjaHNbaV07XFxuXHRcdGF0dGFjaC5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdGlmKGlzSW1hZ2UodGhpcy5kYXRhc2V0LnR5cGUpIHx8IGlzSHRtbCh0aGlzLmRhdGFzZXQudHlwZSkpe1xcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xcblx0XHRcdFx0b3BlbldpbmRvdyhcXFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXFxcIiArIHRoaXMuZGF0YXNldC5pZCk7XFxuXHRcdFx0fWVsc2UgaWYobndfY29yZS5jYW5PcGVuRmlsZSh0aGlzLmRhdGFzZXQubmFtZSkpe1xcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xcblx0XHRcdFx0bndfY29yZS5vcGVuRmlsZSh0aGlzLmhyZWYsIHRoaXMuZGF0YXNldC5uYW1lKVxcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxufVxcblxcbnZhciBmbG93ID0gXFxcIlwiICsgaW5zdGFuY2UuZmxvdyArIFwiXFxcIjtcXG52YXIgc3BhY2UgPSBcXFwiXCIgKyBpbnN0YW5jZS5zcGFjZSArIFwiXFxcIjtcXG5cXG5mdW5jdGlvbiBnZXRDb29raWUobmFtZSl7XFxuXHRsZXQgcGF0dGVybiA9IFJlZ0V4cChuYW1lICsgXFxcIj0uW147XSpcXFwiKVxcblx0bGV0IG1hdGNoZWQgPSBkb2N1bWVudC5jb29raWUubWF0Y2gocGF0dGVybilcXG5cdGlmKG1hdGNoZWQpe1xcblx0XHRsZXQgY29va2llID0gbWF0Y2hlZFswXS5zcGxpdCgnPScpXFxuXHRcdHJldHVybiBjb29raWVbMV1cXG5cdH1cXG5cdHJldHVybiAnJ1xcbn1cXG5cXG52YXIgcmVjb3JkcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXFxcImlucy1yZWxhdGVkLXJlY29yZHNcXFwiKTtcXG5mb3IodmFyIGkgPSAwOyBpIDwgcmVjb3Jkcy5sZW5ndGg7IGkrKyl7XFxuXHRcdHZhciByZWNvcmQgPSByZWNvcmRzW2ldO1xcblx0XHRyZWNvcmQuYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2xpY2tcXFwiLCBmdW5jdGlvbihlKXtcXG5cdFx0XHR2YXIgY3JlYXRvclNlcnZpY2UgPSBcXFwiXCIgKyBjcmVhdG9yU2VydmljZSArIFwiXFxcIlxcblx0XHRcdHZhciBpbnNfcmVjb3JkX2lkcyA9IFwiICsgKEpTT04uc3RyaW5naWZ5KGluc19yZWNvcmRfaWRzKSkgKyBcIlxcblx0XHRcdGlmKGNyZWF0b3JTZXJ2aWNlICYmIGluc19yZWNvcmRfaWRzICYmIGluc19yZWNvcmRfaWRzLmxlbmd0aCA+IDApe1xcblx0XHRcdFx0dmFyIG9iamNldE5hbWUgPSBpbnNfcmVjb3JkX2lkc1swXS5vXFxuXHRcdFx0XHR2YXIgaWQgPSBpbnNfcmVjb3JkX2lkc1swXS5pZHNbMF1cXG5cdFx0XHRcdHZhciB1b2JqID0ge307XFxuXHRcdFx0XHR1b2JqW1xcXCJYLVVzZXItSWRcXFwiXSA9IGdldENvb2tpZShcXFwiWC1Vc2VyLUlkXFxcIik7XFxuXHRcdFx0XHR1b2JqW1xcXCJYLUF1dGgtVG9rZW5cXFwiXSA9IGdldENvb2tpZShcXFwiWC1BdXRoLVRva2VuXFxcIik7XFxuXHRcdFx0XHRyZWRpcmVjdFVybCA9IGNyZWF0b3JTZXJ2aWNlICsgXFxcImFwcC8tL1xcXCIgKyBvYmpjZXROYW1lICsgXFxcIi92aWV3L1xcXCIgKyBpZCArIFxcXCI/XFxcIiArICQucGFyYW0odW9iaik7XFxuXHRcdFx0XHRvcGVuV2luZG93KHJlZGlyZWN0VXJsKTtcXG5cdFx0XHR9XFxuXHRcdH0pO1xcblx0fVxcblwiO1xuICBpZiAoIVN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICAgIGlmICgoZm9ybSAhPSBudWxsID8gZm9ybS5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICAgIGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiO1xuICAgIH1cbiAgfVxuICBpZiAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgIGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiO1xuICB9XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSB7XG4gICAgaW5zdGFuY2Vfc3R5bGUgPSBvcHRpb25zLmluc3RhbmNlX3N0eWxlO1xuICB9XG4gIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLnNob3dUcmFjZSA9PT0gdHJ1ZSkge1xuICAgIHRyYWNlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFjZSA9IFwiXCI7XG4gIH1cbiAgaW5zdGFuY2VCb3hTdHlsZSA9IFwiXCI7XG4gIGlmIChpbnN0YW5jZSAmJiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvbikge1xuICAgIGlmIChpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICBpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtc3VjY2Vzc1wiO1xuICAgIH0gZWxzZSBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgaW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LWRhbmdlclwiO1xuICAgIH1cbiAgfVxuICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPT09IHRydWUpIHtcbiAgICBhdHRhY2htZW50ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gICAgcmVsYXRlZF9pbnN0YW5jZXMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgICByZWxhdGVkX3JlY29yZHMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgYXR0YWNobWVudCA9IFwiXCI7XG4gICAgcmVsYXRlZF9pbnN0YW5jZXMgPSBcIlwiO1xuICAgIHJlbGF0ZWRfcmVjb3JkcyA9IFwiXCI7XG4gIH1cbiAgd2lkdGggPSBcIjk2MHB4XCI7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLndpZHRoIDogdm9pZCAwKSB7XG4gICAgd2lkdGggPSBcIlwiO1xuICB9XG4gIGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJzdGVlZG9zLWNzc1wiKTtcbiAgYWxsQ3NzTGluayA9IFwiPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgY2xhc3M9XFxcIl9fbWV0ZW9yLWNzc19fXFxcIiBocmVmPVxcXCJcIiArIGNzc0hyZWYgKyBcIlxcXCI+XCI7XG4gIHRyYWNlQ2hlY2sgPSBcIlwiO1xuICBpZiAoIV8uaXNFbXB0eSh0cmFjZSkpIHtcbiAgICB0cmFjZUNoZWNrID0gXCJjaGVja2VkXCI7XG4gIH1cbiAgaWYgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRhZ2dlciA6IHZvaWQgMCkgPT09ICdlbWFpbCcgfHwgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuZWRpdGFibGUgOiB2b2lkIDApKSB7XG4gICAgc2hvd1RyYWNlc0J0biA9IFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgc2hvd1RyYWNlc0J0biA9IFwiPGRpdiBjbGFzcz1cXFwibmF2aWdhdGlvbi1iYXIgYnRuLWdyb3VwIG5vLXByaW50XFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiA2MDBweDsgei1pbmRleDogOTk5XFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcInByaW50LXRvb2xcXFwiPlxcblx0XHQ8bGFiZWwgY2xhc3M9XFxcImNieC1sYWJlbFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiY2J4LXByaW50IGNieC1wcmludC1hdHRhY2htZW50c1xcXCIgaWQ9XFxcImNieC1wcmludC1hdHRhY2htZW50c1xcXCIgY2hlY2tlZD1cXFwiY2hlY2tlZFxcXCI+PHNwYW4+XCIgKyAoVEFQaTE4bi5fXygnaW5zdGFuY2VfYXR0YWNobWVudCcsIHt9LCBsb2NhbGUpKSArIFwiPC9zcGFuPjwvbGFiZWw+XFxuXHRcdDxsYWJlbCBjbGFzcz1cXFwiY2J4LWxhYmVsXFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJjYngtcHJpbnQgY2J4LXByaW50LXRyYWNlc1xcXCIgaWQ9XFxcImNieC1wcmludC10cmFjZXNcXFwiIGNoZWNrZWQ9XFxcIlwiICsgdHJhY2VDaGVjayArIFwiXFxcIj48c3Bhbj5cIiArIChUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZhbF9oaXN0b3J5Jywge30sIGxvY2FsZSkpICsgXCI8L3NwYW4+PC9sYWJlbD5cXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICB9XG4gIHNob3dUcmFjZXNTY3JpcHQgPSBcIiQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKXtcXG5cdHZhciBiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC10cmFjZXMnKTtcXG5cdHZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5zdGFuY2UtdHJhY2VzJylbMF07XFxuXHRpZiAoYiAmJiBiLmNoZWNrZWQgJiYgdCl7XFxuXHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0fSBlbHNlIGlmKHQpe1xcblx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0fVxcblx0aWYoYil7XFxuXHRcdGIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XFxuXHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHRcdFx0fSBlbHNlIHtcXG5cdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG5cXG5cXG5cdHZhciBhdHRhY2htZW50c0NoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC1hdHRhY2htZW50cycpO1xcblx0dmFyIGF0dGFjaG1lbnRzVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0dGFjaG1lbnRzLXNlY3Rpb24nKVswXTtcXG5cdGlmIChhdHRhY2htZW50c0NoZWNrYm94ICYmIGF0dGFjaG1lbnRzQ2hlY2tib3guY2hlY2tlZCAmJiBhdHRhY2htZW50c1ZpZXcpe1xcblx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0fSBlbHNlIGlmKGF0dGFjaG1lbnRzVmlldyl7XFxuXHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdH1cXG5cdGlmKGF0dGFjaG1lbnRzQ2hlY2tib3gpe1xcblx0XHRhdHRhY2htZW50c0NoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcXG5cdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHRcdFx0fSBlbHNlIHtcXG5cdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdFx0XHR9XFxuXHRcdH0pO1xcblx0fVxcbn0pO1xcblwiO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5zdHlsZXMgOiB2b2lkIDApIHtcbiAgICBhbGxDc3NMaW5rID0gXCJcIjtcbiAgfVxuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZS5mb3JtXG4gIH0pO1xuICBmb3JtRGVzY3JpcHRpb25IdG1sID0gXCJcIjtcbiAgaWYgKGZvcm0pIHtcbiAgICBmb3JtRGVzY3JpcHRpb24gPSBmb3JtLmRlc2NyaXB0aW9uO1xuICAgIGlmIChmb3JtRGVzY3JpcHRpb24pIHtcbiAgICAgIGZvcm1EZXNjcmlwdGlvbiA9IGZvcm1EZXNjcmlwdGlvbi5yZXBsYWNlKC9cXG4vZywgXCI8YnIvPlwiKTtcbiAgICAgIGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIjxkaXYgY2xhc3M9XFxcImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyIGluc3RhbmNlLWhlYWRlclxcXCI+XFxuXHQ8ZGl2Plxcblx0XHRcIiArIGZvcm1EZXNjcmlwdGlvbiArIFwiXFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgICB9XG4gIH1cbiAgaHRtbCA9IFwiPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+XFxuXHQ8aGVhZD5cXG5cdFx0PG1ldGEgaHR0cC1lcXVpdj1cXFwiQ29udGVudC1UeXBlXFxcIiBjb250ZW50PVxcXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcXFwiLz5cXG5cdFx0XCIgKyBhbGxDc3NMaW5rICsgXCJcXG5cdFx0PHNjcmlwdCBzcmM9XFxcImh0dHBzOi8vd3d3LnN0ZWVkb3MuY29tL3dlYnNpdGUvbGlicy9qcXVlcnkubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0Plxcblx0XHQ8c2NyaXB0IHNyYz1cXFwiL2pzL253X2NvcmUuanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuXHRcdFwiICsgKG9wdGlvbnMucGx1Z2lucyB8fCBcIlwiKSArIFwiXFxuXFxuXHRcdDxzdHlsZT5cXG5cdFx0XHQuc3RlZWRvc3tcXG5cdFx0XHRcdHdpZHRoOiBcIiArIHdpZHRoICsgXCI7XFxuXHRcdFx0XHRtYXJnaW4tbGVmdDogYXV0bztcXG5cdFx0XHRcdG1hcmdpbi1yaWdodDogYXV0bztcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLW5hbWV7XFxuXHRcdFx0XHRkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudFxcblx0XHRcdH1cXG5cdFx0XHQuYm94LXRvb2xze1xcblx0XHRcdFx0ZGlzcGxheTogbm9uZTtcXG5cdFx0XHR9XFxuXHRcdFx0LmJveC5jb2xsYXBzZWQtYm94IC5ib3gtYm9keSwuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1mb290ZXIge1xcblx0XHRcdCAgZGlzcGxheTogYmxvY2s7XFxuXHRcdFx0fVxcblxcblx0XHRcdGJvZHl7XFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiBhenVyZSAhaW1wb3J0YW50O1xcblx0XHRcdH1cXG5cXG5cdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtdHJhY2Vze1xcblx0XHRcdFx0cGFkZGluZy1sZWZ0OiAxNXB4O1xcblx0XHRcdFx0cGFkZGluZy1yaWdodDogMTVweDtcXG5cdFx0XHR9XFxuXFxuXHRcdFx0XCIgKyAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuc3R5bGVzIDogdm9pZCAwKSB8fCBcIlwiKSArIFwiXFxuXHRcdDwvc3R5bGU+XFxuXHQ8L2hlYWQ+XFxuXHQ8Ym9keT5cXG5cdFx0PGRpdiBjbGFzcz1cXFwic3RlZWRvcyB3b3JrZmxvdyBpbnN0YW5jZS1wcmludFxcXCI+XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwic2tpbi1ncmVlbiBza2luLWFkbWluLWx0ZVxcXCI+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJ3cmFwcGVyXFxcIj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiY29udGVudC13cmFwcGVyXFxcIj5cXG5cdFx0XHRcdFx0XHRcIiArIHNob3dUcmFjZXNCdG4gKyBcIlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLXByaW50XFxcIj5cXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlIFwiICsgaW5zdGFuY2Vfc3R5bGUgKyBcIlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDxmb3JtIG5hbWU9XFxcImluc3RhbmNlRm9ybVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UtZm9ybSBib3ggXCIgKyBpbnN0YW5jZUJveFN0eWxlICsgXCJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBmb3JtRGVzY3JpcHRpb25IdG1sICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImJveC1ib2R5XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdhdHRhY2htZW50cy1zZWN0aW9uJz5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgYXR0YWNobWVudCArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIHJlbGF0ZWRfaW5zdGFuY2VzICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgcmVsYXRlZF9yZWNvcmRzICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGJvZHkgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHQ8L2Zvcm0+XFxuXHRcdFx0XHRcdFx0XHRcdFwiICsgdHJhY2UgKyBcIlxcblx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0PC9kaXY+XFxuXHRcdDwvZGl2Plxcblx0PC9ib2R5Plxcblx0PHNjcmlwdD5cIiArIG9wZW5GaWxlU2NyaXB0ICsgXCI7XCIgKyBvbkxvYWRTY3JpcHQgKyBcIjtcIiArIHNob3dUcmFjZXNTY3JpcHQgKyBcIjwvc2NyaXB0PlxcbjwvaHRtbD5cIjtcbiAgcmV0dXJuIGh0bWw7XG59O1xuIiwiVGVtcGxhdGVNYW5hZ2VyID0ge307XG5cbmZvcm1JZCA9ICdpbnN0YW5jZWZvcm0nO1xuXG5cblRlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSA9ICgpLT5cblx0cGFnZVRpdGxlID0gXCJcIlwiXG5cdFx0e3tpbnN0YW5jZS5uYW1lfX1cblx0XCJcIlwiXG5cblx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiaW5zdGFuY2UtbmFtZVwiXG5cblx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZVxuXHRcdHBhZ2VUaXRsZSA9IFwiXCJcIlxuXHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT1cIiN7Q29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lfVwiIGxhYmVsPWZhbHNlfX1cblx0XHRcIlwiXCJcblx0XHRwYWdlVGl0bGVUckNsYXNzID0gXCJcIlxuXG5cdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVcblx0XHRwYWdlVGl0bGUgPSBcIlwiXCJcblx0XHRcdCN7Q29yZUZvcm0ucGFnZVRpdGxlfVxuXHRcdFwiXCJcIlxuXHRcdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiXG5cblx0dmFsID1cblx0XHRwYWdlVGl0bGU6IHBhZ2VUaXRsZVxuXHRcdHBhZ2VUaXRsZVRyQ2xhc3M6IHBhZ2VUaXRsZVRyQ2xhc3NcblxuXHRyZXR1cm4gdmFsXG5cblRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlID0gKGluc3RhbmNlLCBfZXhwb3J0KSAtPlxuXG5cdHRlbXBsYXRlID0gXCJcIlwiXG5cdDxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cblx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZS1wYWdlLXRpdGxlIGZvcm0tdGFibGUgbm8tYm9yZGVyIHRleHQtYWxpZ24tY2VudGVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTtkaXNwbGF5OiBpbmxpbmUtdGFibGU7XCI+XG5cdFx0XHQ8dHIgY2xhc3M9XCIje3RoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGVUckNsYXNzfVwiPlxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJpbnN0YW5jZS10YWJsZS1uYW1lLXRkIHBhZ2UtdGl0bGVcIj5cblx0XHRcdFx0XHQje3RoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGV9XG5cdFx0XHRcdDwvdGQ+XG5cdFx0XHQ8L3RyPlxuXG5cdFx0PC90YWJsZT5cblx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZS1wYWdlLWJvZHkgZm9ybS10YWJsZVwiPlxuXHRcdFx0XHQ8dHIgc3R5bGU9XCJoZWlnaHQ6MHB4XCI+XG5cdFx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxuXHRcdFx0XHRcdDx0aD48L3RoPlxuXHRcdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cblx0XHRcdFx0XHQ8dGg+PC90aD5cblx0XHRcdFx0PC90cj5cblx0XCJcIlwiO1xuXG5cdHRhYmxlX2ZpZWxkcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudGFibGVfZmllbGRzKGluc3RhbmNlKVxuXG5cdHRhYmxlX2ZpZWxkcy5mb3JFYWNoICh0YWJsZV9maWVsZCktPlxuXG5cdFx0cmVxdWlyZWQgPSBcIlwiXG5cdFx0aWYgIUNvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWUgfHwgQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSAhPSB0YWJsZV9maWVsZC5jb2RlXG5cdFx0XHRpZiB0YWJsZV9maWVsZC5pc19yZXF1aXJlZFxuXHRcdFx0XHRyZXF1aXJlZCA9IFwiaXMtcmVxdWlyZWRcIlxuXG5cdFx0XHRpZiBfZXhwb3J0XG5cdFx0XHRcdHJlcXVpcmVkID0gXCJcIjtcblxuXHRcdFx0cHVyZUNvZGUgPSBTdGVlZG9zLnJlbW92ZVNwZWNpYWxDaGFyYWN0ZXIodGFibGVfZmllbGQuY29kZSk7XG5cblx0XHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGQodGFibGVfZmllbGQpXG5cdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0XG5cdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlICN7cmVxdWlyZWR9XCI+XG5cdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIn19XG5cdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCBvcGluaW9uLWZpZWxkIG9waW5pb24tZmllbGQtI3twdXJlQ29kZX0gYXV0b21hdGljXCIgY29sc3BhbiA9IFwiI3t0YWJsZV9maWVsZC50ZF9jb2xzcGFufVwiPlxuXHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIn19XG5cdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZFxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGVzKHRhYmxlX2ZpZWxkLnR5cGUsICdzZWN0aW9uLHRhYmxlJylcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxuXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtY2hpbGRmaWVsZCB0ZC1jaGlsZGZpZWxkLSN7cHVyZUNvZGV9XCIgY29sc3BhbiA9IFwiI3t0YWJsZV9maWVsZC50ZF9jb2xzcGFufVwiPlxuXHRcdFx0XHRcdFx0ICAge3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCIgbGFiZWw9ZmFsc2V9fVxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0XG5cblx0XHRcdFx0XHRpZiBfZXhwb3J0XG5cdFx0XHRcdFx0XHR0aXRsZV9wZXJtaXNzaW9uID0gXCJcIlxuXHRcdFx0XHRcdFx0ZmllbGRfcGVybWlzc2lvbiA9IFwiXCJcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHR0aXRsZV9wZXJtaXNzaW9uID0gXCJ0aXRsZS1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb25cblx0XHRcdFx0XHRcdGZpZWxkX3Blcm1pc3Npb24gPSBcImZpZWxkLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvblxuXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSB0ZC10aXRsZS0je3B1cmVDb2RlfSAje3RpdGxlX3Blcm1pc3Npb259ICN7cmVxdWlyZWR9XCI+XG5cdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwifX1cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCB0ZC1maWVsZC0je3B1cmVDb2RlfSAje2ZpZWxkX3Blcm1pc3Npb259XCIgY29sc3BhbiA9IFwiI3t0YWJsZV9maWVsZC50ZF9jb2xzcGFufVwiPlxuXHRcdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIiBsYWJlbD1mYWxzZX19XG5cdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZFxuXG5cdHRlbXBsYXRlICs9IFwiXCJcIlxuXHRcdDwvdGFibGU+XG5cblx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZS1wYWdlLWZvb3RlciBmb3JtLXRhYmxlIG5vLWJvcmRlclwiPlxuXHRcdFx0PHRyIGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXJcIj5cblx0XHRcdFx0PHRkIGNsYXNzPVwibm93cmFwXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7X3QgXCJpbnN0YW5jZV9pbml0aWF0b3JcIn1977yaPC9sYWJlbD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10YWJsZS13cmFwcGVyLXRkIGlubGluZS1sZWZ0Jz5cblx0XHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC90ZD5cblx0XHRcdFx0PHRkIGNsYXNzPVwibm93cmFwXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0ncHVsbC1sZWZ0Jz5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cblx0XHRcdFx0XHRcdFx0PGxhYmVsPnt7X3QgXCJpbnN0YW5jZV9zdWJtaXRfZGF0ZVwifX3vvJo8L2xhYmVsPlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtcmlnaHQnPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdHt7Zm9ybWF0RGF0ZSBpbnN0YW5jZS5zdWJtaXRfZGF0ZSAne1wiZm9ybWF0XCI6XCJZWVlZLU1NLUREXCJ9J319XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvdGQ+XG5cdFx0XHQ8L3RyPlxuXHRcdDwvdGFibGU+XG5cdDwvZGl2PlxuXHRcIlwiXCJcblx0cmV0dXJuIHRlbXBsYXRlXG5cbiPmraTlpITmqKHmnb/lhaznlKjkuI7vvJppbnN0YW5jZSDnvJbovpHjgIHmn6XnnIvjgIHmiZPljbDjgIHovazlj5Hml7bnlJ/miJDpmYTku7bjgIHlj5HpgIHpgq7ku7Zib2R56YOo5YiGKHRhYmxlIOaooeadvylcbiPlpoLmnpzmnInkv67mlLnvvIzor7fmtYvor5Xnoa7orqTlhbbku5blip/og73mmK/lkKbmraPluLjjgIJcblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUgPVxuXHRkZWZhdWx0OiAoaW5zdGFuY2UpLT5cblxuXHRcdHRlbXBsYXRlID0gXCJcIlwiXG5cdFx0XHQ8ZGl2IGNsYXNzPVwid2l0aC1ib3JkZXIgY29sLW1kLTEyXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZS1uYW1lXCI+XG5cdFx0XHRcdFx0PGgzIGNsYXNzPVwiYm94LXRpdGxlXCI+I3tUZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGV9PC9oMz5cblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdHt7I2VhY2ggc3RlZWRvc19mb3JtLmZpZWxkc319XG5cdFx0XHRcdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwIGF1dG9tYXRpYyBvcGluaW9uLWZpZWxkLXt7dGhpcy5jb2RlfX1cIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19PC9sYWJlbD5cblxuXHRcdFx0XHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPXRoaXMuY29kZX19XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHR7eyNpZiBpbmNsdWRlcyB0aGlzLnR5cGUgJ3NlY3Rpb24sdGFibGUnfX1cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cIj5cblx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZX19XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdHt7L2lmfX1cblx0XHRcdHt7L2VhY2h9fVxuXHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMlwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXIgZm9ybS1ncm91cCBmb3JtLWhvcml6b250YWxcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImlucHV0LWdyb3VwLWFkZG9uXCI+XG5cdFx0XHRcdFx0ICB7e190IFwiaW5zdGFuY2VfaW5pdGlhdG9yXCJ9fSZuYnNwOzpcblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cImFmU2VsZWN0VXNlclwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XG5cdFx0XHRcdCAgPC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XCJcIlwiXG5cdFx0cmV0dXJuIHRlbXBsYXRlXG5cblx0dGFibGU6IChpbnN0YW5jZSktPlxuXHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZShpbnN0YW5jZSlcbiNcdHRhYmxlOiAnJydcbiNcdFx0PHRhYmxlIGNsYXNzPVwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcIj5cbiNcdFx0XHQ8dHIgY2xhc3M9XCJpbnN0YW5jZS1uYW1lXCI+XG4jXHRcdFx0XHQ8dGQgY2xhc3M9XCJpbnN0YW5jZS10YWJsZS1uYW1lLXRkXCI+XG4jXHRcdFx0XHRcdDxoMyBjbGFzcz1cImJveC10aXRsZVwiPnt7aW5zdGFuY2UubmFtZX19PC9oMz5cbiNcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJoZWxwLWJsb2NrXCI+PC9zcGFuPlxuI1x0XHRcdFx0PC90ZD5cbiNcdFx0XHQ8L3RyPlxuIyAgICAgICAgICAgIDx0ciBjbGFzcz1cImFwcGxpY2FudC13cmFwcGVyXCI+XG4jXHRcdFx0XHQ8dGQgY2xhc3M9XCJpbnN0YW5jZS10YWJsZS13cmFwcGVyLXRkXCI+XG4jXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e190IFwiaW5zdGFuY2VfaW5pdGlhdG9yXCJ9fSZuYnNwOzo8L2xhYmVsPlxuI1x0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cImFmU2VsZWN0VXNlclwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XG4jXHRcdFx0XHQ8L3RkPlxuI1x0XHRcdDwvdHI+XG4jICAgICAgICA8L3RhYmxlPlxuI1x0XHQ8dGFibGUgY2xhc3M9XCJmb3JtLXRhYmxlXCI+XG4jXHRcdCAgICB7eyNlYWNoIHRhYmxlX2ZpZWxkc319XG4jXHRcdFx0XHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cbiNcdFx0XHRcdFx0e3t7dHJfc3RhcnR9fX1cbiNcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSB7eyNpZiBpc19yZXF1aXJlZH19aXMtcmVxdWlyZWR7ey9pZn19XCI+XG4jXHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fVxuI1x0XHRcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgb3Bpbmlvbi1maWVsZFwiIGNvbHNwYW4gPSAne3t0ZF9jb2xzcGFufX0nPlxuI1x0XHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgc3RlcD0oZ2V0T3BpbmlvbkZpZWxkU3RlcE5hbWUgdGhpcykgZGVmYXVsdD0nJ319XG4jXHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0e3t7dHJfZW5kfX19XG4jXHRcdFx0XHR7e2Vsc2V9fVxuI1x0XHRcdFx0XHR7eyNpZiBpbmNsdWRlcyB0aGlzLnR5cGUgJ3NlY3Rpb24sdGFibGUnfX1cbiNcdFx0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtY2hpbGRmaWVsZFwiIGNvbHNwYW4gPSAne3t0ZF9jb2xzcGFufX0nPlxuI1x0XHRcdFx0XHRcdFx0ICAge3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0XHRcdFx0e3t7dHJfZW5kfX19XG4jXHRcdFx0XHRcdHt7ZWxzZX19XG4jXHRcdFx0XHRcdFx0e3t7dHJfc3RhcnR9fX1cbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlIHt7I2lmIGlzX3JlcXVpcmVkfX1pcy1yZXF1aXJlZHt7L2lmfX1cIj5cbiNcdFx0XHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX1cbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCB7e3Blcm1pc3Npb259fVwiIGNvbHNwYW4gPSAne3t0ZF9jb2xzcGFufX0nPlxuI1x0XHRcdFx0XHRcdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxuI1x0XHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHR7e3t0cl9lbmR9fX1cbiNcdFx0XHRcdFx0e3svaWZ9fVxuI1x0XHRcdFx0e3svaWZ9fVxuI1xuI1x0XHQgICAge3svZWFjaH19XG4jXHRcdDwvdGFibGU+XG4jXHQnJydcblxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZUhlbHBzID1cblx0YXBwbGljYW50Q29udGV4dDogLT5cblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0ZGF0YSA9IHtcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdGF0dHM6IHtcblx0XHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0XHRpZDogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0XHRjbGFzczogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sJyxcblx0XHRcdFx0c3R5bGU6ICdwYWRkaW5nOjZweCAxMnB4O3dpZHRoOjE0MHB4O2Rpc3BsYXk6aW5saW5lJ1xuXHRcdFx0fVxuXHRcdH1cbiNcdFx0aWYgbm90IHN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCJcblx0XHRkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlXG5cdFx0cmV0dXJuIGRhdGE7XG5cbmluc3RhbmNlSWQ6IC0+XG5cdHJldHVybiAnaW5zdGFuY2Vmb3JtJzsjXCJpbnN0YW5jZV9cIiArIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKTtcblxuZm9ybV90eXBlczogLT5cblx0aWYgQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cdFx0cmV0dXJuICdkaXNhYmxlZCc7XG5cdGVsc2Vcblx0XHRyZXR1cm4gJ21ldGhvZCc7XG5cbnN0ZWVkb3NfZm9ybTogLT5cblx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxuXG5pbm5lcnN1YmZvcm1Db250ZXh0OiAob2JqKS0+XG5cdGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG5cdG9ialtcInRhYmxlVmFsdWVzXCJdID0gaWYgZG9jX3ZhbHVlcyB0aGVuIGRvY192YWx1ZXNbb2JqLmNvZGVdIGVsc2UgW11cblx0b2JqW1wiZm9ybUlkXCJdID0gZm9ybUlkO1xuXHRyZXR1cm4gb2JqO1xuXG5pbnN0YW5jZTogLT5cblx0U2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKVxuXHRpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKVxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRyZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcblxuZXF1YWxzOiAoYSwgYikgLT5cblx0cmV0dXJuIChhID09IGIpXG5cbmluY2x1ZGVzOiAoYSwgYikgLT5cblx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcblxuZmllbGRzOiAtPlxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRpZiBmb3JtX3ZlcnNpb25cblx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuXG5kb2NfdmFsdWVzOiAtPlxuXHRXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG5cbmluc3RhbmNlX2JveF9zdHlsZTogLT5cblx0Ym94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIilcblx0aWYgYm94ID09IFwiaW5ib3hcIiB8fCBib3ggPT0gXCJkcmFmdFwiXG5cdFx0anVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpXG5cdFx0aWYganVkZ2Vcblx0XHRcdGlmIChqdWRnZSA9PSBcImFwcHJvdmVkXCIpXG5cdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRcdGVsc2UgaWYgKGp1ZGdlID09IFwicmVqZWN0ZWRcIilcblx0XHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXG5cdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRpZiBpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uXG5cdFx0aWYgaW5zLmZpbmFsX2RlY2lzaW9uID09IFwiYXBwcm92ZWRcIlxuXHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxuXHRcdGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcblxuXG5UZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUgPSAoaW5zdGFuY2UsIHRlbXBsYXRlTmFtZSkgLT5cblx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXG5cdGlmIHRlbXBsYXRlTmFtZVxuXHRcdGlmIHRlbXBsYXRlTmFtZSA9PSAndGFibGUnXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSlcblx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXG5cdGlmIFNlc3Npb24/LmdldChcImluc3RhbmNlUHJpbnRcIilcblx0XHRpZiBmbG93Py5wcmludF90ZW1wbGF0ZVxuXHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5wcmludF90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcblx0XHRlbHNlXG5cdFx0XHRpZiBmbG93Py5pbnN0YW5jZV90ZW1wbGF0ZVxuXHRcdFx0XHRyZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIlxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSlcblx0ZWxzZVxuXHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcblxuXHRcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXG5cdFx0XHRyZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIlxuXG5cdFx0aWYgZm9ybT8uaW5zdGFuY2Vfc3R5bGVcblx0XHRcdGlmIGZvcm0uaW5zdGFuY2Vfc3R5bGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSlcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcblxuI1RlbXBsYXRlTWFuYWdlci5leHBvcnRUZW1wbGF0ZSA9IChmbG93SWQpIC0+XG4jXHR0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShmbG93SWQpO1xuI1xuI1x0ZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRGbG93KGZsb3dJZCk7XG4jXG4jXHRpZiBmbG93Py5pbnN0YW5jZV90ZW1wbGF0ZVxuI1x0XHRyZXR1cm4gdGVtcGxhdGU7XG4jXG4jXHRyZXR1cm4gdGVtcGxhdGU7XG5cbiIsInZhciBmb3JtSWQ7ICAgICAgICAgICAgICAgICBcblxuVGVtcGxhdGVNYW5hZ2VyID0ge307XG5cbmZvcm1JZCA9ICdpbnN0YW5jZWZvcm0nO1xuXG5UZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhZ2VUaXRsZSwgcGFnZVRpdGxlVHJDbGFzcywgdmFsO1xuICBwYWdlVGl0bGUgPSBcInt7aW5zdGFuY2UubmFtZX19XCI7XG4gIHBhZ2VUaXRsZVRyQ2xhc3MgPSBcImluc3RhbmNlLW5hbWVcIjtcbiAgaWYgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkge1xuICAgIHBhZ2VUaXRsZSA9IFwie3s+IGFmRm9ybUdyb3VwIG5hbWU9XFxcIlwiICsgQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lICsgXCJcXFwiIGxhYmVsPWZhbHNlfX1cIjtcbiAgICBwYWdlVGl0bGVUckNsYXNzID0gXCJcIjtcbiAgfVxuICBpZiAodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlIDogdm9pZCAwKSB7XG4gICAgcGFnZVRpdGxlID0gXCJcIiArIENvcmVGb3JtLnBhZ2VUaXRsZTtcbiAgICBwYWdlVGl0bGVUckNsYXNzID0gXCJcIjtcbiAgfVxuICB2YWwgPSB7XG4gICAgcGFnZVRpdGxlOiBwYWdlVGl0bGUsXG4gICAgcGFnZVRpdGxlVHJDbGFzczogcGFnZVRpdGxlVHJDbGFzc1xuICB9O1xuICByZXR1cm4gdmFsO1xufTtcblxuVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgX2V4cG9ydCkge1xuICB2YXIgdGFibGVfZmllbGRzLCB0ZW1wbGF0ZTtcbiAgdGVtcGxhdGUgPSBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cXG5cdDx0YWJsZSBjbGFzcz1cXFwidGFibGUtcGFnZS10aXRsZSBmb3JtLXRhYmxlIG5vLWJvcmRlciB0ZXh0LWFsaWduLWNlbnRlclxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcXFwiPlxcblx0XHQ8dHIgY2xhc3M9XFxcIlwiICsgKHRoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGVUckNsYXNzKSArIFwiXFxcIj5cXG5cdFx0XHQ8dGQgY2xhc3M9XFxcImluc3RhbmNlLXRhYmxlLW5hbWUtdGQgcGFnZS10aXRsZVxcXCI+XFxuXHRcdFx0XHRcIiArICh0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlKSArIFwiXFxuXHRcdFx0PC90ZD5cXG5cdFx0PC90cj5cXG5cXG5cdDwvdGFibGU+XFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtYm9keSBmb3JtLXRhYmxlXFxcIj5cXG5cdFx0XHQ8dHIgc3R5bGU9XFxcImhlaWdodDowcHhcXFwiPlxcblx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxcblx0XHRcdFx0PHRoPjwvdGg+XFxuXHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XFxuXHRcdFx0XHQ8dGg+PC90aD5cXG5cdFx0XHQ8L3RyPlwiO1xuICB0YWJsZV9maWVsZHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRhYmxlX2ZpZWxkcyhpbnN0YW5jZSk7XG4gIHRhYmxlX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlX2ZpZWxkKSB7XG4gICAgdmFyIGZpZWxkX3Blcm1pc3Npb24sIHB1cmVDb2RlLCByZXF1aXJlZCwgdGl0bGVfcGVybWlzc2lvbjtcbiAgICByZXF1aXJlZCA9IFwiXCI7XG4gICAgaWYgKCEodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSB8fCAodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSAhPT0gdGFibGVfZmllbGQuY29kZSkge1xuICAgICAgaWYgKHRhYmxlX2ZpZWxkLmlzX3JlcXVpcmVkKSB7XG4gICAgICAgIHJlcXVpcmVkID0gXCJpcy1yZXF1aXJlZFwiO1xuICAgICAgfVxuICAgICAgaWYgKF9leHBvcnQpIHtcbiAgICAgICAgcmVxdWlyZWQgPSBcIlwiO1xuICAgICAgfVxuICAgICAgcHVyZUNvZGUgPSBTdGVlZG9zLnJlbW92ZVNwZWNpYWxDaGFyYWN0ZXIodGFibGVfZmllbGQuY29kZSk7XG4gICAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZCh0YWJsZV9maWVsZCkpIHtcbiAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPVxcXCJ0ZC10aXRsZSBcIiArIHJlcXVpcmVkICsgXCJcXFwiPlxcblx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIn19XFxuPC90ZD5cXG48dGQgY2xhc3M9XFxcInRkLWZpZWxkIG9waW5pb24tZmllbGQgb3Bpbmlvbi1maWVsZC1cIiArIHB1cmVDb2RlICsgXCIgYXV0b21hdGljXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG5cdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIn19XFxuPC90ZD5cIjtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGVzKHRhYmxlX2ZpZWxkLnR5cGUsICdzZWN0aW9uLHRhYmxlJykpIHtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtY2hpbGRmaWVsZCB0ZC1jaGlsZGZpZWxkLVwiICsgcHVyZUNvZGUgKyBcIlxcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuICAge3s+IGFmRm9ybUdyb3VwIG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XFxuPC90ZD5cIjtcbiAgICAgICAgICByZXR1cm4gdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICAgIGlmIChfZXhwb3J0KSB7XG4gICAgICAgICAgICB0aXRsZV9wZXJtaXNzaW9uID0gXCJcIjtcbiAgICAgICAgICAgIGZpZWxkX3Blcm1pc3Npb24gPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aXRsZV9wZXJtaXNzaW9uID0gXCJ0aXRsZS1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb247XG4gICAgICAgICAgICBmaWVsZF9wZXJtaXNzaW9uID0gXCJmaWVsZC1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPVxcXCJ0ZC10aXRsZSB0ZC10aXRsZS1cIiArIHB1cmVDb2RlICsgXCIgXCIgKyB0aXRsZV9wZXJtaXNzaW9uICsgXCIgXCIgKyByZXF1aXJlZCArIFwiXFxcIj5cXG5cdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XFxuPHRkIGNsYXNzPVxcXCJ0ZC1maWVsZCB0ZC1maWVsZC1cIiArIHB1cmVDb2RlICsgXCIgXCIgKyBmaWVsZF9wZXJtaXNzaW9uICsgXCJcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcblx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XFxuPC90ZD5cIjtcbiAgICAgICAgICByZXR1cm4gdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGVtcGxhdGUgKz0gXCJcdDwvdGFibGU+XFxuXFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtZm9vdGVyIGZvcm0tdGFibGUgbm8tYm9yZGVyXFxcIj5cXG5cdFx0PHRyIGNsYXNzPVxcXCJhcHBsaWNhbnQtd3JhcHBlclxcXCI+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJub3dyYXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7X3QgXFxcImluc3RhbmNlX2luaXRpYXRvclxcXCJ9fe+8mjwvbGFiZWw+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXRhYmxlLXdyYXBwZXItdGQgaW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cXFwiYWZTZWxlY3RVc2VyXFxcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0PC90ZD5cXG5cdFx0XHQ8dGQgY2xhc3M9XFxcIm5vd3JhcFxcXCI+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdwdWxsLWxlZnQnPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XFxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7X3QgXFxcImluc3RhbmNlX3N1Ym1pdF9kYXRlXFxcIn1977yaPC9sYWJlbD5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1yaWdodCc+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHR7e2Zvcm1hdERhdGUgaW5zdGFuY2Uuc3VibWl0X2RhdGUgJ3tcXFwiZm9ybWF0XFxcIjpcXFwiWVlZWS1NTS1ERFxcXCJ9J319XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0PC90ZD5cXG5cdFx0PC90cj5cXG5cdDwvdGFibGU+XFxuPC9kaXY+XCI7XG4gIHJldHVybiB0ZW1wbGF0ZTtcbn07XG5cblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUgPSB7XG4gIFwiZGVmYXVsdFwiOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciB0ZW1wbGF0ZTtcbiAgICB0ZW1wbGF0ZSA9IFwiPGRpdiBjbGFzcz1cXFwid2l0aC1ib3JkZXIgY29sLW1kLTEyXFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLW5hbWVcXFwiPlxcblx0XHQ8aDMgY2xhc3M9XFxcImJveC10aXRsZVxcXCI+XCIgKyAoVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlKSArIFwiPC9oMz5cXG5cdFx0PHNwYW4gY2xhc3M9XFxcImhlbHAtYmxvY2tcXFwiPjwvc3Bhbj5cXG5cdDwvZGl2Plxcblx0PHNwYW4gY2xhc3M9XFxcImhlbHAtYmxvY2tcXFwiPjwvc3Bhbj5cXG48L2Rpdj5cXG57eyNlYWNoIHN0ZWVkb3NfZm9ybS5maWVsZHN9fVxcblx0e3sjaWYgaXNPcGluaW9uRmllbGQgdGhpc319XFxuXHRcdDxkaXYgY2xhc3M9XFxcInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBhdXRvbWF0aWMgb3Bpbmlvbi1maWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX08L2xhYmVsPlxcblxcblx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT10aGlzLmNvZGV9fVxcblx0XHRcdDwvZGl2Plxcblx0XHQ8L2Rpdj5cXG5cdHt7ZWxzZX19XFxuXHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMiBmaWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGV9fVxcblx0XHRcdDwvZGl2Plxcblx0XHR7ey9pZn19XFxuXHR7ey9pZn19XFxue3svZWFjaH19XFxuPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcImFwcGxpY2FudC13cmFwcGVyIGZvcm0tZ3JvdXAgZm9ybS1ob3Jpem9udGFsXFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXG5cdFx0PGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPlxcblx0XHQgIHt7X3QgXFxcImluc3RhbmNlX2luaXRpYXRvclxcXCJ9fSZuYnNwOzpcXG5cdFx0PC9kaXY+XFxuXHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVxcXCJhZlNlbGVjdFVzZXJcXFwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XFxuXHQgIDwvZGl2Plxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9LFxuICB0YWJsZTogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoaW5zdGFuY2UpO1xuICB9XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlSGVscHMgPSB7XG4gIGFwcGxpY2FudENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBzdGVlZG9zX2luc3RhbmNlO1xuICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sJyxcbiAgICAgICAgc3R5bGU6ICdwYWRkaW5nOjZweCAxMnB4O3dpZHRoOjE0MHB4O2Rpc3BsYXk6aW5saW5lJ1xuICAgICAgfVxuICAgIH07XG4gICAgZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxufTtcblxuKHtcbiAgaW5zdGFuY2VJZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICdpbnN0YW5jZWZvcm0nO1xuICB9LFxuICBmb3JtX3R5cGVzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtZXRob2QnO1xuICAgIH1cbiAgfSxcbiAgc3RlZWRvc19mb3JtOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgICB9XG4gIH0sXG4gIGlubmVyc3ViZm9ybUNvbnRleHQ6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBkb2NfdmFsdWVzO1xuICAgIGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgb2JqW1widGFibGVWYWx1ZXNcIl0gPSBkb2NfdmFsdWVzID8gZG9jX3ZhbHVlc1tvYmouY29kZV0gOiBbXTtcbiAgICBvYmpbXCJmb3JtSWRcIl0gPSBmb3JtSWQ7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgaW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGVlZG9zX2luc3RhbmNlO1xuICAgIFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIik7XG4gICAgaWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgcmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgfVxuICB9LFxuICBlcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSxcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBmaWVsZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfSxcbiAgZG9jX3ZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgfSxcbiAgaW5zdGFuY2VfYm94X3N0eWxlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm94LCBpbnMsIGp1ZGdlO1xuICAgIGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpO1xuICAgIGlmIChib3ggPT09IFwiaW5ib3hcIiB8fCBib3ggPT09IFwiZHJhZnRcIikge1xuICAgICAganVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpO1xuICAgICAgaWYgKGp1ZGdlKSB7XG4gICAgICAgIGlmIChqdWRnZSA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgICAgfSBlbHNlIGlmIChqdWRnZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgICBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cblRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCB0ZW1wbGF0ZU5hbWUpIHtcbiAgdmFyIGZsb3csIGZvcm07XG4gIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgaWYgKHRlbXBsYXRlTmFtZSkge1xuICAgIGlmICh0ZW1wbGF0ZU5hbWUgPT09ICd0YWJsZScpIHtcbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgfVxuICBpZiAodHlwZW9mIFNlc3Npb24gIT09IFwidW5kZWZpbmVkXCIgJiYgU2Vzc2lvbiAhPT0gbnVsbCA/IFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSA6IHZvaWQgMCkge1xuICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93LnByaW50X3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93LnByaW50X3RlbXBsYXRlICsgXCI8L2Rpdj5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgOiB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIjtcbiAgICB9XG4gICAgaWYgKGZvcm0gIT0gbnVsbCA/IGZvcm0uaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApIHtcbiAgICAgIGlmIChmb3JtLmluc3RhbmNlX3N0eWxlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gICAgfVxuICB9XG59O1xuIiwiU3RlZWRvc1RhYmxlID0ge307XG5cblN0ZWVkb3NUYWJsZS5mb3JtSWQgPSBcImluc3RhbmNlZm9ybVwiO1xuXG5TdGVlZG9zVGFibGUuY2hlY2tJdGVtID0gZnVuY3Rpb24gKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhciBmaWVsZFZhbCA9IFN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZShmaWVsZCwgaXRlbV9pbmRleCk7XG5cbiAgICB2YXIgc2ZfbmFtZSA9ICcnO1xuICAgIHZhciByZXYgPSB0cnVlO1xuICAgIGZpZWxkT2JqLnNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoc2YpIHtcbiAgICAgICAgaWYgKHNmLnBlcm1pc3Npb24gPT0gJ2VkaXRhYmxlJykge1xuICAgICAgICAgICAgc2ZfbmFtZSA9IGZpZWxkT2JqLmNvZGUgKyBcIi5cIiArIHNmLmNvZGU7XG4gICAgICAgICAgICBpZiAoIUluc3RhbmNlTWFuYWdlci5jaGVja0Zvcm1GaWVsZFZhbHVlKCQoXCJbbmFtZT0nXCIgKyBzZl9uYW1lICsgXCInXVwiKVswXSwgc2ZfbmFtZSwgZmllbGRWYWxbc2YuY29kZV0pKSB7XG4gICAgICAgICAgICAgICAgcmV2ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiByZXY7XG59XG5cblN0ZWVkb3NUYWJsZS5zZXRUYWJsZUl0ZW1WYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCwgaXRlbV9pbmRleCwgaXRlbV92YWx1ZSkge1xuXG4gICAgdmFyIHRhYmxlVmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCk7XG4gICAgdGFibGVWYWx1ZVtpdGVtX2luZGV4XSA9IGl0ZW1fdmFsdWU7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCwgaXRlbV9pbmRleCkge1xuICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZClbaXRlbV9pbmRleF07XG59XG5cblN0ZWVkb3NUYWJsZS5yZW1vdmVUYWJsZUl0ZW0gPSBmdW5jdGlvbiAoZmllbGQsIGl0ZW1faW5kZXgpIHtcbiAgICB2YXIgaXRlbV92YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaXRlbV9pbmRleCk7XG4gICAgaXRlbV92YWx1ZS5yZW1vdmVkID0gdHJ1ZTtcbn1cblxuU3RlZWRvc1RhYmxlLnNldFRhYmxlVmFsdWUgPSBmdW5jdGlvbiAoZmllbGQsIHZhbHVlKSB7XG4gICAgJChcInRhYmxlW25hbWU9J1wiICsgZmllbGQgKyBcIiddXCIpLnZhbCh7XG4gICAgICAgIHZhbDogdmFsdWVcbiAgICB9KTtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUgPSBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICByZXR1cm4gJChcInRhYmxlW25hbWU9J1wiICsgZmllbGQgKyBcIiddXCIpLnZhbCgpLnZhbDtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFZhbGlkVmFsdWUgPSBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICB2YXIgdmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCk7XG5cbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciB2YWxpZFZhbHVlID0gW107XG5cbiAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGlmICghdi5yZW1vdmVkKSB7XG4gICAgICAgICAgICB2YWxpZFZhbHVlLnB1c2godik7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsaWRWYWx1ZTtcbn1cblxuXG5TdGVlZG9zVGFibGUuaGFuZGxlRGF0YSA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWVzKSB7XG5cbiAgICBpZiAoIXZhbHVlcyB8fCAhKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XG5cbiAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgICBmaWVsZE9iai5zZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgIGlmIChmLnR5cGUgPT0gJ3VzZXInIHx8IGYudHlwZSA9PSAnZ3JvdXAnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdltmLmNvZGVdXG4gICAgICAgICAgICAgICAgaWYgKGYuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA+IDAgJiYgdHlwZW9mICh2YWx1ZVswXSkgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZbZi5jb2RlXS5nZXRQcm9wZXJ0eShcImlkXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiAodmFsdWUpID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2W2YuY29kZV0gPSB2W2YuY29kZV0uaWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PSAnZGF0ZVRpbWUnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdltmLmNvZGVdXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCJUXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQwID0gdFswXS5zcGxpdChcIi1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHQwWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSB0MFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSB0MFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXJzID0gdDFbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzID0gdDFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cblxuU3RlZWRvc1RhYmxlLmdldEZpZWxkID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgdmFyIGluc3RhbmNlRmllbGRzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmllbGRzKCk7XG4gICAgaWYgKCFpbnN0YW5jZUZpZWxkcylcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIGZpZWxkT2JqID0gaW5zdGFuY2VGaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgZmllbGQpO1xuXG4gICAgcmV0dXJuIGZpZWxkT2JqO1xufVxuXG5cblN0ZWVkb3NUYWJsZS5nZXRNb2RhbERhdGEgPSBmdW5jdGlvbiAoZmllbGQsIGluZGV4KSB7XG5cbiAgICB2YXIgZGF0YSA9IHt9O1xuXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIGlmICghZmllbGRPYmopIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGRhdGEuZmllbGQgPSBmaWVsZE9iajtcblxuICAgIGRhdGEuZmllbGQuZm9ybXVsYSA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZmllbGRPYmouc2ZpZWxkcyk7XG5cbiAgICBkYXRhLnZhbHVlID0ge307XG5cbiAgICBkYXRhLnZhbHVlW2ZpZWxkXSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaW5kZXgpO1xuXG4gICAgZGF0YS5pbmRleCA9IGluZGV4O1xuXG4gICAgcmV0dXJuIGRhdGE7XG59XG5cblxuXG5TdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUgPSBmdW5jdGlvbiAoZmllbGQsIGl0ZW1faW5kZXgpIHtcblxuICAgIGlmICghQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcInN0ZWVkb3NfdGFibGVfbW9kYWxfXCIgKyBmaWVsZCArIFwiX1wiICsgaXRlbV9pbmRleCkpIHtcbiAgICAgICAgcmV0dXJuIHt9XG4gICAgfVxuXG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwic3RlZWRvc190YWJsZV9tb2RhbF9cIiArIGZpZWxkICsgXCJfXCIgKyBpdGVtX2luZGV4KS5pbnNlcnREb2NbZmllbGRdO1xuICAgIHJldHVybiBpdGVtX3ZhbHVlO1xufVxuXG5cblN0ZWVkb3NUYWJsZS5hZGRJdGVtID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcbiAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICB2YXIgaXRlbV92YWx1ZSA9IF9pdGVtX3ZhbHVlIHx8IFN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZShmaWVsZCwgaW5kZXgpO1xuICAgICQoXCJ0Ym9keVtuYW1lPSdcIiArIGZpZWxkICsgXCJUYm9keSddXCIpLmFwcGVuZChTdGVlZG9zVGFibGUuZ2V0VHIoa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCB0cnVlKSlcblxufVxuXG5TdGVlZG9zVGFibGUudXBkYXRlSXRlbSA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgsIF9pdGVtX3ZhbHVlKSB7XG5cbiAgICB2YXIgaXRlbSA9ICQoXCJ0cltuYW1lPSdcIiArIGZpZWxkICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInXVwiKTtcblxuICAgIHZhciBpdGVtX3ZhbHVlID0gX2l0ZW1fdmFsdWUgfHwgU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpbmRleCk7XG5cbiAgICBpZiAoaXRlbSAmJiBpdGVtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XG4gICAgICAgIHZhciB0ZHMgPSBTdGVlZG9zVGFibGUuZ2V0UmVtb3ZlVGQoZmllbGQsIGluZGV4KTtcblxuICAgICAgICB2YXIgc2ZpZWxkcyA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCkuc2ZpZWxkcztcblxuICAgICAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIHNmaWVsZCA9IHNmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwga2V5KTtcblxuICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlbV92YWx1ZVtrZXldO1xuXG4gICAgICAgICAgICB0ZHMgPSB0ZHMgKyBTdGVlZG9zVGFibGUuZ2V0VGQoc2ZpZWxkLCBpbmRleCwgdmFsdWUpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGl0ZW0uZW1wdHkoKTtcblxuICAgICAgICBpdGVtLmFwcGVuZCh0ZHMpO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICBTdGVlZG9zVGFibGUuYWRkSXRlbShmaWVsZCwgaW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCkpIHtcblxuICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVJdGVtVmFsdWUoZmllbGQsIGluZGV4LCBpdGVtX3ZhbHVlKTtcblxuICAgICAgICAvL1N0ZWVkb3NUYWJsZS52YWx1ZUhhc2hbZmllbGRdW2luZGV4XSA9IGl0ZW1fdmFsdWU7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICAvL1N0ZWVkb3NUYWJsZS52YWx1ZUhhc2hbZmllbGRdID0gW2l0ZW1fdmFsdWVdO1xuXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlKGZpZWxkLCBbaXRlbV92YWx1ZV0pXG5cbiAgICB9XG5cbiAgICAvL+aJp+ihjOS4u+ihqOWFrOW8j+iuoeeul1xuICAgIEluc3RhbmNlTWFuYWdlci5ydW5Gb3JtdWxhKGZpZWxkKTtcblxufVxuXG5TdGVlZG9zVGFibGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgpIHtcblxuICAgICQoXCJ0cltuYW1lPSdcIiArIGZpZWxkICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInXVwiKS5oaWRlKCk7XG5cbiAgICBTdGVlZG9zVGFibGUucmVtb3ZlVGFibGVJdGVtKGZpZWxkLCBpbmRleCk7XG5cbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XG59XG5cblN0ZWVkb3NUYWJsZS5zaG93TW9kYWwgPSBmdW5jdGlvbiAoZmllbGQsIGluZGV4LCBtZXRob2QpIHtcblxuXG4gICAgdmFyIG1vZGFsRGF0YSA9IFN0ZWVkb3NUYWJsZS5nZXRNb2RhbERhdGEoZmllbGQsIGluZGV4KTtcblxuICAgIG1vZGFsRGF0YS5tZXRob2QgPSBtZXRob2Q7XG5cbiAgICBNb2RhbC5zaG93KFwic3RlZWRvc1RhYmxlTW9kYWxcIiwgbW9kYWxEYXRhKTtcblxufVxuXG5TdGVlZG9zVGFibGUuZ2V0S2V5cyA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIGlmICghQXV0b0Zvcm0uZ2V0Q3VycmVudERhdGFGb3JGb3JtKFN0ZWVkb3NUYWJsZS5mb3JtSWQpKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICB2YXIgc3MgPSBBdXRvRm9ybS5nZXRGb3JtU2NoZW1hKFN0ZWVkb3NUYWJsZS5mb3JtSWQpO1xuXG4gICAgdmFyIGtleXMgPSBbXTtcblxuICAgIGlmIChzcy5zY2hlbWEoZmllbGQgKyBcIi4kXCIpLnR5cGUgPT09IE9iamVjdCkge1xuICAgICAgICBrZXlzID0gc3Mub2JqZWN0S2V5cyhTaW1wbGVTY2hlbWEuX21ha2VHZW5lcmljKGZpZWxkKSArICcuJCcpXG4gICAgfVxuXG4gICAgcmV0dXJuIGtleXM7XG5cbn1cblxuU3RlZWRvc1RhYmxlLmdldFRoZWFkID0gZnVuY3Rpb24gKGZpZWxkLCBlZGl0YWJsZSkge1xuXG4gICAgdmFyIGZpZWxkT2JqID0gZmllbGQ7XG4gICAgaWYgKCFfLmlzT2JqZWN0KGZpZWxkKSlcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgaWYgKCFmaWVsZE9iaikge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIHRoZWFkID0gJycsXG4gICAgICAgIHRycyA9ICcnLFxuICAgICAgICBsYWJlbCA9ICcnLFxuICAgICAgICB3aWR0aCA9IDEwMDtcblxuICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgICAvLyB0cnMgPSBcIjx0aCBjbGFzcz0ncmVtb3ZlZCc+PC90aD5cIlxuICAgICAgICB0cnMgPSBcIlwiXG4gICAgfVxuXG4gICAgdmFyIHNmaWVsZHMgPSBmaWVsZE9iai5zZmllbGRzO1xuXG4gICAgaWYgKCFzZmllbGRzKSB7XG4gICAgICAgIHJldHVybiB0aGVhZDtcbiAgICB9XG5cbiAgICB2YXIgc2ZfbGVuZ3RoID0gc2ZpZWxkcy5sZW5ndGg7XG5cbiAgICBpZiAoc2ZfbGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgd2lkZV9maWVsZHMgPSBzZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcblxuICAgICAgICB3aWR0aCA9IDEwMCAvIChzZl9sZW5ndGggKyB3aWRlX2ZpZWxkcy5sZW5ndGgpO1xuICAgIH1cblxuICAgIHNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoc2YsIGluZGV4KSB7XG5cbiAgICAgICAgbGFiZWwgPSAoc2YubmFtZSAhPSBudWxsICYmIHNmLm5hbWUubGVuZ3RoID4gMCkgPyBzZi5uYW1lIDogc2YuY29kZTtcblxuICAgICAgICB0cnMgPSB0cnMgKyBcIjx0ZCBcIjsgLy8gbm93cmFwPSdub3dyYXAnXG5cbiAgICAgICAgdHJzID0gdHJzICsgXCIgY2xhc3M9J3RpdGxlIFwiICsgc2YudHlwZSArIFwiJ1wiO1xuXG4gICAgICAgIGlmIChpbmRleCAhPSAoc2ZfbGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgIGlmIChzZi5pc193aWRlKSB7XG4gICAgICAgICAgICAgICAgdHJzID0gdHJzICsgXCJzdHlsZT0nd2lkdGg6XCIgKyB3aWR0aCAqIDIgKyBcIiUnXCJcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJzID0gdHJzICsgXCJzdHlsZT0nd2lkdGg6XCIgKyB3aWR0aCArIFwiJSdcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdHJzID0gdHJzICsgXCI+XCIgKyBsYWJlbCArIFwiPC90ZD5cIlxuICAgIH0pO1xuXG4gICAgdGhlYWQgPSAnPHRyPicgKyB0cnMgKyAnPC90cj4nO1xuXG4gICAgcmV0dXJuIHRoZWFkO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGJvZHkgPSBmdW5jdGlvbiAoa2V5cywgZmllbGQsIHZhbHVlcywgZWRpdGFibGUsIHNmaWVsZHNFZGl0YWJsZSkge1xuICAgIHZhciB0Ym9keSA9IFwiXCI7XG5cbiAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgdGJvZHkgPSB0Ym9keSArIFN0ZWVkb3NUYWJsZS5nZXRUcihrZXlzLCB2YWx1ZSwgaW5kZXgsIGZpZWxkLCBlZGl0YWJsZSwgc2ZpZWxkc0VkaXRhYmxlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRib2R5O1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VHIgPSBmdW5jdGlvbiAoa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCBlZGl0YWJsZSwgc2ZpZWxkc0VkaXRhYmxlKSB7XG5cbiAgICB2YXIgZmllbGRPYmogPSBmaWVsZDtcbiAgICBpZiAoIV8uaXNPYmplY3QoZmllbGQpKVxuICAgICAgICBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XG5cbiAgICB2YXIgdHIgPSBcIjx0ciBpZD0nXCIgKyBmaWVsZE9iai5jb2RlICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInIG5hbWU9J1wiICsgZmllbGRPYmouY29kZSArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJyBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInXCJcblxuICAgIGlmIChlZGl0YWJsZSB8fCBzZmllbGRzRWRpdGFibGUpIHtcbiAgICAgICAgdHIgPSB0ciArIFwiJyBjbGFzcz0naXRlbSBlZGl0J1wiXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgdHIgPSB0ciArIFwiIGNsYXNzPSdpdGVtIGl0ZW0tcmVhZG9ubHknXCJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyID0gdHIgKyBcIiBjbGFzcz0naXRlbSAnXCJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpdGVtX3ZhbHVlLnJlbW92ZWQpIHtcbiAgICAgICAgdHIgPSB0ciArIFwiIHN0eWxlPSdkaXNwbGF5Om5vbmUnIFwiO1xuICAgIH1cblxuICAgIHRyID0gdHIgKyBcIic+XCI7XG5cbiAgICB2YXIgdGRzID0gXCJcIjtcblxuICAgIGlmIChlZGl0YWJsZSkge1xuICAgICAgICB0ZHMgPSBTdGVlZG9zVGFibGUuZ2V0UmVtb3ZlVGQoZmllbGRPYmouY29kZSwgaW5kZXgpO1xuICAgIH1cblxuICAgIHZhciBzZmllbGRzID0gZmllbGRPYmouc2ZpZWxkcztcblxuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBzZmllbGQgPSBzZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGtleSk7XG5cbiAgICAgICAgdmFyIHZhbHVlID0gaXRlbV92YWx1ZVtrZXldO1xuXG4gICAgICAgIHRkcyA9IHRkcyArIFN0ZWVkb3NUYWJsZS5nZXRUZChzZmllbGQsIGluZGV4LCB2YWx1ZSk7XG5cbiAgICB9KTtcblxuICAgIHRyID0gdHIgKyB0ZHMgKyBcIjwvdHI+XCI7XG4gICAgcmV0dXJuIHRyO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0UmVtb3ZlVGQgPSBmdW5jdGlvbiAoZmllbGQsIGluZGV4KSB7XG4gICAgLy8gcmV0dXJuIFwiPHRkIGNsYXNzPSdzdGVlZG9zVGFibGUtaXRlbS1yZW1vdmUgcmVtb3ZlZCcgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJz48aSBjbGFzcz0nZmEgZmEtdGltZXMnIGFyaWEtaGlkZGVuPSd0cnVlJz48L3RkPlwiO1xuICAgIHJldHVybiBcIlwiXG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUZCA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgsIHZhbHVlKSB7XG4gICAgdmFyIHRkID0gXCI8dGQgXCI7XG5cbiAgICB0ZCA9IHRkICsgXCIgY2xhc3M9J3N0ZWVkb3NUYWJsZS1pdGVtLWZpZWxkIFwiICsgZmllbGQudHlwZSArIFwiJyBcIjtcblxuICAgIHZhciB0ZF92YWx1ZSA9IFwiXCI7XG5cbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICAgIHRkX3ZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFREVmFsdWUoZmllbGQsIHZhbHVlKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblxuICAgICAgICB1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XG5cbiAgICAgICAgdGRfdmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUodmFsdWUsIGZpZWxkLCBsb2NhbGUsIHV0Y09mZnNldClcbiAgICB9XG5cbiAgICB0ZCA9IHRkICsgXCIgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJz5cIiArIHRkX3ZhbHVlICsgXCI8L3RkPlwiXG5cbiAgICByZXR1cm4gdGQ7XG59XG5cblxuU3RlZWRvc1RhYmxlLmdldFREVmFsdWUgPSBmdW5jdGlvbiAoZmllbGQsIHZhbHVlKSB7XG4gICAgdmFyIHRkX3ZhbHVlID0gXCJcIjtcbiAgICBpZiAoIWZpZWxkKSB7XG4gICAgICAgIHJldHVybiB0ZF92YWx1ZVxuICAgIH1cbiAgICB0cnkge1xuXG4gICAgICAgIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAndXNlcic6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgKHZhbHVlWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYVNwYWNlVXNlcnModmFsdWUpLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mICh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYVNwYWNlVXNlcnModmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdSA/IHUubmFtZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgKHZhbHVlWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnModmFsdWUpLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mICh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBvID8gby5uYW1lIDogJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZW1haWwnOlxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUgPyBcIjxhIGhyZWY9J21haWx0bzpcIiArIHZhbHVlICsgXCInPlwiICsgdmFsdWUgKyBcIjwvYT5cIiA6IFwiXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd1cmwnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFwiPGEgaHJlZj0nXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPmh0dHA6Ly9cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGFzc3dvcmQnOlxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJyoqKioqKic7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIi1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSB0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICQuZm9ybWF0LmRhdGUodmFsdWUsICd5eXl5LU1NLWRkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSB0MFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdDBbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdDBbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHQxWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSAkLmZvcm1hdC5kYXRlKHZhbHVlLCAneXl5eS1NTS1kZCBISDptbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nKHZhbHVlLCBmaWVsZC5kaWdpdHMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IF8ucGx1Y2sodmFsdWUsICdAbGFiZWwnKS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlWydAbGFiZWwnXVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gdmFsdWUgOiAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZTtcblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHJldHVybiB0ZF92YWx1ZTtcbn07XG5cbmlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICBBdXRvRm9ybS5hZGRJbnB1dFR5cGUoXCJ0YWJsZVwiLCB7XG4gICAgICAgIHRlbXBsYXRlOiBcImFmVGFibGVcIixcbiAgICAgICAgdmFsdWVPdXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy5kYXRhKFwic2NoZW1hS2V5XCIpO1xuICAgICAgICAgICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRWYWxpZFZhbHVlKG5hbWUpO1xuICAgICAgICB9LFxuICAgICAgICB2YWx1ZUNvbnZlcnRlcnM6IHtcbiAgICAgICAgICAgIFwic3RyaW5nQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvU3RyaW5nQXJyYXksXG4gICAgICAgICAgICBcIm51bWJlclwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9OdW1iZXIsXG4gICAgICAgICAgICBcIm51bWVyQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvTnVtYmVyQXJyYXksXG4gICAgICAgICAgICBcImJvb2xlYW5cIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvQm9vbGVhbixcbiAgICAgICAgICAgIFwiYm9vbGVhbkFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0Jvb2xlYW5BcnJheSxcbiAgICAgICAgICAgIFwiZGF0ZVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9EYXRlLFxuICAgICAgICAgICAgXCJkYXRlQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvRGF0ZUFycmF5XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRleHRBZGp1c3Q6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb250ZXh0Lm1heCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmF0dHMubWF4bGVuZ3RoID0gY29udGV4dC5tYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgVGVtcGxhdGUuYWZUYWJsZS5ldmVudHMoe1xuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5zdGVlZG9zVGFibGUtaXRlbS1hZGQsLmFkZC1pdGVtLXRyJzogZnVuY3Rpb24gKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG5cbiAgICAgICAgICAgIHZhciB0YWJsZVZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUobmFtZSk7XG5cbiAgICAgICAgICAgIHZhciBuZXdfaXRlbV9pbmRleCA9IHRhYmxlVmFsdWUgPyB0YWJsZVZhbHVlLmxlbmd0aCA6IDA7XG5cbiAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwobmFtZSwgbmV3X2l0ZW1faW5kZXgsIFwiYWRkXCIpO1xuICAgICAgICB9LFxuXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLWZpZWxkJzogZnVuY3Rpb24gKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRlbXBsYXRlLmRhdGEuYXR0cy5lZGl0YWJsZSB8fCB0ZW1wbGF0ZS5kYXRhLmF0dHMuc2ZpZWxkc0VkaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcbiAgICAgICAgICAgICAgICBTdGVlZG9zVGFibGUuc2hvd01vZGFsKGZpZWxkLCBpbmRleCwgXCJlZGl0XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLXJlbW92ZSc6IGZ1bmN0aW9uIChldmVudCwgdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZCA9IHRlbXBsYXRlLmRhdGEubmFtZTtcbiAgICAgICAgICAgIHZhciBpdGVtX2luZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xuICAgICAgICAgICAgU2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9jaGFuZ2VcIiwgdHJ1ZSk7XG4gICAgICAgICAgICBTdGVlZG9zVGFibGUucmVtb3ZlSXRlbShmaWVsZCwgaXRlbV9pbmRleCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuaXRlbS1yZWFkb25seSc6IGZ1bmN0aW9uIChldmVudCwgdGVtcGxhdGUpIHtcbiAgICAgICAgICAgIGlmICghdGVtcGxhdGUuZGF0YS5hdHRzLmVkaXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcbiAgICAgICAgICAgICAgICBTdGVlZG9zVGFibGUuc2hvd01vZGFsKGZpZWxkLCBpbmRleCwgXCJyZWFkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cblxuXG4gICAgVGVtcGxhdGUuYWZUYWJsZS5yZW5kZXJlZCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmRhdGEubmFtZTtcblxuICAgICAgICB2YXIgc2ZpZWxkc0VkaXRhYmxlID0gdGhpcy5kYXRhLmF0dHMuc2ZpZWxkc0VkaXRhYmxlO1xuXG4gICAgICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xuICAgICAgICB2YXIgdmFsaWRWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhKGZpZWxkLCB0aGlzLmRhdGEudmFsdWUpO1xuICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgdmFsaWRWYWx1ZSk7XG5cbiAgICAgICAgJChcInRoZWFkW25hbWU9J1wiICsgZmllbGQgKyBcIlRoZWFkJ11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSk7XG5cbiAgICAgICAgJChcInRib2R5W25hbWU9J1wiICsgZmllbGQgKyBcIlRib2R5J11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGJvZHkoa2V5cywgZmllbGQsIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUsIHNmaWVsZHNFZGl0YWJsZSkpO1xuXG4gICAgICAgIHN0ciA9IHQoXCJzdGVlZG9zX3RhYmxlX2FkZF9pdGVtXCIpO1xuICAgICAgICBhZGRJdGVtVHIgPSBcIjx0ciBjbGFzcz0nYWRkLWl0ZW0tdHInPjx0ZCBjb2xzcGFuPSdcIiArIGtleXMubGVuZ3RoICsgXCInPjxpIGNsYXNzPSdpb24gaW9uLXBsdXMtcm91bmQnPjwvaT5cIiArIHN0ciArIFwiPC90ZD48L3RyPlwiO1xuXG4gICAgICAgIGlmICh0aGlzLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xuICAgICAgICAgICAgJChcInRmb290W25hbWU9J1wiICsgZmllbGQgKyBcIlRmb290J11cIikuYXBwZW5kKGFkZEl0ZW1Ucik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYyA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgICAgICBpZiAoYy5zdGVwX3R5cGUgPT0gJ2NvdW50ZXJTaWduJyB8fCBJbnN0YW5jZU1hbmFnZXIuY2NIYXNFZGl0UGVybWlzc2lvbigpKSB7XG4gICAgICAgICAgICB0aGlzLmF1dG9ydW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gVGVtcGxhdGUuY3VycmVudERhdGEoKTtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSBkYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkVmFsdWUgPSBTdGVlZG9zVGFibGUuaGFuZGxlRGF0YShmaWVsZCwgZGF0YS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlVmFsdWUoZmllbGQsIHZhbGlkVmFsdWUpO1xuICAgICAgICAgICAgICAgICQoXCJ0Ym9keVtuYW1lPSdcIiArIGZpZWxkICsgXCJUYm9keSddXCIpLmh0bWwoU3RlZWRvc1RhYmxlLmdldFRib2R5KGtleXMsIGZpZWxkLCBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCksIGRhdGEuYXR0cy5lZGl0YWJsZSwgc2ZpZWxkc0VkaXRhYmxlKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICB9O1xufSIsIkltYWdlU2lnbi5oZWxwZXJzID1cblx0c3BhY2VVc2VyU2lnbjogKHVzZXJJZCktPlxuXHRcdHNwYWNlID0gXCJcIlxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRzcGFjZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zcGFjZVxuXHRcdGVsc2Vcblx0XHRcdHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpXG5cblx0XHRzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtzcGFjZTogc3BhY2UsIHVzZXI6IHVzZXJJZH0pO1xuXHRcdHJldHVybiBzcGFjZVVzZXJTaWduXG5cblx0aW1hZ2VVUkw6ICh1c2VySWQpLT5cblxuXHRcdHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKHVzZXJJZCk7XG5cblx0XHRhYnNvbHV0ZSA9IGZhbHNlXG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGFic29sdXRlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmFic29sdXRlXG5cblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduXG5cdFx0XHRpZiBhYnNvbHV0ZVxuXHRcdFx0XHRyZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiIsIkltYWdlU2lnbi5oZWxwZXJzID0ge1xuICBzcGFjZVVzZXJTaWduOiBmdW5jdGlvbih1c2VySWQpIHtcbiAgICB2YXIgc3BhY2UsIHNwYWNlVXNlclNpZ247XG4gICAgc3BhY2UgPSBcIlwiO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIHNwYWNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnNwYWNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBzcGFjZSA9IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKTtcbiAgICB9XG4gICAgc3BhY2VVc2VyU2lnbiA9IGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2UsXG4gICAgICB1c2VyOiB1c2VySWRcbiAgICB9KTtcbiAgICByZXR1cm4gc3BhY2VVc2VyU2lnbjtcbiAgfSxcbiAgaW1hZ2VVUkw6IGZ1bmN0aW9uKHVzZXJJZCkge1xuICAgIHZhciBhYnNvbHV0ZSwgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbih1c2VySWQpO1xuICAgIGFic29sdXRlID0gZmFsc2U7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgYWJzb2x1dGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuYWJzb2x1dGU7XG4gICAgfVxuICAgIGlmIChzcGFjZVVzZXJTaWduICE9IG51bGwgPyBzcGFjZVVzZXJTaWduLnNpZ24gOiB2b2lkIDApIHtcbiAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuIiwiVHJhY2VzSGFuZGxlci5oZWxwZXJzID1cblx0c2hvd1NpZ25JbWFnZTogKGhhbmRsZXIsIGlzX2ZpbmlzaGVkLCBqdWRnZSkgLT5cblx0XHRpZiAhaXNfZmluaXNoZWRcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGlmIFsncmV0dXJuZWQnLCAndGVybWluYXRlZCcsICdyZXRyaWV2ZWQnXS5pbmNsdWRlcyhqdWRnZSlcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpXG5cblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdG9iamVjdFVybDogKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCktPlxuXHRcdHJldHVybiBDcmVhdG9yLmdldE9iamVjdFVybChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpIiwiVHJhY2VzSGFuZGxlci5oZWxwZXJzID0ge1xuICBzaG93U2lnbkltYWdlOiBmdW5jdGlvbihoYW5kbGVyLCBpc19maW5pc2hlZCwganVkZ2UpIHtcbiAgICB2YXIgc3BhY2VVc2VyU2lnbjtcbiAgICBpZiAoIWlzX2ZpbmlzaGVkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChbJ3JldHVybmVkJywgJ3Rlcm1pbmF0ZWQnLCAncmV0cmlldmVkJ10uaW5jbHVkZXMoanVkZ2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpO1xuICAgIGlmIChzcGFjZVVzZXJTaWduICE9IG51bGwgPyBzcGFjZVVzZXJTaWduLnNpZ24gOiB2b2lkIDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBvYmplY3RVcmw6IGZ1bmN0aW9uKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCkge1xuICAgIHJldHVybiBDcmVhdG9yLmdldE9iamVjdFVybChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpO1xuICB9XG59O1xuIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyA9XG5cdGFwcGxpY2FudENvbnRleHQ6IC0+XG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGRhdGEgPSB7XG5cdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRhdHRzOiB7bmFtZTogJ2luc19hcHBsaWNhbnQnLCBpZDogJ2luc19hcHBsaWNhbnQnLCBjbGFzczogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnfSxcblx0XHRcdHZhbHVlOiBzdGVlZG9zX2luc3RhbmNlLmFwcGxpY2FudF9uYW1lXG5cdFx0fVxuXHRcdGlmIG5vdCBzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiXG5cdFx0XHRkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlXG5cdFx0cmV0dXJuIGRhdGE7XG5cblx0aW5zdGFuY2VJZDogLT5cblx0XHRyZXR1cm4gJ2luc3RhbmNlZm9ybSc7I1wiaW5zdGFuY2VfXCIgKyBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIik7XG5cblx0Zm9ybV90eXBlczogLT5cblx0XHRpZiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcblx0XHRcdHJldHVybiAnZGlzYWJsZWQnO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiAnbWV0aG9kJztcblxuXHRzdGVlZG9zX2Zvcm06IC0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBmb3JtX3ZlcnNpb25cblxuXHRpbm5lcnN1YmZvcm1Db250ZXh0OiAob2JqKS0+XG5cdFx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblx0XHRvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGlmIGRvY192YWx1ZXMgdGhlbiBkb2NfdmFsdWVzW29iai5jb2RlXSBlbHNlIFtdXG5cdFx0b2JqW1wiZm9ybUlkXCJdID0gXCJpbnN0YW5jZWZvcm1cIjtcblx0XHRyZXR1cm4gb2JqO1xuXG5cdGluc3RhbmNlOiAtPlxuXHRcdFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIilcblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKVxuXHRcdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdFx0cmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG5cblx0ZW1wdHk6ICh2YWwpIC0+XG5cdFx0aWYgdmFsXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHR1bmVtcHR5OiAodmFsKSAtPlxuXHRcdGlmIHZhbFxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdGVxdWFsczogKGEsIGIpIC0+XG5cdFx0cmV0dXJuIChhID09IGIpXG5cblx0dW5lcXVhbHM6IChhLCBiKSAtPlxuXHRcdHJldHVybiAhKGEgPT0gYilcblxuXHRpbmNsdWRlczogKGEsIGIpIC0+XG5cdFx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcblxuXHRpbmNsdWRlOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuXG5cdGZpZWxkczogLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcblxuXHRmb3JtYXREYXRlOiAoZGF0ZSwgb3B0aW9ucyktPlxuXHRcdGlmICFkYXRlXG5cdFx0XHRyZXR1cm4gXCJcIjtcblx0XHRpZiBvcHRpb25zICYmIHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJ1xuXHRcdFx0b3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9ucyk7XG5cblx0XHRpZiAhb3B0aW9ucy5mb3JtYXRcblx0XHRcdG9wdGlvbnMgPSB7Zm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIn1cblxuXHRcdHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KG9wdGlvbnMuZm9ybWF0KTtcblxuXHR0cmFjZXM6IC0+XG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRzdGVlZG9zRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/LnZpZXc/LnRlbXBsYXRlPy5zdGVlZG9zRGF0YVxuXHRcdFx0aW5zdGFuY2UgPSBzdGVlZG9zRGF0YT8uaW5zdGFuY2Vcblx0XHRcdGZsb3cgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24oaW5zdGFuY2UpO1xuXHRcdFx0bG9jYWxlID0gc3RlZWRvc0RhdGE/LmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG5cdFx0XHRmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmxvd1ZlcnNpb24oKVxuXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cblx0XHRpZiAhaW5zdGFuY2UgfHwgIWZsb3dcblx0XHRcdHJldHVybiB7fTtcblxuXHRcdHN0ZXBzID0gZmxvdy5zdGVwcztcblxuXHRcdHRyYWNlcyA9IHt9O1xuXG5cdFx0aW5zdGFuY2UudHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxuXHRcdFx0c3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2Uuc3RlcClcblxuXHRcdFx0YXBwcm92ZXMgPSBbXVxuXG5cdFx0XHR0cmFjZS5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSkgLT5cblx0XHRcdFx0aWYgdHJhY2UuaXNfZmluaXNoZWQgPT0gdHJ1ZVxuIyDlt7Lnu5PmnZ/nmoTmmL7npLrkuLrmoLjlh4Yv6amz5ZueL+WPlua2iOeUs+ivt1xuXHRcdFx0XHRcdGlmIGFwcHJvdmUuanVkZ2UgPT0gJ2FwcHJvdmVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZFwiLCB7fSwgbG9jYWxlKVxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAncmVqZWN0ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlamVjdGVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWFzc2lnbmVkJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWxvY2F0ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlbG9jYXRlZFwiLCB7fSwgbG9jYWxlKVxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAnJ1xuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFwiXCJcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gXCJcIlxuXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHBlbmRpbmdcIiwge30sIGxvY2FsZSlcblxuXHRcdFx0XHRhcHByb3Zlcy5wdXNoXG5cdFx0XHRcdFx0X2lkOiBhcHByb3ZlLl9pZFxuXHRcdFx0XHRcdGhhbmRsZXI6IGFwcHJvdmUudXNlclxuXHRcdFx0XHRcdGhhbmRsZXJfbmFtZTogYXBwcm92ZS5oYW5kbGVyX25hbWVcblx0XHRcdFx0XHRoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcblx0XHRcdFx0XHRoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVxuXHRcdFx0XHRcdGZpbmlzaF9kYXRlOiBhcHByb3ZlLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0anVkZ2U6IGFwcHJvdmUuanVkZ2Vcblx0XHRcdFx0XHRqdWRnZV9uYW1lOiBqdWRnZV9uYW1lXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IGFwcHJvdmUuZGVzY3JpcHRpb25cblx0XHRcdFx0XHRpc19maW5pc2hlZDogYXBwcm92ZS5pc19maW5pc2hlZFxuXHRcdFx0XHRcdHR5cGU6IGFwcHJvdmUudHlwZVxuXHRcdFx0XHRcdG9waW5pb25fZmllbGRzX2NvZGU6IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZVxuXHRcdFx0XHRcdHNpZ25fZmllbGRfY29kZTogYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGVcblx0XHRcdFx0XHRpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWRcblx0XHRcdFx0XHRzaWduX3Nob3c6IGFwcHJvdmUuc2lnbl9zaG93XG5cblxuXHRcdFx0aWYgc3RlcFxuXHRcdFx0XHRpZiBzdGVwLm5hbWUgb2YgdHJhY2VzXG5cdFx0XHRcdFx0dHJhY2VzW3N0ZXAubmFtZV0gPSB0cmFjZXNbc3RlcC5uYW1lXS5jb25jYXQoYXBwcm92ZXMpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0cmFjZXNbc3RlcC5uYW1lXSA9IGFwcHJvdmVzXG5cblx0XHRyZXR1cm4gdHJhY2VzO1xuXG5cblxuXHRkb2NfdmFsdWVzOiAtPlxuXHRcdFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblxuXHRpbnN0YW5jZV9ib3hfc3R5bGU6IC0+XG5cdFx0Ym94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIilcblx0XHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcblx0XHRcdGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKVxuXHRcdFx0aWYganVkZ2Vcblx0XHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcblx0XHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0XHRcdGVsc2UgaWYgKGp1ZGdlID09IFwicmVqZWN0ZWRcIilcblx0XHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcblx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiBpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uXG5cdFx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXG5cdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRcdGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXG5cdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXG4jaXNfZGlzYWJsZWQ6IC0+XG4jICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuIyAgICBpZiAhaW5zXG4jICAgICAgICByZXR1cm47XG4jICAgIGlmIGlucy5zdGF0ZSE9XCJkcmFmdFwiXG4jICAgICAgICByZXR1cm4gXCJkaXNhYmxlZFwiO1xuIyAgICByZXR1cm47XG5cblx0dGFibGVfZmllbGRzOiAoaW5zdGFuY2UpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdFx0ZWxzZVxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdGZpZWxkcyA9IF8uY2xvbmUoZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG5cblx0XHRcdGZpZWxkcy5mb3JFYWNoIChmaWVsZCwgaW5kZXgpIC0+XG5cdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gXCJcIjtcblx0XHRcdFx0ZmllbGQudHJfZW5kID0gXCJcIjtcblx0XHRcdFx0dGRfY29sc3BhbiA9IDE7XG4jXHRcdFx0XHTlvLrliLborr7nva7moIflpLTlrZfmrrXkuLrlrr3lrZfmrrVcblx0XHRcdFx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSA9PSBmaWVsZC5jb2RlXG5cdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWVcblxuXHRcdFx0XHRpZiBmaWVsZC5mb3JtdWxhICYmIGZpZWxkLnR5cGUgIT0gJ29kYXRhJ1xuXHRcdFx0XHRcdGZpZWxkLnBlcm1pc3Npb24gPSBcInJlYWRvbmx5XCI7XG5cblx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG4jIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxuXHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IDQ7XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRpZiBpbmRleCAhPSAwXG5cdFx0XHRcdFx0XHRmaWVsZC50cl9zdGFydCA9IFwiPHRyPlwiO1xuXHRcdFx0XHRcdFx0ZmllbGQudHJfZW5kID0gXCI8L3RyPlwiO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cHJlX2ZpZWxkcyA9IGZpZWxkcy5zbGljZSgwLCBpbmRleCk7XG5cblx0XHRcdFx0XHRwcmVfd2lkZV9maWVsZHMgPSBwcmVfZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcblxuXHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCJcIjtcblxuXHRcdFx0XHRcdHRyX2VuZCA9IFwiXCI7XG5cblx0XHRcdFx0XHQjIOWFiOiuoeeul+W9k+WJjeWtl+auteaYr+WQpuS4uuWuveWtl+autVxuXHRcdFx0XHRcdGJlZm9yZV9maWVsZCA9IG51bGw7XG5cdFx0XHRcdFx0YWZ0ZXJfZmllbGQgPSBudWxsO1xuXG5cdFx0XHRcdFx0aWYgaW5kZXggPiAwXG5cdFx0XHRcdFx0XHRiZWZvcmVfZmllbGQgPSBmaWVsZHNbaW5kZXggLSAxXVxuXG5cdFx0XHRcdFx0aWYgaW5kZXggPCBmaWVsZHMubGVuZ3RoIC0gMVxuXHRcdFx0XHRcdFx0YWZ0ZXJfZmllbGQgPSBmaWVsZHNbaW5kZXggKyAxXVxuXG5cdFx0XHRcdFx0IyDlpoLmnpzlvZPliY3lrZfmrrXmmK/liIbnu4TjgIHooajmoLzjgIHlrr3lrZfmrrVcblx0XHRcdFx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSA0O1xuXHRcdFx0XHRcdGVsc2UgaWYgZmllbGQuaXNfd2lkZVxuXHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cdFx0XHRcdFx0ZWxzZVxuIyDliY3lkI7pg73mmK/lrr3lrZfmrrVcblx0XHRcdFx0XHRcdGlmIGJlZm9yZV9maWVsZCAmJiBhZnRlcl9maWVsZCAmJiBiZWZvcmVfZmllbGQuaXNfd2lkZSAmJiBhZnRlcl9maWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdFx0IyDlvZPliY3mmK90ciDkuIvnmoQg56ys5LiA5LiqdGQgJiDlkI7ovrnnmoTlrZfmrrXmmK/lrr3lrZfmrrVcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwICYmIGFmdGVyX2ZpZWxkICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xuXG5cdFx0XHRcdFx0XHQjIOW9k+WJjeaYr3RyIOS4i+eahCDnrKzkuIDkuKp0ZCAmIOW9k+WJjeWtl+auteaYr+acgOWQjuS4gOS4quWtl+autVxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgPT0gbnVsbFxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gdGRfY29sc3BhbjtcblxuXG5cdFx0XHRcdFx0aWYgaW5kZXggPT0gMFxuIyB0cl9zdGFydCA9IFwiPHRyPlwiOyDnlLHkuo5UZW1wbGF0ZeeahOe8luivkWJ1Z++8jOWvvOiHtOavj+asoee7meS4gOS4qnRy5byA5aeL5pe277yM5Lya6Ieq5Yqo6KGl5aS05oiW6KGl5bC+44CC5Zug5q2k5Zyo56ys5LiA6KGM6L+U5Zue5LiA5Liq56m65a2X56ym5LiyLlxuXHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCB8fCBmaWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCI8dHIgY2xhc3MgPSBcXFwidHItY2hpbGQtdGFibGVcXFwiPlwiO1xuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcblxuXHRcdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gdHJfc3RhcnQ7XG5cblxuXHRcdFx0XHRcdGlmIGluZGV4ICsgMSA9PSBmaWVsZHMubGVuZ3RoIHx8IGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJyB8fCBmaWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHR0cl9lbmQgPSBcIjwvdHI+XCI7XG5cblx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgIT0gMFxuXHRcdFx0XHRcdFx0dHJfZW5kID0gXCI8L3RyPlwiO1xuXG5cdFx0XHRcdFx0ZmllbGQudHJfZW5kID0gdHJfZW5kO1xuXG5cdFx0XHRyZXR1cm4gZmllbGRzO1xuXG5cdHNvcnRfYXBwcm92ZTogKGFwcHJvdmVzLCBvcmRlciktPlxuXHRcdGlmICFhcHByb3Zlc1xuXHRcdFx0cmV0dXJuIFtdXG5cblx0XHRpZiAhYXBwcm92ZXMgaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0cmV0dXJuIFtdXG5cdFx0ZWxzZVxuXHRcdFx0aWYgb3JkZXIgPT0gJ2Rlc2MnXG5cdFx0XHRcdGFwcHJvdmVzLnNvcnQgKHAxLCBwMikgLT5cblx0XHRcdFx0XHRfcDEgPSAwXG5cdFx0XHRcdFx0X3AyID0gMFxuXG5cdFx0XHRcdFx0aWYgcDEuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRcdF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKVxuXG5cdFx0XHRcdFx0aWYgcDIuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRcdF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcblxuXHRcdFx0XHRcdHJldHVybiBfcDIgLSBfcDFcblx0XHRcdGVsc2Vcblx0XHRcdFx0YXBwcm92ZXMuc29ydCAocDEsIHAyKSAtPlxuXHRcdFx0XHRcdF9wMSA9IDBcblx0XHRcdFx0XHRfcDIgPSAwXG5cblx0XHRcdFx0XHRpZiBwMS5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpXG5cblx0XHRcdFx0XHRpZiBwMi5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIF9wMSAtIF9wMlxuXHRcdHJldHVybiBhcHByb3Zlc1xuXG5cdF90OiAoa2V5KS0+XG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxuXHRnZXRGaWVsZDogKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cdFx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKVxuXG5cdGdldFZhbHVlOiAoY29kZSktPlxuXHRcdGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlXG5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cblx0XHR1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XG5cblx0XHR2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge31cblxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0dmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpXG5cblx0XHRyZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlIHZhbHVlc1tjb2RlXSwgZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKSwgbG9jYWxlLCB1dGNPZmZzZXRcblxuXHRnZXRMYWJlbDogKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIGNvZGVcblxuXHRnZXRDZkNsYXNzOiAoZmllbGQpLT5cblx0XHRpZiBmaWVsZD8udHlwZSA9PSBcImlucHV0XCIgJiYgZmllbGQ/LmlzX3RleHRhcmVhXG5cdFx0XHRyZXR1cm4gXCJjZlRleHRhcmVhXCJcblxuXHRnZXRUYWJsZVRoZWFkOiAoZmllbGQpLT5cblx0XHRyZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRoZWFkKGZpZWxkLCBmYWxzZSlcblxuXHRnZXRUYWJsZUJvZHk6IChmaWVsZCktPlxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZVxuXHRcdFx0dmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9XG5cdFx0ZWxzZVxuXHRcdFx0dmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpXG5cblx0XHR0YWJsZVZhbHVlID0gdmFsdWVzW2ZpZWxkLmNvZGVdO1xuXHRcdHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGJvZHkoZmllbGQuc2ZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIiksIGZpZWxkLCB0YWJsZVZhbHVlLCBmYWxzZSlcblxuXHRzaG93TGFiZWw6IChmaWVsZCktPlxuXHRcdHRlbXBsYXRlRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YVxuXHRcdGlmIHRlbXBsYXRlRGF0YS5sYWJlbCA9PSBmYWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0cmV0dXJuIHRydWVcblxuI1x0YWZGaWVsZExhYmVsVGV4dDogKG9wKS0+XG4jXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGFcbiNcdFx0XHRyZXR1cm4gQXV0b0Zvcm0uZ2V0TGFiZWxGb3JGaWVsZChvcC5uYW1lKVxuI1x0XHRlbHNlXG4jXHRcdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxuI1x0XHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCBmb3JtX3ZlcnNpb24uZmllbGRzLCBvcD8uaGFzaD8ubmFtZVxuXG5cdGlzT3BpbmlvbkZpZWxkOiAoZmllbGQpLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZC5mb3JtdWxhKVxuXG5cdGlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nOiAoZmllbGRfZm9ybXVsYSktPlxuXHRcdHJldHVybiBJbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cblx0aW5jbHVkZXNPcGluaW9uRmllbGQ6IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cblxuXHRcdGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XG5cblx0XHRmaWVsZHMgPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe19pZDogZm9ybV92ZXJzaW9uLCBmb3JtOiBmb3JtfSk/LmZpZWxkcyB8fCBbXVxuXG5cdFx0ZmllbGRzLmZvckVhY2ggKGYpLT5cblx0XHRcdGlmIGYudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcblx0XHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XG5cdFx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZi5mb3JtdWxhXG5cblx0XHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxuXG5cdGdldE9waW5pb25GaWVsZFN0ZXBzTmFtZTogKGZpZWxkX2Zvcm11bGEsIHRvcF9rZXl3b3JkcyktPlxuXG5cdFx0b3BpbmlvbkZpZWxkcyA9IG5ldyBBcnJheSgpO1xuI1x0XHRjb25zb2xlLmxvZyhcImZpZWxkX2Zvcm11bGFcIiwgZmllbGRfZm9ybXVsYSlcblx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cdFx0XHRpZiBmaWVsZF9mb3JtdWxhXG5cbiNcdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiLFwiKVxuXHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIilcblxuI1x0XHRcdFx0aWYgdG9wX2tleXdvcmRzXG4jXHRcdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKVxuXG5cdFx0XHRcdGZvbzEuZm9yRWFjaCAoZm9vKS0+XG5cdFx0XHRcdFx0anNvbl9mb3JtdWxhID0ge31cblxuXHRcdFx0XHRcdHRyeVxuXHRcdFx0XHRcdFx0anNvbl9mb3JtdWxhID0gZXZhbChcIihcIiArIGZvbyArIFwiKVwiKVxuXHRcdFx0XHRcdGNhdGNoXG5cdFx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSB7fVxuXG5cdFx0XHRcdFx0aWYganNvbl9mb3JtdWxhPy55aWppYW5sYW5cblx0XHRcdFx0XHRcdHNmID0ge31cblxuXHRcdFx0XHRcdFx0c2Yuc3RlcE5hbWUgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnN0ZXBcblxuXHRcdFx0XHRcdFx0c2YuaW1hZ2Vfc2lnbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uaW1hZ2Vfc2lnbiB8fCBmYWxzZVxuXG5cdFx0XHRcdFx0XHRzZi5vbmx5X2NjX29waW5pb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfY2MgfHwgZmFsc2VcblxuXHRcdFx0XHRcdFx0c2YuZGVmYXVsdF9kZXNjcmlwdGlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uZGVmYXVsdFxuXG5cdFx0XHRcdFx0XHRzZi5vbmx5X2hhbmRsZXIgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfaGFuZGxlclxuXG5cdFx0XHRcdFx0XHRzZi50b3Bfa2V5d29yZHMgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnRvcF9rZXl3b3JkcyB8fCB0b3Bfa2V5d29yZHNcblxuXHRcdFx0XHRcdFx0b3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcblxuXHRcdFx0XHRcdGVsc2UgaWYoZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xKVxuXG5cdFx0XHRcdFx0XHRzZiA9IHtvbmx5X2NjX29waW5pb246IGZhbHNlLCBpbWFnZV9zaWduOiBmYWxzZSwgdG9wX2tleXdvcmRzOiB0b3Bfa2V5d29yZHN9XG5cblx0XHRcdFx0XHRcdGlmIGZvby5pbmRleE9mKFwie3NpZ25hdHVyZS5cIikgPiAtMVxuXHRcdFx0XHRcdFx0XHRzZi5pbWFnZV9zaWduID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRmb28gPSBmb28ucmVwbGFjZShcIntzaWduYXR1cmUuXCIsXCJcIik7XG5cblx0XHRcdFx0XHRcdHMxID0gZm9vLnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxuXHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDFcblx0XHRcdFx0XHRcdFx0c2Yuc3RlcE5hbWUgPSBzMS5zcGxpdChcIi5cIilbMV1cblx0XHRcdFx0XHRcdFx0aWYgb3BpbmlvbkZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcInN0ZXBOYW1lXCIsc2Yuc3RlcE5hbWUpLmxlbmd0aCA+IDBcblx0XHRcdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSk/Lm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIilbMl0/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2NjJ1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZi5vbmx5X2NjX29waW5pb24gPSB0cnVlXG5cdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuXG5cdFx0cmV0dXJuIG9waW5pb25GaWVsZHNcblxuXHRzaG93Q0NPcGluaW9uOiAoZmllbGQpLT5cblx0XHRpZiBmaWVsZC5mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZC5mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTFcblx0XHRcdHMxID0gZmllbGQuZm9ybXVsYS5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIixcIlwiKS5yZXBsYWNlKFwie1wiLFwiXCIpLnJlcGxhY2UoXCJ9XCIsXCJcIilcblx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyXG5cdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKVsyXT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnY2MnXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG5cdFx0XHRyZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOnJlbmRlcmVyfSkpXG5cblx0Zl9sYWJlbDogKHRoYXQpLT5cblx0XHRyZXR1cm4gdGhhdC5uYW1lIHx8IHRoYXQuY29kZVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSAtPlxuXHRcdHJldHVybiB0aGlzLmZvcm1fdmVyc2lvblxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT0gJ3NlY3Rpb24nXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5kb2NfdmFsdWVzID0gLT5cblx0XHRpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG5cdFx0cmV0dXJuIGluc3RhbmNlLnZhbHVlcztcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSAtPlxuXHRcdGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcblx0XHRkYXRhID0ge1xuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0YXR0czoge25hbWU6ICdpbnNfYXBwbGljYW50JywgaWQ6ICdpbnNfYXBwbGljYW50JywgY2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J30sXG5cdFx0XHR2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHR9XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSA9IC0+XG5cdFx0cmV0dXJuIHRoaXMuaW5zdGFuY2VcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZpZWxkcyA9IC0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gLT5cblx0XHRyZXR1cm4gXCJkaXNhYmxlZFwiXG5cblx0VGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIgXCJhZkZpZWxkTGFiZWxUZXh0XCIsIChvcCktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxuXHRcdGxvY2FsZSA9IHRoaXMubG9jYWxlXG5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnNfYXR0YWNoX2Rvd25sb2FkX3VybCA9IChfaWQsIGFic29sdXRlKS0+XG5cdFx0aWYgYWJzb2x1dGVcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiKTtcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiO1xuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMub3B0aW9ucyA9IChmaWVsZCktPlxuXHRcdG9wdGlvbnMgPSBmaWVsZD8ub3B0aW9ucz8uc3BsaXQoXCJcXG5cIilcblx0XHRyZXYgPSBbXVxuXHRcdG9wdGlvbnM/LmZvckVhY2ggKGl0ZW0pLT5cblx0XHRcdHJldi5wdXNoKHtsYWJlbDogaXRlbSwgdmFsdWU6IGl0ZW19KVxuXG5cdFx0cmV0dXJuIHJldlxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSAoY29kZSktPlxuXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHM/LmluY2x1ZGVzKGNvZGUpXG5cdFx0XHRyZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiXG5cdFx0cmV0dXJuIFwiXCJcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID1cblx0J2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogKGV2ZW50KS0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCd0eXBlYWhlYWQ6Y2hhbmdlIC5mb3JtLWNvbnRyb2wnOiAoZXZlbnQpIC0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCdjbGljayAuY2ZUZXh0YXJlYSBhJzogKGV2ZW50KS0+XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coZXZlbnQudGFyZ2V0LmhyZWYpO1xuXG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9ICgpLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlKTtcblxuXHR0cnlcblx0XHRjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUubG9nIFwiSW5zdGFuY2UgVGVtcGxhdGUgRXJyb3JcIiwgZVxuXHRcdGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7aXNCb2R5OiB0cnVlfSk7XG5cblxuXHRyZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuXG5cdGluc3RhbmNlVmlldyA9IG5ldyBCbGF6ZS5WaWV3KFwiY3VzdG9tX2luc3RhbmNlX3RlbXBsYXRlXCIsIHJlbmRlckZ1bmN0aW9uKTtcblxuXHRpbnN0YW5jZUN1c3RvbVRlbXBsYXRlID0gbmV3IEJsYXplLlRlbXBsYXRlKGluc3RhbmNlVmlldy5uYW1lLCByZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZVxuXG5cdFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuXG5cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9ICgpLT5cblx0IyB0ID0gdGhpcztcblxuXHQjdC5zdWJzY3JpYmUgXCJpbnN0YW5jZV9kYXRhXCIsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgLT5cblx0IyAgICBUcmFja2VyLmFmdGVyRmx1c2ggLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdCMkKFwiI2luc19hcHBsaWNhbnRcIikuc2VsZWN0MigpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuXHQkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdPy5kYXRhc2V0LnZhbHVlcyA9IGluc3RhbmNlLmFwcGxpY2FudDtcblx0JChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpXG5cblxuXHRBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtuZXh0U3RlcHM6ICcnLCBuZXh0U3RlcFVzZXJzOiAnJ307XG5cblx0IyBpbnN0YW5jZSBmcm9t57uR5a6a5LqL5Lu2XG5cdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2RyYWZ0J1xuXHRcdEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcblxuXHRpZiAhQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cblx0XHRjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuXG5cblx0XHRpbnN0YW5jZU51bWJlckZpZWxkcyA9ICQoXCJbZGF0YS1mb3JtdWxhXVwiLCAkKFwiI2luc3RhbmNlZm9ybVwiKSlcblxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2ggKCktPlxuXHRcdFx0c2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleVxuXHRcdFx0ZWxlbWVudCA9ICQodGhpcylcblx0XHRcdGlmICEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIilcblx0XHRcdFx0TWV0ZW9yLmNhbGwgJ2dldEluc3RhbmNlVmFsdWVzJywgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCAoZXJyb3IsIHJlc3VsdCktPlxuXHRcdFx0XHRcdGlmIGVycm9yXG5cdFx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKVxuXG5cdFx0XHRcdFx0aWYgIXJlc3VsdFtzY2hlbWFLZXldXG5cdFx0XHRcdFx0XHRrZXkgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpPy5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpXG5cblx0XHRcdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKVxuXG5cdFx0XHRcdFx0XHRpZiBrZXkuaW5kZXhPZihcIntcIikgPiAtMVxuXHRcdFx0XHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXG5cdFx0XHRcdFx0XHRcdGtleSA9IGtleS50cmltKClcblx0XHRcdFx0XHRcdFx0a2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKVxuXHRcdFx0XHRcdFx0SW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIgZWxlbWVudCwga2V5XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZWxlbWVudD8udmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpXG5cblx0XHRqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlXG5cdFx0Y3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXG5cdFx0Zm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuXHRcdEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcblx0XHQj5Zyo5q2k5aSE5Yid5aeL5YyWc2Vzc2lvbiDkuK3nmoQgZm9ybV92YWx1ZXMg5Y+Y6YeP77yM55So5LqO6Kem5Y+R5LiL5LiA5q2l5q2l6aqk6K6h566XXG5cdFx0U2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9mb3JtX3ZhbHVlc1wiLCB7aW5zdGFuY2VJZDogaW5zdGFuY2UuX2lkLCB2YWx1ZXM6IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jfSk7XG5cblxuXG4iLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzID0ge1xuICBhcHBsaWNhbnRDb250ZXh0OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiBzdGVlZG9zX2luc3RhbmNlLmFwcGxpY2FudF9uYW1lXG4gICAgfTtcbiAgICBpZiAoIXN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICBkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSxcbiAgaW5zdGFuY2VJZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICdpbnN0YW5jZWZvcm0nO1xuICB9LFxuICBmb3JtX3R5cGVzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtZXRob2QnO1xuICAgIH1cbiAgfSxcbiAgc3RlZWRvc19mb3JtOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgICB9XG4gIH0sXG4gIGlubmVyc3ViZm9ybUNvbnRleHQ6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBkb2NfdmFsdWVzO1xuICAgIGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgb2JqW1widGFibGVWYWx1ZXNcIl0gPSBkb2NfdmFsdWVzID8gZG9jX3ZhbHVlc1tvYmouY29kZV0gOiBbXTtcbiAgICBvYmpbXCJmb3JtSWRcIl0gPSBcImluc3RhbmNlZm9ybVwiO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIGluc3RhbmNlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RlZWRvc19pbnN0YW5jZTtcbiAgICBTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpO1xuICAgIGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuICAgIH1cbiAgfSxcbiAgZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1bmVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIHVuZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuICEoYSA9PT0gYik7XG4gIH0sXG4gIGluY2x1ZGVzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgaW5jbHVkZTogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGZpZWxkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG4gICAgfVxuICB9LFxuICBmb3JtYXREYXRlOiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFkYXRlKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMgJiYgdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBvcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmZvcm1hdCkge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgZm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xuICB9LFxuICB0cmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmbG93LCBpbnN0YW5jZSwgbG9jYWxlLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHN0ZWVkb3NEYXRhLCBzdGVwcywgdHJhY2VzO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIHN0ZWVkb3NEYXRhID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi52aWV3KSAhPSBudWxsID8gKHJlZjIgPSByZWYxLnRlbXBsYXRlKSAhPSBudWxsID8gcmVmMi5zdGVlZG9zRGF0YSA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIGluc3RhbmNlID0gc3RlZWRvc0RhdGEgIT0gbnVsbCA/IHN0ZWVkb3NEYXRhLmluc3RhbmNlIDogdm9pZCAwO1xuICAgICAgZmxvdyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbihpbnN0YW5jZSk7XG4gICAgICBsb2NhbGUgPSBzdGVlZG9zRGF0YSAhPSBudWxsID8gc3RlZWRvc0RhdGEubG9jYWxlIDogdm9pZCAwO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGbG93VmVyc2lvbigpO1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZSB8fCAhZmxvdykge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBzdGVwcyA9IGZsb3cuc3RlcHM7XG4gICAgdHJhY2VzID0ge307XG4gICAgaWYgKChyZWYzID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsKSB7XG4gICAgICByZWYzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIGFwcHJvdmVzLCByZWY0LCBzdGVwO1xuICAgICAgICBzdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZS5zdGVwKTtcbiAgICAgICAgYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgaWYgKChyZWY0ID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwpIHtcbiAgICAgICAgICByZWY0LmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgdmFyIGp1ZGdlX25hbWU7XG4gICAgICAgICAgICBpZiAodHJhY2UuaXNfZmluaXNoZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdhcHByb3ZlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIGFwcHJvdmVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWplY3RlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlamVjdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVhc3NpZ25lZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlYXNzaWduZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlbG9jYXRlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlbG9jYXRlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAnJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBcIlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHBlbmRpbmdcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXBwcm92ZXMucHVzaCh7XG4gICAgICAgICAgICAgIF9pZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgICAgIGhhbmRsZXI6IGFwcHJvdmUudXNlcixcbiAgICAgICAgICAgICAgaGFuZGxlcl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfbmFtZSxcbiAgICAgICAgICAgICAgaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lLFxuICAgICAgICAgICAgICBoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZTogYXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSxcbiAgICAgICAgICAgICAgZmluaXNoX2RhdGU6IGFwcHJvdmUuZmluaXNoX2RhdGUsXG4gICAgICAgICAgICAgIGp1ZGdlOiBhcHByb3ZlLmp1ZGdlLFxuICAgICAgICAgICAgICBqdWRnZV9uYW1lOiBqdWRnZV9uYW1lLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYXBwcm92ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgaXNfZmluaXNoZWQ6IGFwcHJvdmUuaXNfZmluaXNoZWQsXG4gICAgICAgICAgICAgIHR5cGU6IGFwcHJvdmUudHlwZSxcbiAgICAgICAgICAgICAgb3Bpbmlvbl9maWVsZHNfY29kZTogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLFxuICAgICAgICAgICAgICBzaWduX2ZpZWxkX2NvZGU6IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlLFxuICAgICAgICAgICAgICBpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXG4gICAgICAgICAgICAgIHNpZ25fc2hvdzogYXBwcm92ZS5zaWduX3Nob3dcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgICAgaWYgKHN0ZXAubmFtZSBpbiB0cmFjZXMpIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXNbc3RlcC5uYW1lXSA9IHRyYWNlc1tzdGVwLm5hbWVdLmNvbmNhdChhcHByb3Zlcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFjZXNbc3RlcC5uYW1lXSA9IGFwcHJvdmVzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFjZXM7XG4gIH0sXG4gIGRvY192YWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gIH0sXG4gIGluc3RhbmNlX2JveF9zdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGJveCwgaW5zLCBqdWRnZTtcbiAgICBib3ggPSBTZXNzaW9uLmdldChcImJveFwiKTtcbiAgICBpZiAoYm94ID09PSBcImluYm94XCIgfHwgYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICAgIGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKTtcbiAgICAgIGlmIChqdWRnZSkge1xuICAgICAgICBpZiAoanVkZ2UgPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoanVkZ2UgPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBpZiAoaW5zICYmIGlucy5maW5hbF9kZWNpc2lvbikge1xuICAgICAgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1zdWNjZXNzXCI7XG4gICAgICB9IGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJldHVybiBcImJveC1kYW5nZXJcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIHRhYmxlX2ZpZWxkczogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgZmllbGRzLCBmb3JtX3ZlcnNpb247XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gICAgfVxuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIGZpZWxkcyA9IF8uY2xvbmUoZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGFmdGVyX2ZpZWxkLCBiZWZvcmVfZmllbGQsIHByZV9maWVsZHMsIHByZV93aWRlX2ZpZWxkcywgdGRfY29sc3BhbiwgdHJfZW5kLCB0cl9zdGFydDtcbiAgICAgICAgZmllbGQudHJfc3RhcnQgPSBcIlwiO1xuICAgICAgICBmaWVsZC50cl9lbmQgPSBcIlwiO1xuICAgICAgICB0ZF9jb2xzcGFuID0gMTtcbiAgICAgICAgaWYgKCh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApID09PSBmaWVsZC5jb2RlKSB7XG4gICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLmZvcm11bGEgJiYgZmllbGQudHlwZSAhPT0gJ29kYXRhJykge1xuICAgICAgICAgIGZpZWxkLnBlcm1pc3Npb24gPSBcInJlYWRvbmx5XCI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IDQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggIT09IDApIHtcbiAgICAgICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQudHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwcmVfZmllbGRzID0gZmllbGRzLnNsaWNlKDAsIGluZGV4KTtcbiAgICAgICAgICBwcmVfd2lkZV9maWVsZHMgPSBwcmVfZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcbiAgICAgICAgICB0cl9zdGFydCA9IFwiXCI7XG4gICAgICAgICAgdHJfZW5kID0gXCJcIjtcbiAgICAgICAgICBiZWZvcmVfZmllbGQgPSBudWxsO1xuICAgICAgICAgIGFmdGVyX2ZpZWxkID0gbnVsbDtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICBiZWZvcmVfZmllbGQgPSBmaWVsZHNbaW5kZXggLSAxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4IDwgZmllbGRzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGFmdGVyX2ZpZWxkID0gZmllbGRzW2luZGV4ICsgMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgdGRfY29sc3BhbiA9IDQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGJlZm9yZV9maWVsZCAmJiBhZnRlcl9maWVsZCAmJiBiZWZvcmVfZmllbGQuaXNfd2lkZSAmJiBhZnRlcl9maWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgJiYgYWZ0ZXJfZmllbGQgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwICYmIGFmdGVyX2ZpZWxkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IHRkX2NvbHNwYW47XG4gICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwIHx8IGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyIGNsYXNzID0gXFxcInRyLWNoaWxkLXRhYmxlXFxcIj5cIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gdHJfc3RhcnQ7XG4gICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gZmllbGRzLmxlbmd0aCB8fCBmaWVsZC50eXBlID09PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PT0gJ3RhYmxlJyB8fCBmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICB0cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgIT09IDApIHtcbiAgICAgICAgICAgIHRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZpZWxkLnRyX2VuZCA9IHRyX2VuZDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cbiAgfSxcbiAgc29ydF9hcHByb3ZlOiBmdW5jdGlvbihhcHByb3Zlcywgb3JkZXIpIHtcbiAgICBpZiAoIWFwcHJvdmVzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICghYXBwcm92ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3JkZXIgPT09ICdkZXNjJykge1xuICAgICAgICBhcHByb3Zlcy5zb3J0KGZ1bmN0aW9uKHAxLCBwMikge1xuICAgICAgICAgIHZhciBfcDEsIF9wMjtcbiAgICAgICAgICBfcDEgPSAwO1xuICAgICAgICAgIF9wMiA9IDA7XG4gICAgICAgICAgaWYgKHAxLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwMi5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3AyIC0gX3AxO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwcHJvdmVzLnNvcnQoZnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgICAgICAgdmFyIF9wMSwgX3AyO1xuICAgICAgICAgIF9wMSA9IDA7XG4gICAgICAgICAgX3AyID0gMDtcbiAgICAgICAgICBpZiAocDEuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHAyLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcDEgLSBfcDI7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZXM7XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICB9LFxuICBnZXRGaWVsZDogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKTtcbiAgICB9XG4gIH0sXG4gIGdldFZhbHVlOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgaW5zdGFuY2UsIGxvY2FsZSwgdXRjT2Zmc2V0LCB2YWx1ZXM7XG4gICAgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXQ7XG4gICAgdmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9O1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICB9XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZXNbY29kZV0sIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSksIGxvY2FsZSwgdXRjT2Zmc2V0KTtcbiAgfSxcbiAgZ2V0TGFiZWw6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBjb2RlKTtcbiAgfSxcbiAgZ2V0Q2ZDbGFzczogZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoKGZpZWxkICE9IG51bGwgPyBmaWVsZC50eXBlIDogdm9pZCAwKSA9PT0gXCJpbnB1dFwiICYmIChmaWVsZCAhPSBudWxsID8gZmllbGQuaXNfdGV4dGFyZWEgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJjZlRleHRhcmVhXCI7XG4gICAgfVxuICB9LFxuICBnZXRUYWJsZVRoZWFkOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIGZhbHNlKTtcbiAgfSxcbiAgZ2V0VGFibGVCb2R5OiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBpbnN0YW5jZSwgdGFibGVWYWx1ZSwgdmFsdWVzO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuICAgICAgdmFsdWVzID0gaW5zdGFuY2UudmFsdWVzIHx8IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgfVxuICAgIHRhYmxlVmFsdWUgPSB2YWx1ZXNbZmllbGQuY29kZV07XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYm9keShmaWVsZC5zZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKSwgZmllbGQsIHRhYmxlVmFsdWUsIGZhbHNlKTtcbiAgfSxcbiAgc2hvd0xhYmVsOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciB0ZW1wbGF0ZURhdGE7XG4gICAgdGVtcGxhdGVEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhO1xuICAgIGlmICh0ZW1wbGF0ZURhdGEubGFiZWwgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuICBpc09waW5pb25GaWVsZDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZC5mb3JtdWxhKTtcbiAgfSxcbiAgaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmc6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgfSxcbiAgaW5jbHVkZXNPcGluaW9uRmllbGQ6IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICAgIHZhciBmaWVsZF9mb3JtdWxhcywgZmllbGRzLCByZWY7XG4gICAgZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcbiAgICBmaWVsZHMgPSAoKHJlZiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZvcm1fdmVyc2lvbixcbiAgICAgIGZvcm06IGZvcm1cbiAgICB9KSkgIT0gbnVsbCA/IHJlZi5maWVsZHMgOiB2b2lkIDApIHx8IFtdO1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIHZhciByZWYxO1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmMSA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5mb3JFYWNoKGZ1bmN0aW9uKGYxKSB7XG4gICAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZjEuZm9ybXVsYSk7XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZi5mb3JtdWxhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gXy5zb21lKGZpZWxkX2Zvcm11bGFzLCBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lOiBmdW5jdGlvbihmaWVsZF9mb3JtdWxhLCB0b3Bfa2V5d29yZHMpIHtcbiAgICB2YXIgZm9vMSwgb3BpbmlvbkZpZWxkcztcbiAgICBvcGluaW9uRmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSkpIHtcbiAgICAgIGlmIChmaWVsZF9mb3JtdWxhKSB7XG4gICAgICAgIGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKTtcbiAgICAgICAgZm9vMS5mb3JFYWNoKGZ1bmN0aW9uKGZvbykge1xuICAgICAgICAgIHZhciBqc29uX2Zvcm11bGEsIHJlZiwgcmVmMSwgczEsIHNmO1xuICAgICAgICAgIGpzb25fZm9ybXVsYSA9IHt9O1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBqc29uX2Zvcm11bGEgPSBldmFsKFwiKFwiICsgZm9vICsgXCIpXCIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICAgICAganNvbl9mb3JtdWxhID0ge307XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChqc29uX2Zvcm11bGEgIT0gbnVsbCA/IGpzb25fZm9ybXVsYS55aWppYW5sYW4gOiB2b2lkIDApIHtcbiAgICAgICAgICAgIHNmID0ge307XG4gICAgICAgICAgICBzZi5zdGVwTmFtZSA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uc3RlcDtcbiAgICAgICAgICAgIHNmLmltYWdlX3NpZ24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLmltYWdlX3NpZ24gfHwgZmFsc2U7XG4gICAgICAgICAgICBzZi5vbmx5X2NjX29waW5pb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfY2MgfHwgZmFsc2U7XG4gICAgICAgICAgICBzZi5kZWZhdWx0X2Rlc2NyaXB0aW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbltcImRlZmF1bHRcIl07XG4gICAgICAgICAgICBzZi5vbmx5X2hhbmRsZXIgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfaGFuZGxlcjtcbiAgICAgICAgICAgIHNmLnRvcF9rZXl3b3JkcyA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4udG9wX2tleXdvcmRzIHx8IHRvcF9rZXl3b3JkcztcbiAgICAgICAgICAgIHJldHVybiBvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEpIHtcbiAgICAgICAgICAgIHNmID0ge1xuICAgICAgICAgICAgICBvbmx5X2NjX29waW5pb246IGZhbHNlLFxuICAgICAgICAgICAgICBpbWFnZV9zaWduOiBmYWxzZSxcbiAgICAgICAgICAgICAgdG9wX2tleXdvcmRzOiB0b3Bfa2V5d29yZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZm9vLmluZGV4T2YoXCJ7c2lnbmF0dXJlLlwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgIHNmLmltYWdlX3NpZ24gPSB0cnVlO1xuICAgICAgICAgICAgICBmb28gPSBmb28ucmVwbGFjZShcIntzaWduYXR1cmUuXCIsIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgczEgPSBmb28ucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICAgICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgc2Yuc3RlcE5hbWUgPSBzMS5zcGxpdChcIi5cIilbMV07XG4gICAgICAgICAgICAgIGlmIChvcGluaW9uRmllbGRzLmZpbHRlclByb3BlcnR5KFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlZiA9IG9waW5pb25GaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgaWYgKCgocmVmMSA9IHMxLnNwbGl0KFwiLlwiKVsyXSkgIT0gbnVsbCA/IHJlZjEudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCkgPT09ICdjYycpIHtcbiAgICAgICAgICAgICAgICAgICAgc2Yub25seV9jY19vcGluaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvcGluaW9uRmllbGRzO1xuICB9LFxuICBzaG93Q0NPcGluaW9uOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHMxO1xuICAgIGlmICgoKHJlZiA9IGZpZWxkLmZvcm11bGEpICE9IG51bGwgPyByZWYuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8ICgocmVmMSA9IGZpZWxkLmZvcm11bGEpICE9IG51bGwgPyByZWYxLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEpIHtcbiAgICAgIHMxID0gZmllbGQuZm9ybXVsYS5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIiwgXCJcIikucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgaWYgKCgocmVmMiA9IHMxLnNwbGl0KFwiLlwiKVsyXSkgIT0gbnVsbCA/IHJlZjIudG9Mb2NhbGVMb3dlckNhc2UoKSA6IHZvaWQgMCkgPT09ICdjYycpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIHZhciByZW5kZXJlcjtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG4gICAgICByZW5kZXJlci5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgaHJlZiArIFwiJyB0aXRsZT0nXCIgKyB0aXRsZSArIFwiJz5cIiArIHRleHQgKyBcIjwvYT5cIjtcbiAgICAgIH07XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyXG4gICAgICB9KSk7XG4gICAgfVxuICB9LFxuICBmX2xhYmVsOiBmdW5jdGlvbih0aGF0KSB7XG4gICAgcmV0dXJuIHRoYXQubmFtZSB8fCB0aGF0LmNvZGU7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtX3ZlcnNpb247XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSkudHlwZSA9PT0gJ3NlY3Rpb24nO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmRvY192YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuICAgIHJldHVybiBpbnN0YW5jZS52YWx1ZXM7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuYXBwbGljYW50Q29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG4gICAgcmV0dXJuIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCdcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZmllbGRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiZGlzYWJsZWRcIjtcbiAgfTtcbiAgVGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIoXCJhZkZpZWxkTGFiZWxUZXh0XCIsIGZ1bmN0aW9uKG9wKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgcmVmO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBvcCAhPSBudWxsID8gKHJlZiA9IG9wLmhhc2gpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIH0pO1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSB0aGlzLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc19hdHRhY2hfZG93bmxvYWRfdXJsID0gZnVuY3Rpb24oX2lkLCBhYnNvbHV0ZSkge1xuICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyBfaWQgKyBcIj9kb3dubG9hZD10cnVlXCI7XG4gICAgfVxuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLm9wdGlvbnMgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBvcHRpb25zLCByZWYsIHJldjtcbiAgICBvcHRpb25zID0gZmllbGQgIT0gbnVsbCA/IChyZWYgPSBmaWVsZC5vcHRpb25zKSAhPSBudWxsID8gcmVmLnNwbGl0KFwiXFxuXCIpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHJldiA9IFtdO1xuICAgIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaCh7XG4gICAgICAgICAgbGFiZWw6IGl0ZW0sXG4gICAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmICghKChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY29kZSkgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfTtcbn1cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2hhbmdlIC5mb3JtLWNvbnRyb2wsLmNoZWNrYm94IGlucHV0LC5hZi1yYWRpby1ncm91cCBpbnB1dCwuYWYtY2hlY2tib3gtZ3JvdXAgaW5wdXQnOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpO1xuICB9LFxuICAndHlwZWFoZWFkOmNoYW5nZSAuZm9ybS1jb250cm9sJzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgJ2NsaWNrIC5jZlRleHRhcmVhIGEnOiBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIFN0ZWVkb3Mub3BlbldpbmRvdyhldmVudC50YXJnZXQuaHJlZik7XG4gIH1cbn07XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29tcGlsZWQsIGUsIGluc3RhbmNlLCBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlLCBpbnN0YW5jZVZpZXcsIHJlbmRlckZ1bmN0aW9uLCB0ZW1wbGF0ZTtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSk7XG4gIHRyeSB7XG4gICAgY29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgZSA9IGVycm9yMTtcbiAgICBjb25zb2xlLmxvZyhcIkluc3RhbmNlIFRlbXBsYXRlIEVycm9yXCIsIGUpO1xuICAgIGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfVxuICByZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuICBpbnN0YW5jZVZpZXcgPSBuZXcgQmxhemUuVmlldyhcImN1c3RvbV9pbnN0YW5jZV90ZW1wbGF0ZVwiLCByZW5kZXJGdW5jdGlvbik7XG4gIGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUgPSBuZXcgQmxhemUuVGVtcGxhdGUoaW5zdGFuY2VWaWV3Lm5hbWUsIHJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3VycmVudEFwcHJvdmUsIGN1cnJlbnRTdGVwLCBmb3JtX3ZlcnNpb24sIGZvcm11bGFfZmllbGRzLCBpbnN0YW5jZSwgaW5zdGFuY2VOdW1iZXJGaWVsZHMsIGp1ZGdlLCByZWY7XG4gIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKChyZWYgPSAkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdKSAhPSBudWxsKSB7XG4gICAgcmVmLmRhdGFzZXQudmFsdWVzID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICB9XG4gICQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIikudmFsKGluc3RhbmNlLmFwcGxpY2FudF9uYW1lKTtcbiAgQXBwcm92ZU1hbmFnZXIuZXJyb3IgPSB7XG4gICAgbmV4dFN0ZXBzOiAnJyxcbiAgICBuZXh0U3RlcFVzZXJzOiAnJ1xuICB9O1xuICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdkcmFmdCcpIHtcbiAgICBJbnN0YW5jZUV2ZW50LmluaXRFdmVudHMoaW5zdGFuY2UuZmxvdyk7XG4gIH1cbiAgaWYgKCFBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICBjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgIGluc3RhbmNlTnVtYmVyRmllbGRzID0gJChcIltkYXRhLWZvcm11bGFdXCIsICQoXCIjaW5zdGFuY2Vmb3JtXCIpKTtcbiAgICBpbnN0YW5jZU51bWJlckZpZWxkcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsZW1lbnQsIHNjaGVtYUtleTtcbiAgICAgIHNjaGVtYUtleSA9IHRoaXMuZGF0YXNldC5zY2hlbWFLZXk7XG4gICAgICBlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgIGlmICghJCh0aGlzKS52YWwoKSAmJiBzY2hlbWFLZXkgJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuY2FsbCgnZ2V0SW5zdGFuY2VWYWx1ZXMnLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICB2YXIga2V5LCByZWYxO1xuICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdG9hc3RyLmVycm9yKGVycm9yLnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghcmVzdWx0W3NjaGVtYUtleV0pIHtcbiAgICAgICAgICAgIGtleSA9IChyZWYxID0gZWxlbWVudC5kYXRhKFwiZm9ybXVsYVwiKSkgIT0gbnVsbCA/IHJlZjEucmVwbGFjZShcImF1dG9fbnVtYmVyKFwiLCBcIlwiKS5yZXBsYWNlKFwiKVwiLCBcIlwiKSA6IHZvaWQgMDtcbiAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihcIntcIikgPiAtMSkge1xuICAgICAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZShcIntcIiwgXCJcIikucmVwbGFjZShcIn1cIiwgXCJcIik7XG4gICAgICAgICAgICAgIGtleSA9IGtleS50cmltKCk7XG4gICAgICAgICAgICAgIGtleSA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoa2V5LCAnaW5zdGFuY2Vmb3JtJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIoZWxlbWVudCwga2V5KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQgIT0gbnVsbCA/IGVsZW1lbnQudmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpIDogdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAganVkZ2UgPSBjdXJyZW50QXBwcm92ZS5qdWRnZTtcbiAgICBjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgZm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuICAgIEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICByZXR1cm4gU2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9mb3JtX3ZhbHVlc1wiLCB7XG4gICAgICBpbnN0YW5jZUlkOiBpbnN0YW5jZS5faWQsXG4gICAgICB2YWx1ZXM6IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jXG4gICAgfSk7XG4gIH1cbn07XG4iLCJJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzID0ge1xuXG5cdHNob3dNYWluVGl0bGU6IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLndvcmtmbG93TWFpbkF0dGFjaFRpdGxlLmdldCgpO1xuXHR9LFxuXHRlbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJkcmFmdFwiICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiaW5ib3hcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXG5cdFx0Ly8g5bey57uP57uT5p2f55qE5Y2V5a2Q5LiN6IO95pS56ZmE5Lu2XG5cdFx0aWYgKGlucy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cblx0XHRpZiAoIWN1cnJlbnRfc3RlcClcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdC8vIOWIhuWPkeeahOato+aWh+aIluiAhemZhOS7tuS4jeaYvuekuui9rOS4unBkZuaMiemSrlxuXHRcdC8vIOWmguaenOacieato+aWh+adg+mZkOWImeS4uuato+aWh++8jOWQpuWImeWIhuWPkeS4uumZhOS7tlxuXHRcdC8vIOWIhuWPkeeahOmZhOS7tuS4jeWFgeiuuOS/ruaUuSDliKDpmaQg5paw5aKe54mI5pysXG5cdFx0dmFyIG1haW5fYXR0YWNoX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5faWQsXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHR9KS5jb3VudCgpO1xuXG5cdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPSAwO1xuXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcblx0XHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xuXHRcdFx0aWYgKHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2gpIHtcblx0XHRcdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdFx0XHR9KS5jb3VudCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSAmJiBtYWluX2F0dGFjaF9jb3VudCA8IDEgJiYgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA8IDEpIHtcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXG5cdFx0Ly8g5q2j5paH5pyA5aSa5Y+q6IO95pyJ5LiA5LiqXG5cdFx0aWYgKG1haW5fYXR0YWNoX2NvdW50ID49IDEgfHwgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA+PSAxKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8g5byA5aeL6IqC54K55bm25LiU6K6+572u5LqG5Y+v5Lul5LiK5Lyg5q2j5paH5omN5pi+56S65LiK5Lyg5q2j5paH55qE5oyJ6ZKuXG5cdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdGlmIChjdXJyZW50X3N0ZXAgJiYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIgJiYgY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdFx0cmV0dXJuIGZhbHNlXG5cdH0sXG5cblx0ZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50OiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSlcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0dmFyIGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdyk7XG5cdFx0aWYgKCFmbG93KVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblxuXHRcdC8vIOWIhuWPkeWQjueahCDpmYTku7bvvIzkuI3lj6/ku6XnvJbovpEv5Yig6Zmk77yM5Lmf5LiN6K6p5LiK5Lyg5paw55qE6ZmE5Lu2LCDmtYHnqIvliJfooajvvJrmt7vliqDlsZ7mgKcg4oCY6KKr5YiG5Y+R5ZCO5piv5ZCm5YWB6K645LiK5Lyg6ZmE5Lu24oCZICMxODM3XG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgJiYgIWZsb3cudXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJkcmFmdFwiICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiaW5ib3hcIikge1xuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0fVxuXG5cdFx0Ly8g5bey57uP57uT5p2f55qE5Y2V5a2Q5LiN6IO95pS56ZmE5Lu2XG5cdFx0aWYgKGlucy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHRpZiAoSW5zdGFuY2VNYW5hZ2VyLmlzQ0MoaW5zKSkge1xuXHRcdFx0dmFyIHN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q0NTdGVwKCk7XG5cdFx0XHRpZiAoc3RlcCAmJiAoc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZCkpXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRcdGlmIChjdXJyZW50X3N0ZXAgJiYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKSlcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2Vcblx0fSxcblxuXHRtYWluX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XG5cblx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXlubbkuJTmnInkv67mlLnmraPmlofnmoTmnYPpmZDvvIzliJnkvJjlhYjmmL7npLrljp/nlLPor7fljZXmlofku7Zcblx0XHR2YXIgbWFpbl9hdHRhY2ggPSBudWxsO1xuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlICYmIHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSkge1xuXHRcdFx0bWFpbl9hdHRhY2ggPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLFxuXHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFtYWluX2F0dGFjaCkge1xuXHRcdFx0bWFpbl9hdHRhY2ggPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuX2lkLFxuXHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1haW5fYXR0YWNoO1xuXHR9LFxuXG5cdG5vcm1hbF9hdHRhY2htZW50czogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHR2YXIgc2VsZWN0b3IgPSB7XG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHtcblx0XHRcdFx0JG5lOiB0cnVlXG5cdFx0XHR9LFxuXHRcdH07XG5cblx0XHR2YXIgYXR0cyA9IG5ldyBBcnJheSgpO1xuXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcblx0XHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNle+8jOWImeaYvuekuuWOn+eUs+ivt+WNleaWh+S7tiwg5aaC5p6c6YCJ5oup5LqG5bCG5Y6f6KGo5Y2V5a2Y5YKo5Li66ZmE5Lu25Lmf6KaB5pi+56S6LCDlkIzml7bkuZ/opoHmmL7npLrmlrDkuIrkvKDnmoTpmYTku7Zcblx0XHRcdHZhciBkZmlzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0XHRkZmlzLnB1c2goaW5zLl9pZCk7XG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IHtcblx0XHRcdFx0JGluOiBkZmlzXG5cdFx0XHR9O1xuXG5cblx0XHRcdHNlbGVjdG9yW1wiJG9yXCJdID0gW3tcblx0XHRcdFx0XCJtZXRhZGF0YS5pbnN0YW5jZVwiOiBpbnMuX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdFwibWV0YWRhdGEuaW5zdGFuY2VcIjoge1xuXHRcdFx0XHRcdCRpbjogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRcdFx0fSxcblx0XHRcdFx0XCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcblx0XHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdFx0fVxuXHRcdFx0fV1cblxuXHRcdFx0Ly8g5aaC5p6c5Y6f55Sz6K+35Y2V5pyJ5q2j5paH5L2G5piv5YiG5Y+R5ZCO5rKh5pyJ5q2j5paH5p2D6ZmQ77yM5YiZ5Y6f55Sz6K+35Y2V5q2j5paH5pi+56S65Zyo6ZmE5Lu25qCPXG5cdFx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcblx0XHRcdGlmIChzdGFydF9zdGVwICYmIHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggIT0gdHJ1ZSkge1xuXHRcdFx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdFx0XHQkaW46IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKGRpc3RyaWJ1dGVfbWFpbikge1xuXHRcdFx0XHRcdHZhciBmaXJzdFZlcnNpb25NYWluID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKGRpc3RyaWJ1dGVfbWFpbi5tZXRhZGF0YS5wYXJlbnQpO1xuXHRcdFx0XHRcdGRpc3RyaWJ1dGVfbWFpbi5hdHRhY2htZW50VXBsb2FkZWRBdCA9IGZpcnN0VmVyc2lvbk1haW4gPyBmaXJzdFZlcnNpb25NYWluLnVwbG9hZGVkQXQgOiBkaXN0cmlidXRlX21haW4udXBsb2FkZWRBdDtcblx0XHRcdFx0XHRhdHRzLnB1c2goZGlzdHJpYnV0ZV9tYWluKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IGlucy5faWQ7XG5cdFx0fVxuXG5cdFx0Y2ZzLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcblx0XHRcdHZhciBmaXJzdFZlcnNpb24gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoYy5tZXRhZGF0YS5wYXJlbnQpO1xuXHRcdFx0Yy5hdHRhY2htZW50VXBsb2FkZWRBdCA9IGZpcnN0VmVyc2lvbiA/IGZpcnN0VmVyc2lvbi51cGxvYWRlZEF0IDogYy51cGxvYWRlZEF0O1xuXHRcdFx0YXR0cy5wdXNoKGMpO1xuXHRcdH0pXG5cblx0XHRyZXR1cm4gXy5zb3J0QnkoYXR0cywgJ2F0dGFjaG1lbnRVcGxvYWRlZEF0Jyk7XG5cdH0sXG5cblx0c2hvd0F0dGFjaG1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXvvIzliJnmmL7npLrljp/nlLPor7fljZXmlofku7Yg5ZKM5YiG5Y+R5ZCO55Sz6K+35Y2V5paH5Lu2XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnMuX2lkKTtcblx0XHR2YXIgYXR0YWNobWVudHNfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG5cdFx0fSkuY291bnQoKTtcblxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhdHRhY2htZW50c19jb3VudCA8IDEpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJpbmJveFwiIHx8IGF0dGFjaG1lbnRzX2NvdW50ID4gMClcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZTtcblx0fSxcblxuXHRfdDogZnVuY3Rpb24oa2V5KSB7XG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxuXHR9LFxuXG5cdF86IGZ1bmN0aW9uKGtleSkge1xuXHRcdHZhciBsb2NhbGU7XG5cdFx0aWYgKE1ldGVvci5pc0NsaWVudCkge1xuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XG5cdFx0fVxuXHR9LFxuXG5cdGZsb3dfZmlsZXM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRyZXR1cm4gY2ZzLmZpbGVzLmZpbmQoeyAnbWV0YWRhdGEuc3BhY2UnOiBpbnMuc3BhY2UsICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBpbnMuZmxvdyB9KTtcblx0fSxcblxuXHRpc0RyYWZ0QW5kRmxvd2ZpbGVzRXhpc3Q6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRyZXR1cm4gKFNlc3Npb24uZ2V0KCdib3gnKSA9PSAnZHJhZnQnKSAmJiAhIWNmcy5maWxlcy5maW5kKHsgJ21ldGFkYXRhLnNwYWNlJzogaW5zLnNwYWNlLCAnbWV0YWRhdGEub2JqZWN0X25hbWUnOiAnZmxvd3MnLCAnbWV0YWRhdGEucmVjb3JkX2lkJzogaW5zLmZsb3cgfSkuY291bnQoKTtcblx0fVxuXG5cbn1cblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcblx0fVxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9O1xuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLmVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBmYWxzZVxuXHR9O1xuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMubWFpbl9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY29tcGFjdChbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLCBpbnN0YW5jZS5faWRdKTtcblx0XHR2YXIgYXR0YWNobWVudCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHR9KTtcblxuXHRcdHJldHVybiBhdHRhY2htZW50O1xuXHR9O1xuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMubm9ybWFsX2F0dGFjaG1lbnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHN0ZWVkb3NEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhXG5cdFx0dmFyIGluc3RhbmNlID0gc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGluc3RhbmNlLl9pZCk7XG5cdFx0dmFyIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzoge1xuXHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHQkb3I6IFt7XG5cdFx0XHRcdCdtZXRhZGF0YS5pc19wcml2YXRlJzoge1xuXHRcdFx0XHRcdCRuZTogdHJ1ZVxuXHRcdFx0XHR9XG5cdFx0XHR9LCB7XG5cdFx0XHRcdCdtZXRhZGF0YS5pc19wcml2YXRlJzogdHJ1ZSxcblx0XHRcdFx0XCJtZXRhZGF0YS5vd25lclwiOiBzdGVlZG9zRGF0YS51c2VySWRcblx0XHRcdH1dXG5cdFx0fSkuZmV0Y2goKTtcblxuXHRcdHJldHVybiBhdHRhY2htZW50cztcblx0fTtcblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLnNob3dBdHRhY2htZW50cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zdGFuY2UuX2lkKTtcblxuXHRcdHZhciBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcblx0XHR9KS5mZXRjaCgpO1xuXG5cdFx0aWYgKGF0dGFjaG1lbnRzICYmIGF0dGFjaG1lbnRzLmxlbmd0aCA+IDApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLnNob3dNYWluVGl0bGUgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jb21wYWN0KFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsIGluc3RhbmNlLl9pZF0pO1xuXHRcdHZhciBtYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcblx0XHR9KS5jb3VudCgpO1xuXG5cdFx0cmV0dXJuIG1haW5fYXR0YWNoX2NvdW50ID4gMFxuXHR9XG59XG4iLCJJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgPVxuXHRzaG93OiAoc3RlcE5hbWUpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlmIFNlc3Npb24uZ2V0KCdpbnN0YW5jZVByaW50Jylcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHRpZiBJbnN0YW5jZU1hbmFnZXIuaXNJbmJveCgpXG5cdFx0XHRcdG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpXG5cdFx0XHRcdGlmIG15QXBwcm92ZVxuXHRcdFx0XHRcdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0XHRcdFx0bXlUcmFjZSA9IGluc3RhbmNlPy50cmFjZXM/LmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgbXlBcHByb3ZlLnRyYWNlKVxuXHRcdFx0XHRcdHJldHVybiBteVRyYWNlPy5uYW1lID09IHN0ZXBOYW1lXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0ZGVmYXVsdERlc2NyaXB0aW9uOiAoKS0+XG4jXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIpXG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uXG5cblx0dHJhY2VzOiAoKS0+XG5cdFx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxuXG5cdHRyYWNlOiAoc3RlcE5hbWUsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiwgdG9wX2tleXdvcmRzKS0+XG5cdFx0aW5zdGFuY2UgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlKClcblxuXHRcdGlzX2NvbXBsZXRlZCA9IGluc3RhbmNlPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXG5cblx0XHRjb21wbGV0ZWRfZGF0ZSA9IGlmIGlzX2NvbXBsZXRlZCB0aGVuIF8ubGFzdChpbnN0YW5jZS50cmFjZXMpPy5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpIGVsc2UgMFxuXG5cdFx0aWYgaXNfY29tcGxldGVkICYmIGluc3RhbmNlLmZpbmlzaF9kYXRlXG5cdFx0XHRjb21wbGV0ZWRfZGF0ZSA9IGluc3RhbmNlLmZpbmlzaF9kYXRlPy5nZXRUaW1lKClcblxuXHRcdHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcblxuXHRcdGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbc3RlcE5hbWVdKVxuXG5cdFx0YXBwcm92ZV9zb3J0ID0gKGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpLT5cblxuI+WvuUFwcHJvdmVz5o6S5bqP77yMIOaMieeFp+aPkOS6pOaXtumXtOaOkuWAkuW6j++8jOWmguaenOayoeacieaPkOS6pOWImeaYvuekuuWcqOacgOS4iui+uVxuXHRcdFx0YXBwcm92ZXNfc29ydGVkID0gXy5zb3J0QnkgYXBwcm92ZXMsIChhcHByb3ZlKS0+XG5cdFx0XHRcdHJldHVybiAtKGFwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpXG5cblx0XHRcdCPpgJrov4flhbPplK7lrZfmjpLluo9cblx0XHRcdGlmIHRvcF9rZXl3b3Jkc1xuXHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0XHRcdHRvcF9rZXl3b3Jkcy5zcGxpdChcIixcIikuZm9yRWFjaCAoa2V5KSAtPlxuXHRcdFx0XHRcdHRvcF9hcHByb3ZlcyA9IF8udW5pb24gdG9wX2FwcHJvdmVzLCBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIChhcHByb3ZlKS0+XG5cdFx0XHRcdFx0XHRyZXR1cm4gYXBwcm92ZT8uaGFuZGxlcl9uYW1lPy5pbmRleE9mKGtleSkgPiAtMVxuXHRcdFx0XHRcdClcblx0XHRcdFx0IyDlr7nnva7pobbmhI/op4HmjInnhaflpITnkIbkuovku7bmjpLlgJLluo9cblx0XHRcdFx0dG9wX2FwcHJvdmVzID0gXy5zb3J0QnkgdG9wX2FwcHJvdmVzLCAodG9wX2FwcHJvdmUpLT5cblx0XHRcdFx0XHRyZXR1cm4gLSh0b3BfYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKClcblxuXHRcdFx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLnVuaW9uIHRvcF9hcHByb3ZlcywgYXBwcm92ZXNfc29ydGVkXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNfc29ydGVkIHx8IFtdXG5cblx0XHRhcHByb3ZlcyA9IF8uZmlsdGVyIGFwcHJvdmVzLCAoYSktPlxuXHRcdFx0cmV0dXJuIGEudHlwZSBpc250IFwiZm9yd2FyZFwiIGFuZCBhLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIiBhbmQgYS50eXBlIGlzbnQgXCJ0ZXJtaW5hdGVkXCJcblxuXHRcdGlmIG9ubHlfY2Nfb3BpbmlvblxuXHRcdFx0YXBwcm92ZXMgPSBhcHByb3Zlcz8uZmlsdGVyUHJvcGVydHkoXCJ0eXBlXCIsIFwiY2NcIilcblxuXHRcdGFwcHJvdmVzX3NvcnRlZCA9IGFwcHJvdmVfc29ydChhcHByb3ZlcywgdG9wX2tleXdvcmRzKVxuXG5cdFx0YXBwcm92ZXNHcm91cCA9IF8uZ3JvdXBCeShhcHByb3ZlcywgXCJoYW5kbGVyXCIpO1xuXG5cdFx0aGFzTmV4dCA9IChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAtPlxuXHRcdFx0aGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdXG5cdFx0XHRyZXR1cm4gXy5pbmRleE9mKGhhbmRsZXJBcHByb3ZlcywgYXBwcm92ZSkgKyAxIDwgaGFuZGxlckFwcHJvdmVzLmxlbmd0aFxuXG5cdFx0aGF2ZURlc2NyaXB0aW9uQXBwcm92ZSA9IChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAtPlxuXHRcdFx0aGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdXG5cblx0XHRcdGRlc2NyaXB0aW9uQXBwcm92ZXMgPSBfLmZpbHRlciBoYW5kbGVyQXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdGlmIGEuZGVzY3JpcHRpb25cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0aWYgZGVzY3JpcHRpb25BcHByb3Zlcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0cmV0dXJuIHRydWVcblxuXG5cdFx0YXBwcm92ZXNfc29ydGVkLmZvckVhY2ggKGFwcHJvdmUpIC0+XG4jXHRcdFx05pyJ6L6T5YWl5oSP6KeBIOaIliDmnIDmlrDkuIDmnaHlubbkuJTnlKjmiLfmsqHmnInovpPlhaXov4fmhI/op4FcbiNcdFx0XHRpZiAhYXBwcm92ZS5pc19maW5pc2hlZCB8fCBhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAmJiAhaGF2ZURlc2NyaXB0aW9uQXBwcm92ZShhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSlcbiNcdFx0XHRpZiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKVxuXHRcdFx0aWYgYXBwcm92ZS5zaWduX3Nob3cgIT0gZmFsc2UgJiYgKGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFhcHByb3ZlLmRlc2NyaXB0aW9uICYmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApICYmICFhcHByb3ZlLmlzX2ZpbmlzaGVkKSB8fCBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndvcmtmbG93Py5zaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24pXG5cdFx0XHRcdGlmIGFwcHJvdmUuanVkZ2UgaXNudCAndGVybWluYXRlZCdcblx0XHRcdFx0XHRhcHByb3ZlLl9kaXNwbGF5ID0gdHJ1ZVxuXG5cdFx0YXBwcm92ZXNfc29ydGVkID0gXy5maWx0ZXIgYXBwcm92ZXNfc29ydGVkLCAoYSkgLT5cblx0XHRcdGlmIGlzX2NvbXBsZXRlZFxuXHRcdFx0XHRyZXR1cm4gYS5fZGlzcGxheSA9PSB0cnVlICYmIGEuaXNfZmluaXNoZWQgJiYgYS5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpIDw9IGNvbXBsZXRlZF9kYXRlXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBhLl9kaXNwbGF5ID09IHRydWVcblx0XHRyZXR1cm4gYXBwcm92ZXNfc29ydGVkXG5cblx0aW5jbHVkZTogKGEsIGIpIC0+XG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZShhLCBiKVxuXG5cdHVuZW1wdHk6ICh2YWwpLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy51bmVtcHR5KHZhbCkgfHwgTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy53b3JrZmxvdz8uc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uXG5cblx0Zm9ybWF0RGF0ZTogKGRhdGUsIG9wdGlvbnMpLT5cblx0XHRpZiAhb3B0aW9uc1xuXHRcdFx0b3B0aW9ucyA9IHtcImZvcm1hdFwiOiBcIllZWVktTU0tRERcIn1cblxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1hdERhdGUoZGF0ZSwgb3B0aW9ucylcblxuXHRpc015QXBwcm92ZTogKGFwcHJvdmUsIG9ubHlfY2Nfb3BpbmlvbikgLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG5cdFx0XHRjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpXG5cblx0XHRcdGlmICFhcHByb3ZlPy5faWRcblx0XHRcdFx0YXBwcm92ZSA9IGN1cnJlbnRBcHByb3ZlXG5cblx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGN1cnJlbnRBcHByb3ZlPy5faWQgJiYgY3VycmVudEFwcHJvdmU/LnR5cGUgPT0gJ2NjJyAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZVxuXHRcdFx0XHRpZiBfLmluZGV4T2YoY3VycmVudEFwcHJvdmU/Lm9waW5pb25fZmllbGRzX2NvZGUsIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSA+IC0xXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0XHRpZiAhKGN1cnJlbnRBcHByb3ZlPy50eXBlID09ICdjYycpICYmIG9ubHlfY2Nfb3BpbmlvblxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdFx0aWYgY3VycmVudEFwcHJvdmUgJiYgYXBwcm92ZS5faWQgPT0gY3VycmVudEFwcHJvdmUuX2lkXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0bXlBcHByb3ZlRGVzY3JpcHRpb246IChhcHByb3ZlSWQpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0bXlBcHByb3ZlID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8ubXlBcHByb3ZlPy5nZXQoKVxuXHRcdFx0XHRpZiBteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdGlmICFteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IG15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxuXHRcdFx0XHRcdFx0aWYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbXlBcHByb3ZlPy5kZXNjcmlwdGlvbiB8fCBcIlwiXG5cdFx0XHRcdFx0XHRyZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXG5cblx0bm93OiAoKS0+XG5cdFx0cmV0dXJuIG5ldyBEYXRlKCk7XG5cblx0aXNSZWFkT25seTogKCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0cmV0dXJuIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdGlzT3Bpbmlvbk9mRmllbGQ6IChhcHByb3ZlKS0+XG5cdFx0aWYgYXBwcm92ZS50eXBlID09IFwiY2NcIiAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZVxuXHRcdFx0aWYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUgPT0gYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGVcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cblx0bWFya0Rvd25Ub0h0bWw6IChtYXJrRG93blN0cmluZyktPlxuXHRcdGlmIG1hcmtEb3duU3RyaW5nXG5cdFx0XHRyZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuXHRcdFx0cmVuZGVyZXIubGluayA9IChocmVmLCB0aXRsZSwgdGV4dCkgLT5cblx0XHRcdFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7cmVuZGVyZXI6IHJlbmRlcmVyfSkpXG5cblx0c3RlcHM6IChmaWVsZF9mb3JtdWxhLCBzdGVwLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24pLT5cblx0XHRzdGVwcyA9IFtdXG5cdFx0aWYgIXN0ZXBcblx0XHRcdGlmICFmaWVsZF9mb3JtdWxhXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGEgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpPy5maWVsZHM/LmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIHRoaXMubmFtZSkuZm9ybXVsYVxuXHRcdFx0c3RlcHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmdldE9waW5pb25GaWVsZFN0ZXBzTmFtZShmaWVsZF9mb3JtdWxhLCBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhLnRvcF9rZXl3b3Jkcylcblx0XHRlbHNlXG5cdFx0XHRzdGVwcyA9IFt7c3RlcE5hbWU6IHN0ZXAsIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduOiBpbWFnZV9zaWdufV1cblx0XHRyZXR1cm4gc3RlcHNcblxuXHRpbWFnZVNpZ25EYXRhOiAoaGFuZGxlcikgLT5cblx0XHRyZXR1cm4ge3VzZXI6IGhhbmRsZXJ9XG5cblx0c2hvd1NpZ25JbWFnZTogKGhhbmRsZXIsIGltYWdlX3NpZ24sIGp1ZGdlKSAtPlxuXHRcdGlmIFsncmV0dXJuZWQnLCAndGVybWluYXRlZCcsICdyZXRyaWV2ZWQnXS5pbmNsdWRlcyhqdWRnZSlcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpXG5cblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduICYmIGltYWdlX3NpZ25cblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0Z2V0TGFzdFNpZ25BcHByb3ZlOiAoKS0+XG5cdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cblx0XHRyZXR1cm4gXy5sYXN0KFRyYWNlc01hbmFnZXIuZ2V0SGFuZGxlclNpZ25TaG93QXBwcm92ZXMgaW5zLCBNZXRlb3IudXNlcklkKCkpXG5cblxuXHRsYXN0TXlBcHByb3ZlRGVzY3JpcHRpb246ICgpLT5cblx0XHR0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXG5cdFx0Y3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW2N1cnJlbnRTdGVwLm5hbWVdKVxuXG5cdFx0YXBwcm92ZXMgPSBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgTWV0ZW9yLnVzZXJJZCgpKVxuXG5cdFx0aWYgYXBwcm92ZXMubGVuZ3RoID4gMVxuXHRcdFx0cmV0dXJuIGFwcHJvdmVzW2FwcHJvdmVzLmxlbmd0aCAtIDJdPy5kZXNjcmlwdGlvblxuXG5cdFx0cmV0dXJuIFwiXCI7XG5cblx0c2hvd0FwcHJvdmU6IChhcHByb3ZlKS0+XG5cdFx0aWYgIWFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09IFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGE/Lm5hbWVcblx0XHRcdGlmIGFwcHJvdmU/LmlzX3JlYWRcblx0XHRcdFx0aWYgYXBwcm92ZS5pc19maW5pc2hlZFxuXHRcdFx0XHRcdHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGFwcHJvdmUuanVkZ2UpXG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5cdGp1ZGdlX2Rlc2NyaXB0aW9uOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gdChqdWRnZSArIFwiX2Rlc2NyaXB0aW9uXCIpXG5cblx0aXNfYXBwcm92ZWQ6IChqdWRnZSktPlxuXHRcdHJldHVybiBcImFwcHJvdmVkXCIgPT0ganVkZ2VcblxuXHRpc19yZWplY3RlZDogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIFwicmVqZWN0ZWRcIiA9PSBqdWRnZVxuXG5cdGlzX3JlYWRlZDogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoanVkZ2UpXG5cblx0YWRkQ2xhc3M6ICgpLT5cblx0XHRuYW1lID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxuXHRcdHNldFRpbWVvdXQgKCkgLT5cblx0XHRcdHRyeVxuXHRcdFx0XHRlbGVtZW50ID0gJChcIi5hdXRvbWF0aWMub3Bpbmlvbi1maWVsZC1cIiArIG5hbWUpXG5cdFx0XHRcdGlmIGVsZW1lbnQubGVuZ3RoID4gMFxuXHRcdFx0XHRcdGlmIGVsZW1lbnQ/LmlzKFwidGRcIilcblx0XHRcdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJylcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHQkKFwiLmluc3RhbmNlLXNpZ25cIiwgZWxlbWVudCkuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJylcblx0XHRcdGNhdGNoIGVcblx0XHRcdFx0Y29uc29sZS5sb2cgZVxuXHRcdCwgMVxuXHRcdHJldHVybiAnJ1xuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0SW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzLmRlZmF1bHREZXNjcmlwdGlvbiA9IC0+XG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbiB8fCBUQVBpMThuLl9fKFwiaW5zdGFuY2VfZGVmYXVsdF9vcGluaW9uXCIsIHt9LCBsb2NhbGUpIiwiSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzID0ge1xuICBzaG93OiBmdW5jdGlvbihzdGVwTmFtZSkge1xuICAgIHZhciBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteVRyYWNlLCByZWY7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KCdpbnN0YW5jZVByaW50JykpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKEluc3RhbmNlTWFuYWdlci5pc0luYm94KCkpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgICAgICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgICAgIG15VHJhY2UgPSBpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIG15QXBwcm92ZS50cmFjZSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIChteVRyYWNlICE9IG51bGwgPyBteVRyYWNlLm5hbWUgOiB2b2lkIDApID09PSBzdGVwTmFtZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGRlZmF1bHREZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uO1xuICB9LFxuICB0cmFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICB9LFxuICB0cmFjZTogZnVuY3Rpb24oc3RlcE5hbWUsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiwgdG9wX2tleXdvcmRzKSB7XG4gICAgdmFyIGFwcHJvdmVfc29ydCwgYXBwcm92ZXMsIGFwcHJvdmVzR3JvdXAsIGFwcHJvdmVzX3NvcnRlZCwgY29tcGxldGVkX2RhdGUsIGhhc05leHQsIGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUsIGluc3RhbmNlLCBpc19jb21wbGV0ZWQsIHJlZiwgcmVmMSwgcmVmMiwgdHJhY2VzO1xuICAgIGluc3RhbmNlID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSgpO1xuICAgIGlzX2NvbXBsZXRlZCA9IChpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2Uuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiO1xuICAgIGNvbXBsZXRlZF9kYXRlID0gaXNfY29tcGxldGVkID8gKHJlZiA9IF8ubGFzdChpbnN0YW5jZS50cmFjZXMpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYxLmdldFRpbWUoKSA6IHZvaWQgMCA6IHZvaWQgMCA6IDA7XG4gICAgaWYgKGlzX2NvbXBsZXRlZCAmJiBpbnN0YW5jZS5maW5pc2hfZGF0ZSkge1xuICAgICAgY29tcGxldGVkX2RhdGUgPSAocmVmMiA9IGluc3RhbmNlLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMi5nZXRUaW1lKCkgOiB2b2lkIDA7XG4gICAgfVxuICAgIHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gICAgYXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tzdGVwTmFtZV0pO1xuICAgIGFwcHJvdmVfc29ydCA9IGZ1bmN0aW9uKGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpIHtcbiAgICAgIHZhciBhcHByb3Zlc19zb3J0ZWQsIHRvcF9hcHByb3ZlcztcbiAgICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8uc29ydEJ5KGFwcHJvdmVzLCBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgIHJldHVybiAtKGFwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgfSk7XG4gICAgICBpZiAodG9wX2tleXdvcmRzKSB7XG4gICAgICAgIHRvcF9hcHByb3ZlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0b3Bfa2V5d29yZHMuc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgcmV0dXJuIHRvcF9hcHByb3ZlcyA9IF8udW5pb24odG9wX2FwcHJvdmVzLCBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgIHZhciByZWYzO1xuICAgICAgICAgICAgcmV0dXJuIChhcHByb3ZlICE9IG51bGwgPyAocmVmMyA9IGFwcHJvdmUuaGFuZGxlcl9uYW1lKSAhPSBudWxsID8gcmVmMy5pbmRleE9mKGtleSkgOiB2b2lkIDAgOiB2b2lkIDApID4gLTE7XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdG9wX2FwcHJvdmVzID0gXy5zb3J0QnkodG9wX2FwcHJvdmVzLCBmdW5jdGlvbih0b3BfYXBwcm92ZSkge1xuICAgICAgICAgIHJldHVybiAtKHRvcF9hcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8udW5pb24odG9wX2FwcHJvdmVzLCBhcHByb3Zlc19zb3J0ZWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFwcHJvdmVzX3NvcnRlZCB8fCBbXTtcbiAgICB9O1xuICAgIGFwcHJvdmVzID0gXy5maWx0ZXIoYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBhLnR5cGUgIT09IFwiZm9yd2FyZFwiICYmIGEudHlwZSAhPT0gXCJkaXN0cmlidXRlXCIgJiYgYS50eXBlICE9PSBcInRlcm1pbmF0ZWRcIjtcbiAgICB9KTtcbiAgICBpZiAob25seV9jY19vcGluaW9uKSB7XG4gICAgICBhcHByb3ZlcyA9IGFwcHJvdmVzICE9IG51bGwgPyBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcInR5cGVcIiwgXCJjY1wiKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgYXBwcm92ZXNfc29ydGVkID0gYXBwcm92ZV9zb3J0KGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpO1xuICAgIGFwcHJvdmVzR3JvdXAgPSBfLmdyb3VwQnkoYXBwcm92ZXMsIFwiaGFuZGxlclwiKTtcbiAgICBoYXNOZXh0ID0gZnVuY3Rpb24oYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkge1xuICAgICAgdmFyIGhhbmRsZXJBcHByb3ZlcztcbiAgICAgIGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXTtcbiAgICAgIHJldHVybiBfLmluZGV4T2YoaGFuZGxlckFwcHJvdmVzLCBhcHByb3ZlKSArIDEgPCBoYW5kbGVyQXBwcm92ZXMubGVuZ3RoO1xuICAgIH07XG4gICAgaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSA9IGZ1bmN0aW9uKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIHtcbiAgICAgIHZhciBkZXNjcmlwdGlvbkFwcHJvdmVzLCBoYW5kbGVyQXBwcm92ZXM7XG4gICAgICBoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl07XG4gICAgICBkZXNjcmlwdGlvbkFwcHJvdmVzID0gXy5maWx0ZXIoaGFuZGxlckFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIGlmIChhLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBpZiAoZGVzY3JpcHRpb25BcHByb3Zlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBhcHByb3Zlc19zb3J0ZWQuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICB2YXIgcmVmMztcbiAgICAgIGlmIChhcHByb3ZlLnNpZ25fc2hvdyAhPT0gZmFsc2UgJiYgKGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFhcHByb3ZlLmRlc2NyaXB0aW9uICYmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApICYmICFhcHByb3ZlLmlzX2ZpbmlzaGVkKSB8fCAoKHJlZjMgPSBNZXRlb3Iuc2V0dGluZ3NbXCJwdWJsaWNcIl0ud29ya2Zsb3cpICE9IG51bGwgPyByZWYzLnNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbiA6IHZvaWQgMCkpKSB7XG4gICAgICAgIGlmIChhcHByb3ZlLmp1ZGdlICE9PSAndGVybWluYXRlZCcpIHtcbiAgICAgICAgICByZXR1cm4gYXBwcm92ZS5fZGlzcGxheSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciByZWYzO1xuICAgICAgaWYgKGlzX2NvbXBsZXRlZCkge1xuICAgICAgICByZXR1cm4gYS5fZGlzcGxheSA9PT0gdHJ1ZSAmJiBhLmlzX2ZpbmlzaGVkICYmICgocmVmMyA9IGEuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYzLmdldFRpbWUoKSA6IHZvaWQgMCkgPD0gY29tcGxldGVkX2RhdGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gYS5fZGlzcGxheSA9PT0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYXBwcm92ZXNfc29ydGVkO1xuICB9LFxuICBpbmNsdWRlOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZShhLCBiKTtcbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIHJlZjtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy51bmVtcHR5KHZhbCkgfHwgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3NbXCJwdWJsaWNcIl0ud29ya2Zsb3cpICE9IG51bGwgPyByZWYuc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uIDogdm9pZCAwKTtcbiAgfSxcbiAgZm9ybWF0RGF0ZTogZnVuY3Rpb24oZGF0ZSwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgXCJmb3JtYXRcIjogXCJZWVlZLU1NLUREXCJcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1hdERhdGUoZGF0ZSwgb3B0aW9ucyk7XG4gIH0sXG4gIGlzTXlBcHByb3ZlOiBmdW5jdGlvbihhcHByb3ZlLCBvbmx5X2NjX29waW5pb24pIHtcbiAgICB2YXIgY3VycmVudEFwcHJvdmUsIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgICBpZiAoIShhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLl9pZCA6IHZvaWQgMCkpIHtcbiAgICAgICAgYXBwcm92ZSA9IGN1cnJlbnRBcHByb3ZlO1xuICAgICAgfVxuICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSAoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLl9pZCA6IHZvaWQgMCkgJiYgKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS50eXBlIDogdm9pZCAwKSA9PT0gJ2NjJyAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkge1xuICAgICAgICBpZiAoXy5pbmRleE9mKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlIDogdm9pZCAwLCBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkgPiAtMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCEoKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS50eXBlIDogdm9pZCAwKSA9PT0gJ2NjJykgJiYgb25seV9jY19vcGluaW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50QXBwcm92ZSAmJiBhcHByb3ZlLl9pZCA9PT0gY3VycmVudEFwcHJvdmUuX2lkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG15QXBwcm92ZURlc2NyaXB0aW9uOiBmdW5jdGlvbihhcHByb3ZlSWQpIHtcbiAgICB2YXIgbXlBcHByb3ZlLCByZWYsIHJlZjEsIHJlZjIsIHJlZjM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgIG15QXBwcm92ZSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYubXlBcHByb3ZlKSAhPSBudWxsID8gcmVmMS5nZXQoKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgaWYgKG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIGlmICghbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09PSAoKHJlZjIgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjMgPSByZWYyLmRhdGEpICE9IG51bGwgPyByZWYzLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICBpZiAoIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgICByZXR1cm4gKG15QXBwcm92ZSAhPSBudWxsID8gbXlBcHByb3ZlLmRlc2NyaXB0aW9uIDogdm9pZCAwKSB8fCBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG5vdzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gIH0sXG4gIGlzUmVhZE9ubHk6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNPcGluaW9uT2ZGaWVsZDogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlLnR5cGUgPT09IFwiY2NcIiAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkge1xuICAgICAgaWYgKFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lID09PSBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgc3RlcHM6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbikge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHN0ZXBzO1xuICAgIHN0ZXBzID0gW107XG4gICAgaWYgKCFzdGVwKSB7XG4gICAgICBpZiAoIWZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZmllbGRfZm9ybXVsYSA9IChyZWYgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCB0aGlzLm5hbWUpLmZvcm11bGEgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIChyZWYyID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IHJlZjIuZGF0YS50b3Bfa2V5d29yZHMgOiB2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGVwcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0ZXBOYW1lOiBzdGVwLFxuICAgICAgICAgIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLFxuICAgICAgICAgIGltYWdlX3NpZ246IGltYWdlX3NpZ25cbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXBzO1xuICB9LFxuICBpbWFnZVNpZ25EYXRhOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IGhhbmRsZXJcbiAgICB9O1xuICB9LFxuICBzaG93U2lnbkltYWdlOiBmdW5jdGlvbihoYW5kbGVyLCBpbWFnZV9zaWduLCBqdWRnZSkge1xuICAgIHZhciBzcGFjZVVzZXJTaWduO1xuICAgIGlmIChbJ3JldHVybmVkJywgJ3Rlcm1pbmF0ZWQnLCAncmV0cmlldmVkJ10uaW5jbHVkZXMoanVkZ2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpO1xuICAgIGlmICgoc3BhY2VVc2VyU2lnbiAhPSBudWxsID8gc3BhY2VVc2VyU2lnbi5zaWduIDogdm9pZCAwKSAmJiBpbWFnZV9zaWduKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgZ2V0TGFzdFNpZ25BcHByb3ZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiBfLmxhc3QoVHJhY2VzTWFuYWdlci5nZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyhpbnMsIE1ldGVvci51c2VySWQoKSkpO1xuICB9LFxuICBsYXN0TXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcHByb3ZlcywgY3VycmVudFN0ZXAsIHJlZiwgdHJhY2VzO1xuICAgIHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gICAgY3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICBhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW2N1cnJlbnRTdGVwLm5hbWVdKTtcbiAgICBhcHByb3ZlcyA9IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCBNZXRlb3IudXNlcklkKCkpO1xuICAgIGlmIChhcHByb3Zlcy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gKHJlZiA9IGFwcHJvdmVzW2FwcHJvdmVzLmxlbmd0aCAtIDJdKSAhPSBudWxsID8gcmVmLmRlc2NyaXB0aW9uIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfSxcbiAgc2hvd0FwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICB2YXIgcmVmLCByZWYxO1xuICAgIGlmICghYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT09ICgocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmRhdGEpICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICBpZiAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS5pc19yZWFkIDogdm9pZCAwKSB7XG4gICAgICAgIGlmIChhcHByb3ZlLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgcmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoYXBwcm92ZS5qdWRnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBqdWRnZV9kZXNjcmlwdGlvbjogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gdChqdWRnZSArIFwiX2Rlc2NyaXB0aW9uXCIpO1xuICB9LFxuICBpc19hcHByb3ZlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gXCJhcHByb3ZlZFwiID09PSBqdWRnZTtcbiAgfSxcbiAgaXNfcmVqZWN0ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFwicmVqZWN0ZWRcIiA9PT0ganVkZ2U7XG4gIH0sXG4gIGlzX3JlYWRlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhqdWRnZSk7XG4gIH0sXG4gIGFkZENsYXNzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmFtZSwgcmVmLCByZWYxO1xuICAgIG5hbWUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmRhdGEpICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlLCBlbGVtZW50O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZWxlbWVudCA9ICQoXCIuYXV0b21hdGljLm9waW5pb24tZmllbGQtXCIgKyBuYW1lKTtcbiAgICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChlbGVtZW50ICE9IG51bGwgPyBlbGVtZW50LmlzKFwidGRcIikgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJChcIi5pbnN0YW5jZS1zaWduXCIsIGVsZW1lbnQpLmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7XG4gICAgICB9XG4gICAgfSwgMSk7XG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIEluc3RhbmNlU2lnblRleHQuaGVscGVycy5kZWZhdWx0RGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIiwge30sIGxvY2FsZSk7XG4gIH07XG59XG4iLCJUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzID1cblx0ZXF1YWxzOiAoYSwgYikgLT5cblx0XHRhID09IGJcblx0ZW1wdHk6IChhKSAtPlxuXHRcdGlmIGFcblx0XHRcdGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDwgMVxuXHRcdGVsc2Vcblx0XHRcdHRydWVcblx0dW5lbXB0eTogKGEpIC0+XG5cdFx0aWYgYVxuXHRcdFx0YS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwXG5cdFx0ZWxzZVxuXHRcdFx0ZmFsc2VcblxuXHRhcHBlbmQ6IChhLCBiKSAtPlxuXHRcdGEgKyBiXG5cblx0ZGF0ZUZvcm1hdDogKGRhdGUpIC0+XG5cdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKCkgJiYgZGF0ZT8uZ2V0RnVsbFllYXIoKSA9PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKClcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwiTU0tZGQgSEg6bW1cIlxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gJC5mb3JtYXQuZGF0ZSBuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCJcblxuXHRnZXRTdGVwTmFtZTogKHN0ZXBJZCkgLT5cblx0XHRzdGVwID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlU3RlcChzdGVwSWQpXG5cdFx0aWYgc3RlcFxuXHRcdFx0cmV0dXJuIHN0ZXAubmFtZVxuXHRcdG51bGxcblx0c2hvd0RlbGV0ZUJ1dHRvbjogKGFwcHJvdmVkKSAtPlxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdjYycgYW5kIGFwcHJvdmVkLmZyb21fdXNlciA9PSBNZXRlb3IudXNlcklkKCkgYW5kIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9IHRydWUgYW5kICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIilcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZmFsc2Vcblx0aXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uOiAoYXBwcm92ZWQpIC0+XG5cdFx0YXBwcm92ZV9hZG1pbnMgPSBNZXRlb3Iuc2V0dGluZ3M/LnB1YmxpYz8ud29ya2Zsb3c/LmFwcHJvdmVfYWRtaW5zXG5cdFx0aWYgYXBwcm92ZV9hZG1pbnM/Lmxlbmd0aFxuXHRcdFx0aXNTaG93ID0gYXBwcm92ZV9hZG1pbnM/LmNvbnRhaW5zIE1ldGVvci51c2VySWQoKVxuXHRcdHVubGVzcyBpc1Nob3dcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09IE1ldGVvci51c2VySWQoKVxuXHRpc0VkaXRpbmc6ICgpIC0+XG5cdFx0IHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmlzX2VkaXRpbmc/LmdldCgpXG5cdGlzU2hvd0Rlc2NyaXB0aW9uOiAoYXBwcm92ZWQpLT5cblx0XHQjIGRlYnVnZ2VyXG5cdFx0aWYgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24gYXBwcm92ZWRcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0cmV0dXJuIGFwcHJvdmVkLmRlc2NyaXB0aW9uPy50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwXG5cdGlzQ0M6IChhcHByb3ZlZCkgLT5cblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnY2MnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdGdldEFwcHJvdmVTdGF0dXNJY29uOiAoYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSAtPlxuXHRcdGlmIGF1dG9TdWJtaXR0ZWQgPT0gdHJ1ZVxuXHRcdFx0cmV0dXJuICdpb24gaW9uLWFuZHJvaWQtYWxhcm0tY2xvY2snXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXG5cdFx0YXBwcm92ZVN0YXR1c0ljb24gPSB1bmRlZmluZWRcblx0XHRzd2l0Y2ggYXBwcm92ZUp1ZGdlXG5cdFx0XHR3aGVuICdhcHByb3ZlZCdcblx0XHRcdFx0IyDlt7LmoLjlh4Zcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnXG5cdFx0XHR3aGVuICdyZWplY3RlZCdcblx0XHRcdFx0IyDlt7LpqbPlm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCdcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5raIXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbidcblx0XHRcdHdoZW4gJ3JlYXNzaWduZWQnXG5cdFx0XHRcdCMg6L2s562+5qC4XG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0J1xuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xuXHRcdFx0XHQjIOmHjeWumuS9jVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluaydcblx0XHRcdHdoZW4gJ3JldHJpZXZlZCdcblx0XHRcdFx0IyDlt7Llj5blm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbydcblx0XHRcdGVsc2Vcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnJ1xuXHRcdFx0XHRicmVha1xuXHRcdGFwcHJvdmVTdGF0dXNJY29uXG5cdGdldEFwcHJvdmVTdGF0dXNUZXh0OiAoYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSAtPlxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXG5cdFx0aWYgYXV0b1N1Ym1pdHRlZCA9PSB0cnVlXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV90aW1lb3V0X2F1dG9fc3VibWl0dGVkJywge30sIGxvY2FsZSlcblx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IHVuZGVmaW5lZFxuXHRcdHN3aXRjaCBhcHByb3ZlSnVkZ2Vcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xuXHRcdFx0XHQjIOW3suaguOWHhlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xuXHRcdFx0XHQjIOW3sumps+WbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5raIXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZWFzc2lnbmVkJ1xuXHRcdFx0XHQjIOi9rOetvuaguFxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xuXHRcdFx0XHQjIOmHjeWumuS9jVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZXRyaWV2ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5ZueXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JldHVybmVkJ1xuXHRcdFx0XHQjIOW3sumAgOWbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlYWRlZCdcblx0XHRcdFx0IyDlt7LpmIVcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9ICcnXG5cdFx0XHRcdGJyZWFrXG5cdFx0YXBwcm92ZVN0YXR1c1RleHRcblx0XG5cdGdldEFwcHJvdmVKdWRnZUNsYXNzOiAoYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSAtPlxuXHRcdGlmIGF1dG9TdWJtaXR0ZWQgPT0gdHJ1ZVxuXHRcdFx0cmV0dXJuICdhdXRvU3VibWl0dGVkJ1xuXHRcdHJldHVybiBhcHByb3ZlSnVkZ2VcblxuXHRfdDogKGtleSktPlxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcblxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXG5cdFx0XHRcdGlmIG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0aWYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxuXHRcdFx0XHRcdFx0cmV0dXJuIG15QXBwcm92ZT8uZGVzY3JpcHRpb24gfHwgXCJcIlxuXHRcdFx0XHRcdHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblx0aXNGb3J3YXJkOiAoYXBwcm92ZWQpIC0+XG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2ZvcndhcmQnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdHNob3dGb3J3YXJkRGVsZXRlQnV0dG9uOiAoYXBwcm92ZSkgLT5cblx0XHRpZiBkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgaXMgMFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdmb3J3YXJkJyBhbmQgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cblx0XHRpZiBtYXJrRG93blN0cmluZ1xuXHRcdFx0cmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcblx0XHRcdHJlbmRlcmVyLmxpbmsgPSAoIGhyZWYsIHRpdGxlLCB0ZXh0ICkgLT5cblx0XHRcdFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7cmVuZGVyZXI6cmVuZGVyZXJ9KSlcblx0aXNEaXN0cmlidXRlOiAoYXBwcm92ZSkgLT5cblx0XHRpZiBhcHByb3ZlIGFuZCBhcHByb3ZlLnR5cGUgPT0gJ2Rpc3RyaWJ1dGUnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdHNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uOiAoYXBwcm92ZSkgLT5cblx0XHRpZiBkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgaXMgMFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiBhcHByb3ZlIGFuZCBhcHByb3ZlLnR5cGUgPT0gJ2Rpc3RyaWJ1dGUnIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnIGFuZCBTdGVlZG9zLmhhc0ZlYXR1cmUoJ2ZpbGVfZGlzdHJpYnV0aW9uJywgU3RlZWRvcy5nZXRTcGFjZUlkKCkpXG5cdFx0XHQjIOa1geeoi+euoeeQhuWRmOWSjOezu+e7n+euoeeQhuWRmO+8jOWPr+S7peaJp+ihjOS7u+S9leaDheWGteS4i+eahOaWh+S7tuWPlua2iOWIhuWPkVxuXHRcdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogYXBwcm92ZS5pbnN0YW5jZX0sIHtmaWVsZHM6IHtmbG93OiAxLCBzcGFjZTogMX19KVxuXHRcdFx0aWYgaW5zIGFuZCBpbnMuZmxvdyBhbmQgaW5zLnNwYWNlXG5cdFx0XHRcdGlmIFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIE1ldGVvci51c2VySWQoKSlcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdFx0XHRpZiBhcHByb3ZlLmZyb21fdXNlciA9PSBNZXRlb3IudXNlcklkKClcblx0XHRcdFx0cmV0dXJuIHRydWVcblxuXHRcdGZhbHNlXG5cblx0ZmluaXNoRGF0ZVNjaGVtYTogKCkgLT5cblx0XHRpZiBTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKClcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcblx0XHRcdFx0ZmluaXNoX2RhdGU6IHtcblx0XHRcdFx0XHRhdXRvZm9ybToge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJkYXRldGltZS1sb2NhbFwiXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRvcHRpb25hbDogZmFsc2UsXG5cdFx0XHRcdFx0dHlwZTogRGF0ZVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcblx0XHRcdFx0ZmluaXNoX2RhdGU6IHtcblx0XHRcdFx0XHRhdXRvZm9ybToge1xuXHRcdFx0XHRcdFx0dHlwZTogXCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXJcIlxuXHRcdFx0XHRcdFx0cmVhZG9ubHk6IHRydWVcblx0XHRcdFx0XHRcdGRhdGVUaW1lUGlja2VyT3B0aW9uczp7XG5cdFx0XHRcdFx0XHRcdGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCIsXG5cdFx0XHRcdFx0XHRcdGlnbm9yZVJlYWRvbmx5OnRydWUsXG5cdFx0XHRcdFx0XHRcdGxvY2FsZTogU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKSxcblx0XHRcdFx0XHRcdFx0d2lkZ2V0UG9zaXRpb25pbmc6e1xuXHRcdFx0XHRcdFx0XHRcdGhvcml6b250YWw6ICdyaWdodCdcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxuXHRcdFx0XHRcdHR5cGU6IERhdGVcblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRmaW5pc2hEYXRlVmFsdWVzOiAoKSAtPlxuXHRcdHJldHVybiB7XG5cdFx0XHRmaW5pc2hfZGF0ZTp0aGlzLmZpbmlzaF9kYXRlXG5cdFx0fTtcblxuXHQjIyNcbiAgICBcdOatpOWHveaVsOeUqOS6juaOp+WItuaYr+WQpuaYvuekunRyYWNlcyB2aWV3XG4gICAgXHR0cnVlOiDmmL7npLp0cmFjZXMgdmlldyznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI7mmK/nm7TmjqXlrprkvY3liLB0cmFjZXMgdmlld1xuICAgIFx0ZmFsc2U6IOS4jeaYvuekunRyYWNlcyB2aWV377yM562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCOLOS7pU1vZGFsIOaWueW8j+aYvuekunRyYWNlcyB2aWV3XG5cdCMjI1xuXHRzaG93VHJhY2VzVmlldzogKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxuI1x0XHRyZXR1cm4gIShJbnN0YW5jZU1hbmFnZXIuaXNUYWJsZVN0eWxlKGZvcm0pICYmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXNPcGluaW9uRmllbGQoZm9ybSwgZm9ybV92ZXJzaW9uKSlcblxuXHRcdHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtzcGFjZTogU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpLCBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwifSk/LnZhbHVlcyB8fCBmYWxzZVxuXG5cdFx0cmV0dXJuICFzaG93X21vZGFsX3RyYWNlc19saXN0XG5cblx0Z2V0SW5zdGFuY2VTdGF0ZVRleHQ6IChpbnN0YW5jZV9pZCktPlxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgaXNfcmVhZDogMX19KVxuXHRcdGlmIG5vdCBpbnNcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKCdpbnN0YW5jZV9kZWxldGVkJywge30sIGxvY2FsZSlcblxuXHRcdHRleHQgPSAnJ1xuXHRcdGlmIGlucy5zdGF0ZSBpcyAnY29tcGxldGVkJ1xuXHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2NvbXBsZXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ3BlbmRpbmcnXG5cdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygncGVuZGluZycsIHt9LCBsb2NhbGUpXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0J1xuXHRcdFx0aWYgaW5zLmlzX3JlYWRcblx0XHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfcmVhZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX25vdF95ZXRfaGFuZGxlZCcsIHt9LCBsb2NhbGUpXG5cblx0XHRyZXR1cm4gdGV4dFxuXG5cdGdldEluc3RhbmNlU3RhdGVDb2xvcjogKGluc3RhbmNlX2lkKS0+XG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDEsIGlzX3JlYWQ6IDF9fSlcblx0XHRpZiBub3QgaW5zXG5cdFx0XHRyZXR1cm4gXCJcIlxuXG5cdFx0Y2xhID0gJydcblx0XHRpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0J1xuXHRcdFx0aWYgaW5zLmlzX3JlYWRcblx0XHRcdFx0Y2xhID0gJ2JsdWUnXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNsYSA9ICdyZWQnXG5cdFx0cmV0dXJuIGNsYVxuXG5cdGZpcnN0VHJhY2U6IChpbmRleCktPlxuXHRcdHJldHVybiBpbmRleCBpcyAwXG5cblx0bGFzdF9kaXN0cmlidXRlX2Zyb206IChpbnN0YW5jZV9pZCktPlxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkLCBkaXN0cmlidXRlX2Zyb21faW5zdGFuY2U6IHskZXhpc3RzOiB0cnVlfX0se2ZpZWxkczp7Y3JlYXRlZDogMSwgY3JlYXRlZF9ieTogMX19KVxuXHRcdGlmIGluc1xuXHRcdFx0ZGlzX2luZm8gPSB7fVxuXHRcdFx0dXNlciA9IHt9XG5cdFx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdFx0dXNlciA9IFVVZmxvd19hcGkuZ2V0TmFtZUZvclVzZXIoaW5zLmNyZWF0ZWRfYnkpXG5cdFx0XHRlbHNlIGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0XHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7X2lkOiBpbnMuY3JlYXRlZF9ieX0sIHtmaWVsZHM6IHtuYW1lOiAxfX0pXG5cblx0XHRcdGlmIHVzZXIubmFtZVxuXHRcdFx0XHRkaXNfaW5mby5mcm9tX3VzZXIgPSB1c2VyLl9pZFxuXHRcdFx0XHRkaXNfaW5mby5mcm9tX3VzZXJfbmFtZSA9IHVzZXIubmFtZVxuXHRcdFx0XHRkaXNfaW5mby5jcmVhdGVkID0gaW5zLmNyZWF0ZWRcblxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShkaXNfaW5mbylcblx0XHRcdFx0cmV0dXJuIGRpc19pbmZvXG5cdFx0cmV0dXJuXG5cblx0aXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQ6IChhcHByb3ZlKS0+XG5cdFx0aWYgKGFwcHJvdmUudHlwZSBpcyAnY2MnIG9yIGFwcHJvdmUudHlwZSBpcyAnZGlzdHJpYnV0ZScgb3IgYXBwcm92ZS50eXBlIGlzICdmb3J3YXJkJykgYW5kIGFwcHJvdmUuanVkZ2UgaXMgJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdGp1ZGdlVGVybWluYXRlZDogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIGp1ZGdlIGlzICd0ZXJtaW5hdGVkJ1xuXG5cdGluc3RhbmNlRXhpc3RzOiAoaW5zdGFuY2VfaWQpLT5cblx0XHRyZXR1cm4gISFkYi5pbnN0YW5jZXMuZmluZChpbnN0YW5jZV9pZCkuY291bnQoKVxuXG5cdGFnZW50RGVzY3JpcHRpb246ICh1c2VyTmFtZSktPlxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiB1c2VyTmFtZX0sIGxvY2FsZSlcblx0XG5cdHRyYWNlTmFtZTogKGluc3RhbmNlX2lkLCB0cmFjZUlkKS0+XG5cdFx0cmV0dXJuIF8uZmluZChkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCwge2ZpZWxkczoge3RyYWNlczogMX19KT8udHJhY2VzLCAodHJhY2UpLT5cblx0XHRcdFx0XHRyZXR1cm4gdHJhY2UuX2lkID09ICB0cmFjZUlkXG5cdFx0KT8ubmFtZVxuXG5cdG9iamVjdFVybDogKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCktPlxuXHRcdHJldHVybiBDcmVhdG9yLmdldE9iamVjdFVybChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpXG5cbmlmIE1ldGVvci5pc1NlcnZlclxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmRhdGVGb3JtYXQgPSAoZGF0ZSktPlxuXHRcdGlmIGRhdGVcblx0XHRcdHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblx0XHRcdHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZShkYXRlLCB1dGNPZmZzZXQpO1xuXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuX3QgPSAoa2V5KS0+XG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcblxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLnNob3dEZWxldGVCdXR0b24gPSAoYXBwcm92ZWQpIC0+XG5cdFx0cmV0dXJuIGZhbHNlO1xuXG5UcmFjZXNUZW1wbGF0ZS5ldmVudHMgPVxuXHQnY2xpY2sgLmNjLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuXHRcdGlmIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nICogMSAhPSAxXG5cdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDFcblx0XHRcdCQoXCJpXCIsZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJmYS1zcGluXCIpXG5cdFx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxuXHRcdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcblx0XHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0TWV0ZW9yLmNhbGwgJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgKGVyciwgcmVzdWx0KSAtPlxuXHRcdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcblx0XHRcdFx0aWYgZXJyXG5cdFx0XHRcdFx0dG9hc3RyLmVycm9yIGVyclxuXHRcdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMFxuXHRcdFx0XHRcdCQoXCJpXCIsZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpXG5cdFx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcblx0XHRcdFx0XHRpZiAkKFwiLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbFwiKS5sZW5ndGhcblx0XHRcdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0XHRyZXR1cm5cblx0XHRcdHJldHVyblxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0TWV0ZW9yLmNhbGwgJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgKGVyciwgcmVzdWx0KSAtPlxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRpZiBlcnJcblx0XHRcdFx0dG9hc3RyLmVycm9yIGVyclxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXG5cdFx0XHRyZXR1cm5cblx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0IyBQQ+S4iumTvuaOpeWFgeiuuOebtOaOpeeCueW8gO+8jOS4jeWGjeaJk+W8gOetvuaJueWOhueoi+ivpue7hlxuXHRcdHVubGVzcyAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdChcImEuYnRuLWxpbmtcIikubGVuZ3RoXG5cdFx0XHRNb2RhbC5zaG93IFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXNcblxuXHQndGFwaG9sZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIOaJi+acuuS4iumVv+aMieaJk+W8gOetvuaJueWOhueoi+ivpue7hu+8jOWmguaenOaYr+mTvuaOpemVv+aMieaJk+W8gOWQjuS4gOaUvuaJi+eql+WPo+WwseWPiOWFs+aOieS6hu+8jOaJgOS7peS4jeiuqemTvuaOpeaJk+W8gOetvuaJueWOhueoi+ivpue7hlxuXHRcdHVubGVzcyAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdChcImEuYnRuLWxpbmtcIikubGVuZ3RoXG5cdFx0XHRNb2RhbC5zaG93IFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXNcblxuXHQnY2xpY2sgLmFwcHJvdmUtaXRlbSBhLmJ0bi1saW5rLC5hcHByb3ZlLWRlc2NyaXB0aW9uIGEuYnRuLWxpbmssLmFwcHJvdmUtaXRlbS1kaXN0cmlidXRlIGEuYnRuLWxpbmsnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdCMg5omL5py65LiK54K55Ye76ZO+5o6l77yM5by55Ye65paw56qX5Y+j77yM5LiN5pSv5oyB77yM5Zug5Li6YW5kcm9pZOS4iuS8muW8ueWHuueZu+W9leeVjOmdolxuXHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0dXNlcklkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQ/LnRhcmdldF91c2VyX2lkXG5cdFx0XHRDcmVhdG9yLm9wZW5TYWZlT2JqZWN0VXJsKCd1c2VycycsIHVzZXJJZClcblxuXHQndGFwZW5kIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdCMg5LiK6L+w6ZW/5oyJ5omT5byAYXBwcm92Zeivpue7hueql+WPo+eahOS6i+S7tnRhcGhvbGTkvJrop6blj5HmiZPlvIDnqpflj6PlkI7nmoR0b3VjaGVuZOS6i+S7tu+8jOmAoOaIkOmVv+aMieaJk+W8gOeql+WPo+WQjuS4gOaUvuaJi+eql+WPo+WwseWPiOWFs+aOieS6hlxuXHRcdCMg6L+Z6YeM5Y+q6IO96YCa6L+H6Zi75q2idGFwZW5k5LqL5Lu2KOS4jeWPr+S7peeUqHRvdWNoZW5k5LqL5Lu277yM5Zug5Li65Lya5b2x5ZONdGFwaG9sZOWKn+iDve+8jOmAoOaIkOayoeaciemVv+aMieaViOaenOaXtuS5n+S8muinpuWPkXRhcGhvbGTkuovku7Yp5YaS5rOh5p2l6YG/5YWN6Zeu6aKY44CCXG5cdFx0IyDpk77mjqXlhYHorrjnm7TmjqXngrnlvIBcblx0XHR1bmxlc3MgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aFxuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KClcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXG5cdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRNZXRlb3IuY2FsbCAnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBUQVBpMThuLl9fKGVyci5yZWFzb24pXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwiaW5zdGFuY2VfYXBwcm92ZV9mb3J3YXJkX3JlbW92ZV9zdWNjZXNzXCIpKTtcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXG5cdFx0XHRyZXR1cm5cblx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0Zm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZVxuXHRcdGZvcndhcmRfaW5zdGFuY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkaW5zdGFuY2Vcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZm9yd2FyZF9zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBmb3J3YXJkX2luc3RhbmNlKSlcblxuXHQnY2xpY2sgLmJ0bi1tb2RpZmljYXRpb24nXHQ6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuXHRcdHVubGVzcyBTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKClcblx0XHRcdFRyYWNrZXIuYWZ0ZXJGbHVzaCAtPlxuXHRcdFx0XHQjIOaYvuekuuaXpeW/l+eahOaXtuWAmeaKiua7muWKqOadoeW+gOS4i+enu+eCue+8jOiuqeaXpeacn+aOp+S7tuaYvuekuuWHuuS4gOmDqOWIhu+8jOS7pemBv+WFjeeUqOaIt+eci+S4jeWIsOaXpeacn+aOp+S7tlxuXHRcdFx0XHQkKFwiI2luc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbCAjZmluaXNoX2lucHV0XCIpLm9uIFwiZHAuc2hvd1wiLCAoKSAtPlxuXHRcdFx0XHRcdCQoXCIubW9kYWwtYm9keVwiKS5zY3JvbGxUb3AoMTAwKVxuXG5cdCdjbGljayAuYnRuLWNhbmNlbEJ1dCcgOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXG5cdFx0dGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuXG5cdCdjbGljayAuYnRuLXNhdmVCdXQnIDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKVxuXG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXG5cdFx0b3Bpbmlvbl9pbnB1dCA9ICQoJyNvcGluaW9uX2lucHV0JykudmFsKClcblx0XHRmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIilcblxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdE1ldGVvci5jYWxsICdjaGFuZ2VfYXBwcm92ZV9pbmZvJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBvcGluaW9uX2lucHV0LCBmaW5pc2hfaW5wdXQsIChlcnIsIHJlc3VsdCktPlxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRpZiBlcnJcblx0XHRcdFx0dG9hc3RyLmVycm9yIFRBUGkxOG4uX18oZXJyLnJlYXNvbilcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKHQoXCJpbnN0YW5jZV9hcHByb3ZlX21vZGFsX21vZGlmaWNhdGlvbnNhdmVcIikpXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1kaXN0cmlidXRlLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZVxuXHRcdE1vZGFsLnNob3cgJ2NhbmNlbF9kaXN0cmlidXRlX21vZGFsJ1xuIiwiVHJhY2VzVGVtcGxhdGUuaGVscGVycyA9IHtcbiAgZXF1YWxzOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgPT09IGI7XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbihhKSB7XG4gICAgaWYgKGEpIHtcbiAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBhcHBlbmQ6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGI7XG4gIH0sXG4gIGRhdGVGb3JtYXQ6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpICYmIChkYXRlICE9IG51bGwgPyBkYXRlLmdldEZ1bGxZZWFyKCkgOiB2b2lkIDApID09PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKCkpIHtcbiAgICAgIHJldHVybiAkLmZvcm1hdC5kYXRlKG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCIpO1xuICAgIH1cbiAgfSxcbiAgZ2V0U3RlcE5hbWU6IGZ1bmN0aW9uKHN0ZXBJZCkge1xuICAgIHZhciBzdGVwO1xuICAgIHN0ZXAgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VTdGVwKHN0ZXBJZCk7XG4gICAgaWYgKHN0ZXApIHtcbiAgICAgIHJldHVybiBzdGVwLm5hbWU7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBzaG93RGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnICYmIGFwcHJvdmVkLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICB2YXIgYXBwcm92ZV9hZG1pbnMsIGlzU2hvdywgcmVmLCByZWYxLCByZWYyO1xuICAgIGFwcHJvdmVfYWRtaW5zID0gKHJlZiA9IE1ldGVvci5zZXR0aW5ncykgIT0gbnVsbCA/IChyZWYxID0gcmVmW1wicHVibGljXCJdKSAhPSBudWxsID8gKHJlZjIgPSByZWYxLndvcmtmbG93KSAhPSBudWxsID8gcmVmMi5hcHByb3ZlX2FkbWlucyA6IHZvaWQgMCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmxlbmd0aCA6IHZvaWQgMCkge1xuICAgICAgaXNTaG93ID0gYXBwcm92ZV9hZG1pbnMgIT0gbnVsbCA/IGFwcHJvdmVfYWRtaW5zLmNvbnRhaW5zKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICghaXNTaG93KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09PSBNZXRlb3IudXNlcklkKCk7XG4gIH0sXG4gIGlzRWRpdGluZzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlZjtcbiAgICByZXR1cm4gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkuaXNfZWRpdGluZykgIT0gbnVsbCA/IHJlZi5nZXQoKSA6IHZvaWQgMDtcbiAgfSxcbiAgaXNTaG93RGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24oYXBwcm92ZWQpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuICgocmVmID0gYXBwcm92ZWQuZGVzY3JpcHRpb24pICE9IG51bGwgPyByZWYudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDogdm9pZCAwKSA+IDA7XG4gIH0sXG4gIGlzQ0M6IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgaWYgKGFwcHJvdmVkICYmIGFwcHJvdmVkLnR5cGUgPT09ICdjYycpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNJY29uOiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UsIGF1dG9TdWJtaXR0ZWQpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c0ljb247XG4gICAgaWYgKGF1dG9TdWJtaXR0ZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAnaW9uIGlvbi1hbmRyb2lkLWFsYXJtLWNsb2NrJztcbiAgICB9XG4gICAgYXBwcm92ZVN0YXR1c0ljb24gPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhc3NpZ25lZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluayc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0cmlldmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzSWNvbjtcbiAgfSxcbiAgZ2V0QXBwcm92ZVN0YXR1c1RleHQ6IGZ1bmN0aW9uKGFwcHJvdmVKdWRnZSwgYXV0b1N1Ym1pdHRlZCkge1xuICAgIHZhciBhcHByb3ZlU3RhdHVzVGV4dCwgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpZiAoYXV0b1N1Ym1pdHRlZCA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfdGltZW91dF9hdXRvX3N1Ym1pdHRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGFwcHJvdmVKdWRnZSkge1xuICAgICAgY2FzZSAnYXBwcm92ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVqZWN0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndGVybWluYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWxvY2F0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0dXJuZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhZGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVTdGF0dXNUZXh0O1xuICB9LFxuICBnZXRBcHByb3ZlSnVkZ2VDbGFzczogZnVuY3Rpb24oYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSB7XG4gICAgaWYgKGF1dG9TdWJtaXR0ZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiAnYXV0b1N1Ym1pdHRlZCc7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlSnVkZ2U7XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICB9LFxuICBteUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oYXBwcm92ZUlkKSB7XG4gICAgdmFyIG15QXBwcm92ZSwgcmVmLCByZWYxO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICBteUFwcHJvdmUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLm15QXBwcm92ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0KCkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBpZiAoIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIChteUFwcHJvdmUgIT0gbnVsbCA/IG15QXBwcm92ZS5kZXNjcmlwdGlvbiA6IHZvaWQgMCkgfHwgXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNGb3J3YXJkOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnZm9yd2FyZCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNob3dGb3J3YXJkRGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdmb3J3YXJkJyAmJiBhcHByb3ZlLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgJiYgYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgaXNEaXN0cmlidXRlOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgJiYgYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnICYmIFN0ZWVkb3MuaGFzRmVhdHVyZSgnZmlsZV9kaXN0cmlidXRpb24nLCBTdGVlZG9zLmdldFNwYWNlSWQoKSkpIHtcbiAgICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBhcHByb3ZlLmluc3RhbmNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZsb3c6IDEsXG4gICAgICAgICAgc3BhY2U6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaW5zICYmIGlucy5mbG93ICYmIGlucy5zcGFjZSkge1xuICAgICAgICBpZiAoV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgTWV0ZW9yLnVzZXJJZCgpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBmaW5pc2hEYXRlU2NoZW1hOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG4gICAgICAgIGZpbmlzaF9kYXRlOiB7XG4gICAgICAgICAgYXV0b2Zvcm06IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgIHR5cGU6IERhdGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcbiAgICAgICAgZmluaXNoX2RhdGU6IHtcbiAgICAgICAgICBhdXRvZm9ybToge1xuICAgICAgICAgICAgdHlwZTogXCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXJcIixcbiAgICAgICAgICAgIHJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgZGF0ZVRpbWVQaWNrZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgIGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCIsXG4gICAgICAgICAgICAgIGlnbm9yZVJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgICBsb2NhbGU6IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIiksXG4gICAgICAgICAgICAgIHdpZGdldFBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ3JpZ2h0J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGZpbmlzaERhdGVWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaW5pc2hfZGF0ZTogdGhpcy5maW5pc2hfZGF0ZVxuICAgIH07XG4gIH0sXG5cbiAgLypcbiAgICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xuICAgICBcdHRydWU6IOaYvuekunRyYWNlcyB2aWV3LOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjuaYr+ebtOaOpeWumuS9jeWIsHRyYWNlcyB2aWV3XG4gICAgIFx0ZmFsc2U6IOS4jeaYvuekunRyYWNlcyB2aWV377yM562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCOLOS7pU1vZGFsIOaWueW8j+aYvuekunRyYWNlcyB2aWV3XG4gICAqL1xuICBzaG93VHJhY2VzVmlldzogZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gICAgdmFyIHJlZiwgc2hvd19tb2RhbF90cmFjZXNfbGlzdDtcbiAgICBzaG93X21vZGFsX3RyYWNlc19saXN0ID0gKChyZWYgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBTZXNzaW9uLmdldChcInNwYWNlSWRcIiksXG4gICAgICBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiXG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICByZXR1cm4gIXNob3dfbW9kYWxfdHJhY2VzX2xpc3Q7XG4gIH0sXG4gIGdldEluc3RhbmNlU3RhdGVUZXh0OiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBpbnMsIGxvY2FsZSwgdGV4dDtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfcmVhZDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgICB0ZXh0ID0gJyc7XG4gICAgaWYgKGlucy5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdjb21wbGV0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICB0ZXh0ID0gVEFQaTE4bi5fXygncGVuZGluZycsIHt9LCBsb2NhbGUpO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnKSB7XG4gICAgICBpZiAoaW5zLmlzX3JlYWQpIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfcmVhZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfbm90X3lldF9oYW5kbGVkJywge30sIGxvY2FsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9LFxuICBnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGNsYSwgaW5zO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX3JlYWQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNsYSA9ICcnO1xuICAgIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcpIHtcbiAgICAgIGlmIChpbnMuaXNfcmVhZCkge1xuICAgICAgICBjbGEgPSAnYmx1ZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGEgPSAncmVkJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYTtcbiAgfSxcbiAgZmlyc3RUcmFjZTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPT09IDA7XG4gIH0sXG4gIGxhc3RfZGlzdHJpYnV0ZV9mcm9tOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBkaXNfaW5mbywgaW5zLCB1c2VyO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICBkaXN0cmlidXRlX2Zyb21faW5zdGFuY2U6IHtcbiAgICAgICAgJGV4aXN0czogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgZGlzX2luZm8gPSB7fTtcbiAgICAgIHVzZXIgPSB7fTtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgdXNlciA9IFVVZmxvd19hcGkuZ2V0TmFtZUZvclVzZXIoaW5zLmNyZWF0ZWRfYnkpO1xuICAgICAgfSBlbHNlIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgICAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogaW5zLmNyZWF0ZWRfYnlcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodXNlci5uYW1lKSB7XG4gICAgICAgIGRpc19pbmZvLmZyb21fdXNlciA9IHVzZXIuX2lkO1xuICAgICAgICBkaXNfaW5mby5mcm9tX3VzZXJfbmFtZSA9IHVzZXIubmFtZTtcbiAgICAgICAgZGlzX2luZm8uY3JlYXRlZCA9IGlucy5jcmVhdGVkO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzRW1wdHkoZGlzX2luZm8pKSB7XG4gICAgICAgIHJldHVybiBkaXNfaW5mbztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGlzQ0NPckRpc3RyaWJ1dGVPckZvcndhcmRUZXJtaW5hdGVkOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKChhcHByb3ZlLnR5cGUgPT09ICdjYycgfHwgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScgfHwgYXBwcm92ZS50eXBlID09PSAnZm9yd2FyZCcpICYmIGFwcHJvdmUuanVkZ2UgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAganVkZ2VUZXJtaW5hdGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBqdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnO1xuICB9LFxuICBpbnN0YW5jZUV4aXN0czogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICByZXR1cm4gISFkYi5pbnN0YW5jZXMuZmluZChpbnN0YW5jZV9pZCkuY291bnQoKTtcbiAgfSxcbiAgYWdlbnREZXNjcmlwdGlvbjogZnVuY3Rpb24odXNlck5hbWUpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICByZXR1cm4gVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgdXNlck5hbWU6IHVzZXJOYW1lXG4gICAgfSwgbG9jYWxlKTtcbiAgfSxcbiAgdHJhY2VOYW1lOiBmdW5jdGlvbihpbnN0YW5jZV9pZCwgdHJhY2VJZCkge1xuICAgIHZhciByZWYsIHJlZjE7XG4gICAgcmV0dXJuIChyZWYgPSBfLmZpbmQoKHJlZjEgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHRyYWNlczogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gcmVmMS50cmFjZXMgOiB2b2lkIDAsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICByZXR1cm4gdHJhY2UuX2lkID09PSB0cmFjZUlkO1xuICAgIH0pKSAhPSBudWxsID8gcmVmLm5hbWUgOiB2b2lkIDA7XG4gIH0sXG4gIG9iamVjdFVybDogZnVuY3Rpb24ob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKSB7XG4gICAgcmV0dXJuIENyZWF0b3IuZ2V0T2JqZWN0VXJsKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCk7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5kYXRlRm9ybWF0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciB1dGNPZmZzZXQ7XG4gICAgaWYgKGRhdGUpIHtcbiAgICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXQ7XG4gICAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUoZGF0ZSwgdXRjT2Zmc2V0KTtcbiAgICB9XG4gIH07XG4gIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuX3QgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgfTtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5zaG93RGVsZXRlQnV0dG9uID0gZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG59XG5cblRyYWNlc1RlbXBsYXRlLmV2ZW50cyA9IHtcbiAgJ2NsaWNrIC5jYy1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGluc3RhbmNlSWQ7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nICogMSAhPT0gMSkge1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAxO1xuICAgICAgJChcImlcIiwgZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgTWV0ZW9yLmNhbGwoJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgdG9hc3RyLmVycm9yKGVycik7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAwO1xuICAgICAgICAgICQoXCJpXCIsIGV2ZW50LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwiZmEtc3BpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcbiAgICAgICAgICBpZiAoJChcIi5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWxcIikubGVuZ3RoKSB7XG4gICAgICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWNjLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICBNZXRlb3IuY2FsbCgnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcbiAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ2NsaWNrIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBpZiAoISQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiYS5idG4tbGlua1wiKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBNb2RhbC5zaG93KFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgJ3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIGlmICghJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIE1vZGFsLnNob3coXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpcyk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmFwcHJvdmUtaXRlbSBhLmJ0bi1saW5rLC5hcHByb3ZlLWRlc2NyaXB0aW9uIGEuYnRuLWxpbmssLmFwcHJvdmUtaXRlbS1kaXN0cmlidXRlIGEuYnRuLWxpbmsnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgcmVmLCB1c2VySWQ7XG4gICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgdXNlcklkID0gKHJlZiA9IGV2ZW50LnRhcmdldC5kYXRhc2V0KSAhPSBudWxsID8gcmVmLnRhcmdldF91c2VyX2lkIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIENyZWF0b3Iub3BlblNhZmVPYmplY3RVcmwoJ3VzZXJzJywgdXNlcklkKTtcbiAgICB9XG4gIH0sXG4gICd0YXBlbmQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIGlmICghJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZCwgdHJhY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgIHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgTWV0ZW9yLmNhbGwoJ2ZvcndhcmRfcmVtb3ZlJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoVEFQaTE4bi5fXyhlcnIucmVhc29uKSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJpbnN0YW5jZV9hcHByb3ZlX2ZvcndhcmRfcmVtb3ZlX3N1Y2Nlc3NcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBmb3J3YXJkX2luc3RhbmNlLCBmb3J3YXJkX3NwYWNlO1xuICAgIGZvcndhcmRfc3BhY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkc3BhY2U7XG4gICAgZm9yd2FyZF9pbnN0YW5jZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRpbnN0YW5jZTtcbiAgICByZXR1cm4gU3RlZWRvcy5vcGVuV2luZG93KFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGZvcndhcmRfc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZm9yd2FyZF9pbnN0YW5jZSkpO1xuICB9LFxuICAnY2xpY2sgLmJ0bi1tb2RpZmljYXRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSk7XG4gICAgaWYgKCFTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKCkpIHtcbiAgICAgIHJldHVybiBUcmFja2VyLmFmdGVyRmx1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkKFwiI2luc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbCAjZmluaXNoX2lucHV0XCIpLm9uKFwiZHAuc2hvd1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChcIi5tb2RhbC1ib2R5XCIpLnNjcm9sbFRvcCgxMDApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgJ2NsaWNrIC5idG4tY2FuY2VsQnV0JzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcbiAgfSxcbiAgJ2NsaWNrIC5idG4tc2F2ZUJ1dCc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGZpbmlzaF9pbnB1dCwgaW5zdGFuY2VJZCwgb3Bpbmlvbl9pbnB1dCwgdHJhY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgIHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZTtcbiAgICBvcGluaW9uX2lucHV0ID0gJCgnI29waW5pb25faW5wdXQnKS52YWwoKTtcbiAgICBmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIik7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIHJldHVybiBNZXRlb3IuY2FsbCgnY2hhbmdlX2FwcHJvdmVfaW5mbycsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgb3Bpbmlvbl9pbnB1dCwgZmluaXNoX2lucHV0LCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoVEFQaTE4bi5fXyhlcnIucmVhc29uKSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKHQoXCJpbnN0YW5jZV9hcHByb3ZlX21vZGFsX21vZGlmaWNhdGlvbnNhdmVcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWRpc3RyaWJ1dGUtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZTtcbiAgICByZXR1cm4gTW9kYWwuc2hvdygnY2FuY2VsX2Rpc3RyaWJ1dGVfbW9kYWwnKTtcbiAgfVxufTtcbiIsIlJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyA9XG5cdHNob3dSZWxhdGVkSW5zdGFjZXM6IC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRlbHNlXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXG5cdFx0aWYgaW5zPy5yZWxhdGVkX2luc3RhbmNlcyAmJiBfLmlzQXJyYXkoaW5zPy5yZWxhdGVkX2luc3RhbmNlcylcblx0XHRcdGlmIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7c3BhY2U6IDEsIG5hbWU6IDF9fSkuY291bnQoKSA+IDBcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdHJlbGF0ZWRfaW5zdGFjZXM6IC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRlbHNlXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXG5cdFx0aWYgaW5zPy5yZWxhdGVkX2luc3RhbmNlcyAmJiBfLmlzQXJyYXkoaW5zPy5yZWxhdGVkX2luc3RhbmNlcylcblx0XHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXN9fSwge2ZpZWxkczoge3NwYWNlOiAxLCBuYW1lOiAxfX0pLmZldGNoKClcblxuXHRyZWxhdGVkX2luc3RhY2VfdXJsOiAoaW5zKSAtPlxuXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSlcblx0XHRcdHJldHVybiAnJ1xuXG5cdFx0YWJzb2x1dGUgPSBmYWxzZVxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGVcblx0XHRpZiBhYnNvbHV0ZVxuXHRcdFx0cmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2lucy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitpbnMuc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxuXG5cdF90OiAoa2V5KS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxuXG5cdHNob3dfZGVsZXRlOiAoKS0+XG5cdFx0aWYgIU1ldGVvci5pc0NsaWVudFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJkcmFmdFwiIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0Y3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKClcblx0XHRcdFx0aWYgY3VycmVudF9zdGVwXG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID0ge1xuICBzaG93UmVsYXRlZEluc3RhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoKGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSAmJiBfLmlzQXJyYXkoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApKSB7XG4gICAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIHJlbGF0ZWRfaW5zdGFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICgoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApICYmIF8uaXNBcnJheShpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgIH1cbiAgfSxcbiAgcmVsYXRlZF9pbnN0YWNlX3VybDogZnVuY3Rpb24oaW5zKSB7XG4gICAgdmFyIGFic29sdXRlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBpbnMuc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgaW5zLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICB9XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgfSxcbiAgc2hvd19kZWxldGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXJyZW50X3N0ZXA7XG4gICAgaWYgKCFNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgICAgIGlmIChjdXJyZW50X3N0ZXApIHtcbiAgICAgICAgICBpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIlJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMgPVxuXHRzaG93UmVsYXRlZFJlY29yZHM6ICgpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGVsc2Vcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2Vcblx0XHRpZiAhaW5zXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRyZXR1cm4gIV8uaXNFbXB0eShpbnMucmVjb3JkX2lkcykiLCJSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzID0ge1xuICBzaG93UmVsYXRlZFJlY29yZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhXy5pc0VtcHR5KGlucy5yZWNvcmRfaWRzKTtcbiAgfVxufTtcbiIsIkRlc2lnbmVyQVBJID1cblxuXHRnZXRBYnNvbHV0ZVVybDogKHVybCktPlxuXHRcdHJvb3RVcmwgPSBpZiBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fIHRoZW4gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCBlbHNlIFwiXCJcblx0XHRpZiByb290VXJsXG5cdFx0XHR1cmwgPSByb290VXJsICsgdXJsXG5cdFx0cmV0dXJuIHVybDtcblxuXHR3cml0ZVJlc3BvbnNlOiAocmVzLCBodHRwQ29kZSwgYm9keSktPlxuXHRcdHJlcy5zdGF0dXNDb2RlID0gaHR0cENvZGU7XG5cdFx0cmVzLmVuZChib2R5KTtcblx0XHRcblx0c2VuZEludmFsaWRVUkxSZXNwb25zZTogKHJlcyktPlxuXHRcdHJldHVybiBAd3JpdGVSZXNwb25zZShyZXMsIDQwNCwgXCJ0aGUgcGFyYW0gJ3VybCcgaXMgcmVxdWlyZWQgYXMgcXVlcnlzLlwiKTtcblx0XHRcblx0c2VuZEF1dGhUb2tlbkV4cGlyZWRSZXNwb25zZTogKHJlcyktPlxuXHRcdHJldHVybiBAd3JpdGVSZXNwb25zZShyZXMsIDQwMSwgXCJ0aGUgYXV0aF90b2tlbiBoYXMgZXhwaXJlZC5cIik7XG5cblx0c2VuZEh0bWxSZXNwb25zZTogKHJlcSwgcmVzLCB0eXBlKS0+XG5cdFx0cXVlcnkgPSByZXEucXVlcnlcblx0XHR1cmwgPSBxdWVyeS51cmxcblxuXHRcdGlmIHVybFxuXHRcdFx0dXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybClcblx0XHRlbHNlXG5cdFx0XHREZXNpZ25lckFQSS5zZW5kSW52YWxpZFVSTFJlc3BvbnNlIHJlc1xuXHRcdFxuXHRcdHRpdGxlID0gcXVlcnkudGl0bGVcblx0XHRpZiB0aXRsZVxuXHRcdFx0dGl0bGUgPSBkZWNvZGVVUklDb21wb25lbnQodGl0bGUpXG5cdFx0ZWxzZVxuXHRcdFx0dGl0bGUgPSBcIlN0ZWVkb3MgRGVzaWduZXJcIlxuXHRcdFxuXHRcdGVycm9yX21zZyA9IFwiXCJcblxuXHRcdHJldHVybiBAd3JpdGVSZXNwb25zZSByZXMsIDIwMCwgXCJcIlwiXG5cdFx0XHQ8aHRtbD5cblx0XHRcdFx0PGhlYWQ+XG5cdFx0XHRcdFx0PHN0eWxlPlxuXHRcdFx0XHRcdFx0aHRtbCxib2R5e1xuXHRcdFx0XHRcdFx0XHRtYXJnaW46IDA7XG5cdFx0XHRcdFx0XHRcdHBhZGRpbmc6IDA7XG5cdFx0XHRcdFx0XHRcdGhlaWdodDogMTAwJTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJvZHkgeyBcblx0XHRcdFx0XHRcdFx0Zm9udC1mYW1pbHk6ICdTb3VyY2UgU2FucyBQcm8nLCAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuXHRcdFx0XHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0XHRcdFx0XHRcdGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQubG9hZGluZ3tcblx0XHRcdFx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdFx0XHRcdFx0XHRsZWZ0OiAwcHg7XG5cdFx0XHRcdFx0XHRcdHJpZ2h0OiAwcHg7XG5cdFx0XHRcdFx0XHRcdHRvcDogNTAlO1xuXHRcdFx0XHRcdFx0XHR6LWluZGV4OiAtMTsvKuiuvue9ruS4ui0x77yM5Y+v5Lul5ZyoaWZyYW1l5Yqg6L295Ye65p2l5ZCO6Ieq5Yqo5raI5aSxKi9cblx0XHRcdFx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdFx0XHRcdFx0XHRtYXJnaW4tdG9wOiAtMzBweDtcblx0XHRcdFx0XHRcdFx0Zm9udC1zaXplOiAzNnB4O1xuXHRcdFx0XHRcdFx0XHRjb2xvcjogI2RmZGZkZjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC5lcnJvci1tc2d7XG5cdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdFx0XHRcdFx0bGVmdDogMHB4O1xuXHRcdFx0XHRcdFx0XHRyaWdodDogMHB4O1xuXHRcdFx0XHRcdFx0XHRib3R0b206IDIwcHg7XG5cdFx0XHRcdFx0XHRcdHotaW5kZXg6IDExMDA7XG5cdFx0XHRcdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRcdFx0XHRcdFx0Zm9udC1zaXplOiAyMHB4O1xuXHRcdFx0XHRcdFx0XHRjb2xvcjogI2E5NDQ0Mjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQ8L3N0eWxlPlxuXHRcdFx0XHRcdDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vXCI+XG5cdFx0XHRcdFx0PHRpdGxlPiN7dGl0bGV9PC90aXRsZT5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiMTkyeDE5MlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hbmRyb2lkLWNocm9tZS0xOTJ4MTkyLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJtYW5pZmVzdFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9tYW5pZmVzdC5qc29uXCIpfVwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJtb2JpbGUtd2ViLWFwcC1jYXBhYmxlXCIgY29udGVudD1cInllc1wiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJ0aGVtZS1jb2xvclwiIGNvbnRlbnQ9XCIjMDAwXCI+XG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cImFwcGxpY2F0aW9uLW5hbWVcIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI1N3g1N1wiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTU3eDU3LnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI2MHg2MFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTYweDYwLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI3Mng3MlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTcyeDcyLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI3Nng3NlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTc2eDc2LnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCIxMTR4MTE0XCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTE0eDExNC5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiMTIweDEyMFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTEyMHgxMjAucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjE0NHgxNDRcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xNDR4MTQ0LnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCIxNTJ4MTUyXCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTUyeDE1Mi5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiMTgweDE4MFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE4MHgxODAucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlXCIgY29udGVudD1cInllc1wiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1zdGF0dXMtYmFyLXN0eWxlXCIgY29udGVudD1cImJsYWNrLXRyYW5zbHVjZW50XCI+XG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cImFwcGxlLW1vYmlsZS13ZWItYXBwLXRpdGxlXCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjIyOHgyMjhcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvY29hc3QtMjI4eDIyOC5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjE2eDE2XCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tMTZ4MTYucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImljb25cIiB0eXBlPVwiaW1hZ2UvcG5nXCIgc2l6ZXM9XCIzMngzMlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTMyeDMyLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiOTZ4OTZcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi05Nng5Ni5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjIzMHgyMzBcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi0yMzB4MjMwLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJzaG9ydGN1dCBpY29uXCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24uaWNvXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cInlhbmRleC10YWJsZWF1LXdpZGdldFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy95YW5kZXgtYnJvd3Nlci1tYW5pZmVzdC5qc29uXCIpfVwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJtc2FwcGxpY2F0aW9uLVRpbGVDb2xvclwiIGNvbnRlbnQ9XCIjZmZmXCI+XG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cIm1zYXBwbGljYXRpb24tVGlsZUltYWdlXCIgY29udGVudD1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL21zdGlsZS0xNDR4MTQ0LnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwibXNhcHBsaWNhdGlvbi1jb25maWdcIiBjb250ZW50PVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYnJvd3NlcmNvbmZpZy54bWxcIil9XCI+XG5cdFx0XHRcdFx0PG1ldGEgcHJvcGVydHk9XCJ0d2l0dGVyOmltYWdlXCIgY29udGVudD1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL3R3aXR0ZXIucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxtZXRhIHByb3BlcnR5PVwib2c6aW1hZ2VcIiBjb250ZW50PVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvb3Blbi1ncmFwaC5wbmdcIil9XCI+XG5cdFx0XHRcdDwvaGVhZD5cblx0XHRcdFx0PGJvZHk+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcyA9IFwibG9hZGluZ1wiPkxvYWRpbmcuLi48L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzID0gXCJlcnJvci1tc2dcIj4je2Vycm9yX21zZ308L2Rpdj5cblx0XHRcdFx0XHQ8aWZyYW1lIGlkPVwiaWZyRGVzaWduZXJcIiBzcmM9XCJcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgbndkaXNhYmxlPVwidHJ1ZVwiIGZyYW1lYm9yZGVyPVwibm9cIiBib3JkZXI9XCIwXCIgbWFyZ2lud2lkdGg9XCIwXCIgbWFyZ2luaGVpZ2h0PVwiMFwiIHNjcm9sbGluZz1cIm5vXCIgYWxsb3d0cmFuc3BhcmVuY3k9XCJ5ZXNcIj48L2lmcmFtZT5cblx0XHRcdFx0XHQ8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmM9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9saWIvanF1ZXJ5L2pxdWVyeS0xLjExLjIubWluLmpzXCIpfVwiPjwvc2NyaXB0PlxuXHRcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPlxuXHRcdFx0XHRcdFx0dmFyIGRlc2lnbmVyID0ge1xuXHRcdFx0XHRcdFx0XHR1cmxRdWVyeTpmdW5jdGlvbihuYW1lKXtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmVnID0gbmV3IFJlZ0V4cChcIihefCYpXCIgKyBuYW1lICsgXCI9KFteJl0qKSgmfCQpXCIpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciByID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAociAhPSBudWxsKSByZXR1cm4gdW5lc2NhcGUoclsyXSk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHJ1bjpmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0XHRcdHZhciB1cmwgPSB0aGlzLnVybFF1ZXJ5KFwidXJsXCIpO1xuXHRcdFx0XHRcdFx0XHRcdHVybCA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmwpO1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdGlmKHVybCl7XG5cdFx0XHRcdFx0XHRcdFx0XHQkKFwiI2lmckRlc2lnbmVyXCIpLmF0dHIoXCJzcmNcIix1cmwpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR2YXIgU3RlZWRvcyA9IHdpbmRvdy5vcGVuZXIuU3RlZWRvcyB8fCBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChTdGVlZG9zKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRTdGVlZG9zLmZvcmJpZE5vZGVDb250ZXh0bWVudSh3aW5kb3cpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdCQoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdFx0ZGVzaWduZXIucnVuKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQ8L3NjcmlwdD5cblx0XHRcdFx0PGJvZHk+XG5cdFx0XHQ8L2h0bWw+XG5cdFx0XCJcIlwiXG5cbkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9kZXNpZ25lcj91cmw9OnVybCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0RGVzaWduZXJBUEkuc2VuZEh0bWxSZXNwb25zZSByZXEsIHJlc1xuXG4iLCJ2YXIgRGVzaWduZXJBUEk7XG5cbkRlc2lnbmVyQVBJID0ge1xuICBnZXRBYnNvbHV0ZVVybDogZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIHJvb3RVcmw7XG4gICAgcm9vdFVybCA9IF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18gPyBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYIDogXCJcIjtcbiAgICBpZiAocm9vdFVybCkge1xuICAgICAgdXJsID0gcm9vdFVybCArIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfSxcbiAgd3JpdGVSZXNwb25zZTogZnVuY3Rpb24ocmVzLCBodHRwQ29kZSwgYm9keSkge1xuICAgIHJlcy5zdGF0dXNDb2RlID0gaHR0cENvZGU7XG4gICAgcmV0dXJuIHJlcy5lbmQoYm9keSk7XG4gIH0sXG4gIHNlbmRJbnZhbGlkVVJMUmVzcG9uc2U6IGZ1bmN0aW9uKHJlcykge1xuICAgIHJldHVybiB0aGlzLndyaXRlUmVzcG9uc2UocmVzLCA0MDQsIFwidGhlIHBhcmFtICd1cmwnIGlzIHJlcXVpcmVkIGFzIHF1ZXJ5cy5cIik7XG4gIH0sXG4gIHNlbmRBdXRoVG9rZW5FeHBpcmVkUmVzcG9uc2U6IGZ1bmN0aW9uKHJlcykge1xuICAgIHJldHVybiB0aGlzLndyaXRlUmVzcG9uc2UocmVzLCA0MDEsIFwidGhlIGF1dGhfdG9rZW4gaGFzIGV4cGlyZWQuXCIpO1xuICB9LFxuICBzZW5kSHRtbFJlc3BvbnNlOiBmdW5jdGlvbihyZXEsIHJlcywgdHlwZSkge1xuICAgIHZhciBlcnJvcl9tc2csIHF1ZXJ5LCB0aXRsZSwgdXJsO1xuICAgIHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICAgIHVybCA9IHF1ZXJ5LnVybDtcbiAgICBpZiAodXJsKSB7XG4gICAgICB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQodXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgRGVzaWduZXJBUEkuc2VuZEludmFsaWRVUkxSZXNwb25zZShyZXMpO1xuICAgIH1cbiAgICB0aXRsZSA9IHF1ZXJ5LnRpdGxlO1xuICAgIGlmICh0aXRsZSkge1xuICAgICAgdGl0bGUgPSBkZWNvZGVVUklDb21wb25lbnQodGl0bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZSA9IFwiU3RlZWRvcyBEZXNpZ25lclwiO1xuICAgIH1cbiAgICBlcnJvcl9tc2cgPSBcIlwiO1xuICAgIHJldHVybiB0aGlzLndyaXRlUmVzcG9uc2UocmVzLCAyMDAsIFwiPGh0bWw+XFxuXHQ8aGVhZD5cXG5cdFx0PHN0eWxlPlxcblx0XHRcdGh0bWwsYm9keXtcXG5cdFx0XHRcdG1hcmdpbjogMDtcXG5cdFx0XHRcdHBhZGRpbmc6IDA7XFxuXHRcdFx0XHRoZWlnaHQ6IDEwMCU7XFxuXHRcdFx0fVxcblx0XHRcdGJvZHkgeyBcXG5cdFx0XHRcdGZvbnQtZmFtaWx5OiAnU291cmNlIFNhbnMgUHJvJywgJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG5cdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcXG5cdFx0XHRcdGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuXHRcdFx0fVxcblx0XHRcdC5sb2FkaW5ne1xcblx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xcblx0XHRcdFx0bGVmdDogMHB4O1xcblx0XHRcdFx0cmlnaHQ6IDBweDtcXG5cdFx0XHRcdHRvcDogNTAlO1xcblx0XHRcdFx0ei1pbmRleDogLTE7Lyrorr7nva7kuLotMe+8jOWPr+S7peWcqGlmcmFtZeWKoOi9veWHuuadpeWQjuiHquWKqOa2iOWksSovXFxuXHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXHRcdFx0XHRtYXJnaW4tdG9wOiAtMzBweDtcXG5cdFx0XHRcdGZvbnQtc2l6ZTogMzZweDtcXG5cdFx0XHRcdGNvbG9yOiAjZGZkZmRmO1xcblx0XHRcdH1cXG5cdFx0XHQuZXJyb3ItbXNne1xcblx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xcblx0XHRcdFx0bGVmdDogMHB4O1xcblx0XHRcdFx0cmlnaHQ6IDBweDtcXG5cdFx0XHRcdGJvdHRvbTogMjBweDtcXG5cdFx0XHRcdHotaW5kZXg6IDExMDA7XFxuXHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXHRcdFx0XHRmb250LXNpemU6IDIwcHg7XFxuXHRcdFx0XHRjb2xvcjogI2E5NDQ0MjtcXG5cdFx0XHR9XFxuXHRcdDwvc3R5bGU+XFxuXHRcdDxtZXRhIGNoYXJzZXQ9XFxcInV0Zi04XFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCBtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm9cXFwiPlxcblx0XHQ8dGl0bGU+XCIgKyB0aXRsZSArIFwiPC90aXRsZT5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCIxOTJ4MTkyXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FuZHJvaWQtY2hyb21lLTE5MngxOTIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJtYW5pZmVzdFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9tYW5pZmVzdC5qc29uXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwibW9iaWxlLXdlYi1hcHAtY2FwYWJsZVxcXCIgY29udGVudD1cXFwieWVzXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwidGhlbWUtY29sb3JcXFwiIGNvbnRlbnQ9XFxcIiMwMDBcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJhcHBsaWNhdGlvbi1uYW1lXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiNTd4NTdcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi01N3g1Ny5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCI2MHg2MFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTYweDYwLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiYXBwbGUtdG91Y2gtaWNvblxcXCIgc2l6ZXM9XFxcIjcyeDcyXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tNzJ4NzIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiNzZ4NzZcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi03Nng3Ni5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxMTR4MTE0XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTE0eDExNC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxMjB4MTIwXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTIweDEyMC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxNDR4MTQ0XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTQ0eDE0NC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxNTJ4MTUyXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTUyeDE1Mi5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxODB4MTgwXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTgweDE4MC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlXFxcIiBjb250ZW50PVxcXCJ5ZXNcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1zdGF0dXMtYmFyLXN0eWxlXFxcIiBjb250ZW50PVxcXCJibGFjay10cmFuc2x1Y2VudFxcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcImFwcGxlLW1vYmlsZS13ZWItYXBwLXRpdGxlXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCIyMjh4MjI4XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2NvYXN0LTIyOHgyMjgucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCIxNngxNlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTE2eDE2LnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMzJ4MzJcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi0zMngzMi5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImljb25cXFwiIHR5cGU9XFxcImltYWdlL3BuZ1xcXCIgc2l6ZXM9XFxcIjk2eDk2XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tOTZ4OTYucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCIyMzB4MjMwXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tMjMweDIzMC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcInNob3J0Y3V0IGljb25cXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi5pY29cIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcInlhbmRleC10YWJsZWF1LXdpZGdldFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy95YW5kZXgtYnJvd3Nlci1tYW5pZmVzdC5qc29uXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwibXNhcHBsaWNhdGlvbi1UaWxlQ29sb3JcXFwiIGNvbnRlbnQ9XFxcIiNmZmZcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJtc2FwcGxpY2F0aW9uLVRpbGVJbWFnZVxcXCIgY29udGVudD1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9tc3RpbGUtMTQ0eDE0NC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJtc2FwcGxpY2F0aW9uLWNvbmZpZ1xcXCIgY29udGVudD1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9icm93c2VyY29uZmlnLnhtbFwiKSkgKyBcIlxcXCI+XFxuXHRcdDxtZXRhIHByb3BlcnR5PVxcXCJ0d2l0dGVyOmltYWdlXFxcIiBjb250ZW50PVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL3R3aXR0ZXIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgcHJvcGVydHk9XFxcIm9nOmltYWdlXFxcIiBjb250ZW50PVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL29wZW4tZ3JhcGgucG5nXCIpKSArIFwiXFxcIj5cXG5cdDwvaGVhZD5cXG5cdDxib2R5Plxcblx0XHQ8ZGl2IGNsYXNzID0gXFxcImxvYWRpbmdcXFwiPkxvYWRpbmcuLi48L2Rpdj5cXG5cdFx0PGRpdiBjbGFzcyA9IFxcXCJlcnJvci1tc2dcXFwiPlwiICsgZXJyb3JfbXNnICsgXCI8L2Rpdj5cXG5cdFx0PGlmcmFtZSBpZD1cXFwiaWZyRGVzaWduZXJcXFwiIHNyYz1cXFwiXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiBud2Rpc2FibGU9XFxcInRydWVcXFwiIGZyYW1lYm9yZGVyPVxcXCJub1xcXCIgYm9yZGVyPVxcXCIwXFxcIiBtYXJnaW53aWR0aD1cXFwiMFxcXCIgbWFyZ2luaGVpZ2h0PVxcXCIwXFxcIiBzY3JvbGxpbmc9XFxcIm5vXFxcIiBhbGxvd3RyYW5zcGFyZW5jeT1cXFwieWVzXFxcIj48L2lmcmFtZT5cXG5cdFx0PHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiIHNyYz1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9saWIvanF1ZXJ5L2pxdWVyeS0xLjExLjIubWluLmpzXCIpKSArIFwiXFxcIj48L3NjcmlwdD5cXG5cdFx0PHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPlxcblx0XHRcdHZhciBkZXNpZ25lciA9IHtcXG5cdFx0XHRcdHVybFF1ZXJ5OmZ1bmN0aW9uKG5hbWUpe1xcblx0XHRcdFx0XHR2YXIgcmVnID0gbmV3IFJlZ0V4cChcXFwiKF58JilcXFwiICsgbmFtZSArIFxcXCI9KFteJl0qKSgmfCQpXFxcIik7XFxuXHRcdFx0XHRcdHZhciByID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTtcXG5cdFx0XHRcdFx0aWYgKHIgIT0gbnVsbCkgcmV0dXJuIHVuZXNjYXBlKHJbMl0pO1xcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcXG5cdFx0XHRcdH0sXFxuXHRcdFx0XHRydW46ZnVuY3Rpb24oKXtcXG5cdFx0XHRcdFx0dmFyIHVybCA9IHRoaXMudXJsUXVlcnkoXFxcInVybFxcXCIpO1xcblx0XHRcdFx0XHR1cmwgPSBkZWNvZGVVUklDb21wb25lbnQodXJsKTtcXG5cdFx0XHRcdFx0XFxuXHRcdFx0XHRcdGlmKHVybCl7XFxuXHRcdFx0XHRcdFx0JChcXFwiI2lmckRlc2lnbmVyXFxcIikuYXR0cihcXFwic3JjXFxcIix1cmwpO1xcblx0XHRcdFx0XHR9XFxuXHRcdFx0XHRcdHZhciBTdGVlZG9zID0gd2luZG93Lm9wZW5lci5TdGVlZG9zIHx8IG51bGw7XFxuXHRcdFx0XHRcdGlmIChTdGVlZG9zKSB7XFxuXHRcdFx0XHRcdFx0U3RlZWRvcy5mb3JiaWROb2RlQ29udGV4dG1lbnUod2luZG93KTtcXG5cdFx0XHRcdFx0fVxcblx0XHRcdFx0fVxcblx0XHRcdH07XFxuXHRcdFx0JChmdW5jdGlvbigpe1xcblx0XHRcdFx0ZGVzaWduZXIucnVuKCk7XFxuXHRcdFx0fSk7XFxuXHRcdDwvc2NyaXB0Plxcblx0PGJvZHk+XFxuPC9odG1sPlwiKTtcbiAgfVxufTtcblxuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L2Rlc2lnbmVyP3VybD06dXJsJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcmV0dXJuIERlc2lnbmVyQVBJLnNlbmRIdG1sUmVzcG9uc2UocmVxLCByZXMpO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L25leHRTdGVwVXNlcnNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcblx0dmFyXG5cdFx0ZGVhbF90eXBlID0gcmVxLnF1ZXJ5LmRlYWxfdHlwZSxcblx0XHRzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXG5cdFx0ZXJyb3IgPSBcIlwiO1xuXG5cdGlmICghZGVhbF90eXBlIHx8ICFzcGFjZUlkKSB7XG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdHZhclxuXHRcdGJvZHkgPSByZXEuYm9keSxcblx0XHRuZXh0U3RlcFVzZXJzID0gW107XG5cblxuXHRzd2l0Y2ggKGRlYWxfdHlwZSkge1xuXHRcdGNhc2UgJ3NwZWNpZnlVc2VyJzpcblx0XHRcdHZhciBzcGVjaWZ5VXNlcklkcyA9IGJvZHkuc3BlY2lmeVVzZXJJZHM7XG5cblx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgc3BlY2lmeVVzZXJJZHMpO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnYXBwbGljYW50Um9sZSc6XG5cdFx0XHR2YXJcblx0XHRcdFx0YXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkLFxuXHRcdFx0XHRhcHByb3ZlUm9sZUlkcyA9IGJvZHkuYXBwcm92ZVJvbGVJZHM7XG5cdFx0XHR2YXIgYXBwbGljYW50ID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXIoc3BhY2VJZCwgYXBwbGljYW50SWQpO1xuXG5cdFx0XHRpZiAoYXBwbGljYW50KVxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIGFwcGxpY2FudC5vcmdhbml6YXRpb25zLCBhcHByb3ZlUm9sZUlkcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdoclJvbGUnOlxuXHRcdFx0dmFyIGFwcHJvdmVIclJvbGVJZHMgPSBib2R5LmFwcHJvdmVIclJvbGVJZHM7XG5cdFx0XHRpZiAoYXBwcm92ZUhyUm9sZUlkcylcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRIclJvbGVzVXNlcnMoc3BhY2VJZCwgYXBwcm92ZUhyUm9sZUlkcyk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdhcHBsaWNhbnRTdXBlcmlvcic6XG5cdFx0XHR2YXIgYXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkO1xuXHRcdFx0dmFyIGFwcGxpY2FudCA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VyKHNwYWNlSWQsIGFwcGxpY2FudElkKTtcblx0XHRcdGlmIChhcHBsaWNhbnQubWFuYWdlcikge1xuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIGFwcGxpY2FudC5tYW5hZ2VyKTtcblx0XHRcdH1cblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgJ2FwcGxpY2FudCc6XG5cdFx0XHR2YXIgYXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkO1xuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICd1c2VyRmllbGQnOlxuXHRcdFx0dmFyXG5cdFx0XHRcdHVzZXJGaWVsZCA9IGJvZHkudXNlckZpZWxkLFxuXHRcdFx0XHR1c2VyRmllbGRWYWx1ZSA9IGJvZHkudXNlckZpZWxkVmFsdWU7XG5cdFx0XHRpZiAodXNlckZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5LuldXNlckZpZWxkVmFsdWXlgLzkuLpBcnJheVxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHVzZXJGaWVsZFZhbHVlKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5leHRTdGVwVXNlcnMucHVzaChXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnb3JnRmllbGQnOlxuXHRcdFx0dmFyXG5cdFx0XHRcdG9yZ3MsXG5cdFx0XHRcdG9yZ0NoaWxkcmVucyxcblx0XHRcdFx0b3JnRmllbGQgPSBib2R5Lm9yZ0ZpZWxkLFxuXHRcdFx0XHRvcmdGaWVsZFZhbHVlID0gYm9keS5vcmdGaWVsZFZhbHVlO1xuXHRcdFx0aWYgKG9yZ0ZpZWxkVmFsdWUpIHtcblx0XHRcdFx0aWYgKG9yZ0ZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5Lulb3JnRmllbGRWYWx1ZeWAvOS4ukFycmF5XG5cdFx0XHRcdFx0b3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zKG9yZ0ZpZWxkVmFsdWUpO1xuXHRcdFx0XHRcdG9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG9yZ3MgPSBbV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbihvcmdGaWVsZFZhbHVlKV07XG5cdFx0XHRcdFx0b3JnQ2hpbGRyZW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyhzcGFjZUlkLCBvcmdGaWVsZFZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBvcmdDaGlsZHJlbnMpO1xuXG5cdFx0XHRcdG9yZ0ZpZWxkVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIG9yZ3MpO1xuXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBuZXh0U3RlcFVzZXJzLmNvbmNhdChvcmdGaWVsZFVzZXJzKTtcblxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XG5cdFx0XHRcdFx0ZXJyb3IgPSBcIk9SR19OT19NRU1CRVJTXCI7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xuXHRcdFx0fVxuXG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdzcGVjaWZ5T3JnJzpcblx0XHRcdHZhciBzcGVjaWZ5T3JnSWRzID0gYm9keS5zcGVjaWZ5T3JnSWRzO1xuXHRcdFx0dmFyIHNwZWNpZnlPcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnMoc3BlY2lmeU9yZ0lkcyk7XG5cdFx0XHR2YXIgc3BlY2lmeU9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zKHNwYWNlSWQsIHNwZWNpZnlPcmdJZHMpO1xuXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBzcGVjaWZ5T3Jncyk7XG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gbmV4dFN0ZXBVc2Vycy5jb25jYXQoV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBzcGVjaWZ5T3JnQ2hpbGRyZW5zKSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlICd1c2VyRmllbGRSb2xlJzpcblx0XHRcdHZhclxuXHRcdFx0XHR1c2VyRmllbGQgPSBib2R5LnVzZXJGaWVsZCxcblx0XHRcdFx0dXNlckZpZWxkVmFsdWUgPSBib2R5LnVzZXJGaWVsZFZhbHVlLFxuXHRcdFx0XHRhcHByb3ZlclJvbGVJZHMgPSBib2R5LmFwcHJvdmVyUm9sZUlkcztcblx0XHRcdGlmICh1c2VyRmllbGRWYWx1ZSkge1xuXHRcdFx0XHRpZiAodXNlckZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5LuldXNlckZpZWxkVmFsdWXlgLzkuLpBcnJheVxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzKHNwYWNlSWQsIHVzZXJGaWVsZFZhbHVlLCBhcHByb3ZlclJvbGVJZHMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzKHNwYWNlSWQsIFt1c2VyRmllbGRWYWx1ZV0sIGFwcHJvdmVyUm9sZUlkcyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XG5cdFx0XHRcdFx0ZXJyb3IgPSBcIlJPTEVfTk9fTUVNQkVSU1wiO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcblx0XHRcdH1cblxuXG5cdFx0XHRicmVhaztcblx0XHRjYXNlICdvcmdGaWVsZFJvbGUnOlxuXHRcdFx0dmFyXG5cdFx0XHRcdG9yZ0ZpZWxkID0gYm9keS5vcmdGaWVsZCxcblx0XHRcdFx0b3JnRmllbGRWYWx1ZSA9IGJvZHkub3JnRmllbGRWYWx1ZSxcblx0XHRcdFx0YXBwcm92ZXJSb2xlSWRzID0gYm9keS5hcHByb3ZlclJvbGVJZHM7XG5cblx0XHRcdGlmIChvcmdGaWVsZFZhbHVlKSB7XG5cdFx0XHRcdGlmIChvcmdGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pW9yZ0ZpZWxkVmFsdWXlgLzkuLpBcnJheVxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMoc3BhY2VJZCwgb3JnRmllbGRWYWx1ZSwgYXBwcm92ZXJSb2xlSWRzKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIFtvcmdGaWVsZFZhbHVlXSwgYXBwcm92ZXJSb2xlSWRzKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghbmV4dFN0ZXBVc2VycyB8fCBuZXh0U3RlcFVzZXJzLmxlbmd0aCA8IDEpIHtcblx0XHRcdFx0XHRlcnJvciA9IFwiUk9MRV9OT19NRU1CRVJTXCI7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xuXHRcdFx0fVxuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGJyZWFrO1xuXHR9XG5cblx0dmFyIHJlc3VsdCA9IFtdO1xuXG5cdG5leHRTdGVwVXNlcnMuZm9yRWFjaChmdW5jdGlvbihzdSkge1xuXHRcdGlmKHN1LnVzZXJfYWNjZXB0ZWQpe1xuXHRcdFx0dmFyIG8gPSB7XG5cdFx0XHRcdGlkOiBzdS5pZCxcblx0XHRcdFx0bmFtZTogc3UubmFtZVxuXHRcdFx0fTtcblx0XHRcdHJlc3VsdC5wdXNoKG8pO1xuXHRcdH1cblx0fSk7XG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdGNvZGU6IDIwMCxcblx0XHRkYXRhOiB7XG5cdFx0XHQnbmV4dFN0ZXBVc2Vycyc6IFdvcmtmbG93TWFuYWdlci51bmlxVXNlcnMocmVzdWx0KSxcblx0XHRcdCdlcnJvcic6IGVycm9yXG5cdFx0fVxuXHR9KTtcbn0pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXRTcGFjZVVzZXJzXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICB2YXJcbiAgICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcyxcbiAgICBzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXG4gICAgc3BhY2VVc2VycyA9IFtdXG4gIDtcblxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgc3BhY2VVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCB1c2VySWRzKTtcblxuICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xuICAgIH1cbiAgfSk7XG59KVxuXG5cbiAgXG4gICIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0Rm9ybXVsYVVzZXJPYmplY3RzXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xuICB2YXJcbiAgICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcyxcbiAgICBzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXG4gICAgc3BhY2VVc2VycyA9IFtdXG4gIDtcblxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0KHNwYWNlSWQsIHVzZXJJZHMpO1xuXG4gIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ3NwYWNlVXNlcnMnOiB1c2Vyc1xuICAgIH1cbiAgfSk7XG59KVxuXG5cbiAgXG4gICIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5pdF9mb3JtdWxhX3ZhbHVlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuXHR2YXJcblx0XHRmaWVsZHMgPSByZXEuYm9keS5maWVsZHMsXG5cdFx0YXV0b0Zvcm1Eb2MgPSByZXEuYm9keS5hdXRvRm9ybURvYyxcblx0XHRhcHByb3ZlciA9IHJlcS5ib2R5LmFwcHJvdmVyLFxuXHRcdGFwcGxpY2FudCA9IHJlcS5ib2R5LmFwcGxpY2FudCxcblxuXHRcdHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcblxuXHRcdHNwYWNlVXNlcnMgPSBbXTtcblxuXHRpZiAoIWZpZWxkcyB8fCAhc3BhY2VJZCB8fCAhYXV0b0Zvcm1Eb2MgfHwgIWFwcHJvdmVyIHx8ICFhcHBsaWNhbnQpIHtcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGZvcm11bGFfdmFsdWVzID0gRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMoZmllbGRzLCBhdXRvRm9ybURvYywgYXBwcm92ZXIsIGFwcGxpY2FudCwgc3BhY2VJZCk7XG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdGNvZGU6IDIwMCxcblx0XHRkYXRhOiB7XG5cdFx0XHQnZm9ybXVsYV92YWx1ZXMnOiBmb3JtdWxhX3ZhbHVlc1xuXHRcdH1cblx0fSk7XG59KVxuIiwiSnNvblJvdXRlcy5hZGQgXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXROYW1lRm9yVXNlclwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHR1c2VySWQgPSByZXEuYm9keS51c2VySWRcblxuXHRcdGlmIG5vdCB1c2VySWQgXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCBcblx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHRcdH1cblxuXHRcdHVzZXIgPSBXb3JrZmxvd01hbmFnZXIuZ2V0TmFtZUZvclVzZXIodXNlcklkKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywgXG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7dXNlcjogdXNlcn1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuXHRcblx0XHRcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0TmFtZUZvclVzZXJcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGUsIHVzZXIsIHVzZXJJZDtcbiAgdHJ5IHtcbiAgICB1c2VySWQgPSByZXEuYm9keS51c2VySWQ7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB1c2VyID0gV29ya2Zsb3dNYW5hZ2VyLmdldE5hbWVGb3JVc2VyKHVzZXJJZCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcjogdXNlclxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL2Rlc2lnbmVyL3N0YXJ0dXAnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGNvbXBhbnlJZCA9IHJlcS5xdWVyeT8uY29tcGFueUlkIHx8ICcnXG5cblx0XHRzcGFjZXNRdWVyeSA9IHsgYWRtaW5zOiBjdXJyZW50X3VzZXIgfVxuXG5cdFx0aWYgY29tcGFueUlkXG5cdFx0XHRvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY29tcGFueUlkLCB7IGZpZWxkczogeyBzcGFjZToxIH0gfSlcblx0XHRcdGlmIG5vdCBvcmdcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY29tcGFueUlkIGlzIGludmFsaWQnKVxuXG5cdFx0XHRzcGFjZXNRdWVyeSA9IHsgX2lkOiBvcmcuc3BhY2UgfVxuXG5cdFx0c3BhY2VzID0gZGIuc3BhY2VzLmZpbmQoc3BhY2VzUXVlcnkpLmZldGNoKClcblxuXHRcdHNwYWNlSWRzID0gXy5wbHVjayBzcGFjZXMsICdfaWQnXG5cblx0XHRxdWVyeSA9IHsgc3BhY2U6IHsgJGluOiBzcGFjZUlkcyB9IH1cblx0XHRpZiBjb21wYW55SWRcblx0XHRcdHF1ZXJ5LmNvbXBhbnlfaWQgPSBjb21wYW55SWRcblxuXHRcdHNwYWNlVXNlcnMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHF1ZXJ5KS5mZXRjaCgpXG5cblx0XHRmb3JtcyA9IGRiLmZvcm1zLmZpbmQocXVlcnksIHsgZmllbGRzOiB7IG5hbWU6MSwgc3RhdGU6MSwgaXNfZGVsZXRlZDoxLCBpc192YWxpZDoxLCBzcGFjZToxLCBkZXNjcmlwdGlvbjoxLCBoZWxwX3RleHQ6MSxcblx0XHRjcmVhdGVkOjEsIGNyZWF0ZWRfYnk6MSwgY3VycmVudDoxLCBjYXRlZ29yeToxLCBpbnN0YW5jZV9zdHlsZToxLCBjb21wYW55X2lkOjEgfSB9KS5mZXRjaCgpXG5cblx0XHRmbG93cyA9IGRiLmZsb3dzLmZpbmQocXVlcnksIHsgZmllbGRzOiB7IG5hbWU6MSwgbmFtZV9mb3JtdWxhOjEsIGNvZGVfZm9ybXVsYToxLCBzcGFjZToxLCBkZXNjcmlwdGlvbjoxLCBpc192YWxpZDoxLCBmb3JtOjEsXG5cdFx0Zmxvd3R5cGU6MSwgc3RhdGU6MSwgaXNfZGVsZXRlZDoxLCBjcmVhdGVkOjEsIGNyZWF0ZWRfYnk6MSwgaGVscF90ZXh0OjEsIGN1cnJlbnRfbm86MSwgY3VycmVudDoxLCBwZXJtczoxLCBlcnJvcl9tZXNzYWdlOjEsIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6MSwgY29tcGFueV9pZDoxIH0gfSkuZmV0Y2goKVxuXG5cdFx0cm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQocXVlcnkpLmZldGNoKClcblxuXHRcdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQocXVlcnkpLmZldGNoKClcblxuXHRcdHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQocXVlcnkpLmZldGNoKClcblxuXHRcdGNhdGVnb3JpZXMgPSBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogeyAkaW46IHNwYWNlSWRzIH0gfSkuZmV0Y2goKVxuXG5cdFx0dXNlcklkcyA9IF8ucGx1Y2sgc3BhY2VVc2VycywgJ3VzZXInXG5cdFx0dXNlcnMgPSBkYi51c2Vycy5maW5kKHsgX2lkOiB7ICRpbjogdXNlcklkcyB9IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KS5mZXRjaCgpXG5cblx0XHRyZXN1bHQgPSB7fVxuXHRcdHJlc3VsdC5TcGFjZVVzZXJzID0gc3BhY2VVc2Vyc1xuXHRcdHJlc3VsdC5Vc2VycyA9IHVzZXJzXG5cdFx0cmVzdWx0LkZvcm1zID0gZm9ybXNcblx0XHRyZXN1bHQuRmxvd3MgPSBmbG93c1xuXHRcdHJlc3VsdC5Pcmdhbml6YXRpb25zID0gb3JnYW5pemF0aW9uc1xuXHRcdHJlc3VsdC5Qb3NpdGlvbnMgPSBwb3NpdGlvbnNcblx0XHRyZXN1bHQuUm9sZXMgPSByb2xlc1xuXHRcdHJlc3VsdC5DYXRlZ29yaWVzID0gY2F0ZWdvcmllc1xuXHRcdHJlc3VsdC5TcGFjZXMgPSBzcGFjZXNcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRkYXRhOiByZXN1bHRcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuXG4iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvZGVzaWduZXIvc3RhcnR1cCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjYXRlZ29yaWVzLCBjb21wYW55SWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3dzLCBmb3Jtcywgb3JnLCBvcmdhbml6YXRpb25zLCBwb3NpdGlvbnMsIHF1ZXJ5LCByZWYsIHJlc3VsdCwgcm9sZXMsIHNwYWNlSWRzLCBzcGFjZVVzZXJzLCBzcGFjZXMsIHNwYWNlc1F1ZXJ5LCB1c2VySWRzLCB1c2VycztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBjb21wYW55SWQgPSAoKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5jb21wYW55SWQgOiB2b2lkIDApIHx8ICcnO1xuICAgIHNwYWNlc1F1ZXJ5ID0ge1xuICAgICAgYWRtaW5zOiBjdXJyZW50X3VzZXJcbiAgICB9O1xuICAgIGlmIChjb21wYW55SWQpIHtcbiAgICAgIG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjb21wYW55SWQsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIW9yZykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjb21wYW55SWQgaXMgaW52YWxpZCcpO1xuICAgICAgfVxuICAgICAgc3BhY2VzUXVlcnkgPSB7XG4gICAgICAgIF9pZDogb3JnLnNwYWNlXG4gICAgICB9O1xuICAgIH1cbiAgICBzcGFjZXMgPSBkYi5zcGFjZXMuZmluZChzcGFjZXNRdWVyeSkuZmV0Y2goKTtcbiAgICBzcGFjZUlkcyA9IF8ucGx1Y2soc3BhY2VzLCAnX2lkJyk7XG4gICAgcXVlcnkgPSB7XG4gICAgICBzcGFjZToge1xuICAgICAgICAkaW46IHNwYWNlSWRzXG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoY29tcGFueUlkKSB7XG4gICAgICBxdWVyeS5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgIH1cbiAgICBzcGFjZVVzZXJzID0gZGIuc3BhY2VfdXNlcnMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBmb3JtcyA9IGRiLmZvcm1zLmZpbmQocXVlcnksIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfZGVsZXRlZDogMSxcbiAgICAgICAgaXNfdmFsaWQ6IDEsXG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgICAgaGVscF90ZXh0OiAxLFxuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxLFxuICAgICAgICBjdXJyZW50OiAxLFxuICAgICAgICBjYXRlZ29yeTogMSxcbiAgICAgICAgaW5zdGFuY2Vfc3R5bGU6IDEsXG4gICAgICAgIGNvbXBhbnlfaWQ6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIGZsb3dzID0gZGIuZmxvd3MuZmluZChxdWVyeSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIG5hbWVfZm9ybXVsYTogMSxcbiAgICAgICAgY29kZV9mb3JtdWxhOiAxLFxuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZGVzY3JpcHRpb246IDEsXG4gICAgICAgIGlzX3ZhbGlkOiAxLFxuICAgICAgICBmb3JtOiAxLFxuICAgICAgICBmbG93dHlwZTogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX2RlbGV0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWRfYnk6IDEsXG4gICAgICAgIGhlbHBfdGV4dDogMSxcbiAgICAgICAgY3VycmVudF9ubzogMSxcbiAgICAgICAgY3VycmVudDogMSxcbiAgICAgICAgcGVybXM6IDEsXG4gICAgICAgIGVycm9yX21lc3NhZ2U6IDEsXG4gICAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICAgIGNvbXBhbnlfaWQ6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgcG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBjYXRlZ29yaWVzID0gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICAgIHNwYWNlOiB7XG4gICAgICAgICRpbjogc3BhY2VJZHNcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHVzZXJJZHMgPSBfLnBsdWNrKHNwYWNlVXNlcnMsICd1c2VyJyk7XG4gICAgdXNlcnMgPSBkYi51c2Vycy5maW5kKHtcbiAgICAgIF9pZDoge1xuICAgICAgICAkaW46IHVzZXJJZHNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcmVzdWx0ID0ge307XG4gICAgcmVzdWx0LlNwYWNlVXNlcnMgPSBzcGFjZVVzZXJzO1xuICAgIHJlc3VsdC5Vc2VycyA9IHVzZXJzO1xuICAgIHJlc3VsdC5Gb3JtcyA9IGZvcm1zO1xuICAgIHJlc3VsdC5GbG93cyA9IGZsb3dzO1xuICAgIHJlc3VsdC5Pcmdhbml6YXRpb25zID0gb3JnYW5pemF0aW9ucztcbiAgICByZXN1bHQuUG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgIHJlc3VsdC5Sb2xlcyA9IHJvbGVzO1xuICAgIHJlc3VsdC5DYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcbiAgICByZXN1bHQuU3BhY2VzID0gc3BhY2VzO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZW5naW5lJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cblx0XHRfLmVhY2ggaGFzaERhdGFbJ0FwcHJvdmFscyddLCAoYXBwcm92ZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdHV1Zmxvd01hbmFnZXIud29ya2Zsb3dfZW5naW5lKGFwcHJvdmVfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvLCBjdXJyZW50X3VzZXIpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZW5naW5lJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydBcHByb3ZhbHMnXSwgZnVuY3Rpb24oYXBwcm92ZV9mcm9tX2NsaWVudCkge1xuICAgICAgcmV0dXJuIHV1Zmxvd01hbmFnZXIud29ya2Zsb3dfZW5naW5lKGFwcHJvdmVfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvLCBjdXJyZW50X3VzZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9kcmFmdHMnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxuXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0bmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0bmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBuZXdfaW5zX2lkIH0sIHsgZmllbGRzOiB7IHNwYWNlOiAxLCBmbG93OiAxLCBmbG93X3ZlcnNpb246IDEsIGZvcm06IDEsIGZvcm1fdmVyc2lvbjogMSB9IH0pXG5cblx0XHRcdGluc2VydGVkX2luc3RhbmNlcy5wdXNoKG5ld19pbnMpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzIH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XG5cdFx0fVxuXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2RyYWZ0cycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgaW5zZXJ0ZWRfaW5zdGFuY2VzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgbmV3X2lucywgbmV3X2luc19pZDtcbiAgICAgIG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgbmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBuZXdfaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIGZsb3c6IDEsXG4gICAgICAgICAgZmxvd192ZXJzaW9uOiAxLFxuICAgICAgICAgIGZvcm06IDEsXG4gICAgICAgICAgZm9ybV92ZXJzaW9uOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluc2VydGVkX2luc3RhbmNlcy5wdXNoKG5ld19pbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZW1vdmUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxuXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mbG93fSlcblxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogc3BhY2VfdXNlci5vcmdhbml6YXRpb25zXG5cdFx0XHRcdH1cblx0XHRcdH0pLmZldGNoKCk7XG5cblx0XHRcdCMg5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIXmiJbogIXnlLPor7fkurog5oiWU3BhY2VBZG1pblxuXHRcdFx0aWYgKGluc3RhbmNlLnN1Ym1pdHRlciBpc250IGN1cnJlbnRfdXNlcikgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzIGN1cnJlbnRfdXNlcikgYW5kICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmxvdywgc3BhY2VfdXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucylcblx0XHRcdFx0dGhyb3cgbmV3ICBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oKo5LiN6IO95Yig6Zmk5q2k55Sz6K+35Y2V44CCXCIpXG5cblx0XHRcdGRlbGV0ZV9vYmogPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcblx0XHRcdGRlbGV0ZV9vYmouZGVsZXRlZCA9IG5ldyBEYXRlXG5cdFx0XHRkZWxldGVfb2JqLmRlbGV0ZWRfYnkgPSBjdXJyZW50X3VzZXJcblxuXHRcdFx0ZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGRlbGV0ZV9vYmopXG5cblx0XHRcdCMg5Yig6ZmkaW5zdGFuY2Vcblx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cblx0XHRcdGlmIGRlbGV0ZV9vYmouc3RhdGUgaXNudCBcImRyYWZ0XCJcblx0XHRcdFx0I+WPkemAgee7meW+heWkhOeQhuS6uiwgI+WPkemAgee7meiiq+S8oOmYheS6ulxuXHRcdFx0XHRpbmJveF91c2VycyA9IGlmIGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgdGhlbiBkZWxldGVfb2JqLmluYm94X3VzZXJzIGVsc2UgW11cblx0XHRcdFx0Y2NfdXNlcnMgPSBpZiBkZWxldGVfb2JqLmNjX3VzZXJzIHRoZW4gZGVsZXRlX29iai5jY191c2VycyBlbHNlIFtdXG5cdFx0XHRcdHVzZXJfaWRzID0gXy51bmlxKGluYm94X3VzZXJzLmNvbmNhdChjY191c2VycykpXG5cdFx0XHRcdF8uZWFjaCB1c2VyX2lkcywgKHVfaWQpLT5cblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdV9pZClcblxuXHRcdFx0XHQjIOWPkemAgeWIoOmZpOmAmuefpemCruS7tue7memAmui/h+agoemqjOeahOeUs+ivt+S6ui/loavljZXkurrvvIzlr7nnlLPor7fkurov5aGr5Y2V5Lq65ZCE55Sf5oiQ5LiA5p2hc210cCBtZXNzYWdlXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwibW9uaXRvcl9kZWxldGVfYXBwbGljYW50XCIsIGRlbGV0ZV9vYmosIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXN9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuXHRcblx0XHQiLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbW92ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgaW5zZXJ0ZWRfaW5zdGFuY2VzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY2NfdXNlcnMsIGRlbGV0ZV9vYmosIGZsb3csIGluYm94X3VzZXJzLCBpbnN0YW5jZSwgc3BhY2UsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCB1c2VyX2lkcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mbG93XG4gICAgICB9KTtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uc1xuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgaWYgKChpbnN0YW5jZS5zdWJtaXR0ZXIgIT09IGN1cnJlbnRfdXNlcikgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbG93LCBzcGFjZV91c2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaCqOS4jeiDveWIoOmZpOatpOeUs+ivt+WNleOAglwiKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZV9vYmogPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBkZWxldGVfb2JqLmRlbGV0ZWQgPSBuZXcgRGF0ZTtcbiAgICAgIGRlbGV0ZV9vYmouZGVsZXRlZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChkZWxldGVfb2JqKTtcbiAgICAgIGRiLmluc3RhbmNlcy5yZW1vdmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgaWYgKGRlbGV0ZV9vYmouc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgICBpbmJveF91c2VycyA9IGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgPyBkZWxldGVfb2JqLmluYm94X3VzZXJzIDogW107XG4gICAgICAgIGNjX3VzZXJzID0gZGVsZXRlX29iai5jY191c2VycyA/IGRlbGV0ZV9vYmouY2NfdXNlcnMgOiBbXTtcbiAgICAgICAgdXNlcl9pZHMgPSBfLnVuaXEoaW5ib3hfdXNlcnMuY29uY2F0KGNjX3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaCh1c2VyX2lkcywgZnVuY3Rpb24odV9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdV9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJtb25pdG9yX2RlbGV0ZV9hcHBsaWNhbnRcIiwgZGVsZXRlX29iaiwgXCJcIiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9zdWJtaXQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRyZXN1bHQgPSBbXVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pXG5cdFx0XHRpZiByLmFsZXJ0c1xuXHRcdFx0XHRyZXN1bHQucHVzaChyKVxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShpbnN0YW5jZV9mcm9tX2NsaWVudFsnaW5ib3hfdXNlcnMnXSlcblx0XHRcdFx0IyDlpoLmnpzmmK/ovazlj5HlsLHpnIDopoHnu5nlvZPliY3nlKjmiLflj5HpgIFwdXNoIOmHjeaWsOiuoeeul2JhZGdlXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuXG5cdFx0XHRpZiBfLmlzRW1wdHkoci5hbGVydHMpXG5cdFx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnQuX2lkKVxuXHRcdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xuXHRcdFx0XHRjdXJyZW50X2FwcHJvdmUgPSBpbnN0YW5jZV9mcm9tX2NsaWVudC50cmFjZXNbMF0uYXBwcm92ZXNbMF1cblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdkcmFmdF9zdWJtaXQnLCBjdXJyZW50X3VzZXIsIGluc3RhbmNlLmluYm94X3VzZXJzKVxuXG5cdFx0XHQjIOWIpOaWreeUs+ivt+WNleaYr+WQpuWIhuWPke+8jOWIhuWPkeaWh+S7tue7k+adn+aPkOmGkuWPkei1t+S6ulxuXHRcdFx0dXVmbG93TWFuYWdlci5kaXN0cmlidXRlZEluc3RhbmNlc1JlbWluZChpbnN0YW5jZV9mcm9tX2NsaWVudClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRkYXRhOiB7IHJlc3VsdDogcmVzdWx0IH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9zdWJtaXQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIHJlc3VsdDtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIHJlc3VsdCA9IFtdO1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY3VycmVudF9hcHByb3ZlLCBmbG93X2lkLCBpbnN0YW5jZSwgcjtcbiAgICAgIHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgaWYgKHIuYWxlcnRzKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHIpO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzRW1wdHkoaW5zdGFuY2VfZnJvbV9jbGllbnRbJ2luYm94X3VzZXJzJ10pKSB7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuICAgICAgfVxuICAgICAgaWYgKF8uaXNFbXB0eShyLmFsZXJ0cykpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudC5faWQpO1xuICAgICAgICBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcbiAgICAgICAgY3VycmVudF9hcHByb3ZlID0gaW5zdGFuY2VfZnJvbV9jbGllbnQudHJhY2VzWzBdLmFwcHJvdmVzWzBdO1xuICAgICAgICBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgY3VycmVudF9hcHByb3ZlLCAnZHJhZnRfc3VibWl0JywgY3VycmVudF91c2VyLCBpbnN0YW5jZS5pbmJveF91c2Vycyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXVmbG93TWFuYWdlci5kaXN0cmlidXRlZEluc3RhbmNlc1JlbWluZChpbnN0YW5jZV9mcm9tX2NsaWVudCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcmVzdWx0OiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvdGVybWluYXRlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0dGVybWluYXRlX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1widGVybWluYXRlX3JlYXNvblwiXVxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXVxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3dcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2Vcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKVxuXHRcdFx0IyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuWuoeaguOS4reeKtuaAgVxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2XkuIvnmoTkuIDkuKp1c2VyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdCMg6I635Y+Wc3BhY2VfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xuXHRcdFx0c3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxuXHRcdFx0IyDojrflj5bnu5PmnZ/oioLngrlcblx0XHRcdGluc3RhbmNlX2Zsb3dfdmVyID0gbnVsbFxuXHRcdFx0Zmxvd192ZXJfZW5kX3N0ZXAgPSBudWxsXG5cdFx0XHRmbG93X3ZlcnMgPSBuZXcgQXJyYXlcblx0XHRcdGZsb3dfdmVycy5wdXNoKGZsb3cuY3VycmVudClcblx0XHRcdGZsb3dfdmVycyA9IGZsb3dfdmVycy5jb25jYXQoZmxvdy5oaXN0b3J5cylcblx0XHRcdGluc3RhbmNlX2Zsb3dfdmVyID0gXy5maW5kKGZsb3dfdmVycywgKGZfdmVyKS0+XG5cdFx0XHRcdHJldHVybiBmX3Zlci5faWQgaXMgaW5zdGFuY2UuZmxvd192ZXJzaW9uXG5cdFx0XHQpXG5cdFx0XHRpZiBub3QgaW5zdGFuY2VfZmxvd192ZXJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZXlr7nlupTmtYHnqIvniYjmnKxcIilcblx0XHRcdGZsb3dfdmVyX2VuZF9zdGVwID0gXy5maW5kKGluc3RhbmNlX2Zsb3dfdmVyLnN0ZXBzLCAoZl9zdGVwKS0+XG5cdFx0XHRcdHJldHVybiBmX3N0ZXAuc3RlcF90eXBlIGlzIFwiZW5kXCJcblx0XHRcdClcblx0XHRcdCMg6LCD55SoZ2V0Rmxvd1Blcm1pc3Npb25z5pa55rOV77yM55yL6L+U5Zue55qE57uT5p6c5Lit5piv5ZCm5pyJYWRtaW5cblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHQjIHNwYWNl55qEYWRtaW4sIOWhq+WNleS6uiDnlLPor7fkurog5pyJ5p2D6ZmQIOWPlua2iOeUs+ivt1xuXHRcdFx0aWYgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSBvciBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSBvciBpbnN0YW5jZS5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyIG9yIGluc3RhbmNlLmFwcGxpY2FudCBpcyBjdXJyZW50X3VzZXJcblx0XHRcdFx0aWYgbm90IHRlcm1pbmF0ZV9yZWFzb25cblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLFwi6L+Y5pyq5aGr5YaZ5by65Yi257uT5p2f55Sz6K+35Y2V55qE55CG55Sx77yM5pON5L2c5aSx6LSlXCIpXG5cblx0XHRcdFx0aW5zdGFuY2VfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpLT5cblx0XHRcdFx0XHRyZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHRcdFx0KVxuXG5cdFx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xuXHRcdFx0XHRpID0gMFxuXHRcdFx0XHR3aGlsZSBpIDwgdHJhY2VzLmxlbmd0aFxuXHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5pc19maW5pc2hlZCBpcyBmYWxzZVxuXHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRoID0gMFxuXHRcdFx0XHRcdFx0d2hpbGUgaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGhcblx0XHRcdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IG51bGxcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZGVzY3JpcHRpb24gPSBudWxsXG5cdFx0XHRcdFx0XHRcdGgrK1xuXHRcdFx0XHRcdFx0IyDmj5LlhaXlvZPliY1UcmFjZSB0cmFjZS5hcHByb3Zl6K6w5b2V77ya5b2TdHJhY2UudHlwZeS4uuWPluWbnuOAgeW8uuWItue7k+adn+aXtu+8jGlzX3JlYWQ9dHJ1ZeS4lHJlYWRfZGF0ZeS4uuW9k+WJjeaXtumXtOOAglxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gaW5zdGFuY2VfdHJhY2UuX2lkXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmR1ZV9kYXRlID0gaW5zdGFuY2VfdHJhY2UuZHVlX2RhdGVcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUucmVhZF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuZGVzY3JpcHRpb24gPSB0ZXJtaW5hdGVfcmVhc29uXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5jb3N0X3RpbWUgPSBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlIC0gbmV3QXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxuXHRcdFx0XHRcdGkrK1xuXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbaW5zdGFuY2VfdHJhY2UuX2lkXVxuXHRcdFx0XHQjIHR5cGUtLS3lgZznlKhcblx0XHRcdFx0IyBuZXdUcmFjZS50eXBlID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSBmbG93X3Zlcl9lbmRfc3RlcC5faWRcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0XHRzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIlxuXHRcdFx0XHRvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0XHRvbGRfY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2VycyB8fCBbXVxuXHRcdFx0XHRvbGRfb3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzXG5cdFx0XHRcdHRlbXBVc2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRfLmVhY2goaW5zdGFuY2VfdHJhY2UuYXBwcm92ZXMsIChuZnRfYXBwcm92ZSktPlxuXHRcdFx0XHRcdHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLnVzZXIpXG5cdFx0XHRcdFx0dGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUuaGFuZGxlcilcblx0XHRcdFx0KVxuXHRcdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQodGVtcFVzZXJzKSlcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRcdHNldE9iai5jY191c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxuXHRcdFx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzXG5cblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2VcblxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXHRcdFx0XHRpZiByXG5cdFx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdFx0XHQj6YCa55+l5aGr5Y2V5Lq644CB55Sz6K+35Lq6XG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJzdWJtaXRfdGVybWluYXRlX2FwcGxpY2FudFwiLCBpbnMsIHRlcm1pbmF0ZV9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0XHRcdFx0I+WPkemAgee7meW+heWkhOeQhuS6uiDooqvkvKDpmIXkurpcblx0XHRcdFx0XHRpZiBvbGRfaW5ib3hfdXNlcnNcblx0XHRcdFx0XHRcdF8uZWFjaChfLnVuaXEob2xkX2luYm94X3VzZXJzLmNvbmNhdChvbGRfY2NfdXNlcnMpKSwgKHVzZXJfaWQpLT5cblx0XHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVzZXJfaWQpXG5cdFx0XHRcdFx0XHQpXG5cblx0XHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3Rlcm1pbmF0ZScsIGN1cnJlbnRfdXNlciwgW10pXG5cblx0XHQj5Y+R6YCB5raI5oGv57uZ5b2T5YmN55So5oi3XG5cdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy90ZXJtaW5hdGUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGZsb3csIGZsb3dfaWQsIGZsb3dfdmVyX2VuZF9zdGVwLCBmbG93X3ZlcnMsIGgsIGksIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2Zsb3dfdmVyLCBpbnN0YW5jZV9pZCwgaW5zdGFuY2VfdHJhY2UsIG5ld0FwcHJvdmUsIG5ld1RyYWNlLCBub3csIG9sZF9jY191c2Vycywgb2xkX2luYm94X3VzZXJzLCBvbGRfb3V0Ym94X3VzZXJzLCBwZXJtaXNzaW9ucywgciwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHNwYWNlX3VzZXJfb3JnX2luZm8sIHRlbXBVc2VycywgdGVybWluYXRlX3JlYXNvbiwgdHJhY2VzO1xuICAgICAgdGVybWluYXRlX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1widGVybWluYXRlX3JlYXNvblwiXTtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl07XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZCk7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICBpbnN0YW5jZV9mbG93X3ZlciA9IG51bGw7XG4gICAgICBmbG93X3Zlcl9lbmRfc3RlcCA9IG51bGw7XG4gICAgICBmbG93X3ZlcnMgPSBuZXcgQXJyYXk7XG4gICAgICBmbG93X3ZlcnMucHVzaChmbG93LmN1cnJlbnQpO1xuICAgICAgZmxvd192ZXJzID0gZmxvd192ZXJzLmNvbmNhdChmbG93Lmhpc3RvcnlzKTtcbiAgICAgIGluc3RhbmNlX2Zsb3dfdmVyID0gXy5maW5kKGZsb3dfdmVycywgZnVuY3Rpb24oZl92ZXIpIHtcbiAgICAgICAgcmV0dXJuIGZfdmVyLl9pZCA9PT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICAgICAgfSk7XG4gICAgICBpZiAoIWluc3RhbmNlX2Zsb3dfdmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2V5a+55bqU5rWB56iL54mI5pysXCIpO1xuICAgICAgfVxuICAgICAgZmxvd192ZXJfZW5kX3N0ZXAgPSBfLmZpbmQoaW5zdGFuY2VfZmxvd192ZXIuc3RlcHMsIGZ1bmN0aW9uKGZfc3RlcCkge1xuICAgICAgICByZXR1cm4gZl9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJlbmRcIjtcbiAgICAgIH0pO1xuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIGlmIChwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpIHx8IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpIHx8IGluc3RhbmNlLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyIHx8IGluc3RhbmNlLmFwcGxpY2FudCA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgIGlmICghdGVybWluYXRlX3JlYXNvbikge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6L+Y5pyq5aGr5YaZ5by65Yi257uT5p2f55Sz6K+35Y2V55qE55CG55Sx77yM5pON5L2c5aSx6LSlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgICByZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgICBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRyYWNlc1tpXS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICB0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBoID0gMDtcbiAgICAgICAgICAgIHdoaWxlIChoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBpZiAodHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmRlc2NyaXB0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBpbnN0YW5jZV90cmFjZS5faWQ7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IGluc3RhbmNlX3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5kZXNjcmlwdGlvbiA9IHRlcm1pbmF0ZV9yZWFzb247XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmNvc3RfdGltZSA9IG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgLSBuZXdBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2luc3RhbmNlX3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IGZsb3dfdmVyX2VuZF9zdGVwLl9pZDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICAgICAgICBzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgb2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICAgIG9sZF9jY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzIHx8IFtdO1xuICAgICAgICBvbGRfb3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzO1xuICAgICAgICB0ZW1wVXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF8uZWFjaChpbnN0YW5jZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24obmZ0X2FwcHJvdmUpIHtcbiAgICAgICAgICB0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS51c2VyKTtcbiAgICAgICAgICByZXR1cm4gdGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUuaGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQodGVtcFVzZXJzKSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgc2V0T2JqLmNjX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2U7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJzdWJtaXRfdGVybWluYXRlX2FwcGxpY2FudFwiLCBpbnMsIHRlcm1pbmF0ZV9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgICBpZiAob2xkX2luYm94X3VzZXJzKSB7XG4gICAgICAgICAgICBfLmVhY2goXy51bmlxKG9sZF9pbmJveF91c2Vycy5jb25jYXQob2xkX2NjX3VzZXJzKSksIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1c2VyX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICd0ZXJtaW5hdGUnLCBjdXJyZW50X3VzZXIsIFtdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWFzc2lnbicsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ19pZCddXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHQjIOmqjOivgWluc3RhbmNl5Li65a6h5qC45Lit54q25oCBXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxuXHRcdFx0IyDpqozor4HlvZPliY3miafooYzovaznrb7moLjnmoR0cmFjZeacque7k+adn1xuXHRcdFx0bGFzdF90cmFjZV9mcm9tX2NsaWVudCA9IF8ubGFzdChpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSlcblx0XHRcdGxhc3RfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodCkgLT5cblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIGxhc3RfdHJhY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cblx0XHRcdClcblx0XHRcdGlmIGxhc3RfdHJhY2UuaXNfZmluaXNoZWQgaXMgdHJ1ZVxuXHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHsgX2lkOiBzcGFjZV9pZCB9LCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSlcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcblxuXHRcdFx0aW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0aW5ib3hfdXNlcnNfZnJvbV9jbGllbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdXG5cdFx0XHRyZWFzc2lnbl9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlYXNzaWduX3JlYXNvblwiXVxuXHRcdFx0bm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudClcblx0XHRcdG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5ib3hfdXNlcnMpXG5cdFx0XHQjIOiLpWFzc2lnbmVlPeWOn2luYm94X3VzZXJz77yM6K+05piO5LiN6ZyA6KaB5omn6KGM6L2s562+5qC477yM57O757uf5LuA5LmI6YO95LiN5YGaXG5cdFx0XHRyZXR1cm4gaWYgbm90X2luX2luYm94X3VzZXJzLmxlbmd0aCBpcyAwIGFuZCBuZXdfaW5ib3hfdXNlcnMubGVuZ3RoIGlzIDBcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRpID0gMFxuXHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycyA9IFtdXG5cdFx0XHR3aGlsZSBpIDwgbGFzdF90cmFjZS5hcHByb3Zlcy5sZW5ndGhcblx0XHRcdFx0aWYgbm90X2luX2luYm94X3VzZXJzLmluY2x1ZGVzKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcilcblx0XHRcdFx0XHRpZiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgaXNudCBcImNjXCIgYW5kIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmRlc2NyaXB0aW9uID0gXCJcIlxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5jb3N0X3RpbWUgPSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlIC0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS51c2VyKVxuXHRcdFx0XHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcilcblx0XHRcdFx0aSsrXG5cdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl6L2s562+5qC45pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxuXHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxuXHRcdFx0YXNzaWduZWVfYXBwciA9IG5ldyBPYmplY3Rcblx0XHRcdGFzc2lnbmVlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0YXNzaWduZWVfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2Vcblx0XHRcdGFzc2lnbmVlX2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0YXNzaWduZWVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdGFzc2lnbmVlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0YXNzaWduZWVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0YXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0YXNzaWduZWVfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGVcblx0XHRcdGFzc2lnbmVlX2FwcHIucmVhZF9kYXRlID0gbm93XG5cdFx0XHRhc3NpZ25lZV9hcHByLmp1ZGdlID0gXCJyZWFzc2lnbmVkXCJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfcmVhZCA9IHRydWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuZGVzY3JpcHRpb24gPSByZWFzc2lnbl9yZWFzb25cblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0YXNzaWduZWVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRhc3NpZ25lZV9hcHByLmNvc3RfdGltZSA9IGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgLSBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGVcblx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChhc3NpZ25lZV9hcHByKVxuXHRcdFx0IyDlr7nmlrDlop7nmoTmr4/kvY3lvoXlrqHmoLjkurrvvIzlkITlop7liqDkuIDmnaHmlrDnmoRhcHByb3ZlXG5cdFx0XHRfLmVhY2gobmV3X2luYm94X3VzZXJzLCAodXNlcl9pZCkgLT5cblx0XHRcdFx0bmV3X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIHVzZXJfaWQpXG5cdFx0XHRcdHVzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXG5cdFx0XHRcdG5ld19hcHByID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld19hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZVxuXHRcdFx0XHRuZXdfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkXG5cdFx0XHRcdG5ld19hcHByLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0bmV3X2FwcHIudXNlciA9IHVzZXJfaWRcblx0XHRcdFx0bmV3X2FwcHIudXNlcl9uYW1lID0gbmV3X3VzZXIubmFtZVxuXG5cdFx0XHRcdGhhbmRsZXJfaWQgPSB1c2VyX2lkXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IG5ld191c2VyXG5cdFx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZClcblx0XHRcdFx0aWYgYWdlbnRcblx0XHRcdFx0XHRpbmJveF91c2Vyc19mcm9tX2NsaWVudFtpbmJveF91c2Vyc19mcm9tX2NsaWVudC5pbmRleE9mKHVzZXJfaWQpXSA9IGFnZW50XG5cdFx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XG5cdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0bmV3X2FwcHIuYWdlbnQgPSBhZ2VudFxuXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXIgPSBoYW5kbGVyX2lkXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLm5hbWVcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxuXHRcdFx0XHRuZXdfYXBwci5mcm9tX3VzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0bmV3X2FwcHIuZnJvbV91c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdG5ld19hcHByLnR5cGUgPSBcInJlYXNzaWduXCJcblx0XHRcdFx0bmV3X2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGVcblx0XHRcdFx0bmV3X2FwcHIuaXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRcdG5ld19hcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0bmV3X2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdfYXBwcilcblx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKG5ld19hcHByKVxuXHRcdFx0KVxuXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMpXG5cdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycylcblx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IGluYm94X3VzZXJzX2Zyb21fY2xpZW50XG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBsYXN0X3RyYWNlLmFwcHJvdmVzXG5cdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7IF9pZDogaW5zdGFuY2VfaWQsIFwidHJhY2VzLl9pZFwiOiBsYXN0X3RyYWNlLl9pZCB9LCB7ICRzZXQ6IHNldE9iaiB9KVxuXHRcdFx0aWYgclxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0XHRfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCAodXNlcl9pZCkgLT5cblx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0KVxuXHRcdFx0XHQjIOaPkOWPlmluc3RhbmNlcy5vdXRib3hfdXNlcnPmlbDnu4TlkozloavljZXkurrjgIHnlLPor7fkurpcblx0XHRcdFx0X3VzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpXG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpXG5cdFx0XHRcdF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKVxuXHRcdFx0XHRfLmVhY2goX3VzZXJzLCAodXNlcl9pZCkgLT5cblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0KVxuXG5cdFx0XHRcdCMg57uZ5paw5Yqg5YWl55qEaW5ib3hfdXNlcnPlj5HpgIFwdXNoIG1lc3NhZ2Vcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWFzc2lnbl9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlYXNzaWduJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHt9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxuXHRcdH1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVhc3NpZ24nLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIF91c2VycywgYXBwcm92ZV91c2Vyc19oYW5kbGVycywgYXNzaWduZWVfYXBwciwgY3VycmVudF9zcGFjZV91c2VyLCBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLCBpLCBpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBsYXN0X3RyYWNlX2Zyb21fY2xpZW50LCBuZXdfaW5ib3hfdXNlcnMsIG5vdF9pbl9pbmJveF91c2Vycywgbm93LCBwZXJtaXNzaW9ucywgciwgcmVhc3NpZ25fcmVhc29uLCBzZXRPYmosIHNwYWNlLCBzcGFjZV9pZDtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ19pZCddO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKTtcbiAgICAgIGxhc3RfdHJhY2VfZnJvbV9jbGllbnQgPSBfLmxhc3QoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0pO1xuICAgICAgbGFzdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSBsYXN0X3RyYWNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgfSk7XG4gICAgICBpZiAobGFzdF90cmFjZS5pc19maW5pc2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogc3BhY2VfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWRtaW5zOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgICB9XG4gICAgICBpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdO1xuICAgICAgcmVhc3NpZ25fcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWFzc2lnbl9yZWFzb25cIl07XG4gICAgICBub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzX2Zyb21fY2xpZW50KTtcbiAgICAgIG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5ib3hfdXNlcnMpO1xuICAgICAgaWYgKG5vdF9pbl9pbmJveF91c2Vycy5sZW5ndGggPT09IDAgJiYgbmV3X2luYm94X3VzZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpID0gMDtcbiAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMgPSBbXTtcbiAgICAgIHdoaWxlIChpIDwgbGFzdF90cmFjZS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKG5vdF9pbl9pbmJveF91c2Vycy5pbmNsdWRlcyhsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpKSB7XG4gICAgICAgICAgaWYgKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSAhPT0gXCJjY1wiICYmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSAhPT0gXCJkaXN0cmlidXRlXCIpIHtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZGVzY3JpcHRpb24gPSBcIlwiO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5jb3N0X3RpbWUgPSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlIC0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udXNlcik7XG4gICAgICAgICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhc3NpZ25lZV9hcHByID0gbmV3IE9iamVjdDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgYXNzaWduZWVfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICBhc3NpZ25lZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICBhc3NpZ25lZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgYXNzaWduZWVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmp1ZGdlID0gXCJyZWFzc2lnbmVkXCI7XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgYXNzaWduZWVfYXBwci5kZXNjcmlwdGlvbiA9IHJlYXNzaWduX3JlYXNvbjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuY29zdF90aW1lID0gYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSAtIGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChhc3NpZ25lZV9hcHByKTtcbiAgICAgIF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld19hcHByLCBuZXdfdXNlciwgc3BhY2VfdXNlciwgdXNlcl9vcmdhbml6YXRpb247XG4gICAgICAgIG5ld191c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCB1c2VyX2lkKTtcbiAgICAgICAgdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld19hcHByID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3X2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3X2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgICBuZXdfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgICBuZXdfYXBwci5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci51c2VyID0gdXNlcl9pZDtcbiAgICAgICAgbmV3X2FwcHIudXNlcl9uYW1lID0gbmV3X3VzZXIubmFtZTtcbiAgICAgICAgaGFuZGxlcl9pZCA9IHVzZXJfaWQ7XG4gICAgICAgIGhhbmRsZXJfaW5mbyA9IG5ld191c2VyO1xuICAgICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpO1xuICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICBpbmJveF91c2Vyc19mcm9tX2NsaWVudFtpbmJveF91c2Vyc19mcm9tX2NsaWVudC5pbmRleE9mKHVzZXJfaWQpXSA9IGFnZW50O1xuICAgICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICAgIF9pZDogYWdlbnRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld19hcHByLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgbmV3X2FwcHIuZnJvbV91c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICBuZXdfYXBwci5mcm9tX3VzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld19hcHByLnR5cGUgPSBcInJlYXNzaWduXCI7XG4gICAgICAgIG5ld19hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld19hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgbmV3X2FwcHIuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdfYXBwcik7XG4gICAgICAgIHJldHVybiBsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2gobmV3X2FwcHIpO1xuICAgICAgfSk7XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChhcHByb3ZlX3VzZXJzX2hhbmRsZXJzKTtcbiAgICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKTtcbiAgICAgIHNldE9iai5pbmJveF91c2VycyA9IGluYm94X3VzZXJzX2Zyb21fY2xpZW50O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBsYXN0X3RyYWNlLmFwcHJvdmVzO1xuICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgICBcInRyYWNlcy5faWRcIjogbGFzdF90cmFjZS5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICB9KTtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgXy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIGlmICh1c2VyX2lkICE9PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcik7XG4gICAgICAgIF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKTtcbiAgICAgICAgXy5lYWNoKF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlYXNzaWduX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWFzc2lnbicsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVsb2NhdGUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cblx0XHRcdGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKVxuXG5cdFx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcilcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKVxuXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHRpbnN0YW5jZV9pZCA9IGxhc3RfdHJhY2UuaW5zdGFuY2Vcblx0XHRcdGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcblx0XHRcdHJlbG9jYXRlX2luYm94X3VzZXJzID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9pbmJveF91c2Vyc1wiXVxuXHRcdFx0cmVsb2NhdGVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfY29tbWVudFwiXVxuXHRcdFx0cmVsb2NhdGVfbmV4dF9zdGVwID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9uZXh0X3N0ZXBcIl1cblx0XHRcdG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgcmVsb2NhdGVfaW5ib3hfdXNlcnMpXG5cdFx0XHRuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzKVxuXG5cdFx0XHRhcHByb3ZlX3VzZXJzID0gW11cblxuXHRcdFx0IyDojrflj5bkuIDkuKpmbG93XG5cdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cdFx0XHRuZXh0X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHJlbG9jYXRlX25leHRfc3RlcClcblx0XHRcdG5leHRfc3RlcF90eXBlID0gbmV4dF9zdGVwLnN0ZXBfdHlwZVxuXHRcdFx0bmV4dF9zdGVwX25hbWUgPSBuZXh0X3N0ZXAubmFtZVxuXHRcdFx0Y3VycmVudF9zZXRwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApXG5cdFx0XHRjdXJyZW50X3NldHBfdHlwZSA9IGN1cnJlbnRfc2V0cC5zdGVwX3R5cGVcblxuXHRcdFx0dHJhY2VzID0gaW5zdGFuY2UudHJhY2VzXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHQjIOmHjeWumuS9jeeahOaXtuWAmeS9v+eUqGFwcHJvdmUudmFsdWVz5ZCI5bm2IGluc3RhbmNlLnZhbHVlc+eUn+aIkOaWsOeahGluc3RhbmNlLnZhbHVlcyAjMTMyOFxuXHRcdFx0c2V0T2JqLnZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRpID0gMFxuXHRcdFx0d2hpbGUgaSA8IHRyYWNlcy5sZW5ndGhcblx0XHRcdFx0aWYgdHJhY2VzW2ldLl9pZCBpcyBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0XHRcdGlmIG5vdCB0cmFjZXNbaV0uYXBwcm92ZXNcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3ZlcyA9IG5ldyBBcnJheVxuXHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdGggPSAwXG5cdFx0XHRcdFx0d2hpbGUgaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGhcblx0XHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgaXNudCBcImNjXCIgYW5kIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlIGlzbnQgXCJkaXN0cmlidXRlXCJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5yZWFkX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmNvc3RfdGltZSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSAtIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmVfdXNlcnMucHVzaCh0cmFjZXNbaV0uYXBwcm92ZXNbaF0udXNlcilcblxuXHRcdFx0XHRcdFx0XHQjIGJlZ2luIOiiq+mHjeWumuS9jee7mUHvvIzlho3ooqvph43lrprkvY3otbDvvIzkuYvliY1B55qE5oSP6KeB5Zyo5oSP6KeB5qCP5Lit5pi+56S65LiN5Ye65p2l5LqG44CCICMxOTIxXG5cdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPT0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdHRhID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdXG5cdFx0XHRcdFx0XHRcdFx0c2FtZVRyYWNlcyA9IF8uZmlsdGVyIHRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0LnN0ZXAgPT0gdHJhY2VzW2ldLnN0ZXBcblxuXHRcdFx0XHRcdFx0XHRcdGwgPSBzYW1lVHJhY2VzLmxlbmd0aCAtIDFcblx0XHRcdFx0XHRcdFx0XHRzaWduU2hvd0FwcHJvdmVJZCA9IG51bGxcblxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlIGwgPiAtMVxuXHRcdFx0XHRcdFx0XHRcdFx0Xy5lYWNoIHNhbWVUcmFjZXNbbF0uYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIGEudXNlciA9PSB0YS51c2VyICYmIGEuanVkZ2UgIT0gXCJ0ZXJtaW5hdGVkXCIgJiYgYS5kZXNjcmlwdGlvbiAmJiAhc2lnblNob3dBcHByb3ZlSWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzaWduU2hvd0FwcHJvdmVJZCA9IGEuX2lkXG5cdFx0XHRcdFx0XHRcdFx0XHRsLS1cblxuXHRcdFx0XHRcdFx0XHRcdGlmIHNpZ25TaG93QXBwcm92ZUlkXG5cdFx0XHRcdFx0XHRcdFx0XHR0aSA9IDBcblx0XHRcdFx0XHRcdFx0XHRcdHdoaWxlIHRpIDwgdHJhY2VzLmxlbmd0aFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhaCA9IDBcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgYWggPCB0cmFjZXNbdGldLmFwcHJvdmVzLmxlbmd0aFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLl9pZCA9PSBzaWduU2hvd0FwcHJvdmVJZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uc2lnbl9zaG93ID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YWgrK1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aSsrXG5cdFx0XHRcdFx0XHRcdCMgZW5kIOiiq+mHjeWumuS9jee7mUHvvIzlho3ooqvph43lrprkvY3otbDvvIzkuYvliY1B55qE5oSP6KeB5Zyo5oSP6KeB5qCP5Lit5pi+56S65LiN5Ye65p2l5LqG44CCICMxOTIxXG5cblx0XHRcdFx0XHRcdGgrK1xuXG5cdFx0XHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpemHjeWumuS9jeaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSAsIGZ1bGxuYW1lOiAxIH0gfSlcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudHJhY2UgPSB0cmFjZXNbaV0uX2lkXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZHVlX2RhdGUgPSB0cmFjZXNbaV0uZHVlX2RhdGVcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuanVkZ2UgPSBcInJlbG9jYXRlZFwiXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZGVzY3JpcHRpb24gPSByZWxvY2F0ZV9jb21tZW50XG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5jb3N0X3RpbWUgPSByZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmVsb2NhdGVfYXBwci5zdGFydF9kYXRlXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gocmVsb2NhdGVfYXBwcilcblxuXHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcblx0XHRcdFx0XHR0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0dHJhY2VzW2ldLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIlxuXG5cdFx0XHRcdGkrK1xuXG5cdFx0XHRpZiBuZXh0X3N0ZXBfdHlwZSBpcyBcImVuZFwiXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZVxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cblx0XHRcdFx0IyDmm7TmlrBpbnN0YW5jZeiusOW9lVxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IFtdXG5cdFx0XHRcdHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdHNldE9iai5maW5pc2hfZGF0ZSA9IG5ldyBEYXRlXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXBcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUobmV4dF9zdGVwLnRpbWVvdXRfaG91cnMsIHNwYWNlX2lkKVxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXG5cdFx0XHRcdF8uZWFjaChyZWxvY2F0ZV9pbmJveF91c2VycywgKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpLT5cblx0XHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZFxuXG5cdFx0XHRcdFx0dXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZVxuXG5cdFx0XHRcdFx0aGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkXG5cdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvXG5cdFx0XHRcdFx0YWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZClcblx0XHRcdFx0XHRpZiBhZ2VudFxuXHRcdFx0XHRcdFx0cmVsb2NhdGVfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50XG5cdFx0XHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnRcblx0XHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50XG5cblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXG5cdFx0XHRcdFx0bmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZClcblx0XHRcdFx0XHQjIOiOt+WPlm5leHRfc3RlcF91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXG5cdFx0XHRcdFx0bmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxuXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2Vcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKVxuXHRcdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcblx0XHRcdFx0KVxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSByZWxvY2F0ZV9pbmJveF91c2Vyc1xuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBuZXh0X3N0ZXAubGluZXMpXG5cblx0XHRcdGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcblx0XHRcdGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoaW5ib3hfdXNlcnMpLmNvbmNhdChhcHByb3ZlX3VzZXJzKVxuXHRcdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2Vcblx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxuXHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xuXG5cdFx0XHRpZiBzZXRPYmouc3RhdGUgPT0gJ2NvbXBsZXRlZCdcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcblx0XHRcdGVsc2Vcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqLCAkdW5zZXQ6IHtmaW5pc2hfZGF0ZTogMX19KVxuXG5cdFx0XHRpZiByXG5cdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXG5cdFx0XHRcdF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsICh1c2VyX2lkKS0+XG5cdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdClcblx0XHRcdFx0IyDmj5Dlj5ZpbnN0YW5jZXMub3V0Ym94X3VzZXJz5pWw57uE5ZKM5aGr5Y2V5Lq644CB55Sz6K+35Lq6XG5cdFx0XHRcdF91c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KVxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKVxuXHRcdFx0XHRfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSlcblx0XHRcdFx0Xy5lYWNoKF91c2VycywgKHVzZXJfaWQpLT5cblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0KVxuXG5cdFx0XHRcdCMg57uZ5paw5Yqg5YWl55qEaW5ib3hfdXNlcnPlj5HpgIFwdXNoIG1lc3NhZ2Vcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWxvY2F0ZV9jb21tZW50LCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWxvY2F0ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHtlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVsb2NhdGUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIF91c2VycywgYWgsIGFwcHJvdmVfdXNlcnMsIGN1cnJlbnRfc2V0cCwgY3VycmVudF9zZXRwX3R5cGUsIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgZmxvdywgaCwgaSwgaW5ib3hfdXNlcnMsIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsLCBsYXN0X3RyYWNlLCBuZXdUcmFjZSwgbmV3X2luYm94X3VzZXJzLCBuZXh0X3N0ZXAsIG5leHRfc3RlcF9uYW1lLCBuZXh0X3N0ZXBfdHlwZSwgbm90X2luX2luYm94X3VzZXJzLCBub3csIHBlcm1pc3Npb25zLCByLCByZWxvY2F0ZV9hcHByLCByZWxvY2F0ZV9jb21tZW50LCByZWxvY2F0ZV9pbmJveF91c2VycywgcmVsb2NhdGVfbmV4dF9zdGVwLCBzYW1lVHJhY2VzLCBzZXRPYmosIHNpZ25TaG93QXBwcm92ZUlkLCBzcGFjZSwgc3BhY2VfaWQsIHRhLCB0aSwgdHJhY2VzO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKTtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFkbWluczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpO1xuICAgICAgfVxuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIGluc3RhbmNlX2lkID0gbGFzdF90cmFjZS5pbnN0YW5jZTtcbiAgICAgIGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICByZWxvY2F0ZV9pbmJveF91c2VycyA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfaW5ib3hfdXNlcnNcIl07XG4gICAgICByZWxvY2F0ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9jb21tZW50XCJdO1xuICAgICAgcmVsb2NhdGVfbmV4dF9zdGVwID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9uZXh0X3N0ZXBcIl07XG4gICAgICBub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIHJlbG9jYXRlX2luYm94X3VzZXJzKTtcbiAgICAgIG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShyZWxvY2F0ZV9pbmJveF91c2VycywgaW5ib3hfdXNlcnMpO1xuICAgICAgYXBwcm92ZV91c2VycyA9IFtdO1xuICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgIG5leHRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcmVsb2NhdGVfbmV4dF9zdGVwKTtcbiAgICAgIG5leHRfc3RlcF90eXBlID0gbmV4dF9zdGVwLnN0ZXBfdHlwZTtcbiAgICAgIG5leHRfc3RlcF9uYW1lID0gbmV4dF9zdGVwLm5hbWU7XG4gICAgICBjdXJyZW50X3NldHAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcCk7XG4gICAgICBjdXJyZW50X3NldHBfdHlwZSA9IGN1cnJlbnRfc2V0cC5zdGVwX3R5cGU7XG4gICAgICB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgc2V0T2JqLnZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGkgPSAwO1xuICAgICAgd2hpbGUgKGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0cmFjZXNbaV0uX2lkID09PSBsYXN0X3RyYWNlLl9pZCkge1xuICAgICAgICAgIGlmICghdHJhY2VzW2ldLmFwcHJvdmVzKSB7XG4gICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGggPSAwO1xuICAgICAgICAgIHdoaWxlIChoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgIT09IFwiY2NcIiAmJiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSAhPT0gXCJkaXN0cmlidXRlXCIpIHtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5jb3N0X3RpbWUgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgLSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgYXBwcm92ZV91c2Vycy5wdXNoKHRyYWNlc1tpXS5hcHByb3Zlc1toXS51c2VyKTtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0YSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXTtcbiAgICAgICAgICAgICAgICBzYW1lVHJhY2VzID0gXy5maWx0ZXIodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdC5zdGVwID09PSB0cmFjZXNbaV0uc3RlcDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsID0gc2FtZVRyYWNlcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIHNpZ25TaG93QXBwcm92ZUlkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3aGlsZSAobCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICBfLmVhY2goc2FtZVRyYWNlc1tsXS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYS51c2VyID09PSB0YS51c2VyICYmIGEuanVkZ2UgIT09IFwidGVybWluYXRlZFwiICYmIGEuZGVzY3JpcHRpb24gJiYgIXNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZ25TaG93QXBwcm92ZUlkID0gYS5faWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgbC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2lnblNob3dBcHByb3ZlSWQpIHtcbiAgICAgICAgICAgICAgICAgIHRpID0gMDtcbiAgICAgICAgICAgICAgICAgIHdoaWxlICh0aSA8IHRyYWNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWggPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYWggPCB0cmFjZXNbdGldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5faWQgPT09IHNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5zaWduX3Nob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBhaCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRpKys7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICAgIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnRyYWNlID0gdHJhY2VzW2ldLl9pZDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuZHVlX2RhdGUgPSB0cmFjZXNbaV0uZHVlX2RhdGU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5qdWRnZSA9IFwicmVsb2NhdGVkXCI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmRlc2NyaXB0aW9uID0gcmVsb2NhdGVfY29tbWVudDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuY29zdF90aW1lID0gcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSAtIHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChyZWxvY2F0ZV9hcHByKTtcbiAgICAgICAgICB0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgIHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICB0cmFjZXNbaV0uanVkZ2UgPSBcInJlbG9jYXRlZFwiO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0X3N0ZXBfdHlwZSA9PT0gXCJlbmRcIikge1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gW107XG4gICAgICAgIHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICBzZXRPYmouZmluaXNoX2RhdGUgPSBuZXcgRGF0ZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShuZXh0X3N0ZXAudGltZW91dF9ob3Vycywgc3BhY2VfaWQpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBfLmVhY2gocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpIHtcbiAgICAgICAgICB2YXIgYWdlbnQsIGhhbmRsZXJfaWQsIGhhbmRsZXJfaW5mbywgbmV3QXBwcm92ZSwgbmV4dF9zdGVwX3NwYWNlX3VzZXIsIG5leHRfc3RlcF91c2VyX29yZ19pbmZvLCB1c2VyX2luZm87XG4gICAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgICAgICB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgaGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcbiAgICAgICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKTtcbiAgICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICAgIHJlbG9jYXRlX2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudDtcbiAgICAgICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgICBuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKTtcbiAgICAgICAgICBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcik7XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICBuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGU7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgICAgICByZXR1cm4gbmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IHJlbG9jYXRlX2luYm94X3VzZXJzO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIG5leHRfc3RlcC5saW5lcyk7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChpbmJveF91c2VycykuY29uY2F0KGFwcHJvdmVfdXNlcnMpO1xuICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICB0cmFjZXMucHVzaChuZXdUcmFjZSk7XG4gICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgaWYgKHNldE9iai5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmosXG4gICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICBmaW5pc2hfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAocikge1xuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudCk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpO1xuICAgICAgICBfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaChfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWxvY2F0ZV9jb21tZW50LCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlbG9jYXRlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9hcmNoaXZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXVxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdFx0IyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuWujOaIkOW5tuS4lOacquW9kuaho+eKtuaAgVxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQoaW5zdGFuY2UpXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxuXHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cdFx0XHQjIOWIpOaWreS4gOS4queUqOaIt+aYr+WQpuaYr+S4gOS4qmluc3RhbmNl55qE5o+Q5Lqk6ICFIOaIluiAhXNwYWNl55qE566h55CG5ZGYXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXJPckFwcGxpY2FudE9yU3BhY2VBZG1pbihpbnN0YW5jZSwgY3VycmVudF91c2VyLCBzcGFjZSlcblx0XHRcdFxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gdHJ1ZVxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGVcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0ZGF0YToge31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuXHRcblx0XHQiLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2FyY2hpdmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX3VzZXI7XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQoaW5zdGFuY2UpO1xuICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4oaW5zdGFuY2UsIGN1cnJlbnRfdXNlciwgc3BhY2UpO1xuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IHRydWU7XG4gICAgICBzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZTtcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLnN0YXJ0dXAgLT5cblx0V2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UgXCIvYXBpL3dvcmtmbG93L2V4cG9ydC9pbnN0YW5jZXNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRcdHRyeVxuXHRcdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXG5cdFx0XHRxdWVyeSA9IHJlcS5xdWVyeVxuXHRcdFx0c3BhY2VfaWQgPSBxdWVyeS5zcGFjZV9pZFxuXHRcdFx0Zmxvd19pZCA9IHF1ZXJ5LmZsb3dfaWRcblx0XHRcdHR5cGUgPSBwYXJzZUludChxdWVyeS50eXBlKVxuXHRcdFx0dGltZXpvbmVvZmZzZXQgPSBwYXJzZUludChxdWVyeS50aW1lem9uZW9mZnNldClcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dfaWQgfSwgeyBmaWVsZHM6IHsgZm9ybTogMSB9IH0pXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdy5mb3JtIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KVxuXG5cdFx0XHRmb3JtX25hbWUgPSBmb3JtLm5hbWVcblx0XHRcdGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHNcblx0XHRcdHRhYmxlX2ZpZWxkcyA9IG5ldyBBcnJheVxuXHRcdFx0Xy5lYWNoIGZvcm0uY3VycmVudC5maWVsZHMsIChmaWVsZCkgLT5cblx0XHRcdFx0aWYgZmllbGQudHlwZSBpcyBcInRhYmxlXCJcblx0XHRcdFx0XHR0YWJsZV9maWVsZHMucHVzaChmaWVsZClcblxuXHRcdFx0aW5zX3RvX3hscyA9IG5ldyBBcnJheVxuXHRcdFx0c3RhcnRfZGF0ZSA9IG51bGxcblx0XHRcdGVuZF9kYXRlID0gbnVsbFxuXHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdHNlbGVjdG9yID0geyBzcGFjZTogc3BhY2VfaWQsIGZsb3c6IGZsb3dfaWQgfVxuXHRcdFx0c2VsZWN0b3Iuc3RhdGUgPSB7JGluOiBbXCJwZW5kaW5nXCIsIFwiY29tcGxldGVkXCJdfVxuXHRcdFx0dWlkID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlX2lkKVxuXHRcdFx0aWYgIXNwYWNlXG5cdFx0XHRcdHNlbGVjdG9yLnN0YXRlID0gXCJub25lXCJcblxuXHRcdFx0aWYgIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1aWQpXG5cdFx0XHRcdGZsb3dfaWRzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE15QWRtaW5Pck1vbml0b3JGbG93cyhzcGFjZV9pZCwgdWlkKVxuXHRcdFx0XHRpZiAhZmxvd19pZHMuaW5jbHVkZXMoc2VsZWN0b3IuZmxvdylcblx0XHRcdFx0XHRzZWxlY3Rvci4kb3IgPSBbe3N1Ym1pdHRlcjogdWlkfSwge2FwcGxpY2FudDogdWlkfSwge2luYm94X3VzZXJzOiB1aWR9LCB7b3V0Ym94X3VzZXJzOiB1aWR9XVxuXG5cdFx0XHQjIDAt5pys5pyIXG5cdFx0XHRpZiB0eXBlIGlzIDBcblx0XHRcdFx0c3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSlcblx0XHRcdFx0c2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7ICRndGU6IHN0YXJ0X2RhdGUgfVxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cblx0XHRcdFx0fSkuZmV0Y2goKVxuXHRcdFx0IyAxLeS4iuaciFxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDFcblx0XHRcdFx0bGFzdF9tb250aF9kYXRlID0gbmV3IERhdGUobmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKSAtIDEwMDAgKiA2MCAqIDYwICogMjQpXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShsYXN0X21vbnRoX2RhdGUuZ2V0RnVsbFllYXIoKSwgbGFzdF9tb250aF9kYXRlLmdldE1vbnRoKCksIDEpXG5cdFx0XHRcdGVuZF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKVxuXHRcdFx0XHRzZWxlY3Rvci5zdWJtaXRfZGF0ZSA9IHsgJGd0ZTogc3RhcnRfZGF0ZSwgJGx0ZTogZW5kX2RhdGUgfVxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cblx0XHRcdFx0fSkuZmV0Y2goKVxuXHRcdFx0IyAyLeaVtOS4quW5tOW6plxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDJcblx0XHRcdFx0c3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCAwLCAxKVxuXHRcdFx0XHRzZWxlY3Rvci5zdWJtaXRfZGF0ZSA9IHsgJGd0ZTogc3RhcnRfZGF0ZSB9XG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZChzZWxlY3Rvciwge1xuXHRcdFx0XHRcdHNvcnQ6IHsgc3VibWl0X2RhdGU6IDEgfVxuXHRcdFx0XHR9KS5mZXRjaCgpXG5cdFx0XHQjIDMt5omA5pyJXG5cdFx0XHRlbHNlIGlmIHR5cGUgaXMgM1xuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cblx0XHRcdFx0fSkuZmV0Y2goKVxuXG5cdFx0XHRlanMgPSByZXF1aXJlKCdlanMnKVxuXHRcdFx0c3RyID0gQXNzZXRzLmdldFRleHQoJ3NlcnZlci9lanMvZXhwb3J0X2luc3RhbmNlcy5lanMnKVxuXG5cdFx0XHQjIOajgOa1i+aYr+WQpuacieivreazlemUmeivr1xuXHRcdFx0ZWpzTGludCA9IHJlcXVpcmUoJ2Vqcy1saW50Jylcblx0XHRcdGVycm9yX29iaiA9IGVqc0xpbnQubGludChzdHIsIHt9KVxuXHRcdFx0aWYgZXJyb3Jfb2JqXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCI9PT0vYXBpL3dvcmtmbG93L2V4cG9ydDpcIlxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGVycm9yX29ialxuXG5cdFx0XHR0ZW1wbGF0ZSA9IGVqcy5jb21waWxlKHN0cilcblxuXHRcdFx0bGFuZyA9ICdlbidcblx0XHRcdGlmIGN1cnJlbnRfdXNlcl9pbmZvLmxvY2FsZSBpcyAnemgtY24nXG5cdFx0XHRcdGxhbmcgPSAnemgtQ04nXG5cdFx0XHRcblx0XHRcdHV0Y09mZnNldCA9IHRpbWV6b25lb2Zmc2V0IC8gLTYwXG5cdFx0XHRcblx0XHRcdGZvcm1hdERhdGUgPSAoZGF0ZSwgZm9ybWF0ZXIpIC0+XG5cdFx0XHRcdHJldHVybiBtb21lbnQoZGF0ZSkudXRjT2Zmc2V0KHV0Y09mZnNldCkuZm9ybWF0KGZvcm1hdGVyKVxuXG5cdFx0XHRyZXQgPSB0ZW1wbGF0ZSh7XG5cdFx0XHRcdGxhbmc6IGxhbmcsXG5cdFx0XHRcdGZvcm1hdERhdGU6IGZvcm1hdERhdGUsXG5cdFx0XHRcdGZvcm1fbmFtZTogZm9ybV9uYW1lLFxuXHRcdFx0XHRmaWVsZHM6IGZpZWxkcyxcblx0XHRcdFx0dGFibGVfZmllbGRzOiB0YWJsZV9maWVsZHMsXG5cdFx0XHRcdGluc190b194bHM6IGluc190b194bHNcblx0XHRcdH0pXG5cblx0XHRcdGZpbGVOYW1lID0gXCJTdGVlZE9TV29ya2Zsb3dfXCIgKyBtb21lbnQoKS5mb3JtYXQoJ1lZWVlNTURESEhtbScpICsgXCIueGxzXCJcblx0XHRcdHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIilcblx0XHRcdHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LURpc3Bvc2l0aW9uXCIsIFwiYXR0YWNobWVudDtmaWxlbmFtZT1cIiArIGVuY29kZVVSSShmaWxlTmFtZSkpXG5cdFx0XHRyZXMuZW5kKHJldClcblx0XHRjYXRjaCBlXG5cdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdHJlcy5lbmQoZS5tZXNzYWdlKSIsIk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gV2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UoXCIvYXBpL3dvcmtmbG93L2V4cG9ydC9pbnN0YW5jZXNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgY3VycmVudF91c2VyX2luZm8sIGUsIGVqcywgZWpzTGludCwgZW5kX2RhdGUsIGVycm9yX29iaiwgZmllbGRzLCBmaWxlTmFtZSwgZmxvdywgZmxvd19pZCwgZmxvd19pZHMsIGZvcm0sIGZvcm1fbmFtZSwgZm9ybWF0RGF0ZSwgaW5zX3RvX3hscywgbGFuZywgbGFzdF9tb250aF9kYXRlLCBub3csIHF1ZXJ5LCByZXQsIHNlbGVjdG9yLCBzcGFjZSwgc3BhY2VfaWQsIHN0YXJ0X2RhdGUsIHN0ciwgdGFibGVfZmllbGRzLCB0ZW1wbGF0ZSwgdGltZXpvbmVvZmZzZXQsIHR5cGUsIHVpZCwgdXRjT2Zmc2V0O1xuICAgIHRyeSB7XG4gICAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgICAgcXVlcnkgPSByZXEucXVlcnk7XG4gICAgICBzcGFjZV9pZCA9IHF1ZXJ5LnNwYWNlX2lkO1xuICAgICAgZmxvd19pZCA9IHF1ZXJ5LmZsb3dfaWQ7XG4gICAgICB0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSk7XG4gICAgICB0aW1lem9uZW9mZnNldCA9IHBhcnNlSW50KHF1ZXJ5LnRpbWV6b25lb2Zmc2V0KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93X2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm06IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvcm1fbmFtZSA9IGZvcm0ubmFtZTtcbiAgICAgIGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHM7XG4gICAgICB0YWJsZV9maWVsZHMgPSBuZXcgQXJyYXk7XG4gICAgICBfLmVhY2goZm9ybS5jdXJyZW50LmZpZWxkcywgZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09IFwidGFibGVcIikge1xuICAgICAgICAgIHJldHVybiB0YWJsZV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW5zX3RvX3hscyA9IG5ldyBBcnJheTtcbiAgICAgIHN0YXJ0X2RhdGUgPSBudWxsO1xuICAgICAgZW5kX2RhdGUgPSBudWxsO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBzZWxlY3RvciA9IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBmbG93OiBmbG93X2lkXG4gICAgICB9O1xuICAgICAgc2VsZWN0b3Iuc3RhdGUgPSB7XG4gICAgICAgICRpbjogW1wicGVuZGluZ1wiLCBcImNvbXBsZXRlZFwiXVxuICAgICAgfTtcbiAgICAgIHVpZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VfaWQpO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXModWlkKSkge1xuICAgICAgICBmbG93X2lkcyA9IFdvcmtmbG93TWFuYWdlci5nZXRNeUFkbWluT3JNb25pdG9yRmxvd3Moc3BhY2VfaWQsIHVpZCk7XG4gICAgICAgIGlmICghZmxvd19pZHMuaW5jbHVkZXMoc2VsZWN0b3IuZmxvdykpIHtcbiAgICAgICAgICBzZWxlY3Rvci4kb3IgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Ym1pdHRlcjogdWlkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGFwcGxpY2FudDogdWlkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGluYm94X3VzZXJzOiB1aWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgb3V0Ym94X3VzZXJzOiB1aWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gMCkge1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgc2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7XG4gICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICB9O1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICBsYXN0X21vbnRoX2RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpIC0gMTAwMCAqIDYwICogNjAgKiAyNCk7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShsYXN0X21vbnRoX2RhdGUuZ2V0RnVsbFllYXIoKSwgbGFzdF9tb250aF9kYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgICBlbmRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIHNlbGVjdG9yLnN1Ym1pdF9kYXRlID0ge1xuICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGUsXG4gICAgICAgICAgJGx0ZTogZW5kX2RhdGVcbiAgICAgICAgfTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDIpIHtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgICAgICAgc2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7XG4gICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICB9O1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMykge1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH1cbiAgICAgIGVqcyA9IHJlcXVpcmUoJ2VqcycpO1xuICAgICAgc3RyID0gQXNzZXRzLmdldFRleHQoJ3NlcnZlci9lanMvZXhwb3J0X2luc3RhbmNlcy5lanMnKTtcbiAgICAgIGVqc0xpbnQgPSByZXF1aXJlKCdlanMtbGludCcpO1xuICAgICAgZXJyb3Jfb2JqID0gZWpzTGludC5saW50KHN0ciwge30pO1xuICAgICAgaWYgKGVycm9yX29iaikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiPT09L2FwaS93b3JrZmxvdy9leHBvcnQ6XCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yX29iaik7XG4gICAgICB9XG4gICAgICB0ZW1wbGF0ZSA9IGVqcy5jb21waWxlKHN0cik7XG4gICAgICBsYW5nID0gJ2VuJztcbiAgICAgIGlmIChjdXJyZW50X3VzZXJfaW5mby5sb2NhbGUgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbGFuZyA9ICd6aC1DTic7XG4gICAgICB9XG4gICAgICB1dGNPZmZzZXQgPSB0aW1lem9uZW9mZnNldCAvIC02MDtcbiAgICAgIGZvcm1hdERhdGUgPSBmdW5jdGlvbihkYXRlLCBmb3JtYXRlcikge1xuICAgICAgICByZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQpLmZvcm1hdChmb3JtYXRlcik7XG4gICAgICB9O1xuICAgICAgcmV0ID0gdGVtcGxhdGUoe1xuICAgICAgICBsYW5nOiBsYW5nLFxuICAgICAgICBmb3JtYXREYXRlOiBmb3JtYXREYXRlLFxuICAgICAgICBmb3JtX25hbWU6IGZvcm1fbmFtZSxcbiAgICAgICAgZmllbGRzOiBmaWVsZHMsXG4gICAgICAgIHRhYmxlX2ZpZWxkczogdGFibGVfZmllbGRzLFxuICAgICAgICBpbnNfdG9feGxzOiBpbnNfdG9feGxzXG4gICAgICB9KTtcbiAgICAgIGZpbGVOYW1lID0gXCJTdGVlZE9TV29ya2Zsb3dfXCIgKyBtb21lbnQoKS5mb3JtYXQoJ1lZWVlNTURESEhtbScpICsgXCIueGxzXCI7XG4gICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpO1xuICAgICAgcmVzLnNldEhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIiwgXCJhdHRhY2htZW50O2ZpbGVuYW1lPVwiICsgZW5jb2RlVVJJKGZpbGVOYW1lKSk7XG4gICAgICByZXR1cm4gcmVzLmVuZChyZXQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgcmV0dXJuIHJlcy5lbmQoZS5tZXNzYWdlKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy91Zi9zcGFjZS9jaGFuZ2VzZXQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdHF1ZXJ5ID0gcmVxLnF1ZXJ5XG5cdFx0YXV0aF90b2tlbiA9IGRiLmF1dGhfdG9rZW5zLmZpbmRPbmUoe2F1dGhfdG9rZW46IHF1ZXJ5LmF1dGhfdG9rZW59KVxuXG5cdFx0aWYgKG5vdCBhdXRoX3Rva2VuKSBvciAobm90IGF1dGhfdG9rZW4uZW5hYmxlZClcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IgNDAxLCAnVW5hdXRob3JpemVkJ1xuXG5cdFx0c3luY190b2tlbiA9IHF1ZXJ5W1wic3luY190b2tlblwiXVxuXHRcdGZvcm1pZHMgPSBxdWVyeVtcImZvcm1pZHNcIl0gIyDpgJflj7fpmpTlvIDlrZfnrKbkuLJcblx0XHRpc19hZG1pbiA9IHF1ZXJ5W1wiaXNfYWRtaW5cIl1cblxuXHRcdGRhdGEgPSB1dWZsb3dNYW5hZ2VyLmdldF9TcGFjZUNoYW5nZVNldChmb3JtaWRzLCBpc19hZG1pbiwgc3luY190b2tlbilcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRkYXRhOiBkYXRhXG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH0iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy91Zi9zcGFjZS9jaGFuZ2VzZXQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXV0aF90b2tlbiwgZGF0YSwgZSwgZm9ybWlkcywgaXNfYWRtaW4sIHF1ZXJ5LCBzeW5jX3Rva2VuO1xuICB0cnkge1xuICAgIHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICAgIGF1dGhfdG9rZW4gPSBkYi5hdXRoX3Rva2Vucy5maW5kT25lKHtcbiAgICAgIGF1dGhfdG9rZW46IHF1ZXJ5LmF1dGhfdG9rZW5cbiAgICB9KTtcbiAgICBpZiAoKCFhdXRoX3Rva2VuKSB8fCAoIWF1dGhfdG9rZW4uZW5hYmxlZCkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNDAxLCAnVW5hdXRob3JpemVkJyk7XG4gICAgfVxuICAgIHN5bmNfdG9rZW4gPSBxdWVyeVtcInN5bmNfdG9rZW5cIl07XG4gICAgZm9ybWlkcyA9IHF1ZXJ5W1wiZm9ybWlkc1wiXTtcbiAgICBpc19hZG1pbiA9IHF1ZXJ5W1wiaXNfYWRtaW5cIl07XG4gICAgZGF0YSA9IHV1Zmxvd01hbmFnZXIuZ2V0X1NwYWNlQ2hhbmdlU2V0KGZvcm1pZHMsIGlzX2FkbWluLCBzeW5jX3Rva2VuKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZXRyaWV2ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcblx0XHRcdHJldHJpZXZlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsncmV0cmlldmVfY29tbWVudCddXG5cblx0XHRcdCMg6aqM6K+BaW5zdGFuY2XkuLrlrqHmoLjkuK3nirbmgIFcblx0XHRcdCMgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcblx0XHRcdCMg5qCh6aqM55Sz6K+35Y2V5piv5b2T5YmN55So5oi35bey5a6h5qC46L+H55qE5Y2V5a2Q5oiW6ICF5b2T5YmN55So5oi35piv5o+Q5Lqk5Lq65oiW55Sz6K+35Lq6XG5cdFx0XHRpZiAobm90IGluc3RhbmNlLm91dGJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSBhbmQgKGluc3RhbmNlLnN1Ym1pdHRlciBpc250IGN1cnJlbnRfdXNlciBhbmQgaW5zdGFuY2UuYXBwbGljYW50IGlzbnQgY3VycmVudF91c2VyKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICflvZPliY3nlKjmiLfkuI3nrKblkIjlj5blm57mnaHku7YnKVxuXG5cdFx0XHRyZXRyaWV2ZV90eXBlID0gXCJcIlxuXG5cdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcblxuXHRcdFx0I+iOt+WPluacgOaWsOeahHRyYWNl77yMIOWNs+WPluWbnuatpemqpFxuXHRcdFx0bGFzdF90cmFjZSA9IF8ubGFzdCh0cmFjZXMpXG5cdFx0XHRsYXN0X3RyYWNlX2lkID0gbGFzdF90cmFjZS5faWRcblx0XHRcdHByZXZpb3VzX3RyYWNlX2lkID0gbGFzdF90cmFjZS5wcmV2aW91c190cmFjZV9pZHNbMF07XG5cdFx0XHRwcmV2aW91c190cmFjZSA9IF8uZmluZCh0cmFjZXMsICh0KS0+XG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyBwcmV2aW91c190cmFjZV9pZFxuXHRcdFx0KVxuXHRcdFx0cHJldmlvdXNfdHJhY2Vfc3RlcF9pZCA9IHByZXZpb3VzX3RyYWNlLnN0ZXBcblx0XHRcdHByZXZpb3VzX3RyYWNlX25hbWUgPSBwcmV2aW91c190cmFjZS5uYW1lXG5cdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cdFx0XHRwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKVxuXHRcdFx0aWYgcHJldmlvdXNfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb3VudGVyU2lnblwiXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuS4jeiDveWPluWbnicpXG5cblx0XHRcdCMg5Y+W5Zue5q2l6aqk55qE5YmN5LiA5Liq5q2l6aqk5aSE55CG5Lq65ZSv5LiA77yI5Y2z5o6S6Zmk5o6J5Lyg6ZiF5ZKM6L2s5Y+R55qEYXBwcm92ZeWQju+8jOWJqeS9meeahGFwcHJvdmXlj6rmnInkuIDkuKrvvInlubbkuJTmmK/lvZPliY3nlKjmiLdcblx0XHRcdHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzID0gXy5maWx0ZXIgcHJldmlvdXNfdHJhY2UuYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdHJldHVybiBhLnR5cGUgaXNudCAnY2MnIGFuZCBhLnR5cGUgaXNudCAnZGlzdHJpYnV0ZScgYW5kIGEudHlwZSBpc250ICdmb3J3YXJkJyBhbmQgWydhcHByb3ZlZCcsJ3N1Ym1pdHRlZCcsJ3JlamVjdGVkJ10uaW5jbHVkZXMoYS5qdWRnZSlcblxuXHRcdFx0aWYgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXMubGVuZ3RoIGlzIDEgYW5kIChwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS51c2VyIGlzIGN1cnJlbnRfdXNlciBvciBwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS5oYW5kbGVyIGlzIGN1cnJlbnRfdXNlcilcblx0XHRcdFx0cmV0cmlldmVfdHlwZSA9ICdub3JtYWwnICMg55Sz6K+35Y2V5q2j5bi45rWB6L2s55qE5Y+W5Zue77yM5Y2z6Z2e5Lyg6ZiF5Y+W5ZueXG5cblx0XHRcdGkgPSB0cmFjZXMubGVuZ3RoXG5cdFx0XHRyZXRyaWV2ZV9hcHByb3ZlID0ge31cblx0XHRcdHdoaWxlIGkgPiAwXG5cdFx0XHRcdF8uZWFjaCB0cmFjZXNbaS0xXS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdFx0XHRpZiBhLnR5cGUgaXMgJ2NjJyBhbmQgYS5pc19maW5pc2hlZCBpcyB0cnVlIGFuZCBhLnVzZXIgaXMgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV90eXBlID0gJ2NjJ1xuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwcm92ZSA9IGFcblxuXHRcdFx0XHRpZiByZXRyaWV2ZV90eXBlIGlzICdjYydcblx0XHRcdFx0XHRicmVha1xuXG5cdFx0XHRcdGktLVxuXG5cblx0XHRcdGlmIHJldHJpZXZlX3R5cGUgaXMgJ25vcm1hbCdcblx0XHRcdFx0IyDojrflj5bkuIDkuKpmbG93XG5cdFx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcblx0XHRcdFx0cHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZClcblx0XHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZFxuXHRcdFx0XHRvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRcdF8uZWFjaCB0cmFjZXMsICh0KS0+XG5cdFx0XHRcdFx0aWYgdC5faWQgaXMgbGFzdF90cmFjZV9pZFxuXHRcdFx0XHRcdFx0aWYgbm90IHQuYXBwcm92ZXNcblx0XHRcdFx0XHRcdFx0dC5hcHByb3ZlcyA9IG5ldyBBcnJheVxuXHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwcHIpLT5cblx0XHRcdFx0XHRcdFx0aWYgYXBwci5pc19maW5pc2hlZCA9PSBmYWxzZSBhbmQgYXBwci50eXBlIGlzbnQgXCJjY1wiXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdFx0YXBwci5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0XHRcdGFwcHIucmVhZF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5jb3N0X3RpbWUgPSBhcHByLmZpbmlzaF9kYXRlIC0gYXBwci5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl5Y+W5Zue5pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdFx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwciA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnRyYWNlID0gdC5faWRcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZHVlX2RhdGUgPSB0LmR1ZV9kYXRlXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5qdWRnZSA9IFwicmV0cmlldmVkXCJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZGVzY3JpcHRpb24gPSByZXRyaWV2ZV9jb21tZW50XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5jb3N0X3RpbWUgPSByZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmV0cmlldmVfYXBwci5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHR0LmFwcHJvdmVzLnB1c2gocmV0cmlldmVfYXBwcilcblxuXHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxuXHRcdFx0XHRcdFx0dC5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdHQuZmluaXNoX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdHQuanVkZ2UgPSBcInJldHJpZXZlZFwiXG5cblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlX2lkXVxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSBwcmV2aW91c190cmFjZV9zdGVwX2lkXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJldmlvdXNfc3RlcC50aW1lb3V0X2hvdXJzLCBzcGFjZV9pZClcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXG5cdFx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXJcblxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlciwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcblxuXHRcdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xuXHRcdFx0XHRvcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblxuXHRcdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlXG5cdFx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3RcblxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKVxuXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gW2N1cnJlbnRfdXNlcl1cblxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxuXHRcdFx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiXG5cdFx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXG5cblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZVxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBwcmV2aW91c19zdGVwLmxpbmVzKVxuXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXG5cdFx0XHRcdGlmIHJcblx0XHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXG5cdFx0XHRcdFx0Xy5lYWNoKG9sZF9pbmJveF91c2VycywgKHVzZXJfaWQpLT5cblx0XHRcdFx0XHRcdGlmIHVzZXJfaWQgaXNudCBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0XHRcdFx0KVxuXG5cdFx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXG5cblx0XHRcdGVsc2UgaWYgcmV0cmlldmVfdHlwZSBpcyAnY2MnXG5cdFx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWRcblx0XHRcdFx0dGhlX3RyYWNlID0gXy5maW5kIHRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgcmV0cmlldmVfYXBwcm92ZS50cmFjZVxuXG5cdFx0XHRcdF8uZWFjaCB0aGVfdHJhY2UuYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRcdFx0aWYgYS5faWQgaXMgcmV0cmlldmVfYXBwcm92ZS5faWRcblx0XHRcdFx0XHRcdGEuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0XHRcdFx0YS5maW5pc2hfZGF0ZSA9IHVuZGVmaW5lZFxuXHRcdFx0XHRcdFx0YS5qdWRnZSA9IHVuZGVmaW5lZFxuXHRcdFx0XHRcdFx0YS5jb3N0X3RpbWUgPSB1bmRlZmluZWRcblxuXHRcdFx0XHRjY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRcdGNjX3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxuXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcblx0XHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2Vcblx0XHRcdFx0c2V0T2JqLmNjX3VzZXJzID0gY2NfdXNlcnNcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3ZlcyddID0gdGhlX3RyYWNlLmFwcHJvdmVzXG5cblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWQsICd0cmFjZXMuX2lkJzogcmV0cmlldmVfYXBwcm92ZS50cmFjZX0sIHskc2V0OiBzZXRPYmp9KVxuXHRcdFx0XHRpZiByXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgW2N1cnJlbnRfdXNlcl0pXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YToge2Vycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZXRyaWV2ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY2NfdXNlcnMsIGZsb3csIGhhbmRsZXJfaW5mbywgaSwgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGxhc3RfdHJhY2UsIGxhc3RfdHJhY2VfaWQsIG5ld0FwcHJvdmUsIG5ld1RyYWNlLCBub3csIG9sZF9pbmJveF91c2Vycywgb3JnX2luZm8sIHByZXZpb3VzX3N0ZXAsIHByZXZpb3VzX3RyYWNlLCBwcmV2aW91c190cmFjZV9hcHByb3ZlcywgcHJldmlvdXNfdHJhY2VfaWQsIHByZXZpb3VzX3RyYWNlX25hbWUsIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQsIHIsIHJldHJpZXZlX2FwcHJvdmUsIHJldHJpZXZlX2NvbW1lbnQsIHJldHJpZXZlX3R5cGUsIHNldE9iaiwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHRoZV90cmFjZSwgdHJhY2VzO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIHJldHJpZXZlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsncmV0cmlldmVfY29tbWVudCddO1xuICAgICAgaWYgKCghaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpICYmIChpbnN0YW5jZS5zdWJtaXR0ZXIgIT09IGN1cnJlbnRfdXNlciAmJiBpbnN0YW5jZS5hcHBsaWNhbnQgIT09IGN1cnJlbnRfdXNlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5b2T5YmN55So5oi35LiN56ym5ZCI5Y+W5Zue5p2h5Lu2Jyk7XG4gICAgICB9XG4gICAgICByZXRyaWV2ZV90eXBlID0gXCJcIjtcbiAgICAgIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcbiAgICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QodHJhY2VzKTtcbiAgICAgIGxhc3RfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLl9pZDtcbiAgICAgIHByZXZpb3VzX3RyYWNlX2lkID0gbGFzdF90cmFjZS5wcmV2aW91c190cmFjZV9pZHNbMF07XG4gICAgICBwcmV2aW91c190cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSBwcmV2aW91c190cmFjZV9pZDtcbiAgICAgIH0pO1xuICAgICAgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCA9IHByZXZpb3VzX3RyYWNlLnN0ZXA7XG4gICAgICBwcmV2aW91c190cmFjZV9uYW1lID0gcHJldmlvdXNfdHJhY2UubmFtZTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICBwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKTtcbiAgICAgIGlmIChwcmV2aW91c19zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuS4jeiDveWPluWbnicpO1xuICAgICAgfVxuICAgICAgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXMgPSBfLmZpbHRlcihwcmV2aW91c190cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlICE9PSAnY2MnICYmIGEudHlwZSAhPT0gJ2Rpc3RyaWJ1dGUnICYmIGEudHlwZSAhPT0gJ2ZvcndhcmQnICYmIFsnYXBwcm92ZWQnLCAnc3VibWl0dGVkJywgJ3JlamVjdGVkJ10uaW5jbHVkZXMoYS5qdWRnZSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aW91c190cmFjZV9hcHByb3Zlcy5sZW5ndGggPT09IDEgJiYgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLnVzZXIgPT09IGN1cnJlbnRfdXNlciB8fCBwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS5oYW5kbGVyID09PSBjdXJyZW50X3VzZXIpKSB7XG4gICAgICAgIHJldHJpZXZlX3R5cGUgPSAnbm9ybWFsJztcbiAgICAgIH1cbiAgICAgIGkgPSB0cmFjZXMubGVuZ3RoO1xuICAgICAgcmV0cmlldmVfYXBwcm92ZSA9IHt9O1xuICAgICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgIF8uZWFjaCh0cmFjZXNbaSAtIDFdLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgaWYgKGEudHlwZSA9PT0gJ2NjJyAmJiBhLmlzX2ZpbmlzaGVkID09PSB0cnVlICYmIGEudXNlciA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXRyaWV2ZV90eXBlID0gJ2NjJztcbiAgICAgICAgICAgIHJldHVybiByZXRyaWV2ZV9hcHByb3ZlID0gYTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ2NjJykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXRyaWV2ZV90eXBlID09PSAnbm9ybWFsJykge1xuICAgICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgICAgICBwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKTtcbiAgICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWQ7XG4gICAgICAgIG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgXy5lYWNoKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHZhciBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIHJldHJpZXZlX2FwcHI7XG4gICAgICAgICAgaWYgKHQuX2lkID09PSBsYXN0X3RyYWNlX2lkKSB7XG4gICAgICAgICAgICBpZiAoIXQuYXBwcm92ZXMpIHtcbiAgICAgICAgICAgICAgdC5hcHByb3ZlcyA9IG5ldyBBcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcHByKSB7XG4gICAgICAgICAgICAgIGlmIChhcHByLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBhcHByLnR5cGUgIT09IFwiY2NcIikge1xuICAgICAgICAgICAgICAgIGFwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICBhcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFwcHIuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwci5jb3N0X3RpbWUgPSBhcHByLmZpbmlzaF9kYXRlIC0gYXBwci5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICAgICAgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7XG4gICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudHJhY2UgPSB0Ll9pZDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmR1ZV9kYXRlID0gdC5kdWVfZGF0ZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5qdWRnZSA9IFwicmV0cmlldmVkXCI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5kZXNjcmlwdGlvbiA9IHJldHJpZXZlX2NvbW1lbnQ7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmNvc3RfdGltZSA9IHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgLSByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICB0LmFwcHJvdmVzLnB1c2gocmV0cmlldmVfYXBwcik7XG4gICAgICAgICAgICB0LmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHQuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXR1cm4gdC5qdWRnZSA9IFwicmV0cmlldmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZV9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSBwcmV2aW91c190cmFjZV9zdGVwX2lkO1xuICAgICAgICBuZXdUcmFjZS5uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJldmlvdXNfc3RlcC50aW1lb3V0X2hvdXJzLCBzcGFjZV9pZCk7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICAgIG9yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGU7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSk7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgICAgIHNldE9iai5pbmJveF91c2VycyA9IFtjdXJyZW50X3VzZXJdO1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgICBzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIHByZXZpb3VzX3N0ZXAubGluZXMpO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICAgIF8uZWFjaChvbGRfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICAgIGlmICh1c2VyX2lkICE9PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZXRyaWV2ZV90eXBlID09PSAnY2MnKSB7XG4gICAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZDtcbiAgICAgICAgdGhlX3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiB0Ll9pZCA9PT0gcmV0cmlldmVfYXBwcm92ZS50cmFjZTtcbiAgICAgICAgfSk7XG4gICAgICAgIF8uZWFjaCh0aGVfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICBpZiAoYS5faWQgPT09IHJldHJpZXZlX2FwcHJvdmUuX2lkKSB7XG4gICAgICAgICAgICBhLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBhLmZpbmlzaF9kYXRlID0gdm9pZCAwO1xuICAgICAgICAgICAgYS5qdWRnZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiBhLmNvc3RfdGltZSA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzO1xuICAgICAgICBjY191c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG4gICAgICAgIHNldE9iai5jY191c2VycyA9IGNjX3VzZXJzO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzJ10gPSB0aGVfdHJhY2UuYXBwcm92ZXM7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgICAgICd0cmFjZXMuX2lkJzogcmV0cmlldmVfYXBwcm92ZS50cmFjZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICB9XG4gICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgW2N1cnJlbnRfdXNlcl0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9mb3J3YXJkJywgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG5cdHRyeSB7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcblxuXHRcdHZhciBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuXHRcdHZhciBpbnN0YW5jZV9pZCA9IGhhc2hEYXRhLmluc3RhbmNlX2lkO1xuXHRcdHZhciBzcGFjZV9pZCA9IGhhc2hEYXRhLnNwYWNlX2lkO1xuXHRcdHZhciBmbG93X2lkID0gaGFzaERhdGEuZmxvd19pZDtcblx0XHR2YXIgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50ID0gaGFzaERhdGEuaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50O1xuXHRcdHZhciBkZXNjcmlwdGlvbiA9IGhhc2hEYXRhLmRlc2NyaXB0aW9uO1xuXHRcdHZhciBpc0ZvcndhcmRBdHRhY2htZW50cyA9IGhhc2hEYXRhLmlzRm9yd2FyZEF0dGFjaG1lbnRzO1xuXHRcdHZhciBzZWxlY3RlZFVzZXJzID0gaGFzaERhdGEuc2VsZWN0ZWRVc2Vycztcblx0XHR2YXIgYWN0aW9uX3R5cGUgPSBoYXNoRGF0YS5hY3Rpb25fdHlwZTtcblx0XHR2YXIgcmVsYXRlZCA9IGhhc2hEYXRhLnJlbGF0ZWQ7XG5cdFx0dmFyIGZyb21fYXBwcm92ZV9pZCA9IGhhc2hEYXRhLmZyb21fYXBwcm92ZV9pZDtcblxuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKHNwYWNlX2lkLCBTdHJpbmcpO1xuXHRcdGNoZWNrKGZsb3dfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBCb29sZWFuKTtcblx0XHRjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcblx0XHRjaGVjayhpc0ZvcndhcmRBdHRhY2htZW50cywgQm9vbGVhbik7XG5cdFx0Y2hlY2soc2VsZWN0ZWRVc2VycywgQXJyYXkpO1xuXHRcdGNoZWNrKGFjdGlvbl90eXBlLCBNYXRjaC5PbmVPZignZm9yd2FyZCcsICdkaXN0cmlidXRlJykpO1xuXG5cdFx0aWYgKGFjdGlvbl90eXBlID09IFwiZGlzdHJpYnV0ZVwiKVxuXHRcdFx0Y2hlY2soZnJvbV9hcHByb3ZlX2lkLCBTdHJpbmcpO1xuXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcblx0XHR2YXIgb2xkX3NwYWNlX2lkID0gaW5zLnNwYWNlO1xuXG5cdFx0dmFyIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpO1xuXG5cdFx0dmFyIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VfaWQpO1xuXG5cdFx0aWYgKCFpbnMgfHwgIWZsb3cgfHwgIXNwYWNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpO1xuXHRcdH1cblxuXHRcdHZhciBmb3J3YXJkX3VzZXJzID0gbmV3IEFycmF5O1xuXHRcdGlmIChfLmlzRW1wdHkoc2VsZWN0ZWRVc2VycykpIHtcblx0XHRcdGZvcndhcmRfdXNlcnMgPSBbY3VycmVudF91c2VyX2lkXTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yd2FyZF91c2VycyA9IHNlbGVjdGVkVXNlcnM7XG5cdFx0fVxuXG5cdFx0Ly8g5qCh6aqM5YiG5Y+R5a+56LGh5piv5ZCm5pyJ5YiG5Y+R5rWB56iL55qE5o+Q5Lqk5p2D6ZmQXG5cdFx0dmFyIG5vX3Blcm1pc3Npb25fdXNlcl9pZHMgPSBuZXcgQXJyYXkoKTtcblx0XHRfLmVhY2goZm9yd2FyZF91c2VycywgZnVuY3Rpb24gKHVpZCkge1xuXHRcdFx0dmFyIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIHVpZCk7XG5cdFx0XHRpZiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRkXCIpKSB7XG5cdFx0XHRcdC8vIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6K+l55Sz6K+35Lq65rKh5pyJ5o+Q5Lqk5q2k55Sz6K+35Y2V55qE5p2D6ZmQ44CCXCIpXG5cdFx0XHRcdG5vX3Blcm1pc3Npb25fdXNlcl9pZHMucHVzaCh1aWQpO1xuXHRcdFx0fVxuXHRcdH0pXG5cdFx0aWYgKCFfLmlzRW1wdHkobm9fcGVybWlzc2lvbl91c2VyX2lkcykpIHtcblx0XHRcdHZhciBub19wZXJtaXNzaW9uX3VzZXJzX25hbWUgPSBuZXcgQXJyYXkoKTtcblx0XHRcdGRiLnVzZXJzLmZpbmQoe1xuXHRcdFx0XHRfaWQ6IHtcblx0XHRcdFx0XHQkaW46IG5vX3Blcm1pc3Npb25fdXNlcl9pZHNcblx0XHRcdFx0fVxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pLmZvckVhY2goZnVuY3Rpb24gKHUpIHtcblx0XHRcdFx0bm9fcGVybWlzc2lvbl91c2Vyc19uYW1lLnB1c2godS5uYW1lKTtcblx0XHRcdH0pO1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm9fcGVybWlzc2lvbicsIFwi6K+l5o+Q5Lqk5Lq65rKh5pyJ5o+Q5Lqk5q2k55Sz6K+35Y2V55qE5p2D6ZmQ44CCXCIsIG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZS5qb2luKCcsJykpXG5cdFx0fVxuXG5cdFx0dmFyIG5ld19pbnNfaWRzID0gbmV3IEFycmF5O1xuXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBudWxsO1xuXHRcdGlmIChhY3Rpb25fdHlwZSA9PSBcImRpc3RyaWJ1dGVcIikge1xuXHRcdFx0Xy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRcdGlmICghY3VycmVudF90cmFjZSkge1xuXHRcdFx0XHRcdF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbiAoYSkge1xuXHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50X3RyYWNlKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PSBmcm9tX2FwcHJvdmVfaWQpXG5cdFx0XHRcdFx0XHRcdFx0Y3VycmVudF90cmFjZSA9IHQ7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y3VycmVudF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKTtcblx0XHR9XG5cdFx0dmFyIGN1cnJlbnRfdHJhY2VfaWQgPSBjdXJyZW50X3RyYWNlLl9pZDtcblx0XHR2YXIgZm9yd2FyZF9hcHByb3ZlcyA9IFtdO1xuXHRcdHZhciBmcm9tX3VzZXJfbmFtZSA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0bmFtZTogMVxuXHRcdFx0fVxuXHRcdH0pLm5hbWVcblx0XHR2YXIgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG5cblx0XHQvLyDorqHnrpd2YWx1ZXNcblx0XHR2YXIgb2xkX3ZhbHVlcyA9IGlucy52YWx1ZXMsXG5cdFx0XHRuZXdfdmFsdWVzID0ge307XG5cdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZsb3cuZm9ybSk7XG5cdFx0dmFyIGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHMgfHwgW107XG5cblx0XHR2YXIgb2xkX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGlucy5mb3JtKTtcblx0XHR2YXIgb2xkX2Zvcm1fdmVyc2lvbiA9IGlucy5mb3JtX3ZlcnNpb24sXG5cdFx0XHRvbGRfZmllbGRzID0gW10sXG5cdFx0XHRjb21tb25fZmllbGRzID0gW107XG5cblx0XHR2YXIgc2VsZWN0X3RvX2lucHV0X2ZpZWxkcyA9IFtdO1xuXG5cdFx0aWYgKG9sZF9mb3JtLmN1cnJlbnQuX2lkID09IG9sZF9mb3JtX3ZlcnNpb24pIHtcblx0XHRcdG9sZF9maWVsZHMgPSBvbGRfZm9ybS5jdXJyZW50LmZpZWxkcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKG9sZF9mb3JtLmhpc3RvcnlzKSB7XG5cdFx0XHRcdG9sZF9mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24gKGgpIHtcblx0XHRcdFx0XHRpZiAoaC5faWQgPT0gb2xkX2Zvcm1fdmVyc2lvbilcblx0XHRcdFx0XHRcdG9sZF9maWVsZHMgPSBoLmZpZWxkcztcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9XG5cblx0XHRmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcblx0XHRcdHZhciBleGlzdHNfZmllbGQgPSBfLmZpbmQob2xkX2ZpZWxkcywgZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0cmV0dXJuIGYudHlwZSA9PSBmaWVsZC50eXBlICYmIGYuY29kZSA9PSBmaWVsZC5jb2RlO1xuXHRcdFx0fSlcblx0XHRcdGlmIChleGlzdHNfZmllbGQpXG5cdFx0XHRcdGNvbW1vbl9maWVsZHMucHVzaChmaWVsZCk7XG5cdFx0XHR2YXIgc2VsZWN0X2lucHV0X2ZpZWxkID0gXy5maW5kKG9sZF9maWVsZHMsIGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdHJldHVybiBmLnR5cGUgPT0gJ3NlbGVjdCcgJiYgZmllbGQudHlwZSA9PSAnaW5wdXQnICYmIGYuY29kZSA9PSBmaWVsZC5jb2RlO1xuXHRcdFx0fSlcblx0XHRcdGlmIChzZWxlY3RfaW5wdXRfZmllbGQpXG5cdFx0XHRcdHNlbGVjdF90b19pbnB1dF9maWVsZHMucHVzaChzZWxlY3RfaW5wdXRfZmllbGQpO1xuXHRcdH0pXG5cblx0XHRzZWxlY3RfdG9faW5wdXRfZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG5cdFx0XHRpZiAob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkge1xuXHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdID0gb2xkX3ZhbHVlc1tmaWVsZC5jb2RlXTtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0Y29tbW9uX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuXHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nKSB7XG5cdFx0XHRcdGlmIChmaWVsZC5maWVsZHMpIHtcblx0XHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuXHRcdFx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXG5cdFx0XHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZi50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIGtleSA9IGYuY29kZTtcblx0XHRcdFx0XHRcdHZhciBvbGRfdiA9IG9sZF92YWx1ZXNba2V5XTtcblx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xuXHRcdFx0XHRcdFx0XHQvLyDmoKHpqowg5Y2V6YCJ77yM5aSa6YCJ77yM5LiL5ouJ5qGGIOWtl+auteWAvOaYr+WQpuWcqOaWsOihqOWNleWvueW6lOWtl+auteeahOWPr+mAieWAvOiMg+WbtOWGhVxuXHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdzZWxlY3QnIHx8IGYudHlwZSA9PSAncmFkaW8nKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pbmNsdWRlcyhvbGRfdikpXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihvcHRpb25zLCBvbGRfbXVsdGlTZWxlY3RlZCk7XG5cdFx0XHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRuZXdfdmFsdWVzW2tleV0gPSBvbGRfdjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT0gJ3RhYmxlJykge1xuXHRcdFx0XHRpZiAoIV8uaXNFbXB0eShvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdKSkge1xuXHRcdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0gPSBuZXcgQXJyYXk7XG5cdFx0XHRcdFx0b2xkX3ZhbHVlc1tmaWVsZC5jb2RlXS5mb3JFYWNoKGZ1bmN0aW9uIChvbGRfdGFibGVfcm93X3ZhbHVlcykge1xuXHRcdFx0XHRcdFx0dmFyIG5ld190YWJsZV9yb3dfdmFsdWVzID0ge307XG5cblx0XHRcdFx0XHRcdGlmICghXy5pc0VtcHR5KGZpZWxkLmZpZWxkcykpIHtcblx0XHRcdFx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4Rcblx0XHRcdFx0XHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZi50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGtleSA9IGYuY29kZTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdGFibGVfcm93X3ZhbHVlc1trZXldO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZi50eXBlID09ICdyYWRpbycpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaW5jbHVkZXMob2xkX3YpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24ob3B0aW9ucywgb2xkX211bHRpU2VsZWN0ZWQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRcdFx0bmV3X3RhYmxlX3Jvd192YWx1ZXNba2V5XSA9IG9sZF92O1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKG9sZF90YWJsZV9yb3dfdmFsdWVzLl9pZCkge1xuXHRcdFx0XHRcdFx0XHRuZXdfdGFibGVfcm93X3ZhbHVlcy5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoIV8uaXNFbXB0eShuZXdfdGFibGVfcm93X3ZhbHVlcykpIHtcblx0XHRcdFx0XHRcdFx0bmV3X3ZhbHVlc1tmaWVsZC5jb2RlXS5wdXNoKG5ld190YWJsZV9yb3dfdmFsdWVzKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4Rcblx0XHRcdFx0aWYgKFsnZ3JvdXAnLCAndXNlciddLmluY2x1ZGVzKGZpZWxkLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIga2V5ID0gZmllbGQuY29kZTtcblx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3ZhbHVlc1trZXldO1xuXHRcdFx0XHRpZiAob2xkX3YpIHtcblx0XHRcdFx0XHQvLyDmoKHpqowg5Y2V6YCJ77yM5aSa6YCJ77yM5LiL5ouJ5qGGIOWtl+auteWAvOaYr+WQpuWcqOaWsOihqOWNleWvueW6lOWtl+auteeahOWPr+mAieWAvOiMg+WbtOWGhVxuXHRcdFx0XHRcdGlmIChmaWVsZC50eXBlID09ICdzZWxlY3QnIHx8IGZpZWxkLnR5cGUgPT0gJ3JhZGlvJykge1xuXHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KCdcXG4nKTtcblx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pbmNsdWRlcyhvbGRfdikpXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XG5cdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGZpZWxkLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xuXHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcblx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKG9wdGlvbnMsIG9sZF9tdWx0aVNlbGVjdGVkKTtcblx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG5ld192YWx1ZXNba2V5XSA9IG9sZF92O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9KVxuXG5cdFx0Ly/lpoLmnpzmmK/liIblj5HvvIzliJl2YWx1ZeS4reeahHJlY29yZF9uZWVk44CBRk9ORFNJROS4jemcgOimgeWIhuWPkeWIsOaWsOeUs+ivt+WNleS4rVxuXHRcdGlmIChhY3Rpb25fdHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG5cdFx0XHRkZWxldGUgbmV3X3ZhbHVlcy5yZWNvcmRfbmVlZDtcblx0XHRcdGRlbGV0ZSBuZXdfdmFsdWVzLkZPTkRTSUQ7XG5cdFx0fVxuXG5cdFx0Ly8g6K6h566X55Sz6K+35Y2V5qCH6aKYXG5cdFx0dmFyIGluc3RhbmNlX25hbWUgPSBcIlwiO1xuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtLmN1cnJlbnQubmFtZV9mb3J1bWxhO1xuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciBpc2NyaXB0ID0gbmFtZV9mb3J1bWxhLnJlcGxhY2UoL1xcey9nLCBcIihuZXdfdmFsdWVzWydcIikucmVwbGFjZSgvXFx9L2csIFwiJ10gfHwgJycpXCIpO1xuXHRcdFx0XHR2YXIgcmV2ID0gZXZhbChpc2NyaXB0KTtcblx0XHRcdFx0aW5zdGFuY2VfbmFtZSA9IHJldiB8fCBmbG93Lm5hbWU7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdjYWN1bGF0ZV9pbnN0YW5jZV9uYW1lJywgXCLorqHnrpfnlLPor7fljZXmoIfpopjlh7rplJnor7fmo4Dmn6XooajljZXmoIfpopjohJrmnKzjgIJcIik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGluc3RhbmNlX25hbWUgPSBmbG93Lm5hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gaW5zdGFuY2XkuK3orrDlvZXlvZPliY3mraXpqqTlkI3np7AgIzEzMTRcblx0XHR2YXIgc3RhcnRfc3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIGZ1bmN0aW9uIChzdGVwKSB7XG5cdFx0XHRyZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT0gJ3N0YXJ0Jztcblx0XHR9KVxuXG5cdFx0Ly8g5paw5bu655Sz6K+35Y2V5pe277yMaW5zdGFuY2Vz6K6w5b2V5rWB56iL5ZCN56ew44CB5rWB56iL5YiG57G75ZCN56ewICMxMzEzXG5cdFx0dmFyIGNhdGVnb3J5X25hbWUgPSBcIlwiO1xuXHRcdGlmIChmb3JtLmNhdGVnb3J5KSB7XG5cdFx0XHR2YXIgY2F0ZWdvcnkgPSB1dWZsb3dNYW5hZ2VyLmdldENhdGVnb3J5KGZvcm0uY2F0ZWdvcnkpO1xuXHRcdFx0aWYgKGNhdGVnb3J5KVxuXHRcdFx0XHRjYXRlZ29yeV9uYW1lID0gY2F0ZWdvcnkubmFtZTtcblx0XHR9XG5cblx0XHRfLmVhY2goZm9yd2FyZF91c2VycywgZnVuY3Rpb24gKHVzZXJfaWQpIHtcblxuXHRcdFx0dmFyIHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCk7XG5cblx0XHRcdHZhciBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0dXNlcjogdXNlcl9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRvcmdhbml6YXRpb246IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgc3BhY2VfdXNlcl9vcmdfaW5mbyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG5cdFx0XHRcdF9pZDogc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdH0sIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0dmFyIG5vdyA9IG5ldyBEYXRlKCk7XG5cdFx0XHR2YXIgaW5zX29iaiA9IHt9O1xuXG5cdFx0XHR2YXIgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VyX2lkKTtcblx0XHRcdHZhciBoYW5kbGVyX2lkID0gdXNlcl9pZDtcblx0XHRcdHZhciBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XG5cdFx0XHR2YXIgaGFuZGxlcl9zcGFjZV91c2VyID0gc3BhY2VfdXNlcjtcblx0XHRcdHZhciBoYW5kbGVyX29yZ19pbmZvID0gc3BhY2VfdXNlcl9vcmdfaW5mbztcblx0XHRcdGlmIChhZ2VudCkge1xuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnQ7XG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoYWdlbnQpO1xuXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xuXHRcdFx0XHRoYW5kbGVyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKGhhbmRsZXJfc3BhY2VfdXNlcik7XG5cdFx0XHR9XG5cdFx0XHRpbnNfb2JqLl9pZCA9IGRiLmluc3RhbmNlcy5fbWFrZU5ld0lEKCk7XG5cdFx0XHRpbnNfb2JqLnNwYWNlID0gc3BhY2VfaWQ7XG5cdFx0XHRpbnNfb2JqLmZsb3cgPSBmbG93X2lkO1xuXHRcdFx0aW5zX29iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xuXHRcdFx0aW5zX29iai5mb3JtID0gZmxvdy5mb3JtO1xuXHRcdFx0aW5zX29iai5mb3JtX3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuXHRcdFx0aW5zX29iai5uYW1lID0gaW5zdGFuY2VfbmFtZTtcblx0XHRcdGluc19vYmouc3VibWl0dGVyID0gaGFuZGxlcl9pZDtcblx0XHRcdGluc19vYmouc3VibWl0dGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcblx0XHRcdGluc19vYmouYXBwbGljYW50ID0gdXNlcl9pZDtcblx0XHRcdGluc19vYmouYXBwbGljYW50X25hbWUgPSB1c2VyX2luZm8ubmFtZTtcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvLm5hbWU7XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvLmZ1bGxuYW1lO1xuXHRcdFx0aW5zX29iai5zdGF0ZSA9IFwiZHJhZnRcIjtcblx0XHRcdGluc19vYmouY29kZSA9IFwiXCI7XG5cdFx0XHRpbnNfb2JqLmlzX2FyY2hpdmVkID0gZmFsc2U7XG5cdFx0XHRpbnNfb2JqLmlzX2RlbGV0ZWQgPSBmYWxzZTtcblx0XHRcdGluc19vYmouY3JlYXRlZCA9IG5vdztcblx0XHRcdGluc19vYmouY3JlYXRlZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcblx0XHRcdGluc19vYmoubW9kaWZpZWQgPSBub3c7XG5cdFx0XHRpbnNfb2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xuXHRcdFx0aW5zX29iai5pbmJveF91c2VycyA9IFtoYW5kbGVyX2lkXTtcblx0XHRcdGluc19vYmoudmFsdWVzID0gbmV3X3ZhbHVlcztcblx0XHRcdGlmIChhY3Rpb25fdHlwZSA9PSAnZGlzdHJpYnV0ZScpIHtcblx0XHRcdFx0Ly8g6Kej5Yaz5aSa5qyh5YiG5Y+R55yL5LiN5Yiw5q2j5paH44CB6ZmE5Lu26Zeu6aKYXG5cdFx0XHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG5cdFx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgPSBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcy5wdXNoKGluc3RhbmNlX2lkKTtcblxuXHRcdFx0XHRpZiAocmVsYXRlZCkge1xuXHRcdFx0XHRcdGluc19vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSBbaW5zdGFuY2VfaWRdXG5cdFx0XHRcdH1cblxuXHRcdFx0fSBlbHNlIGlmIChhY3Rpb25fdHlwZSA9PSAnZm9yd2FyZCcpIHtcblx0XHRcdFx0aW5zX29iai5mb3J3YXJkX2Zyb21faW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0fVxuXG5cdFx0XHQvLyDmlrDlu7pUcmFjZVxuXHRcdFx0dmFyIHRyYWNlX29iaiA9IHt9O1xuXHRcdFx0dHJhY2Vfb2JqLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG5cdFx0XHR0cmFjZV9vYmouaW5zdGFuY2UgPSBpbnNfb2JqLl9pZDtcblx0XHRcdHRyYWNlX29iai5pc19maW5pc2hlZCA9IGZhbHNlO1xuXG5cdFx0XHQvLyDlvZPliY3mnIDmlrDniYhmbG935Lit5byA5aeL6IqC54K555qEc3RlcF9pZFxuXHRcdFx0dmFyIHN0ZXBfaWQsIHN0ZXBfbmFtZSwgY2FuX2VkaXRfbWFpbl9hdHRhY2gsIGNhbl9lZGl0X25vcm1hbF9hdHRhY2g7XG5cdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAoc3RlcCkge1xuXHRcdFx0XHRpZiAoc3RlcC5zdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XG5cdFx0XHRcdFx0c3RlcF9pZCA9IHN0ZXAuX2lkO1xuXHRcdFx0XHRcdHN0ZXBfbmFtZSA9IHN0ZXAubmFtZTtcblx0XHRcdFx0XHRjYW5fZWRpdF9tYWluX2F0dGFjaCA9IHN0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2g7XG5cdFx0XHRcdFx0Y2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9IHN0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaDtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdHRyYWNlX29iai5zdGVwID0gc3RlcF9pZDtcblx0XHRcdHRyYWNlX29iai5zdGFydF9kYXRlID0gbm93O1xuXHRcdFx0dHJhY2Vfb2JqLm5hbWUgPSBzdGVwX25hbWU7XG5cblx0XHRcdC8vIOaWsOW7ukFwcHJvdmVcblx0XHRcdHZhciBhcHByX29iaiA9IHt9O1xuXHRcdFx0YXBwcl9vYmouX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcblx0XHRcdGFwcHJfb2JqLmluc3RhbmNlID0gaW5zX29iai5faWQ7XG5cdFx0XHRhcHByX29iai50cmFjZSA9IHRyYWNlX29iai5faWQ7XG5cdFx0XHRhcHByX29iai5pc19maW5pc2hlZCA9IGZhbHNlO1xuXHRcdFx0YXBwcl9vYmoudXNlciA9IHVzZXJfaWQ7XG5cdFx0XHRhcHByX29iai51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGhhbmRsZXJfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gaGFuZGxlcl9vcmdfaW5mby5uYW1lO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBoYW5kbGVyX29yZ19pbmZvLmZ1bGxuYW1lO1xuXHRcdFx0YXBwcl9vYmoudHlwZSA9IFwiZHJhZnRcIjtcblx0XHRcdGFwcHJfb2JqLnN0YXJ0X2RhdGUgPSBub3c7XG5cdFx0XHRhcHByX29iai5yZWFkX2RhdGUgPSBub3c7XG5cdFx0XHRhcHByX29iai5pc19yZWFkID0gZmFsc2U7XG5cdFx0XHRhcHByX29iai5pc19lcnJvciA9IGZhbHNlO1xuXG5cdFx0XHRhcHByX29iai52YWx1ZXMgPSBuZXdfdmFsdWVzO1xuXG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0YXBwcl9vYmouYWdlbnQgPSBhZ2VudDtcblx0XHRcdH1cblxuXHRcdFx0dHJhY2Vfb2JqLmFwcHJvdmVzID0gW2FwcHJfb2JqXTtcblx0XHRcdGluc19vYmoudHJhY2VzID0gW3RyYWNlX29ial07XG5cblx0XHRcdGlmIChmbG93LmF1dG9fcmVtaW5kID09IHRydWUpXG5cdFx0XHRcdGluc19vYmouYXV0b19yZW1pbmQgPSB0cnVlO1xuXG5cdFx0XHRpbnNfb2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gc3RhcnRfc3RlcC5uYW1lO1xuXG5cdFx0XHRpbnNfb2JqLmZsb3dfbmFtZSA9IGZsb3cubmFtZTtcblx0XHRcdGlmIChjYXRlZ29yeV9uYW1lKSB7XG5cdFx0XHRcdGluc19vYmouY2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5Lm5hbWU7XG5cdFx0XHRcdGluc19vYmouY2F0ZWdvcnkgPSBjYXRlZ29yeS5faWQ7XG5cdFx0XHR9XG5cblx0XHRcdG5ld19pbnNfaWQgPSBkYi5pbnN0YW5jZXMuaW5zZXJ0KGluc19vYmopO1xuXG5cdFx0XHQvLyDlpI3liLbpmYTku7Zcblx0XHRcdHZhciBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcblxuXHRcdFx0Ly/lsIbljp/ooajljZXlhoXlrrnlrZjlgqjkuLrnrKzkuIDkuKrpmYTku7Zcblx0XHRcdGlmIChoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQpIHtcblx0XHRcdFx0Ly8gdHJ5IHtcblxuXHRcdFx0XHRpbnN0YW5jZUh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXJfaW5mbywgc3BhY2VfaWQsIGlucywge1xuXHRcdFx0XHRcdGFic29sdXRlOiB0cnVlLFxuXHRcdFx0XHRcdHNob3dUcmFjZTogdHJ1ZVxuXHRcdFx0XHR9KVxuXHRcdFx0XHR2YXIgaW5zdGFuY2VGaWxlID0gbmV3IEZTLkZpbGUoKTtcblx0XHRcdFx0aW5zdGFuY2VGaWxlLmF0dGFjaERhdGEoQnVmZmVyLmZyb20oaW5zdGFuY2VIdG1sLCBcInV0Zi04XCIpLCB7XG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0L2h0bWxcIlxuXHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3IpIHtcblx0XHRcdFx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoZXJyb3IuZXJyb3IsIGVycm9yLnJlYXNvbik7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aW5zdGFuY2VGaWxlLm5hbWUoaW5zLm5hbWUgKyBcIi5odG1sXCIpO1xuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5zaXplKGluc3RhbmNlSHRtbC5sZW5ndGgpO1xuXG5cdFx0XHRcdFx0dmFyIG1ldGFkYXRhID0ge1xuXHRcdFx0XHRcdFx0b3duZXI6IHVzZXJfaWQsXG5cdFx0XHRcdFx0XHRvd25lcl9uYW1lOiB1c2VyX2luZm8ubmFtZSxcblx0XHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0XHRcdGluc3RhbmNlOiBuZXdfaW5zX2lkLFxuXHRcdFx0XHRcdFx0YXBwcm92ZTogYXBwcl9vYmouX2lkLFxuXHRcdFx0XHRcdFx0Y3VycmVudDogdHJ1ZVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0aW5zdGFuY2VGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG5cdFx0XHRcdFx0dmFyIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChpbnN0YW5jZUZpbGUpO1xuXHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHtcblx0XHRcdFx0XHRcdCRzZXQ6IHtcblx0XHRcdFx0XHRcdFx0J21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fSlcblxuXHRcdFx0XHQvLyB9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vICAgICBjb25zb2xlLmVycm9yKGUpO1xuXHRcdFx0XHQvLyB9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc0ZvcndhcmRBdHRhY2htZW50cyAmJiBhY3Rpb25fdHlwZSA9PSAnZm9yd2FyZCcpIHtcblx0XHRcdFx0dmFyIGZpbGVzID0gY29sbGVjdGlvbi5maW5kKHtcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZV9pZCxcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0XHQvLyDliKTmlq3mlrDnmoTmtYHnqIvlvIDlp4voioLngrnmmK/lkKbmnInnvJbovpHmraPmloflkoznvJbovpHpmYTku7bmnYPpmZBcblx0XHRcdFx0XHRpZiAoZi5tZXRhZGF0YS5tYWluID09IHRydWUpIHtcblx0XHRcdFx0XHRcdGlmIChjYW5fZWRpdF9tYWluX2F0dGFjaCAhPSB0cnVlICYmIGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggIT0gdHJ1ZSlcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAoY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCAhPSB0cnVlKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0dmFyIG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuXHRcdFx0XHRcdG5ld0ZpbGUuYXR0YWNoRGF0YShmLmNyZWF0ZVJlYWRTdHJlYW0oJ2luc3RhbmNlcycpLCB7XG5cdFx0XHRcdFx0XHR0eXBlOiBmLm9yaWdpbmFsLnR5cGVcblx0XHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRpZiAoZXJyKSB7XG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoZXJyLmVycm9yLCBlcnIucmVhc29uKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdG5ld0ZpbGUubmFtZShmLm5hbWUoKSk7XG5cdFx0XHRcdFx0XHRuZXdGaWxlLnNpemUoZi5zaXplKCkpO1xuXHRcdFx0XHRcdFx0dmFyIG1ldGFkYXRhID0ge1xuXHRcdFx0XHRcdFx0XHRvd25lcjogdXNlcl9pZCxcblx0XHRcdFx0XHRcdFx0b3duZXJfbmFtZTogdXNlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0XHRcdFx0aW5zdGFuY2U6IG5ld19pbnNfaWQsXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmU6IGFwcHJfb2JqLl9pZCxcblx0XHRcdFx0XHRcdFx0Y3VycmVudDogdHJ1ZVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGlmIChmLm1ldGFkYXRhLm1haW4gPT0gdHJ1ZSAmJiBjYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLm1haW4gPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuXHRcdFx0XHRcdFx0dmFyIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcblx0XHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0JHNldDoge1xuXHRcdFx0XHRcdFx0XHRcdCdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0fSlcblx0XHRcdH1cblxuXHRcdFx0aWYgKGFjdGlvbl90eXBlID09PSAnZGlzdHJpYnV0ZScpIHtcblx0XHRcdFx0Ly8g57uZ5b2T5YmN55qE55Sz6K+35Y2V5aKe5Yqg5YiG5Y+R6K6w5b2VXG5cdFx0XHRcdHZhciBhcHByID0ge1xuXHRcdFx0XHRcdCdfaWQnOiBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyLFxuXHRcdFx0XHRcdCdpbnN0YW5jZSc6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcdCd0cmFjZSc6IGN1cnJlbnRfdHJhY2VfaWQsXG5cdFx0XHRcdFx0J2lzX2ZpbmlzaGVkJzogdHJ1ZSxcblx0XHRcdFx0XHQndXNlcic6IHVzZXJfaWQsXG5cdFx0XHRcdFx0J3VzZXJfbmFtZSc6IHVzZXJfaW5mby5uYW1lLFxuXHRcdFx0XHRcdCdoYW5kbGVyJzogdXNlcl9pZCxcblx0XHRcdFx0XHQnaGFuZGxlcl9uYW1lJzogdXNlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uJzogc3BhY2VfdXNlci5vcmdhbml6YXRpb24sXG5cdFx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUnOiBzcGFjZV91c2VyX29yZ19pbmZvLm5hbWUsXG5cdFx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lJzogc3BhY2VfdXNlcl9vcmdfaW5mby5mdWxsbmFtZSxcblx0XHRcdFx0XHQndHlwZSc6IGFjdGlvbl90eXBlLFxuXHRcdFx0XHRcdCdzdGFydF9kYXRlJzogbmV3IERhdGUoKSxcblx0XHRcdFx0XHQnZmluaXNoX2RhdGUnOiBuZXcgRGF0ZSgpLFxuXHRcdFx0XHRcdCdpc19yZWFkJzogZmFsc2UsXG5cdFx0XHRcdFx0J2p1ZGdlJzogJ3N1Ym1pdHRlZCcsXG5cdFx0XHRcdFx0J2Zyb21fdXNlcic6IGN1cnJlbnRfdXNlcl9pZCxcblx0XHRcdFx0XHQnZnJvbV91c2VyX25hbWUnOiBmcm9tX3VzZXJfbmFtZSxcblx0XHRcdFx0XHQnZm9yd2FyZF9zcGFjZSc6IHNwYWNlX2lkLFxuXHRcdFx0XHRcdCdmb3J3YXJkX2luc3RhbmNlJzogbmV3X2luc19pZCxcblx0XHRcdFx0XHQnZGVzY3JpcHRpb24nOiBkZXNjcmlwdGlvbixcblx0XHRcdFx0XHQnZnJvbV9hcHByb3ZlX2lkJzogZnJvbV9hcHByb3ZlX2lkXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0Zm9yd2FyZF9hcHByb3Zlcy5wdXNoKGFwcHIpO1xuXHRcdFx0fVxuXG5cdFx0XHRuZXdfaW5zX2lkcy5wdXNoKG5ld19pbnNfaWQpO1xuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuXHRcdH0pXG5cblx0XHRpZiAoIV8uaXNFbXB0eShmb3J3YXJkX2FwcHJvdmVzKSkge1xuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xuXHRcdFx0dmFyIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcblx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGN1cnJlbnRfdHJhY2VfaWRcblx0XHRcdH0sIHtcblx0XHRcdFx0JHNldDogc2V0X29iaixcblx0XHRcdFx0JGFkZFRvU2V0OiB7XG5cdFx0XHRcdFx0J3RyYWNlcy4kLmFwcHJvdmVzJzoge1xuXHRcdFx0XHRcdFx0JGVhY2g6IGZvcndhcmRfYXBwcm92ZXNcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXG5cdFx0aWYgKHIpIHtcblx0XHRcdF8uZWFjaChjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdGlmIChhLl9pZCA9PSBmcm9tX2FwcHJvdmVfaWQpIHtcblx0XHRcdFx0XHR2YXIgdXBkYXRlX3JlYWQgPSB7fTtcblx0XHRcdFx0XHR1cGRhdGVfcmVhZFtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXG5cdFx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogY3VycmVudF90cmFjZV9pZFxuXHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdCRzZXQ6IHVwZGF0ZV9yZWFkXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblx0XHR9XG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7IG5ld19pbnNfaWRzOiBuZXdfaW5zX2lkcyB9XG5cdFx0fSlcblx0fSBjYXRjaCAoZSkge1xuXHRcdGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdGVycm9yczogW2VdXG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXG59KSIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9pbnN0YW5jZS86aW5zdGFuY2VJZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxLCByZXMpXG5cdFx0Y3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cdFx0cmVxX2FzeW5jID0gXy5oYXMocmVxLnF1ZXJ5LCAnYXN5bmMnKTtcblx0XHRpbnNJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VJZFxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHsgZmllbGRzOiB7IHNwYWNlOiAxLCBmbG93OiAxLCBzdGF0ZTogMSwgaW5ib3hfdXNlcnM6IDEsIGNjX3VzZXJzOiAxLCBvdXRib3hfdXNlcnM6IDEsIHN1Ym1pdHRlcjogMSwgYXBwbGljYW50OiAxIH0gfSlcblxuXHRcdGlmIG5vdCBpbnNcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlSWQgaXMgd3Jvbmcgb3IgaW5zdGFuY2Ugbm90IGV4aXN0cy4nKVxuXG5cdFx0c3BhY2VJZCA9IGlucy5zcGFjZVxuXHRcdGZsb3dJZCA9IGlucy5mbG93XG5cblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlSWQsIHVzZXI6IGN1cnJlbnRfdXNlcl9pZCB9KS5jb3VudCgpIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ3VzZXIgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlLicpXG5cblx0XHRib3ggPSAnJ1xuXG5cdFx0aWYgKGlucy5pbmJveF91c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkKSBvciAoaW5zLmNjX3VzZXJzPy5pbmNsdWRlcyBjdXJyZW50X3VzZXJfaWQpXG5cdFx0XHRib3ggPSAnaW5ib3gnXG5cdFx0ZWxzZSBpZiBpbnMub3V0Ym94X3VzZXJzPy5pbmNsdWRlcyBjdXJyZW50X3VzZXJfaWRcblx0XHRcdGJveCA9ICdvdXRib3gnXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0JyBhbmQgaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWRcblx0XHRcdGJveCA9ICdkcmFmdCdcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAncGVuZGluZycgYW5kIChpbnMuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlcl9pZCBvciBpbnMuYXBwbGljYW50IGlzIGN1cnJlbnRfdXNlcl9pZClcblx0XHRcdGJveCA9ICdwZW5kaW5nJ1xuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdjb21wbGV0ZWQnIGFuZCBpbnMuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlcl9pZFxuXHRcdFx0Ym94ID0gJ2NvbXBsZXRlZCdcblx0XHRlbHNlXG5cdFx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dJZCwgY3VycmVudF91c2VyX2lkKVxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSlcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcIm5vIHBlcm1pc3Npb24uXCIpXG5cdFx0XHRib3ggPSAnbW9uaXRvcidcblxuXHRcdHJlZGlyZWN0VG8gPSBcIndvcmtmbG93L3NwYWNlLyN7c3BhY2VJZH0vI3tib3h9LyN7aW5zSWR9XCJcblx0XHRyZWRpcmVjdFRvVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKHJlZGlyZWN0VG8pXG5cdFx0aWYgcmVxX2FzeW5jICMgfHwgcmVxLmdldChcIlgtUmVxdWVzdGVkLVdpdGhcIikgPT09ICdYTUxIdHRwUmVxdWVzdCdcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XG5cdFx0XHRcdFwic3RhdHVzXCI6IDMwMixcblx0XHRcdFx0XCJyZWRpcmVjdFwiOiByZWRpcmVjdFRvXG5cdFx0XHR9KTtcblx0XHRlbHNlXG5cdFx0XHRyZXMuc2V0SGVhZGVyIFwiTG9jYXRpb25cIiwgcmVkaXJlY3RUb1VybFxuXHRcdFx0cmVzLndyaXRlSGVhZCAzMDJcblx0XHRcdHJlcy5lbmQoKVxuXHRcdFx0cmV0dXJuXG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9pbnN0YW5jZS86aW5zdGFuY2VJZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBib3gsIGN1cnJlbnRfdXNlcl9pZCwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3dJZCwgaW5zLCBpbnNJZCwgcGVybWlzc2lvbnMsIHJlZGlyZWN0VG8sIHJlZGlyZWN0VG9VcmwsIHJlZiwgcmVmMSwgcmVmMiwgcmVxX2FzeW5jLCBzcGFjZSwgc3BhY2VJZDtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEsIHJlcyk7XG4gICAgY3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIHJlcV9hc3luYyA9IF8uaGFzKHJlcS5xdWVyeSwgJ2FzeW5jJyk7XG4gICAgaW5zSWQgPSByZXEucGFyYW1zLmluc3RhbmNlSWQ7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZmxvdzogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGluYm94X3VzZXJzOiAxLFxuICAgICAgICBjY191c2VyczogMSxcbiAgICAgICAgb3V0Ym94X3VzZXJzOiAxLFxuICAgICAgICBzdWJtaXR0ZXI6IDEsXG4gICAgICAgIGFwcGxpY2FudDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZUlkIGlzIHdyb25nIG9yIGluc3RhbmNlIG5vdCBleGlzdHMuJyk7XG4gICAgfVxuICAgIHNwYWNlSWQgPSBpbnMuc3BhY2U7XG4gICAgZmxvd0lkID0gaW5zLmZsb3c7XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJfaWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICd1c2VyIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZS4nKTtcbiAgICB9XG4gICAgYm94ID0gJyc7XG4gICAgaWYgKCgocmVmID0gaW5zLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkgOiB2b2lkIDApIHx8ICgocmVmMSA9IGlucy5jY191c2VycykgIT0gbnVsbCA/IHJlZjEuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkpIHtcbiAgICAgIGJveCA9ICdpbmJveCc7XG4gICAgfSBlbHNlIGlmICgocmVmMiA9IGlucy5vdXRib3hfdXNlcnMpICE9IG51bGwgPyByZWYyLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkgOiB2b2lkIDApIHtcbiAgICAgIGJveCA9ICdvdXRib3gnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnICYmIGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgYm94ID0gJ2RyYWZ0JztcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ3BlbmRpbmcnICYmIChpbnMuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXJfaWQgfHwgaW5zLmFwcGxpY2FudCA9PT0gY3VycmVudF91c2VyX2lkKSkge1xuICAgICAgYm94ID0gJ3BlbmRpbmcnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnY29tcGxldGVkJyAmJiBpbnMuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXJfaWQpIHtcbiAgICAgIGJveCA9ICdjb21wbGV0ZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93SWQsIGN1cnJlbnRfdXNlcl9pZCk7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWRtaW5zOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcIm5vIHBlcm1pc3Npb24uXCIpO1xuICAgICAgfVxuICAgICAgYm94ID0gJ21vbml0b3InO1xuICAgIH1cbiAgICByZWRpcmVjdFRvID0gXCJ3b3JrZmxvdy9zcGFjZS9cIiArIHNwYWNlSWQgKyBcIi9cIiArIGJveCArIFwiL1wiICsgaW5zSWQ7XG4gICAgcmVkaXJlY3RUb1VybCA9IE1ldGVvci5hYnNvbHV0ZVVybChyZWRpcmVjdFRvKTtcbiAgICBpZiAocmVxX2FzeW5jKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1xuICAgICAgICBcInN0YXR1c1wiOiAzMDIsXG4gICAgICAgIFwicmVkaXJlY3RcIjogcmVkaXJlY3RUb1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcy5zZXRIZWFkZXIoXCJMb2NhdGlvblwiLCByZWRpcmVjdFRvVXJsKTtcbiAgICAgIHJlcy53cml0ZUhlYWQoMzAyKTtcbiAgICAgIHJlcy5lbmQoKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcg6I635Y+W5b6F5Yqe5paH5Lu2XG5cbkBhcGlEZXNjcmlwdGlvbiDojrflj5blvZPliY3nlKjmiLfnmoTlvoXlip7kuovpobnliJfooahcblxuQGFwaU5hbWUgZ2V0SW5ib3hcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG5cdHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuXHR7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcImc3d29rWE5rUjl5eEh2QTREXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh+a1geeoi1wiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paH5rWB56iLIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBudWxsLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNy0yNVQwNjozNjo0OC40OTJaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiBmYWxzZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJXcUtTcldRb3l3Z0phTXA5a1wiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlodcXG5cIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh1xcbiAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogXCLmrrfkuq7ovolcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDYtMjdUMTA6MjY6MTkuNDY4WlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIxWlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogdHJ1ZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH1cblx0XHRdXG5cdH1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZycsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ10gfHwgcmVxLnF1ZXJ5Py5zcGFjZUlkXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3BhY2VfaWQnKVxuXG5cdFx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHRcdGlmICF1c2VyX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdOb3QgbG9nZ2VkIGluJylcblxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHVzZXJfaWQgfSkuY291bnQoKSBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHRsaW1pdCA9IHJlcS5xdWVyeT8ubGltaXQgfHwgNTAwXG5cblx0XHRsaW1pdCA9IHBhcnNlSW50KGxpbWl0KVxuXG5cdFx0dXNlcm5hbWUgPSByZXEucXVlcnk/LnVzZXJuYW1lXG5cblx0XHR1c2VyaWQgPSByZXEucXVlcnk/LnVzZXJpZFxuXG5cdFx0YXR0YWNoID0gcmVxLnF1ZXJ5Py5hdHRhY2hcblxuXHRcdHdvcmtmbG93X2NhdGVnb3JpZXMgPSByZXEucXVlcnk/LndvcmtmbG93X2NhdGVnb3JpZXNcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cblx0XHQjIOWmguaenOW9k+WJjeeUqOaIt+aYr+W3peS9nOWMuueuoeeQhuWRmO+8jOWImemAmui/h+afpeeci3VybOS4iuaYr+WQpuaciXVzZXJuYW1lXFx1c2VyaWQg77yMXG5cdFx0IyDlpoLmnpzmnInvvIzliJnov5Tlm551c2VybmFtZVxcdXNlcmlk5a+55bqU55qE55So5oi377yM5ZCm5YiZ6L+U5Zue5b2T5YmN55So5oi35b6F5Yqe44CCXG5cdFx0IyB1c2VybmFtZVxcdXNlcmlk6YO95a2Y5Zyo5pe277yMdXNlcmlk5LyY5YWIXG5cdFx0c3BlY2lhbF91c2VyX2lkXG5cdFx0aWYgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJfaWQpXG5cdFx0XHRpZiB1c2VyaWRcblx0XHRcdFx0aWYgZGIudXNlcnMuZmluZCh7IF9pZDogdXNlcmlkIH0pLmNvdW50KCkgPCAxXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJpZDogI3t1c2VyaWR9XCIpXG5cblx0XHRcdFx0c3BlY2lhbF91c2VyX2lkID0gdXNlcmlkXG5cdFx0XHRlbHNlIGlmIHVzZXJuYW1lXG5cdFx0XHRcdHUgPSBkYi51c2Vycy5maW5kT25lKHsgdXNlcm5hbWU6IHVzZXJuYW1lIH0sIHsgZmllbGRzOiB7IF9pZDogMSB9IH0pXG5cdFx0XHRcdGlmIF8uaXNFbXB0eSh1KVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VybmFtZTogI3t1c2VybmFtZX1cIilcblxuXHRcdFx0XHRzcGVjaWFsX3VzZXJfaWQgPSB1Ll9pZFxuXG5cdFx0cmVzdWx0X2luc3RhbmNlcyA9IG5ldyBBcnJheVxuXG5cdFx0aXNfcmVhZCA9IGZhbHNlXG5cdFx0c3RhcnRfZGF0ZSA9ICcnXG5cdFx0dWlkID0gdXNlcl9pZFxuXHRcdHF1ZXJ5ID0ge1xuXHRcdFx0JG9yOiBbeyBpbmJveF91c2VyczogdXNlcl9pZCB9LCB7IGNjX3VzZXJzOiB1c2VyX2lkIH1dXG5cdFx0fVxuXG5cdFx0aWYgc3BlY2lhbF91c2VyX2lkXG5cdFx0XHR1aWQgPSBzcGVjaWFsX3VzZXJfaWRcblx0XHRcdHF1ZXJ5ID0ge1xuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXG5cdFx0XHRcdCRvcjogW3sgaW5ib3hfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZCB9LCB7IGNjX3VzZXJzOiBzcGVjaWFsX3VzZXJfaWQgfV1cblx0XHRcdH1cblxuXHRcdGlmIHdvcmtmbG93X2NhdGVnb3JpZXNcblx0XHRcdHF1ZXJ5LmNhdGVnb3J5ID0geyAkaW46IHdvcmtmbG93X2NhdGVnb3JpZXMuc3BsaXQoJywnKSB9XG5cblx0XHRzcGFjZV9uYW1lcyA9IHt9XG5cdFx0c3BhY2VfbmFtZXNbc3BhY2UuX2lkXSA9IHNwYWNlLm5hbWVcblxuXHRcdGlmIGxpbWl0ID4gMFxuXHRcdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHsgc29ydDogeyBtb2RpZmllZDogLTEgfSwgbGltaXQ6IGxpbWl0IH0pLmZvckVhY2ggKGkpIC0+XG5cblx0XHRcdFx0aWYgaS5pbmJveF91c2Vycz8uaW5jbHVkZXModWlkKVxuXHRcdFx0XHRcdF8uZWFjaCBpLnRyYWNlcywgKHQpIC0+XG5cdFx0XHRcdFx0XHRpZiB0LmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cblx0XHRcdFx0XHRcdFx0XHRpZiBhLnVzZXIgaXMgdWlkIGFuZCBhLnR5cGUgaXNudCAnY2MnIGFuZCBub3QgYS5pc19maW5pc2hlZFxuXHRcdFx0XHRcdFx0XHRcdFx0aXNfcmVhZCA9IGEuaXNfcmVhZFxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0Xy5lYWNoIGkudHJhY2VzLCAodCkgLT5cblx0XHRcdFx0XHRcdGlmIG5vdCBzdGFydF9kYXRlIGFuZCB0LmFwcHJvdmVzXG5cdFx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cblx0XHRcdFx0XHRcdFx0XHRpZiBub3Qgc3RhcnRfZGF0ZSBhbmQgYS51c2VyIGlzIHVpZCBhbmQgYS50eXBlIGlzICdjYycgYW5kIG5vdCBhLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0XHRcdFx0XHRpc19yZWFkID0gYS5pc19yZWFkXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlXG5cblx0XHRcdFx0aWYgbm90IHNwYWNlX25hbWVzW2kuc3BhY2VdXG5cdFx0XHRcdFx0c3BhY2VfbmFtZXNbaS5zcGFjZV0gPSBkYi5zcGFjZXMuZmluZE9uZShpLnNwYWNlLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSk/Lm5hbWVcblxuXHRcdFx0XHRoID0gbmV3IE9iamVjdFxuXHRcdFx0XHRoW1wiaWRcIl0gPSBpW1wiX2lkXCJdXG5cdFx0XHRcdGhbXCJzdGFydF9kYXRlXCJdID0gc3RhcnRfZGF0ZVxuXHRcdFx0XHRoW1wiZmxvd19uYW1lXCJdID0gaS5mbG93X25hbWVcblx0XHRcdFx0aFtcInNwYWNlX25hbWVcIl0gPSBzcGFjZV9uYW1lc1tpLnNwYWNlXVxuXHRcdFx0XHRoW1wibmFtZVwiXSA9IGlbXCJuYW1lXCJdXG5cdFx0XHRcdGhbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfbmFtZVwiXVxuXHRcdFx0XHRoW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXVxuXHRcdFx0XHRoW1wic3VibWl0X2RhdGVcIl0gPSBpW1wic3VibWl0X2RhdGVcIl1cblx0XHRcdFx0aFtcInN0ZXBfbmFtZVwiXSA9IGkuY3VycmVudF9zdGVwX25hbWVcblx0XHRcdFx0aFtcInNwYWNlX2lkXCJdID0gaS5zcGFjZVxuXHRcdFx0XHRoW1wibW9kaWZpZWRcIl0gPSBpW1wibW9kaWZpZWRcIl1cblx0XHRcdFx0aFtcImlzX3JlYWRcIl0gPSBpc19yZWFkXG5cdFx0XHRcdGhbXCJ2YWx1ZXNcIl0gPSBpW1widmFsdWVzXCJdXG5cblx0XHRcdFx0aWYgYXR0YWNoIGlzICd0cnVlJ1xuXHRcdFx0XHRcdGguYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeyAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpLl9pZCwgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyAkbmU6IHRydWUgfSB9LCB7IGZpZWxkczogeyBjb3BpZXM6IDAgfSB9KS5mZXRjaCgpXG5cblx0XHRcdFx0cmVzdWx0X2luc3RhbmNlcy5wdXNoKGgpXG5cblx0XHRub19saW1pdF9jb3VudCA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5KS5jb3VudCgpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0X2luc3RhbmNlcywgY291bnQ6IG5vX2xpbWl0X2NvdW50IH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUucmVhc29uIH1dIH1cblx0XHR9XG5cbiIsIlxuLypcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcg6I635Y+W5b6F5Yqe5paH5Lu2XG5cbkBhcGlEZXNjcmlwdGlvbiDojrflj5blvZPliY3nlKjmiLfnmoTlvoXlip7kuovpobnliJfooahcblxuQGFwaU5hbWUgZ2V0SW5ib3hcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG5cdHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuXHR7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcImc3d29rWE5rUjl5eEh2QTREXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh+a1geeoi1wiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paH5rWB56iLIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBudWxsLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNy0yNVQwNjozNjo0OC40OTJaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiBmYWxzZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJXcUtTcldRb3l3Z0phTXA5a1wiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlodcXG5cIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh1xcbiAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogXCLmrrfkuq7ovolcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDYtMjdUMTA6MjY6MTkuNDY4WlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIxWlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogdHJ1ZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH1cblx0XHRdXG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2gsIGUsIGlzX3JlYWQsIGxpbWl0LCBub19saW1pdF9jb3VudCwgcXVlcnksIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVzdWx0X2luc3RhbmNlcywgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV9uYW1lcywgc3BlY2lhbF91c2VyX2lkLCBzdGFydF9kYXRlLCB1LCB1aWQsIHVzZXJfaWQsIHVzZXJpZCwgdXNlcm5hbWUsIHdvcmtmbG93X2NhdGVnb3JpZXM7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXSB8fCAoKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zcGFjZUlkIDogdm9pZCAwKTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHNwYWNlX2lkJyk7XG4gICAgfVxuICAgIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnTm90IGxvZ2dlZCBpbicpO1xuICAgIH1cbiAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBsaW1pdCA9ICgocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEubGltaXQgOiB2b2lkIDApIHx8IDUwMDtcbiAgICBsaW1pdCA9IHBhcnNlSW50KGxpbWl0KTtcbiAgICB1c2VybmFtZSA9IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi51c2VybmFtZSA6IHZvaWQgMDtcbiAgICB1c2VyaWQgPSAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMudXNlcmlkIDogdm9pZCAwO1xuICAgIGF0dGFjaCA9IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5hdHRhY2ggOiB2b2lkIDA7XG4gICAgd29ya2Zsb3dfY2F0ZWdvcmllcyA9IChyZWY1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNS53b3JrZmxvd19jYXRlZ29yaWVzIDogdm9pZCAwO1xuICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgc3BlY2lhbF91c2VyX2lkO1xuICAgIGlmIChzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgIGlmICh1c2VyaWQpIHtcbiAgICAgICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgICAgIF9pZDogdXNlcmlkXG4gICAgICAgIH0pLmNvdW50KCkgPCAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJpZDogXCIgKyB1c2VyaWQpO1xuICAgICAgICB9XG4gICAgICAgIHNwZWNpYWxfdXNlcl9pZCA9IHVzZXJpZDtcbiAgICAgIH0gZWxzZSBpZiAodXNlcm5hbWUpIHtcbiAgICAgICAgdSA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoXy5pc0VtcHR5KHUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJuYW1lOiBcIiArIHVzZXJuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBzcGVjaWFsX3VzZXJfaWQgPSB1Ll9pZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0X2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBpc19yZWFkID0gZmFsc2U7XG4gICAgc3RhcnRfZGF0ZSA9ICcnO1xuICAgIHVpZCA9IHVzZXJfaWQ7XG4gICAgcXVlcnkgPSB7XG4gICAgICAkb3I6IFtcbiAgICAgICAge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VyX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjY191c2VyczogdXNlcl9pZFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgICBpZiAoc3BlY2lhbF91c2VyX2lkKSB7XG4gICAgICB1aWQgPSBzcGVjaWFsX3VzZXJfaWQ7XG4gICAgICBxdWVyeSA9IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmJveF91c2Vyczogc3BlY2lhbF91c2VyX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2NfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHdvcmtmbG93X2NhdGVnb3JpZXMpIHtcbiAgICAgIHF1ZXJ5LmNhdGVnb3J5ID0ge1xuICAgICAgICAkaW46IHdvcmtmbG93X2NhdGVnb3JpZXMuc3BsaXQoJywnKVxuICAgICAgfTtcbiAgICB9XG4gICAgc3BhY2VfbmFtZXMgPSB7fTtcbiAgICBzcGFjZV9uYW1lc1tzcGFjZS5faWRdID0gc3BhY2UubmFtZTtcbiAgICBpZiAobGltaXQgPiAwKSB7XG4gICAgICBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgbW9kaWZpZWQ6IC0xXG4gICAgICAgIH0sXG4gICAgICAgIGxpbWl0OiBsaW1pdFxuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBoLCByZWY2LCByZWY3O1xuICAgICAgICBpZiAoKHJlZjYgPSBpLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmNi5pbmNsdWRlcyh1aWQpIDogdm9pZCAwKSB7XG4gICAgICAgICAgXy5lYWNoKGkudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAodC5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGEudXNlciA9PT0gdWlkICYmIGEudHlwZSAhPT0gJ2NjJyAmJiAhYS5pc19maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgaXNfcmVhZCA9IGEuaXNfcmVhZDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXy5lYWNoKGkudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0X2RhdGUgJiYgdC5hcHByb3Zlcykge1xuICAgICAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0X2RhdGUgJiYgYS51c2VyID09PSB1aWQgJiYgYS50eXBlID09PSAnY2MnICYmICFhLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICBpc19yZWFkID0gYS5pc19yZWFkO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNwYWNlX25hbWVzW2kuc3BhY2VdKSB7XG4gICAgICAgICAgc3BhY2VfbmFtZXNbaS5zcGFjZV0gPSAocmVmNyA9IGRiLnNwYWNlcy5maW5kT25lKGkuc3BhY2UsIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpICE9IG51bGwgPyByZWY3Lm5hbWUgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaCA9IG5ldyBPYmplY3Q7XG4gICAgICAgIGhbXCJpZFwiXSA9IGlbXCJfaWRcIl07XG4gICAgICAgIGhbXCJzdGFydF9kYXRlXCJdID0gc3RhcnRfZGF0ZTtcbiAgICAgICAgaFtcImZsb3dfbmFtZVwiXSA9IGkuZmxvd19uYW1lO1xuICAgICAgICBoW1wic3BhY2VfbmFtZVwiXSA9IHNwYWNlX25hbWVzW2kuc3BhY2VdO1xuICAgICAgICBoW1wibmFtZVwiXSA9IGlbXCJuYW1lXCJdO1xuICAgICAgICBoW1wiYXBwbGljYW50X25hbWVcIl0gPSBpW1wiYXBwbGljYW50X25hbWVcIl07XG4gICAgICAgIGhbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBpW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICBoW1wic3VibWl0X2RhdGVcIl0gPSBpW1wic3VibWl0X2RhdGVcIl07XG4gICAgICAgIGhbXCJzdGVwX25hbWVcIl0gPSBpLmN1cnJlbnRfc3RlcF9uYW1lO1xuICAgICAgICBoW1wic3BhY2VfaWRcIl0gPSBpLnNwYWNlO1xuICAgICAgICBoW1wibW9kaWZpZWRcIl0gPSBpW1wibW9kaWZpZWRcIl07XG4gICAgICAgIGhbXCJpc19yZWFkXCJdID0gaXNfcmVhZDtcbiAgICAgICAgaFtcInZhbHVlc1wiXSA9IGlbXCJ2YWx1ZXNcIl07XG4gICAgICAgIGlmIChhdHRhY2ggPT09ICd0cnVlJykge1xuICAgICAgICAgIGguYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaS5faWQsXG4gICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgY29waWVzOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0X2luc3RhbmNlcy5wdXNoKGgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIG5vX2xpbWl0X2NvdW50ID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmNvdW50KCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0X2luc3RhbmNlcyxcbiAgICAgICAgY291bnQ6IG5vX2xpbWl0X2NvdW50XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLnJlYXNvblxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxuXG5NZXRlb3Iuc3RhcnR1cCAtPlxuXHRXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSBcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L3RhbGJlX3RlbXBsYXRlXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXHRcdGNvb2tpZXMgPSBuZXcgQ29va2llcyggcmVxLCByZXMgKTtcblx0XHQjIGZpcnN0IGNoZWNrIHJlcXVlc3QgYm9keVxuXHRcdGlmIHJlcS5ib2R5XG5cdFx0XHR1c2VySWQgPSByZXEuYm9keVtcIlgtVXNlci1JZFwiXVxuXHRcdFx0YXV0aFRva2VuID0gcmVxLmJvZHlbXCJYLUF1dGgtVG9rZW5cIl1cblxuXHRcdCMgdGhlbiBjaGVjayBjb29raWVcblx0XHRpZiAhdXNlcklkIG9yICFhdXRoVG9rZW5cblx0XHRcdHVzZXJJZCA9IGNvb2tpZXMuZ2V0KFwiWC1Vc2VyLUlkXCIpXG5cdFx0XHRhdXRoVG9rZW4gPSBjb29raWVzLmdldChcIlgtQXV0aC1Ub2tlblwiKVxuXG5cdFx0aWYgISh1c2VySWQgYW5kIGF1dGhUb2tlbilcblx0XHRcdHJlcy53cml0ZUhlYWQoNDAxKTtcblx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlblwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdH0pXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Zmxvd0lkID0gcmVxLnF1ZXJ5Py5mbG93O1xuXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge3NwYWNlOiAxLCBmb3JtOiAxLCBuYW1lOiAxfX0pXG5cblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBmbG93LmZvcm19LCB7ZmllbGRzOiB7c3BhY2U6IDEsIFwiY3VycmVudC5faWRcIjogMX19KVxuXG5cdFx0aWYgXy5pc0VtcHR5KGZsb3cpXG5cdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XG5cdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gSW52YWxpZCBmb3JtSWRcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHR9KVxuXHRcdFx0cmV0dXJuIDtcblx0XHRlbHNlXG5cdFx0XHRpZiAhU3RlZWRvcy5pc1NwYWNlQWRtaW4oZmxvdy5zcGFjZSwgdXNlcklkKVxuXHRcdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XG5cdFx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb25cIixcblx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdFx0fSlcblx0XHRcdFx0cmV0dXJuO1xuXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGZsb3cuc3BhY2UsIHsgZmllbGRzOiB7IGlzX3BhaWQ6IDEgfSB9KVxuXHRcdFx0aWYgIXNwYWNlIHx8ICFTdGVlZG9zLmhhc0ZlYXR1cmUoJ3BhaWQnLCBzcGFjZS5faWQpXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0Y29kZTogNDA0LFxuXHRcdFx0XHRcdGRhdGE6XG5cdFx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBOb24tcGFpZCBzcGFjZS5cIixcblx0XHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRkYXRhID0gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoe2Zvcm06IGZsb3cuZm9ybSwgZm9ybV92ZXJzaW9uOiBmb3JtPy5jdXJyZW50Py5faWR9LCB0cnVlKTtcblxuXHRcdGZpbGVOYW1lID0gZmxvdy5uYW1lXG5cblx0XHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG5cdFx0cmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScrZW5jb2RlVVJJKGZpbGVOYW1lKSsnLmh0bWwnKTtcblx0XHRyZXMuZW5kKGRhdGEpIiwidmFyIENvb2tpZXM7XG5cbkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZShcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L3RhbGJlX3RlbXBsYXRlXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGF1dGhUb2tlbiwgY29va2llcywgZGF0YSwgZmlsZU5hbWUsIGZsb3csIGZsb3dJZCwgZm9ybSwgcmVmLCByZWYxLCBzcGFjZSwgdXNlcklkO1xuICAgIGNvb2tpZXMgPSBuZXcgQ29va2llcyhyZXEsIHJlcyk7XG4gICAgaWYgKHJlcS5ib2R5KSB7XG4gICAgICB1c2VySWQgPSByZXEuYm9keVtcIlgtVXNlci1JZFwiXTtcbiAgICAgIGF1dGhUb2tlbiA9IHJlcS5ib2R5W1wiWC1BdXRoLVRva2VuXCJdO1xuICAgIH1cbiAgICBpZiAoIXVzZXJJZCB8fCAhYXV0aFRva2VuKSB7XG4gICAgICB1c2VySWQgPSBjb29raWVzLmdldChcIlgtVXNlci1JZFwiKTtcbiAgICAgIGF1dGhUb2tlbiA9IGNvb2tpZXMuZ2V0KFwiWC1BdXRoLVRva2VuXCIpO1xuICAgIH1cbiAgICBpZiAoISh1c2VySWQgJiYgYXV0aFRva2VuKSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3cgOiB2b2lkIDA7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93SWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGZvcm06IDEsXG4gICAgICAgIG5hbWU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgXCJjdXJyZW50Ll9pZFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF8uaXNFbXB0eShmbG93KSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIEludmFsaWQgZm9ybUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNTcGFjZUFkbWluKGZsb3cuc3BhY2UsIHVzZXJJZCkpIHtcbiAgICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uXCIsXG4gICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShmbG93LnNwYWNlLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGlzX3BhaWQ6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlIHx8ICFTdGVlZG9zLmhhc0ZlYXR1cmUoJ3BhaWQnLCBzcGFjZS5faWQpKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDQsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm9uLXBhaWQgc3BhY2UuXCIsXG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGRhdGEgPSBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSh7XG4gICAgICBmb3JtOiBmbG93LmZvcm0sXG4gICAgICBmb3JtX3ZlcnNpb246IGZvcm0gIT0gbnVsbCA/IChyZWYxID0gZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5faWQgOiB2b2lkIDAgOiB2b2lkIDBcbiAgICB9LCB0cnVlKTtcbiAgICBmaWxlTmFtZSA9IGZsb3cubmFtZTtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScgKyBlbmNvZGVVUkkoZmlsZU5hbWUpICsgJy5odG1sJyk7XG4gICAgcmV0dXJuIHJlcy5lbmQoZGF0YSk7XG4gIH0pO1xufSk7XG4iLCIjIyNcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMg5paw5bu655Sz6K+35Y2VXG5cbkBhcGlOYW1lIGNyZWF0ZUluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwiYXBwbGljYW50XCI6IOeUs+ivt+S6uklkLFxuICAgIFwidmFsdWVzXCI6IHtcbiAgICAgICAgXCJmaWVsZHMxXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIFwiZmllbGRzMlwiIDog5a2X5q615YC8LFxuICAgICAgICAuLi5cbiAgICB9XG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuXG5AYXBpRXJyb3JFeGFtcGxlIHtqc29ufSBlcnJvci1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcImVycm9yXCIsXG4gICAgXCJkYXRhXCI6IHsuLi59XG59XG4jIyNcbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVyblxuXG5cdFx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdXNlcl9pZCB9KVxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIHhfc3BhY2VfaWQnKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXJfaW5mby5faWQpXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cblx0XHRpZiBub3QgaGFzaERhdGFbXCJmbG93XCJdXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG51bGwnKVxuXG5cdFx0Zmxvd19pZCAgICAgID0gaGFzaERhdGFbXCJmbG93XCJdXG5cdFx0YXBwbGljYW50X2lkID0gaGFzaERhdGFbXCJhcHBsaWNhbnRcIl1cblx0XHRhcHBsaWNhbnRfdXNlcm5hbWUgPSBoYXNoRGF0YVtcImFwcGxpY2FudF91c2VybmFtZVwiXVxuXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnQgPSBuZXcgT2JqZWN0XG5cblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd19pZCB9LCB7IGZpZWxkczogeyBzcGFjZTogMSwgJ2N1cnJlbnQuX2lkJzogMSB9IH0pXG5cdFx0aWYgbm90IGZsb3dcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGV4aXN0cycpXG5cblx0XHRpZiBzcGFjZV9pZCBpc250IGZsb3cuc3BhY2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJylcblxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGN1cnJlbnRfdXNlcl9pbmZvLl9pZCB9KS5jb3VudCgpIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKVxuXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJzcGFjZVwiXSA9IHNwYWNlX2lkXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93XCJdID0gZmxvd19pZFxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd192ZXJzaW9uXCJdID0gZmxvdy5jdXJyZW50Ll9pZFxuXG5cdFx0YXBwbGljYW50ID0gbnVsbFxuXHRcdGlmIGFwcGxpY2FudF9pZCBvciBhcHBsaWNhbnRfdXNlcm5hbWVcblxuXHRcdFx0aWYgYXBwbGljYW50X2lkXG5cdFx0XHRcdGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFwcGxpY2FudF9pZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0aWYgbm90IGFwcGxpY2FudFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyB3cm9uZycpXG5cblx0XHRcdGVsc2UgaWYgYXBwbGljYW50X3VzZXJuYW1lXG5cdFx0XHRcdGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZTogYXBwbGljYW50X3VzZXJuYW1lIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRpZiBub3QgYXBwbGljYW50XG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50X3VzZXJuYW1lIGlzIHdyb25nJylcblxuXHRcdFx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudC5faWQgfSlcblx0XHRcdGlmIG5vdCBzcGFjZV91c2VyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpXG5cblx0XHRcdGlmIHNwYWNlX3VzZXIudXNlcl9hY2NlcHRlZCBpc250IHRydWVcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIGRpc2FibGVkIGluIHRoaXMgc3BhY2UnKVxuXG5cdFx0XHRzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudFwiXSA9IGFwcGxpY2FudC5faWRcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X25hbWVcIl0gPSBhcHBsaWNhbnQubmFtZVxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uXCJdID0gIHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXG5cblx0XHRhcHBsaWNhbnRJbmZvID0gYXBwbGljYW50IHx8IGN1cnJlbnRfdXNlcl9pbmZvXG5cblx0XHR0cmFjZXMgPSBbXVxuXHRcdHRyYWNlID0gbmV3IE9iamVjdFxuXHRcdGFwcHJvdmVzID0gW11cblx0XHRhcHByb3ZlID0gbmV3IE9iamVjdFxuXHRcdGFwcHJvdmVbXCJ2YWx1ZXNcIl0gPSBoYXNoRGF0YVtcInZhbHVlc1wiXVxuXHRcdGFwcHJvdmVzLnB1c2goYXBwcm92ZSlcblx0XHR0cmFjZVtcImFwcHJvdmVzXCJdID0gYXBwcm92ZXNcblx0XHR0cmFjZXMucHVzaCh0cmFjZSlcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSA9IHRyYWNlc1xuXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXSA9IFthcHBsaWNhbnRJbmZvLl9pZF1cblxuXHRcdG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgYXBwbGljYW50SW5mbylcblxuXHRcdG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShuZXdfaW5zX2lkKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IG5ld19pbnMgfVxuXHRcdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cblx0XHR9XG4iLCJcbi8qXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzIOaWsOW7uueUs+ivt+WNlVxuXG5AYXBpTmFtZSBjcmVhdGVJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcImFwcGxpY2FudFwiOiDnlLPor7fkurpJZCxcbiAgICBcInZhbHVlc1wiOiB7XG4gICAgICAgIFwiZmllbGRzMVwiIDog5a2X5q615YC8LFxuICAgICAgICBcImZpZWxkczJcIiA6IOWtl+auteWAvCxcbiAgICAgICAgLi4uXG4gICAgfVxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cblxuQGFwaUVycm9yRXhhbXBsZSB7anNvbn0gZXJyb3ItUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJlcnJvclwiLFxuICAgIFwiZGF0YVwiOiB7Li4ufVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcGxpY2FudCwgYXBwbGljYW50SW5mbywgYXBwbGljYW50X2lkLCBhcHBsaWNhbnRfdXNlcm5hbWUsIGFwcHJvdmUsIGFwcHJvdmVzLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgZmxvd19pZCwgaGFzaERhdGEsIGluc3RhbmNlX2Zyb21fY2xpZW50LCBuZXdfaW5zLCBuZXdfaW5zX2lkLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgc3BhY2VfdXNlcl9vcmdfaW5mbywgdHJhY2UsIHRyYWNlcywgdXNlcl9pZDtcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgIF9pZDogdXNlcl9pZFxuICAgIH0pO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciB4X3NwYWNlX2lkJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXJfaW5mby5faWQpO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaWYgKCFoYXNoRGF0YVtcImZsb3dcIl0pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbnVsbCcpO1xuICAgIH1cbiAgICBmbG93X2lkID0gaGFzaERhdGFbXCJmbG93XCJdO1xuICAgIGFwcGxpY2FudF9pZCA9IGhhc2hEYXRhW1wiYXBwbGljYW50XCJdO1xuICAgIGFwcGxpY2FudF91c2VybmFtZSA9IGhhc2hEYXRhW1wiYXBwbGljYW50X3VzZXJuYW1lXCJdO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50ID0gbmV3IE9iamVjdDtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3dfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICdjdXJyZW50Ll9pZCc6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWZsb3cpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGV4aXN0cycpO1xuICAgIH1cbiAgICBpZiAoc3BhY2VfaWQgIT09IGZsb3cuc3BhY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJzcGFjZVwiXSA9IHNwYWNlX2lkO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd1wiXSA9IGZsb3dfaWQ7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93X3ZlcnNpb25cIl0gPSBmbG93LmN1cnJlbnQuX2lkO1xuICAgIGFwcGxpY2FudCA9IG51bGw7XG4gICAgaWYgKGFwcGxpY2FudF9pZCB8fCBhcHBsaWNhbnRfdXNlcm5hbWUpIHtcbiAgICAgIGlmIChhcHBsaWNhbnRfaWQpIHtcbiAgICAgICAgYXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBhcHBsaWNhbnRfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYXBwbGljYW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIHdyb25nJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYXBwbGljYW50X3VzZXJuYW1lKSB7XG4gICAgICAgIGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHVzZXJuYW1lOiBhcHBsaWNhbnRfdXNlcm5hbWVcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYXBwbGljYW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50X3VzZXJuYW1lIGlzIHdyb25nJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHBsaWNhbnQuX2lkXG4gICAgICB9KTtcbiAgICAgIGlmICghc3BhY2VfdXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKTtcbiAgICAgIH1cbiAgICAgIGlmIChzcGFjZV91c2VyLnVzZXJfYWNjZXB0ZWQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIGRpc2FibGVkIGluIHRoaXMgc3BhY2UnKTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudFwiXSA9IGFwcGxpY2FudC5faWQ7XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9uYW1lXCJdID0gYXBwbGljYW50Lm5hbWU7XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25cIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgIH1cbiAgICBhcHBsaWNhbnRJbmZvID0gYXBwbGljYW50IHx8IGN1cnJlbnRfdXNlcl9pbmZvO1xuICAgIHRyYWNlcyA9IFtdO1xuICAgIHRyYWNlID0gbmV3IE9iamVjdDtcbiAgICBhcHByb3ZlcyA9IFtdO1xuICAgIGFwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgIGFwcHJvdmVbXCJ2YWx1ZXNcIl0gPSBoYXNoRGF0YVtcInZhbHVlc1wiXTtcbiAgICBhcHByb3Zlcy5wdXNoKGFwcHJvdmUpO1xuICAgIHRyYWNlW1wiYXBwcm92ZXNcIl0gPSBhcHByb3ZlcztcbiAgICB0cmFjZXMucHVzaCh0cmFjZSk7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0gPSB0cmFjZXM7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXSA9IFthcHBsaWNhbnRJbmZvLl9pZF07XG4gICAgbmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBhcHBsaWNhbnRJbmZvKTtcbiAgICBuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUobmV3X2luc19pZCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogbmV3X2luc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCDmn6XnnIvnlLPor7fljZXor6bmg4VcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueahOeuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gaW5zX2lkIOeUs+ivt+WNlUlkXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuIyMjXG5Kc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm5cblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpXG5cdFx0aWYgbm90IGluc3RhbmNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgaW5zdGFuY2UnKVxuXG5cdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBpbnN0YW5jZS5zcGFjZSwgdXNlcjogY3VycmVudF91c2VyIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyB3cm9uZycpXG5cblx0XHQjIOadg+mZkO+8muS7heS7peS4i+S6uuWRmOWPr+S7peafpeeci+eUs+ivt+WNleivpuaDhe+8muaPkOS6pOiAheOAgeeUs+ivt+iAheOAgee7j+aJi+iAheOAgeacrOa1geeoi+eahOeuoeeQhuWRmOOAgeacrOa1geeoi+eahOinguWvn+WRmOOAgeacrOW3peS9nOWMuueahOeuoeeQhuWRmOOAgeacrOW3peS9nOWMuueahOaJgOacieiAheOAglxuXHRcdHBlcm1fdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKVxuXHRcdHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpXG5cdFx0aWYgaW5zdGFuY2Uub3V0Ym94X3VzZXJzXG5cdFx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxuXHRcdGlmIGluc3RhbmNlLmluYm94X3VzZXJzXG5cdFx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2UuaW5ib3hfdXNlcnMpXG5cdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2Uuc3BhY2UgfSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcblx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoc3BhY2UuYWRtaW5zKVxuXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxuXG5cdFx0aWYgKG5vdCBwZXJtX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIGFuZCAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwibW9uaXRvclwiKSkgYW5kIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSlcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25vIHBlcm1pc3Npb24nKVxuXG5cdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IGluc3RhbmNlIH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XG5cdFx0fVxuXG4iLCJcbi8qXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCDmn6XnnIvnlLPor7fljZXor6bmg4VcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueahOeuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gaW5zX2lkIOeUs+ivt+WNlUlkXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGUsIGluc19pZCwgaW5zdGFuY2UsIHBlcm1fdXNlcnMsIHBlcm1pc3Npb25zLCBzcGFjZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBpbnN0YW5jZScpO1xuICAgIH1cbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIHdyb25nJyk7XG4gICAgfVxuICAgIHBlcm1fdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgcGVybV91c2Vycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgcGVybV91c2Vycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudCk7XG4gICAgaWYgKGluc3RhbmNlLm91dGJveF91c2Vycykge1xuICAgICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLm91dGJveF91c2Vycyk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5pbmJveF91c2Vycykge1xuICAgICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLmluYm94X3VzZXJzKTtcbiAgICB9XG4gICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlLnNwYWNlXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGFkbWluczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChzcGFjZS5hZG1pbnMpO1xuICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCghcGVybV91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwibW9uaXRvclwiKSkgJiYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbm8gcGVybWlzc2lvbicpO1xuICAgIH1cbiAgICBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAkbmU6IHRydWVcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY29waWVzOiAwXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBpbnN0YW5jZVxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCDmj5DkuqTnlLPor7fljZVcblxuQGFwaURlc2NyaXB0aW9uIOaaguS4jeaUr+aMgeW8gOWni+iKgueCueS4i+S4gOiKgueCueS4uuadoeS7tueahOaDheWGtVxuXG5AYXBpTmFtZSBzdWJtaXRJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiMjI1xuXG5Kc29uUm91dGVzLmFkZCAncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxuXG5cdFx0IyDmoKHpqoznlLPor7fljZXnirbmgIHkuLrojYnnqL9cblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSlcblxuXHRcdGlmIHNwYWNlX2lkIGlzbnQgaW5zdGFuY2VbXCJzcGFjZVwiXVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2UgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJylcblxuXHRcdCMg5qCh6aqM55Sz6K+35Y2V5b+F5aGr5a2X5q615piv5ZCm5pyJ5YC8XG5cdFx0dmFsdWVzID0gaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXS52YWx1ZXNcblxuXHRcdGZvcm0gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm0oaW5zdGFuY2UuZm9ybSlcblxuXHRcdHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tWYWx1ZUZpZWxkc1JlcXVpcmUodmFsdWVzLCBmb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXG5cblx0XHRpZiByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMFxuXHRcdFx0aWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDFcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGRzIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gYXJlIHJlcXVpcmVkJylcblx0XHRcdGVsc2UgaWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA9IDFcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGQgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBpcyByZXF1aXJlZCcpXG5cblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cblx0XHRzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBpbnN0YW5jZVtcInRyYWNlc1wiXVswXS5zdGVwKVxuXG5cdFx0IyDorqHnrpfkuIvkuIDmraXpqqTpgInpoblcblx0XHRuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJzdWJtaXR0ZWRcIilcblxuXHRcdGlmIG5leHRTdGVwcy5sZW5ndGggPCAxXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgbmV4dCBzdGVwcycpXG5cblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoID4gMVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIG5vdCB1bmlxJylcblxuXHRcdG5leHRfc3RlcF9pZCA9IG5leHRTdGVwc1swXVxuXG5cdFx0IyDorqHnrpfkuIvkuIDmraXlpITnkIbkurrpgInpoblcblx0XHRuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc19pZCwgbmV4dF9zdGVwX2lkKSB8fCBbXVxuXG5cdFx0aWYgbmV4dF91c2VyX2lkcy5sZW5ndGggPiAxXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgaGFuZGxlciBub3QgdW5pcScpXG5cblx0XHRpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdW1wibmV4dF9zdGVwc1wiXSA9IFt7J3N0ZXAnOiBuZXh0X3N0ZXBfaWQsICd1c2Vycyc6IG5leHRfdXNlcl9pZHN9XVxuXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxuXG5cdFx0c3VibWl0dGVyID0gZGIudXNlcnMuZmluZE9uZShpbnN0YW5jZS5zdWJtaXR0ZXIpXG5cblx0XHRpZiBub3Qgc3VibWl0dGVyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgc3VibWl0dGVyJylcblxuXHRcdHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZSwgc3VibWl0dGVyKVxuXG5cdFx0aWYgci5hbGVydHNcblx0XHRcdHJlc3VsdCA9IHJcblx0XHRlbHNlXG5cdFx0XHRyZXN1bHQgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpXG5cdFx0XHRpZiByZXN1bHRcblx0XHRcdFx0cmVzdWx0LmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIlxuLypcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkIOaPkOS6pOeUs+ivt+WNlVxuXG5AYXBpRGVzY3JpcHRpb24g5pqC5LiN5pSv5oyB5byA5aeL6IqC54K55LiL5LiA6IqC54K55Li65p2h5Lu255qE5oOF5Ya1XG5cbkBhcGlOYW1lIHN1Ym1pdEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBmb3JtLCBpbnNfaWQsIGluc3RhbmNlLCBuZXh0U3RlcHMsIG5leHRfc3RlcF9pZCwgbmV4dF91c2VyX2lkcywgciwgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLCByZXN1bHQsIHNwYWNlX2lkLCBzdGVwLCBzdWJtaXR0ZXIsIHZhbHVlcztcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSk7XG4gICAgaWYgKHNwYWNlX2lkICE9PSBpbnN0YW5jZVtcInNwYWNlXCJdKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZSBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgdmFsdWVzID0gaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXS52YWx1ZXM7XG4gICAgZm9ybSA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybShpbnN0YW5jZS5mb3JtKTtcbiAgICByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMgPSB1dWZsb3dNYW5hZ2VyLmNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlKHZhbHVlcywgZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgICBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZHMgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBhcmUgcmVxdWlyZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA9IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGQgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBpcyByZXF1aXJlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGluc3RhbmNlW1widHJhY2VzXCJdWzBdLnN0ZXApO1xuICAgIG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcInN1Ym1pdHRlZFwiKTtcbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBuZXh0IHN0ZXBzJyk7XG4gICAgfVxuICAgIGlmIChuZXh0U3RlcHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIG5vdCB1bmlxJyk7XG4gICAgfVxuICAgIG5leHRfc3RlcF9pZCA9IG5leHRTdGVwc1swXTtcbiAgICBuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc19pZCwgbmV4dF9zdGVwX2lkKSB8fCBbXTtcbiAgICBpZiAobmV4dF91c2VyX2lkcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgaGFuZGxlciBub3QgdW5pcScpO1xuICAgIH1cbiAgICBpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdW1wibmV4dF9zdGVwc1wiXSA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3N0ZXAnOiBuZXh0X3N0ZXBfaWQsXG4gICAgICAgICd1c2Vycyc6IG5leHRfdXNlcl9pZHNcbiAgICAgIH1cbiAgICBdO1xuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgc3VibWl0dGVyID0gZGIudXNlcnMuZmluZE9uZShpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIGlmICghc3VibWl0dGVyKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgc3VibWl0dGVyJyk7XG4gICAgfVxuICAgIHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZSwgc3VibWl0dGVyKTtcbiAgICBpZiAoci5hbGVydHMpIHtcbiAgICAgIHJlc3VsdCA9IHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkLFxuICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQg5pqC5a2Y55Sz6K+35Y2VXG5cbkBhcGlOYW1lIHNhdmVJbnN0YW5jZXNcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4jIyNcbkpzb25Sb3V0ZXMuYWRkICdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHR2YWx1ZXMgPSByZXEuYm9keVxuXG5cdFx0aWYgbm90IHZhbHVlc1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCB2YWx1ZXMnKVxuXG5cdFx0Y3VycmVudF90cmFjZSA9IG51bGxcblx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXG5cblx0XHRfLmVhY2ggaW5zdGFuY2UudHJhY2VzLCAodCktPlxuXHRcdFx0aWYgdC5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0Y3VycmVudF90cmFjZSA9IHRcblxuXHRcdGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgY3VycmVudF90cmFjZS5zdGVwKVxuXG5cdFx0aWYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuatpemqpOS4jeiDveS/ruaUueihqOWNleWAvCcpXG5cblx0XHRfLmVhY2ggY3VycmVudF90cmFjZS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdGlmIGEuaXNfZmluaXNoZWQgaXNudCB0cnVlIGFuZCBhLnR5cGUgaXNudCBcImNjXCJcblx0XHRcdFx0YS52YWx1ZXMgPSB2YWx1ZXNcblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlXG5cdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBjdXJyZW50X3RyYWNlLmFwcHJvdmVzXG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtcblx0XHRcdF9pZDogaW5zX2lkXG5cdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfdHJhY2UuX2lkXG5cdFx0fSwgJHNldDogc2V0T2JqXG5cblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJcbi8qXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQg5pqC5a2Y55Sz6K+35Y2VXG5cbkBhcGlOYW1lIHNhdmVJbnN0YW5jZXNcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3N0ZXAsIGN1cnJlbnRfdHJhY2UsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGluc19pZCwgaW5zdGFuY2UsIHJlc3VsdCwgc2V0T2JqLCBzcGFjZV9pZCwgdmFsdWVzO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHZhbHVlcyA9IHJlcS5ib2R5O1xuICAgIGlmICghdmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHZhbHVlcycpO1xuICAgIH1cbiAgICBjdXJyZW50X3RyYWNlID0gbnVsbDtcbiAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgaWYgKHQuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfdHJhY2UgPSB0O1xuICAgICAgfVxuICAgIH0pO1xuICAgIGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgY3VycmVudF90cmFjZS5zdGVwKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7mraXpqqTkuI3og73kv67mlLnooajljZXlgLwnKTtcbiAgICB9XG4gICAgXy5lYWNoKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgIGlmIChhLmlzX2ZpbmlzaGVkICE9PSB0cnVlICYmIGEudHlwZSAhPT0gXCJjY1wiKSB7XG4gICAgICAgIHJldHVybiBhLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZTtcbiAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGN1cnJlbnRfdHJhY2UuYXBwcm92ZXM7XG4gICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc19pZCxcbiAgICAgICd0cmFjZXMuX2lkJzogY3VycmVudF90cmFjZS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiBzZXRPYmpcbiAgICB9KTtcbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZSDmoLnmja7mraXpqqTlkI3np7Dojrflj5bnlLPor7fljZVcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VCeVN0ZXBOYW1lXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwic3RlcG5hbWVcIjog5q2l6aqk5ZCN56ewXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcblx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFwiZGF0YVwiOiBbXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9LFxuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fVxuXHRdXG59XG4jIyNcbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0c3RlcG5hbWUgPSBoYXNoRGF0YVtcInN0ZXBuYW1lXCJdXG5cdFx0ZmxvdyA9IGhhc2hEYXRhW1wiZmxvd1wiXVxuXG5cdFx0aWYgbm90IHN0ZXBuYW1lXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHN0ZXBuYW1lJylcblxuXHRcdGlmIG5vdCBmbG93XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGZsb3cnKVxuXG5cdFx0IyDljrvmjol7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH1cblx0XHRpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZCh7c3BhY2U6IHNwYWNlX2lkLCBmbG93OiBmbG93LCBzdGF0ZToncGVuZGluZycsIHRyYWNlczp7JGVsZW1NYXRjaDoge2lzX2ZpbmlzaGVkOiBmYWxzZSwgbmFtZTogc3RlcG5hbWV9fX0sIHtmaWVsZHM6IHtpbmJveF91ZXJzOiAwLCBjY191c2VyczogMCwgb3V0Ym94X3VzZXJzOiAwLCBhdHRhY2htZW50czogMCwgdHJhY2VzOiAwfX0pLmZldGNoKClcblxuXHRcdGluc3RhbmNlcy5mb3JFYWNoIChpbnN0YW5jZSktPlxuXHRcdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBpbnN0YW5jZXN9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiXG4vKlxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUg5qC55o2u5q2l6aqk5ZCN56ew6I635Y+W55Sz6K+35Y2VXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlQnlTdGVwTmFtZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcInN0ZXBuYW1lXCI6IOatpemqpOWQjeensFxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG5cdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcImRhdGFcIjogW1xuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH1cblx0XVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBoYXNoRGF0YSwgaW5zdGFuY2VzLCBzcGFjZV9pZCwgc3RlcG5hbWU7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBzdGVwbmFtZSA9IGhhc2hEYXRhW1wic3RlcG5hbWVcIl07XG4gICAgZmxvdyA9IGhhc2hEYXRhW1wiZmxvd1wiXTtcbiAgICBpZiAoIXN0ZXBuYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHN0ZXBuYW1lJyk7XG4gICAgfVxuICAgIGlmICghZmxvdykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBmbG93Jyk7XG4gICAgfVxuICAgIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIGZsb3c6IGZsb3csXG4gICAgICBzdGF0ZTogJ3BlbmRpbmcnLFxuICAgICAgdHJhY2VzOiB7XG4gICAgICAgICRlbGVtTWF0Y2g6IHtcbiAgICAgICAgICBpc19maW5pc2hlZDogZmFsc2UsXG4gICAgICAgICAgbmFtZTogc3RlcG5hbWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgICBjY191c2VyczogMCxcbiAgICAgICAgb3V0Ym94X3VzZXJzOiAwLFxuICAgICAgICBhdHRhY2htZW50czogMCxcbiAgICAgICAgdHJhY2VzOiAwXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICBpbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLFxuICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgY29waWVzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkNvbnRlbnQtVHlwZe+8mmFwcGxpY2F0aW9uL2pzb25cbmZvcm0tZGF0YSDmoLzlvI86XG5mZCA9IG5ldyBGb3JtRGF0YTtcbmZkLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XG5cbmZkLmFwcGVuZChcImlzX3ByaXZhdGVcIiwgZmFsc2UpO1xuXG5pZiAoaXNBZGRWZXJzaW9uKSB7XG5cdGZkLmFwcGVuZChcImlzQWRkVmVyc2lvblwiLCBpc0FkZFZlcnNpb24pO1xuXHRmZC5hcHBlbmQoXCJwYXJlbnRcIiwgYXR0YWNoX3BhcmVudF9pZCk7XG59XG5cbmlmIChpc01haW5BdHRhY2gpIHtcblx0ZmQuYXBwZW5kKFwibWFpblwiLCB0cnVlKTtcbn1cbiMjI1xuXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXG5cblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250IFwiZHJhZnRcIlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95LiK5LygJylcblxuXHRcdGFwcHJvdmVfaWQgPSBpbnN0YW5jZS50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdEpzb25Sb3V0ZXMucGFyc2VGaWxlcyByZXEsIHJlcywgKCktPlxuXHRcdFx0Y29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXNcblxuXHRcdFx0aWYgcmVxLmZpbGVzIGFuZCByZXEuZmlsZXNbMF1cblx0XHRcdFx0IyDpmYTku7bkuIrkvKDmjqXlj6PvvIzpmZDliLbpmYTku7blpKflsI/vvIzmnIDlpKfkuLoxMDBNXG5cdFx0XHRcdGlmIHJlcS5maWxlc1swXS5kYXRhLmxlbmd0aCA+ICgxMDAqMTAyNCoxMDI0KVxuXHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogXCLotoXov4fkuIrkvKDpmYTku7blpKflsI/pmZDliLYoMTAwTSlcIn1dfVxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuXHRcdFx0XHRuZXdGaWxlLmF0dGFjaERhdGEgcmVxLmZpbGVzWzBdLmRhdGEsIHt0eXBlOiByZXEuZmlsZXNbMF0ubWltZVR5cGV9LCAoZXJyKSAtPlxuXHRcdFx0XHRcdGZpbGVuYW1lID0gcmVxLmZpbGVzWzBdLmZpbGVuYW1lXG5cblx0XHRcdFx0XHRpZiBbXCJpbWFnZS5qcGdcIiwgXCJpbWFnZS5naWZcIiwgXCJpbWFnZS5qcGVnXCIsIFwiaW1hZ2UucG5nXCJdLmluY2x1ZGVzKGZpbGVuYW1lLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdFx0XHRmaWxlbmFtZSA9IFwiaW1hZ2UtXCIgKyBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdZWVlZTU1EREhIbW1zcycpICsgXCIuXCIgKyBmaWxlbmFtZS5zcGxpdCgnLicpLnBvcCgpXG5cblx0XHRcdFx0XHRib2R5ID0gcmVxLmJvZHlcblxuXHRcdFx0XHRcdGJvZHlbJ293bmVyJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXJcblx0XHRcdFx0XHRib2R5Wydvd25lcl9uYW1lJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXJfbmFtZVxuXHRcdFx0XHRcdGJvZHlbJ3NwYWNlJ10gPSBzcGFjZV9pZFxuXHRcdFx0XHRcdGJvZHlbJ2luc3RhbmNlJ10gPSBpbnNfaWRcblx0XHRcdFx0XHRib2R5WydhcHByb3ZlJ10gPSBhcHByb3ZlX2lkXG5cblx0XHRcdFx0XHR0cnlcblx0XHRcdFx0XHRcdGlmIGJvZHkgJiYgKGJvZHlbJ3VwbG9hZF9mcm9tJ10gaXMgXCJJRVwiIG9yIGJvZHlbJ3VwbG9hZF9mcm9tJ10gaXMgXCJub2RlXCIpXG5cdFx0XHRcdFx0XHRcdGZpbGVuYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKVxuXHRcdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZmlsZW5hbWUpXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGVcblx0XHRcdFx0XHRcdGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvJS9nLCBcIi1cIilcblxuXHRcdFx0XHRcdG5ld0ZpbGUubmFtZShmaWxlbmFtZSlcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZiBib2R5ICYmIGJvZHlbJ293bmVyJ10gJiYgYm9keVsnb3duZXJfbmFtZSddICYmIGJvZHlbJ3NwYWNlJ10gJiYgYm9keVsnaW5zdGFuY2UnXSAgJiYgYm9keVsnYXBwcm92ZSddXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSAnJ1xuXHRcdFx0XHRcdFx0bWV0YWRhdGEgPSB7b3duZXI6Ym9keVsnb3duZXInXSwgb3duZXJfbmFtZTpib2R5Wydvd25lcl9uYW1lJ10sIHNwYWNlOmJvZHlbJ3NwYWNlJ10sIGluc3RhbmNlOmJvZHlbJ2luc3RhbmNlJ10sIGFwcHJvdmU6IGJvZHlbJ2FwcHJvdmUnXSwgY3VycmVudDogdHJ1ZX1cblxuXHRcdFx0XHRcdFx0aWYgYm9keVtcImlzX3ByaXZhdGVcIl0gJiYgYm9keVtcImlzX3ByaXZhdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSBcInRydWVcIlxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5pc19wcml2YXRlID0gdHJ1ZVxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5pc19wcml2YXRlID0gZmFsc2VcblxuXHRcdFx0XHRcdFx0aWYgYm9keVsnbWFpbiddID09IFwidHJ1ZVwiXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLm1haW4gPSB0cnVlXG5cblx0XHRcdFx0XHRcdGlmIGJvZHlbJ2lzQWRkVmVyc2lvbiddICYmIGJvZHlbJ3BhcmVudCddXG5cdFx0XHRcdFx0XHRcdHBhcmVudCA9IGJvZHlbJ3BhcmVudCddXG5cdFx0XHRcdFx0XHQjIGVsc2Vcblx0XHRcdFx0XHRcdCMgICBjb2xsZWN0aW9uLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sICdtZXRhZGF0YS5jdXJyZW50JyA6IHRydWV9KS5mb3JFYWNoIChjKSAtPlxuXHRcdFx0XHRcdFx0IyAgICAgaWYgYy5uYW1lKCkgPT0gZmlsZW5hbWVcblx0XHRcdFx0XHRcdCMgICAgICAgcGFyZW50ID0gYy5tZXRhZGF0YS5wYXJlbnRcblxuXHRcdFx0XHRcdFx0aWYgcGFyZW50XG5cdFx0XHRcdFx0XHRcdHIgPSBjb2xsZWN0aW9uLnVwZGF0ZSh7J21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCwgJ21ldGFkYXRhLmN1cnJlbnQnIDogdHJ1ZX0sIHskdW5zZXQgOiB7J21ldGFkYXRhLmN1cnJlbnQnIDogJyd9fSlcblx0XHRcdFx0XHRcdFx0aWYgclxuXHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLnBhcmVudCA9IHBhcmVudFxuXHRcdFx0XHRcdFx0XHRcdGlmIGJvZHlbJ2xvY2tlZF9ieSddICYmIGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ11cblx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmxvY2tlZF9ieSA9IGJvZHlbJ2xvY2tlZF9ieSddXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSA9IGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ11cblxuXHRcdFx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YVxuXHRcdFx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXG5cblx0XHRcdFx0XHRcdFx0XHQjIOWIoOmZpOWQjOS4gOS4queUs+ivt+WNleWQjOS4gOS4quatpemqpOWQjOS4gOS4quS6uuS4iuS8oOeahOmHjeWkjeeahOaWh+S7tlxuXHRcdFx0XHRcdFx0XHRcdGlmIGJvZHlbXCJvdmVyd3JpdGVcIl0gJiYgYm9keVtcIm92ZXJ3cml0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09IFwidHJ1ZVwiXG5cdFx0XHRcdFx0XHRcdFx0XHRjb2xsZWN0aW9uLnJlbW92ZSh7J21ldGFkYXRhLmluc3RhbmNlJzogYm9keVsnaW5zdGFuY2UnXSwgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCwgJ21ldGFkYXRhLm93bmVyJzogYm9keVsnb3duZXInXSwgJ21ldGFkYXRhLmFwcHJvdmUnOiBib2R5WydhcHByb3ZlJ10sICdtZXRhZGF0YS5jdXJyZW50JzogeyRuZTogdHJ1ZX19KVxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGFcblx0XHRcdFx0XHRcdFx0ZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0IG5ld0ZpbGVcblx0XHRcdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoeyRzZXQ6IHsnbWV0YWRhdGEucGFyZW50JyA6IGZpbGVPYmouX2lkfX0pXG5cblx0XHRcdFx0XHQjIOWFvOWuueiAgeeJiOacrFxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXG5cblx0XHRcdFx0XHRzaXplID0gZmlsZU9iai5vcmlnaW5hbC5zaXplXG5cdFx0XHRcdFx0aWYgIXNpemVcblx0XHRcdFx0XHRcdHNpemUgPSAxMDI0XG5cblx0XHRcdFx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0cmVzdWx0ID1cblx0XHRcdFx0XHRcdGF0dGFjaF9pZDogZmlsZU9iai5faWQsXG5cdFx0XHRcdFx0XHRzaXplOiBzaXplXG5cblx0XHRcdFx0XHRyZXMuc2V0SGVhZGVyKFwieC1hbXotdmVyc2lvbi1pZFwiLGZpbGVPYmouX2lkKTtcblxuXHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0XHRjb2RlOiAyMDBcblx0XHRcdFx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogXCJuZWVkIGZpbGVcIn1dfVxuXHRcdFx0XHRyZXR1cm5cblxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cblxuSnNvblJvdXRlcy5hZGQgXCJkZWxldGVcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWRcIiwgIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcblxuXHRcdGlmIGluc3RhbmNlLnN0YXRlIGlzbnQgXCJkcmFmdFwiXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73liKDpmaTpmYTku7YnKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5IHx8IHt9XG5cdFx0YXR0YWNoX2lkID0gaGFzaERhdGFbXCJhdHRhY2hfaWRcIl1cblxuXHRcdGlmIG5vdCBhdHRhY2hfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBhdHRhY2hfaWQnKVxuXG5cdFx0Y29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXNcblxuXHRcdGZpbGUgPSBjb2xsZWN0aW9uLmZpbmRPbmUoeyBfaWQ6IGF0dGFjaF9pZCwgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkfSlcblx0XHRpZiBmaWxlXG5cdFx0XHRmaWxlLnJlbW92ZSgpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5q2k6ZmE5Lu25LiN5bGe5LqO5q2k55Sz6K+35Y2V77yM5oiW5bey6KKr5Yig6ZmkJylcblxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3Rcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG5cbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86YXR0YWNoX2lkXCIsICAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGF0dGFjaF9pZCA9IHJlcS5wYXJhbXMuYXR0YWNoX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0cmVzLnN0YXR1c0NvZGUgPSAzMDJcblx0XHRyZXMuc2V0SGVhZGVyIFwiTG9jYXRpb25cIiwgU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9pbnN0YW5jZXMvXCIpICsgYXR0YWNoX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiXG5cdFx0cmVzLmVuZCgpXG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuIiwiXG4vKlxuQ29udGVudC1UeXBl77yaYXBwbGljYXRpb24vanNvblxuZm9ybS1kYXRhIOagvOW8jzpcbmZkID0gbmV3IEZvcm1EYXRhO1xuZmQuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcblxuZmQuYXBwZW5kKFwiaXNfcHJpdmF0ZVwiLCBmYWxzZSk7XG5cbmlmIChpc0FkZFZlcnNpb24pIHtcblx0ZmQuYXBwZW5kKFwiaXNBZGRWZXJzaW9uXCIsIGlzQWRkVmVyc2lvbik7XG5cdGZkLmFwcGVuZChcInBhcmVudFwiLCBhdHRhY2hfcGFyZW50X2lkKTtcbn1cblxuaWYgKGlzTWFpbkF0dGFjaCkge1xuXHRmZC5hcHBlbmQoXCJtYWluXCIsIHRydWUpO1xufVxuICovXG5Kc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXBwcm92ZV9pZCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaW5zX2lkLCBpbnN0YW5jZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveS4iuS8oCcpO1xuICAgIH1cbiAgICBhcHByb3ZlX2lkID0gaW5zdGFuY2UudHJhY2VzWzBdLmFwcHJvdmVzWzBdLl9pZDtcbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5wYXJzZUZpbGVzKHJlcSwgcmVzLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb2xsZWN0aW9uLCBuZXdGaWxlO1xuICAgICAgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XG4gICAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlc1swXSkge1xuICAgICAgICBpZiAocmVxLmZpbGVzWzBdLmRhdGEubGVuZ3RoID4gKDEwMCAqIDEwMjQgKiAxMDI0KSkge1xuICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBcIui2hei/h+S4iuS8oOmZhOS7tuWkp+Wwj+mZkOWItigxMDBNKVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuICAgICAgICByZXR1cm4gbmV3RmlsZS5hdHRhY2hEYXRhKHJlcS5maWxlc1swXS5kYXRhLCB7XG4gICAgICAgICAgdHlwZTogcmVxLmZpbGVzWzBdLm1pbWVUeXBlXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIHZhciBib2R5LCBlLCBmaWxlT2JqLCBmaWxlbmFtZSwgbWV0YWRhdGEsIHBhcmVudCwgciwgcmVzdWx0LCBzaXplO1xuICAgICAgICAgIGZpbGVuYW1lID0gcmVxLmZpbGVzWzBdLmZpbGVuYW1lO1xuICAgICAgICAgIGlmIChbXCJpbWFnZS5qcGdcIiwgXCJpbWFnZS5naWZcIiwgXCJpbWFnZS5qcGVnXCIsIFwiaW1hZ2UucG5nXCJdLmluY2x1ZGVzKGZpbGVuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBmaWxlbmFtZSA9IFwiaW1hZ2UtXCIgKyBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdZWVlZTU1EREhIbW1zcycpICsgXCIuXCIgKyBmaWxlbmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBib2R5ID0gcmVxLmJvZHk7XG4gICAgICAgICAgYm9keVsnb3duZXInXSA9IGluc3RhbmNlLnN1Ym1pdHRlcjtcbiAgICAgICAgICBib2R5Wydvd25lcl9uYW1lJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXJfbmFtZTtcbiAgICAgICAgICBib2R5WydzcGFjZSddID0gc3BhY2VfaWQ7XG4gICAgICAgICAgYm9keVsnaW5zdGFuY2UnXSA9IGluc19pZDtcbiAgICAgICAgICBib2R5WydhcHByb3ZlJ10gPSBhcHByb3ZlX2lkO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoYm9keSAmJiAoYm9keVsndXBsb2FkX2Zyb20nXSA9PT0gXCJJRVwiIHx8IGJvZHlbJ3VwbG9hZF9mcm9tJ10gPT09IFwibm9kZVwiKSkge1xuICAgICAgICAgICAgICBmaWxlbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZmlsZW5hbWUpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvJS9nLCBcIi1cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld0ZpbGUubmFtZShmaWxlbmFtZSk7XG4gICAgICAgICAgaWYgKGJvZHkgJiYgYm9keVsnb3duZXInXSAmJiBib2R5Wydvd25lcl9uYW1lJ10gJiYgYm9keVsnc3BhY2UnXSAmJiBib2R5WydpbnN0YW5jZSddICYmIGJvZHlbJ2FwcHJvdmUnXSkge1xuICAgICAgICAgICAgcGFyZW50ID0gJyc7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgb3duZXI6IGJvZHlbJ293bmVyJ10sXG4gICAgICAgICAgICAgIG93bmVyX25hbWU6IGJvZHlbJ293bmVyX25hbWUnXSxcbiAgICAgICAgICAgICAgc3BhY2U6IGJvZHlbJ3NwYWNlJ10sXG4gICAgICAgICAgICAgIGluc3RhbmNlOiBib2R5WydpbnN0YW5jZSddLFxuICAgICAgICAgICAgICBhcHByb3ZlOiBib2R5WydhcHByb3ZlJ10sXG4gICAgICAgICAgICAgIGN1cnJlbnQ6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoYm9keVtcImlzX3ByaXZhdGVcIl0gJiYgYm9keVtcImlzX3ByaXZhdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEuaXNfcHJpdmF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5pc19wcml2YXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm9keVsnbWFpbiddID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5tYWluID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib2R5Wydpc0FkZFZlcnNpb24nXSAmJiBib2R5WydwYXJlbnQnXSkge1xuICAgICAgICAgICAgICBwYXJlbnQgPSBib2R5WydwYXJlbnQnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgciA9IGNvbGxlY3Rpb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHlbJ2xvY2tlZF9ieSddICYmIGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ10pIHtcbiAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmxvY2tlZF9ieSA9IGJvZHlbJ2xvY2tlZF9ieSddO1xuICAgICAgICAgICAgICAgICAgbWV0YWRhdGEubG9ja2VkX2J5X25hbWUgPSBib2R5Wydsb2NrZWRfYnlfbmFtZSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuICAgICAgICAgICAgICAgIGlmIChib2R5W1wib3ZlcndyaXRlXCJdICYmIGJvZHlbXCJvdmVyd3JpdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucmVtb3ZlKHtcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogYm9keVsnaW5zdGFuY2UnXSxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLm93bmVyJzogYm9keVsnb3duZXInXSxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmFwcHJvdmUnOiBib2R5WydhcHByb3ZlJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuICAgICAgICAgICAgICBmaWxlT2JqLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaXplID0gZmlsZU9iai5vcmlnaW5hbC5zaXplO1xuICAgICAgICAgIGlmICghc2l6ZSkge1xuICAgICAgICAgICAgc2l6ZSA9IDEwMjQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgYXR0YWNoX2lkOiBmaWxlT2JqLl9pZCxcbiAgICAgICAgICAgIHNpemU6IHNpemVcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlcy5zZXRIZWFkZXIoXCJ4LWFtei12ZXJzaW9uLWlkXCIsIGZpbGVPYmouX2lkKTtcbiAgICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBcIm5lZWQgZmlsZVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5Kc29uUm91dGVzLmFkZChcImRlbGV0ZVwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXR0YWNoX2lkLCBjb2xsZWN0aW9uLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmaWxlLCBoYXNoRGF0YSwgaW5zX2lkLCBpbnN0YW5jZSwgcmVzdWx0LCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95Yig6Zmk6ZmE5Lu2Jyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHkgfHwge307XG4gICAgYXR0YWNoX2lkID0gaGFzaERhdGFbXCJhdHRhY2hfaWRcIl07XG4gICAgaWYgKCFhdHRhY2hfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBhdHRhY2hfaWQnKTtcbiAgICB9XG4gICAgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XG4gICAgZmlsZSA9IGNvbGxlY3Rpb24uZmluZE9uZSh7XG4gICAgICBfaWQ6IGF0dGFjaF9pZCxcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZFxuICAgIH0pO1xuICAgIGlmIChmaWxlKSB7XG4gICAgICBmaWxlLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfmraTpmYTku7bkuI3lsZ7kuo7mraTnlLPor7fljZXvvIzmiJblt7LooqvliKDpmaQnKTtcbiAgICB9XG4gICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzphdHRhY2hfaWRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaF9pZCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgYXR0YWNoX2lkID0gcmVxLnBhcmFtcy5hdHRhY2hfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgcmVzLnN0YXR1c0NvZGUgPSAzMDI7XG4gICAgcmVzLnNldEhlYWRlcihcIkxvY2F0aW9uXCIsIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvaW5zdGFuY2VzL1wiKSArIGF0dGFjaF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIik7XG4gICAgcmV0dXJuIHJlcy5lbmQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF9yZWZpbGxcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWbnuWhq+WtkOihqD09PT09PT09PT1cIlxuXHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIscmVxPy5xdWVyeT8uc3ViVGFibGVcblx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3liIblj5Hlm57loavnmoTliJc9PT09PT09PT09XCJcblx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5jb2x1bW5cIixyZXE/LnF1ZXJ5Py5jb2x1bW5cblxuXHRjb2x1bW5zID0gcmVxPy5xdWVyeT8uY29sdW1uLnNwbGl0KCc7Jylcblx0Y29uc29sZS5sb2cgXCJjb2x1bW5zXCIsY29sdW1uc1xuXG5cblx0IyDliIblj5HnmoTnlLPor7fljZVcblx0Zm9yd2FyZF9pbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXG5cblx0c3ViVGFibGUgPSByZXE/LnF1ZXJ5Py5zdWJUYWJsZVxuXG5cdGlmIGZvcndhcmRfaW5zPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiICYmIGZvcndhcmRfaW5zPy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzPy5sZW5ndGg+MCAmJiBzdWJUYWJsZSAmJiBjb2x1bW5zXG5cdFx0XG5cdFx0IyDliIblj5Hlm57mnaXnmoTlgLxcblx0XHRmb3J3YXJkX2luc192YWx1ZXMgPSBmb3J3YXJkX2lucz8udmFsdWVzXG5cblx0XHQjICMg5Y6f55Sz6K+35Y2V5a2X5q61XG5cdFx0b3JpZ2luYWxfaW5zX2lkID0gXy5sYXN0IGZvcndhcmRfaW5zPy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXG5cdFx0b3JpZ2luYWxfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob3JpZ2luYWxfaW5zX2lkKVxuXHRcdG9yaWdpbmFsX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvcmlnaW5hbF9pbnM/LmZvcm0pXG5cblx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gW11cblx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBbXVxuXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXCIsb3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb25cIixvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblxuXG5cdFx0IyDmn6XnnIvljp/nlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZDooahcblx0XHRpZiBvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXG5cdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudD8uZmllbGRzXG5cdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2ggKG9yaWdpbmFsX2luc19maWVsZCktPlxuXHRcdFx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX2luc19maWVsZFwiLG9yaWdpbmFsX2luc19maWVsZD8uY29kZVxuXHRcdFx0XHRpZiBvcmlnaW5hbF9pbnNfZmllbGQ/LmNvZGUgPT0gc3ViVGFibGUgJiYgb3JpZ2luYWxfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdGVsc2Vcblx0XHRcdGlmIG9yaWdpbmFsX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxuXHRcdFx0XHRvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChvaCktPlxuXHRcdFx0XHRcdGlmIG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uID09IG9oLl9pZFxuXHRcdFx0XHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9oPy5maWVsZHNcblx0XHRcdFx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaCAob3JpZ2luYWxfaW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdGlmIG9yaWdpbmFsX2luc19maWVsZD8uY29kZSA9PSBzdWJUYWJsZSAmJiBvcmlnaW5hbF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZD8uZmllbGRzXG5cblx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1wiLG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcz8ubGVuZ3RoXG5cblx0XHRpZiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcblx0XHRcdCMgIyDmm7TmlrDmraXpqqTnmoTlgLxcblx0XHRcdCMgMS7mib7liLDlvZPliY3nmoTmraXpqqRcblx0XHRcdCMgMi7lvZPliY3mraXpqqTkuK1hcHByb3Zlc+S4reeahHZhbHVlc1xuXHRcdFx0IyAzLuWcqHZhbHVlc+S4reaJvuWIsOihqOagvFxuXHRcdFx0IyA0LuagueaNruihqOagvOeahGZpZWxkc+WxnuaAp++8jOS4gOS4quS4queahOi1i+WAvFxuXHRcdFx0IyA1LuaKiuWkjeWItueahHB1c2jliLDooajmoLzmlbDnu4TnmoTlkI7pnaJcblx0XHRcdHRyYWNlcyA9IG9yaWdpbmFsX2lucz8udHJhY2VzXG5cblx0XHRcdHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV1cblxuXHRcdFx0YXBwcm92ZSA9IHRyYWNlPy5hcHByb3Zlc1swXVxuXG5cdFx0XHR0YWJsZV9kYXRhID0gYXBwcm92ZT8udmFsdWVzW3N1YlRhYmxlXSB8fCBbXVxuXG5cdFx0XHRyb3dfZGF0YSA9IHt9XG5cblx0XHRcdGNvbHVtbnMuZm9yRWFjaCAoY29sdW1uKS0+XG5cdFx0XHRcdHJvd19kYXRhW2NvbHVtbl0gPSBmb3J3YXJkX2luc192YWx1ZXNbY29sdW1uXSB8fCBcIlwiXG5cdFx0XHRcblx0XHRcdFxuXHRcdFx0aWYgcm93X2RhdGEgJiYgcm93X2RhdGEgIT0ge31cblx0XHRcdFx0dGFibGVfZGF0YS5wdXNoIHJvd19kYXRhXG5cdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV0gPSB0YWJsZV9kYXRhXG5cblx0XHRcdFx0Y29uc29sZS5sb2cgdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXVxuXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUob3JpZ2luYWxfaW5zX2lkLHtcblx0XHRcdFx0XHQkc2V0Ontcblx0XHRcdFx0XHRcdCd0cmFjZXMnOnRyYWNlc1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0J3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRcdCdpbmZvJzogJ+WbnuWhq+aVsOaNruS4uuepuidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdGVsc2Vcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0J2Vycm9yJzogJ+WOn+eUs+ivt+WNleaXoOebuOWFs+WtkOihqCdcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRlbHNlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnc3VjY2Vzcyc6ICfnlLPor7fljZXmnKrnu5PmnZ8nXG5cdFx0XHR9XG5cdFx0fVxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF9yZWZpbGxcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcHJvdmUsIGNvbHVtbnMsIGZvcndhcmRfaW5zLCBmb3J3YXJkX2luc192YWx1ZXMsIG9yaWdpbmFsX2lucywgb3JpZ2luYWxfaW5zX2ZpZWxkcywgb3JpZ2luYWxfaW5zX2Zvcm0sIG9yaWdpbmFsX2luc19pZCwgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHJlZjgsIHJlZjksIHJvd19kYXRhLCBzdWJUYWJsZSwgdGFibGVfZGF0YSwgdHJhY2UsIHRyYWNlcztcbiAgY29uc29sZS5sb2coXCI9PT09PT09PT3lm57loavlrZDooag9PT09PT09PT09XCIpO1xuICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIGNvbnNvbGUubG9nKFwiPT09PT09PT095YiG5Y+R5Zue5aGr55qE5YiXPT09PT09PT09PVwiKTtcbiAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5jb2x1bW5cIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuY29sdW1uIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgY29sdW1ucyA9IHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLmNvbHVtbi5zcGxpdCgnOycpIDogdm9pZCAwIDogdm9pZCAwO1xuICBjb25zb2xlLmxvZyhcImNvbHVtbnNcIiwgY29sdW1ucyk7XG4gIGZvcndhcmRfaW5zID0gcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmMy5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgc3ViVGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgaWYgKChmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiICYmIChmb3J3YXJkX2lucyAhPSBudWxsID8gKHJlZjUgPSBmb3J3YXJkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSAhPSBudWxsID8gcmVmNS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCAmJiBzdWJUYWJsZSAmJiBjb2x1bW5zKSB7XG4gICAgZm9yd2FyZF9pbnNfdmFsdWVzID0gZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICBvcmlnaW5hbF9pbnNfaWQgPSBfLmxhc3QoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgOiB2b2lkIDApO1xuICAgIG9yaWdpbmFsX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9yaWdpbmFsX2luc19pZCk7XG4gICAgb3JpZ2luYWxfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm0gOiB2b2lkIDApO1xuICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSBbXTtcbiAgICBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcIiwgb3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY2ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjYuX2lkIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXCIsIG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCk7XG4gICAgaWYgKChvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAob3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY3ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjcuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IChyZWY4ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjguZmllbGRzIDogdm9pZCAwO1xuICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsX2luc19maWVsZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2luc19maWVsZFwiLCBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKTtcbiAgICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gc3ViVGFibGUgJiYgKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgob3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY5ID0gb3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWY5Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgIG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24ob2gpIHtcbiAgICAgICAgICBpZiAoKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IG9oLl9pZCkge1xuICAgICAgICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9oICE9IG51bGwgPyBvaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsX2luc19maWVsZCkge1xuICAgICAgICAgICAgICBpZiAoKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBzdWJUYWJsZSAmJiAob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1wiLCBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgIT0gbnVsbCA/IG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggOiB2b2lkIDApO1xuICAgIGlmIChvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMpIHtcbiAgICAgIHRyYWNlcyA9IG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgICAgIHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXTtcbiAgICAgIGFwcHJvdmUgPSB0cmFjZSAhPSBudWxsID8gdHJhY2UuYXBwcm92ZXNbMF0gOiB2b2lkIDA7XG4gICAgICB0YWJsZV9kYXRhID0gKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUudmFsdWVzW3N1YlRhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICByb3dfZGF0YSA9IHt9O1xuICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gcm93X2RhdGFbY29sdW1uXSA9IGZvcndhcmRfaW5zX3ZhbHVlc1tjb2x1bW5dIHx8IFwiXCI7XG4gICAgICB9KTtcbiAgICAgIGlmIChyb3dfZGF0YSAmJiByb3dfZGF0YSAhPT0ge30pIHtcbiAgICAgICAgdGFibGVfZGF0YS5wdXNoKHJvd19kYXRhKTtcbiAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdID0gdGFibGVfZGF0YTtcbiAgICAgICAgY29uc29sZS5sb2codHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdKTtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShvcmlnaW5hbF9pbnNfaWQsIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAndHJhY2VzJzogdHJhY2VzXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAnaW5mbyc6ICflm57loavmlbDmja7kuLrnqbonXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ2Vycm9yJzogJ+WOn+eUs+ivt+WNleaXoOebuOWFs+WtkOihqCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdzdWNjZXNzJzogJ+eUs+ivt+WNleacque7k+adnydcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfdGFibGVfcmVmaWxsXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3ljp/ooajlrZDooag9PT09PT09PT09XCJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/Lm9UYWJsZVwiLHJlcT8ucXVlcnk/Lm9UYWJsZVxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09546w6KGo5a2Q6KGoPT09PT09PT09PVwiXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5kVGFibGVcIixyZXE/LnF1ZXJ5Py5kVGFibGVcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWOn+ihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIlxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8ub01hdGNoQ29sXCIscmVxPy5xdWVyeT8ub01hdGNoQ29sXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3njrDooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmRNYXRjaENvbFwiLHJlcT8ucXVlcnk/LmRNYXRjaENvbFxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT096ZyA6KaB5Zue5aGr55qE5YiXPT09PT09PT09PVwiXHRcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnJlZmlsbENvbFwiLHJlcT8ucXVlcnk/LnJlZmlsbENvbFxuXG5cdFx0IyDliIblj5HnmoTnlLPor7fljZVcblx0XHRkX2lucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcblxuXHRcdFxuXHRcdGlmIGRfaW5zPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXG5cdFx0XHRpZiByZXE/LnF1ZXJ5Py5vVGFibGVcblx0XHRcdFx0b190YWJsZSA9IHJlcT8ucXVlcnk/Lm9UYWJsZVxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5kVGFibGVcblx0XHRcdFx0XHRkX3RhYmxlID0gcmVxPy5xdWVyeT8uZFRhYmxlXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRkX3RhYmxlID0gb190YWJsZVxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5hVGFibGVcblx0XHRcdFx0XHRhX3RhYmxlID0gcmVxPy5xdWVyeT8uYVRhYmxlXG5cdFx0XHRcdGlmIHJlcT8ucXVlcnk/Lm9NYXRjaENvbFxuXHRcdFx0XHRcdG9fbWF0Y2hfY29sID0gcmVxPy5xdWVyeT8ub01hdGNoQ29sXG5cdFx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uZE1hdGNoQ29sXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbCA9IHJlcT8ucXVlcnk/LmRNYXRjaENvbFxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sID0gb19tYXRjaF9jb2xcblx0XHRcdFx0XHRjb2x1bW5zID0gcmVxPy5xdWVyeT8ucmVmaWxsQ29sLnNwbGl0KCc7JykgfHwgW11cblx0XHRcdFx0XHRjb25zb2xlLmxvZyBcImNvbHVtbnNcIixjb2x1bW5zXHRcdFx0XHRcdFxuXG5cdFx0XHRcdFx0aWYgY29sdW1ucyB8fCBjb2x1bW5zLmxlbmd0aDwxXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PT09PT09PT09PT09PT1cIlxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgZF90YWJsZSwgb19tYXRjaF9jb2wsIGNvbHVtbnNcblxuXHRcdFx0XHRcdFx0IyDliIblj5Hlm57mnaXnmoTlgLxcblx0XHRcdFx0XHRcdGRfaW5zX3ZhbHVlcyA9IGRfaW5zPy52YWx1ZXNcblxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZUgZm9ybSDooajlrZfmrrVcblx0XHRcdFx0XHRcdG9faW5zX2lkID0gXy5sYXN0IGRfaW5zPy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXG5cdFx0XHRcdFx0XHRvX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9faW5zX2lkKVxuXHRcdFx0XHRcdFx0b19pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob19pbnM/LmZvcm0pXG5cblx0XHRcdFx0XHRcdGRfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGRfaW5zPy5mb3JtKVxuXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahCBmaWVsZHNcblx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcyA9IFtdXG5cblx0XHRcdFx0XHRcdCMg5Y6f5a2Q6KGo5a2X5q61XG5cdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXG5cblx0XHRcdFx0XHRcdCMg5YiG5Y+R55Sz6K+35Y2V55qEIGZpZWxkc1xuXHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzID0gW11cblx0XHRcdFx0XHRcdCMg546w55Sz6K+35Y2V5a2X6KGo5a2X5q61XG5cdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXG5cblx0XHRcdFx0XHRcdCMg6LWL5YC85a+55bqU55qE5a2X5q61XG5cdFx0XHRcdFx0XHRjb2x1bW5fbGlzdCA9IFtdXG5cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0IyDliIblj5HlkI7nlLPor7fljZXnmoQg5a2Q6KGo5YC8XG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcyA9IFtdXG5cblx0XHRcdFx0XHRcdCMg5p+l55yL5Y6f55Sz6K+35Y2V5piv5ZCm5pyJ5a+55bqU55qE5a2Q6KGoXG5cdFx0XHRcdFx0XHRpZiBvX2lucz8uZm9ybV92ZXJzaW9uID09IG9faW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxuXHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBvX2luc19mb3JtPy5jdXJyZW50Py5maWVsZHNcblx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzLmZvckVhY2ggKG9faW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBvX2luc19maWVsZD8uY29kZSA9PSBvX3RhYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkPy5maWVsZHNcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRcdFx0XHRvX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKG9oKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBvX2lucz8uZm9ybV92ZXJzaW9uID09IG9oLl9pZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBvaD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcy5mb3JFYWNoIChvX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgb19pbnNfZmllbGQ/LmNvZGUgPT0gb190YWJsZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdCMg5p+l55yL5YiG5Y+R55qE55Sz6K+35Y2V5piv5ZCm5pyJ5a+55bqU55qE5a2X6KGoXG5cdFx0XHRcdFx0XHRpZiBkX2lucz8uZm9ybV92ZXJzaW9uID09IGRfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxuXHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBkX2luc19mb3JtPy5jdXJyZW50Py5maWVsZHNcblx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzLmZvckVhY2ggKGRfaW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdFx0aWYoKGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gZF90YWJsZSl8fChhX3RhYmxlICYmIGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gYV90YWJsZSkpXG5cdFx0XHRcdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdCBkX2luc19maWVsZD8uZmllbGRzXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGlmIGRfaW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChkaCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgZF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBkaC5faWRcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzID0gZGg/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMuZm9yRWFjaCAoZF9pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZigoZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBkX3RhYmxlKXx8KGFfdGFibGUgJiYgZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBhX3RhYmxlKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0IGRfaW5zX2ZpZWxkPy5maWVsZHNcblx0XHRcdFx0XHRcdFxuXG5cdFx0XHRcdFx0XHRcblxuXHRcdFx0XHRcdFx0aWYgb19zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgXCJvX3N1YnRhYmxlX2ZpZWxkc1wiLG9fc3VidGFibGVfZmllbGRzXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgZF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuXG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcyA9IGRfaW5zPy52YWx1ZXNbZF90YWJsZV0gfHwgW11cblxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZiBhX3RhYmxlXG5cdFx0XHRcdFx0XHRcdGFfdGFibGVfdmFsdWVzID0gIGRfaW5zPy52YWx1ZXNbYV90YWJsZV0gfHwgW11cblx0XHRcdFx0XHRcdFx0aWYgYV90YWJsZV92YWx1ZXMgJiYgYV90YWJsZV92YWx1ZXM/Lmxlbmd0aD09ZF90YWJsZV92YWx1ZXM/Lmxlbmd0aFxuXHRcdFx0XHRcdFx0XHRcdGFfdGFibGVfdmFsdWVzLmZvckVhY2ggKGFfcm93LGluZGV4KS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlc1tpbmRleF1ba2V5XSA9IHZhbHVlIGZvciBrZXksdmFsdWUgb2YgYV9yb3dcblxuXHRcdFx0XHRcdFx0aWYgZF90YWJsZV92YWx1ZXMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaVsOaNruS4uuepuicpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRvX21hdGNoX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1vX21hdGNoX2NvbClcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PWRfbWF0Y2hfY29sKVxuXG5cdFx0XHRcdFx0XHQjIOWMuemFjeWIl+WIpOaWrVxuXHRcdFx0XHRcdFx0aWYgb19tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcblxuXHRcdFx0XHRcdFx0aWYgZF9tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcblxuXHRcdFx0XHRcdFx0IyDliKTmlq3ljLnphY3liJflrZfmrrXnmoTlgLznsbvlnovmmK/lkKbkuIDoh7Rcblx0XHRcdFx0XHRcdG9fbWF0Y2hfY29sX2ZpZWxkID0gb19tYXRjaF9jb2xfZmllbGRzWzBdXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbF9maWVsZCA9IGRfbWF0Y2hfY29sX2ZpZWxkc1swXVxuXG5cdFx0XHRcdFx0XHRpZiBvX21hdGNoX2NvbF9maWVsZD8udHlwZSAhPSBkX21hdGNoX2NvbF9maWVsZD8udHlwZVxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5ZKM5Y6f55Sz6K+35Y2V5a2Q6KGo55qE5Yy56YWN5YiX5a2X5q615LiN5LiA6Ie0Jyk7XG5cblx0XHRcdFx0XHRcdCMg5Zue5aGr5YiX5Yik5patXG5cdFx0XHRcdFx0XHRjb2x1bW5zLmZvckVhY2ggKGNvbHVtbiktPlxuXHRcdFx0XHRcdFx0XHRjb2xzID0gY29sdW1uLnNwbGl0KCctJykgfHwgW11cblx0XHRcdFx0XHRcdFx0aWYgY29scy5sZW5ndGggPT0gMlxuXHRcdFx0XHRcdFx0XHRcdG9fY29sID0gY29sc1swXVxuXHRcdFx0XHRcdFx0XHRcdGRfY29sID0gY29sc1sxXVxuXHRcdFx0XHRcdFx0XHRcdG9fY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PW9fY29sKVxuXHRcdFx0XHRcdFx0XHRcdGRfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PWRfY29sKVxuXG5cdFx0XHRcdFx0XHRcdFx0IyDliKTmlq3mmK/lkKbmnInlr7nlupTnmoTlm57loavliJdcblx0XHRcdFx0XHRcdFx0XHRpZiBvX2NvbF9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIGRfY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuXG5cdFx0XHRcdFx0XHRcdFx0IyDliKTmlq3ljLnphY3liJflrZfmrrXnmoTlgLznsbvlnovmmK/lkKbkuIDoh7Rcblx0XHRcdFx0XHRcdFx0XHRpZiBvX2NvbF9maWVsZHM/LnR5cGUgIT0gZF9jb2xfZmllbGRzPy50eXBlXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5a2X5q6157G75Z6L5LiN5LiA6Ie0Jyk7XG5cdFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdFx0Y29sID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0b19jb2w6IG9fY29sLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZF9jb2w6IGRfY29sXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LnB1c2ggY29sXG5cblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJfkuI3ljLnphY0nKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0IyDotYvlgLxcblx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgICc9PT09PT1jb2x1bW5fbGlzdD09PT09PT0nLGNvbHVtbl9saXN0XG5cblx0XHRcdFx0XHRcdHRyYWNlcyA9IG9faW5zPy50cmFjZXNcblxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoQgc3RlcCBcblx0XHRcdFx0XHRcdHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV1cblxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoTlvZPliY3mraXpqqRcblx0XHRcdFx0XHRcdGFwcHJvdmUgPSB0cmFjZT8uYXBwcm92ZXNbMF1cblxuXHRcdFx0XHRcdFx0IyDlhYPnlLPor7fljZXnmoTlvZPliY0gdmFsdWUg55qEIOWtkOihqFxuXHRcdFx0XHRcdFx0dGFibGVfZGF0YSA9IGFwcHJvdmU/LnZhbHVlc1tvX3RhYmxlXSB8fCBbXVxuXG5cblx0XHRcdFx0XHRcdCMg5qC55o2uIGNvbHVtbl9saXN0IOi1i+WAvOWvueW6lOWtl+autei/m+ihjOi1i+WAvFxuXHRcdFx0XHRcdFx0IyDlvqrnjq/liIblj5HnlLPor7fljZXnmoTmr4/ooYxcblx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzLmZvckVhY2ggKGRfcm93KS0+XG5cdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJkX3Jvd1wiLGRfcm93XG5cdFx0XHRcdFx0XHRcdCMg5p+l5om+5Yy56YWN55qE5YiX5piv5ZCm5LiO5b2T5YmN55qE5Yy56YWN5YiX5LiA6Ie0XG5cdFx0XHRcdFx0XHRcdGhhc19vYmogPSBmYWxzZVxuXHRcdFx0XHRcdFx0XHRjb3VudCA9IC0xXG5cdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHQjIOeci+WOn+WtkOihqOaYr+WQpuacieivpeWMuemFjeWIl1xuXHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhLmZvckVhY2ggKG9fcm93LCBpbmRleCktPlxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJvX3Jvd1wiLCBvX3Jvd1xuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJpbmRleFwiLGluZGV4XG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93W29fbWF0Y2hfY29sXVwiLG9fcm93W29fbWF0Y2hfY29sXVxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJkX3Jvd1tkX21hdGNoX2NvbF1cIixkX3Jvd1tkX21hdGNoX2NvbF1cblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwib19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVwiLG9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cblxuXHRcdFx0XHRcdFx0XHRcdGlmIG9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cblx0XHRcdFx0XHRcdFx0XHRcdGhhc19vYmogPSB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3VudCA9IGluZGV4XG5cblx0XHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoTljLnphY3lrZfmrrXmnInlgLxcblx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImhhc19vYmpcIixoYXNfb2JqXG5cdFx0XHRcdFx0XHRcdGlmIGhhc19vYmo9PXRydWVcblx0XHRcdFx0XHRcdFx0XHRjb2x1bW5fbGlzdC5mb3JFYWNoIChjb2wpLT5cblx0XHRcdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGFbY291bnRdW2NvbD8ub19jb2xdID0gZF9yb3dbY29sPy5kX2NvbF1cblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YSA9IHt9XG5cdFx0XHRcdFx0XHRcdFx0cm93X2RhdGFbb19tYXRjaF9jb2xdID0gZF9yb3dbZF9tYXRjaF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QuZm9yRWFjaCAoY29sKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YVtjb2w/Lm9fY29sXSA9IGRfcm93W2NvbD8uZF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0dGFibGVfZGF0YS5wdXNoIHJvd19kYXRhXG5cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0dHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzID0gb19pbnM/LnZhbHVlc1xuXHRcdFx0XHRcdFx0dHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzW29fdGFibGVdID0gdGFibGVfZGF0YVxuXG5cdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKG9faW5zX2lkLHtcblx0XHRcdFx0XHRcdFx0JHNldDp7XG5cdFx0XHRcdFx0XHRcdFx0J3RyYWNlcyc6dHJhY2VzXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KVxuXG5cdFx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRcdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0XHRcdCdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7lrZDooajlm57loavliJflrZfmrrUgY29sdW1ucyDlgLwnKTtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Yy56YWN5YiX5a2X5q61IG9NYXRjaENvbCDlgLwnKTtcblx0XHRcdGVsc2Vcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljp/ooajljZXlrZDooaggb1RhYmxlIOWAvCcpO1xuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfnlLPor7fljZXmnKrnu5PmnZ8nKTtcblx0Y2F0Y2ggZVxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0ZXJyb3JzOiBbZV1cblx0XHRcdH1cblx0XHR9XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3RhYmxlX3JlZmlsbFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYV90YWJsZSwgYV90YWJsZV92YWx1ZXMsIGFwcHJvdmUsIGNvbHVtbl9saXN0LCBjb2x1bW5zLCBkX2lucywgZF9pbnNfZmllbGRzLCBkX2luc19mb3JtLCBkX2luc192YWx1ZXMsIGRfbWF0Y2hfY29sLCBkX21hdGNoX2NvbF9maWVsZCwgZF9tYXRjaF9jb2xfZmllbGRzLCBkX3N1YnRhYmxlX2ZpZWxkcywgZF90YWJsZSwgZF90YWJsZV92YWx1ZXMsIGUsIG9faW5zLCBvX2luc19maWVsZHMsIG9faW5zX2Zvcm0sIG9faW5zX2lkLCBvX21hdGNoX2NvbCwgb19tYXRjaF9jb2xfZmllbGQsIG9fbWF0Y2hfY29sX2ZpZWxkcywgb19zdWJ0YWJsZV9maWVsZHMsIG9fdGFibGUsIHJlZiwgcmVmMSwgcmVmMTAsIHJlZjExLCByZWYxMiwgcmVmMTMsIHJlZjE0LCByZWYxNSwgcmVmMTYsIHJlZjE3LCByZWYxOCwgcmVmMTksIHJlZjIsIHJlZjIwLCByZWYyMSwgcmVmMjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHJlZjgsIHJlZjksIHRhYmxlX2RhdGEsIHRyYWNlLCB0cmFjZXM7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3ljp/ooajlrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8ub1RhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09546w6KGo5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LmRUYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095Y6f6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/Lm9NYXRjaENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09546w6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LmRNYXRjaENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy5kTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT096ZyA6KaB5Zue5aGr55qE5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnJlZmlsbENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5yZWZpbGxDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGRfaW5zID0gcmVxICE9IG51bGwgPyAocmVmNSA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmNS5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWY2ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNi5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgb190YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjcgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY3Lm9UYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjggPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY4LmRUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIGRfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY5ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmOS5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZF90YWJsZSA9IG9fdGFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjEwID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTAuYVRhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgYV90YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjExID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTEuYVRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEyLm9NYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIG9fbWF0Y2hfY29sID0gcmVxICE9IG51bGwgPyAocmVmMTMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMy5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjE0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTQuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgICBkX21hdGNoX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjE1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTUuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkX21hdGNoX2NvbCA9IG9fbWF0Y2hfY29sO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb2x1bW5zID0gKHJlcSAhPSBudWxsID8gKHJlZjE2ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTYucmVmaWxsQ29sLnNwbGl0KCc7JykgOiB2b2lkIDAgOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29sdW1uc1wiLCBjb2x1bW5zKTtcbiAgICAgICAgICBpZiAoY29sdW1ucyB8fCBjb2x1bW5zLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09PT09PT09PT09PT09PVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRfdGFibGUsIG9fbWF0Y2hfY29sLCBjb2x1bW5zKTtcbiAgICAgICAgICAgIGRfaW5zX3ZhbHVlcyA9IGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXMgOiB2b2lkIDA7XG4gICAgICAgICAgICBvX2luc19pZCA9IF8ubGFzdChkX2lucyAhPSBudWxsID8gZF9pbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICBvX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9faW5zX2lkKTtcbiAgICAgICAgICAgIG9faW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9faW5zICE9IG51bGwgPyBvX2lucy5mb3JtIDogdm9pZCAwKTtcbiAgICAgICAgICAgIGRfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtIDogdm9pZCAwKTtcbiAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgb19zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGRfaW5zX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgZF9zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGNvbHVtbl9saXN0ID0gW107XG4gICAgICAgICAgICBkX3RhYmxlX3ZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgaWYgKChvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxNyA9IG9faW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjE3Ll9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgb19pbnNfZmllbGRzID0gb19pbnNfZm9ybSAhPSBudWxsID8gKHJlZjE4ID0gb19pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMTguZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgICAgICBvX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgIGlmICgob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IG9fdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgob19pbnNfZm9ybSAhPSBudWxsID8gKHJlZjE5ID0gb19pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjE5Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgb19pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKG9oKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKG9faW5zICE9IG51bGwgPyBvX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBvaC5faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb19pbnNfZmllbGRzID0gb2ggIT0gbnVsbCA/IG9oLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9faW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9faW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gb190YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAoZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIwID0gZF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMjAuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICBkX2luc19maWVsZHMgPSBkX2luc19mb3JtICE9IG51bGwgPyAocmVmMjEgPSBkX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYyMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGRfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGRfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCgoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGRfdGFibGUpIHx8IChhX3RhYmxlICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gYV90YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKChkX2luc19mb3JtICE9IG51bGwgPyAocmVmMjIgPSBkX2luc19mb3JtLmhpc3RvcnlzKSAhPSBudWxsID8gcmVmMjIubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICAgICAgICBkX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24oZGgpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IGRoLl9pZCkge1xuICAgICAgICAgICAgICAgICAgICBkX2luc19maWVsZHMgPSBkaCAhPSBudWxsID8gZGguZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZF9pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoKChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gZF90YWJsZSkgfHwgKGFfdGFibGUgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBhX3RhYmxlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0KGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJvX3N1YnRhYmxlX2ZpZWxkc1wiLCBvX3N1YnRhYmxlX2ZpZWxkcyk7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMgPSAoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlc1tkX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICBpZiAoYV90YWJsZSkge1xuICAgICAgICAgICAgICBhX3RhYmxlX3ZhbHVlcyA9IChkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzW2FfdGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICAgICAgaWYgKGFfdGFibGVfdmFsdWVzICYmIChhX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gYV90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSA9PT0gKGRfdGFibGVfdmFsdWVzICE9IG51bGwgPyBkX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgICAgYV90YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihhX3JvdywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBrZXksIHJlc3VsdHMsIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gYV9yb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhX3Jvd1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goZF90YWJsZV92YWx1ZXNbaW5kZXhdW2tleV0gPSB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRfdGFibGVfdmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvX21hdGNoX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBvX21hdGNoX2NvbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZF9tYXRjaF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gZF9tYXRjaF9jb2w7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChvX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9fbWF0Y2hfY29sX2ZpZWxkID0gb19tYXRjaF9jb2xfZmllbGRzWzBdO1xuICAgICAgICAgICAgZF9tYXRjaF9jb2xfZmllbGQgPSBkX21hdGNoX2NvbF9maWVsZHNbMF07XG4gICAgICAgICAgICBpZiAoKG9fbWF0Y2hfY29sX2ZpZWxkICE9IG51bGwgPyBvX21hdGNoX2NvbF9maWVsZC50eXBlIDogdm9pZCAwKSAhPT0gKGRfbWF0Y2hfY29sX2ZpZWxkICE9IG51bGwgPyBkX21hdGNoX2NvbF9maWVsZC50eXBlIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5ZKM5Y6f55Sz6K+35Y2V5a2Q6KGo55qE5Yy56YWN5YiX5a2X5q615LiN5LiA6Ie0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICAgIHZhciBjb2wsIGNvbHMsIGRfY29sLCBkX2NvbF9maWVsZHMsIG9fY29sLCBvX2NvbF9maWVsZHM7XG4gICAgICAgICAgICAgIGNvbHMgPSBjb2x1bW4uc3BsaXQoJy0nKSB8fCBbXTtcbiAgICAgICAgICAgICAgaWYgKGNvbHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgb19jb2wgPSBjb2xzWzBdO1xuICAgICAgICAgICAgICAgIGRfY29sID0gY29sc1sxXTtcbiAgICAgICAgICAgICAgICBvX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gb19jb2w7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IGRfY29sO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChvX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgob19jb2xfZmllbGRzICE9IG51bGwgPyBvX2NvbF9maWVsZHMudHlwZSA6IHZvaWQgMCkgIT09IChkX2NvbF9maWVsZHMgIT0gbnVsbCA/IGRfY29sX2ZpZWxkcy50eXBlIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+Wtl+auteexu+Wei+S4jeS4gOiHtCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2wgPSB7XG4gICAgICAgICAgICAgICAgICBvX2NvbDogb19jb2wsXG4gICAgICAgICAgICAgICAgICBkX2NvbDogZF9jb2xcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW5fbGlzdC5wdXNoKGNvbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+S4jeWMuemFjScpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyYWNlcyA9IG9faW5zICE9IG51bGwgPyBvX2lucy50cmFjZXMgOiB2b2lkIDA7XG4gICAgICAgICAgICB0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBhcHByb3ZlID0gdHJhY2UgIT0gbnVsbCA/IHRyYWNlLmFwcHJvdmVzWzBdIDogdm9pZCAwO1xuICAgICAgICAgICAgdGFibGVfZGF0YSA9IChhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLnZhbHVlc1tvX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICBkX3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGRfcm93KSB7XG4gICAgICAgICAgICAgIHZhciBjb3VudCwgaGFzX29iaiwgcm93X2RhdGE7XG4gICAgICAgICAgICAgIGhhc19vYmogPSBmYWxzZTtcbiAgICAgICAgICAgICAgY291bnQgPSAtMTtcbiAgICAgICAgICAgICAgdGFibGVfZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKG9fcm93LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChvX3Jvd1tvX21hdGNoX2NvbF0gPT09IGRfcm93W2RfbWF0Y2hfY29sXSkge1xuICAgICAgICAgICAgICAgICAgaGFzX29iaiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoaGFzX29iaiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW5fbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGNvbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlX2RhdGFbY291bnRdW2NvbCAhPSBudWxsID8gY29sLm9fY29sIDogdm9pZCAwXSA9IGRfcm93W2NvbCAhPSBudWxsID8gY29sLmRfY29sIDogdm9pZCAwXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb3dfZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIHJvd19kYXRhW29fbWF0Y2hfY29sXSA9IGRfcm93W2RfbWF0Y2hfY29sXTtcbiAgICAgICAgICAgICAgICBjb2x1bW5fbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGNvbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd19kYXRhW2NvbCAhPSBudWxsID8gY29sLm9fY29sIDogdm9pZCAwXSA9IGRfcm93W2NvbCAhPSBudWxsID8gY29sLmRfY29sIDogdm9pZCAwXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVfZGF0YS5wdXNoKHJvd19kYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlcyA9IG9faW5zICE9IG51bGwgPyBvX2lucy52YWx1ZXMgOiB2b2lkIDA7XG4gICAgICAgICAgICB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlc1tvX3RhYmxlXSA9IHRhYmxlX2RhdGE7XG4gICAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKG9faW5zX2lkLCB7XG4gICAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAndHJhY2VzJzogdHJhY2VzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWtkOihqOWbnuWhq+WIl+Wtl+autSBjb2x1bW5zIOWAvCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWMuemFjeWIl+Wtl+autSBvTWF0Y2hDb2wg5YC8Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Y6f6KGo5Y2V5a2Q6KGoIG9UYWJsZSDlgLwnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+eUs+ivt+WNleacque7k+adnycpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbZV1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L3N1Yl90YWJsZV9zb3J0XCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGoPT09PT09PT09PVwiXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIixyZXE/LnF1ZXJ5Py5zdWJUYWJsZVxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOaAu+WIhuWIlz09PT09PT09PT1cIlxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1bUNvbFwiLHJlcT8ucXVlcnk/LnN1bUNvbFxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOaOkuW6j+WIlz09PT09PT09PT1cIlxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnNvcnRDb2xcIixyZXE/LnF1ZXJ5Py5zb3J0Q29sXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGo5Y2V5YiX6ZyA6KaB6K6h566X55qE5ZKMPT09PT09PT09PVwiXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc2luZ2xlQ29sc1wiLHJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICBzdWJfdGFibGUgPSByZXE/LnF1ZXJ5Py5zdWJUYWJsZVxuICAgICAgICBpZiAhc3ViX3RhYmxlXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09c3ViX3RhYmxlPT09PT09XCJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1YlRhYmxlIOWtl+autScgKTtcbiAgICAgICAgXG4gICAgICAgIHN1bV9jb2wgPSByZXE/LnF1ZXJ5Py5zdW1Db2xcbiAgICAgICAgaWYgIXN1bV9jb2xcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zdW1fY29sPT09PT09XCJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1bUNvbCDlrZfmrrUnICk7XG4gICAgICAgIFxuICAgICAgICBzb3J0X2NvbCA9IHJlcT8ucXVlcnk/LnNvcnRDb2xcbiAgICAgICAgaWYgIXNvcnRfY29sXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09c29ydF9jb2w9PT09PT1cIlxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc29ydENvbCDlrZfmrrUnICk7XG4gICAgICAgIFxuICAgICAgICAjIHNpbmdsZV9jb2xzID0gcmVxPy5xdWVyeT8uc2luZ2xlQ29sc1xuICAgICAgICAjIGlmICFzaW5nbGVfY29sc1xuICAgICAgICAjICAgICBjb25zb2xlLmxvZyBcIj09PT09c2luZ2xlX2NvbHM9PT09PT1cIlxuXG4gICAgICAgICMgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNpbmdsZUNvbHMg5a2X5q61JyApO1xuICAgICAgICBcbiAgICAgICAgaW5zID0gcmVxPy5ib2R5Py5pbnN0YW5jZVxuICAgICAgICBcbiAgICAgICAgc3ViX3RhYmxlX3ZhbHVlcyA9IGlucy52YWx1ZXNbc3ViX3RhYmxlXVxuICAgICAgICBcbiAgICAgICAgaWYgc3ViX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoID4gMCBcbiAgICAgICAgICAgICMgIyDmoLnmja4gc3ViX3RhYmxlX3ZhbHVlcyDov5vooYzmjpLluo9cbiAgICAgICAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PVxuICAgICAgICAgICAgIyDmjpLluo/lrZfmrrXvvIzlhbPplK7lrZfvvIzmraPluo8odHJ1ZSkv5YCS5bqPKGZhbHNlKVxuICAgICAgICAgICAgYGZ1bmN0aW9uIEpzb25Tb3J0KGpzb25BcnIsIGtleSwgYXNjKXtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGo9MSxqbD1qc29uQXJyLmxlbmd0aDtqIDwgamw7aisrKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBqc29uQXJyW2pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsICA9IE51bWJlcih0ZW1wW2tleV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSAgICA9IGotMTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYXNjPT10cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPnZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKTx2YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0gdGVtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25BcnI7XG4gICAgICAgICAgICB9YFxuICAgICAgICAgICAgXG4gICAgICAgICAgICBuZXdfdGFibGVfdmFsdWVzID0gSnNvblNvcnQoc3ViX3RhYmxlX3ZhbHVlcyxzdW1fY29sLGZhbHNlKVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIm5ld190YWJsZV92YWx1ZXNcIixuZXdfdGFibGVfdmFsdWVzXG5cbiAgICAgICAgICAgIG5ld190YWJsZV92YWx1ZXMuZm9yRWFjaCAob2JqLCBpbmRleCktPlxuICAgICAgICAgICAgICAgIGlmIHNvcnRfY29sIGFuZCBvYmpbc3VtX2NvbF1cbiAgICAgICAgICAgICAgICAgICAgb2JqW3NvcnRfY29sXSA9IChpbmRleCsxKS50b1N0cmluZygpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwibmV3X3RhYmxlX3ZhbHVlc1wiLG5ld190YWJsZV92YWx1ZXNcblxuICAgICAgICAgICAgaW5zLnZhbHVlc1tzdWJfdGFibGVdID0gbmV3X3RhYmxlX3ZhbHVlc1xuXG4gICAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKGlucy5faWQse1xuICAgICAgICAgICAgICAgICRzZXQ6e1xuICAgICAgICAgICAgICAgICAgICAndmFsdWVzJzppbnMudmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcInN1Y2Nlc3NcIlxuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogJ+iuoeeul+aOkuW6j+aIkOWKnydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ+WtkOihqOaVsOaNruS4uuepuicpO1xuICAgIGNhdGNoIGVcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGVycm9yczogW2VdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L3N1Yl90YWJsZV9zb3J0XCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBlLCBpbnMsIG5ld190YWJsZV92YWx1ZXMsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgcmVmNywgc29ydF9jb2wsIHN1Yl90YWJsZSwgc3ViX3RhYmxlX3ZhbHVlcywgc3VtX2NvbDtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5oC75YiG5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1bUNvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5zdW1Db2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5o6S5bqP5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnNvcnRDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuc29ydENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooajljZXliJfpnIDopoHorqHnrpfnmoTlkow9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc2luZ2xlQ29sc1wiLCByZXEgIT0gbnVsbCA/IChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy5zaW5nbGVDb2xzIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBzdWJfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXN1Yl90YWJsZSkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXN1Yl90YWJsZT09PT09PVwiKTtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1YlRhYmxlIOWtl+autScpO1xuICAgIH1cbiAgICBzdW1fY29sID0gcmVxICE9IG51bGwgPyAocmVmNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjUuc3VtQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghc3VtX2NvbCkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXN1bV9jb2w9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdW1Db2wg5a2X5q61Jyk7XG4gICAgfVxuICAgIHNvcnRfY29sID0gcmVxICE9IG51bGwgPyAocmVmNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjYuc29ydENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXNvcnRfY29sKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIj09PT09c29ydF9jb2w9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzb3J0Q29sIOWtl+autScpO1xuICAgIH1cbiAgICBpbnMgPSByZXEgIT0gbnVsbCA/IChyZWY3ID0gcmVxLmJvZHkpICE9IG51bGwgPyByZWY3Lmluc3RhbmNlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHN1Yl90YWJsZV92YWx1ZXMgPSBpbnMudmFsdWVzW3N1Yl90YWJsZV07XG4gICAgaWYgKChzdWJfdGFibGVfdmFsdWVzICE9IG51bGwgPyBzdWJfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICBmdW5jdGlvbiBKc29uU29ydChqc29uQXJyLCBrZXksIGFzYyl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqPTEsamw9anNvbkFyci5sZW5ndGg7aiA8IGpsO2orKyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0ganNvbkFycltqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAgPSBOdW1iZXIodGVtcFtrZXldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgICAgPSBqLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmKGFzYz09dHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKT52YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk8dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IHRlbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uQXJyO1xuICAgICAgICAgICAgfTtcbiAgICAgIG5ld190YWJsZV92YWx1ZXMgPSBKc29uU29ydChzdWJfdGFibGVfdmFsdWVzLCBzdW1fY29sLCBmYWxzZSk7XG4gICAgICBjb25zb2xlLmxvZyhcIm5ld190YWJsZV92YWx1ZXNcIiwgbmV3X3RhYmxlX3ZhbHVlcyk7XG4gICAgICBuZXdfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgICBpZiAoc29ydF9jb2wgJiYgb2JqW3N1bV9jb2xdKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtzb3J0X2NvbF0gPSAoaW5kZXggKyAxKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwibmV3X3RhYmxlX3ZhbHVlc1wiLCBuZXdfdGFibGVfdmFsdWVzKTtcbiAgICAgIGlucy52YWx1ZXNbc3ViX3RhYmxlXSA9IG5ld190YWJsZV92YWx1ZXM7XG4gICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKGlucy5faWQsIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgICd2YWx1ZXMnOiBpbnMudmFsdWVzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzXCIpO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ3N1Y2Nlc3MnOiAn6K6h566X5o6S5bqP5oiQ5YqfJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAn5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtlXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsImlmIHByb2Nlc3MuZW52LkNSRUFUT1JfTk9ERV9FTlYgPT0gJ2RldmVsb3BtZW50J1xuICAgIEpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy90ZXN0L3dlYmhvb2snLCAocmVxLCByZXMsIG5leHQpIC0+XG4gICAgICAgIHRyeVxuXG4gICAgICAgICAgICBoYXNoRGF0YSA9IHJlcS5ib2R5XG4gICAgICAgICAgICBjb25zb2xlLmxvZyAnYWN0aW9uOiAnLCBoYXNoRGF0YS5hY3Rpb25cbiAgICAgICAgICAgIGNvbnNvbGUubG9nICdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlclxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ3RvX3VzZXJzOiAnLCBoYXNoRGF0YS50b191c2Vyc1xuXG5cbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fVxuICAgICAgICBjYXRjaCBlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yIGUuc3RhY2tcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG4gICAgICAgICAgICAgICAgY29kZTogMjAwXG4gICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9IiwiaWYgKHByb2Nlc3MuZW52LkNSRUFUT1JfTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL3Rlc3Qvd2ViaG9vaycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGUsIGhhc2hEYXRhO1xuICAgIHRyeSB7XG4gICAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgICAgY29uc29sZS5sb2coJ2FjdGlvbjogJywgaGFzaERhdGEuYWN0aW9uKTtcbiAgICAgIGNvbnNvbGUubG9nKCdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlcik7XG4gICAgICBjb25zb2xlLmxvZygndG9fdXNlcnM6ICcsIGhhc2hEYXRhLnRvX3VzZXJzKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge31cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL3VzZXJzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblxuXHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzXG5cdHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkXG5cdHNwYWNlVXNlcnMgPSBbXTtcblxuXHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogY3VycmVudF91c2VyLCBzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcblx0aWYgIXNwYWNlX3VzZXJcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+aXoOadg+mZkCdcblx0XHRcdH1cblx0XHR9KTtcblxuXHRpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cdHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIHVzZXJJZHMpXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdGNvZGU6IDIwMCxcblx0XHRkYXRhOiB7XG5cdFx0XHQnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcblx0XHR9XG5cdH1cbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvdXNlcnNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIHNwYWNlSWQsIHNwYWNlVXNlcnMsIHNwYWNlX3VzZXIsIHVzZXJJZHM7XG4gIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHM7XG4gIHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkO1xuICBzcGFjZVVzZXJzID0gW107XG4gIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICB1c2VyOiBjdXJyZW50X3VzZXIsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KTtcbiAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfml6DmnYPpmZAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgc3BhY2VVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdHMoc3BhY2VJZCwgdXNlcklkcyk7XG4gIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS9vcmdzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblx0b3JnSWRzID0gcmVxLmJvZHkub3JnSWRzXG5cdHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkXG5cblx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IGN1cnJlbnRfdXNlciwgc3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXG5cdGlmICFzcGFjZV91c2VyXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfml6DmnYPpmZAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0aWYgKCFvcmdJZHMgfHwgIXNwYWNlSWQpXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0b3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhT3JnT2JqZWN0cyhvcmdJZHMpXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdGNvZGU6IDIwMCxcblx0XHRkYXRhOiB7XG5cdFx0XHQnb3Jncyc6IG9yZ3Ncblx0XHR9XG5cdH0pO1xuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS9vcmdzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBvcmdJZHMsIG9yZ3MsIHNwYWNlSWQsIHNwYWNlX3VzZXI7XG4gIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgb3JnSWRzID0gcmVxLmJvZHkub3JnSWRzO1xuICBzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZDtcbiAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgIHVzZXI6IGN1cnJlbnRfdXNlcixcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pO1xuICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+aXoOadg+mZkCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIW9yZ0lkcyB8fCAhc3BhY2VJZCkge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMob3JnSWRzKTtcbiAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ29yZ3MnOiBvcmdzXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0c2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZTogKGluc19pZCwgc3RlcF9hcHByb3ZlLCBzdGVwc0FwcHJvdmVzT3B0aW9ucyktPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDF9fSlcblxuXHRcdGlmIGlucy5zdGF0ZSAhPSAnZHJhZnQnXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0X2tleXMxID0gXy5rZXlzKHN0ZXBfYXBwcm92ZSk7XG5cdFx0X2tleXMyID0gXy5rZXlzKHN0ZXBzQXBwcm92ZXNPcHRpb25zKTtcblxuXHRcdGtleXMgPSBfLmNvbXBhY3QoXy51bmlvbihfa2V5czEsIF9rZXlzMikpO1xuXG5cdFx0c3RlcHNBcHByb3ZlcyA9IHt9O1xuXG5cdFx0Xy5lYWNoIGtleXMsIChzdGVwSWQpLT5cblx0XHRcdHN0ZXBBcHByb3ZlcyA9IHN0ZXBfYXBwcm92ZVtzdGVwSWRdXG5cdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcHNBcHByb3Zlc09wdGlvbnNbc3RlcElkXVxuXHRcdFx0aWYgc3RlcEFwcHJvdmVzXG5cdFx0XHRcdHN0ZXBzQXBwcm92ZXNbc3RlcElkXSA9IHN0ZXBBcHByb3Zlc1xuXHRcdFx0XHRpZiBzdGVwc0FwcHJvdmVPcHRpb25zXG5cdFx0XHRcdFx0aWYgXy5pc0FycmF5KHN0ZXBBcHByb3Zlcylcblx0XHRcdFx0XHRcdHN0ZXBzQXBwcm92ZU9wdGlvbnMgPSBzdGVwQXBwcm92ZXMuY29uY2F0KHN0ZXBzQXBwcm92ZU9wdGlvbnMpXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0c3RlcHNBcHByb3ZlT3B0aW9ucy5wdXNoKHN0ZXBBcHByb3Zlcylcblx0XHRcdGlmIHN0ZXBzQXBwcm92ZU9wdGlvbnNcblx0XHRcdFx0c3RlcHNBcHByb3Zlc1tzdGVwSWQgKyAnX29wdGlvbnMnXSA9IF8udW5pcShzdGVwc0FwcHJvdmVPcHRpb25zKVxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUge19pZDogaW5zX2lkfSwgeyRzZXQ6IHtzdGVwX2FwcHJvdmU6IHN0ZXBzQXBwcm92ZXN9fVxuXHRzZXRfaW5zdGFuY2Vfc2tpcF9zdGVwczogKGluc19pZCwgc3RlcElkLCBhY3Rpb24pLT5cblx0XHRpZiBhY3Rpb24gPT0gJ3B1bGwnXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtfaWQ6IGluc19pZH0sIHskcHVsbDoge3NraXBfc3RlcHM6IHN0ZXBJZH19XG5cdFx0ZWxzZSBpZiBhY3Rpb24gPT0gJ3B1c2gnXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtfaWQ6IGluc19pZH0sIHskcHVzaDoge3NraXBfc3RlcHM6IHN0ZXBJZH19IiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlOiBmdW5jdGlvbihpbnNfaWQsIHN0ZXBfYXBwcm92ZSwgc3RlcHNBcHByb3Zlc09wdGlvbnMpIHtcbiAgICB2YXIgX2tleXMxLCBfa2V5czIsIGlucywga2V5cywgc3RlcHNBcHByb3ZlcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucy5zdGF0ZSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfa2V5czEgPSBfLmtleXMoc3RlcF9hcHByb3ZlKTtcbiAgICBfa2V5czIgPSBfLmtleXMoc3RlcHNBcHByb3Zlc09wdGlvbnMpO1xuICAgIGtleXMgPSBfLmNvbXBhY3QoXy51bmlvbihfa2V5czEsIF9rZXlzMikpO1xuICAgIHN0ZXBzQXBwcm92ZXMgPSB7fTtcbiAgICBfLmVhY2goa2V5cywgZnVuY3Rpb24oc3RlcElkKSB7XG4gICAgICB2YXIgc3RlcEFwcHJvdmVzLCBzdGVwc0FwcHJvdmVPcHRpb25zO1xuICAgICAgc3RlcEFwcHJvdmVzID0gc3RlcF9hcHByb3ZlW3N0ZXBJZF07XG4gICAgICBzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcHNBcHByb3Zlc09wdGlvbnNbc3RlcElkXTtcbiAgICAgIGlmIChzdGVwQXBwcm92ZXMpIHtcbiAgICAgICAgc3RlcHNBcHByb3Zlc1tzdGVwSWRdID0gc3RlcEFwcHJvdmVzO1xuICAgICAgICBpZiAoc3RlcHNBcHByb3ZlT3B0aW9ucykge1xuICAgICAgICAgIGlmIChfLmlzQXJyYXkoc3RlcEFwcHJvdmVzKSkge1xuICAgICAgICAgICAgc3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBBcHByb3Zlcy5jb25jYXQoc3RlcHNBcHByb3ZlT3B0aW9ucyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ZXBzQXBwcm92ZU9wdGlvbnMucHVzaChzdGVwQXBwcm92ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0ZXBzQXBwcm92ZU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXBzQXBwcm92ZXNbc3RlcElkICsgJ19vcHRpb25zJ10gPSBfLnVuaXEoc3RlcHNBcHByb3ZlT3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHN0ZXBfYXBwcm92ZTogc3RlcHNBcHByb3Zlc1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBzZXRfaW5zdGFuY2Vfc2tpcF9zdGVwczogZnVuY3Rpb24oaW5zX2lkLCBzdGVwSWQsIGFjdGlvbikge1xuICAgIGlmIChhY3Rpb24gPT09ICdwdWxsJykge1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkcHVsbDoge1xuICAgICAgICAgIHNraXBfc3RlcHM6IHN0ZXBJZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3B1c2gnKSB7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgc2tpcF9zdGVwczogc3RlcElkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kcyh7XG5cblx0Z2V0X2luc3RhbmNlX2RhdGE6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgZm9ybUNhY2hlZCwgZmxvd0NhY2hlZCkge1xuXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soZm9ybUNhY2hlZCwgQm9vbGVhbik7XG5cdFx0Y2hlY2soZmxvd0NhY2hlZCwgQm9vbGVhbik7XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG5cblx0XHRpZiAoIWluc3RhbmNlKVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW5zdGFuY2U6IG51bGxcblx0XHRcdH07XG5cblx0XHRpZiAoZm9ybUNhY2hlZCAmJiBmbG93Q2FjaGVkKVxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aW5zdGFuY2U6IGluc3RhbmNlXG5cdFx0XHR9O1xuXG5cdFx0aWYgKCFmb3JtQ2FjaGVkKSB7XG5cdFx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdFx0XHR2YXIgZm9ybV92ZXJzaW9uID0ge307XG5cdFx0XHRpZiAoZm9ybS5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pIHtcblx0XHRcdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9ufSlbMF07XG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0XHRpZiAoIWZsb3dDYWNoZWQpIHtcblx0XHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcblx0XHRcdHZhciBmbG93X3ZlcnNpb24gPSB7fTtcblx0XHRcdGlmIChmbG93LmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb259KVswXTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0aW5zdGFuY2U6IGluc3RhbmNlLFxuXHRcdFx0Zm9ybV92ZXJzaW9uOiBmb3JtX3ZlcnNpb24sXG5cdFx0XHRmbG93X3ZlcnNpb246IGZsb3dfdmVyc2lvblxuXHRcdH1cblxuXHR9XG5cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuXG5cdGRyYWZ0X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChpbnMpIHtcblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0cmV0dXJuO1xuXHRcdHZhciByZXN1bHQgPSB0cnVlO1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5kZXggPSAwO1xuXHRcdHZhciBpbnNfaWQgPSBpbnMuX2lkO1xuXHRcdHZhciB0cmFjZV9pZCA9IGlucy50cmFjZXNbMF0uX2lkO1xuXHRcdHZhciBhcHByb3ZlX2lkID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWQ7XG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5kZXNjcmlwdGlvbjtcblx0XHR2YXIgbmV4dF9zdGVwcyA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0ubmV4dF9zdGVwcztcblx0XHR2YXIgdmFsdWVzID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS52YWx1ZXMgfHwge307XG5cdFx0dmFyIGFwcGxpY2FudF9pZCA9IGlucy5hcHBsaWNhbnQ7XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRhcHBsaWNhbnQ6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRzdWJtaXR0ZXI6IDEsXG5cdFx0XHRcdHRyYWNlczogMSxcblx0XHRcdFx0Zm9ybTogMSxcblx0XHRcdFx0Zmxvd192ZXJzaW9uOiAxLFxuXHRcdFx0XHRzcGFjZTogMSxcblx0XHRcdFx0ZmxvdzogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG5cdFx0dmFyIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdHZhciBmb3JtX2lkID0gaW5zdGFuY2UuZm9ybTtcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0aWYgKGEuX2lkID09IGFwcHJvdmVfaWQpIHtcblx0XHRcdFx0aW5kZXggPSBpZHg7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLic7XG5cblx0XHQvLyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuaLn+eov+eKtuaAgVxuXHRcdHZhciBjdXJyZW50X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcblx0XHRcdF9pZDogdGhpcy51c2VySWRcblx0XHR9LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0bG9jYWxlOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIGxhbmcgPSBjdXJyZW50X3VzZXIubG9jYWxlID09ICd6aC1jbicgPyAnemgtQ04nIDogJ2VuJztcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSwgbGFuZyk7XG5cdFx0Ly8g5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIVcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXIoaW5zdGFuY2UsIHRoaXMudXNlcklkKTtcblxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XCJjdXJyZW50Ll9pZFwiOiAxLFxuXHRcdFx0XHRcImN1cnJlbnQuZm9ybV92ZXJzaW9uXCI6IDEsXG5cdFx0XHRcdFwibmFtZVwiOiAxLFxuXHRcdFx0XHRcImN1cnJlbnQuc3RlcHNcIjogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdGlmIChmbG93LmN1cnJlbnQuX2lkICE9IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xuXHRcdFx0cmVzdWx0ID0gXCJ1cGdyYWRlZFwiO1xuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbiAocykge1xuXHRcdFx0XHRyZXR1cm4gcy5zdGVwX3R5cGUgPT0gXCJzdGFydFwiO1xuXHRcdFx0fSk7XG5cdFx0XHQvLyDmtYHnqIvlt7LljYfnuqdcblx0XHRcdHNldE9iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xuXHRcdFx0c2V0T2JqLmZvcm1fdmVyc2lvbiA9IGZsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG5cdFx0XHQvLyDlrZjlhaXlvZPliY3mnIDmlrDniYhmbG935Lit5byA5aeL6IqC54K555qEc3RlcF9pZFxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQuc3RlcFwiXSA9IHN0YXJ0X3N0ZXAuX2lkO1xuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQubmFtZVwiXSA9IHN0YXJ0X3N0ZXAubmFtZTtcblx0XHR9XG5cblx0XHRpZiAoaW5zdGFuY2UuYXBwbGljYW50ICE9IGFwcGxpY2FudF9pZCkge1xuXHRcdFx0Ly8g55Sz6K+35Lq65bey5Y+Y5o2iXG5cdFx0XHR2YXIgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoYXBwbGljYW50X2lkLCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgYXBwbGljYW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0dXNlcjogYXBwbGljYW50X2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBvcmdfaWQgPSBhcHBsaWNhbnQuZmV0Y2goKVswXS5vcmdhbml6YXRpb247XG5cdFx0XHR2YXIgb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKG9yZ19pZCwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdGZ1bGxuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRzZXRPYmouYXBwbGljYW50ID0gYXBwbGljYW50X2lkO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9uYW1lID0gdXNlci5uYW1lO1xuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb24gPSBvcmdfaWQ7XG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lID0gb3JnYW5pemF0aW9uLm5hbWU7XG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ2FuaXphdGlvbi5mdWxsbmFtZTtcblxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndXNlciddID0gYXBwbGljYW50X2lkO1xuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndXNlcl9uYW1lJ10gPSB1c2VyLm5hbWU7XG5cdFx0fVxuXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzJ10gPSB2YWx1ZXM7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSAnc3VibWl0dGVkJztcblx0XHRzZXRPYmpba2V5X3N0ciArICdyZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0aWYgKHJlc3VsdCAhPSBcInVwZ3JhZGVkXCIgJiYgbmV4dF9zdGVwcykge1xuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnbmV4dF9zdGVwcyddID0gbmV4dF9zdGVwcztcblx0XHR9XG5cblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuXHRcdFx0X2lkOiBmb3JtX2lkXG5cdFx0fSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFwiY3VycmVudC5uYW1lX2ZvcnVtbGFcIjogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtLmN1cnJlbnQubmFtZV9mb3J1bWxhO1xuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcblx0XHRcdC8vIHZhciBpc2NyaXB0ID0gbmFtZV9mb3J1bWxhLnJlcGxhY2UoL1xcey9nLCBcIih2YWx1ZXNbJ1wiKS5yZXBsYWNlKC9cXH0vZywgXCInXSB8fCAnJylcIik7XG5cdFx0XHQvLyB2YXIgcmV2ID0gZXZhbChpc2NyaXB0KTtcblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zLCB2YWx1ZXMpO1xuXHRcdH1cblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LFxuXG5cdGluYm94X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblxuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5kZXggPSAwO1xuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XG5cdFx0dmFyIGFwcHJvdmVfaWQgPSBhcHByb3ZlLmlkO1xuXHRcdHZhciB2YWx1ZXMgPSBhcHByb3ZlLnZhbHVlcztcblx0XHR2YXIgbmV4dF9zdGVwcyA9IGFwcHJvdmUubmV4dF9zdGVwcztcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBhcHByb3ZlLmRlc2NyaXB0aW9uO1xuXHRcdHZhciBqdWRnZSA9IGFwcHJvdmUuanVkZ2U7XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGZsb3dfdmVyc2lvbjogMSxcblx0XHRcdFx0ZmxvdzogMSxcblx0XHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRcdGZvcm06IDEsXG5cdFx0XHRcdGZvcm1fdmVyc2lvbjogMSxcblx0XHRcdFx0dmFsdWVzOiAxLFxuXHRcdFx0XHRjb2RlOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50X2FwcHJvdmUgPSBfLmZpbmQoY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGEpIHtcblx0XHRcdHJldHVybiBhLl9pZCA9PSBhcHByb3ZlX2lkO1xuXHRcdH0pO1xuXG5cdFx0Ly8g5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrqHmoLjkuK3nirbmgIFcblx0XHR2YXIgY3VycmVudF91c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG5cdFx0XHRfaWQ6IHRoaXMudXNlcklkXG5cdFx0fSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdGxvY2FsZTogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBsYW5nID0gY3VycmVudF91c2VyLmxvY2FsZSA9PSAnemgtY24nID8gJ3poLUNOJyA6ICdlbic7XG5cdFx0dHJ5IHtcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UsIGxhbmcpO1xuXHRcdFx0Ly8g5Yik5pat5LiA5LiqdHJhY2XmmK/lkKbkuLrmnKrlrozmiJDnirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNUcmFjZU5vdEZpbmlzaGVkKGN1cnJlbnRfdHJhY2UpO1xuXHRcdFx0Ly8g5Yik5pat5LiA5LiqYXBwcm92ZeaYr+WQpuS4uuacquWujOaIkOeKtuaAgVxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0FwcHJvdmVOb3RGaW5pc2hlZChjdXJyZW50X2FwcHJvdmUpO1xuXHRcdFx0Ly8g5Yik5pat5b2T5YmN55So5oi35piv5ZCmYXBwcm92ZSDlr7nlupTnmoTlpITnkIbkurrmiJbku6PnkIbkurpcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNIYW5kbGVyT3JBZ2VudChjdXJyZW50X2FwcHJvdmUsIHRoaXMudXNlcklkKTtcblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlLnN0YWNrKVxuXHRcdFx0cmV0dXJuIHRydWVcblx0XHR9XG5cblxuXHRcdHZhciBmbG93X3ZlcnNpb24gPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG5cdFx0dmFyIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdHZhciBzdGVwX2lkID0gXCJcIjtcblx0XHRzdGVwX2lkID0gY3VycmVudF90cmFjZS5zdGVwO1xuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0Y3VycmVudDogMSxcblx0XHRcdFx0aGlzdG9yeXM6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgc3RlcCA9IG51bGw7XG5cdFx0aWYgKGZsb3cuY3VycmVudC5faWQgPT0gZmxvd192ZXJzaW9uKSB7XG5cdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAocykge1xuXHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcblx0XHRcdFx0XHRzdGVwID0gcztcblx0XHRcdH0pXG5cdFx0fSBlbHNlIHtcblx0XHRcdGZsb3cuaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbiAoaCkge1xuXHRcdFx0XHRoLnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcblx0XHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcblx0XHRcdFx0XHRcdHN0ZXAgPSBzO1xuXHRcdFx0XHR9KVxuXHRcdFx0fSlcblx0XHR9XG5cblx0XHRpZiAoIXN0ZXApXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0dmFyIHN0ZXBfdHlwZSA9IHN0ZXAuc3RlcF90eXBlO1xuXG5cdFx0Y3VycmVudF90cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlX2lkKSB7XG5cdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLic7XG5cblx0XHR2YXIgcGVybWlzc2lvbnNfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzLCBzdGVwLnBlcm1pc3Npb25zLCBpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuXG5cdFx0dmFyIGNoYW5nZV92YWx1ZXMgPSBhcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMoaW5zdGFuY2UudmFsdWVzLCBwZXJtaXNzaW9uc192YWx1ZXMpO1xuXG5cdFx0c2V0T2JqLnZhbHVlcyA9IF8uZXh0ZW5kKChpbnN0YW5jZS52YWx1ZXMgfHwge30pLCBwZXJtaXNzaW9uc192YWx1ZXMpO1xuXG5cdFx0aWYgKCFfLmlzRW1wdHkoY2hhbmdlX3ZhbHVlcykpIHtcblxuXHRcdFx0dmFsdWVzX2hpc3RvcnkgPSBjdXJyZW50X2FwcHJvdmUudmFsdWVzX2hpc3RvcnkgfHwgW11cblxuXHRcdFx0dmFsdWVzX2hpc3RvcnkucHVzaCh7XG5cdFx0XHRcdHZhbHVlczogY2hhbmdlX3ZhbHVlcyxcblx0XHRcdFx0Y3JlYXRlOiBuZXcgRGF0ZSgpXG5cdFx0XHR9KVxuXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXNfaGlzdG9yeSddID0gdmFsdWVzX2hpc3Rvcnlcblx0XHR9XG5cblx0XHRzZXRPYmpba2V5X3N0ciArICdpc19yZWFkJ10gPSB0cnVlO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ3JlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXMnXSA9IHNldE9iai52YWx1ZXM7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ25leHRfc3RlcHMnXSA9IG5leHRfc3RlcHM7XG5cdFx0aWYgKHN0ZXBfdHlwZSA9PSBcInN1Ym1pdFwiIHx8IHN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIpIHtcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0ganVkZ2U7XG5cdFx0fVxuXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdC8vIOiuoeeul+eUs+ivt+WNleagh+mimFxuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblx0XHR2YXIgZm9ybV92ID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihmb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtX3YubmFtZV9mb3J1bWxhO1xuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UsIHNldE9iai52YWx1ZXMpO1xuXHRcdH1cblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG59KSIsIk1ldGVvci5tZXRob2RzKHtcblx0Y2NfZG86IGZ1bmN0aW9uIChhcHByb3ZlLCBjY191c2VyX2lkcywgZGVzY3JpcHRpb24pIHtcblxuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xuXHRcdHZhciBhcHByb3ZlX2lkID0gYXBwcm92ZS5faWQ7XG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdHRyYWNlczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXG5cdFx0XHRcdHZhbHVlczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcblx0XHR2YXIgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcblx0XHR2YXIgbmV3X2FwcHJvdmVzID0gW107XG5cblx0XHR2YXIgZnJvbV91c2VyX25hbWUgPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdG5hbWU6IDFcblx0XHRcdH1cblx0XHR9KS5uYW1lXG5cblx0XHRjY191c2VyX2lkcy5mb3JFYWNoKGZ1bmN0aW9uICh1c2VySWQsIGlkeCkge1xuXHRcdFx0dmFyIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJJZCwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHR1c2VyOiB1c2VySWRcblx0XHRcdH0sIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0b3JnYW5pemF0aW9uOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIG9yZ19pZCA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuXHRcdFx0dmFyIG9yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShvcmdfaWQsIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJJZCk7XG5cdFx0XHR2YXIgaGFuZGxlcl9pZCA9IHVzZXJJZDtcblx0XHRcdHZhciBoYW5kbGVyX2luZm8gPSB1c2VyO1xuXHRcdFx0dmFyIGhhbmRsZXJfc3BhY2VfdXNlciA9IHNwYWNlX3VzZXI7XG5cdFx0XHR2YXIgaGFuZGxlcl9vcmdfaW5mbyA9IG9yZ2FuaXphdGlvbjtcblx0XHRcdGlmIChhZ2VudCkge1xuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnQ7XG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoYWdlbnQsIHtcblx0XHRcdFx0XHRmaWxlZHM6IHtcblx0XHRcdFx0XHRcdG5hbWU6IDFcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xuXHRcdFx0XHRoYW5kbGVyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKGhhbmRsZXJfc3BhY2VfdXNlcik7XG5cdFx0XHRcdGNjX3VzZXJfaWRzW2lkeF0gPSBhZ2VudDtcblx0XHRcdH1cblx0XHRcdHZhciBhcHByID0ge1xuXHRcdFx0XHQnX2lkJzogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcblx0XHRcdFx0J2luc3RhbmNlJzogaW5zX2lkLFxuXHRcdFx0XHQndHJhY2UnOiB0cmFjZV9pZCxcblx0XHRcdFx0J2lzX2ZpbmlzaGVkJzogZmFsc2UsXG5cdFx0XHRcdCd1c2VyJzogdXNlcklkLFxuXHRcdFx0XHQndXNlcl9uYW1lJzogdXNlci5uYW1lLFxuXHRcdFx0XHQnaGFuZGxlcic6IGhhbmRsZXJfaWQsXG5cdFx0XHRcdCdoYW5kbGVyX25hbWUnOiBoYW5kbGVyX2luZm8ubmFtZSxcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uJzogaGFuZGxlcl9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbixcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUnOiBoYW5kbGVyX29yZ19pbmZvLm5hbWUsXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSc6IGhhbmRsZXJfb3JnX2luZm8uZnVsbG5hbWUsXG5cdFx0XHRcdCd0eXBlJzogJ2NjJyxcblx0XHRcdFx0J3N0YXJ0X2RhdGUnOiBuZXcgRGF0ZSgpLFxuXHRcdFx0XHQnaXNfcmVhZCc6IGZhbHNlLFxuXHRcdFx0XHQnZnJvbV91c2VyJzogY3VycmVudF91c2VyX2lkLFxuXHRcdFx0XHQnZnJvbV91c2VyX25hbWUnOiBmcm9tX3VzZXJfbmFtZSxcblx0XHRcdFx0J29waW5pb25fZmllbGRzX2NvZGUnOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUsXG5cdFx0XHRcdCdzaWduX2ZpZWxkX2NvZGUnOiAoYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlICYmIGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZS5sZW5ndGggPT0gMSkgPyBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGVbMF0gOiBcIlwiLFxuXHRcdFx0XHQnZnJvbV9hcHByb3ZlX2lkJzogYXBwcm92ZV9pZCxcblx0XHRcdFx0J2NjX2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb25cblx0XHRcdH07XG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0YXBwci5hZ2VudCA9IGFnZW50O1xuXHRcdFx0fVxuXHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgYXBwcilcblx0XHRcdG5ld19hcHByb3Zlcy5wdXNoKGFwcHIpO1xuXHRcdH0pXG5cblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldE9iaixcblx0XHRcdCRhZGRUb1NldDoge1xuXHRcdFx0XHQndHJhY2VzLiQuYXBwcm92ZXMnOiB7XG5cdFx0XHRcdFx0JGVhY2g6IG5ld19hcHByb3Zlc1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0JHB1c2g6IHtcblx0XHRcdFx0Y2NfdXNlcnM6IHtcblx0XHRcdFx0XHQkZWFjaDogY2NfdXNlcl9pZHNcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQpO1xuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwidHJhY2VfYXBwcm92ZV9jY1wiLCBpbnN0YW5jZSwgXCJcIiwgY3VycmVudF91c2VyX2luZm8sIGNjX3VzZXJfaWRzKTtcblxuXHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdGFwcHJvdmUuY2NfdXNlcl9pZHMgPSBjY191c2VyX2lkczsgLy8g6K6w5b2V5LiL5pys5qyh5Lyg6ZiF55qE5Lq65ZGYSUTkvZzkuLpob29r5o6l5Y+j5Lit55qE5Y+C5pWwXG5cdFx0Ly8g5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBhcHByb3ZlLCAnY2NfZG8nLCBjdXJyZW50X3VzZXJfaWQsIGNjX3VzZXJfaWRzKVxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3JlYWQ6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XG5cdFx0dmFyIHNldE9iaiA9IHt9O1xuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KVxuXG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRpZiAoYS50eXBlID09ICdjYycgJiYgYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiAhYS5pc19yZWFkKSB7XG5cdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblxuXHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdH0pO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3N1Ym1pdDogZnVuY3Rpb24gKGluc19pZCwgZGVzY3JpcHRpb24sIG15QXBwcm92ZSwgY2NIYXNFZGl0UGVybWlzc2lvbikge1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG5cblx0XHR2YXIgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcblx0XHR2YXIgdmFsdWVzID0gbXlBcHByb3ZlLnZhbHVlcyB8fCB7fTtcblxuXHRcdHZhciBhcHByb3ZlX2lkID0gbXlBcHByb3ZlLl9pZDtcblxuXHRcdHZhciBteVRyYWNlO1xuXG5cdFx0Zm9yIChsZXQgdGlkeCA9IDA7IHRpZHggPCB0cmFjZXMubGVuZ3RoOyB0aWR4KyspIHtcblx0XHRcdGNvbnN0IHQgPSB0cmFjZXNbdGlkeF07XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHRmb3IgKGxldCBhaWR4ID0gMDsgYWlkeCA8IHQuYXBwcm92ZXMubGVuZ3RoOyBhaWR4KyspIHtcblx0XHRcdFx0XHRjb25zdCBhID0gdC5hcHByb3Zlc1thaWR4XTtcblx0XHRcdFx0XHRpZiAoYS50eXBlID09ICdjYycgJiYgYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiBhLmlzX2ZpbmlzaGVkID09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHR2YXIgdXBvYmogPSB7fTtcblx0XHRcdFx0XHRcdHZhciBrZXlfc3RyID0gJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBhaWR4ICsgJy4nO1xuXHRcdFx0XHRcdFx0dXBvYmpba2V5X3N0ciArICdpc19maW5pc2hlZCddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHVwb2JqW2tleV9zdHIgKyAnaXNfcmVhZCddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHVwb2JqW2tleV9zdHIgKyAnZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHR1cG9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xuXHRcdFx0XHRcdFx0dXBvYmpba2V5X3N0ciArICdjb3N0X3RpbWUnXSA9IG5ldyBEYXRlKCkgLSBhLnN0YXJ0X2RhdGU7XG5cdFx0XHRcdFx0XHRpZiAoYXBwcm92ZV9pZCA9PSBhLl9pZCAmJiAhdC5pc19maW5pc2hlZCAmJiBjY0hhc0VkaXRQZXJtaXNzaW9uKSB7XG5cdFx0XHRcdFx0XHRcdG15VHJhY2UgPSB0O1xuXHRcdFx0XHRcdFx0XHR2YXIgc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdC5zdGVwKTtcblx0XHRcdFx0XHRcdFx0dXBvYmpba2V5X3N0ciArIFwidmFsdWVzXCJdID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKHZhbHVlcywgc3RlcFtcInBlcm1pc3Npb25zXCJdLCBpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQvL+iuvue9ruaEj+inge+8jOaEj+ingeWPqua3u+WKoOWIsOacgOWQjuS4gOadoWFwcHJvdmXkuK1cblx0XHRcdFx0XHRcdGlmIChhcHByb3ZlX2lkID09IGEuX2lkKSB7XG5cdFx0XHRcdFx0XHRcdHVwb2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0XHRcdFx0XHQndHJhY2VzLl9pZCc6IHQuX2lkXG5cdFx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRcdCRzZXQ6IHVwb2JqXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fVxuXG5cdFx0aWYgKG15QXBwcm92ZSkge1xuXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHRcdGlmIChjY0hhc0VkaXRQZXJtaXNzaW9uICYmIG15QXBwcm92ZSAmJiAhbXlUcmFjZS5pc19maW5pc2hlZCkge1xuXHRcdFx0XHR2YXIgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuXHRcdFx0XHR2YXIgdXBkYXRlZF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zLCBhcHByb3ZlX2lkKTtcblx0XHRcdFx0c2V0T2JqLnZhbHVlcyA9IHVwZGF0ZWRfdmFsdWVzO1xuXHRcdFx0XHRzZXRPYmoubmFtZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VOYW1lKGluc3RhbmNlKTtcblx0XHRcdH1cblxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IG15QXBwcm92ZS50cmFjZVxuXHRcdFx0fSwge1xuXHRcdFx0XHQkc2V0OiBzZXRPYmosXG5cdFx0XHRcdCRwdWxsOiB7XG5cdFx0XHRcdFx0Y2NfdXNlcnM6IGN1cnJlbnRfdXNlcl9pZFxuXHRcdFx0XHR9LFxuXHRcdFx0XHQkYWRkVG9TZXQ6IHtcblx0XHRcdFx0XHRvdXRib3hfdXNlcnM6IHtcblx0XHRcdFx0XHRcdCRlYWNoOiBbY3VycmVudF91c2VyX2lkLCBteUFwcHJvdmUudXNlcl1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XG5cblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQpO1xuXHRcdFx0Ly/kvKDpmIXmj5DkuqTkuI3pgJrnn6XkvKDpmIXogIVcblx0XHRcdGlmIChmYWxzZSAmJiBkZXNjcmlwdGlvbiAmJiBteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmZyb21fdXNlcikge1xuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInRyYWNlX2FwcHJvdmVfY2Nfc3VibWl0XCIsIGluc3RhbmNlLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbywgW215QXBwcm92ZS5mcm9tX3VzZXJdKTtcblx0XHRcdH1cblxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcl9pZCk7XG5cblx0XHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuXHRcdFx0Ly8g5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soZmxvd19pZCwgaW5zdGFuY2UsIG15QXBwcm92ZSwgJ2NjX3N1Ym1pdCcsIGN1cnJlbnRfdXNlcl9pZCwgW10pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3JlbW92ZTogZnVuY3Rpb24gKGluc3RhbmNlSWQsIGFwcHJvdmVJZCkge1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblx0XHR2YXIgdHJhY2VfaWQsIHJlbW92ZV91c2VyX2lkLCBtdWx0aSA9IGZhbHNlO1xuXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdFx0aWYgKGEuX2lkID09IGFwcHJvdmVJZCkge1xuXHRcdFx0XHRcdFx0dHJhY2VfaWQgPSBhLnRyYWNlO1xuXHRcdFx0XHRcdFx0cmVtb3ZlX3VzZXJfaWQgPSBhLmhhbmRsZXI7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSAndGVybWluYXRlZCc7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdGlmICghdHJhY2VfaWQgfHwgIXJlbW92ZV91c2VyX2lkKVxuXHRcdFx0cmV0dXJuO1xuXG5cdFx0dmFyIG11bHRpID0gMDtcblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG5cdFx0XHRcdFx0aWYgKGEuaGFuZGxlciA9PSByZW1vdmVfdXNlcl9pZCAmJiBhLnR5cGUgPT0gJ2NjJyAmJiBhLmlzX2ZpbmlzaGVkID09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHRtdWx0aSsrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHRpZiAobXVsdGkgPiAxKSB7XG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcblx0XHRcdH0sIHtcblx0XHRcdFx0JHNldDogc2V0T2JqLFxuXHRcdFx0XHQkcHVsbDoge1xuXHRcdFx0XHRcdGNjX3VzZXJzOiByZW1vdmVfdXNlcl9pZFxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblxuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCByZW1vdmVfdXNlcl9pZCk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Y2Nfc2F2ZTogZnVuY3Rpb24gKGluc19pZCwgZGVzY3JpcHRpb24sIG15QXBwcm92ZSwgY2NIYXNFZGl0UGVybWlzc2lvbikge1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG5cblx0XHR2YXIgbXlUcmFjZTtcblxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhLmhhbmRsZXIgPT0gY3VycmVudF91c2VyX2lkICYmIGEudHlwZSA9PSAnY2MnICYmIGEuaXNfZmluaXNoZWQgPT0gZmFsc2UpIHtcblx0XHRcdFx0XHRcdHZhciB1cG9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0XHRcdFx0J3RyYWNlcy5faWQnOiB0Ll9pZFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHQkc2V0OiB1cG9ialxuXHRcdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHZhciBpbmRleCA9IDA7XG5cdFx0dmFyIGN1cnJlbnRTdGVwSWQ7XG5cblx0XHQvL+iuvue9ruaEj+inge+8jOaEj+ingeWPqua3u+WKoOWIsOacgOWQjuS4gOadoWFwcHJvdmXkuK1cblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKG15QXBwcm92ZSAmJiB0Ll9pZCA9PT0gbXlBcHByb3ZlLnRyYWNlKSB7XG5cdFx0XHRcdGN1cnJlbnRTdGVwSWQgPSB0LnN0ZXA7XG5cdFx0XHRcdG15VHJhY2UgPSB0O1xuXHRcdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdFx0XHRpZiAoYS5faWQgPT09IG15QXBwcm92ZS5faWQpIHtcblx0XHRcdFx0XHRcdFx0aW5kZXggPSBpZHg7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5kZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XG5cblx0XHR2YXIgdXBkYXRlT2JqID0ge307XG5cblx0XHRpZiAoY2NIYXNFZGl0UGVybWlzc2lvbiAmJiBteUFwcHJvdmUgJiYgIW15VHJhY2UuaXNfZmluaXNoZWQpIHtcblxuXHRcdFx0dmFyIGtleV9zdHIgPSAndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy4nO1xuXG5cdFx0XHR2YXIgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcblxuXHRcdFx0dmFyIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGN1cnJlbnRTdGVwSWQpO1xuXG5cdFx0XHR2YXIgcGVybWlzc2lvbnNfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKG15QXBwcm92ZS52YWx1ZXMsIHN0ZXAucGVybWlzc2lvbnMsIGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG5cblx0XHRcdHZhciBjaGFuZ2VfdmFsdWVzID0gYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzKGluc3RhbmNlLnZhbHVlcywgcGVybWlzc2lvbnNfdmFsdWVzKTtcblxuXHRcdFx0c2V0T2JqLnZhbHVlcyA9IF8uZXh0ZW5kKChpbnN0YW5jZS52YWx1ZXMgfHwge30pLCBwZXJtaXNzaW9uc192YWx1ZXMpO1xuXG5cdFx0XHRpZiAoIV8uaXNFbXB0eShjaGFuZ2VfdmFsdWVzKSkge1xuXHRcdFx0XHR2YXIgcHVzaE9iaiA9IHt9O1xuXHRcdFx0XHRwdXNoT2JqW2tleV9zdHIgKyAndmFsdWVzX2hpc3RvcnknXSA9IHtcblx0XHRcdFx0XHR2YWx1ZXM6IGNoYW5nZV92YWx1ZXMsXG5cdFx0XHRcdFx0Y3JlYXRlOiBuZXcgRGF0ZSgpXG5cdFx0XHRcdH1cblx0XHRcdFx0dXBkYXRlT2JqLiRwdXNoID0gcHVzaE9iajtcblx0XHRcdH1cblxuXHRcdFx0c2V0T2JqLm5hbWUgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlTmFtZShpbnN0YW5jZSlcblx0XHR9XG5cblx0XHR1cGRhdGVPYmouJHNldCA9IHNldE9iajtcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHQndHJhY2VzLl9pZCc6IG15QXBwcm92ZS50cmFjZVxuXHRcdH0sIHVwZGF0ZU9iaik7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufSkiLCJNZXRlb3IubWV0aG9kcyh7XG5cdC8vIOaUueS4uumAmui/h2Fwaeiwg+eUqFxuXHRmb3J3YXJkX2luc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIHNwYWNlX2lkLCBmbG93X2lkLCBoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQsIGRlc2NyaXB0aW9uLCBpc0ZvcndhcmRBdHRhY2htZW50cywgc2VsZWN0ZWRVc2VycywgYWN0aW9uX3R5cGUsIHJlbGF0ZWQsIGZyb21fYXBwcm92ZV9pZCkge1xuXHRcdGlmICghdGhpcy51c2VySWQpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdub3QtYXV0aG9yaXplZCcpO1xuXG5cdFx0cmV0dXJuO1xuXHR9LFxuXG5cblx0Zm9yd2FyZF9yZW1vdmU6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgdHJhY2VfaWQsIGFwcHJvdmVfaWQpIHtcblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcblx0XHRjaGVjayh0cmFjZV9pZCwgU3RyaW5nKTtcblx0XHRjaGVjayhhcHByb3ZlX2lkLCBTdHJpbmcpO1xuXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcblxuXHRcdGlmICghaW5zKSB7XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpO1xuXHRcdH1cblxuXHRcdHZhciB0cmFjZSA9IF8uZmluZChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xuXHRcdH0pO1xuXG5cdFx0dmFyIGFwcHJvdmUgPSBfLmZpbmQodHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhcHByKSB7XG5cdFx0XHRyZXR1cm4gYXBwci5faWQgPT0gYXBwcm92ZV9pZDtcblx0XHR9KVxuXG5cdFx0dmFyIGhhc0FkbWluUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIHRoaXMudXNlcklkKVxuXG5cdFx0aWYgKCFhcHByb3ZlIHx8ICFbJ2ZvcndhcmQnLCAnZGlzdHJpYnV0ZSddLmluY2x1ZGVzKGFwcHJvdmUudHlwZSkgfHwgIWFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkge1xuXHRcdFx0aWYgKCFoYXNBZG1pblBlcm1pc3Npb24pIHtcblx0XHRcdFx0aWYgKGFwcHJvdmUuZnJvbV91c2VyICE9IHRoaXMudXNlcklkKVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsICdpbnN0YW5jZV9mb3J3YXJkX2Nhbm5vdF9jYW5jZWwnKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZTtcblx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGZvcndhcmRfaW5zdGFuY2VfaWQpO1xuXHRcdGlmIChmb3J3YXJkX2luc3RhbmNlKSB7XG5cdFx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCIpIHtcblx0XHRcdFx0aWYgKCFoYXNBZG1pblBlcm1pc3Npb24pXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgJ2luc3RhbmNlX2ZvcndhcmRfaW5zdGFuY2Vfc3RhdGVfY2hhbmdlZCcpO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGluYm94X3VzZXJzID0gZm9yd2FyZF9pbnN0YW5jZS5pbmJveF91c2VycyB8fCBbXTtcblxuXHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkID0gbmV3IERhdGUoKTtcblx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZF9ieSA9IHRoaXMudXNlcklkO1xuXHRcdFx0dmFyIGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChmb3J3YXJkX2luc3RhbmNlKTtcblx0XHRcdGlmIChkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQpIHtcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnJlbW92ZSh7XG5cdFx0XHRcdFx0X2lkOiBmb3J3YXJkX2luc3RhbmNlX2lkXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdC8vIOWIoOmZpOeUs+ivt+WNleWQjumHjeaWsOiuoeeul2luYm94X3VzZXJz55qEYmFkZ2Vcblx0XHRcdFx0Xy5lYWNoKGluYm94X3VzZXJzLCBmdW5jdGlvbiAodV9pZCkge1xuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1X2lkKTtcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG5cdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0Xy5lYWNoKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYXBwciwgaWR4KSB7XG5cdFx0XHRpZiAoYXBwci5faWQgPT0gYXBwcm92ZV9pZCkge1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gJ3Rlcm1pbmF0ZWQnO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXG5cdFx0fSwge1xuXHRcdFx0JHNldDogc2V0X29ialxuXHRcdH0pXG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjYW5jZWxEaXN0cmlidXRlOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIGFwcHJvdmVfaWRzKSB7XG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZylcblx0XHRjaGVjayhhcHByb3ZlX2lkcywgQXJyYXkpXG5cblx0XHR2YXIgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpXG5cblx0XHRpZiAoIWlucykge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKVxuXHRcdH1cblxuXHRcdHVzZXJJZCA9IHRoaXMudXNlcklkXG5cblx0XHR2YXIgaGFzQWRtaW5QZXJtaXNzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgdXNlcklkKVxuXG5cdFx0Xy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHR2YXIgZXhpc3RzID0gZmFsc2Vcblx0XHRcdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0XG5cdFx0XHRcdF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRcdFx0aWYgKGFwcHJvdmVfaWRzLmluY2x1ZGVzKGEuX2lkKSAmJiAoYS5mcm9tX3VzZXIgPT0gdXNlcklkIHx8IGhhc0FkbWluUGVybWlzc2lvbikgJiYgJ2Rpc3RyaWJ1dGUnID09IGEudHlwZSAmJiBhLmZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRcdHZhciBmb3J3YXJkX2luc3RhbmNlX2lkID0gYS5mb3J3YXJkX2luc3RhbmNlXG5cdFx0XHRcdFx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGZvcndhcmRfaW5zdGFuY2VfaWQpXG5cdFx0XHRcdFx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZSkge1xuXHRcdFx0XHRcdFx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCIpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR2YXIgaW5ib3hfdXNlcnMgPSBmb3J3YXJkX2luc3RhbmNlLmluYm94X3VzZXJzIHx8IFtdXG5cblx0XHRcdFx0XHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWRfYnkgPSB1c2VySWRcblx0XHRcdFx0XHRcdFx0dmFyIGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChmb3J3YXJkX2luc3RhbmNlKVxuXHRcdFx0XHRcdFx0XHRpZiAoZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnJlbW92ZSh7XG5cdFx0XHRcdFx0XHRcdFx0XHRfaWQ6IGZvcndhcmRfaW5zdGFuY2VfaWRcblx0XHRcdFx0XHRcdFx0XHR9KVxuXG5cdFx0XHRcdFx0XHRcdFx0Ly8g5Yig6Zmk55Sz6K+35Y2V5ZCO6YeN5paw6K6h566XaW5ib3hfdXNlcnPnmoRiYWRnZVxuXHRcdFx0XHRcdFx0XHRcdF8uZWFjaChpbmJveF91c2VycywgZnVuY3Rpb24gKHVfaWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1X2lkKVxuXHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWVcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGV4aXN0cyA9IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXG5cblx0XHRcdFx0aWYgKCFleGlzdHMpXG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKClcblx0XHRcdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IHVzZXJJZFxuXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHQuX2lkXG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHQkc2V0OiBzZXRfb2JqXG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHJldHVybiB0cnVlXG5cdH1cblxuXG59KSIsIk1ldGVvci5tZXRob2RzKHtcbiAgICBjZnNfaW5zdGFuY2VzX3JlbW92ZTogZnVuY3Rpb24gKGZpbGVfaWQpIHtcbiAgICAgICAgY2hlY2soZmlsZV9pZCwgU3RyaW5nKTtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy5yZW1vdmUoZmlsZV9pZCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50OiBmdW5jdGlvbiAoZmlsZV9pZCkge1xuICAgICAgICBjaGVjayhmaWxlX2lkLCBTdHJpbmcpO1xuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGNmc19pbnN0YW5jZXNfbG9jazogZnVuY3Rpb24gKGZpbGVfaWQsIHVzZXJfaWQsIHVzZXJfbmFtZSkge1xuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnknOiB1c2VyX2lkLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSc6IHVzZXJfbmFtZSxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX3RpbWUnOiBuZXcgRGF0ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgY2ZzX2luc3RhbmNlc191bmxvY2s6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XG4gICAgICAgIGNmcy5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogZmlsZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAkdW5zZXQ6IHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5JzogJycsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieV9uYW1lJzogJycsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF90aW1lJzogJydcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiBmdW5jdGlvbiAoc3BhY2VJZCwgY2ZzUmVjb3JkSWRzKSB7XG4gICAgICAgIGlmICghdGhpcy51c2VySWQpXG4gICAgICAgICAgICByZXR1cm4gXCLkuI3nrKblkIjmiafooYzmnaHku7ZcIlxuXG4gICAgICAgIGlmIChNZXRlb3IudXNlcnMuZmluZCh7XG4gICAgICAgICAgICAgICAgX2lkOiB0aGlzLnVzZXJJZCxcbiAgICAgICAgICAgICAgICBpc19jbG91ZGFkbWluOiB0cnVlXG4gICAgICAgICAgICB9KS5jb3VudCgpIDwgMSlcbiAgICAgICAgICAgIHJldHVybiBcIuS4jeespuWQiOaJp+ihjOadoeS7tlwiXG5cbiAgICAgICAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcblxuICAgICAgICB2YXIgc3RvcmUgPSBcImluc3RhbmNlc1wiO1xuICAgICAgICB2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xuICAgICAgICB2YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbiAgICAgICAgdmFyIG1rZGlycCA9IHJlcXVpcmUoJ21rZGlycCcpO1xuICAgICAgICB2YXIgcGF0aG5hbWUgPSBwYXRoLmpvaW4oX19tZXRlb3JfYm9vdHN0cmFwX18uc2VydmVyRGlyLCAnLi4vLi4vLi4vY2ZzL3NwYWNlSW5zdGFuY2VBdHRhY2htZW50cycpO1xuICAgICAgICAvLyBTZXQgYWJzb2x1dGUgcGF0aFxuICAgICAgICB2YXIgYWJzb2x1dGVQYXRoID0gcGF0aC5yZXNvbHZlKHBhdGhuYW1lKTtcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBwYXRoIGV4aXN0c1xuICAgICAgICBta2RpcnAuc3luYyhhYnNvbHV0ZVBhdGgpO1xuICAgICAgICBjb25zb2xlLmxvZygnYWJzb2x1dGVQYXRoOiAnLCBhYnNvbHV0ZVBhdGgpO1xuICAgICAgICBjb25zb2xlLnRpbWUoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2snKTtcbiAgICAgICAgdmFyIHF1ZXJ5ID0ge1xuICAgICAgICAgICAgJ21ldGFkYXRhLnNwYWNlJzogc3BhY2VJZFxuICAgICAgICB9XG4gICAgICAgIGlmIChjZnNSZWNvcmRJZHMpIHtcbiAgICAgICAgICAgIHF1ZXJ5Ll9pZCA9IHtcbiAgICAgICAgICAgICAgICAkaW46IGNmc1JlY29yZElkc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMgPSBbXTtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy5maW5kKHF1ZXJ5KS5mb3JFYWNoKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9IHN0b3JlICsgJy0nICsgYy5faWQgKyAnLScgKyBjLm5hbWUoKTtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVBhdGggPSBwYXRoLmpvaW4oYWJzb2x1dGVQYXRoLCBmaWxlTmFtZSk7XG4gICAgICAgICAgICAgICAgTWV0ZW9yLndyYXBBc3luYyhmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3cml0ZXIgPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShmaWxlUGF0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIub24oJ2ZpbmlzaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gYy5jcmVhdGVSZWFkU3RyZWFtKHN0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEZhaWxlZFJlY29yZElkcy5wdXNoKGMuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiAnLCBjLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnBpcGUod3JpdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSgpXG5cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkRmFpbGVkUmVjb3JkSWRzOiAnKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS50aW1lRW5kKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrJyk7XG5cbiAgICAgICAgcmV0dXJuIGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzO1xuICAgIH1cbn0pIiwiTWV0ZW9yLm1ldGhvZHNcblx0c2V0X2FwcHJvdmVfaGF2ZV9yZWFkOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkKSAtPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRzZWxmID0gdGhpc1xuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCwgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWQgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcblxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcblx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXG5cdFx0XHRzZXRPYmogPSB7XG5cdFx0XHRcdG1vZGlmaWVkOiBuZXcgRGF0ZSxcblx0XHRcdFx0bW9kaWZpZWRfYnk6IHNlbGYudXNlcklkXG5cdFx0XHR9XG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZCAmJiAhYXBwcm92ZS5pc19yZWFkXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmlzX3JlYWRcIl0gPSB0cnVlXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShzZXRPYmopXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogc2V0T2JqXG5cdFx0XHRcdH0pXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdGNoYW5nZV9hcHByb3ZlX2luZm86IChpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGRlc2NyaXB0aW9uLCBmaW5pc2hfZGF0ZSkgLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXHRcdGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZylcblx0XHRjaGVjayh0cmFjZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZylcblx0XHRjaGVjayhmaW5pc2hfZGF0ZSwgRGF0ZSlcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXG5cdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxuXHRcdFx0c2V0T2JqID0ge31cblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb25cblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uZmluaXNoX2RhdGVcIl0gPSBmaW5pc2hfZGF0ZVxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5jb3N0X3RpbWVcIl0gPSBuZXcgRGF0ZSgpIC0gYXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShzZXRPYmopXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogc2V0T2JqXG5cdFx0XHRcdH0pXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cdHVwZGF0ZV9hcHByb3ZlX3NpZ246IChpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIHNpZ25fZmllbGRfY29kZSwgZGVzY3JpcHRpb24sIHNpZ25fdHlwZSwgbGFzdFNpZ25BcHByb3ZlKS0+XG5cdFx0Y2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHRyYWNlSWQsIFN0cmluZylcblx0XHRjaGVjayhhcHByb3ZlSWQsIFN0cmluZylcblx0XHRjaGVjayhzaWduX2ZpZWxkX2NvZGUsIFN0cmluZylcblx0XHRjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKVxuXG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdHRyaW1EZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnRyaW0oKVxuXG5cdFx0c2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy53b3JrZmxvdz8uc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uXG5cblx0XHRzZXNzaW9uX3VzZXJJZCA9IHRoaXMudXNlcklkXG5cblx0XHRpZiBsYXN0U2lnbkFwcHJvdmVcblx0XHRcdGlmIE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud29ya2Zsb3c/LmtlZXBMYXN0U2lnbkFwcHJvdmVEZXNjcmlwdGlvbiAhPSBmYWxzZVxuXHRcdFx0XHRpZiBsYXN0U2lnbkFwcHJvdmUuY3VzdG9tX3NpZ25fc2hvd1xuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCwgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWQgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcblxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcblxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cblx0XHRcdHVwT2JqID0ge31cblx0XHRcdGN1cnJlbnRBcHByb3ZlRGVzY3JpcHRpb24gPSAnJ1xuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWRcblx0XHRcdFx0XHRjdXJyZW50QXBwcm92ZURlc2NyaXB0aW9uID0gYXBwcm92ZS5kZXNjcmlwdGlvblxuXHRcdFx0XHRcdGlmIHNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9maWVsZF9jb2RlXCJdID0gc2lnbl9maWVsZF9jb2RlXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvblxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IGlmIHRyaW1EZXNjcmlwdGlvbiB8fCBzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24gdGhlbiB0cnVlIGVsc2UgZmFsc2Vcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKClcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5tb2RpZmllZF9ieVwiXSA9IHNlc3Npb25fdXNlcklkXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxuXG5cdFx0XHRpZiBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndvcmtmbG93Py5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24gPT0gZmFsc2UgJiYgKCEhY3VycmVudEFwcHJvdmVEZXNjcmlwdGlvbiAhPSAhIXRyaW1EZXNjcmlwdGlvbiB8fCBzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24pXG5cdFx0XHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzXCI6IDEgfSB9KVxuXHRcdFx0XHR0cmFjZXMgPSBpbnMudHJhY2VzXG5cdFx0XHRcdGN1cnJlbnRUcmFjZSA9IF8uZmluZCB0cmFjZXMsICh0KSAtPlxuXHRcdFx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZUlkXG5cdFx0XHRcdGN1cnJlbnRTdGVwID0gY3VycmVudFRyYWNlLnN0ZXBcblx0XHRcdFx0dHJhY2VzLmZvckVhY2ggKHQsIHRJZHgpIC0+XG5cdFx0XHRcdFx0aWYgdC5zdGVwID09IGN1cnJlbnRTdGVwXG5cdFx0XHRcdFx0XHR0Py5hcHByb3Zlcy5mb3JFYWNoIChhcHByLCBhSWR4KSAtPlxuXHRcdFx0XHRcdFx0XHRpZiBhcHByLmhhbmRsZXIgPT0gc2Vzc2lvbl91c2VySWQgJiYgYXBwci5pc19maW5pc2hlZCAmJiBhcHByLl9pZCAhPSBhcHByb3ZlSWQgJiYgIV8uaGFzKGFwcHIsICdjdXN0b21fc2lnbl9zaG93Jylcblx0XHRcdFx0XHRcdFx0XHRpZiAodHJpbURlc2NyaXB0aW9uICYmIGFwcHIuc2lnbl9zaG93ID09IHRydWUgJiYgKHNpZ25fZmllbGRfY29kZSA9PSBcIlwiIHx8ICFhcHByLnNpZ25fZmllbGRfY29kZSB8fCBzaWduX2ZpZWxkX2NvZGUgPT0gYXBwci5zaWduX2ZpZWxkX2NvZGUpKSB8fCBzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb25cblx0XHRcdFx0XHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiN7dElkeH0uYXBwcm92ZXMuI3thSWR4fS5zaWduX3Nob3dcIl0gPSBmYWxzZVxuXHRcdFx0XHRcdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuI3t0SWR4fS5hcHByb3Zlcy4je2FJZHh9LmtlZXBMYXN0U2lnbkFwcHJvdmVEZXNjcmlwdGlvblwiXSA9IGFwcHJvdmVJZFxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgYXBwci5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24gPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4je3RJZHh9LmFwcHJvdmVzLiN7YUlkeH0uc2lnbl9zaG93XCJdID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuI3t0SWR4fS5hcHByb3Zlcy4je2FJZHh9LmtlZXBMYXN0U2lnbkFwcHJvdmVEZXNjcmlwdGlvblwiXSA9IG51bGxcblxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eSh1cE9iailcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHQkc2V0OiB1cE9ialxuXHRcdFx0XHR9KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXG5cdHVwZGF0ZV9zaWduX3Nob3c6IChvYmpzLCBteUFwcHJvdmVfaWQpIC0+XG5cdFx0b2Jqcy5mb3JFYWNoIChvYmosIGluZGV4KSAtPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogb2JqLmluc3RhbmNlLCBcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cdFx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXG5cdFx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXG5cdFx0XHRcdHNldE9iaiA9IHt9XG5cdFx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cblx0XHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBvYmouX2lkXG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvd1xuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmN1c3RvbV9zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93XG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxuXG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gbXlBcHByb3ZlX2lkXG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxuXG5cdFx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0X2lkOiBvYmouaW5zdGFuY2UsXG5cdFx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlXG5cdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0JHNldDogc2V0T2JqXG5cdFx0XHRcdFx0fSlcblxuXHRcdHJldHVybiB0cnVlXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHNldF9hcHByb3ZlX2hhdmVfcmVhZDogZnVuY3Rpb24oaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHNlbGYsIHNldE9iaiwgdHJhY2U7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZWxmID0gdGhpcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgc2V0T2JqID0ge1xuICAgICAgICBtb2RpZmllZDogbmV3IERhdGUsXG4gICAgICAgIG1vZGlmaWVkX2J5OiBzZWxmLnVzZXJJZFxuICAgICAgfTtcbiAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gYXBwcm92ZUlkICYmICFhcHByb3ZlLmlzX3JlYWQpIHtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmlzX3JlYWRcIl0gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgY2hhbmdlX2FwcHJvdmVfaW5mbzogZnVuY3Rpb24oaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBkZXNjcmlwdGlvbiwgZmluaXNoX2RhdGUpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgc2V0T2JqLCB0cmFjZTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2sodHJhY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhhcHByb3ZlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XG4gICAgY2hlY2soZmluaXNoX2RhdGUsIERhdGUpO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgdHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF07XG4gICAgICBzZXRPYmogPSB7fTtcbiAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uO1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuZmluaXNoX2RhdGVcIl0gPSBmaW5pc2hfZGF0ZTtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmNvc3RfdGltZVwiXSA9IG5ldyBEYXRlKCkgLSBhcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfYXBwcm92ZV9zaWduOiBmdW5jdGlvbihpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIHNpZ25fZmllbGRfY29kZSwgZGVzY3JpcHRpb24sIHNpZ25fdHlwZSwgbGFzdFNpZ25BcHByb3ZlKSB7XG4gICAgdmFyIGN1cnJlbnRBcHByb3ZlRGVzY3JpcHRpb24sIGN1cnJlbnRTdGVwLCBjdXJyZW50VHJhY2UsIGlucywgaW5zdGFuY2UsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgc2Vzc2lvbl91c2VySWQsIHNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbiwgdHJhY2UsIHRyYWNlcywgdHJpbURlc2NyaXB0aW9uLCB1cE9iajtcbiAgICBjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHRyYWNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHNpZ25fZmllbGRfY29kZSwgU3RyaW5nKTtcbiAgICBjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyaW1EZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uLnRyaW0oKTtcbiAgICBzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24gPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndvcmtmbG93KSAhPSBudWxsID8gcmVmLnNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbiA6IHZvaWQgMDtcbiAgICBzZXNzaW9uX3VzZXJJZCA9IHRoaXMudXNlcklkO1xuICAgIGlmIChsYXN0U2lnbkFwcHJvdmUpIHtcbiAgICAgIGlmICgoKHJlZjEgPSBNZXRlb3Iuc2V0dGluZ3NbXCJwdWJsaWNcIl0ud29ya2Zsb3cpICE9IG51bGwgPyByZWYxLmtlZXBMYXN0U2lnbkFwcHJvdmVEZXNjcmlwdGlvbiA6IHZvaWQgMCkgIT09IGZhbHNlKSB7XG4gICAgICAgIGlmIChsYXN0U2lnbkFwcHJvdmUuY3VzdG9tX3NpZ25fc2hvdykge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYyID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmMi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgdHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF07XG4gICAgICB1cE9iaiA9IHt9O1xuICAgICAgY3VycmVudEFwcHJvdmVEZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBjdXJyZW50QXBwcm92ZURlc2NyaXB0aW9uID0gYXBwcm92ZS5kZXNjcmlwdGlvbjtcbiAgICAgICAgICBpZiAoc2lnbl9maWVsZF9jb2RlKSB7XG4gICAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9maWVsZF9jb2RlXCJdID0gc2lnbl9maWVsZF9jb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9zaG93XCJdID0gdHJpbURlc2NyaXB0aW9uIHx8IHNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbiA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZF9ieVwiXSA9IHNlc3Npb25fdXNlcklkO1xuICAgICAgICAgIHJldHVybiB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKChyZWYzID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndvcmtmbG93KSAhPSBudWxsID8gcmVmMy5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24gOiB2b2lkIDApID09PSBmYWxzZSAmJiAoISFjdXJyZW50QXBwcm92ZURlc2NyaXB0aW9uICE9PSAhIXRyaW1EZXNjcmlwdGlvbiB8fCBzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24pKSB7XG4gICAgICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgXCJ0cmFjZXNcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNlcyA9IGlucy50cmFjZXM7XG4gICAgICAgIGN1cnJlbnRUcmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gdC5faWQgPT09IHRyYWNlSWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBjdXJyZW50U3RlcCA9IGN1cnJlbnRUcmFjZS5zdGVwO1xuICAgICAgICB0cmFjZXMuZm9yRWFjaChmdW5jdGlvbih0LCB0SWR4KSB7XG4gICAgICAgICAgaWYgKHQuc3RlcCA9PT0gY3VycmVudFN0ZXApIHtcbiAgICAgICAgICAgIHJldHVybiB0ICE9IG51bGwgPyB0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwciwgYUlkeCkge1xuICAgICAgICAgICAgICBpZiAoYXBwci5oYW5kbGVyID09PSBzZXNzaW9uX3VzZXJJZCAmJiBhcHByLmlzX2ZpbmlzaGVkICYmIGFwcHIuX2lkICE9PSBhcHByb3ZlSWQgJiYgIV8uaGFzKGFwcHIsICdjdXN0b21fc2lnbl9zaG93JykpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHRyaW1EZXNjcmlwdGlvbiAmJiBhcHByLnNpZ25fc2hvdyA9PT0gdHJ1ZSAmJiAoc2lnbl9maWVsZF9jb2RlID09PSBcIlwiIHx8ICFhcHByLnNpZ25fZmllbGRfY29kZSB8fCBzaWduX2ZpZWxkX2NvZGUgPT09IGFwcHIuc2lnbl9maWVsZF9jb2RlKSkgfHwgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICB1cE9ialtcInRyYWNlcy5cIiArIHRJZHggKyBcIi5hcHByb3Zlcy5cIiArIGFJZHggKyBcIi5zaWduX3Nob3dcIl0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB1cE9ialtcInRyYWNlcy5cIiArIHRJZHggKyBcIi5hcHByb3Zlcy5cIiArIGFJZHggKyBcIi5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb25cIl0gPSBhcHByb3ZlSWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByLmtlZXBMYXN0U2lnbkFwcHJvdmVEZXNjcmlwdGlvbiA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICB1cE9ialtcInRyYWNlcy5cIiArIHRJZHggKyBcIi5hcHByb3Zlcy5cIiArIGFJZHggKyBcIi5zaWduX3Nob3dcIl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHVwT2JqW1widHJhY2VzLlwiICsgdElkeCArIFwiLmFwcHJvdmVzLlwiICsgYUlkeCArIFwiLmtlZXBMYXN0U2lnbkFwcHJvdmVEZXNjcmlwdGlvblwiXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzRW1wdHkodXBPYmopKSB7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogdXBPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZV9zaWduX3Nob3c6IGZ1bmN0aW9uKG9ianMsIG15QXBwcm92ZV9pZCkge1xuICAgIG9ianMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICB2YXIgaW5zdGFuY2UsIHJlZiwgc2V0T2JqLCB0cmFjZTtcbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG9iai5pbnN0YW5jZSxcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgICBzZXRPYmogPSB7fTtcbiAgICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IG9iai5faWQpIHtcbiAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvdztcbiAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuY3VzdG9tX3NpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3c7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gbXlBcHByb3ZlX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IG9iai5pbnN0YW5jZSxcbiAgICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGluc3RhbmNlX3JldHVybjogKGFwcHJvdmUsIHJlYXNvbiktPlxuXHRcdGNoZWNrKGFwcHJvdmUsIE9iamVjdClcblxuXHRcdGN1cnJlbnRfdXNlciA9IHRoaXMudXNlcklkXG5cdFx0aW5zdGFuY2VfaWQgPSBhcHByb3ZlLmluc3RhbmNlXG5cblx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdHNwYWNlX2lkID0gaW5zLnNwYWNlXG5cblx0XHQjIC0g5b6F5a6h5qC4566xXG5cdFx0aWYgaW5zLnN0YXRlIGlzbnQgXCJwZW5kaW5nXCIgb3IgIWlucy5pbmJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0IyAtIOaWh+S7tuS4jeaYr+S8oOmYhVxuXHRcdGlmIGFwcHJvdmUudHlwZSBpcyBcImNjXCIgYW5kIGlucy5jY191c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0IyAtIOetvuaguOWOhueoi+S4reW9k+WJjeatpemqpOS4iuS4gOatpemqpOS4jeaYr+S8muetvlxuXHRcdGlmIGlucy50cmFjZXMubGVuZ3RoIDwgMlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KVxuXHRcdHByZV90cmFjZSA9IGlucy50cmFjZXNbaW5zLnRyYWNlcy5sZW5ndGggLSAyXVxuXHRcdHByZV9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgcHJlX3RyYWNlLnN0ZXApXG5cdFx0aWYgcHJlX3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblxuXHRcdCMgLSDlvZPliY3mraXpqqTkuLrloavlhpnmiJbogIXlrqHmiblcblx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpXG5cdFx0Y3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgbGFzdF90cmFjZS5zdGVwKVxuXHRcdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXNudCBcInN1Ym1pdFwiIGFuZCBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJzaWduXCIgYW5kIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXNudCBcImNvdW50ZXJTaWduXCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cblx0XHQjIC0g5Y+C5pWwYXBwcm92ZeS4rXRyYWNl5LiO5b2T5YmN6I635Y+W55qEdHJhY2XmmK/lkKbljLnphY1cblx0XHRpZiBhcHByb3ZlLnRyYWNlIGlzbnQgbGFzdF90cmFjZS5faWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cblx0XHRuZXdfaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2ggcHJlX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0aWYgKCFhLnR5cGUgb3IgYS50eXBlIGlzIFwiZHJhZnRcIiBvciBhLnR5cGUgaXMgXCJyZWFzc2lnblwiKSBhbmQgKCFhLmp1ZGdlIG9yIGEuanVkZ2UgaXMgXCJzdWJtaXR0ZWRcIiBvciBhLmp1ZGdlIGlzIFwiYXBwcm92ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVqZWN0ZWRcIilcblx0XHRcdFx0bmV3X2luYm94X3VzZXJzLnB1c2goYS51c2VyKVxuXG5cdFx0aWYgXy5pc0VtcHR5KG5ld19pbmJveF91c2Vycylcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw5LiL5LiA5q2l5aSE55CG5Lq677yM6YCA5Zue5aSx6LSlXCIpXG5cblx0XHR0cmFjZXMgPSBpbnMudHJhY2VzXG5cblx0XHRhcHByb3ZlX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcyB8fCB7fSwgY3VycmVudF9zdGVwLnBlcm1pc3Npb25zLCBpbnMuZm9ybSwgaW5zLmZvcm1fdmVyc2lvbilcblxuXHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdHJlc3RfY291bnRlcl91c2VycyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaCB0cmFjZXMsICh0KS0+XG5cdFx0XHRpZiB0Ll9pZCBpcyBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0XHRpZiBub3QgdC5hcHByb3Zlc1xuXHRcdFx0XHRcdHQuYXBwcm92ZXMgPSBuZXcgQXJyYXlcblx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhLCBpZHgpLT5cblx0XHRcdFx0XHRpZiAoIWEudHlwZSBvciBhLnR5cGUgaXMgXCJyZWFzc2lnblwiKSBhbmQgKCFhLmp1ZGdlIG9yIGEuanVkZ2UgaXMgXCJzdWJtaXR0ZWRcIiBvciBhLmp1ZGdlIGlzIFwiYXBwcm92ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVqZWN0ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVhZGVkXCIpIGFuZCBhLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbm93XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbm93XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2Vycm9yJ10gPSBmYWxzZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbm93IC0gYS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnZhbHVlcyddID0gYXBwcm92ZV92YWx1ZXNcblx0XHRcdFx0XHRcdGlmIGEuaGFuZGxlciBpcyBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJyZXR1cm5lZFwiXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZGVzY3JpcHRpb24nXSA9IHJlYXNvblxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRyZXN0X2NvdW50ZXJfdXNlcnMucHVzaCBhLmhhbmRsZXJcblxuXHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuaXNfZmluaXNoZWQnXSA9IHRydWVcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5maW5pc2hfZGF0ZSddID0gdHJ1ZVxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmp1ZGdlJ10gPSBcInJldHVybmVkXCJcblxuXHRcdGlucy52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zLnZhbHVlcyB8fCB7fSksIGFwcHJvdmVfdmFsdWVzKVxuXG5cdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxuXHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxuXHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRuZXdUcmFjZS5zdGVwID0gcHJlX3RyYWNlLnN0ZXBcblx0XHRuZXdUcmFjZS5uYW1lID0gcHJlX3RyYWNlLm5hbWVcblx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XG5cdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJlX3N0ZXAudGltZW91dF9ob3Vycywgc3BhY2VfaWQpXG5cdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxuXHRcdF8uZWFjaCBuZXdfaW5ib3hfdXNlcnMsIChuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KS0+XG5cdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XG5cdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZFxuXHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZFxuXG5cdFx0XHR1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7ZmllbGRzOiB7bmFtZTogMX19KVxuXHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZVxuXG5cdFx0XHRoYW5kbGVyX2lkID0gbmV4dF9zdGVwX3VzZXJfaWRcblx0XHRcdGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mb1xuXHRcdFx0YWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZClcblx0XHRcdGlmIGFnZW50XG5cdFx0XHRcdG5ld19pbmJveF91c2Vyc1tpZHhdID0gYWdlbnRcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnRcblxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZFxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXG5cdFx0XHRuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKVxuXHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xuXHRcdFx0bmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxuXG5cdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGlucy52YWx1ZXMsIG5ld0FwcHJvdmUpXG5cdFx0XHRuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXG5cblx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXdfaW5ib3hfdXNlcnNcblx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxuXG5cdFx0aW5zLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcblx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGlucy5vdXRib3hfdXNlcnMpXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXG5cdFx0c2V0T2JqLnZhbHVlcyA9IGlucy52YWx1ZXNcblxuXHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZV90cmFjZS5uYW1lXG5cblx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZCwgJ3RyYWNlcy5faWQnOiBsYXN0X3RyYWNlLl9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXHRcdGIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRwdXNoOiB7dHJhY2VzOiBuZXdUcmFjZX19KVxuXHRcdGlmIHIgJiYgYlxuXHRcdFx0IyDmlrBpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZXR1cm5fcGVuZGluZ19pbmJveFwiLCBpbnN0YW5jZSwgcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbylcblx0XHRcdCMg5aaC5p6c5piv5Lya562+5YiZ57uZ5Lya562+5pyq5o+Q5Lqk55qE5Lq65Y+R6YCBcHVzaFxuXHRcdFx0Xy5lYWNoIHJlc3RfY291bnRlcl91c2VycywgKHVzZXJfaWQpLT5cblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXG5cdFx0cmV0dXJuIHRydWUiLCJNZXRlb3IubWV0aG9kcyh7XG4gIGluc3RhbmNlX3JldHVybjogZnVuY3Rpb24oYXBwcm92ZSwgcmVhc29uKSB7XG4gICAgdmFyIGFwcHJvdmVfdmFsdWVzLCBiLCBjdXJyZW50X3N0ZXAsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGZsb3csIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBuZXdUcmFjZSwgbmV3X2luYm94X3VzZXJzLCBub3csIHByZV9zdGVwLCBwcmVfdHJhY2UsIHIsIHJlc3RfY291bnRlcl91c2Vycywgc2V0T2JqLCBzcGFjZV9pZCwgdHJhY2VzO1xuICAgIGNoZWNrKGFwcHJvdmUsIE9iamVjdCk7XG4gICAgY3VycmVudF91c2VyID0gdGhpcy51c2VySWQ7XG4gICAgaW5zdGFuY2VfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xuICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgIHNwYWNlX2lkID0gaW5zLnNwYWNlO1xuICAgIGlmIChpbnMuc3RhdGUgIT09IFwicGVuZGluZ1wiIHx8ICFpbnMuaW5ib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlLnR5cGUgPT09IFwiY2NcIiAmJiBpbnMuY2NfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGlmIChpbnMudHJhY2VzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KTtcbiAgICBwcmVfdHJhY2UgPSBpbnMudHJhY2VzW2lucy50cmFjZXMubGVuZ3RoIC0gMl07XG4gICAgcHJlX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBwcmVfdHJhY2Uuc3RlcCk7XG4gICAgaWYgKHByZV9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgbGFzdF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKTtcbiAgICBjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcInN1Ym1pdFwiICYmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgIT09IFwic2lnblwiICYmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgIT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlLnRyYWNlICE9PSBsYXN0X3RyYWNlLl9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIG5ld19pbmJveF91c2VycyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2gocHJlX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICBpZiAoKCFhLnR5cGUgfHwgYS50eXBlID09PSBcImRyYWZ0XCIgfHwgYS50eXBlID09PSBcInJlYXNzaWduXCIpICYmICghYS5qdWRnZSB8fCBhLmp1ZGdlID09PSBcInN1Ym1pdHRlZFwiIHx8IGEuanVkZ2UgPT09IFwiYXBwcm92ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlamVjdGVkXCIpKSB7XG4gICAgICAgIHJldHVybiBuZXdfaW5ib3hfdXNlcnMucHVzaChhLnVzZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChfLmlzRW1wdHkobmV3X2luYm94X3VzZXJzKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDkuIvkuIDmraXlpITnkIbkurrvvIzpgIDlm57lpLHotKVcIik7XG4gICAgfVxuICAgIHRyYWNlcyA9IGlucy50cmFjZXM7XG4gICAgYXBwcm92ZV92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldEFwcHJvdmVWYWx1ZXMoYXBwcm92ZS52YWx1ZXMgfHwge30sIGN1cnJlbnRfc3RlcC5wZXJtaXNzaW9ucywgaW5zLmZvcm0sIGlucy5mb3JtX3ZlcnNpb24pO1xuICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgbm93ID0gbmV3IERhdGU7XG4gICAgcmVzdF9jb3VudGVyX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGlmICh0Ll9pZCA9PT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgICAgaWYgKCF0LmFwcHJvdmVzKSB7XG4gICAgICAgICAgdC5hcHByb3ZlcyA9IG5ldyBBcnJheTtcbiAgICAgICAgfVxuICAgICAgICBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSwgaWR4KSB7XG4gICAgICAgICAgaWYgKCghYS50eXBlIHx8IGEudHlwZSA9PT0gXCJyZWFzc2lnblwiKSAmJiAoIWEuanVkZ2UgfHwgYS5qdWRnZSA9PT0gXCJzdWJtaXR0ZWRcIiB8fCBhLmp1ZGdlID09PSBcImFwcHJvdmVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWplY3RlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVhZGVkXCIpICYmIGEuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5vdztcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBub3c7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2Vycm9yJ10gPSBmYWxzZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbm93IC0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy52YWx1ZXMnXSA9IGFwcHJvdmVfdmFsdWVzO1xuICAgICAgICAgICAgaWYgKGEuaGFuZGxlciA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwicmV0dXJuZWRcIjtcbiAgICAgICAgICAgICAgcmV0dXJuIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZGVzY3JpcHRpb24nXSA9IHJlYXNvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN0X2NvdW50ZXJfdXNlcnMucHVzaChhLmhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldE9ialsndHJhY2VzLiQuaXNfZmluaXNoZWQnXSA9IHRydWU7XG4gICAgICAgIHNldE9ialsndHJhY2VzLiQuZmluaXNoX2RhdGUnXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBzZXRPYmpbJ3RyYWNlcy4kLmp1ZGdlJ10gPSBcInJldHVybmVkXCI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaW5zLnZhbHVlcyA9IF8uZXh0ZW5kKGlucy52YWx1ZXMgfHwge30sIGFwcHJvdmVfdmFsdWVzKTtcbiAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICBuZXdUcmFjZS5zdGVwID0gcHJlX3RyYWNlLnN0ZXA7XG4gICAgbmV3VHJhY2UubmFtZSA9IHByZV90cmFjZS5uYW1lO1xuICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJlX3N0ZXAudGltZW91dF9ob3Vycywgc3BhY2VfaWQpO1xuICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgXy5lYWNoKG5ld19pbmJveF91c2VycywgZnVuY3Rpb24obmV4dF9zdGVwX3VzZXJfaWQsIGlkeCkge1xuICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld0FwcHJvdmUsIG5leHRfc3RlcF9zcGFjZV91c2VyLCBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbywgdXNlcl9pbmZvO1xuICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgbmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuICAgICAgaGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgaGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvO1xuICAgICAgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZCk7XG4gICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgbmV3X2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudDtcbiAgICAgICAgaGFuZGxlcl9pZCA9IGFnZW50O1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnQ7XG4gICAgICB9XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgIG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpO1xuICAgICAgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGlucy52YWx1ZXMsIG5ld0FwcHJvdmUpO1xuICAgICAgcmV0dXJuIG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgfSk7XG4gICAgc2V0T2JqLmluYm94X3VzZXJzID0gbmV3X2luYm94X3VzZXJzO1xuICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgIGlucy5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zLm91dGJveF91c2Vycyk7XG4gICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICBzZXRPYmoudmFsdWVzID0gaW5zLnZhbHVlcztcbiAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmVfdHJhY2UubmFtZTtcbiAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgJ3RyYWNlcy5faWQnOiBsYXN0X3RyYWNlLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHNldE9ialxuICAgIH0pO1xuICAgIGIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICAkcHVzaDoge1xuICAgICAgICB0cmFjZXM6IG5ld1RyYWNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHIgJiYgYikge1xuICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcik7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJldHVybl9wZW5kaW5nX2luYm94XCIsIGluc3RhbmNlLCByZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIF8uZWFjaChyZXN0X2NvdW50ZXJfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRpbnN0YW5jZV9yZW1pbmQ6IChyZW1pbmRfdXNlcnMsIHJlbWluZF9jb3VudCwgcmVtaW5kX2RlYWRsaW5lLCBpbnN0YW5jZV9pZCwgYWN0aW9uX3R5cGVzLCB0cmFjZV9pZCktPlxuXHRcdGNoZWNrIHJlbWluZF91c2VycywgQXJyYXlcblx0XHRjaGVjayByZW1pbmRfY291bnQsIE1hdGNoLk9uZU9mKCdzaW5nbGUnLCAnbXVsdGknKVxuXHRcdGNoZWNrIHJlbWluZF9kZWFkbGluZSwgRGF0ZVxuXHRcdGNoZWNrIGluc3RhbmNlX2lkLCBTdHJpbmdcblx0XHRjaGVjayBhY3Rpb25fdHlwZXMsIEFycmF5XG5cdFx0Y2hlY2sgdHJhY2VfaWQsIFN0cmluZ1xuXG5cdFx0Y3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWRcblx0XHRsYXN0X3JlbWluZF91c2VycyA9IG5ldyBBcnJheVxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge25hbWU6IDEsIHRyYWNlczogMSwgdmFsdWVzOiAxLCBzcGFjZTogMX19KVxuXHRcdGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYWRtaW4nKVxuXHRcdFx0aWYgcmVtaW5kX2NvdW50IGlzICdzaW5nbGUnXG5cdFx0XHRcdF8uZWFjaCBpbnMudHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxuXHRcdFx0ZWxzZSBpZiByZW1pbmRfY291bnQgaXMgJ211bHRpJ1xuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0XHRwcmlvcml0eSA9IGlucy52YWx1ZXMucHJpb3JpdHlcblx0XHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XG5cdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcCktPlxuXHRcdFx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXG5cdFx0XHRcdFx0XHRcdGFwLm1hbnVhbF9kZWFkbGluZSA9IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHQjIO+8iDHvvInigJzmma7pgJrigJ3vvJrlpoLkuInkuKrlt6XkvZzml6XlhoXmnKrlpITnkIbvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrkuozml6XlhoXvvJtcblx0XHRcdFx0XHRcdFx0IyAg5aaC5LqM5pel5ZCO5LuN5pyq5aSE55CG77yM57O757uf5q+P5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77yM5Yqe57uT5pe26ZmQ5Li65LiA5pel5YaF44CCXG5cdFx0XHRcdFx0XHRcdGlmIHByaW9yaXR5IGlzIFwi5pmu6YCaXCIgb3Igbm90IHByaW9yaXR5XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdCMg77yIMu+8ieKAnOWKnuaWh+KAne+8muWmguS4gOS4quW3peS9nOaXpeWGheacquWkhOeQhu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xuXHRcdFx0XHRcdFx0XHQjICDlpoLkuIDml6XlkI7ku43mnKrlpITnkIbvvIzns7vnu5/mr4/lpKnoh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuI3lj5jvvJtcblx0XHRcdFx0XHRcdFx0IyAg6Led56a75Yqe57uT5pe26ZmQ5Li65Y2K5pel5pe277yM5YiZ5q+P5Y2K5Liq5bel5L2c5pel5o+Q6YaS5Zub5qyh77yb6LaF6L+H5Yqe57uT5pe26ZmQ5ZCO5LuN54S25oyJ54Wn5q+P5Y2K5pel5Zub5qyh5o+Q6YaS44CCXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLlip7mlodcIlxuXHRcdFx0XHRcdFx0XHRcdGlmIFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSAjIOi2hei/h+S6huWKnue7k+aXtumZkOaIluiAhei3neemu+WKnue7k+aXtumZkOWNiuaXpeWGhVxuXHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSlcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlID0gKGJhc2VfZGF0ZSktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKG5vdylcblxuXHRcdFx0XHRcdFx0XHQjIO+8iDPvvInigJzntKfmgKXigJ3vvJrlnKjlj5HpgIHnmoTlkIzml7bvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcblx0XHRcdFx0XHRcdFx0IyAg5aaC5Y2K5pel5YaF5LuN5pyq5aSE55CG77yM57O757uf5q+P5Y2K5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77yb6Led56a75Yqe57uT5pe26ZmQ5Li65Y2K5pel5pe277yM5q+P5Y2K5Liq5bel5L2c5pel5o+Q6YaS5Zub5qyh77yb6LaF6L+H5Yqe57uT5pe26ZmQ5ZCO5LuN54S25oyJ54Wn5q+P5Y2K5pel5Zub5qyh5o+Q6YaS44CCXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLntKfmgKVcIlxuXHRcdFx0XHRcdFx0XHRcdGlmIFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSAjIOi2hei/h+S6huWKnue7k+aXtumZkOaIluiAhei3neemu+WKnue7k+aXtumZkOWNiuaXpeWGhVxuXHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSlcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlID0gKGJhc2VfZGF0ZSktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKG5vdylcblxuXHRcdFx0XHRcdFx0XHQjIO+8iDTvvInigJznibnmgKXigJ3vvJrlnKjlj5HpgIHnmoTlkIzml7bvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcblx0XHRcdFx0XHRcdFx0IyAg5aaC5Y2K5pel5YaF5LuN5pyq5aSE55CG77yM57O757uf5q+P5Y2K5Liq5bel5L2c5pel5o+Q6YaS5Zub5qyh77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77yb6LaF6L+H5Yqe57uT5pe26ZmQ5ZCO5LuN54S25oyJ54Wn5q+P5Y2K5pel5Zub5qyh5o+Q6YaS44CCXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLnibnmgKVcIlxuXHRcdFx0XHRcdFx0XHRcdGlmIFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSAjIOi2hei/h+S6huWKnue7k+aXtumZkOaIluiAhei3neemu+WKnue7k+aXtumZkOWNiuaXpeWGhVxuXHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSlcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlID0gKGJhc2VfZGF0ZSktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKG5vdylcblxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KGxhc3RfcmVtaW5kX3VzZXJzKVxuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogeyd0cmFjZXMnOiBpbnMudHJhY2VzfX0pXG5cblx0XHRlbHNlIGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYXBwbGljYW50Jylcblx0XHRcdHRyYWNlID0gXy5maW5kIGlucy50cmFjZXMsICh0KS0+XG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyB0cmFjZV9pZFxuXHRcdFx0Xy5lYWNoIHRyYWNlLmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcblxuXHRcdGVsc2UgaWYgYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdjYycpXG5cdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cblx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcCktPlxuXHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlIGFuZCBhcC50eXBlIGlzICdjYycgYW5kIGFwLmZyb21fdXNlciBpcyBjdXJyZW50X3VzZXJfaWRcblx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxuXG5cdFx0dXVmbG93TWFuYWdlci5zZW5kUmVtaW5kU01TIGlucy5uYW1lLCByZW1pbmRfZGVhZGxpbmUsIGxhc3RfcmVtaW5kX3VzZXJzLCBpbnMuc3BhY2UsIGlucy5faWRcblxuXHRcdHJldHVybiB0cnVlXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGluc3RhbmNlX3JlbWluZDogZnVuY3Rpb24ocmVtaW5kX3VzZXJzLCByZW1pbmRfY291bnQsIHJlbWluZF9kZWFkbGluZSwgaW5zdGFuY2VfaWQsIGFjdGlvbl90eXBlcywgdHJhY2VfaWQpIHtcbiAgICB2YXIgY3VycmVudF91c2VyX2lkLCBpbnMsIGxhc3RfcmVtaW5kX3VzZXJzLCBub3csIHByaW9yaXR5LCB0cmFjZTtcbiAgICBjaGVjayhyZW1pbmRfdXNlcnMsIEFycmF5KTtcbiAgICBjaGVjayhyZW1pbmRfY291bnQsIE1hdGNoLk9uZU9mKCdzaW5nbGUnLCAnbXVsdGknKSk7XG4gICAgY2hlY2socmVtaW5kX2RlYWRsaW5lLCBEYXRlKTtcbiAgICBjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhhY3Rpb25fdHlwZXMsIEFycmF5KTtcbiAgICBjaGVjayh0cmFjZV9pZCwgU3RyaW5nKTtcbiAgICBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcbiAgICBsYXN0X3JlbWluZF91c2VycyA9IG5ldyBBcnJheTtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHRyYWNlczogMSxcbiAgICAgICAgdmFsdWVzOiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FkbWluJykpIHtcbiAgICAgIGlmIChyZW1pbmRfY291bnQgPT09ICdzaW5nbGUnKSB7XG4gICAgICAgIF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlbWluZF9jb3VudCA9PT0gJ211bHRpJykge1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgcHJpb3JpdHkgPSBpbnMudmFsdWVzLnByaW9yaXR5O1xuICAgICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICAgIHZhciBjYWN1bGF0ZV9kYXRlO1xuICAgICAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICAgICAgICBhcC5tYW51YWxfZGVhZGxpbmUgPSByZW1pbmRfZGVhZGxpbmU7XG4gICAgICAgICAgICAgIGlmIChwcmlvcml0eSA9PT0gXCLmma7pgJpcIiB8fCAhcHJpb3JpdHkpIHtcblxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIuWKnuaWh1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi57Sn5oClXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLnibnmgKVcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIV8uaXNFbXB0eShsYXN0X3JlbWluZF91c2VycykpIHtcbiAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICd0cmFjZXMnOiBpbnMudHJhY2VzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYXBwbGljYW50JykpIHtcbiAgICAgIHRyYWNlID0gXy5maW5kKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSB0cmFjZV9pZDtcbiAgICAgIH0pO1xuICAgICAgXy5lYWNoKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICBpZiAocmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpICYmIGFwLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdjYycpKSB7XG4gICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiBhcC50eXBlID09PSAnY2MnICYmIGFwLmZyb21fdXNlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuc2VuZFJlbWluZFNNUyhpbnMubmFtZSwgcmVtaW5kX2RlYWRsaW5lLCBsYXN0X3JlbWluZF91c2VycywgaW5zLnNwYWNlLCBpbnMuX2lkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRuZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kOiAoZGVhbF90eXBlLCBzdGVwX25hbWUsIHBhcmFtcykgLT5cblx0XHRjaGVjayBkZWFsX3R5cGUsIFN0cmluZ1xuXHRcdGNoZWNrIHN0ZXBfbmFtZSwgU3RyaW5nXG5cdFx0Y2hlY2sgcGFyYW1zLCBPYmplY3RcblxuXHRcdHN0ciA9IFwiXCJcblx0XHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdGhpcy51c2VySWQgfSwgeyBmaWVsZHM6IHsgbG9jYWxlOiAxIH0gfSlcblx0XHQj6K6+572u5b2T5YmN6K+t6KiA546v5aKDXG5cdFx0bGFuZyA9ICdlbidcblx0XHRpZiB1c2VyLmxvY2FsZSBpcyAnemgtY24nXG5cdFx0XHRsYW5nID0gJ3poLUNOJ1xuXG5cdFx0IyDmjIflrprlrqHmibnlspfkvY1cblx0XHRpZiBkZWFsX3R5cGUgaXMgJ2FwcGxpY2FudFJvbGUnXG5cdFx0XHRhcHByb3Zlcl9yb2xlcyA9IHBhcmFtcy5hcHByb3Zlcl9yb2xlc1xuXHRcdFx0cm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IHsgJGluOiBhcHByb3Zlcl9yb2xlcyB9IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KS5mZXRjaCgpXG5cdFx0XHRyb2xlc19uYW1lID0gXy5wbHVjayhyb2xlcywgJ25hbWUnKS50b1N0cmluZygpXG5cdFx0XHRzdHIgPSBUQVBpMThuLl9fICduZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmFwcGxpY2FudF9yb2xlJywgeyBzdGVwX25hbWU6IHN0ZXBfbmFtZSwgcm9sZV9uYW1lOiByb2xlc19uYW1lIH0sIGxhbmdcblxuXG5cdFx0cmV0dXJuIHN0clxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBuZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kOiBmdW5jdGlvbihkZWFsX3R5cGUsIHN0ZXBfbmFtZSwgcGFyYW1zKSB7XG4gICAgdmFyIGFwcHJvdmVyX3JvbGVzLCBsYW5nLCByb2xlcywgcm9sZXNfbmFtZSwgc3RyLCB1c2VyO1xuICAgIGNoZWNrKGRlYWxfdHlwZSwgU3RyaW5nKTtcbiAgICBjaGVjayhzdGVwX25hbWUsIFN0cmluZyk7XG4gICAgY2hlY2socGFyYW1zLCBPYmplY3QpO1xuICAgIHN0ciA9IFwiXCI7XG4gICAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgX2lkOiB0aGlzLnVzZXJJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBsb2NhbGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsYW5nID0gJ2VuJztcbiAgICBpZiAodXNlci5sb2NhbGUgPT09ICd6aC1jbicpIHtcbiAgICAgIGxhbmcgPSAnemgtQ04nO1xuICAgIH1cbiAgICBpZiAoZGVhbF90eXBlID09PSAnYXBwbGljYW50Um9sZScpIHtcbiAgICAgIGFwcHJvdmVyX3JvbGVzID0gcGFyYW1zLmFwcHJvdmVyX3JvbGVzO1xuICAgICAgcm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGFwcHJvdmVyX3JvbGVzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgcm9sZXNfbmFtZSA9IF8ucGx1Y2socm9sZXMsICduYW1lJykudG9TdHJpbmcoKTtcbiAgICAgIHN0ciA9IFRBUGkxOG4uX18oJ25leHRfc3RlcF91c2Vyc19ub3RfZm91bmQuYXBwbGljYW50X3JvbGUnLCB7XG4gICAgICAgIHN0ZXBfbmFtZTogc3RlcF9uYW1lLFxuICAgICAgICByb2xlX25hbWU6IHJvbGVzX25hbWVcbiAgICAgIH0sIGxhbmcpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59KTtcbiIsIl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpXG5cbk1ldGVvci5tZXRob2RzXG5cdGluc3RhbmNlTnVtYmVyQnVpbGRlcjogKHNwYWNlSWQsIG5hbWUpLT5cblxuXHRcdG51bWJlclJ1bGVzID0gZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmZpbmRPbmUoe3NwYWNlOiBzcGFjZUlkLCBuYW1lOiBuYW1lfSlcblxuXHRcdGlmICFudW1iZXJSdWxlc1xuXHRcdFx0dGhyb3cgbmV3ICBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiI3tuYW1lfVwiKVxuXG5cdFx0ZGF0ZSA9IG5ldyBEYXRlKClcblxuXHRcdGNvbnRleHQgPSB7fVxuXG5cdFx0Y29udGV4dC5fID0gX1xuXG5cdFx0X1lZWVkgPSBkYXRlLmdldEZ1bGxZZWFyKClcblxuXHRcdF9OVU1CRVIgPSAobnVtYmVyUnVsZXMubnVtYmVyIHx8IDApICsgMVxuXG5cdFx0Y29udGV4dC5ZWVlZID0gXy5jbG9uZShfWVlZWSlcblxuXHRcdGNvbnRleHQuTU0gPSBkYXRlLmdldE1vbnRoKCkgKyAxXG5cblx0XHRjb250ZXh0Lm1tID0gZGF0ZS5nZXRNb250aCgpICsgMVxuXG5cdFx0aWYgY29udGV4dC5NTSA8IDEwXG5cdFx0XHRjb250ZXh0Lk1NID0gXCIwXCIgKyBjb250ZXh0Lk1NXG5cblx0XHRjb250ZXh0LkREID0gZGF0ZS5nZXREYXRlKClcblxuXHRcdGNvbnRleHQuZGQgPSBkYXRlLmdldERhdGUoKVxuXG5cdFx0aWYgY29udGV4dC5ERCA8IDEwXG5cdFx0XHRjb250ZXh0LkREID0gXCIwXCIgKyBjb250ZXh0LkREXG5cblx0XHRpZiBjb250ZXh0LllZWVkgIT0gbnVtYmVyUnVsZXMueWVhclxuXHRcdFx0X05VTUJFUiA9IG51bWJlclJ1bGVzLmZpcnN0X251bWJlciB8fCAxXG5cblx0XHRjb250ZXh0Lk5VTUJFUiA9IF8uY2xvbmUoX05VTUJFUilcblxuXHRcdHJ1bGVzID0gbnVtYmVyUnVsZXMucnVsZXMucmVwbGFjZShcIntZWVlZfVwiLCBcIicgKyBZWVlZICsgJ1wiKS5yZXBsYWNlKFwie01NfVwiLCBcIicgKyBNTSArICdcIikucmVwbGFjZShcIntOVU1CRVJ9XCIsIFwiJyArIE5VTUJFUiArICdcIilcblxuXHRcdHNjcmlwdCA9IFwidmFyIG5ld05vID0gJyN7cnVsZXN9JzsgZXhwb3J0cy5uZXdObyA9IG5ld05vXCI7XG5cblx0XHR0cnlcblx0XHRcdHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJuZXdOb1wiLCBjb250ZXh0LCBmYWxzZSkubmV3Tm9cblxuXHRcdFx0ZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLnVwZGF0ZSh7X2lkOiBudW1iZXJSdWxlcy5faWR9LCB7JHNldDoge3llYXI6IF9ZWVlZLCBudW1iZXI6IF9OVU1CRVJ9fSlcblxuXHRcdFx0Y29uc29sZS5sb2cgdGhpcy51c2VySWQsIHJlc1xuXG5cdFx0Y2F0Y2ggZVxuXHRcdFx0cmVzID0ge19lcnJvcjogZX1cblxuXHRcdHJldHVybiByZXM7XG4iLCJ2YXIgX2V2YWw7XG5cbl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGluc3RhbmNlTnVtYmVyQnVpbGRlcjogZnVuY3Rpb24oc3BhY2VJZCwgbmFtZSkge1xuICAgIHZhciBfTlVNQkVSLCBfWVlZWSwgY29udGV4dCwgZGF0ZSwgZSwgbnVtYmVyUnVsZXMsIHJlcywgcnVsZXMsIHNjcmlwdDtcbiAgICBudW1iZXJSdWxlcyA9IGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgbmFtZTogbmFtZVxuICAgIH0pO1xuICAgIGlmICghbnVtYmVyUnVsZXMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiXCIgKyBuYW1lKTtcbiAgICB9XG4gICAgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgY29udGV4dCA9IHt9O1xuICAgIGNvbnRleHQuXyA9IF87XG4gICAgX1lZWVkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgX05VTUJFUiA9IChudW1iZXJSdWxlcy5udW1iZXIgfHwgMCkgKyAxO1xuICAgIGNvbnRleHQuWVlZWSA9IF8uY2xvbmUoX1lZWVkpO1xuICAgIGNvbnRleHQuTU0gPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgIGNvbnRleHQubW0gPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgIGlmIChjb250ZXh0Lk1NIDwgMTApIHtcbiAgICAgIGNvbnRleHQuTU0gPSBcIjBcIiArIGNvbnRleHQuTU07XG4gICAgfVxuICAgIGNvbnRleHQuREQgPSBkYXRlLmdldERhdGUoKTtcbiAgICBjb250ZXh0LmRkID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgaWYgKGNvbnRleHQuREQgPCAxMCkge1xuICAgICAgY29udGV4dC5ERCA9IFwiMFwiICsgY29udGV4dC5ERDtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuWVlZWSAhPT0gbnVtYmVyUnVsZXMueWVhcikge1xuICAgICAgX05VTUJFUiA9IG51bWJlclJ1bGVzLmZpcnN0X251bWJlciB8fCAxO1xuICAgIH1cbiAgICBjb250ZXh0Lk5VTUJFUiA9IF8uY2xvbmUoX05VTUJFUik7XG4gICAgcnVsZXMgPSBudW1iZXJSdWxlcy5ydWxlcy5yZXBsYWNlKFwie1lZWVl9XCIsIFwiJyArIFlZWVkgKyAnXCIpLnJlcGxhY2UoXCJ7TU19XCIsIFwiJyArIE1NICsgJ1wiKS5yZXBsYWNlKFwie05VTUJFUn1cIiwgXCInICsgTlVNQkVSICsgJ1wiKTtcbiAgICBzY3JpcHQgPSBcInZhciBuZXdObyA9ICdcIiArIHJ1bGVzICsgXCInOyBleHBvcnRzLm5ld05vID0gbmV3Tm9cIjtcbiAgICB0cnkge1xuICAgICAgcmVzID0gX2V2YWwoc2NyaXB0LCBcIm5ld05vXCIsIGNvbnRleHQsIGZhbHNlKS5uZXdObztcbiAgICAgIGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IG51bWJlclJ1bGVzLl9pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgeWVhcjogX1lZWVksXG4gICAgICAgICAgbnVtYmVyOiBfTlVNQkVSXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2codGhpcy51c2VySWQsIHJlcyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIHJlcyA9IHtcbiAgICAgICAgX2Vycm9yOiBlXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGNoZWNrX21haW5fYXR0YWNoOiAoaW5zX2lkLCBuYW1lKS0+XG5cdFx0Y2hlY2sgaW5zX2lkLCBTdHJpbmdcblx0XHR1dWZsb3dNYW5hZ2VyLmNoZWNrTWFpbkF0dGFjaChpbnNfaWQsIG5hbWUpXG5cdFx0cmV0dXJuICdzdWNjZXNzJ1xuXG4iLCJNZXRlb3IubWV0aG9kc1xuXHRyZW1vdmVfcmVsYXRlZDogKGluc19pZCwgcmVfaW5zX2lkKS0+XG5cdFx0Y2hlY2soaW5zX2lkLCBTdHJpbmcpXG5cdFx0Y2hlY2socmVfaW5zX2lkLCBTdHJpbmcpXG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc19pZH0sIHtmaWVsZHM6IHtyZWxhdGVkX2luc3RhbmNlczogMX19KVxuXG5cdFx0aWYgaW5zXG5cdFx0XHRyZXMgPSBpbnMucmVsYXRlZF9pbnN0YW5jZXMgfHwgW11cblxuXHRcdFx0aW5kZXggPSByZXMuaW5kZXhPZihyZV9pbnNfaWQpXG5cblx0XHRcdGlmIGluZGV4ID4gLTFcblx0XHRcdFx0cmVzLnJlbW92ZShpbmRleClcblxuXHRcdFx0c2V0X29iaiA9IG5ldyBPYmplY3Q7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZXNcblxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnNfaWR9LCB7JHNldDogc2V0X29ian0pXG5cblx0dXBkYXRlX2luc3RhbmNlX3JlbGF0ZWQ6IChpbnNfaWQsIHJlbGF0ZWRfaW5zdGFuY2VzKS0+XG5cdFx0Y2hlY2soaW5zX2lkLCBTdHJpbmcpXG5cdFx0Y2hlY2socmVsYXRlZF9pbnN0YW5jZXMsIEFycmF5KVxuXG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc19pZCwgJG9yOiBbe3N1Ym1pdHRlcjogdGhpcy51c2VySWR9LCB7YXBwbGljYW50OiB0aGlzLnVzZXJJZH0sIHtpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV19LCB7ZmllbGRzOiB7c3RhdGU6IDF9fSlcblxuXHRcdGlmIGluc1xuXHRcdFx0c2V0X29iaiA9IG5ldyBPYmplY3Q7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZWxhdGVkX2luc3RhbmNlc1xuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnNfaWR9LCB7JHNldDogc2V0X29ian0pXG5cblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogIHJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtfaWQ6IDEsIHZhbHVlczogMX19KS5mZXRjaCgpXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHJlbW92ZV9yZWxhdGVkOiBmdW5jdGlvbihpbnNfaWQsIHJlX2luc19pZCkge1xuICAgIHZhciBpbmRleCwgaW5zLCByZXMsIHNldF9vYmo7XG4gICAgY2hlY2soaW5zX2lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHJlX2luc19pZCwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHJlbGF0ZWRfaW5zdGFuY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgcmVzID0gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIHx8IFtdO1xuICAgICAgaW5kZXggPSByZXMuaW5kZXhPZihyZV9pbnNfaWQpO1xuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgcmVzLnJlbW92ZShpbmRleCk7XG4gICAgICB9XG4gICAgICBzZXRfb2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuICAgICAgc2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuICAgICAgc2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlcztcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0X29ialxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfaW5zdGFuY2VfcmVsYXRlZDogZnVuY3Rpb24oaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcykge1xuICAgIHZhciBpbnMsIHNldF9vYmo7XG4gICAgY2hlY2soaW5zX2lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHJlbGF0ZWRfaW5zdGFuY2VzLCBBcnJheSk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZCxcbiAgICAgICRvcjogW1xuICAgICAgICB7XG4gICAgICAgICAgc3VibWl0dGVyOiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgYXBwbGljYW50OiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgaW5ib3hfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjY191c2VyczogdGhpcy51c2VySWRcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuICAgICAgc2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG4gICAgICBzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVsYXRlZF9pbnN0YW5jZXM7XG4gICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0X29ialxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiByZWxhdGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBfaWQ6IDEsXG4gICAgICAgIHZhbHVlczogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0dXBkYXRlRmxvd1Bvc2l0aW9uOiAoZGF0YSkgLT5cblx0XHRkYi5mbG93X3Bvc2l0aW9ucy51cGRhdGUgeyBfaWQ6IGRhdGEuX2lkIH0sICRzZXQ6XG5cdFx0XHRyb2xlOiBkYXRhLnJvbGVcblx0XHRcdHVzZXJzOiBkYXRhLnVzZXJzXG5cdFx0XHRvcmc6IGRhdGEub3JnXG5cblx0dXBkYXRlRmxvd1JvbGU6IChkYXRhKSAtPlxuXHRcdGNvbnNvbGUubG9nIGRhdGEuX2lkXG5cdFx0Y29uc29sZS5sb2cgZGF0YS5uYW1lXG5cdFx0ZGIuZmxvd19yb2xlcy51cGRhdGUgeyBfaWQ6IGRhdGEuX2lkIH0sICRzZXQ6XG5cdFx0XHRuYW1lOiBkYXRhLm5hbWUiLCJNZXRlb3IubWV0aG9kcyh7XG4gIHVwZGF0ZUZsb3dQb3NpdGlvbjogZnVuY3Rpb24oZGF0YSkge1xuICAgIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy51cGRhdGUoe1xuICAgICAgX2lkOiBkYXRhLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgcm9sZTogZGF0YS5yb2xlLFxuICAgICAgICB1c2VyczogZGF0YS51c2VycyxcbiAgICAgICAgb3JnOiBkYXRhLm9yZ1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICB1cGRhdGVGbG93Um9sZTogZnVuY3Rpb24oZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKGRhdGEuX2lkKTtcbiAgICBjb25zb2xlLmxvZyhkYXRhLm5hbWUpO1xuICAgIHJldHVybiBkYi5mbG93X3JvbGVzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGRhdGEuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDoge1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRzdGFydF9mbG93OiAoc3BhY2UsIGZsb3dJZCwgc3RhcnQpIC0+XG5cblx0XHRrZXlWYWx1ZSA9IGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycgfSwgeyBmaWVsZHM6IHsgdmFsdWU6IDEgfSB9KVxuXG5cdFx0c3RhcnRfZmxvd3MgPSBrZXlWYWx1ZT8udmFsdWUgfHwgW11cblxuXHRcdGlmIHN0YXJ0XG5cdFx0XHRzdGFydF9mbG93cy5wdXNoKGZsb3dJZClcblxuXHRcdFx0c3RhcnRfZmxvd3MgPSBfLnVuaXEoc3RhcnRfZmxvd3MpXG5cdFx0ZWxzZVxuXHRcdFx0c3RhcnRfZmxvd3MucmVtb3ZlKHN0YXJ0X2Zsb3dzLmluZGV4T2YoZmxvd0lkKSlcblxuXHRcdGlmIGtleVZhbHVlXG5cdFx0XHRkYi5zdGVlZG9zX2tleXZhbHVlcy51cGRhdGUoeyBfaWQ6IGtleVZhbHVlLl9pZCB9LCB7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJywgdmFsdWU6IHN0YXJ0X2Zsb3dzIH0pXG5cdFx0ZWxzZVxuXHRcdFx0ZGIuc3RlZWRvc19rZXl2YWx1ZXMuaW5zZXJ0KHsgc3BhY2U6IHNwYWNlLCB1c2VyOiB0aGlzLnVzZXJJZCwga2V5OiAnc3RhcnRfZmxvd3MnLCB2YWx1ZTogc3RhcnRfZmxvd3MgfSlcblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzdGFydF9mbG93OiBmdW5jdGlvbihzcGFjZSwgZmxvd0lkLCBzdGFydCkge1xuICAgIHZhciBrZXlWYWx1ZSwgc3RhcnRfZmxvd3M7XG4gICAga2V5VmFsdWUgPSBkYi5zdGVlZG9zX2tleXZhbHVlcy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAga2V5OiAnc3RhcnRfZmxvd3MnXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHZhbHVlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgc3RhcnRfZmxvd3MgPSAoa2V5VmFsdWUgIT0gbnVsbCA/IGtleVZhbHVlLnZhbHVlIDogdm9pZCAwKSB8fCBbXTtcbiAgICBpZiAoc3RhcnQpIHtcbiAgICAgIHN0YXJ0X2Zsb3dzLnB1c2goZmxvd0lkKTtcbiAgICAgIHN0YXJ0X2Zsb3dzID0gXy51bmlxKHN0YXJ0X2Zsb3dzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRfZmxvd3MucmVtb3ZlKHN0YXJ0X2Zsb3dzLmluZGV4T2YoZmxvd0lkKSk7XG4gICAgfVxuICAgIGlmIChrZXlWYWx1ZSkge1xuICAgICAgcmV0dXJuIGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDoga2V5VmFsdWUuX2lkXG4gICAgICB9LCB7XG4gICAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgICAgdXNlcjogdGhpcy51c2VySWQsXG4gICAgICAgIGtleTogJ3N0YXJ0X2Zsb3dzJyxcbiAgICAgICAgdmFsdWU6IHN0YXJ0X2Zsb3dzXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmluc2VydCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgICAgdXNlcjogdGhpcy51c2VySWQsXG4gICAgICAgIGtleTogJ3N0YXJ0X2Zsb3dzJyxcbiAgICAgICAgdmFsdWU6IHN0YXJ0X2Zsb3dzXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0Z2V0X2luc3RhbmNlX3RyYWNlczogKGluc19pZCktPlxuXHRcdGlmICghdGhpcy51c2VySWQpXG5cdFx0XHRyZXR1cm47XG5cdFx0bWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsXG5cdFx0XHQnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nXVxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUge19pZDogaW5zX2lkfSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFwidHJhY2VzLl9pZFwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5pc19maW5pc2hlZFwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5zdGVwXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLnN0YXJ0X2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMubmFtZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5maW5pc2hfZGF0ZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5qdWRnZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5faWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaXNfZmluaXNoZWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudXNlclwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfbmFtZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy50eXBlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnN0YXJ0X2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZGVzY3JpcHRpb25cIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaXNfcmVhZFwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5qdWRnZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5maW5pc2hfZGF0ZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5mcm9tX3VzZXJfbmFtZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5mcm9tX3VzZXJcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY2NfZGVzY3JpcHRpb25cIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudHJhY2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9zcGFjZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5mb3J3YXJkX2luc3RhbmNlXCI6IDFcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAhaW5zXG5cdFx0XHRyZXR1cm5cblxuXHRcdHJldHVybiBpbnM/LnRyYWNlc1xuXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGdldF9pbnN0YW5jZV90cmFjZXM6IGZ1bmN0aW9uKGluc19pZCkge1xuICAgIHZhciBpbnMsIG1pbmlBcHByb3ZlRmllbGRzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsICdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbiddO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5pc19maW5pc2hlZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5zdGVwXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLnN0YXJ0X2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMubmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5maW5pc2hfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5qdWRnZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5faWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaXNfZmluaXNoZWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMudXNlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfbmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy50eXBlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnN0YXJ0X2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZGVzY3JpcHRpb25cIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaXNfcmVhZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5qdWRnZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5maW5pc2hfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5mcm9tX3VzZXJfbmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5mcm9tX3VzZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuY2NfZGVzY3JpcHRpb25cIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMudHJhY2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9zcGFjZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5mb3J3YXJkX2luc3RhbmNlXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gaW5zICE9IG51bGwgPyBpbnMudHJhY2VzIDogdm9pZCAwO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdCdnZXRfYmF0Y2hfaW5zdGFuY2VzJzogKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKS0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlmICFzcGFjZVxuXHRcdFx0cmV0dXJuXG5cblx0XHRfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZClcblxuXHRcdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzXG5cblx0J2dldF9iYXRjaF9pbnN0YW5jZXNfY291bnQnOiAoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMpLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0aWYgIXNwYWNlXG5cdFx0XHRyZXR1cm5cblxuXHRcdF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKVxuXG5cdFx0cmV0dXJuIF9iYXRjaF9pbnN0YW5jZXM/Lmxlbmd0aCB8fCAwXG5cblx0J2dldF9teV9hcHByb3Zlcyc6IChpbnN0YW5jZUlkcyktPlxuXG5cdFx0dGhhdCA9IHRoaXNcblxuXHRcdGlmICF0aGF0LnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRteUFwcHJvdmVzID0gbmV3IEFycmF5KClcblxuXHRcdGluc3RhbmNlSWRzLmZvckVhY2ggKGluc0lkKS0+XG5cdFx0XHRteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnNJZCwgdGhhdC51c2VySWQpXG5cdFx0XHRpZiBteV9hcHByb3ZlXG5cdFx0XHRcdG15QXBwcm92ZXMucHVzaChteV9hcHByb3ZlKVxuXG5cdFx0cmV0dXJuIG15QXBwcm92ZXNcblxuXG5cblxuXG5cblxuXG5cblxuXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gICdnZXRfYmF0Y2hfaW5zdGFuY2VzJzogZnVuY3Rpb24oc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMpIHtcbiAgICB2YXIgX2JhdGNoX2luc3RhbmNlcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc3BhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpO1xuICAgIHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzO1xuICB9LFxuICAnZ2V0X2JhdGNoX2luc3RhbmNlc19jb3VudCc6IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKSB7XG4gICAgdmFyIF9iYXRjaF9pbnN0YW5jZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKTtcbiAgICByZXR1cm4gKF9iYXRjaF9pbnN0YW5jZXMgIT0gbnVsbCA/IF9iYXRjaF9pbnN0YW5jZXMubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICB9LFxuICAnZ2V0X215X2FwcHJvdmVzJzogZnVuY3Rpb24oaW5zdGFuY2VJZHMpIHtcbiAgICB2YXIgbXlBcHByb3ZlcywgdGhhdDtcbiAgICB0aGF0ID0gdGhpcztcbiAgICBpZiAoIXRoYXQudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG15QXBwcm92ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICBpbnN0YW5jZUlkcy5mb3JFYWNoKGZ1bmN0aW9uKGluc0lkKSB7XG4gICAgICB2YXIgbXlfYXBwcm92ZTtcbiAgICAgIG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGluc0lkLCB0aGF0LnVzZXJJZCk7XG4gICAgICBpZiAobXlfYXBwcm92ZSkge1xuICAgICAgICByZXR1cm4gbXlBcHByb3Zlcy5wdXNoKG15X2FwcHJvdmUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBteUFwcHJvdmVzO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGNoYW5nZV9mbG93X3N0YXRlOiAoZmxvd3MpIC0+XG5cdFx0Y2hlY2sgZmxvd3MsIEFycmF5XG5cblx0XHRfdXNlcklkID0gdGhpcy51c2VySWRcblxuXHRcdGlmICFfdXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGZsb3dzLmZvckVhY2ggKGZsb3cpIC0+XG5cdFx0XHRzcGFjZUlkID0gZmxvdy5zcGFjZVxuXHRcdFx0Zm9ybUlkID0gZmxvdy5mb3JtXG5cdFx0XHRmbG93SWQgPSBmbG93LmlkXG5cdFx0XHRzdGF0ZSA9IGZsb3cuc3RhdGVcblxuXHRcdFx0aWYgIVN0ZWVkb3MuaXNTcGFjZUFkbWluKHNwYWNlSWQsIF91c2VySWQpXG5cdFx0XHRcdHRocm93ICBNZXRlb3IuRXJyb3IoNDAxLCBcIk5vIHBlcm1pc3Npb25cIilcblxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZvcm1JZCB9LCB7IGZpZWxkczogeyBoaXN0b3J5czogMCB9IH0pXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93SWQgfSwgeyBmaWVsZHM6IHsgaGlzdG9yeXM6IDAgfSB9KVxuXG5cdFx0XHRpZiBzdGF0ZSAhPSAnZW5hYmxlZCcgJiYgc3RhdGUgIT0gJ2Rpc2FibGVkJ1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJzdGF0ZeaXoOaViFwiKVxuXG5cdFx0XHRpZiAhZm9ybVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmb3Jt5peg5pWIXCIpXG5cblx0XHRcdGlmICFmbG93XG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZsb3fml6DmlYhcIilcblxuXHRcdFx0aWYgIWZvcm0uaXNfdmFsaWRcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL5byV55So55qE6KGo5Y2VWyN7Zm9ybS5uYW1lfV3pqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XooajljZXorr7nva5cIilcblxuXHRcdFx0aWYgIWZsb3cuaXNfdmFsaWRcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l5rWB56iL6K6+572uXCIpXG5cblx0XHRcdGlmICFbJ25ldycsICdtb2RpZnknLCAnZGVsZXRlJ10uaW5jbHVkZXMoZmxvdy5mbG93dHlwZSlcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yMZmxvd3R5cGXlgLzlv4XpobvmmK9uZXfjgIFtb2RpZnnjgIFkZWxldGXlhbbkuK3kuYvkuIBcIilcblxuXHRcdFx0aWYgIV8uaXNBcnJheShmbG93LmN1cnJlbnQuc3RlcHMpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOa1geeoi+eahOatpemqpOS4jeiDveS4uuepulwiKVxuXG5cdFx0XHRpZiBfLnVuaXEoZmxvdy5jdXJyZW50LnN0ZXBzLCAnbmFtZScpLmxlbmd0aCAhPSBmbG93LmN1cnJlbnQuc3RlcHMubGVuZ3RoXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOWQjOS4gOS4qua1geeoi+S4i+eahOatpemqpOeahOWQjeensOS4jeiDvemHjeWkjVwiKVxuXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxuXG5cdFx0XHRpZiBzdGF0ZSA9PSAnZW5hYmxlZCdcblx0XHRcdFx0I+a1geeoi+WQr+eUqOWJje+8jOagoemqjOWFtuKAnOaMh+WumuWOhuWPsuatpemqpOKAneWxnuaAp+S4reiiq+W8leeUqOeahOatpemqpOaYr+WQpuWtmOWcqOS4lOiDveiiq+aJvuWIsO+8iOS7hemZkOS6jua1geeoi+eahOacgOaWsOeJiO+8iVxuXHRcdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaCAoc3RlcCkgLT5cblx0XHRcdFx0XHRpZiBbJ3NwZWNpZnlTdGVwVXNlcicsICdzcGVjaWZ5U3RlcFJvbGUnXS5pbmNsdWRlcyhzdGVwLmRlYWxfdHlwZSlcblx0XHRcdFx0XHRcdGlmICFzdGVwLmFwcHJvdmVyX3N0ZXBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkWyN7c3RlcC5uYW1lfV3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIilcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0c3BlY2lmeVN0ZXAgPSBfLmZpbmQgZmxvdy5jdXJyZW50LnN0ZXBzLCAoX3N0ZXApIC0+XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHN0ZXAuYXBwcm92ZXJfc3RlcCA9PSBfc3RlcC5faWRcblxuXHRcdFx0XHRcdFx0XHRpZiAhc3BlY2lmeVN0ZXBcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbI3tzdGVwLm5hbWV9XeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKVxuXG5cdFx0XHRcdGZvcm1fY3VycmVudF9maWVsZHNfY29kZSA9IGZvcm0uY3VycmVudC5maWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpXG5cblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2ggKHN0ZXApIC0+XG5cdFx0XHRcdFx0c3RlcC5maWVsZHNfbW9kaWZpYWJsZSA9IF8uaW50ZXJzZWN0aW9uKHN0ZXAuZmllbGRzX21vZGlmaWFibGUsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSlcblxuXHRcdFx0XHQj5aaC5p6cIOa1geeoi+WvueW6lOihqOWNlSDmmK/lgZznlKjnmoQg5YiZ5ZCv55SoXG5cdFx0XHRcdGlmIGZvcm0uc3RhdGUgPT0gJ2Rpc2FibGVkJ1xuXHRcdFx0XHRcdGRiLmZvcm1zLnVwZGF0ZSh7X2lkOiBmb3JtLl9pZH0sIHskc2V0OiB7XCJzdGF0ZVwiOiBcImVuYWJsZWRcIiwgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxuXG5cdFx0XHRcdGZsb3cuY3VycmVudC5tb2RpZmllZCA9IG5vd1xuXHRcdFx0XHRmbG93LmN1cnJlbnQuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRmbG93LmN1cnJlbnQubW9kaWZpZWRfYnkgPSBfdXNlcklkXG5cblx0XHRcdFx0ZGIuZmxvd3MudXBkYXRlKHsgX2lkOiBmbG93Ll9pZCB9LCB7ICRzZXQ6IHsgXCJzdGF0ZVwiOiBcImVuYWJsZWRcIiwgXCJjdXJyZW50XCI6IGZsb3cuY3VycmVudCB9IH0pXG5cblx0XHRcdGVsc2Vcblx0XHRcdFx0I+emgeeUqOa1geeoi1xuXHRcdFx0XHRkYi5mbG93cy51cGRhdGUoe19pZDogZmxvdy5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJkaXNhYmxlZFwiLCBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXG5cblx0XHRcdFx0IyDliKTmlq3ooajljZXmiYDmnInmtYHnqIvmmK/lkKblt7Lnu4/lhajpg6jlgZznlKgg5aaC5p6c5bey5YWo6YOo5YGc55SoIOWImeS/ruaUueihqOWNleeKtuaAgeS4uuWBnOeUqFxuXHRcdFx0XHRfZmxvd3MgPSBkYi5mbG93cy5maW5kKHsgZm9ybTogZm9ybS5faWQgfSwgeyBmaWVsZHM6IHsgX2lkOiAxLCBzdGF0ZTogMSB9IH0pLmZldGNoKClcblxuXHRcdFx0XHRfZmxvd3Nfc3RhdGUgPSBfZmxvd3MuZ2V0UHJvcGVydHkoXCJzdGF0ZVwiKVxuXG5cdFx0XHRcdGlmICFfZmxvd3Nfc3RhdGUuaW5jbHVkZXMoJ2VuYWJsZWQnKVxuXHRcdFx0XHRcdGRiLmZvcm1zLnVwZGF0ZSh7X2lkOiBmb3JtLl9pZH0sIHskc2V0OiB7XCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWR9fSlcblxuXG5cblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBjaGFuZ2VfZmxvd19zdGF0ZTogZnVuY3Rpb24oZmxvd3MpIHtcbiAgICB2YXIgX3VzZXJJZDtcbiAgICBjaGVjayhmbG93cywgQXJyYXkpO1xuICAgIF91c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpZiAoIV91c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGZsb3dzLmZvckVhY2goZnVuY3Rpb24oZmxvdykge1xuICAgICAgdmFyIF9mbG93cywgX2Zsb3dzX3N0YXRlLCBmbG93SWQsIGZvcm0sIGZvcm1JZCwgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlLCBub3csIHNwYWNlSWQsIHN0YXRlO1xuICAgICAgc3BhY2VJZCA9IGZsb3cuc3BhY2U7XG4gICAgICBmb3JtSWQgPSBmbG93LmZvcm07XG4gICAgICBmbG93SWQgPSBmbG93LmlkO1xuICAgICAgc3RhdGUgPSBmbG93LnN0YXRlO1xuICAgICAgaWYgKCFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCBfdXNlcklkKSkge1xuICAgICAgICB0aHJvdyBNZXRlb3IuRXJyb3IoNDAxLCBcIk5vIHBlcm1pc3Npb25cIik7XG4gICAgICB9XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZm9ybUlkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGhpc3RvcnlzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3dJZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBoaXN0b3J5czogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChzdGF0ZSAhPT0gJ2VuYWJsZWQnICYmIHN0YXRlICE9PSAnZGlzYWJsZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcInN0YXRl5peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmb3JtKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZvcm3ml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZsb3cpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZmxvd+aXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZm9ybS5pc192YWxpZCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvlvJXnlKjnmoTooajljZVbXCIgKyBmb3JtLm5hbWUgKyBcIl3pqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XooajljZXorr7nva5cIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZsb3cuaXNfdmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l5rWB56iL6K6+572uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFbJ25ldycsICdtb2RpZnknLCAnZGVsZXRlJ10uaW5jbHVkZXMoZmxvdy5mbG93dHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yMZmxvd3R5cGXlgLzlv4XpobvmmK9uZXfjgIFtb2RpZnnjgIFkZWxldGXlhbbkuK3kuYvkuIBcIik7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNBcnJheShmbG93LmN1cnJlbnQuc3RlcHMpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOa1geeoi+eahOatpemqpOS4jeiDveS4uuepulwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChfLnVuaXEoZmxvdy5jdXJyZW50LnN0ZXBzLCAnbmFtZScpLmxlbmd0aCAhPT0gZmxvdy5jdXJyZW50LnN0ZXBzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzlkIzkuIDkuKrmtYHnqIvkuIvnmoTmraXpqqTnmoTlkI3np7DkuI3og73ph43lpI1cIik7XG4gICAgICB9XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICB2YXIgc3BlY2lmeVN0ZXA7XG4gICAgICAgICAgaWYgKFsnc3BlY2lmeVN0ZXBVc2VyJywgJ3NwZWNpZnlTdGVwUm9sZSddLmluY2x1ZGVzKHN0ZXAuZGVhbF90eXBlKSkge1xuICAgICAgICAgICAgaWYgKCFzdGVwLmFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkW1wiICsgc3RlcC5uYW1lICsgXCJd5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3BlY2lmeVN0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbihfc3RlcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGVwLmFwcHJvdmVyX3N0ZXAgPT09IF9zdGVwLl9pZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmICghc3BlY2lmeVN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbXCIgKyBzdGVwLm5hbWUgKyBcIl3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUgPSBmb3JtLmN1cnJlbnQuZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKTtcbiAgICAgICAgZmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgIHJldHVybiBzdGVwLmZpZWxkc19tb2RpZmlhYmxlID0gXy5pbnRlcnNlY3Rpb24oc3RlcC5maWVsZHNfbW9kaWZpYWJsZSwgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChmb3JtLnN0YXRlID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICAgICAgZGIuZm9ybXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogZm9ybS5faWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgIFwic3RhdGVcIjogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmbG93LmN1cnJlbnQubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBmbG93LmN1cnJlbnQubW9kaWZpZWRfYnkgPSBfdXNlcklkO1xuICAgICAgICByZXR1cm4gZGIuZmxvd3MudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGZsb3cuX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgXCJjdXJyZW50XCI6IGZsb3cuY3VycmVudFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYi5mbG93cy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogZmxvdy5faWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIFwic3RhdGVcIjogXCJkaXNhYmxlZFwiLFxuICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdyxcbiAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX2Zsb3dzID0gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgICAgZm9ybTogZm9ybS5faWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgc3RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICAgIF9mbG93c19zdGF0ZSA9IF9mbG93cy5nZXRQcm9wZXJ0eShcInN0YXRlXCIpO1xuICAgICAgICBpZiAoIV9mbG93c19zdGF0ZS5pbmNsdWRlcygnZW5hYmxlZCcpKSB7XG4gICAgICAgICAgcmV0dXJuIGRiLmZvcm1zLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZvcm0uX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICBcInN0YXRlXCI6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LFxuICAgICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblxuXHRoaWRlX2luc3RhbmNlOiAoaW5zSWQsIGlzX2hpZGRlbikgLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0Y2hlY2soaW5zSWQsIFN0cmluZylcblx0XHRjaGVjayhpc19oaWRkZW4sIEJvb2xlYW4pXG5cblx0XHR1c2VySWQgPSB0aGlzLnVzZXJJZFxuXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwgeyBmaWVsZHM6IHsgc3RhdGU6IDEsIGZsb3c6IDEsIHNwYWNlOiAxIH0gfSlcblxuXHRcdGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZVcIilcblxuXHRcdGlmIGluc3RhbmNlLnN0YXRlIGlzbnQgJ2NvbXBsZXRlZCdcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V54q25oCB5LiN5piv5bey57uT5p2fXCIpXG5cblx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcblx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCB1c2VySWQpXG5cdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcblx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoaW5zSWQsIHsgJHNldDogeyBpc19oaWRkZW46IGlzX2hpZGRlbiB9IH0pXG5cblx0XHRyZXR1cm4gdHJ1ZTtcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgaGlkZV9pbnN0YW5jZTogZnVuY3Rpb24oaW5zSWQsIGlzX2hpZGRlbikge1xuICAgIHZhciBpbnN0YW5jZSwgcGVybWlzc2lvbnMsIHNwYWNlLCB1c2VySWQ7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGVjayhpbnNJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhpc19oaWRkZW4sIEJvb2xlYW4pO1xuICAgIHVzZXJJZCA9IHRoaXMudXNlcklkO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgZmxvdzogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNlVwiKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSAnY29tcGxldGVkJykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnirbmgIHkuI3mmK/lt7Lnu5PmnZ9cIik7XG4gICAgfVxuICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIHVzZXJJZCk7XG4gICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGFkbWluczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZCkpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKTtcbiAgICB9XG4gICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnNJZCwge1xuICAgICAgJHNldDoge1xuICAgICAgICBpc19oaWRkZW46IGlzX2hpZGRlblxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGdldEluc3RhbmNlVmFsdWVzOiAoaW5zSWQpLT5cblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0cmV0dXJuO1xuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNJZH0sIHtmaWVsZHM6IHt2YWx1ZXM6IDF9fSk/LnZhbHVlcyIsIk1ldGVvci5tZXRob2RzKHtcbiAgZ2V0SW5zdGFuY2VWYWx1ZXM6IGZ1bmN0aW9uKGluc0lkKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiAocmVmID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB2YWx1ZXM6IDFcbiAgICAgIH1cbiAgICB9KSkgIT0gbnVsbCA/IHJlZi52YWx1ZXMgOiB2b2lkIDA7XG4gIH1cbn0pO1xuIiwiQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpXG5cbmdldEluc3RhbmNlUmVhZE9ubHkgPSAocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpIC0+XG5cblx0dXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKVxuXG5cdGlmIHJlcT8ucXVlcnk/LmFjY2Vzc190b2tlblxuXHRcdHVzZXJJZCA9IFN0ZWVkb3MuZ2V0VXNlcklkRnJvbUFjY2Vzc1Rva2VuKHJlcS5xdWVyeS5hY2Nlc3NfdG9rZW4pXG5cdFx0aWYgdXNlcklkXG5cdFx0XHR1c2VyID0gTWV0ZW9yLnVzZXJzLmZpbmRPbmUoe19pZDogdXNlcklkfSlcblxuXHRzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZVxuXG5cdGluc3RhbmNlSWQgPSByZXEucGFyYW1zLmluc3RhbmNlX2lkXG5cblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSk7XG5cblx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7X2lkOiBzcGFjZUlkfSk7XG5cblx0aGlkZV90cmFjZXMgPSByZXEucXVlcnk/LmhpZGVfdHJhY2VzXG5cblx0aWYgIW9wdGlvbnNcblx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogdHJ1ZX1cblx0ZWxzZVxuXHRcdG9wdGlvbnMuc2hvd1RyYWNlID0gdHJ1ZVxuXG5cdGlmIGhpZGVfdHJhY2VzIGlzIFwiMVwiXG5cdFx0aWYgb3B0aW9uc1xuXHRcdFx0b3B0aW9ucy5zaG93VHJhY2UgPSBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdG9wdGlvbnMgPSB7c2hvd1RyYWNlOiBmYWxzZX1cblxuXHRpZiAhb3B0aW9ucy5zaG93QXR0YWNobWVudHNcblx0XHRvcHRpb25zLnNob3dBdHRhY2htZW50cyA9IHRydWVcblxuXHRpZiAhc3BhY2Vcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzcGFjZVwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0aWYgICFpbnN0YW5jZVxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiA0MDEsXG5cdFx0XHRkYXRhOlxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIGluc3RhbmNlXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRpZiAhdXNlclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiA0MDEsXG5cdFx0XHRkYXRhOlxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlbixYLVVzZXItSWRcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGlmIGluc3RhbmNlLnNwYWNlICE9IHNwYWNlSWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzcGFjZSBvciBpbnN0YW5jZVwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblxuXG5cdHNwYWNlVXNlckNvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHVzZXI6IHVzZXIuX2lkLCBzcGFjZTogc3BhY2VJZCB9KS5jb3VudCgpXG5cblx0aWYgc3BhY2VVc2VyQ291bnQgaXMgMFxuXHRcdGlmICFzcGFjZVxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0XHRkYXRhOlxuXHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc2FwY2VVc2VyXCIsXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRyZXR1cm47XG5cblx0I+agoemqjHVzZXLmmK/lkKblr7lpbnN0YW5jZeacieafpeeci+adg+mZkFxuXHRfaGFzUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNJbnN0YW5jZVBlcm1pc3Npb25zKHVzZXIsIGluc3RhbmNlKVxuXG5cdGlmICFfaGFzUGVybWlzc2lvbiAgJiYgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXG5cdFx0X3BhcmVudF9pbnN0YW5jZXMgPSBfLnVuaW9uKFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VdLCBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIHx8IFtdKVxuXG5cdFx0X2hhc1Blcm1pc3Npb24gPSBfLmZpbmQgX3BhcmVudF9pbnN0YW5jZXMsIChfcGFyZW50X2lkKS0+XG5cdFx0XHRfcGFyZW50X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6X3BhcmVudF9pZH0sIHtmaWVsZHM6IHt0cmFjZXM6IDB9fSlcblxuXHRcdFx0cmV0dXJuIFdvcmtmbG93TWFuYWdlci5oYXNJbnN0YW5jZVBlcm1pc3Npb25zKHVzZXIsIF9wYXJlbnRfaW5zKVxuXG5cdGlmICFfaGFzUGVybWlzc2lvblxuXHRcdF9sb2NhbGUgPSBTdGVlZG9zLmxvY2FsZSh1c2VyLl9pZCwgdHJ1ZSlcblx0XHRlcnJvciA9IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9wZXJtaXNzaW9uc19lcnJvclwiLCB7fSwgX2xvY2FsZSlcblx0XHRyZXMuY2hhcnNldCA9IFwidXRmLThcIlxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiA0MDEsXG5cdFx0XHRkYXRhOlxuXHRcdFx0XHRcImVycm9yXCI6IGVycm9yLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0aHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxuXHRkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcblx0cmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aClcblx0cmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC0je2RhdGFCdWYubGVuZ3RoIC0gMX0vI3tkYXRhQnVmLmxlbmd0aH1cIilcblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcblx0cmVzLmVuZChodG1sKVxuXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seVxuXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWQvOmluc3RhbmNlX25hbWVcIiwgKHJlcSwgcmVzLCBuZXh0KS0+XG5cdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcblx0cmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScrZW5jb2RlVVJJKHJlcS5wYXJhbXMuaW5zdGFuY2VfbmFtZSkpO1xuXHRyZXMuc2V0SGVhZGVyKCdUcmFuc2Zlci1FbmNvZGluZycsICcnKVxuXG5cdG9wdGlvbnMgPSB7YWJzb2x1dGU6IHRydWV9XG5cblx0cmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpXG4jIyNcblx06I635Y+W55Sz6K+35Y2V5YiX6KGo77yaXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcbiAgICBzdGF0ZTog55Sz6K+35Y2V54q25oCBXG4jIyNcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9pbnN0YW5jZXNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXG5cdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0cmV0dXJuIDtcblxuXHR1c2VyX2lkID0gcmVxLnVzZXJJZFxuXG5cdHNwYWNlSWQgPSByZXEuaGVhZGVyc1tcIngtc3BhY2UtaWRcIl1cblxuXHRpZiBub3Qgc3BhY2VJZFxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiA0MDEsXG5cdFx0XHRkYXRhOlxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtU3BhY2UtSWRcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGZsb3dJZCA9IHJlcS5xdWVyeT8uZmxvd0lkXG5cblx0aWYgIWZsb3dJZFxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiA0MDAsXG5cdFx0XHRkYXRhOlxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIGZsb3dJZFwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0cXVlcnkgPSB7fVxuXG5cdHJldF9zeW5jX3Rva2VuID0gbmV3IERhdGUoKS5nZXRUaW1lKClcblxuXHRmbG93SWRzID0gZmxvd0lkLnNwbGl0KFwiLFwiKVxuXG5cblx0Zmxvd3MgPSBkYi5mbG93cy5maW5kKHtfaWQ6IHskaW46IGZsb3dJZHN9fSkuZmV0Y2goKVxuXG5cdGkgPSAwXG5cdHdoaWxlIGkgPCBmbG93cy5sZW5ndGhcblx0XHRmID0gZmxvd3NbaV1cblx0XHRzcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtzcGFjZTogZi5zcGFjZSwgdXNlcjogdXNlcl9pZH0pXG5cdFx0aWYgIXNwYWNlVXNlclxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0XHRkYXRhOlxuXHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb24sIGZsb3cgaXMgI3tmLl9pZH1cIixcblx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdHJldHVybjtcblx0XHRlbHNlXG5cblx0I1x05piv5ZCm5bel5L2c5Yy6566h55CG5ZGYXG5cdFx0aWYgIVN0ZWVkb3MuaXNTcGFjZUFkbWluKHNwYWNlSWQsIHVzZXJfaWQpXG5cdFx0XHRzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcblx0XHRcdFx0X2lkOiB7XG5cdFx0XHRcdFx0JGluOiBzcGFjZVVzZXIub3JnYW5pemF0aW9uc1xuXHRcdFx0XHR9XG5cdFx0XHR9KS5mZXRjaCgpO1xuXG5cdFx0XHRpZiAhV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZiwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSAmJiAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucylcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0XHRjb2RlOiA0MDEsXG5cdFx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb24sIGZsb3cgaXMgI3tmLl9pZH1cIixcblx0XHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0aSsrXG5cblxuXHRxdWVyeS5mbG93ID0geyRpbjogZmxvd0lkc31cblxuXHRxdWVyeS5zcGFjZSA9IHNwYWNlSWRcblxuXHRpZiByZXEucXVlcnk/LnN5bmNfdG9rZW5cblx0XHRzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSlcblx0XHRxdWVyeS5tb2RpZmllZCA9IHskZ3Q6IHN5bmNfdG9rZW59XG5cblx0aWYgcmVxLnF1ZXJ5Py5maW5hbF9kZWNpc2lvblxuXHRcdHF1ZXJ5LmZpbmFsX2RlY2lzaW9uID0geyRpbiA6IHJlcS5xdWVyeS5maW5hbF9kZWNpc2lvbi5zcGxpdChcIixcIil9XG5cdGVsc2Vcblx0XHRxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHskbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl19XG5cblx0aWYgcmVxLnF1ZXJ5Py5zdGF0ZVxuXHRcdHF1ZXJ5LnN0YXRlID0geyRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKX1cblx0ZWxzZVxuXHRcdHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIlxuXG4jXHTmnIDlpJrov5Tlm541MDDmnaHmlbDmja5cblx0aW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IHtpbmJveF91ZXJzOiAwLCBjY191c2VyczogMCwgb3V0Ym94X3VzZXJzOiAwLCB0cmFjZXM6IDAsIGF0dGFjaG1lbnRzOiAwfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLmZldGNoKClcblx0aW5zdGFuY2VzLmZvckVhY2ggKGluc3RhbmNlKS0+XG5cblx0XHRhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXG5cblx0XHRpbnN0YW5jZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzXG5cblxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XHRcdFwic3luY190b2tlblwiOiByZXRfc3luY190b2tlblxuXHRcdFx0XHRcImRhdGFcIjogaW5zdGFuY2VzXG5cdHJldHVybjtcbiIsInZhciBDb29raWVzLCBnZXRJbnN0YW5jZVJlYWRPbmx5O1xuXG5Db29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIik7XG5cbmdldEluc3RhbmNlUmVhZE9ubHkgPSBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCwgb3B0aW9ucykge1xuICB2YXIgX2hhc1Blcm1pc3Npb24sIF9sb2NhbGUsIF9wYXJlbnRfaW5zdGFuY2VzLCBkYXRhQnVmLCBlcnJvciwgaGlkZV90cmFjZXMsIGh0bWwsIGluc3RhbmNlLCBpbnN0YW5jZUlkLCByZWYsIHJlZjEsIHNwYWNlLCBzcGFjZUlkLCBzcGFjZVVzZXJDb3VudCwgdXNlciwgdXNlcklkO1xuICB1c2VyID0gU3RlZWRvcy5nZXRBUElMb2dpblVzZXIocmVxLCByZXMpO1xuICBpZiAocmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmFjY2Vzc190b2tlbiA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgIHVzZXJJZCA9IFN0ZWVkb3MuZ2V0VXNlcklkRnJvbUFjY2Vzc1Rva2VuKHJlcS5xdWVyeS5hY2Nlc3NfdG9rZW4pO1xuICAgIGlmICh1c2VySWQpIHtcbiAgICAgIHVzZXIgPSBNZXRlb3IudXNlcnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogdXNlcklkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgc3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2U7XG4gIGluc3RhbmNlSWQgPSByZXEucGFyYW1zLmluc3RhbmNlX2lkO1xuICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSk7XG4gIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogc3BhY2VJZFxuICB9KTtcbiAgaGlkZV90cmFjZXMgPSAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuaGlkZV90cmFjZXMgOiB2b2lkIDA7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBzaG93VHJhY2U6IHRydWVcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMuc2hvd1RyYWNlID0gdHJ1ZTtcbiAgfVxuICBpZiAoaGlkZV90cmFjZXMgPT09IFwiMVwiKSB7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMuc2hvd1RyYWNlID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHNob3dUcmFjZTogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGlmICghb3B0aW9ucy5zaG93QXR0YWNobWVudHMpIHtcbiAgICBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9IHRydWU7XG4gIH1cbiAgaWYgKCFzcGFjZSkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzcGFjZVwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBpbnN0YW5jZVwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCF1c2VyKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlbixYLVVzZXItSWRcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpbnN0YW5jZS5zcGFjZSAhPT0gc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzcGFjZSBvciBpbnN0YW5jZVwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgc3BhY2VVc2VyQ291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICB1c2VyOiB1c2VyLl9pZCxcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9KS5jb3VudCgpO1xuICBpZiAoc3BhY2VVc2VyQ291bnQgPT09IDApIHtcbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc2FwY2VVc2VyXCIsXG4gICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBfaGFzUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNJbnN0YW5jZVBlcm1pc3Npb25zKHVzZXIsIGluc3RhbmNlKTtcbiAgaWYgKCFfaGFzUGVybWlzc2lvbiAmJiBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcbiAgICBfcGFyZW50X2luc3RhbmNlcyA9IF8udW5pb24oW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZV0sIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgfHwgW10pO1xuICAgIF9oYXNQZXJtaXNzaW9uID0gXy5maW5kKF9wYXJlbnRfaW5zdGFuY2VzLCBmdW5jdGlvbihfcGFyZW50X2lkKSB7XG4gICAgICB2YXIgX3BhcmVudF9pbnM7XG4gICAgICBfcGFyZW50X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBfcGFyZW50X2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRyYWNlczogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBfcGFyZW50X2lucyk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFfaGFzUGVybWlzc2lvbikge1xuICAgIF9sb2NhbGUgPSBTdGVlZG9zLmxvY2FsZSh1c2VyLl9pZCwgdHJ1ZSk7XG4gICAgZXJyb3IgPSBUQVBpMThuLl9fKFwiaW5zdGFuY2VfcGVybWlzc2lvbnNfZXJyb3JcIiwge30sIF9sb2NhbGUpO1xuICAgIHJlcy5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBlcnJvcixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC1cIiArIChkYXRhQnVmLmxlbmd0aCAtIDEpICsgXCIvXCIgKyBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChodG1sKTtcbn07XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZFwiLCBnZXRJbnN0YW5jZVJlYWRPbmx5KTtcblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkLzppbnN0YW5jZV9uYW1lXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBvcHRpb25zO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nICsgZW5jb2RlVVJJKHJlcS5wYXJhbXMuaW5zdGFuY2VfbmFtZSkpO1xuICByZXMuc2V0SGVhZGVyKCdUcmFuc2Zlci1FbmNvZGluZycsICcnKTtcbiAgb3B0aW9ucyA9IHtcbiAgICBhYnNvbHV0ZTogdHJ1ZVxuICB9O1xuICByZXR1cm4gZ2V0SW5zdGFuY2VSZWFkT25seShyZXEsIHJlcywgbmV4dCwgb3B0aW9ucyk7XG59KTtcblxuXG4vKlxuXHTojrflj5bnlLPor7fljZXliJfooajvvJpcbiAgICBmaW5hbF9kZWNpc2lvbu+8muWuoeaJuee7k+aenFxuICAgIHN0YXRlOiDnlLPor7fljZXnirbmgIFcbiAqL1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5zdGFuY2VzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBmLCBmbG93SWQsIGZsb3dJZHMsIGZsb3dzLCBpLCBpbnN0YW5jZXMsIHF1ZXJ5LCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJldF9zeW5jX3Rva2VuLCBzcGFjZUlkLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMsIHN5bmNfdG9rZW4sIHVzZXJfaWQ7XG4gIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgc3BhY2VJZCA9IHJlcS5oZWFkZXJzW1wieC1zcGFjZS1pZFwiXTtcbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtU3BhY2UtSWRcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZsb3dJZCA9IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuZmxvd0lkIDogdm9pZCAwO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBmbG93SWRcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHF1ZXJ5ID0ge307XG4gIHJldF9zeW5jX3Rva2VuID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGZsb3dJZHMgPSBmbG93SWQuc3BsaXQoXCIsXCIpO1xuICBmbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBmbG93SWRzXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICBpID0gMDtcbiAgd2hpbGUgKGkgPCBmbG93cy5sZW5ndGgpIHtcbiAgICBmID0gZmxvd3NbaV07XG4gICAgc3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogZi5zcGFjZSxcbiAgICAgIHVzZXI6IHVzZXJfaWRcbiAgICB9KTtcbiAgICBpZiAoIXNwYWNlVXNlcikge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzIFwiICsgZi5faWQsXG4gICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG5cbiAgICB9XG4gICAgaWYgKCFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCB1c2VyX2lkKSkge1xuICAgICAgc3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogc3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIGlmICghV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZiwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSAmJiAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykpIHtcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzIFwiICsgZi5faWQsXG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGkrKztcbiAgfVxuICBxdWVyeS5mbG93ID0ge1xuICAgICRpbjogZmxvd0lkc1xuICB9O1xuICBxdWVyeS5zcGFjZSA9IHNwYWNlSWQ7XG4gIGlmICgocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuc3luY190b2tlbiA6IHZvaWQgMCkge1xuICAgIHN5bmNfdG9rZW4gPSBuZXcgRGF0ZShOdW1iZXIocmVxLnF1ZXJ5LnN5bmNfdG9rZW4pKTtcbiAgICBxdWVyeS5tb2RpZmllZCA9IHtcbiAgICAgICRndDogc3luY190b2tlblxuICAgIH07XG4gIH1cbiAgaWYgKChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5maW5hbF9kZWNpc2lvbiA6IHZvaWQgMCkge1xuICAgIHF1ZXJ5LmZpbmFsX2RlY2lzaW9uID0ge1xuICAgICAgJGluOiByZXEucXVlcnkuZmluYWxfZGVjaXNpb24uc3BsaXQoXCIsXCIpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHtcbiAgICAgICRuaW46IFtcInRlcm1pbmF0ZWRcIiwgXCJyZWplY3RlZFwiXVxuICAgIH07XG4gIH1cbiAgaWYgKChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy5zdGF0ZSA6IHZvaWQgMCkge1xuICAgIHF1ZXJ5LnN0YXRlID0ge1xuICAgICAgJGluOiByZXEucXVlcnkuc3RhdGUuc3BsaXQoXCIsXCIpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gIH1cbiAgaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIGluYm94X3VlcnM6IDAsXG4gICAgICBjY191c2VyczogMCxcbiAgICAgIG91dGJveF91c2VyczogMCxcbiAgICAgIHRyYWNlczogMCxcbiAgICAgIGF0dGFjaG1lbnRzOiAwXG4gICAgfSxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiA1MDBcbiAgfSkuZmV0Y2goKTtcbiAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgYXR0YWNobWVudHM7XG4gICAgYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLFxuICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgJG5lOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNvcGllczogMFxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcmV0dXJuIGluc3RhbmNlLmF0dGFjaG1lbnRzID0gYXR0YWNobWVudHM7XG4gIH0pO1xuICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgXCJzeW5jX3Rva2VuXCI6IHJldF9zeW5jX3Rva2VuLFxuICAgICAgXCJkYXRhXCI6IGluc3RhbmNlc1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIlxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvc3RlZWRvcy1jc3NcIiwgKHJlcSwgcmVzLCBuZXh0KS0+XG5cblx0YWxsQ3NzID0gV2ViQXBwLmdldFJlZnJlc2hhYmxlQXNzZXRzKClcblxuXHRhbGxDc3NMaW5rID0gXCJcIlxuXG5cdGFsbENzcy5mb3JFYWNoIChjc3MpIC0+XG5cdFx0aWYgX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWFxuXHRcdFx0cm9vdFVybCA9IF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxcblx0XHRcdGlmIHJvb3RVcmwuZW5kc1dpdGgoXCIvXCIpXG5cdFx0XHRcdGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCArIFwiL1wiLCBcIlwiKSArIGNzcy51cmxcblx0XHRcdGVsc2Vcblx0XHRcdFx0Y3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYLCBcIlwiKSArIGNzcy51cmxcblx0XHRlbHNlXG5cdFx0XHRjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKGNzcy51cmwpXG5cdFx0YWxsQ3NzTGluayArPSBcIkBpbXBvcnQgdXJsKCN7Y3NzSHJlZn0pO1wiXG5cblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcblx0cmVzLmVuZChhbGxDc3NMaW5rKSIsIkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhbGxDc3MsIGFsbENzc0xpbms7XG4gIGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpO1xuICBhbGxDc3NMaW5rID0gXCJcIjtcbiAgYWxsQ3NzLmZvckVhY2goZnVuY3Rpb24oY3NzKSB7XG4gICAgdmFyIGNzc0hyZWYsIHJvb3RVcmw7XG4gICAgaWYgKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVgpIHtcbiAgICAgIHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMO1xuICAgICAgaWYgKHJvb3RVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCArIFwiL1wiLCBcIlwiKSArIGNzcy51cmw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVgsIFwiXCIpICsgY3NzLnVybDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIGFsbENzc0xpbmsgKz0gXCJAaW1wb3J0IHVybChcIiArIGNzc0hyZWYgKyBcIik7XCI7XG4gIH0pO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoYWxsQ3NzTGluayk7XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9kcmFmdC86Zmxvd1wiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0cmV0dXJuXG5cblx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdXNlcl9pZCB9KVxuXG5cdHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlXG5cblx0Zmxvd0lkID0gcmVxLnBhcmFtcy5mbG93XG5cblx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogc3BhY2VJZCB9KVxuXG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93SWQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSwgJ2N1cnJlbnQuX2lkJzogMSwgZm9ybTogMSB9IH0pXG5cblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3cuZm9ybSB9LCB7IGZpZWxkczogeyAnY3VycmVudC5faWQnOiAxIH0gfSlcblxuXHRvcHRpb25zID0ge1xuXHRcdHNob3dUcmFjZTogZmFsc2UsXG5cdFx0c2hvd0F0dGFjaG1lbnRzOiBmYWxzZSxcblx0XHR0ZW1wbGF0ZU5hbWU6IFwiZGVmYXVsdFwiLFxuXHRcdGVkaXRhYmxlOiB0cnVlLFxuXHRcdHdpZHRoOiBcIjEwMCVcIixcblx0XHRpbnN0YW5jZV9zdHlsZTogXCJpbnN0YW5jZS1kZWZhdWx0XCIsXG5cdFx0cGx1Z2luczogXCJcIlwiXG5cblx0XHRcdDxtZXRhIGh0dHAtZXF1aXY9XCJYLVVBLUNvbXBhdGlibGVcIiBjb250ZW50PVwiSUU9ZWRnZSxjaHJvbWU9MVwiIC8+XG5cdFx0XHQ8bWV0YSBuYW1lPVwiZm9ybWF0LWRldGVjdGlvblwiIGNvbnRlbnQ9XCJ0ZWxlcGhvbmU9bm9cIj5cblx0XHRcdDxtZXRhIGh0dHAtZXF1aXY9XCJ4LXJpbS1hdXRvLW1hdGNoXCIgY29udGVudD1cIm5vbmVcIj5cblx0XHRcdDx0aXRsZT4je2Zsb3cubmFtZX08L3RpdGxlPlxuXHRcdFx0PG1ldGEgY29udGVudD0nd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgbWF4aW11bS1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9MCcgbmFtZT0ndmlld3BvcnQnIC8+XG5cdFx0XHQ8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoXCIgLz5cblxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvY3NzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uY3NzXCI+XG5cblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2pzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2pzL2xvY2FsZXMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLnpoLUNOLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIGNoYXJzZXQ9XCJVVEYtOFwiPjwvc2NyaXB0PlxuXG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmNzc1wiPlxuXHRcdFx0PHNjcmlwdCBzcmM9XCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL2pzL3dvcmtmbG93X2NsaWVudC5jc3NcIj5cblx0XHRcdDxzY3JpcHQgc3JjPVwiL2pzL3dvcmtmbG93X2NsaWVudC5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cblx0XHRcIlwiXCJcblx0fVxuXG5cdGluc3RhbmNlID0ge1xuXHRcdGZsb3c6IGZsb3cuX2lkLFxuXHRcdGZsb3dfdmVyc2lvbjogZmxvdy5jdXJyZW50Ll9pZCxcblx0XHRmb3JtOiBmb3JtLl9pZCxcblx0XHRmb3JtX3ZlcnNpb246IGZvcm0uY3VycmVudC5faWQsXG5cdFx0dmFsdWVzOiB7fSxcblx0XHRuYW1lOiBmbG93Lm5hbWUsXG5cdFx0c3BhY2U6IHNwYWNlSWRcblx0fVxuXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblxuXHRkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKVxuXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpXG5cblx0cmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC0je2RhdGFCdWYubGVuZ3RoIC0gMX0vI3tkYXRhQnVmLmxlbmd0aH1cIilcblxuXHRyZXMuc3RhdHVzQ29kZSA9IDIwMFxuXG5cdHJlcy5lbmQoaHRtbClcbiIsIkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9kcmFmdC86Zmxvd1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZGF0YUJ1ZiwgZmxvdywgZmxvd0lkLCBmb3JtLCBodG1sLCBpbnN0YW5jZSwgb3B0aW9ucywgc3BhY2UsIHNwYWNlSWQsIHVzZXIsIHVzZXJfaWQ7XG4gIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgIF9pZDogdXNlcl9pZFxuICB9KTtcbiAgc3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2U7XG4gIGZsb3dJZCA9IHJlcS5wYXJhbXMuZmxvdztcbiAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgX2lkOiBzcGFjZUlkXG4gIH0pO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgX2lkOiBmbG93SWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgICdjdXJyZW50Ll9pZCc6IDEsXG4gICAgICBmb3JtOiAxXG4gICAgfVxuICB9KTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgIF9pZDogZmxvdy5mb3JtXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgICdjdXJyZW50Ll9pZCc6IDFcbiAgICB9XG4gIH0pO1xuICBvcHRpb25zID0ge1xuICAgIHNob3dUcmFjZTogZmFsc2UsXG4gICAgc2hvd0F0dGFjaG1lbnRzOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZU5hbWU6IFwiZGVmYXVsdFwiLFxuICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICBpbnN0YW5jZV9zdHlsZTogXCJpbnN0YW5jZS1kZWZhdWx0XCIsXG4gICAgcGx1Z2luczogXCJcXG48bWV0YSBodHRwLWVxdWl2PVxcXCJYLVVBLUNvbXBhdGlibGVcXFwiIGNvbnRlbnQ9XFxcIklFPWVkZ2UsY2hyb21lPTFcXFwiIC8+XFxuPG1ldGEgbmFtZT1cXFwiZm9ybWF0LWRldGVjdGlvblxcXCIgY29udGVudD1cXFwidGVsZXBob25lPW5vXFxcIj5cXG48bWV0YSBodHRwLWVxdWl2PVxcXCJ4LXJpbS1hdXRvLW1hdGNoXFxcIiBjb250ZW50PVxcXCJub25lXFxcIj5cXG48dGl0bGU+XCIgKyBmbG93Lm5hbWUgKyBcIjwvdGl0bGU+XFxuPG1ldGEgY29udGVudD0nd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgbWF4aW11bS1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9MCcgbmFtZT0ndmlld3BvcnQnIC8+XFxuPG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aFxcXCIgLz5cXG5cXG48bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBocmVmPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvY3NzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uY3NzXFxcIj5cXG5cXG48c2NyaXB0IHNyYz1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2pzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuXFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9sb2NhbGVzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci56aC1DTi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIiBjaGFyc2V0PVxcXCJVVEYtOFxcXCI+PC9zY3JpcHQ+XFxuXFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uY3NzXFxcIj5cXG48c2NyaXB0IHNyYz1cXFwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL2pzL3dvcmtmbG93X2NsaWVudC5jc3NcXFwiPlxcbjxzY3JpcHQgc3JjPVxcXCIvanMvd29ya2Zsb3dfY2xpZW50LmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlwiXG4gIH07XG4gIGluc3RhbmNlID0ge1xuICAgIGZsb3c6IGZsb3cuX2lkLFxuICAgIGZsb3dfdmVyc2lvbjogZmxvdy5jdXJyZW50Ll9pZCxcbiAgICBmb3JtOiBmb3JtLl9pZCxcbiAgICBmb3JtX3ZlcnNpb246IGZvcm0uY3VycmVudC5faWQsXG4gICAgdmFsdWVzOiB7fSxcbiAgICBuYW1lOiBmbG93Lm5hbWUsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfTtcbiAgaHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LXJhbmdlJywgXCJieXRlcyAwLVwiICsgKGRhdGFCdWYubGVuZ3RoIC0gMSkgKyBcIi9cIiArIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGh0bWwpO1xufSk7XG4iLCJBcnJheS5wcm90b3R5cGUuZmlsdGVyUHJvcGVydHkgPSBmdW5jdGlvbihoLCBsKXtcbiAgICB2YXIgZyA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtcbiAgICAgICAgdmFyIG0gPSB0PyB0W2hdOm51bGw7XG4gICAgICAgIHZhciBkID0gZmFsc2U7XG4gICAgICAgIGlmKG0gaW5zdGFuY2VvZiBBcnJheSl7XG4gICAgICAgICAgICBkID0gbS5pbmNsdWRlcyhsKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBkID0gKGwgPT09IHVuZGVmaW5lZCk/IGZhbHNlOm09PWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYoZCl7XG4gICAgICAgICAgICBnLnB1c2godCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZztcbn07XG5cbkFycmF5LnByb3RvdHlwZS5nZXRQcm9wZXJ0eSA9IGZ1bmN0aW9uKGspe1xuICAgIHZhciB2ID0gbmV3IEFycmF5KCk7XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1xuICAgICAgICB2YXIgbSA9IHQ/IHRba106bnVsbDtcbiAgICAgICAgdi5wdXNoKG0pO1xuICAgIH0pO1xuICAgIHJldHVybiB2O1xufVxuXG5BcnJheS5wcm90b3R5cGUuZ2V0RWFjaCA9IGZ1bmN0aW9uKGNvZGUpe1xuICAgIHZhciByZXYgPSBbXTtcbiAgICBmb3IodmFyIGkgPSAwIDsgaSA8IHRoaXMubGVuZ3RoIDsgaSsrKXtcbiAgICAgICAgcmV2LnB1c2godGhpc1tpXVtjb2RlXSk7XG4gICAgfVxuICAgIHJldHVybiByZXY7XG59O1xuXG5BcnJheS5wcm90b3R5cGUudW5pcSA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGEgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24oYil7IFxuICAgICAgICBpZihhLmluZGV4T2YoYikgPCAwKVxuICAgICAgICAgICAge2FbYS5sZW5ndGhdID0gYn1cbiAgICB9KTtcbiAgICByZXR1cm4gYTtcbn07XG5cbkZvcm1fZm9ybXVsYSA9IHt9O1xuXG5cbkZvcm1fZm9ybXVsYS5taXhpbiA9IGZ1bmN0aW9uKGRlc3QsIHNyYyl7XG4gICAgZm9yKHZhciBrZXkgaW4gc3JjKXtcbiAgICAgICAgZGVzdFtrZXldID0gc3JjW2tleV07XG4gICAgfVxuICAgIHJldHVybiBkZXN0O1xufTtcblxuXG5Gb3JtX2Zvcm11bGEuaGFuZGVyVXNlck9iamVjdCA9IGZ1bmN0aW9uKHUpe1xuXG4gICAgaWYodSBpbnN0YW5jZW9mIEFycmF5KXtcbiAgICAgICAgdmFyIHVzZXIgPSB7fTtcblxuICAgICAgICB1c2VyLm5hbWUgPSB1LmdldFByb3BlcnR5KFwibmFtZVwiKVxuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbiA9IHt9O1xuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbi5uYW1lID0gdS5nZXRQcm9wZXJ0eShcIm9yZ2FuaXphdGlvblwiKS5nZXRQcm9wZXJ0eShcIm5hbWVcIik7XG4gICAgICAgIHVzZXIub3JnYW5pemF0aW9uLmZ1bGxuYW1lID0gdS5nZXRQcm9wZXJ0eShcIm9yZ2FuaXphdGlvblwiKS5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpO1xuXG4gICAgICAgIHVzZXIuaHIgPSB1LmdldFByb3BlcnR5KFwiaHJcIilcblxuICAgICAgICB1c2VyLnNvcnRfbm8gPSB1LmdldFByb3BlcnR5KFwic29ydF9ub1wiKVxuXG5cdFx0dXNlci5tb2JpbGUgPSB1LmdldFByb3BlcnR5KFwibW9iaWxlXCIpXG5cblx0XHR1c2VyLndvcmtfcGhvbmUgPSB1LmdldFByb3BlcnR5KFwid29ya19waG9uZVwiKVxuXG5cdFx0dXNlci5wb3NpdGlvbiA9IHUuZ2V0UHJvcGVydHkoXCJwb3NpdGlvblwiKVxuXG4gICAgICAgIHZhciB1c2VyUm9sZXMgPSB1LmdldFByb3BlcnR5KFwicm9sZXNcIik7XG4gICAgICAgIHZhciByb2xlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICB1c2VyUm9sZXMuZm9yRWFjaChmdW5jdGlvbihpKXtcbiAgICAgICAgICAgIHJvbGVzID0gcm9sZXMuY29uY2F0KGkpO1xuICAgICAgICB9KTsgXG4gICAgICAgIHJvbGVzLnVuaXEoKTtcbiAgICAgICAgdXNlci5yb2xlcyA9IHJvbGVzO1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICB9ZWxzZXtcbiAgICAgICAgcmV0dXJuIHU7XG4gICAgfVxufVxuXG5Gb3JtX2Zvcm11bGEuaGFuZGVyT3JnT2JqZWN0ID0gZnVuY3Rpb24obyl7XG5cbiAgICBpZihvIGluc3RhbmNlb2YgQXJyYXkpe1xuICAgICAgICB2YXIgb3JnID0ge307XG5cdFx0b3JnLmlkID0gby5nZXRQcm9wZXJ0eShcIl9pZFwiKTtcbiAgICAgICAgb3JnLm5hbWUgPSBvLmdldFByb3BlcnR5KFwibmFtZVwiKTtcbiAgICAgICAgb3JnLmZ1bGxuYW1lID0gby5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpO1xuXG4gICAgICAgIHJldHVybiBvcmc7XG4gICAgfWVsc2V7XG4gICAgICAgIHJldHVybiBvO1xuICAgIH1cbn1cblxuXG5cbi8qKlxuICAgICog6I635b6X5YWs5byP6ZyA6KaB55So5Yiw55qE5Yid5aeL5YC8XG4gICAgKiDovpPlhaXvvJpmaWVsZHMsIHZhbHVlcywgYXBwbGljYW50XG4gICAgKiDovpPlh7rvvJpfX3ZhbHVlc1xuKiovXG5Gb3JtX2Zvcm11bGEuaW5pdF9mb3JtdWxhX3ZhbHVlcyA9IGZ1bmN0aW9uKGZpZWxkcywgYXV0b0Zvcm1Eb2MsIGFwcHJvdmVyLCBhcHBsaWNhbnQsIHNwYWNlSWQpe1xuICAgIHZhciBfX3ZhbHVlcyA9IHt9O1xuICAgIC8v55Sz6K+35Y2V5Lit5aGr55qE5YC85aSE55CGXG4gICAgaWYoZmllbGRzICYmIGZpZWxkcy5sZW5ndGggJiYgYXV0b0Zvcm1Eb2MpIHtcbiAgICAgICAgLy9kZWJ1Z2dlcjtcbiAgICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpe1xuICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWVsZC50eXBlO1xuICAgICAgICAgICAgaWYodHlwZSkge1xuICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgICAgKiDlsIbooajmoLzlrZfmrrXnmoTlgLzov5vooYzovazmjaLlkI7kvKDlhaVfX3ZhbHVlc+S4rVxuICAgICAgICAgICAgICAgICAgICAqIHZhbHVlc+S4reihqOagvOeahOWAvOagvOW8j+S4ulxuICAgICAgICAgICAgICAgICAgICAqIFt7XCJhXCI6MSxcImJcIjo0fSx7XCJhXCI6MixcImJcIjo1fSx7XCJhXCI6MyxcImJcIjo2fV1cbiAgICAgICAgICAgICAgICAgICAgKiBfX3ZhbHVlc+mcgOimgei9rOWMluS4uuS4i+mdouagvOW8j+S4lOWSjOS4u+ihqOeahOWAvOS4gOagt+aUvuWIsOesrOS4gOWxglxuICAgICAgICAgICAgICAgICAgICAqIHtcImFcIjpbMSwyLDNdLFwiYlwiOls0LDUsNl19XG4gICAgICAgICAgICAgICAgICAgICoqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVGaWVsZHMgPSBmaWVsZC5zZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVWYWx1ZXMgPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGFUYWJsZVZhbHVlcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgX190YWJsZVZhbHVlcyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAvL+aMieWFrOW8j+eahOagvOW8j+i9rOaNouWAvOS4ul9fdGFibGVWYWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgaWYodGFibGVGaWVsZHMgJiYgdGFibGVGaWVsZHMubGVuZ3RoICYmIHRhYmxlVmFsdWVzICYmIHRhYmxlVmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzLmZvckVhY2goZnVuY3Rpb24odGFibGVWYWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybXVsYVRhYmxlVmFsdWVzLnB1c2goRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXModGFibGVGaWVsZHMsIHRhYmxlVmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy/mjInkuLvooajnmoTmoLzlvI/ovazmjaJfX3RhYmxlVmFsdWVz5Yqg5YiwXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlZmllbGQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fdGFibGVWYWx1ZXNbdGFibGVmaWVsZC5jb2RlXSA9IGZvcm11bGFUYWJsZVZhbHVlcy5nZXRFYWNoKHRhYmxlZmllbGQuY29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzID0gRm9ybV9mb3JtdWxhLm1peGluKF9fdmFsdWVzLCBfX3RhYmxlVmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAndXNlcicpe1xuICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IEZvcm1fZm9ybXVsYS5oYW5kZXJVc2VyT2JqZWN0KFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdHMoc3BhY2VJZCwgYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0pKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZ3JvdXAnKXtcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBGb3JtX2Zvcm11bGEuaGFuZGVyT3JnT2JqZWN0KFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhT3JnT2JqZWN0cyhhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSkpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdvZGF0YScpe1xuXHRcdFx0XHRcdF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0gfHwge31cblxuXHRcdFx0XHR9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL+atpOWkhOS8oHNwYWNlSWTnu5npgInkurrmjqfku7bnmoTml6fmlbDmja7orqHnrpdyb2xlc+WSjG9yZ2FuaXphdGlvblxuICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICAgIC8v5b2T5YmN5aSE55CG5Lq6XG4gICAgX192YWx1ZXNbXCJhcHByb3ZlclwiXSA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdChzcGFjZUlkLCBhcHByb3Zlcik7XG4gICAgLy/nlLPor7fkurpcbiAgICBfX3ZhbHVlc1tcImFwcGxpY2FudFwiXSA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdChzcGFjZUlkLCBhcHBsaWNhbnQpO1xuXG4gICAgcmV0dXJuIF9fdmFsdWVzO1xufTtcblxuIiwiZ2V0SGFuZGxlcnNNYW5hZ2VyID0ge31cblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzID0gKHVzZXJfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cblx0YXBwcm92ZV91c2VycyA9IG5ldyBBcnJheVxuXHRfLmVhY2godXNlcl9pZHMsICh1c2VyX2lkKS0+XG5cdFx0aWYgZGIudXNlcnMuZmluZCh7X2lkOiB1c2VyX2lkfSkuY291bnQoKSA+IDBcblx0XHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXModXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKVxuXHRcdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0XHRhcHByb3ZlX3VzZXJzID0gYXBwcm92ZV91c2Vycy5jb25jYXQodXNlcnMpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJ1c2VyX2lk5LiN5ZCI5rOV5LiN5ZCI5rOVXCIpXG5cdClcblx0YXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKVxuXHRyZXR1cm4gYXBwcm92ZV91c2Vyc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyA9ICh1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKHJvbGVfaWRzLCAocm9sZV9pZCktPlxuXHRcdGlmIGRiLmZsb3dfcm9sZXMuZmluZCh7X2lkOiByb2xlX2lkfSkuY291bnQoKSA+IDBcblx0XHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSh1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZClcblx0XHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJyb2xlX2lk5bey57uP6KKr5Yig6ZmkXCIpXG5cdClcblx0aWYgdXNlcl9pZHMubGVuZ3RoID4gMFxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRcdHJldHVybiB1c2VyX2lkc1xuXHRlbHNlXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja51c2VyX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIilcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSA9ICh1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkgLT5cblx0b3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcnM6IHVzZXJfaWQgfSwgeyBmaWVsZHM6IHsgX2lkOiAxIH0gfSkuZmV0Y2goKVxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRfLmVhY2gob3JncywgKG9yZykgLT5cblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmcuX2lkLCByb2xlX2lkLCBzcGFjZV9pZClcblx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXG5cdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycylcblx0KVxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0cmV0dXJuIHVzZXJfaWRzXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzID0gKG9yZ19pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCktPlxuXHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyhvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZClcblx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXG5cdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycylcblx0KVxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0cmV0dXJuIHVzZXJfaWRzXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMgPSAob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKHJvbGVfaWRzLCAocm9sZV9pZCktPlxuXHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdClcblx0aWYgdXNlcl9pZHMubGVuZ3RoID4gMFxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRcdHJldHVybiB1c2VyX2lkc1xuXHRlbHNlXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja5vcmdfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKVxuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUgPSAob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkgLT5cblx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgcGFyZW50czogMSB9IH0pXG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIG9yZzogb3JnX2lkLCByb2xlOiByb2xlX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxuXHRfLmVhY2gocG9zaXRpb25zLCAocG9zaXRpb24pIC0+XG5cdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpXG5cdClcblx0aWYgdXNlcl9pZHMubGVuZ3RoIGlzIDBcblx0XHRwYXJlbnRzID0gb3JnLnBhcmVudHNcblx0XHRfLmVhY2gocGFyZW50cywgKHBhcmVudF9pZCkgLT5cblx0XHRcdHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIG9yZzogcGFyZW50X2lkLCByb2xlOiByb2xlX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxuXHRcdFx0aWYgcG9zaXRpb25zLmxlbmd0aCA+IDBcblx0XHRcdFx0Xy5lYWNoKHBvc2l0aW9ucywgKHBvc2l0aW9uKSAtPlxuXHRcdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKVxuXHRcdFx0XHQpXG5cdFx0KVxuXG5cdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRyZXR1cm4gdXNlcl9pZHNcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzID0gKGluc3RhbmNlX2lkLCBzdGVwX2lkKSAtPlxuXHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKVxuXG5cdCMg5ouf56i/5pe2LCDlj6/ku6Xorr7lrprlkI7nu63mr4/kuKrmraXpqqTnmoTlpITnkIbkurogIzE5MjZcblx0aWYgaW5zdGFuY2Uuc3RlcF9hcHByb3ZlICYmICFfLmlzRW1wdHkoaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW1wiI3tzdGVwX2lkfV9vcHRpb25zXCJdKVxuXHRcdHJldHVybiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbXCIje3N0ZXBfaWR9X29wdGlvbnNcIl1cblxuXHRhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5XG5cdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3dcblx0Zmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cblx0Y3VycmVudF9mbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkKVxuXHRjdXJyZW50X3N0ZXAgPSBudWxsXG5cdGN1cnJlbnRfc3RlcHMgPSBuZXcgQXJyYXlcblxuXHRpZiBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQgaXMgZmxvd19yZXZcblx0XHRjdXJyZW50X3N0ZXBzID0gY3VycmVudF9mbG93LmN1cnJlbnQuc3RlcHNcblx0ZWxzZVxuXHRcdGN1cnJlbnQgPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoaGlzdG9yeSkgLT5cblx0XHRcdHJldHVybiBoaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdClcblx0XHRjdXJyZW50X3N0ZXBzID0gY3VycmVudC5zdGVwc1xuXG5cdCMg5LuO6I635Y+W55qEc3RlcHPkuK3moLnmja46c3RlcF9pZOaPkOWPluWvueW6lOeahHN0ZXDlr7nosaFcblx0Y3VycmVudF9zdGVwID0gXy5maW5kKGN1cnJlbnRfc3RlcHMsIChzdGVwKSAtPlxuXHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXG5cdClcblx0IyDliKTmlq1zdGVwX3R5cGVcblx0aWYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvbmRpdGlvblwiXG5cdFx0dW5maW5pc2hlZF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cblx0XHRcdHJldHVybiB0cmFjZS5pc19maW5pc2hlZCBpcyBmYWxzZVxuXHRcdClcblxuXHRcdHJldHVybiBuZXcgQXJyYXkodW5maW5pc2hlZF90cmFjZS5hcHByb3Zlc1swXS51c2VyKVxuXG5cdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJzdGFydFwiXG5cdFx0aGFuZGxlcnMgPSBuZXcgQXJyYXlcblx0XHRoYW5kbGVycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudClcblx0XHRoYW5kbGVycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcilcblx0XHRoYW5kbGVycyA9IF8udW5pcShoYW5kbGVycylcblx0XHRyZXR1cm4gaGFuZGxlcnNcblx0IyDlvpfliLBzdGVw55qEXCJkZWFsX3R5cGVcIu+8jOW5tui/m+ihjOmAu+i+keWIpOaWreaJvuWIsOWvueW6lOeahOWkhOeQhuS6ulxuXHRkZWFsX3R5cGUgPSBjdXJyZW50X3N0ZXAuZGVhbF90eXBlXG5cdHVzZXJzID0gbmV3IEFycmF5XG5cdGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFJvbGVcIlxuXHRcdCMgMS4qKioqKioqKioqKueUs+ivt+S6uuaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXG5cdFx0YXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50XG5cdFx0aWYgYXBwbGljYW50XG5cdFx0XHRzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50IH0pLmNvdW50KClcblx0XHRcdGlmIHNwYWNlX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpXG5cblx0XHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcblx0XHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XG5cdFx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXG5cdFx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0XHQpXG5cblx0XHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKGFwcGxpY2FudCwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcblx0XHRcdGVsc2Vcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcblxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiSW5zdGFuY2XnmoTmj5DkuqTkurrkuLrnqbpcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJoclJvbGVcIlxuXHRcdGFwcHJvdmVIclJvbGVJZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfaHJfcm9sZXM7XG5cdFx0aWYgKGFwcHJvdmVIclJvbGVJZHMpXG5cdFx0XHRyZXR1cm4gXy5wbHVjayhXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlX2lkLCBhcHByb3ZlSHJSb2xlSWRzKSwgJ3VzZXInKTtcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuacquaMh+WumlwiKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFwiXG5cdFx0IyAyLioqKioqKioqKioq55Sz6K+35Lq6KioqKioqKioqKipcblx0XHRhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnRcblx0XHRzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50IH0pLmNvdW50KClcblx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIilcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gbmV3IEFycmF5KGFwcGxpY2FudClcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJvcmdGaWVsZFJvbGVcIlxuXHRcdCMgMy4qKioqKioqKioqKumDqOmXqOWtl+auteaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXG5cdFx0Zm9ybV9yZXYgPSBudWxsXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHQpXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XG5cdFx0XHQpXG5cblx0XHRhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKSAtPlxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfb3JnX2ZpZWxkXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcblx0XHQpXG5cblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cdFx0b3JnX2lkcyA9IG5ldyBBcnJheVxuXHRcdG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXlcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcblx0XHRcdFx0b3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGVsc2Vcblx0XHRcdFx0b3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXG5cblx0XHQjIOagoemqjG9yZ19pZOaVsOe7hOS4rW9yZ19pZOaYr+WQpuWQiOazlVxuXHRcdF8uZWFjaChvcmdfaWRzX25hbWVzLCAob3JnKSAtPlxuXHRcdFx0Y2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBvcmdbXCJpZFwiXSB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja19vcmdfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpXG5cdFx0XHRvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pXG5cdFx0KVxuXG5cdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxuXHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpXG5cdFx0XHQpXG5cdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMob3JnX2lkcywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBpbnN0YW5jZS5zcGFjZSlcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcIm9yZ0ZpZWxkXCJcblx0XHQjIDQuKioqKioqKioqKirpg6jpl6jlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTkurrlkZgqKioqKioqKioqKlxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxuXHRcdGZvcm1fcmV2ID0gbnVsbFxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0KVxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxuXHRcdFx0KVxuXG5cdFx0YXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZFxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xuXHRcdGZpZWxkX2NvZGUgPSBudWxsXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCktPlxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfb3JnX2ZpZWxkXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcblx0XHQpXG5cblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cblx0XHRvcmdfaWRzID0gbmV3IEFycmF5XG5cdFx0b3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheVxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0XHRvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcblxuXHRcdCMg5qCh6aqMb3JnX2lk5pWw57uE5Litb3JnX2lk5piv5ZCm5ZCI5rOVXG5cdFx0Xy5lYWNoKG9yZ19pZHNfbmFtZXMsIChvcmcpIC0+XG5cdFx0XHRjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBfaWQ6IG9yZ1tcImlkXCJdIH0pLmNvdW50KClcblx0XHRcdGlmIGNoZWNrX29yZ19jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIilcblx0XHRcdG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSlcblx0XHQpXG5cblx0XHQjIOagoemqjG9yZ+S4i+WtmOWcqOWkhOeQhuS6ulxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XG5cdFx0XHRvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IG9yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pXG5cdFx0XHRvcmdfY2hpbGRyZW4gPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHBhcmVudHM6IG9yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0XHRcdG9yZ19jaGlsZHJlbi51bnNoaWZ0KG9yZylcblx0XHRcdGNoZWNrX29yZ3MgPSBvcmdfY2hpbGRyZW5cblx0XHRcdG9yZ191c2VycyA9IG5ldyBBcnJheVxuXHRcdFx0Xy5lYWNoKGNoZWNrX29yZ3MsIChjaGVja19vcmdfdXNlcikgLT5cblx0XHRcdFx0aWYgY2hlY2tfb3JnX3VzZXIudXNlcnNcblx0XHRcdFx0XHRfLmVhY2goY2hlY2tfb3JnX3VzZXIudXNlcnMsIChvcmdfdXNlcikgLT5cblx0XHRcdFx0XHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IG9yZ191c2VyIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInNwYWNl5LiL5LiN5a2Y5Zyo5q2kdXNlclwiKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpXG5cdFx0XHRcdG9yZ191c2VycyA9IG9yZ191c2Vycy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpXG5cdFx0XHQpXG5cblx0XHRcdGlmIG9yZ191c2Vycy5sZW5ndGggaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h1wiICsgb3JnX2lkICsgXCLkuI3lrZjlnKjlpITnkIbkurpcIilcblxuXHRcdClcblxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRcdHJldHVybiB1c2VyX2lkc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInVzZXJGaWVsZFJvbGVcIlxuXHRcdCMgNS4qKioqKioqKioqKuS6uuWRmOWtl+auteaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXG5cdFx0Zm9ybV9yZXYgPSBudWxsXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHQpXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XG5cdFx0XHQpXG5cblx0XHRhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpIC0+XG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl91c2VyX2ZpZWxkXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcblx0XHQpXG5cblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXG5cdFx0IyDojrflj5Z1c2VyX2lk5pWw57uEXG5cdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXlcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcblxuXHRcdCMg5qCh6aqMdXNlcl9pZOaVsOe7hOS4rXVzZXJfaWTmmK/lkKblkIjms5Vcblx0XHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaCh1c2VyX2lkc19uYW1lcywgKHVzZXIpIC0+XG5cdFx0XHRjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogdXNlcltcImlkXCJdIH0pLmNvdW50KClcblx0XHRcdGlmIGNoZWNrX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpXG5cdFx0XHR1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSlcblx0XHQpXG5cblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHQjIOajgOafpWFwcHJvdmVyX3JvbGVz5Litcm9sZeaYr+WQpuS4jeWtmOWcqOaIluW3sue7j+iiq+WIoOmZpFxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdClcblx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXModXNlcl9pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJ1c2VyRmllbGRcIlxuXHRcdCMgNi4qKioqKioqKioqKuihqOWNleS6uuWRmOWtl+autSoqKioqKioqKioqXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXG5cdFx0Zm9ybV9yZXYgPSBudWxsXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHQpXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XG5cdFx0XHQpXG5cblx0XHRhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxuXHRcdClcblxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblxuXHRcdCMg6I635Y+WdXNlcl9pZOaVsOe7hFxuXHRcdHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXG5cblx0XHQjIOagoemqjHVzZXJfaWTmlbDnu4TkuK11c2VyX2lk5piv5ZCm5ZCI5rOVXG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2godXNlcl9pZHNfbmFtZXMsICh1c2VyKSAtPlxuXHRcdFx0Y2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHVzZXJbXCJpZFwiXSB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja191c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKVxuXHRcdFx0dXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pXG5cdFx0KVxuXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdFx0cmV0dXJuIHVzZXJfaWRzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVN0ZXBSb2xlXCJcblx0XHQjIDcuKioqKioqKioqKirmjIflrprmraXpqqTlpITnkIblrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcFxuXHRcdGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cblx0XHRcdGlmIHRyYWNlLnN0ZXAgaXMgYXBwcm92ZXJfc3RlcFxuXHRcdFx0XHRmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSlcblx0XHQpXG5cdFx0IyDmoLnmja5zdGFydF9kYXRl5Y+W5pyA5paw55qEdHJhY2Vcblx0XHRtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCAodCkgLT5cblx0XHRcdHJldHVybiB0LnN0YXJ0X2RhdGVcblx0XHQpXG5cblx0XHRhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIilcblxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlc1xuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0KVxuXG5cdFx0IyDpqozor4Hmn6XliLDnmoR1c2Vy5piv5ZCm6YO95ZCI5rOVXG5cdFx0Xy5lYWNoKGFwcHJvdmVfdXNlcnMsIChhcHByb3ZlX3VzZXIpIC0+XG5cdFx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHByb3ZlX3VzZXIgfSkuY291bnQoKSBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpXG5cdFx0KVxuXG5cdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyhhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlTdGVwVXNlclwiXG5cdFx0IyA4LioqKioqKioqKioq5oyH5a6a5q2l6aqk5aSE55CG5Lq6KioqKioqKioqKipcblx0XHRhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXBcblx0XHRmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2goaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XG5cdFx0XHRpZiB0cmFjZS5zdGVwIGlzIGFwcHJvdmVyX3N0ZXBcblx0XHRcdFx0ZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpXG5cdFx0KVxuXHRcdCMg5qC55o2uc3RhcnRfZGF0ZeWPluacgOaWsOeahHRyYWNlXG5cdFx0bWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgKHQpIC0+XG5cdFx0XHRyZXR1cm4gdC5zdGFydF9kYXRlXG5cdFx0KVxuXG5cdFx0YXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpXG5cblx0XHQjIOmqjOivgeafpeWIsOeahHVzZXLmmK/lkKbpg73lkIjms5Vcblx0XHRfLmVhY2goYXBwcm92ZV91c2VycywgKGFwcHJvdmVfdXNlciktPlxuXHRcdFx0Y2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZV91c2VyIH0pLmNvdW50KClcblx0XHRcdGlmIGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpXG5cdFx0KVxuXG5cdFx0YXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKVxuXHRcdHJldHVybiBhcHByb3ZlX3VzZXJzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3VibWl0dGVyUm9sZVwiXG5cdFx0IyA5LioqKioqKioqKioq5aGr5Y2V5Lq65omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcblx0XHRzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXJcblx0XHRpZiBub3Qgc3VibWl0dGVyXG5cdFx0XHQjIOWIpOaWreaPkOS6pOS6uuaYr+WQpuW3sue7j+iiq+WIoOmZpFxuXHRcdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxuXHRcdFx0aWYgc3VibWl0dGVyX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcblx0XHRcdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoc3VibWl0dGVyLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeahOaPkOS6pOS6uuS4uuepulwiKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInN1Ym1pdHRlclwiXG5cdFx0IyAxMC4qKioqKioqKioqKuaPkOS6pOS6uioqKioqKioqKioqXG5cdFx0c3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyXG5cdFx0IyDliKTmlq3mj5DkuqTkurrmmK/lkKblt7Lnu4/ooqvliKDpmaRcblx0XHRzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHN1Ym1pdHRlciB9KS5jb3VudCgpXG5cdFx0aWYgc3VibWl0dGVyX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIilcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gbmV3IEFycmF5KHN1Ym1pdHRlcilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5T3JnXCJcblx0XHQjIDExLioqKioqKioqKioq5p+Q6YOo6Zeo5YaF55qE5omA5pyJ5Lq6KioqKioqKioqKipcblx0XHRhcHByb3Zlcl9vcmdfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ3Ncblx0XHRpZiBub3QgYXBwcm92ZXJfb3JnX2lkcyBvciBhcHByb3Zlcl9vcmdfaWRzLmxlbmd0aCBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquWumuS5ieeUqOS6juafpeaJvuS4i+S4gOatpeWkhOeQhuS6uueahOmDqOmXqO+8jOivt+iBlOezu+euoeeQhuWRmOiwg+afpea1geeoi+WbvueahOmFjee9ruaYr+WQpuato+ehrlwiKVxuXG5cdFx0IyDpqozor4HmiYDmjIflrprnmoRvcmdhbml6YXRpb25faWTpg73lrZjlnKhcblx0XHR2YWxpZF9hcHByb3Zlcl9vcmdfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKGFwcHJvdmVyX29yZ19pZHMsIChhcHByb3Zlcl9vcmdfaWQpIC0+XG5cdFx0XHRpZiBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX29yZ19pZCB9KS5jb3VudCgpID4gMFxuXHRcdFx0XHR2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLnVuc2hpZnQoYXBwcm92ZXJfb3JnX2lkKVxuXHRcdClcblxuXHRcdG9yZ191c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaCh2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLCAodmFsaWRfYXBwcm92ZXJfb3JnX2lkKSAtPlxuXHRcdFx0dmFsaWRfYXBwcm92ZXJfb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KVxuXHRcdFx0aWYgdmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzXG5cdFx0XHRcdG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKVxuXG5cdFx0XHRjaGlsZF9vcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBwYXJlbnRzOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXG5cdFx0XHRfLmVhY2goY2hpbGRfb3JncywgKGNoaWxkX29yZykgLT5cblx0XHRcdFx0aWYgY2hpbGRfb3JnLnVzZXJzXG5cdFx0XHRcdFx0b3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdChjaGlsZF9vcmcudXNlcnMpXG5cdFx0XHQpXG5cdFx0KVxuXG5cdFx0b3JnX3VzZXJfaWRzID0gXy51bmlxKG9yZ191c2VyX2lkcylcblx0XHRuZXdfb3JnX3VzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKG9yZ191c2VyX2lkcywgKG9yZ191c2VyX2lkKSAtPlxuXHRcdFx0c3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogb3JnX3VzZXJfaWQgfSkuY291bnQoKVxuXHRcdFx0aWYgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMFxuXHRcdFx0XHRuZXdfb3JnX3VzZXJfaWRzLnB1c2gob3JnX3VzZXJfaWQpXG5cdFx0KVxuXG5cdFx0cmV0dXJuIG5ld19vcmdfdXNlcl9pZHNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5VXNlclwiXG5cdFx0IyAxMi4qKioqKioqKioqKuaMh+WumueahOS6uuWRmCoqKioqKioqKioqXG5cdFx0YXBwcm92ZXJfdXNlcl9pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcnNcblx0XHRhcHByb3Zlcl91c2VyX2lkcyA9IF8udW5pcShhcHByb3Zlcl91c2VyX2lkcylcblx0XHRuZXdfYXBwcm92ZXJfdXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2goYXBwcm92ZXJfdXNlcl9pZHMsIChhcHByb3Zlcl91c2VyX2lkKSAtPlxuXHRcdFx0c3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZXJfdXNlcl9pZCB9KS5jb3VudCgpXG5cdFx0XHRpZiBzcGFjZV91c2VyX2luZm9fY291bnQgPiAwXG5cdFx0XHRcdG5ld19hcHByb3Zlcl91c2VyX2lkcy5wdXNoKGFwcHJvdmVyX3VzZXJfaWQpXG5cdFx0KVxuXG5cdFx0cmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInBpY2t1cEF0UnVudGltZVwiXG5cdFx0IyAxMy4qKioqKioqKioqKuWuoeaJueaXtuaMh+WumioqKioqKioqKioqXG5cdFx0bmV4dF9zdGVwX3VzZXJzID0gbmV3IEFycmF5XG5cdFx0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKF90cikgLT5cblx0XHRcdHJldHVybiBfdHIuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHQpXG5cdFx0X2FwcHJvdmUgPSBfLmZpbmQoX3RyYWNlLmFwcHJvdmVzLCAoX2FwcCkgLT5cblx0XHRcdHJldHVybiBfYXBwLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCBfYXBwLnR5cGUgaXNudCAnY2MnXG5cdFx0KVxuXG5cdFx0aWYgX2FwcHJvdmUubmV4dF9zdGVwc1xuXHRcdFx0aWYgX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdXG5cdFx0XHRcdG5leHRfc3RlcF91c2VycyA9IF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXVxuXG5cdFx0cmV0dXJuIG5leHRfc3RlcF91c2Vyc1xuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFN1cGVyaW9yXCJcblx0XHQjIDE0LioqKioqKioqKioq55Sz6K+35Lq65LiK57qn5Li7566hKioqKioqKioqKipcblx0XHRhcHBsaWNhbnRTdXBlcmlvcnMgPSBuZXcgQXJyYXlcblx0XHRfc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGluc3RhbmNlLmFwcGxpY2FudCB9LCB7IGZpZWxkczogeyBtYW5hZ2VyOiAxIH0gfSlcblx0XHRpZiBfc3BhY2VfdXNlci5tYW5hZ2VyXG5cdFx0XHRhcHBsaWNhbnRTdXBlcmlvcnMucHVzaChfc3BhY2VfdXNlci5tYW5hZ2VyKVxuXG5cdFx0cmV0dXJuIGFwcGxpY2FudFN1cGVyaW9ycyIsIiAgICAgICAgICAgICAgICAgICAgICAgXG5cbmdldEhhbmRsZXJzTWFuYWdlciA9IHt9O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMgPSBmdW5jdGlvbih1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciBhcHByb3ZlX3VzZXJzO1xuICBhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5O1xuICBfLmVhY2godXNlcl9pZHMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXModXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKTtcbiAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBhcHByb3ZlX3VzZXJzID0gYXBwcm92ZV91c2Vycy5jb25jYXQodXNlcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInVzZXJfaWTkuI3lkIjms5XkuI3lkIjms5VcIik7XG4gICAgfVxuICB9KTtcbiAgYXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKTtcbiAgcmV0dXJuIGFwcHJvdmVfdXNlcnM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyA9IGZ1bmN0aW9uKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gocm9sZV9pZHMsIGZ1bmN0aW9uKHJvbGVfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgaWYgKGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICBfaWQ6IHJvbGVfaWRcbiAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICB9XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID4gMCkge1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja51c2VyX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIik7XG4gIH1cbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUgPSBmdW5jdGlvbih1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkge1xuICB2YXIgb3JncywgdXNlcl9pZHM7XG4gIG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICB1c2VyczogdXNlcl9pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gob3JncywgZnVuY3Rpb24ob3JnKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZy5faWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzID0gZnVuY3Rpb24ob3JnX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMgPSBmdW5jdGlvbihvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gocm9sZV9pZHMsIGZ1bmN0aW9uKHJvbGVfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA+IDApIHtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2ub3JnX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIik7XG4gIH1cbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZSA9IGZ1bmN0aW9uKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIHtcbiAgdmFyIG9yZywgcGFyZW50cywgcG9zaXRpb25zLCB1c2VyX2lkcztcbiAgb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICBfaWQ6IG9yZ19pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwYXJlbnRzOiAxXG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICBvcmc6IG9yZ19pZCxcbiAgICByb2xlOiByb2xlX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHVzZXJzOiAxXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICBfLmVhY2gocG9zaXRpb25zLCBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycyk7XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcGFyZW50cyA9IG9yZy5wYXJlbnRzO1xuICAgIF8uZWFjaChwYXJlbnRzLCBmdW5jdGlvbihwYXJlbnRfaWQpIHtcbiAgICAgIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIG9yZzogcGFyZW50X2lkLFxuICAgICAgICByb2xlOiByb2xlX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIF8uZWFjaChwb3NpdGlvbnMsIGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMgPSBmdW5jdGlvbihpbnN0YW5jZV9pZCwgc3RlcF9pZCkge1xuICB2YXIgX2FwcHJvdmUsIF9zcGFjZV91c2VyLCBfdHJhY2UsIGFwcGxpY2FudCwgYXBwbGljYW50U3VwZXJpb3JzLCBhcHByb3ZlSHJSb2xlSWRzLCBhcHByb3ZlX3VzZXJzLCBhcHByb3Zlcl9vcmdfZmllbGQsIGFwcHJvdmVyX29yZ19pZHMsIGFwcHJvdmVyX3N0ZXAsIGFwcHJvdmVyX3VzZXJfZmllbGQsIGFwcHJvdmVyX3VzZXJfaWRzLCBjdXJyZW50LCBjdXJyZW50X2Zsb3csIGN1cnJlbnRfZmxvd192ZXJzaW9uLCBjdXJyZW50X2Zvcm0sIGN1cnJlbnRfc3RlcCwgY3VycmVudF9zdGVwcywgZGVhbF90eXBlLCBmaWVsZF9jb2RlLCBmaW5pc2hlZF90cmFjZXMsIGZsb3dfaWQsIGZsb3dfcmV2LCBmb3JtLCBmb3JtX2ZpZWxkcywgZm9ybV9pZCwgZm9ybV9yZXYsIGhhbmRsZXJzLCBpbnN0YW5jZSwgbWF4X3N0YXJ0RGF0ZV90cmFjZSwgbmV3X2FwcHJvdmVyX3VzZXJfaWRzLCBuZXdfb3JnX3VzZXJfaWRzLCBuZXdlc3RfdmFsdWVzLCBuZXh0X3N0ZXBfdXNlcnMsIG9yZ19pZHMsIG9yZ19pZHNfbmFtZXMsIG9yZ191c2VyX2lkcywgc3BhY2VfaWQsIHNwYWNlX3VzZXJfY291bnQsIHN1Ym1pdHRlciwgc3VibWl0dGVyX3VzZXJfY291bnQsIHVuZmluaXNoZWRfdHJhY2UsIHVzZXJfaWRzLCB1c2VyX2lkc19uYW1lcywgdXNlcnMsIHZhbGlkX2FwcHJvdmVyX29yZ19pZHM7XG4gIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xuICBpZiAoaW5zdGFuY2Uuc3RlcF9hcHByb3ZlICYmICFfLmlzRW1wdHkoaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWQgKyBcIl9vcHRpb25zXCJdKSkge1xuICAgIHJldHVybiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZCArIFwiX29wdGlvbnNcIl07XG4gIH1cbiAgYXBwcm92ZV91c2VycyA9IG5ldyBBcnJheTtcbiAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG4gIGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICBjdXJyZW50X2Zsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpO1xuICBjdXJyZW50X3N0ZXAgPSBudWxsO1xuICBjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5O1xuICBpZiAoY3VycmVudF9mbG93LmN1cnJlbnQuX2lkID09PSBmbG93X3Jldikge1xuICAgIGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5zdGVwcztcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50ID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oaGlzdG9yeSkge1xuICAgICAgcmV0dXJuIGhpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICB9KTtcbiAgICBjdXJyZW50X3N0ZXBzID0gY3VycmVudC5zdGVwcztcbiAgfVxuICBjdXJyZW50X3N0ZXAgPSBfLmZpbmQoY3VycmVudF9zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgIHJldHVybiBzdGVwLl9pZCA9PT0gc3RlcF9pZDtcbiAgfSk7XG4gIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcImNvbmRpdGlvblwiKSB7XG4gICAgdW5maW5pc2hlZF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICByZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgQXJyYXkodW5maW5pc2hlZF90cmFjZS5hcHByb3Zlc1swXS51c2VyKTtcbiAgfVxuICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJzdGFydFwiKSB7XG4gICAgaGFuZGxlcnMgPSBuZXcgQXJyYXk7XG4gICAgaGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuICAgIGhhbmRsZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBoYW5kbGVycyA9IF8udW5pcShoYW5kbGVycyk7XG4gICAgcmV0dXJuIGhhbmRsZXJzO1xuICB9XG4gIGRlYWxfdHlwZSA9IGN1cnJlbnRfc3RlcC5kZWFsX3R5cGU7XG4gIHVzZXJzID0gbmV3IEFycmF5O1xuICBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFJvbGVcIikge1xuICAgIGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgICBpZiAoYXBwbGljYW50KSB7XG4gICAgICBzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwbGljYW50XG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKGFwcGxpY2FudCwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJJbnN0YW5jZeeahOaPkOS6pOS6uuS4uuepulwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcImhyUm9sZVwiKSB7XG4gICAgYXBwcm92ZUhyUm9sZUlkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9ocl9yb2xlcztcbiAgICBpZiAoYXBwcm92ZUhyUm9sZUlkcykge1xuICAgICAgcmV0dXJuIF8ucGx1Y2soV29ya2Zsb3dNYW5hZ2VyLmdldEhyUm9sZXNVc2VycyhzcGFjZV9pZCwgYXBwcm92ZUhyUm9sZUlkcyksICd1c2VyJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5pyq5oyH5a6aXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50XCIpIHtcbiAgICBhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gICAgc3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogYXBwbGljYW50XG4gICAgfSkuY291bnQoKTtcbiAgICBpZiAoc3BhY2VfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBBcnJheShhcHBsaWNhbnQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwib3JnRmllbGRSb2xlXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfb3JnX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIG9yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgb3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXy5lYWNoKG9yZ19pZHNfbmFtZXMsIGZ1bmN0aW9uKG9yZykge1xuICAgICAgdmFyIGNoZWNrX29yZ19jb3VudDtcbiAgICAgIGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogb3JnW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfb3JnX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKTtcbiAgICB9KTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzKG9yZ19pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcIm9yZ0ZpZWxkXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfb3JnX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIG9yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgb3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXy5lYWNoKG9yZ19pZHNfbmFtZXMsIGZ1bmN0aW9uKG9yZykge1xuICAgICAgdmFyIGNoZWNrX29yZ19jb3VudDtcbiAgICAgIGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogb3JnW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfb3JnX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICB2YXIgY2hlY2tfb3Jncywgb3JnLCBvcmdfY2hpbGRyZW4sIG9yZ191c2VycztcbiAgICAgIG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb3JnX2NoaWxkcmVuID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBwYXJlbnRzOiBvcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIG9yZ19jaGlsZHJlbi51bnNoaWZ0KG9yZyk7XG4gICAgICBjaGVja19vcmdzID0gb3JnX2NoaWxkcmVuO1xuICAgICAgb3JnX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgXy5lYWNoKGNoZWNrX29yZ3MsIGZ1bmN0aW9uKGNoZWNrX29yZ191c2VyKSB7XG4gICAgICAgIGlmIChjaGVja19vcmdfdXNlci51c2Vycykge1xuICAgICAgICAgIF8uZWFjaChjaGVja19vcmdfdXNlci51c2VycywgZnVuY3Rpb24ob3JnX3VzZXIpIHtcbiAgICAgICAgICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgICAgICB1c2VyOiBvcmdfdXNlclxuICAgICAgICAgICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInNwYWNl5LiL5LiN5a2Y5Zyo5q2kdXNlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycyk7XG4gICAgICAgIHJldHVybiBvcmdfdXNlcnMgPSBvcmdfdXNlcnMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKG9yZ191c2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dcIiArIG9yZ19pZCArIFwi5LiN5a2Y5Zyo5aSE55CG5Lq6XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInVzZXJGaWVsZFJvbGVcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX3VzZXJfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgdXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHVzZXJfaWRzX25hbWVzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiB1c2VyW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXModXNlcl9pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInVzZXJGaWVsZFwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfdXNlcl9maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICB1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godXNlcl9pZHNfbmFtZXMsIGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgIHZhciBjaGVja191c2VyX2NvdW50O1xuICAgICAgY2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IHVzZXJbXCJpZFwiXVxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja191c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pO1xuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlTdGVwUm9sZVwiKSB7XG4gICAgYXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwO1xuICAgIGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgaWYgKHRyYWNlLnN0ZXAgPT09IGFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdGFydF9kYXRlO1xuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIF8uZWFjaChhcHByb3ZlX3VzZXJzLCBmdW5jdGlvbihhcHByb3ZlX3VzZXIpIHtcbiAgICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3ZlX3VzZXJcbiAgICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyhhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeVN0ZXBVc2VyXCIpIHtcbiAgICBhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXA7XG4gICAgZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICBpZiAodHJhY2Uuc3RlcCA9PT0gYXBwcm92ZXJfc3RlcCkge1xuICAgICAgICByZXR1cm4gZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHJldHVybiB0LnN0YXJ0X2RhdGU7XG4gICAgfSk7XG4gICAgYXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpO1xuICAgIF8uZWFjaChhcHByb3ZlX3VzZXJzLCBmdW5jdGlvbihhcHByb3ZlX3VzZXIpIHtcbiAgICAgIHZhciBjaGVja19hcHByb3ZlX3VzZXJfY291bnQ7XG4gICAgICBjaGVja19hcHByb3ZlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3ZlX3VzZXJcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycyk7XG4gICAgcmV0dXJuIGFwcHJvdmVfdXNlcnM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInN1Ym1pdHRlclJvbGVcIikge1xuICAgIHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlcjtcbiAgICBpZiAoIXN1Ym1pdHRlcikge1xuICAgICAgc3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBzdWJtaXR0ZXJcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3VibWl0dGVyX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhzdWJtaXR0ZXIsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V55qE5o+Q5Lqk5Lq65Li656m6XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3VibWl0dGVyXCIpIHtcbiAgICBzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgc3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IHN1Ym1pdHRlclxuICAgIH0pLmNvdW50KCk7XG4gICAgaWYgKHN1Ym1pdHRlcl91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBBcnJheShzdWJtaXR0ZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeU9yZ1wiKSB7XG4gICAgYXBwcm92ZXJfb3JnX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdzO1xuICAgIGlmICghYXBwcm92ZXJfb3JnX2lkcyB8fCBhcHByb3Zlcl9vcmdfaWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrlrprkuYnnlKjkuo7mn6Xmib7kuIvkuIDmraXlpITnkIbkurrnmoTpg6jpl6jvvIzor7fogZTns7vnrqHnkIblkZjosIPmn6XmtYHnqIvlm77nmoTphY3nva7mmK/lkKbmraPnoa5cIik7XG4gICAgfVxuICAgIHZhbGlkX2FwcHJvdmVyX29yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGFwcHJvdmVyX29yZ19pZHMsIGZ1bmN0aW9uKGFwcHJvdmVyX29yZ19pZCkge1xuICAgICAgaWYgKGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogYXBwcm92ZXJfb3JnX2lkXG4gICAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgICByZXR1cm4gdmFsaWRfYXBwcm92ZXJfb3JnX2lkcy51bnNoaWZ0KGFwcHJvdmVyX29yZ19pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgb3JnX3VzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLCBmdW5jdGlvbih2YWxpZF9hcHByb3Zlcl9vcmdfaWQpIHtcbiAgICAgIHZhciBjaGlsZF9vcmdzLCB2YWxpZF9hcHByb3Zlcl9vcmc7XG4gICAgICB2YWxpZF9hcHByb3Zlcl9vcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHZhbGlkX2FwcHJvdmVyX29yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICh2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnMpIHtcbiAgICAgICAgb3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdCh2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnMpO1xuICAgICAgfVxuICAgICAgY2hpbGRfb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgcGFyZW50czogdmFsaWRfYXBwcm92ZXJfb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICByZXR1cm4gXy5lYWNoKGNoaWxkX29yZ3MsIGZ1bmN0aW9uKGNoaWxkX29yZykge1xuICAgICAgICBpZiAoY2hpbGRfb3JnLnVzZXJzKSB7XG4gICAgICAgICAgcmV0dXJuIG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQoY2hpbGRfb3JnLnVzZXJzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgb3JnX3VzZXJfaWRzID0gXy51bmlxKG9yZ191c2VyX2lkcyk7XG4gICAgbmV3X29yZ191c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2gob3JnX3VzZXJfaWRzLCBmdW5jdGlvbihvcmdfdXNlcl9pZCkge1xuICAgICAgdmFyIHNwYWNlX3VzZXJfaW5mb19jb3VudDtcbiAgICAgIHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IG9yZ191c2VyX2lkXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ld19vcmdfdXNlcl9pZHMucHVzaChvcmdfdXNlcl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld19vcmdfdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlVc2VyXCIpIHtcbiAgICBhcHByb3Zlcl91c2VyX2lkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VycztcbiAgICBhcHByb3Zlcl91c2VyX2lkcyA9IF8udW5pcShhcHByb3Zlcl91c2VyX2lkcyk7XG4gICAgbmV3X2FwcHJvdmVyX3VzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChhcHByb3Zlcl91c2VyX2lkcywgZnVuY3Rpb24oYXBwcm92ZXJfdXNlcl9pZCkge1xuICAgICAgdmFyIHNwYWNlX3VzZXJfaW5mb19jb3VudDtcbiAgICAgIHNwYWNlX3VzZXJfaW5mb19jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcHJvdmVyX3VzZXJfaWRcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gbmV3X2FwcHJvdmVyX3VzZXJfaWRzLnB1c2goYXBwcm92ZXJfdXNlcl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwicGlja3VwQXRSdW50aW1lXCIpIHtcbiAgICBuZXh0X3N0ZXBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24oX3RyKSB7XG4gICAgICByZXR1cm4gX3RyLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICB9KTtcbiAgICBfYXBwcm92ZSA9IF8uZmluZChfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKF9hcHApIHtcbiAgICAgIHJldHVybiBfYXBwLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBfYXBwLnR5cGUgIT09ICdjYyc7XG4gICAgfSk7XG4gICAgaWYgKF9hcHByb3ZlLm5leHRfc3RlcHMpIHtcbiAgICAgIGlmIChfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl0pIHtcbiAgICAgICAgbmV4dF9zdGVwX3VzZXJzID0gX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV4dF9zdGVwX3VzZXJzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJhcHBsaWNhbnRTdXBlcmlvclwiKSB7XG4gICAgYXBwbGljYW50U3VwZXJpb3JzID0gbmV3IEFycmF5O1xuICAgIF9zcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBpbnN0YW5jZS5hcHBsaWNhbnRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbWFuYWdlcjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChfc3BhY2VfdXNlci5tYW5hZ2VyKSB7XG4gICAgICBhcHBsaWNhbnRTdXBlcmlvcnMucHVzaChfc3BhY2VfdXNlci5tYW5hZ2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcGxpY2FudFN1cGVyaW9ycztcbiAgfVxufTtcbiIsInBlcm1pc3Npb25NYW5hZ2VyID0ge31cblxucGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zID0gKGZsb3dfaWQsIHVzZXJfaWQpIC0+XG5cdCMg5qC55o2uOmZsb3dfaWTmn6XliLDlr7nlupTnmoRmbG93XG5cdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZClcblx0c3BhY2VfaWQgPSBmbG93LnNwYWNlXG5cdCMg5qC55o2uc3BhY2VfaWTlkow6dXNlcl9pZOWIsG9yZ2FuaXphdGlvbnPooajkuK3mn6XliLDnlKjmiLfmiYDlsZ7miYDmnInnmoRvcmdfaWTvvIjljIXmi6zkuIrnuqfnu4RJRO+8iVxuXHRvcmdfaWRzID0gbmV3IEFycmF5XG5cdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuXHRcdHNwYWNlOiBzcGFjZV9pZCwgdXNlcnM6IHVzZXJfaWQgfSwgeyBmaWVsZHM6IHsgcGFyZW50czogMSB9IH0pLmZldGNoKClcblx0Xy5lYWNoKG9yZ2FuaXphdGlvbnMsIChvcmcpIC0+XG5cdFx0b3JnX2lkcy5wdXNoKG9yZy5faWQpXG5cdFx0aWYgb3JnLnBhcmVudHNcblx0XHRcdF8uZWFjaChvcmcucGFyZW50cywgKHBhcmVudF9pZCkgLT5cblx0XHRcdFx0b3JnX2lkcy5wdXNoKHBhcmVudF9pZClcblx0XHRcdClcblx0KVxuXHRvcmdfaWRzID0gXy51bmlxKG9yZ19pZHMpXG5cdG15X3Blcm1pc3Npb25zID0gbmV3IEFycmF5XG5cdGlmIGZsb3cucGVybXNcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX2FkbWlu5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZOaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcblx0XHQjIOiLpeaYr++8jOWImeWcqOi/lOWbnueahOaVsOe7hOS4reWKoOS4imFkZFxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX2FkZFxuXHRcdFx0dXNlcnNfY2FuX2FkZCA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkZFxuXHRcdFx0aWYgdXNlcnNfY2FuX2FkZC5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpXG5cblx0XHRpZiBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZFxuXHRcdFx0b3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxuXHRcdFx0XHRpZiBvcmdzX2Nhbl9hZGQuaW5jbHVkZXMob3JnX2lkKVxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIilcblx0XHRcdClcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3LkuK3mmK/lkKbljIXlkKvlvZPliY3nlKjmiLfvvIxcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcuaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcblx0XHQjIOiLpeaYr++8jOWImeWcqOi/lOWbnueahOaVsOe7hOS4reWKoOS4im1vbml0b3Jcblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yXG5cdFx0XHR1c2Vyc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3Jcblx0XHRcdGlmIHVzZXJzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKHVzZXJfaWQpXG5cdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpXG5cblx0XHRpZiBmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3Jcblx0XHRcdG9yZ3NfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3Jcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxuXHRcdFx0XHRpZiBvcmdzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKG9yZ19pZClcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKVxuXHRcdFx0KVxuXHRcdCMg5Yik5patZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW7kuK3mmK/lkKbljIXlkKvlvZPliY3nlKjmiLfvvIxcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fYWRtaW7mmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZG1pblxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluXG5cdFx0XHR1c2Vyc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pblxuXHRcdFx0aWYgdXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpXG5cdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKVxuXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pblxuXHRcdFx0b3Jnc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRtaW4uaW5jbHVkZXMob3JnX2lkKVxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKVxuXHRcdFx0KVxuXG5cdG15X3Blcm1pc3Npb25zID0gXy51bmlxKG15X3Blcm1pc3Npb25zKVxuXHRyZXR1cm4gbXlfcGVybWlzc2lvbnMiLCIgICAgICAgICAgICAgICAgICAgICAgXG5cbnBlcm1pc3Npb25NYW5hZ2VyID0ge307XG5cbnBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGZsb3dfaWQsIHVzZXJfaWQpIHtcbiAgdmFyIGZsb3csIG15X3Blcm1pc3Npb25zLCBvcmdfaWRzLCBvcmdhbml6YXRpb25zLCBvcmdzX2Nhbl9hZGQsIG9yZ3NfY2FuX2FkbWluLCBvcmdzX2Nhbl9tb25pdG9yLCBzcGFjZV9pZCwgdXNlcnNfY2FuX2FkZCwgdXNlcnNfY2FuX2FkbWluLCB1c2Vyc19jYW5fbW9uaXRvcjtcbiAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKTtcbiAgc3BhY2VfaWQgPSBmbG93LnNwYWNlO1xuICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgdXNlcnM6IHVzZXJfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcGFyZW50czogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgXy5lYWNoKG9yZ2FuaXphdGlvbnMsIGZ1bmN0aW9uKG9yZykge1xuICAgIG9yZ19pZHMucHVzaChvcmcuX2lkKTtcbiAgICBpZiAob3JnLnBhcmVudHMpIHtcbiAgICAgIHJldHVybiBfLmVhY2gob3JnLnBhcmVudHMsIGZ1bmN0aW9uKHBhcmVudF9pZCkge1xuICAgICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKHBhcmVudF9pZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBvcmdfaWRzID0gXy51bmlxKG9yZ19pZHMpO1xuICBteV9wZXJtaXNzaW9ucyA9IG5ldyBBcnJheTtcbiAgaWYgKGZsb3cucGVybXMpIHtcbiAgICBpZiAoZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkKSB7XG4gICAgICB1c2Vyc19jYW5fYWRkID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkO1xuICAgICAgaWYgKHVzZXJzX2Nhbl9hZGQuaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgICAgbXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fYWRkKSB7XG4gICAgICBvcmdzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZDtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX2FkZC5pbmNsdWRlcyhvcmdfaWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcikge1xuICAgICAgdXNlcnNfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yO1xuICAgICAgaWYgKHVzZXJzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yKSB7XG4gICAgICBvcmdzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yO1xuICAgICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgICBpZiAob3Jnc19jYW5fbW9uaXRvci5pbmNsdWRlcyhvcmdfaWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluKSB7XG4gICAgICB1c2Vyc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbjtcbiAgICAgIGlmICh1c2Vyc19jYW5fYWRtaW4uaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgICAgbXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbikge1xuICAgICAgb3Jnc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluO1xuICAgICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgICBpZiAob3Jnc19jYW5fYWRtaW4uaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBteV9wZXJtaXNzaW9ucyA9IF8udW5pcShteV9wZXJtaXNzaW9ucyk7XG4gIHJldHVybiBteV9wZXJtaXNzaW9ucztcbn07XG4iLCJhcHByb3ZlTWFuYWdlciA9IHt9XG5cblxuIyMjXG4gICAg5a+55q+UYXBwcm92ZV92YWx1ZXPkuI5sYXN0X3ZhbHVlcyDlr7nosaHvvIwg6L+U5ZueYXBwcm92ZV92YWx1ZXPmr5RsYXN0X3ZhbHVlc+WkmuWHuueahOaIluiAheaUueWPmOeahOmDqOWIhlxuIyMjXG5hcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMgPSAobGFzdF92YWx1ZXMsYXBwcm92ZV92YWx1ZXMpIC0+XG5cblx0Y2hhbmdlVmFsdWVzID0ge31cblxuXHRsYXN0X3ZhbHVlc19rZXlzID0gXy5rZXlzKGxhc3RfdmFsdWVzKVxuXG5cdGFwcHJvdmVfdmFsdWVzX2tleXMgPSBfLmtleXMoYXBwcm92ZV92YWx1ZXMpXG5cbiNcdGNvbnNvbGUubG9nKFwibGFzdF92YWx1ZXNfa2V5c1wiLCBsYXN0X3ZhbHVlc19rZXlzKVxuI1xuI1x0Y29uc29sZS5sb2coXCJhcHByb3ZlX3ZhbHVlc19rZXlzXCIsIGFwcHJvdmVfdmFsdWVzX2tleXMpXG5cblx0YXBwcm92ZV92YWx1ZXNfa2V5cy5mb3JFYWNoIChrZXkpLT5cblx0XHRpZiBfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSlcblx0XHRcdGlmICFfLmlzRXF1YWwobGFzdF92YWx1ZXNba2V5XSwgYXBwcm92ZV92YWx1ZXNba2V5XSlcblx0XHRcdFx0Y2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldXG5cdFx0ZWxzZVxuXHRcdFx0aWYgYXBwcm92ZV92YWx1ZXNba2V5XSAhPSAnJ1xuI1x0XHRcdFx0Y29uc29sZS5sb2coa2V5LGFwcHJvdmVfdmFsdWVzW2tleV0pXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxuXG5cdHJldHVybiBjaGFuZ2VWYWx1ZXNcbiIsIiAgICAgICAgICAgICAgICAgICBcblxuYXBwcm92ZU1hbmFnZXIgPSB7fTtcblxuXG4vKlxuICAgIOWvueavlGFwcHJvdmVfdmFsdWVz5LiObGFzdF92YWx1ZXMg5a+56LGh77yMIOi/lOWbnmFwcHJvdmVfdmFsdWVz5q+UbGFzdF92YWx1ZXPlpJrlh7rnmoTmiJbogIXmlLnlj5jnmoTpg6jliIZcbiAqL1xuXG5hcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMgPSBmdW5jdGlvbihsYXN0X3ZhbHVlcywgYXBwcm92ZV92YWx1ZXMpIHtcbiAgdmFyIGFwcHJvdmVfdmFsdWVzX2tleXMsIGNoYW5nZVZhbHVlcywgbGFzdF92YWx1ZXNfa2V5cztcbiAgY2hhbmdlVmFsdWVzID0ge307XG4gIGxhc3RfdmFsdWVzX2tleXMgPSBfLmtleXMobGFzdF92YWx1ZXMpO1xuICBhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKTtcbiAgYXBwcm92ZV92YWx1ZXNfa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSkpIHtcbiAgICAgIGlmICghXy5pc0VxdWFsKGxhc3RfdmFsdWVzW2tleV0sIGFwcHJvdmVfdmFsdWVzW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhcHByb3ZlX3ZhbHVlc1trZXldICE9PSAnJykge1xuICAgICAgICByZXR1cm4gY2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjaGFuZ2VWYWx1ZXM7XG59O1xuIiwiZmxvd01hbmFnZXIgPSB7fVxuXG5mbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3MgPSAoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcyktPlxuXG5cdGNhdGVnb3JpZXNGb3JtcyA9IGZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyhzcGFjZUlkLCBjYXRlZ29yaWVJZCwge19pZDogMX0pLmZldGNoKClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7Zm9ybTogeyRpbiA6IGNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxuXG5mbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyA9IChzcGFjZUlkLCBmaWVsZHMpLT5cblxuXHR1bkNhdGVnb3JpZXNGb3JtcyA9IGZvcm1NYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zvcm1zKHNwYWNlSWQsIHtfaWQ6IDF9KS5mZXRjaCgpXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe2Zvcm06IHskaW4gOiB1bkNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxuXG5cblxuXG5cblxuXG4iLCJmb3JtTWFuYWdlciA9IHt9XG5cbmZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyA9IChzcGFjZUlkLCBjYXRlZ29yaWVJZCwgZmllbGRzKS0+XG5cdGlmIGZpZWxkc1xuXHRcdF9maWVsZHMgPSB7ZmllbGRzOiBmaWVsZHN9XG5cblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkLCBjYXRlZ29yeTogY2F0ZWdvcmllSWQsIHN0YXRlOiBcImVuYWJsZWRcIn0sIF9maWVsZHMpXG5cbmZvcm1NYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zvcm1zID0gKHNwYWNlSWQsIGZpZWxkcykgLT5cblx0aWYgZmllbGRzXG5cdFx0X2ZpZWxkcyA9IHtmaWVsZHM6IGZpZWxkc31cblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkLCBjYXRlZ29yeTogeyRpbjogW251bGwsIFwiXCJdfSwgc3RhdGU6IFwiZW5hYmxlZFwifSwgX2ZpZWxkcylcbiIsIiAgICAgICAgICAgICAgICBcblxuZm9ybU1hbmFnZXIgPSB7fTtcblxuZm9ybU1hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zvcm1zID0gZnVuY3Rpb24oc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcykge1xuICB2YXIgX2ZpZWxkcztcbiAgaWYgKGZpZWxkcykge1xuICAgIF9maWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIGNhdGVnb3J5OiBjYXRlZ29yaWVJZCxcbiAgICBzdGF0ZTogXCJlbmFibGVkXCJcbiAgfSwgX2ZpZWxkcyk7XG59O1xuXG5mb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyA9IGZ1bmN0aW9uKHNwYWNlSWQsIGZpZWxkcykge1xuICB2YXIgX2ZpZWxkcztcbiAgaWYgKGZpZWxkcykge1xuICAgIF9maWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIGNhdGVnb3J5OiB7XG4gICAgICAkaW46IFtudWxsLCBcIlwiXVxuICAgIH0sXG4gICAgc3RhdGU6IFwiZW5hYmxlZFwiXG4gIH0sIF9maWVsZHMpO1xufTtcbiIsInN0ZXBNYW5hZ2VyID0ge31cblxuc3RlcE1hbmFnZXIuYWxsb3dCYXRjaCA9IChzdGVwKS0+XG5cdHJldHVybiBzdGVwLmFsbG93QmF0Y2hcblxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IChpbnN0YW5jZSwgZmxvdywgc3RlcF9pZCktPlxuXHRmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuXHRpc0V4aXN0U3RlcCA9IG51bGxcblx0aWYgZmxvdy5jdXJyZW50Ll9pZCBpcyBmbG93X3JldlxuXHRcdGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgKHN0ZXApLT5cblx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXG5cdFx0KVxuXHRlbHNlXG5cdFx0Xy5lYWNoKGZsb3cuaGlzdG9yeXMsIChoaXN0b3J5KS0+XG5cdFx0XHRpZiBoaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0XHRpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCAoc3RlcCktPlxuXHRcdFx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXG5cdFx0XHRcdClcblx0XHQpXG5cblx0aWYgbm90IGlzRXhpc3RTdGVwXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpXG5cblx0cmV0dXJuIGlzRXhpc3RTdGVwIiwiICAgICAgICAgICAgICAgIFxuXG5zdGVwTWFuYWdlciA9IHt9O1xuXG5zdGVwTWFuYWdlci5hbGxvd0JhdGNoID0gZnVuY3Rpb24oc3RlcCkge1xuICByZXR1cm4gc3RlcC5hbGxvd0JhdGNoO1xufTtcblxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBmbG93LCBzdGVwX2lkKSB7XG4gIHZhciBmbG93X3JldiwgaXNFeGlzdFN0ZXA7XG4gIGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICBpc0V4aXN0U3RlcCA9IG51bGw7XG4gIGlmIChmbG93LmN1cnJlbnQuX2lkID09PSBmbG93X3Jldikge1xuICAgIGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIF8uZWFjaChmbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihoaXN0b3J5KSB7XG4gICAgICBpZiAoaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgICAgIHJldHVybiBpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIWlzRXhpc3RTdGVwKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpO1xuICB9XG4gIHJldHVybiBpc0V4aXN0U3RlcDtcbn07XG4iLCJfZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxuXG5JbnN0YW5jZU1hbmFnZXIgPSB7fVxuXG5sb2dnZXIgPSBuZXcgTG9nZ2VyICdXb3JrZmxvdyAtPiBJbnN0YW5jZU1hbmFnZXInXG5cbkluc3RhbmNlTWFuYWdlci5oYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwID0gKGlucywgZmllbGRfbWFwKSAtPlxuXHRyZXMgPSBpbnNcblx0aWYgaW5zXG5cdFx0aWYgIWZpZWxkX21hcFxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogaW5zLmZsb3cgfSwgeyBmaWVsZHM6IHsgZmllbGRfbWFwOiAxIH0gfSlcblxuXHRcdFx0aWYgZmxvdz8uZmllbGRfbWFwXG5cdFx0XHRcdGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwXG5cblx0XHRpZiBmaWVsZF9tYXBcblx0XHRcdGNvbnRleHQgPSBfLmNsb25lKGlucylcblxuXHRcdFx0Y29udGV4dC5fID0gX1xuXG5cdFx0XHRzY3JpcHQgPSBcInZhciBpbnN0YW5jZXMgPSAje2ZpZWxkX21hcH07IGV4cG9ydHMuaW5zdGFuY2VzID0gaW5zdGFuY2VzXCJcblx0XHRcdHRyeVxuXHRcdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdHJlcyA9IHsgX2Vycm9yOiBlIH1cblx0XHRcdFx0bG9nZ2VyLmVycm9yIGVcblx0cmV0dXJuIHJlc1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUgPSAoaW5zdGFuY2UsIGhhbmRsZXIpLT5cblxuXHRpZiAhaW5zdGFuY2Ugb3IgIWluc3RhbmNlLnRyYWNlcyBvciBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMVxuXHRcdHJldHVyblxuXG5cdGN1cnJlbnRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpXG5cblx0aWYgY3VycmVudFRyYWNlcy5sZW5ndGhcblx0XHRjdXJyZW50QXBwcm92ZXMgPSBjdXJyZW50VHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eSgnaGFuZGxlcicsIGhhbmRsZXIpXG5cdFx0Y3VycmVudEFwcHJvdmUgPSBpZiBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCB0aGVuIGN1cnJlbnRBcHByb3Zlc1swXSBlbHNlIG51bGxcblxuXHQj5Lyg6ZiF55qEYXBwcm92Zei/lOWbnuacgOaWsOS4gOadoVxuXHRpZiAhY3VycmVudEFwcHJvdmUgb3IgY3VycmVudEFwcHJvdmUudHlwZSA9PSAnY2MnXG5cdFx0IyDlvZPliY3mmK/kvKDpmIVcblx0XHRfLmVhY2ggaW5zdGFuY2UudHJhY2VzLCAodCkgLT5cblx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cblx0XHRcdFx0aWYgYS50eXBlID09ICdjYycgYW5kIGEudXNlciA9PSBoYW5kbGVyIGFuZCBhLmlzX2ZpbmlzaGVkID09IGZhbHNlXG5cdFx0XHRcdFx0Y3VycmVudEFwcHJvdmUgPSBhXG5cdFx0XHRcdHJldHVyblxuXHRcdFx0cmV0dXJuXG5cblx0aWYgIWN1cnJlbnRBcHByb3ZlXG5cdFx0cmV0dXJuXG5cblx0cmV0dXJuIGN1cnJlbnRBcHByb3ZlXG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UgPSAoaW5zdGFuY2UsIHRyYWNlSWQpLT5cblx0cmV0dXJuIGluc3RhbmNlLnRyYWNlcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlSWQpXG5cbkluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUgPSAoaW5zdGFuY2VJZCwgdXNlcklkKS0+XG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pXG5cblx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXG5cdG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoaW5zdGFuY2UsIHVzZXJJZClcblxuXHRpZiBteV9hcHByb3ZlXG5cbiNcdFx0bGFuZyA9IFN0ZWVkb3MubG9jYWxlKHRoYXQudXNlcklkLCB0cnVlKVxuXG5cdFx0dHJhY2UgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlKGluc3RhbmNlLCBteV9hcHByb3ZlLnRyYWNlKVxuXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdHJhY2Uuc3RlcClcblxuXHRcdHN0ZXBfdHlwZSA9IHN0ZXAuc3RlcF90eXBlXG5cblx0XHRqdWRnZSA9IGlmIHN0ZXBfdHlwZSA9PSBcInNpZ25cIiB0aGVuIFwiYXBwcm92ZWRcIiBlbHNlIFwiXCJcblxuXHRcdG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBqdWRnZSlcblxuXHRcdGlmIG5leHRTdGVwcy5sZW5ndGggPT0gMVxuXHRcdFx0aWYgc3RlcF90eXBlID09IFwic2lnblwiIHx8IHN0ZXBfdHlwZSA9PSBcImNvdW50ZXJTaWduXCJcblx0XHRcdFx0bXlfYXBwcm92ZS5qdWRnZSA9ICdhcHByb3ZlZCdcblx0XHRcdG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zdGFuY2UuX2lkICwgbmV4dFN0ZXBzWzBdKVxuXHRcdFx0aWYgIW5leHRfdXNlcl9pZHNcblx0XHRcdFx0bXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW3sgc3RlcDogbmV4dFN0ZXBzWzBdLCB1c2VyczogW10gfV1cblx0XHRcdFx0cmV0dXJuIG15X2FwcHJvdmVcblx0XHRcdGlmIG5leHRfdXNlcl9pZHMubGVuZ3RoID09IDFcblx0XHRcdFx0bXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW3tzdGVwOiBuZXh0U3RlcHNbMF0sIHVzZXJzOiBuZXh0X3VzZXJfaWRzfV1cblx0XHRcdFx0cmV0dXJuIG15X2FwcHJvdmVcbiNcdFx0XHRlbHNlXG4jXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBUQVBpMThuLl9fKCd3b3JrZmxvd19lcnJvcl9tdWx0aXBsZV9uZXh0X3N0ZXBfdXNlcnMnLCB7aW5zbmFtZTogaW5zdGFuY2UubmFtZX0sIGxhbmcpKVxuI1x0XHRlbHNlXG4jXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgVEFQaTE4bi5fXygnd29ya2Zsb3dfZXJyb3JfbXVsdGlwbGVfbmV4dF9zdGVwJywge2luc25hbWU6IGluc3RhbmNlLm5hbWV9LCBsYW5nKSlcblxuXHRyZXR1cm5cblxuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMgPSAoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIGluYm94X3VzZXIpLT5cblx0X2JhdGNoX2luc3RhbmNlcyA9IG5ldyBBcnJheSgpXG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlLCBpbmJveF91c2VyczogaW5ib3hfdXNlcn1cblxuXHRGSUVMRFMgPSB7IG5hbWU6IDEsIGFwcGxpY2FudF9uYW1lOiAxLCBzdWJtaXRfZGF0ZTogMSwgZmxvd192ZXJzaW9uOiAxLCBcInRyYWNlcy5zdGVwXCI6IDEsIGZsb3c6IDEsIGN1cnJlbnRfc3RlcF9uYW1lOiAxLCBmbG93X25hbWU6IDEgfVxuXG5cdGlmIGNhdGVnb3J5SWRcblxuXHRcdGlmIGNhdGVnb3J5SWQgPT0gJy0xJ1xuXHRcdFx0dW5DYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3Moc3BhY2UsIHtfaWQ6IDF9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpXG5cdFx0XHRxdWVyeS5mbG93ID0geyRpbjogdW5DYXRlZ29yeUZsb3dzfVxuXHRcdGVsc2Vcblx0XHRcdGNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3Moc3BhY2UsIGNhdGVnb3J5SWQsIHtfaWQ6IDF9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpXG5cdFx0XHRxdWVyeS5mbG93ID0geyRpbjogY2F0ZWdvcnlGbG93c31cblxuXHRpZiBmbG93SWRzXG5cdFx0cXVlcnkuZmxvdyA9IHskaW46IGZsb3dJZHN9XG5cbiNcdGNvbnNvbGUubG9nKFwicXVlcnlcIiwgSlNPTi5zdHJpbmdpZnkocXVlcnkpKVxuXG5cdGluYm94X2luc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiBGSUVMRFMsIHNraXA6IDAsIGxpbWl0OiAxMDB9KVxuXG5cdGluYm94X2luc3RhbmNlcy5mb3JFYWNoIChpbnMpLT5cblx0XHRjdXJyZW50U3RlcElkID0gXy5sYXN0KGlucy50cmFjZXMpLnN0ZXAgI1RPRE8g5q2k5Luj56CB5LiN6YCC55So5Lyg6ZiF5om55aSE55CGXG5cblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnMuZmxvd30pXG5cblx0XHRjdXJyZW50U3RlcCA9IHN0ZXBNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBjdXJyZW50U3RlcElkKVxuXG5cdFx0bXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnMuX2lkLCBpbmJveF91c2VyKVxuXG5cdFx0aWYgc3RlcE1hbmFnZXIuYWxsb3dCYXRjaChjdXJyZW50U3RlcCkgJiYgbXlBcHByb3ZlXG5cblx0XHRcdGRlbGV0ZSBpbnMuZmxvd192ZXJzaW9uXG5cblx0XHRcdGRlbGV0ZSBpbnMudHJhY2VzXG5cblx0XHRcdGRlbGV0ZSBpbnMuZmxvd1xuXG5cdFx0XHRpbnMuYXBwcm92ZV9zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcblxuXHRcdFx0X2JhdGNoX2luc3RhbmNlcy5wdXNoKGlucylcbiNcdFx0ZWxzZVxuI1x0XHRcdGNvbnNvbGUubG9nKFwi5om56YeP5a6h5om5LeW8guW4uOaVsOaNrlwiLCBpbnMuX2lkKVxuXG5cdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzXG4iLCJ2YXIgX2V2YWwsIGxvZ2dlcjsgICAgICAgICAgICAgICAgIFxuXG5fZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKTtcblxuSW5zdGFuY2VNYW5hZ2VyID0ge307XG5cbmxvZ2dlciA9IG5ldyBMb2dnZXIoJ1dvcmtmbG93IC0+IEluc3RhbmNlTWFuYWdlcicpO1xuXG5JbnN0YW5jZU1hbmFnZXIuaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcCA9IGZ1bmN0aW9uKGlucywgZmllbGRfbWFwKSB7XG4gIHZhciBjb250ZXh0LCBlLCBmbG93LCByZXMsIHNjcmlwdDtcbiAgcmVzID0gaW5zO1xuICBpZiAoaW5zKSB7XG4gICAgaWYgKCFmaWVsZF9tYXApIHtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnMuZmxvd1xuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmaWVsZF9tYXA6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5maWVsZF9tYXAgOiB2b2lkIDApIHtcbiAgICAgICAgZmllbGRfbWFwID0gZmxvdy5maWVsZF9tYXA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmaWVsZF9tYXApIHtcbiAgICAgIGNvbnRleHQgPSBfLmNsb25lKGlucyk7XG4gICAgICBjb250ZXh0Ll8gPSBfO1xuICAgICAgc2NyaXB0ID0gXCJ2YXIgaW5zdGFuY2VzID0gXCIgKyBmaWVsZF9tYXAgKyBcIjsgZXhwb3J0cy5pbnN0YW5jZXMgPSBpbnN0YW5jZXNcIjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJoYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwXCIsIGNvbnRleHQsIGZhbHNlKS5pbnN0YW5jZXM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIHJlcyA9IHtcbiAgICAgICAgICBfZXJyb3I6IGVcbiAgICAgICAgfTtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlID0gZnVuY3Rpb24oaW5zdGFuY2UsIGhhbmRsZXIpIHtcbiAgdmFyIGN1cnJlbnRBcHByb3ZlLCBjdXJyZW50QXBwcm92ZXMsIGN1cnJlbnRUcmFjZXM7XG4gIGlmICghaW5zdGFuY2UgfHwgIWluc3RhbmNlLnRyYWNlcyB8fCBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjdXJyZW50VHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKTtcbiAgaWYgKGN1cnJlbnRUcmFjZXMubGVuZ3RoKSB7XG4gICAgY3VycmVudEFwcHJvdmVzID0gY3VycmVudFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoJ2hhbmRsZXInLCBoYW5kbGVyKTtcbiAgICBjdXJyZW50QXBwcm92ZSA9IGN1cnJlbnRBcHByb3Zlcy5sZW5ndGggPiAwID8gY3VycmVudEFwcHJvdmVzWzBdIDogbnVsbDtcbiAgfVxuICBpZiAoIWN1cnJlbnRBcHByb3ZlIHx8IGN1cnJlbnRBcHByb3ZlLnR5cGUgPT09ICdjYycpIHtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICBpZiAoYS50eXBlID09PSAnY2MnICYmIGEudXNlciA9PT0gaGFuZGxlciAmJiBhLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgIGN1cnJlbnRBcHByb3ZlID0gYTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFjdXJyZW50QXBwcm92ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gY3VycmVudEFwcHJvdmU7XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlID0gZnVuY3Rpb24oaW5zdGFuY2UsIHRyYWNlSWQpIHtcbiAgcmV0dXJuIGluc3RhbmNlLnRyYWNlcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlSWQpO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZSA9IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHVzZXJJZCkge1xuICB2YXIgZmxvdywgaW5zdGFuY2UsIGp1ZGdlLCBteV9hcHByb3ZlLCBuZXh0U3RlcHMsIG5leHRfdXNlcl9pZHMsIHN0ZXAsIHN0ZXBfdHlwZSwgdHJhY2U7XG4gIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KTtcbiAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgbXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZShpbnN0YW5jZSwgdXNlcklkKTtcbiAgaWYgKG15X2FwcHJvdmUpIHtcbiAgICB0cmFjZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UoaW5zdGFuY2UsIG15X2FwcHJvdmUudHJhY2UpO1xuICAgIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHRyYWNlLnN0ZXApO1xuICAgIHN0ZXBfdHlwZSA9IHN0ZXAuc3RlcF90eXBlO1xuICAgIGp1ZGdlID0gc3RlcF90eXBlID09PSBcInNpZ25cIiA/IFwiYXBwcm92ZWRcIiA6IFwiXCI7XG4gICAgbmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIGp1ZGdlKTtcbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgaWYgKHN0ZXBfdHlwZSA9PT0gXCJzaWduXCIgfHwgc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgICAgbXlfYXBwcm92ZS5qdWRnZSA9ICdhcHByb3ZlZCc7XG4gICAgICB9XG4gICAgICBuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc3RhbmNlLl9pZCwgbmV4dFN0ZXBzWzBdKTtcbiAgICAgIGlmICghbmV4dF91c2VyX2lkcykge1xuICAgICAgICBteV9hcHByb3ZlLm5leHRfc3RlcHMgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RlcDogbmV4dFN0ZXBzWzBdLFxuICAgICAgICAgICAgdXNlcnM6IFtdXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gbXlfYXBwcm92ZTtcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0X3VzZXJfaWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBteV9hcHByb3ZlLm5leHRfc3RlcHMgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RlcDogbmV4dFN0ZXBzWzBdLFxuICAgICAgICAgICAgdXNlcnM6IG5leHRfdXNlcl9pZHNcbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBteV9hcHByb3ZlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzID0gZnVuY3Rpb24oc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIGluYm94X3VzZXIpIHtcbiAgdmFyIEZJRUxEUywgX2JhdGNoX2luc3RhbmNlcywgY2F0ZWdvcnlGbG93cywgaW5ib3hfaW5zdGFuY2VzLCBxdWVyeSwgdW5DYXRlZ29yeUZsb3dzO1xuICBfYmF0Y2hfaW5zdGFuY2VzID0gbmV3IEFycmF5KCk7XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZSxcbiAgICBpbmJveF91c2VyczogaW5ib3hfdXNlclxuICB9O1xuICBGSUVMRFMgPSB7XG4gICAgbmFtZTogMSxcbiAgICBhcHBsaWNhbnRfbmFtZTogMSxcbiAgICBzdWJtaXRfZGF0ZTogMSxcbiAgICBmbG93X3ZlcnNpb246IDEsXG4gICAgXCJ0cmFjZXMuc3RlcFwiOiAxLFxuICAgIGZsb3c6IDEsXG4gICAgY3VycmVudF9zdGVwX25hbWU6IDEsXG4gICAgZmxvd19uYW1lOiAxXG4gIH07XG4gIGlmIChjYXRlZ29yeUlkKSB7XG4gICAgaWYgKGNhdGVnb3J5SWQgPT09ICctMScpIHtcbiAgICAgIHVuQ2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCB7XG4gICAgICAgIF9pZDogMVxuICAgICAgfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKTtcbiAgICAgIHF1ZXJ5LmZsb3cgPSB7XG4gICAgICAgICRpbjogdW5DYXRlZ29yeUZsb3dzXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCBjYXRlZ29yeUlkLCB7XG4gICAgICAgIF9pZDogMVxuICAgICAgfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKTtcbiAgICAgIHF1ZXJ5LmZsb3cgPSB7XG4gICAgICAgICRpbjogY2F0ZWdvcnlGbG93c1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgaWYgKGZsb3dJZHMpIHtcbiAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgJGluOiBmbG93SWRzXG4gICAgfTtcbiAgfVxuICBpbmJveF9pbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczogRklFTERTLFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IDEwMFxuICB9KTtcbiAgaW5ib3hfaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaW5zKSB7XG4gICAgdmFyIGN1cnJlbnRTdGVwLCBjdXJyZW50U3RlcElkLCBmbG93LCBteUFwcHJvdmU7XG4gICAgY3VycmVudFN0ZXBJZCA9IF8ubGFzdChpbnMudHJhY2VzKS5zdGVwO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zLmZsb3dcbiAgICB9KTtcbiAgICBjdXJyZW50U3RlcCA9IHN0ZXBNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBjdXJyZW50U3RlcElkKTtcbiAgICBteUFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGlucy5faWQsIGluYm94X3VzZXIpO1xuICAgIGlmIChzdGVwTWFuYWdlci5hbGxvd0JhdGNoKGN1cnJlbnRTdGVwKSAmJiBteUFwcHJvdmUpIHtcbiAgICAgIGRlbGV0ZSBpbnMuZmxvd192ZXJzaW9uO1xuICAgICAgZGVsZXRlIGlucy50cmFjZXM7XG4gICAgICBkZWxldGUgaW5zLmZsb3c7XG4gICAgICBpbnMuYXBwcm92ZV9zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcy5wdXNoKGlucyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXM7XG59O1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2NhdGVnb3JpZXMnLCAoc3BhY2VJZCkgLT5cblx0Y2hlY2sgc3BhY2VJZCwgU3RyaW5nXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0cmV0dXJuIGRiLmNhdGVnb3JpZXMuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsIHNwYWNlOiAxLCBzb3J0X25vOiAxLCBhcHA6IDEgfSB9KSIsIk1ldGVvci5wdWJsaXNoKCdjYXRlZ29yaWVzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIHNvcnRfbm86IDEsXG4gICAgICBhcHA6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcbk1ldGVvci5wdWJsaXNoICdjZnNfaW5zdGFuY2VzJywgKGluc3RhbmNlSWRzKS0+XG5cdGNoZWNrKGluc3RhbmNlSWRzLCBBcnJheSlcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGluc3RhbmNlSWRzXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmV0dXJuIGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogeyRpbjogaW5zdGFuY2VJZHN9ICwgJG9yOiBbeydtZXRhZGF0YS5pc19wcml2YXRlJzogeyRuZTogdHJ1ZX19LHsnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsIFwibWV0YWRhdGEub3duZXJcIjogdGhpcy51c2VySWR9XX0pXG4iLCJNZXRlb3IucHVibGlzaCgnY2ZzX2luc3RhbmNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWRzKSB7XG4gIGNoZWNrKGluc3RhbmNlSWRzLCBBcnJheSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcbiAgICAgICRpbjogaW5zdGFuY2VJZHNcbiAgICB9LFxuICAgICRvcjogW1xuICAgICAge1xuICAgICAgICAnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHtcbiAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsXG4gICAgICAgIFwibWV0YWRhdGEub3duZXJcIjogdGhpcy51c2VySWRcbiAgICAgIH1cbiAgICBdXG4gIH0pO1xufSk7XG4iLCJcblxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfcG9zaXRpb25zJywgKHNwYWNlSWQpLT5cblx0XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtyb2xlOjEsIHVzZXJzOiAxLCBvcmc6IDF9fSk7XG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19wb3NpdGlvbnMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHJvbGU6IDEsXG4gICAgICB1c2VyczogMSxcbiAgICAgIG9yZzogMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlICdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cblx0Y2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuXHRjaGVjayhpZHMsIEFycmF5KTtcblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dGhpcy51bmJsb2NrKClcblxuXHRmaW5kOiAtPlxuXHRcdHRoaXMudW5ibG9jaygpXG5cdFx0ZGIuZmxvd19wb3NpdGlvbnMuZmluZCB7X2lkOiB7JGluOiBpZHN9fSwgZmllbGRzOiBmaWVsZHNcblxuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChwb3NpdGlvbikgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgZmxvd19yb2xlc1xuXHRcdFx0XHRkYi5mbG93X3JvbGVzLmZpbmQgeyBfaWQ6IHBvc2l0aW9uLnJvbGUgfSwgZmllbGRzOiBuYW1lOiAxXG5cdFx0fVxuXHRcdHtcblx0XHRcdGZpbmQ6IChwb3NpdGlvbikgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgb3JnYW5pemF0aW9uc1xuXHRcdFx0XHRkYi5vcmdhbml6YXRpb25zLmZpbmQgeyBfaWQ6IHBvc2l0aW9uLm9yZyB9LCBmaWVsZHM6IGZ1bGxuYW1lOiAxXG5cdFx0fVxuXHRcdHtcblx0XHRcdGZpbmQ6IChwb3NpdGlvbikgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5zcGFjZV91c2Vycy5maW5kIHtcblx0XHRcdFx0XHRzcGFjZTogcG9zaXRpb24uc3BhY2Vcblx0XHRcdFx0XHR1c2VyOiAkaW46IHBvc2l0aW9uLnVzZXJzXG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdHVzZXI6IDFcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0fVxuXHRdIiwiTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUoJ2Zsb3dfcG9zaXRpb25zX3RhYnVsYXInLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHRoaXMudW5ibG9jaygpO1xuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaWRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogcG9zaXRpb24ucm9sZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogcG9zaXRpb24ub3JnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogcG9zaXRpb24uc3BhY2UsXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICRpbjogcG9zaXRpb24udXNlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIHVzZXI6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcbn0pO1xuIiwiXG5cblx0TWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfcm9sZXMnLCAoc3BhY2VJZCktPlxuXHRcdFxuXHRcdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXHRcdFxuXHRcdHVubGVzcyBzcGFjZUlkXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRcdHJldHVybiBkYi5mbG93X3JvbGVzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge25hbWU6MX19KTtcbiIsIk1ldGVvci5wdWJsaXNoKCdmbG93X3JvbGVzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZmxvd3MnLCAoc3BhY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0IyDnrKzkuIDmrKHorqLpmIXml7bliJ3lp4vljJblt6XkvZzljLpcblx0aWYgZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9KS5jb3VudCgpID09IDBcblx0XHRkYi5zcGFjZXMuY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyhzcGFjZUlkKVxuXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtcblx0XHRmaWVsZHM6IHtcblx0XHRcdG5hbWU6IDEsXG5cdFx0XHRmb3JtOiAxLFxuXHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRwZXJtczogMSxcblx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0Y29tcGFueV9pZDogMSxcblx0XHRcdHNvcnRfbm86IDEsXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxXG5cdFx0fVxuXHR9KVxuXG5cbk1ldGVvci5wdWJsaXNoICdmbG93X3ZlcnNpb24nLCAoc3BhY2VJZCwgZmxvd0lkLCB2ZXJzaW9uSWQpIC0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyB2ZXJzaW9uSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRGbG93VmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQgOiBpZH0pO1xuXHRcdGlmIGZsb3dcblx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudFxuXHRcdFx0Zmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWVcblxuXHRcdFx0aWYgZmxvd192ZXJzaW9uLl9pZCAhPSB2ZXJzaW9uSWRcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZClcblx0XHRcdFx0Zmxvd192ZXJzaW9uLmxhdGVzdCA9IGZhbHNlXG5cblx0XHRcdHJldHVybiBmbG93X3ZlcnNpb25cblx0aGFuZGxlID0gZGIuZmxvd3MuZmluZCh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7X2lkOiAxLCBcImN1cnJlbnQubW9kaWZpZWRcIjogMX19KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuXHR9XG5cblxuXHRzZWxmLmFkZGVkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGZsb3dJZCwgdmVyc2lvbklkKSk7XG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcblxuTWV0ZW9yLnB1Ymxpc2ggJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCAoZmxvd19pZHMpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmbG93X2lkc1xuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93X2lkc319LCB7XG5cdFx0ZmllbGRzOiB7XG5cdFx0XHRuYW1lOiAxLFxuXHRcdFx0Zm9ybTogMSxcblx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0cGVybXM6IDEsXG5cdFx0XHRzcGFjZTogMSxcblx0XHRcdGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG5cdFx0XHRkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG5cdFx0XHRkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG5cdFx0XHRjb21wYW55X2lkOiAxXG5cdFx0fVxuXHR9KVxuXG5NZXRlb3IucHVibGlzaCAnZmxvdycsIChzcGFjZUlkLCBmbG93SWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmbG93SWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7X2lkOiBmbG93SWQsIHNwYWNlOiBzcGFjZUlkfSwge1xuXHRcdGZpZWxkczoge1xuXHRcdFx0cHJpbnRfdGVtcGxhdGU6IDEsXG5cdFx0XHRpbnN0YW5jZV90ZW1wbGF0ZTogMSxcblx0XHRcdGV2ZW50czogMSxcblx0XHRcdGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG5cdFx0XHRkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG5cdFx0XHR1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXG5cdFx0XHRkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG5cdFx0XHRjb21wYW55X2lkOiAxLFxuXHRcdFx0YWxsb3dfc2VsZWN0X3N0ZXA6IDFcblx0XHR9XG5cdH0pXG5NZXRlb3IucHVibGlzaCAnZmxvd19maWxlcycsIChzcGFjZUlkLCBmbG93SWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmbG93SWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmV0dXJuIGNmcy5maWxlcy5maW5kKHsgJ21ldGFkYXRhLnNwYWNlJzogc3BhY2VJZCwgJ21ldGFkYXRhLm9iamVjdF9uYW1lJzogJ2Zsb3dzJywgJ21ldGFkYXRhLnJlY29yZF9pZCc6IGZsb3dJZCB9KVxuXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSAnZmxvd3NfdGFidWxhcicsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHRoaXMudW5ibG9jaygpXG5cblx0ZmluZDogLT5cblx0XHR0aGlzLnVuYmxvY2soKVxuXHRcdGRiLmZsb3dzLmZpbmQge19pZDogeyRpbjogaWRzfX0sIGZpZWxkczogZmllbGRzXG5cblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5zcGFjZV91c2Vycy5maW5kIHtcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZSxcblx0XHRcdFx0XHR1c2VyOiBmbG93LmN1cnJlbnQubW9kaWZpZWRfYnlcblx0XHRcdFx0fSwgZmllbGRzOlxuXHRcdFx0XHRcdHNwYWNlOiAxXG5cdFx0XHRcdFx0dXNlcjogMVxuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHR9LFxuXHRcdHtcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxuXHRcdFx0XHRAdW5ibG9jaygpXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXG5cdFx0XHRcdGRiLmZvcm1zLmZpbmQge1xuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlLFxuXHRcdFx0XHRcdF9pZDogZmxvdy5mb3JtXG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdF9pZDogMVxuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0Y2F0ZWdvcnk6IDFcblx0XHR9LFxuXHRcdHtcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxuXHRcdFx0XHRAdW5ibG9jaygpXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXG5cdFx0XHRcdGRiLmNhdGVnb3JpZXMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2Vcblx0XHRcdFx0fSwgZmllbGRzOlxuXHRcdFx0XHRcdHNwYWNlOiAxXG5cdFx0XHRcdFx0X2lkOiAxXG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdH1cblx0XSIsIk1ldGVvci5wdWJsaXNoKCdmbG93cycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoZGIuZmxvd3MuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgIGRiLnNwYWNlcy5jcmVhdGVUZW1wbGF0ZUZvcm1BbmRGbG93KHNwYWNlSWQpO1xuICB9XG4gIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgcGVybXM6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIGNvbXBhbnlfaWQ6IDEsXG4gICAgICBzb3J0X25vOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcbiAgICAgIGRpc3RyaWJ1dGVfdG9fc2VsZjogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfdmVyc2lvbicsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCwgdmVyc2lvbklkKSB7XG4gIHZhciBnZXRGbG93VmVyc2lvbiwgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd0lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXZlcnNpb25JZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGdldEZsb3dWZXJzaW9uID0gZnVuY3Rpb24oaWQsIHZlcnNpb25JZCkge1xuICAgIHZhciBmbG93LCBmbG93X3ZlcnNpb247XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpZFxuICAgIH0pO1xuICAgIGlmIChmbG93KSB7XG4gICAgICBmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XG4gICAgICBmbG93X3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZTtcbiAgICAgIGlmIChmbG93X3ZlcnNpb24uX2lkICE9PSB2ZXJzaW9uSWQpIHtcbiAgICAgICAgZmxvd192ZXJzaW9uID0gZmxvdy5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZCk7XG4gICAgICAgIGZsb3dfdmVyc2lvbi5sYXRlc3QgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmbG93X3ZlcnNpb247XG4gICAgfVxuICB9O1xuICBoYW5kbGUgPSBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IGZsb3dJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogMVxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcbiAgICB9XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGZsb3dJZCwgdmVyc2lvbklkKSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZGlzdHJpYnV0ZV9vcHRpb25hbF9mbG93cycsIGZ1bmN0aW9uKGZsb3dfaWRzKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd19pZHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogZmxvd19pZHNcbiAgICB9XG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBmb3JtOiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBwZXJtczogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcbiAgICAgIGRpc3RyaWJ1dGVfdG9fc2VsZjogMSxcbiAgICAgIGRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbjogMSxcbiAgICAgIGNvbXBhbnlfaWQ6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93JywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93SWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IGZsb3dJZCxcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwcmludF90ZW1wbGF0ZTogMSxcbiAgICAgIGluc3RhbmNlX3RlbXBsYXRlOiAxLFxuICAgICAgZXZlbnRzOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcbiAgICAgIGRpc3RyaWJ1dGVfdG9fc2VsZjogMSxcbiAgICAgIHVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZDogMSxcbiAgICAgIGRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbjogMSxcbiAgICAgIGNvbXBhbnlfaWQ6IDEsXG4gICAgICBhbGxvd19zZWxlY3Rfc3RlcDogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfZmlsZXMnLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGNmcy5maWxlcy5maW5kKHtcbiAgICAnbWV0YWRhdGEuc3BhY2UnOiBzcGFjZUlkLFxuICAgICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsXG4gICAgJ21ldGFkYXRhLnJlY29yZF9pZCc6IGZsb3dJZFxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSgnZmxvd3NfdGFidWxhcicsIGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgY2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgdGhpcy51bmJsb2NrKCk7XG4gIHJldHVybiB7XG4gICAgZmluZDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpZHNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IGZpZWxkc1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IGZsb3cuc3BhY2UsXG4gICAgICAgICAgICB1c2VyOiBmbG93LmN1cnJlbnQubW9kaWZpZWRfYnlcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIHVzZXI6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IGZsb3cuc3BhY2UsXG4gICAgICAgICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgICBjYXRlZ29yeTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICBfaWQ6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Zvcm1zJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge25hbWU6IDEsIGNhdGVnb3J5OiAxLCBzdGF0ZTogMSwgZGVzY3JpcHRpb246IDEsIGluc3RhbmNlX3N0eWxlOiAxfX0pXG5cblxuTWV0ZW9yLnB1Ymxpc2ggJ2Zvcm1fdmVyc2lvbicsIChzcGFjZUlkLCBmb3JtSWQsIHZlcnNpb25JZCkgLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBmb3JtSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHZlcnNpb25JZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdGdldEZvcm1WZXJzaW9uID0gKGlkICwgdmVyc2lvbklkKS0+XG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZCA6IGlkfSk7XG5cdFx0aWYgIWZvcm1cblx0XHRcdHJldHVybiB7fVxuXHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudFxuXHRcdGZvcm1fdmVyc2lvbi5sYXRlc3QgPSB0cnVlXG5cdFx0aWYgZm9ybV92ZXJzaW9uLl9pZCAhPSB2ZXJzaW9uSWRcblx0XHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpXG5cdFx0XHRmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2Vcblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXG5cblx0aGFuZGxlID0gZGIuZm9ybXMuZmluZCh7X2lkOiBmb3JtSWR9LCB7ZmllbGRzOiB7X2lkOiAxLCBcImN1cnJlbnQubW9kaWZpZWRcIjogMX19KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xuXHR9XG5cblx0c2VsZi5hZGRlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihmb3JtSWQsIHZlcnNpb25JZCkpO1xuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zvcm1zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgY2F0ZWdvcnk6IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgaW5zdGFuY2Vfc3R5bGU6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmb3JtX3ZlcnNpb24nLCBmdW5jdGlvbihzcGFjZUlkLCBmb3JtSWQsIHZlcnNpb25JZCkge1xuICB2YXIgZ2V0Rm9ybVZlcnNpb24sIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZvcm1JZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRGb3JtVmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uSWQpIHtcbiAgICB2YXIgZm9ybSwgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9KTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xuICAgIGZvcm1fdmVyc2lvbi5sYXRlc3QgPSB0cnVlO1xuICAgIGlmIChmb3JtX3ZlcnNpb24uX2lkICE9PSB2ZXJzaW9uSWQpIHtcbiAgICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpO1xuICAgICAgZm9ybV92ZXJzaW9uLmxhdGVzdCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICB9O1xuICBoYW5kbGUgPSBkYi5mb3Jtcy5maW5kKHtcbiAgICBfaWQ6IGZvcm1JZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogMVxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcbiAgICB9XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGZvcm1JZCwgdmVyc2lvbklkKSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlX2RhdGEnLCAoaW5zdGFuY2VJZCwgYm94KS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgKGluc3RhbmNlSWQgJiYgZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogaW5zdGFuY2VJZH0pLmNvdW50KCkpXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLFxuXHRcdCdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbicsICdhdXRvX3N1Ym1pdHRlZCddXG5cblx0dHJpZ2dlckNoYW5nZUZpZWxkcyA9IFsnZm9ybV92ZXJzaW9uJywgJ2Zsb3dfdmVyc2lvbicsICdyZWxhdGVkX2luc3RhbmNlcycsICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJywgJ3ZhbHVlcyddXG5cblx0dHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcyA9IHt9XG5cblx0aW5zdGFuY2VfZmllbGRzXzAgPSB7XG5cdFx0XCJyZWNvcmRfc3luY2VkXCI6IDAsXG5cbiNcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25cIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5jb3N0X3RpbWVcIjogMCxcbiNcdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVhZF9kYXRlXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaXNfZXJyb3JcIjogMCxcblx0XHQjIFwidHJhY2VzLmFwcHJvdmVzLnVzZXJfbmFtZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmRlYWRsaW5lXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kX2RhdGVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRlZF9jb3VudFwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkX2J5XCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5nZW9sb2NhdGlvblwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmNjX3VzZXJzXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV9hcHByb3ZlX2lkXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMudmFsdWVzX2hpc3RvcnlcIjogMFxuXHR9XG5cblx0Z2V0TXlhcHByb3ZlTW9kaWZpZWQgPSAodHJhY2VzKS0+XG5cdFx0bXlBcHByb3ZlTW9kaWZpZWRzID0gbmV3IEFycmF5KClcblxuXHRcdHRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cblx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSktPlxuXHRcdFx0XHRpZiAoYXBwcm92ZS51c2VyID09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PSBzZWxmLnVzZXJJZClcblx0XHRcdFx0IyAmJiAhYXBwcm92ZS5pc19maW5pc2hlZFxuI1x0XHRcdFx0XHRjb25zb2xlLmxvZyhcImFwcHJvdmVcIiwgYXBwcm92ZS5faWQsIGFwcHJvdmUucmVhZF9kYXRlKVxuXG5cdFx0XHRcdFx0bXlBcHByb3ZlTW9kaWZpZWRzLnB1c2goYXBwcm92ZS5yZWFkX2RhdGUpXG5cblx0XHRyZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzXG5cblxuXHRnZXRNaW5pSW5zdGFuY2UgPSAoX2luc3RhbmNlSWQpLT5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IF9pbnN0YW5jZUlkfSwge2ZpZWxkczogaW5zdGFuY2VfZmllbGRzXzB9KVxuXG5cdFx0aWYgaW5zdGFuY2VcblxuXHRcdFx0dHJpZ2dlckNoYW5nZUZpZWxkcy5mb3JFYWNoIChrZXkpLT5cblx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xuXHRcdFx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGluc3RhbmNlLnRyYWNlcylcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGluc3RhbmNlW2tleV1cblxuI1x0XHRcdGhhc09waW5pb25GaWVsZCA9IEluc3RhbmNlU2lnblRleHQuaW5jbHVkZXNPcGluaW9uRmllbGQoaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXG5cdFx0XHRzaG93X21vZGFsX3RyYWNlc19saXN0ID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7IHNwYWNlOiBpbnN0YW5jZS5zcGFjZSwga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIiB9LCB7IGZpZWxkczogeyB2YWx1ZXM6IDEgfSB9KT8udmFsdWVzIHx8IGZhbHNlXG5cblx0XHRcdGlmIHNob3dfbW9kYWxfdHJhY2VzX2xpc3RcblxuXHRcdFx0XHR0cmFjZXMgPSBuZXcgQXJyYXkoKTtcblxuXHRcdFx0XHRpbnN0YW5jZT8udHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxuXHRcdFx0XHRcdF90cmFjZSA9IF8uY2xvbmUodHJhY2UpXG5cblx0XHRcdFx0XHRhcHByb3ZlcyA9IG5ldyBBcnJheSgpXG5cblx0XHRcdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpLT5cblx0XHRcdFx0XHRcdGlmIGFwcHJvdmUudHlwZSAhPSAnY2MnIHx8IGFwcHJvdmUudXNlciA9PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT0gc2VsZi51c2VySWQgfHwgKCFfLmlzRW1wdHkoYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpKVxuXHRcdFx0XHRcdFx0XHRhcHByb3Zlcy5wdXNoKGFwcHJvdmUpXG5cblx0XHRcdFx0XHRfdHJhY2UuYXBwcm92ZXMgPSBhcHByb3Zlc1xuXG5cdFx0XHRcdFx0dHJhY2VzLnB1c2goX3RyYWNlKVxuXG5cdFx0XHRcdGluc3RhbmNlLnRyYWNlcyA9IHRyYWNlcztcblxuXHRcdHJldHVybiBpbnN0YW5jZVxuXG5cblx0bmVlZENoYW5nZSA9IChjaGFuZ2VGaWVsZHMpLT5cblx0XHRpZiBjaGFuZ2VGaWVsZHNcblxuXHRcdFx0X2NoYW5nZSA9IGZhbHNlXG5cblx0XHRcdF9yZXYgPSBfLmZpbmQgdHJpZ2dlckNoYW5nZUZpZWxkcywgKGtleSktPlxuXHRcdFx0XHRfa2V5ID0ga2V5XG5cblx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xuXHRcdFx0XHRcdF9rZXkgPSAndHJhY2VzJ1xuXG5cdFx0XHRcdGlmIF8uaGFzKGNoYW5nZUZpZWxkcywgX2tleSlcblxuXHRcdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcblxuXHRcdFx0XHRcdFx0X215X2FwcHJvdmVfbW9kaWZpZWRzID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoY2hhbmdlRmllbGRzLnRyYWNlcylcblxuI1x0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKVxuXG5cdFx0XHRcdFx0XHRyZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcylcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRyZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIGNoYW5nZUZpZWxkc1trZXldKVxuXG5cdFx0XHRpZiBfcmV2XG5cdFx0XHRcdF9jaGFuZ2UgPSB0cnVlXG5cbiNcdFx0XHRjb25zb2xlLmxvZyhfcmV2LCBfY2hhbmdlKVxuXG5cdFx0XHRyZXR1cm4gX2NoYW5nZVxuXG5cdFx0cmV0dXJuIHRydWVcblx0I+atpOWkhOS4jeiDvea3u+WKoGZpZWxkc+mZkOWItu+8jOWQpuWImeS8muWvvOiHtOaVsOaNruS4jeWunuaXtlxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiBpbnN0YW5jZUlkfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCwgZmllbGRzKS0+XG5cdFx0XHRpZihib3ggIT0gJ2luYm94JyB8fCBuZWVkQ2hhbmdlKGZpZWxkcykpXG5cdFx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgZ2V0TWluaUluc3RhbmNlKGlkKSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0aW5zdGFuY2UgPSBnZXRNaW5pSW5zdGFuY2UoaW5zdGFuY2VJZClcblxuXHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGluc3RhbmNlPy5faWQsIGluc3RhbmNlKTtcblxuXHRzZWxmLnJlYWR5KCk7XG5cblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcblxuXG5NZXRlb3IucHVibGlzaCAnaW5zdGFuY2VfdHJhY2VzJywgKGluc3RhbmNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzXG5cblx0Z2V0SW5zdGFuY2VUcmFjZXMgPSAoX2luc0lkKS0+XG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IF9pbnNJZH0sIHtmaWVsZHM6IHtfaWQ6IDEsIHRyYWNlczogMX19KVxuXG5cblx0aGFuZGxlID0gIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IGluc3RhbmNlSWR9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuXHR9XG5cblx0c2VsZi5hZGRlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZV9kYXRhJywgZnVuY3Rpb24oaW5zdGFuY2VJZCwgYm94KSB7XG4gIHZhciBnZXRNaW5pSW5zdGFuY2UsIGdldE15YXBwcm92ZU1vZGlmaWVkLCBoYW5kbGUsIGluc3RhbmNlLCBpbnN0YW5jZV9maWVsZHNfMCwgbWluaUFwcHJvdmVGaWVsZHMsIG5lZWRDaGFuZ2UsIHNlbGYsIHRyaWdnZXJDaGFuZ2VGaWVsZHMsIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXM7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghKGluc3RhbmNlSWQgJiYgZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KS5jb3VudCgpKSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLCAnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nLCAnYXV0b19zdWJtaXR0ZWQnXTtcbiAgdHJpZ2dlckNoYW5nZUZpZWxkcyA9IFsnZm9ybV92ZXJzaW9uJywgJ2Zsb3dfdmVyc2lvbicsICdyZWxhdGVkX2luc3RhbmNlcycsICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJywgJ3ZhbHVlcyddO1xuICB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzID0ge307XG4gIGluc3RhbmNlX2ZpZWxkc18wID0ge1xuICAgIFwicmVjb3JkX3N5bmNlZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvblwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmNvc3RfdGltZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX2Vycm9yXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZGVhZGxpbmVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRfZGF0ZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZGVkX2NvdW50XCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRfYnlcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmdlb2xvY2F0aW9uXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuY2NfdXNlcnNcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5mcm9tX2FwcHJvdmVfaWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy52YWx1ZXNfaGlzdG9yeVwiOiAwXG4gIH07XG4gIGdldE15YXBwcm92ZU1vZGlmaWVkID0gZnVuY3Rpb24odHJhY2VzKSB7XG4gICAgdmFyIG15QXBwcm92ZU1vZGlmaWVkcztcbiAgICBteUFwcHJvdmVNb2RpZmllZHMgPSBuZXcgQXJyYXkoKTtcbiAgICBpZiAodHJhY2VzICE9IG51bGwpIHtcbiAgICAgIHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgIHZhciByZWY7XG4gICAgICAgIHJldHVybiB0cmFjZSAhPSBudWxsID8gKHJlZiA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgIGlmIChhcHByb3ZlLnVzZXIgPT09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PT0gc2VsZi51c2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybiBteUFwcHJvdmVNb2RpZmllZHMucHVzaChhcHByb3ZlLnJlYWRfZGF0ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzO1xuICB9O1xuICBnZXRNaW5pSW5zdGFuY2UgPSBmdW5jdGlvbihfaW5zdGFuY2VJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCByZWYxLCBzaG93X21vZGFsX3RyYWNlc19saXN0LCB0cmFjZXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IF9pbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiBpbnN0YW5jZV9maWVsZHNfMFxuICAgIH0pO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgdHJpZ2dlckNoYW5nZUZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycpIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoaW5zdGFuY2UudHJhY2VzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gaW5zdGFuY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzaG93X21vZGFsX3RyYWNlc19saXN0ID0gKChyZWYgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtcbiAgICAgICAgc3BhY2U6IGluc3RhbmNlLnNwYWNlLFxuICAgICAgICBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHZhbHVlczogMVxuICAgICAgICB9XG4gICAgICB9KSkgIT0gbnVsbCA/IHJlZi52YWx1ZXMgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgICAgaWYgKHNob3dfbW9kYWxfdHJhY2VzX2xpc3QpIHtcbiAgICAgICAgdHJhY2VzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGlmIChpbnN0YW5jZSAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKChyZWYxID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsKSB7XG4gICAgICAgICAgICByZWYxLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgICAgICAgdmFyIF90cmFjZSwgYXBwcm92ZXMsIHJlZjI7XG4gICAgICAgICAgICAgIF90cmFjZSA9IF8uY2xvbmUodHJhY2UpO1xuICAgICAgICAgICAgICBhcHByb3ZlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgICBpZiAodHJhY2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICgocmVmMiA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICByZWYyLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwcm92ZS50eXBlICE9PSAnY2MnIHx8IGFwcHJvdmUudXNlciA9PT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09PSBzZWxmLnVzZXJJZCB8fCAoIV8uaXNFbXB0eShhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmVzLnB1c2goYXBwcm92ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdHJhY2UuYXBwcm92ZXMgPSBhcHByb3ZlcztcbiAgICAgICAgICAgICAgcmV0dXJuIHRyYWNlcy5wdXNoKF90cmFjZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2UudHJhY2VzID0gdHJhY2VzO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5zdGFuY2U7XG4gIH07XG4gIG5lZWRDaGFuZ2UgPSBmdW5jdGlvbihjaGFuZ2VGaWVsZHMpIHtcbiAgICB2YXIgX2NoYW5nZSwgX3JldjtcbiAgICBpZiAoY2hhbmdlRmllbGRzKSB7XG4gICAgICBfY2hhbmdlID0gZmFsc2U7XG4gICAgICBfcmV2ID0gXy5maW5kKHRyaWdnZXJDaGFuZ2VGaWVsZHMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICB2YXIgX2tleSwgX215X2FwcHJvdmVfbW9kaWZpZWRzO1xuICAgICAgICBfa2V5ID0ga2V5O1xuICAgICAgICBpZiAoa2V5ID09PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycpIHtcbiAgICAgICAgICBfa2V5ID0gJ3RyYWNlcyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8uaGFzKGNoYW5nZUZpZWxkcywgX2tleSkpIHtcbiAgICAgICAgICBpZiAoa2V5ID09PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycpIHtcbiAgICAgICAgICAgIF9teV9hcHByb3ZlX21vZGlmaWVkcyA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGNoYW5nZUZpZWxkcy50cmFjZXMpO1xuICAgICAgICAgICAgcmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIGNoYW5nZUZpZWxkc1trZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKF9yZXYpIHtcbiAgICAgICAgX2NoYW5nZSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gX2NoYW5nZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIGlmIChib3ggIT09ICdpbmJveCcgfHwgbmVlZENoYW5nZShmaWVsZHMpKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGdldE1pbmlJbnN0YW5jZShpZCkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuICAgIH1cbiAgfSk7XG4gIGluc3RhbmNlID0gZ2V0TWluaUluc3RhbmNlKGluc3RhbmNlSWQpO1xuICBzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS5faWQgOiB2b2lkIDAsIGluc3RhbmNlKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZV90cmFjZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkKSB7XG4gIHZhciBnZXRJbnN0YW5jZVRyYWNlcywgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRJbnN0YW5jZVRyYWNlcyA9IGZ1bmN0aW9uKF9pbnNJZCkge1xuICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IF9pbnNJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBfaWQ6IDEsXG4gICAgICAgIHRyYWNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiXG5cdE1ldGVvci5wdWJsaXNoICdpbnN0YW5jZXNfbGlzdCcsIChzcGFjZUlkLCBib3gsIGZsb3dJZCktPlxuXG5cdFx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cdFx0XG5cdFx0dW5sZXNzIHNwYWNlSWRcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRcdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXHRcdGlmIGJveCA9PSBcImluYm94XCJcblx0XHRcdHF1ZXJ5LmluYm94X3VzZXJzID0gdGhpcy51c2VySWQ7XG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJvdXRib3hcIlxuXHRcdFx0cXVlcnkub3V0Ym94X3VzZXJzID0gdGhpcy51c2VySWQ7XG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJkcmFmdFwiXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJkcmFmdFwiXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJwZW5kaW5nXCJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuXHRcdFx0cXVlcnkuc3RhdGUgPSBcInBlbmRpbmdcIlxuXHRcdGVsc2UgaWYgYm94ID09IFwiY29tcGxldGVkXCJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuXHRcdFx0cXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJtb25pdG9yXCJcblx0XHRcdHF1ZXJ5LmZsb3cgPSBmbG93SWQ7XG5cdFx0XHRxdWVyeS5zdGF0ZSA9IHskaW46IFtcInBlbmRpbmdcIixcImNvbXBsZXRlZFwiXX07XG5cdFx0ZWxzZVxuXHRcdFx0cXVlcnkuc3RhdGUgPSBcIm5vbmVcIlxuXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7bmFtZToxLCBjcmVhdGVkOjEsIGZvcm06MSwgZmxvdzogMSwgc3BhY2U6MSwgbW9kaWZpZWQ6MSwgYXBwbGljYW50OiAxLCBpc19hcmNoaXZlZDoxLCBmb3JtX3ZlcnNpb246IDEsIGZsb3dfdmVyc2lvbjogMX19KVxuXG4iLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VzX2xpc3QnLCBmdW5jdGlvbihzcGFjZUlkLCBib3gsIGZsb3dJZCkge1xuICB2YXIgcXVlcnk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfTtcbiAgaWYgKGJveCA9PT0gXCJpbmJveFwiKSB7XG4gICAgcXVlcnkuaW5ib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwib3V0Ym94XCIpIHtcbiAgICBxdWVyeS5vdXRib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwiZHJhZnRcIikge1xuICAgIHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJkcmFmdFwiO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgIHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwibW9uaXRvclwiKSB7XG4gICAgcXVlcnkuZmxvdyA9IGZsb3dJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogW1wicGVuZGluZ1wiLCBcImNvbXBsZXRlZFwiXVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcIm5vbmVcIjtcbiAgfVxuICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBjcmVhdGVkOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIGZsb3c6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIG1vZGlmaWVkOiAxLFxuICAgICAgYXBwbGljYW50OiAxLFxuICAgICAgaXNfYXJjaGl2ZWQ6IDEsXG4gICAgICBmb3JtX3ZlcnNpb246IDEsXG4gICAgICBmbG93X3ZlcnNpb246IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlID0gKGluc3RhbmNlaWQsIHVzZXJJZCwgZGF0YU1hcCwgY2FsbGJhY2spLT5cblx0b3BlcmF0aW9uID0gW3tcblx0XHRcIiRtYXRjaFwiOiB7XG5cdFx0XHRcIl9pZFwiOiBpbnN0YW5jZWlkXG5cdFx0fVxuXHR9LCB7XCIkcHJvamVjdFwiOiB7XCJuYW1lXCI6IDEsIFwiX2FwcHJvdmVcIjogXCIkdHJhY2VzLmFwcHJvdmVzXCJ9fSwge1wiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwifSwge1wiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwifSxcblx0XHR7XCIkbWF0Y2hcIjoge1wiX2FwcHJvdmUuaXNfZmluaXNoZWRcIjogdHJ1ZSwgJG9yOlt7XCJfYXBwcm92ZS5oYW5kbGVyXCI6IHVzZXJJZH0se1wiX2FwcHJvdmUudXNlclwiOiB1c2VySWR9XX19LFxuXHRcdHtcIiRncm91cFwiOiB7XCJfaWRcIjogXCIkX2lkXCIsIFwiZmluaXNoX2RhdGVcIjoge1wiJGxhc3RcIjogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIn19fVxuXHRdXG5cblx0ZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUob3BlcmF0aW9uKS50b0FycmF5IChlcnIsIGRhdGEpLT5cblx0XHRpZiBlcnJcblx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXG5cblx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cblx0XHRcdGRhdGFNYXAucHVzaCBkb2NcblxuXHRcdGlmIGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaylcblx0XHRcdGNhbGxiYWNrKClcblx0XHRyZXR1cm5cblxuYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlID0gTWV0ZW9yLndyYXBBc3luYyhsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlKVxuXG5NZXRlb3IucHVibGlzaCBcImluc3RhbmNlX3RhYnVsYXJcIiwgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcblxuXHRjaGVjayhpZHMsIEFycmF5KTtcblxuXHRjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpXG5cblx0ZmllbGRzLmNjX3VzZXJzID0gMVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSA9ICh1c2VySWQsIGluc3RhbmNlSWQpLT5cblx0XHRkYXRhID0gW11cblx0XHRhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUoaW5zdGFuY2VJZCwgdXNlcklkLCBkYXRhKVxuXHRcdGlmIGRhdGEubGVuZ3RoID4gMFxuXHRcdFx0cmV0dXJuIGRhdGFbMF1cblxuXG5cdGdldE15QXBwcm92ZSA9ICh1c2VySWQsIGluc3RhbmNlSWQpLT5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAxfX0pXG5cdFx0bXlBcHByb3ZlID0gbnVsbFxuXG5cdFx0aWYgIWluc3RhbmNlXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlmICFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDFcblx0XHRcdHJldHVyblxuXG5cdFx0bm90RmluaXNoZWRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSlcblxuXHRcdGlmIG5vdEZpbmlzaGVkVHJhY2VzLmxlbmd0aCA+IDBcblx0XHRcdGFwcHJvdmVzID0gbm90RmluaXNoZWRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIHVzZXJJZCk7XG5cblx0XHRcdGlmIGFwcHJvdmVzLmxlbmd0aCA+IDBcblx0XHRcdFx0YXBwcm92ZSA9IGFwcHJvdmVzWzBdXG5cdFx0XHRcdG15QXBwcm92ZSA9IHtcblx0XHRcdFx0XHRpZDogYXBwcm92ZS5faWQsXG5cdFx0XHRcdFx0aW5zdGFuY2U6IGFwcHJvdmUuaW5zdGFuY2UsXG5cdFx0XHRcdFx0dHJhY2U6IGFwcHJvdmUudHJhY2UsXG5cdFx0XHRcdFx0aXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxuXHRcdFx0XHRcdHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdGFnZW50OiBhcHByb3ZlLmFnZW50XG5cdFx0XHRcdFx0dXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuXHRcdFx0XHR9XG5cblx0XHRpZiAhbXlBcHByb3ZlXG5cdFx0XHRpc19yZWFkID0gZmFsc2Vcblx0XHRcdGluc3RhbmNlLnRyYWNlcy5mb3JFYWNoICh0cmFjZSkgLT5cblx0XHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKSAtPlxuXHRcdFx0XHRcdGlmIGFwcHJvdmUudHlwZSA9PSAnY2MnIGFuZCBhcHByb3ZlLnVzZXIgPT0gdXNlcklkIGFuZCBhcHByb3ZlLmlzX2ZpbmlzaGVkID09IGZhbHNlXG5cdFx0XHRcdFx0XHRpZiBhcHByb3ZlLmlzX3JlYWRcblx0XHRcdFx0XHRcdFx0aXNfcmVhZCA9IHRydWVcblx0XHRcdFx0XHRcdG15QXBwcm92ZSA9IHtpZDogYXBwcm92ZS5faWQsIGlzX3JlYWQ6IGlzX3JlYWQsIHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZSwgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsIHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWV9XG5cblx0XHRyZXR1cm4gbXlBcHByb3ZlXG5cblx0Z2V0U3RlcEN1cnJlbnROYW1lID0gKGluc3RhbmNlSWQpIC0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSwge2ZpZWxkczoge1widHJhY2VzLm5hbWVcIjogMSwgXCJ0cmFjZXNcIjogeyRzbGljZTogLTF9fX0pXG5cdFx0aWYgaW5zdGFuY2Vcblx0XHRcdHN0ZXBDdXJyZW50TmFtZSA9IGluc3RhbmNlLnRyYWNlcz9bMF0/Lm5hbWVcblxuXHRcdHJldHVybiBzdGVwQ3VycmVudE5hbWVcblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpZHN9fSwge2ZpZWxkczoge3RyYWNlczogMH19KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXG5cdFx0XHRteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdFx0aWYgbXlBcHByb3ZlXG5cdFx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdFx0aWYgbXlBcHByb3ZlLmFnZW50XG5cdFx0XHRcdFx0aW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZVxuXG5cdFx0XHRpZiBteUxhc3RGaW5pc2hlZEFwcHJvdmVcblx0XHRcdFx0aW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGVcblxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRpbnN0YW5jZS5jY19jb3VudCA9IGluc3RhbmNlLmNjX3VzZXJzPy5sZW5ndGggfHwgMFxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHR0cnlcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cdFx0XHRjYXRjaCBlcnJvclxuXHRcdFx0XHRjb25zb2xlLmxvZygnaW5zdGFuY2Ugb2JzZXJ2ZUNoYW5nZXMgZXJyb3I6ICcsIGVycm9yLm1lc3NhZ2UpO1xuXHRcdFx0XHRjb25zb2xlLmxvZygnc2VsZi51c2VySWQ6ICcsIHNlbGYudXNlcklkKTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ3RhYmxlTmFtZTogJywgdGFibGVOYW1lKTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ2lkczogJywgSlNPTi5zdHJpbmdpZnkoaWRzKSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdteUFwcHJvdmU6ICcsIEpTT04uc3RyaW5naWZ5KG15QXBwcm92ZSkpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdGlkcy5mb3JFYWNoIChpZCktPlxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXG5cdFx0aWYgbXlBcHByb3ZlXG5cdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWRcblx0XHRcdGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0aWYgbXlBcHByb3ZlLmFnZW50XG5cdFx0XHRcdFx0aW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZVxuXHRcdGVsc2Vcblx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlXG5cblx0XHRpZiBteUxhc3RGaW5pc2hlZEFwcHJvdmVcblx0XHRcdGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlXG5cblx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRpbnN0YW5jZS5jY19jb3VudCA9IGluc3RhbmNlLmNjX3VzZXJzPy5sZW5ndGggfHwgMFxuXHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpIiwidmFyIGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSwgbGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZTtcblxubGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlaWQsIHVzZXJJZCwgZGF0YU1hcCwgY2FsbGJhY2spIHtcbiAgdmFyIG9wZXJhdGlvbjtcbiAgb3BlcmF0aW9uID0gW1xuICAgIHtcbiAgICAgIFwiJG1hdGNoXCI6IHtcbiAgICAgICAgXCJfaWRcIjogaW5zdGFuY2VpZFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJHByb2plY3RcIjoge1xuICAgICAgICBcIm5hbWVcIjogMSxcbiAgICAgICAgXCJfYXBwcm92ZVwiOiBcIiR0cmFjZXMuYXBwcm92ZXNcIlxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwiXG4gICAgfSwge1xuICAgICAgXCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJcbiAgICB9LCB7XG4gICAgICBcIiRtYXRjaFwiOiB7XG4gICAgICAgIFwiX2FwcHJvdmUuaXNfZmluaXNoZWRcIjogdHJ1ZSxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJfYXBwcm92ZS5oYW5kbGVyXCI6IHVzZXJJZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwiX2FwcHJvdmUudXNlclwiOiB1c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiRncm91cFwiOiB7XG4gICAgICAgIFwiX2lkXCI6IFwiJF9pZFwiLFxuICAgICAgICBcImZpbmlzaF9kYXRlXCI6IHtcbiAgICAgICAgICBcIiRsYXN0XCI6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXTtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKG9wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIGRhdGFNYXAucHVzaChkb2MpO1xuICAgIH0pO1xuICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5hc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUgPSBNZXRlb3Iud3JhcEFzeW5jKGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUpO1xuXG5NZXRlb3IucHVibGlzaChcImluc3RhbmNlX3RhYnVsYXJcIiwgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICB2YXIgZ2V0TXlBcHByb3ZlLCBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUsIGdldFN0ZXBDdXJyZW50TmFtZSwgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBmaWVsZHMuY2NfdXNlcnMgPSAxO1xuICBzZWxmID0gdGhpcztcbiAgZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZnVuY3Rpb24odXNlcklkLCBpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgZGF0YSA9IFtdO1xuICAgIGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZShpbnN0YW5jZUlkLCB1c2VySWQsIGRhdGEpO1xuICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBkYXRhWzBdO1xuICAgIH1cbiAgfTtcbiAgZ2V0TXlBcHByb3ZlID0gZnVuY3Rpb24odXNlcklkLCBpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGFwcHJvdmUsIGFwcHJvdmVzLCBpbnN0YW5jZSwgaXNfcmVhZCwgbXlBcHByb3ZlLCBub3RGaW5pc2hlZFRyYWNlcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBteUFwcHJvdmUgPSBudWxsO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbm90RmluaXNoZWRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSk7XG4gICAgaWYgKG5vdEZpbmlzaGVkVHJhY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGFwcHJvdmVzID0gbm90RmluaXNoZWRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIHVzZXJJZCk7XG4gICAgICBpZiAoYXBwcm92ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBhcHByb3ZlID0gYXBwcm92ZXNbMF07XG4gICAgICAgIG15QXBwcm92ZSA9IHtcbiAgICAgICAgICBpZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgaW5zdGFuY2U6IGFwcHJvdmUuaW5zdGFuY2UsXG4gICAgICAgICAgdHJhY2U6IGFwcHJvdmUudHJhY2UsXG4gICAgICAgICAgaXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxuICAgICAgICAgIHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZSxcbiAgICAgICAgICBhZ2VudDogYXBwcm92ZS5hZ2VudCxcbiAgICAgICAgICB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbXlBcHByb3ZlKSB7XG4gICAgICBpc19yZWFkID0gZmFsc2U7XG4gICAgICBpbnN0YW5jZS50cmFjZXMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgcmVmO1xuICAgICAgICByZXR1cm4gdHJhY2UgIT0gbnVsbCA/IChyZWYgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS50eXBlID09PSAnY2MnICYmIGFwcHJvdmUudXNlciA9PT0gdXNlcklkICYmIGFwcHJvdmUuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoYXBwcm92ZS5pc19yZWFkKSB7XG4gICAgICAgICAgICAgIGlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG15QXBwcm92ZSA9IHtcbiAgICAgICAgICAgICAgaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgICAgICBpc19yZWFkOiBpc19yZWFkLFxuICAgICAgICAgICAgICBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsXG4gICAgICAgICAgICAgIGFnZW50OiBhcHByb3ZlLmFnZW50LFxuICAgICAgICAgICAgICB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG15QXBwcm92ZTtcbiAgfTtcbiAgZ2V0U3RlcEN1cnJlbnROYW1lID0gZnVuY3Rpb24oaW5zdGFuY2VJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCByZWYxLCBzdGVwQ3VycmVudE5hbWU7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMubmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlc1wiOiB7XG4gICAgICAgICAgJHNsaWNlOiAtMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICBzdGVwQ3VycmVudE5hbWUgPSAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gKHJlZjEgPSByZWZbMF0pICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBzdGVwQ3VycmVudE5hbWU7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB0cmFjZXM6IDBcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIGVycm9yLCBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteUxhc3RGaW5pc2hlZEFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGlkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgICBteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkO1xuICAgICAgICBpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgIGlmIChteUFwcHJvdmUuYWdlbnQpIHtcbiAgICAgICAgICBpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChteUxhc3RGaW5pc2hlZEFwcHJvdmUpIHtcbiAgICAgICAgaW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGU7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZS5pc19jYyA9ICgocmVmID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoc2VsZi51c2VySWQpIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICAgIGluc3RhbmNlLmNjX2NvdW50ID0gKChyZWYxID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5jY191c2VycztcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICBlcnJvciA9IGVycm9yMTtcbiAgICAgICAgY29uc29sZS5sb2coJ2luc3RhbmNlIG9ic2VydmVDaGFuZ2VzIGVycm9yOiAnLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbGYudXNlcklkOiAnLCBzZWxmLnVzZXJJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0YWJsZU5hbWU6ICcsIHRhYmxlTmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpZHM6ICcsIEpTT04uc3RyaW5naWZ5KGlkcykpO1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ215QXBwcm92ZTogJywgSlNPTi5zdHJpbmdpZnkobXlBcHByb3ZlKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG4gICAgfVxuICB9KTtcbiAgaWRzLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlMYXN0RmluaXNoZWRBcHByb3ZlLCByZWYsIHJlZjE7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9KTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgIG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZDtcbiAgICAgIGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgIGlmIChteUFwcHJvdmUuYWdlbnQpIHtcbiAgICAgICAgaW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChteUxhc3RGaW5pc2hlZEFwcHJvdmUpIHtcbiAgICAgIGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlO1xuICAgIH1cbiAgICBpbnN0YW5jZS5pc19jYyA9ICgocmVmID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoc2VsZi51c2VySWQpIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICBpbnN0YW5jZS5jY19jb3VudCA9ICgocmVmMSA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDApIHx8IDA7XG4gICAgZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzO1xuICAgIHJldHVybiBzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG4gIH0pO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZXNfZHJhZnQnLCAoc3BhY2VJZCkgLT5cblx0Y2hlY2sgc3BhY2VJZCwgU3RyaW5nXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVzZXJJZCA9IHRoaXMudXNlcklkXG5cdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7c3RhdGU6XCJkcmFmdFwiLHNwYWNlOnNwYWNlSWQsc3VibWl0dGVyOnVzZXJJZCwkb3I6W3tpbmJveF91c2VyczogeyRleGlzdHM6ZmFsc2V9fSwge2luYm94X3VzZXJzOiBbXX1dfSwge2ZpZWxkczoge19pZDogMSwgc3RhdGU6IDEsIHNwYWNlOiAxLCBzdWJtaXR0ZXI6IDEsIGluYm94X3VzZXJzOiAxLCBtb2RpZmllZDogMSwgbmFtZTogMX0sIHNvcnQ6e21vZGlmaWVkOiAtMX19KSIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZXNfZHJhZnQnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIHZhciB1c2VySWQ7XG4gIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHVzZXJJZCA9IHRoaXMudXNlcklkO1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIHN0YXRlOiBcImRyYWZ0XCIsXG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgc3VibWl0dGVyOiB1c2VySWQsXG4gICAgJG9yOiBbXG4gICAgICB7XG4gICAgICAgIGluYm94X3VzZXJzOiB7XG4gICAgICAgICAgJGV4aXN0czogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBpbmJveF91c2VyczogW11cbiAgICAgIH1cbiAgICBdXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzdWJtaXR0ZXI6IDEsXG4gICAgICBpbmJveF91c2VyczogMSxcbiAgICAgIG1vZGlmaWVkOiAxLFxuICAgICAgbmFtZTogMVxuICAgIH0sXG4gICAgc29ydDoge1xuICAgICAgbW9kaWZpZWQ6IC0xXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Rpc3RyaWJ1dGVkX2luc3RhbmNlc19zdGF0ZV9ieV9pZHMnLCAoaW5zdGFuY2VfaWRzKS0+XG5cdGNoZWNrKGluc3RhbmNlX2lkcywgQXJyYXkpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXHRcblx0dW5sZXNzIGluc3RhbmNlX2lkc1xuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRpZiBfLmlzRW1wdHkoaW5zdGFuY2VfaWRzKVxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpc1xuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGluc3RhbmNlX2lkc319LCB7ZmllbGRzOiB7c3RhdGU6IDEsIHRyYWNlczp7JHNsaWNlOiAxfSB9IH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRhZGRlZDogKGlkLCBmaWVsZHMpLT5cblx0XHRcdHNlbGYuYWRkZWQoJ2luc3RhbmNlcycsIGlkLCB7c3RhdGU6IGZpZWxkcy5zdGF0ZSwgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkfSlcblxuXHRcdGNoYW5nZWQ6IChpZCwgZmllbGRzKS0+XG5cdFx0XHRpZiBmaWVsZHMuc3RhdGVcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge3N0YXRlOiBmaWVsZHMuc3RhdGV9KVxuXHRcdFx0aWYgZmllbGRzLnRyYWNlc1xuXHRcdFx0XHRzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7aXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkfSlcblx0fVxuXG5cdHRoaXMucmVhZHkoKVxuXHR0aGlzLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVkX2luc3RhbmNlc19zdGF0ZV9ieV9pZHMnLCBmdW5jdGlvbihpbnN0YW5jZV9pZHMpIHtcbiAgdmFyIGhhbmRsZSwgc2VsZjtcbiAgY2hlY2soaW5zdGFuY2VfaWRzLCBBcnJheSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoXy5pc0VtcHR5KGluc3RhbmNlX2lkcykpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGluc3RhbmNlX2lkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgc3RhdGU6IDEsXG4gICAgICB0cmFjZXM6IHtcbiAgICAgICAgJHNsaWNlOiAxXG4gICAgICB9XG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgYWRkZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIHJldHVybiBzZWxmLmFkZGVkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICBzdGF0ZTogZmllbGRzLnN0YXRlLFxuICAgICAgICBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWRcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgaWYgKGZpZWxkcy5zdGF0ZSkge1xuICAgICAgICBzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgICAgc3RhdGU6IGZpZWxkcy5zdGF0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChmaWVsZHMudHJhY2VzKSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgICAgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHRoaXMucmVhZHkoKTtcbiAgcmV0dXJuIHRoaXMub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ3JlbGF0ZWRfaW5zdGFjZXMnLCAoaW5zdGFuY2VJZCwgcmVsYXRlZF9pbnN0YW5jZXMpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJlbGF0ZWRfaW5zdGFuY2VfaWRzID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCx7ZmllbGRzOiB7cmVsYXRlZF9pbnN0YW5jZXM6IDF9fSk/LnJlbGF0ZWRfaW5zdGFuY2VzXG5cblx0aWYgcmVsYXRlZF9pbnN0YW5jZV9pZHMgJiYgXy5pc0FycmF5KHJlbGF0ZWRfaW5zdGFuY2VfaWRzKVxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluIDogcmVsYXRlZF9pbnN0YW5jZV9pZHN9fSwge2ZpZWxkczoge19pZDogMSwgbmFtZTogMSwgc3BhY2U6IDF9fSlcblx0ZWxzZVxuXHRcdHJldHVybiB0aGlzLnJlYWR5KCkiLCJNZXRlb3IucHVibGlzaCgncmVsYXRlZF9pbnN0YWNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWQsIHJlbGF0ZWRfaW5zdGFuY2VzKSB7XG4gIHZhciByZWYsIHJlbGF0ZWRfaW5zdGFuY2VfaWRzO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJlbGF0ZWRfaW5zdGFuY2VfaWRzID0gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQsIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHJlbGF0ZWRfaW5zdGFuY2VzOiAxXG4gICAgfVxuICB9KSkgIT0gbnVsbCA/IHJlZi5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMDtcbiAgaWYgKHJlbGF0ZWRfaW5zdGFuY2VfaWRzICYmIF8uaXNBcnJheShyZWxhdGVkX2luc3RhbmNlX2lkcykpIHtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogcmVsYXRlZF9pbnN0YW5jZV9pZHNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbn0pO1xuIiwiaWYgTWV0ZW9yLmlzU2VydmVyXG4gICAgTWV0ZW9yLnB1Ymxpc2ggJ3NwYWNlX3VzZXJfc2lnbnMnLCAoc3BhY2VJZCkgLT5cbiAgICAgICAgY2hlY2sgc3BhY2VJZCwgU3RyaW5nXG5cbiAgICAgICAgdW5sZXNzIHRoaXMudXNlcklkXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkeSgpXG5cbiAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0sIHtmaWVsZHM6IHtjcmVhdGVkX2J5OiAwLCBjcmVhdGVkOiAwLCBtb2RpZmllZF9ieTogMH19KVxuIiwiaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBNZXRlb3IucHVibGlzaCgnc3BhY2VfdXNlcl9zaWducycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gICAgfVxuICAgIHJldHVybiBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY3JlYXRlZF9ieTogMCxcbiAgICAgICAgY3JlYXRlZDogMCxcbiAgICAgICAgbW9kaWZpZWRfYnk6IDBcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG4iLCIjIyNcbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlIFwidXNlcl9pbmJveF9pbnN0YW5jZVwiLCAoKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblx0cXVlcnkgPSB7c3BhY2U6IHskaW46IHVzZXJTcGFjZUlkc319XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaW5kOiAtPlxuXHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdFx0XHRmbG93OiAxLFxuXHRcdFx0XHRpbmJveF91c2VyczogMSxcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRtb2RpZmllZDogMSxcblx0XHRcdFx0Zm9ybTogMVxuXHRcdFx0fSwgc29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiAyMDBcblx0XHR9KTtcblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAoaW5zdGFuY2UsIHBvc3QpLT5cblx0XHRcdFx0ZGIuZmxvd3MuZmluZCh7X2lkOiBpbnN0YW5jZS5mbG93fSwge2ZpZWxkczoge25hbWU6IDEsIHNwYWNlOiAxfX0pO1xuXHRcdH1cblx0XVxuIyMjXG5cbiMjI1xuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2luc3RhbmNlcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHQjXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcblx0I1x0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0I1x0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdCNcdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpZWxkcyA9IHtcblx0XHRzcGFjZTogMSxcbiNcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0ZmxvdzogMSxcblx0XHRpbmJveF91c2VyczogMSxcblx0XHRjY191c2VyczogMSxcblx0XHRzdGF0ZTogMSxcbiNcdFx0bmFtZTogMSxcbiNcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0Zm9ybTogMVxuXHR9XG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRhZGRlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSlcblx0XHRjaGFuZ2VkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcbiMjI1xuXG5fZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IChzcGFjZUlkLCB1c2VySWQsIF9pdGVtcywgY2FsbGJhY2spLT5cblx0ZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoW1xuXHRcdHtcblx0XHRcdCRtYXRjaDoge1xuXHRcdFx0XHRzcGFjZTogc3BhY2VJZCxcblx0XHRcdFx0JG9yOiBbe2luYm94X3VzZXJzOiB1c2VySWR9LCB7Y2NfdXNlcnM6IHVzZXJJZH1dXG5cdFx0XHR9XG5cdFx0fSxcblx0XHR7XG5cdFx0XHQkZ3JvdXA6IHtcblx0XHRcdFx0X2lkOiB7ZmxvdzogXCIkZmxvd1wiLCBjYXRlZ29yeTogXCIkY2F0ZWdvcnlcIn0sIGNvdW50OiB7JHN1bTogMX1cblx0XHRcdH1cblx0XHR9XG5cdF0pLnRvQXJyYXkgKGVyciwgZGF0YSktPlxuXHRcdGlmIGVyclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcblxuXHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxuXHRcdFx0X2l0ZW1zLnB1c2ggZG9jXG5cblx0XHRpZiBjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spXG5cdFx0XHRjYWxsYmFjaygpXG5cdFx0cmV0dXJuXG5cbl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSlcblxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2Zsb3dfaW5zdGFuY2VzX2NvdW50JywgKHNwYWNlSWQpLT5cblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRkYXRhID0gW10gICPmlbDmja7moLzlvI/vvJpbe19pZDpmbG93SWQsIGNvdW50OiDlvoXlip7mlbDph499LCB7X2lkOmZsb3dJZDIsIGNvdW50OiDlvoXlip7mlbDph48yfV1cblx0X2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUoc3BhY2VJZCwgc2VsZi51c2VySWQsIGRhdGEpXG5cblx0X2Zsb3dzRGF0YSA9IFtdXG5cblx0Xy5lYWNoIGRhdGEsIChkYXRhSXRlbSktPlxuXHRcdF9mbG93c0RhdGEucHVzaCh7X2lkOiBkYXRhSXRlbS5faWQuZmxvdywgY2F0ZWdvcnk6IGRhdGFJdGVtLl9pZC5jYXRlZ29yeSwgY291bnQ6IGRhdGFJdGVtLmNvdW50fSlcblxuXHRzZWxmLmFkZGVkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge2Zsb3dzOiBfZmxvd3NEYXRhfSk7XG5cblx0X2NoYW5nZURhdGEgPSAoZG9jLCBhY3Rpb24pLT5cblx0XHRmbG93X2luc3RhbmNlID0gXy5maW5kIF9mbG93c0RhdGEsIChmKS0+XG5cdFx0XHRyZXR1cm4gZi5faWQgPT0gZG9jLmZsb3dcblx0XHRpZiBmbG93X2luc3RhbmNlXG5cdFx0XHRpZiBhY3Rpb24gPT0gXCJhZGRlZFwiXG5cdFx0XHRcdGZsb3dfaW5zdGFuY2UuY291bnQrK1xuXHRcdFx0ZWxzZSBpZiBhY3Rpb24gPT0gXCJyZW1vdmVkXCJcblx0XHRcdFx0Zmxvd19pbnN0YW5jZS5jb3VudC0tXG5cdFx0ZWxzZSBpZiBhY3Rpb24gPT0gXCJhZGRlZFwiXG5cdFx0XHRfZmxvd3NEYXRhLnB1c2gge19pZDogZG9jLmZsb3csIGNhdGVnb3J5OiBkb2MuY2F0ZWdvcnksIGNvdW50OiAxfVxuXG5cdFx0c2VsZi5jaGFuZ2VkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge2Zsb3dzOiBfZmxvd3NEYXRhfSk7XG5cblx0X2luaXQgPSB0cnVlXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7X2lkOiAxLCBpbmJveF91c2VyczogMSwgY2NfdXNlcnM6IDEsIGZsb3c6IDEsIGNhdGVnb3J5OiAxfX0pLm9ic2VydmUge1xuXHRcdGFkZGVkOiAoZG9jKS0+XG5cdFx0XHRpZiAhX2luaXRcblx0XHRcdFx0X2NoYW5nZURhdGEoZG9jLCBcImFkZGVkXCIpXG5cdFx0cmVtb3ZlZDogKGRvYyktPlxuXHRcdFx0aWYgIV9pbml0XG5cdFx0XHRcdF9jaGFuZ2VEYXRhKGRvYywgXCJyZW1vdmVkXCIpXG5cdH1cblx0X2luaXQgPSBmYWxzZVxuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKCkiLCJcbi8qXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSBcInVzZXJfaW5ib3hfaW5zdGFuY2VcIiwgKCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cdHF1ZXJ5ID0ge3NwYWNlOiB7JGluOiB1c2VyU3BhY2VJZHN9fVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmluZDogLT5cblx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRcdFx0ZmxvdzogMSxcblx0XHRcdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHRzdGF0ZTogMSxcblx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0XHRcdGZvcm06IDFcblx0XHRcdH0sIHNvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogMjAwXG5cdFx0fSk7XG5cdGNoaWxkcmVuOiBbXG5cdFx0e1xuXHRcdFx0ZmluZDogKGluc3RhbmNlLCBwb3N0KS0+XG5cdFx0XHRcdGRiLmZsb3dzLmZpbmQoe19pZDogaW5zdGFuY2UuZmxvd30sIHtmaWVsZHM6IHtuYW1lOiAxLCBzcGFjZTogMX19KTtcblx0XHR9XG5cdF1cbiAqL1xuXG4vKlxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2luc3RhbmNlcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHQgKlx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdCAqXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHQgKlx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdCAqXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaWVsZHMgPSB7XG5cdFx0c3BhY2U6IDEsXG4gKlx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRmbG93OiAxLFxuXHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdGNjX3VzZXJzOiAxLFxuXHRcdHN0YXRlOiAxLFxuICpcdFx0bmFtZTogMSxcbiAqXHRcdG1vZGlmaWVkOiAxLFxuXHRcdGZvcm06IDFcblx0fVxuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7c29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0YWRkZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpXG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG4gKi9cbnZhciBfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSwgX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGU7XG5cbl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gZnVuY3Rpb24oc3BhY2VJZCwgdXNlcklkLCBfaXRlbXMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShbXG4gICAge1xuICAgICAgJG1hdGNoOiB7XG4gICAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRncm91cDoge1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICBmbG93OiBcIiRmbG93XCIsXG4gICAgICAgICAgY2F0ZWdvcnk6IFwiJGNhdGVnb3J5XCJcbiAgICAgICAgfSxcbiAgICAgICAgY291bnQ6IHtcbiAgICAgICAgICAkc3VtOiAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF0pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfaXRlbXMucHVzaChkb2MpO1xuICAgIH0pO1xuICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5fYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUpO1xuXG5NZXRlb3IucHVibGlzaCgnbXlfaW5ib3hfZmxvd19pbnN0YW5jZXNfY291bnQnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIHZhciBfY2hhbmdlRGF0YSwgX2Zsb3dzRGF0YSwgX2luaXQsIGRhdGEsIGhhbmRsZSwgcXVlcnksIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9O1xuICBxdWVyeS4kb3IgPSBbXG4gICAge1xuICAgICAgaW5ib3hfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgfSwge1xuICAgICAgY2NfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgfVxuICBdO1xuICBkYXRhID0gW107XG4gIF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKHNwYWNlSWQsIHNlbGYudXNlcklkLCBkYXRhKTtcbiAgX2Zsb3dzRGF0YSA9IFtdO1xuICBfLmVhY2goZGF0YSwgZnVuY3Rpb24oZGF0YUl0ZW0pIHtcbiAgICByZXR1cm4gX2Zsb3dzRGF0YS5wdXNoKHtcbiAgICAgIF9pZDogZGF0YUl0ZW0uX2lkLmZsb3csXG4gICAgICBjYXRlZ29yeTogZGF0YUl0ZW0uX2lkLmNhdGVnb3J5LFxuICAgICAgY291bnQ6IGRhdGFJdGVtLmNvdW50XG4gICAgfSk7XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge1xuICAgIGZsb3dzOiBfZmxvd3NEYXRhXG4gIH0pO1xuICBfY2hhbmdlRGF0YSA9IGZ1bmN0aW9uKGRvYywgYWN0aW9uKSB7XG4gICAgdmFyIGZsb3dfaW5zdGFuY2U7XG4gICAgZmxvd19pbnN0YW5jZSA9IF8uZmluZChfZmxvd3NEYXRhLCBmdW5jdGlvbihmKSB7XG4gICAgICByZXR1cm4gZi5faWQgPT09IGRvYy5mbG93O1xuICAgIH0pO1xuICAgIGlmIChmbG93X2luc3RhbmNlKSB7XG4gICAgICBpZiAoYWN0aW9uID09PSBcImFkZGVkXCIpIHtcbiAgICAgICAgZmxvd19pbnN0YW5jZS5jb3VudCsrO1xuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwicmVtb3ZlZFwiKSB7XG4gICAgICAgIGZsb3dfaW5zdGFuY2UuY291bnQtLTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJhZGRlZFwiKSB7XG4gICAgICBfZmxvd3NEYXRhLnB1c2goe1xuICAgICAgICBfaWQ6IGRvYy5mbG93LFxuICAgICAgICBjYXRlZ29yeTogZG9jLmNhdGVnb3J5LFxuICAgICAgICBjb3VudDogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7XG4gICAgICBmbG93czogX2Zsb3dzRGF0YVxuICAgIH0pO1xuICB9O1xuICBfaW5pdCA9IHRydWU7XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBpbmJveF91c2VyczogMSxcbiAgICAgIGNjX3VzZXJzOiAxLFxuICAgICAgZmxvdzogMSxcbiAgICAgIGNhdGVnb3J5OiAxXG4gICAgfVxuICB9KS5vYnNlcnZlKHtcbiAgICBhZGRlZDogZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAoIV9pbml0KSB7XG4gICAgICAgIHJldHVybiBfY2hhbmdlRGF0YShkb2MsIFwiYWRkZWRcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihkb2MpIHtcbiAgICAgIGlmICghX2luaXQpIHtcbiAgICAgICAgcmV0dXJuIF9jaGFuZ2VEYXRhKGRvYywgXCJyZW1vdmVkXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIF9pbml0ID0gZmFsc2U7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiXG5NZXRlb3IucHVibGlzaCAnZmxvd19tYWluX2F0dGFjaF90ZW1wbGF0ZScsIChzcGFjZUlkLCBmbG93SWQpLT5cblx0Y2hlY2soc3BhY2VJZCwgU3RyaW5nKVxuXHRjaGVjayhmbG93SWQsIFN0cmluZylcblxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWQgJiYgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBDcmVhdG9yLmdldENvbGxlY3Rpb24oJ2Ntc19maWxlcycpLmZpbmQoeyBzcGFjZTogc3BhY2VJZCwgJ3BhcmVudC5vJzogJ2Zsb3dzJywgJ3BhcmVudC5pZHMnOiBmbG93SWQsICBuYW1lOiAn5q2j5paHLmRvY3gnIH0pXG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19tYWluX2F0dGFjaF90ZW1wbGF0ZScsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBjaGVjayhmbG93SWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghKHNwYWNlSWQgJiYgZmxvd0lkKSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIENyZWF0b3IuZ2V0Q29sbGVjdGlvbignY21zX2ZpbGVzJykuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgJ3BhcmVudC5vJzogJ2Zsb3dzJyxcbiAgICAncGFyZW50Lmlkcyc6IGZsb3dJZCxcbiAgICBuYW1lOiAn5q2j5paHLmRvY3gnXG4gIH0pO1xufSk7XG4iLCJ3b3JrZmxvd1RlbXBsYXRlID0ge31cblxuI+WPr+eUqOatpOiEmuacrOS7juaooeadv+W3peS9nOWMuuWBmuaJuemHj+WvvOWHuu+8mlxuI+S9v+eUqOeuoeeQhuWRmOi0puaIt+eZu+W9leWQju+8jOi/m+WFpUZsb3dNb2R1bGVz77yM5Zyo5o6n5Yi25Y+w5omn6KGM5Lul5LiL6ISa5pys5Y2z5Y+vXG4jZGIuZm9ybXMuZmluZCh7c3RhdGU6XCJlbmFibGVkXCJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pe3dpbmRvdy5vcGVuKE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS93b3JrZmxvdy9leHBvcnQvZm9ybT9mb3JtPVwiK2Zvcm0uX2lkKSl9KVxud29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdID1bXVxuXG4j5Y+v55So5q2k6ISa5pys5LuO5qih5p2/5bel5L2c5Yy65YGa5om56YeP5a+85Ye677yaXG4j5L2/55So566h55CG5ZGY6LSm5oi355m75b2V5ZCO77yM6L+b5YWl5qih5p2/5LiT5Yy677yM5Zyo5o6n5Yi25Y+w5omn6KGM5Lul5LiL6ISa5pys5Y2z5Y+vXG4jZGIuZm9ybXMuZmluZCh7c3RhdGU6XCJlbmFibGVkXCJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pe3dpbmRvdy5vcGVuKE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS93b3JrZmxvdy9leHBvcnQvZm9ybT9mb3JtPVwiK2Zvcm0uX2lkKSl9KVxud29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdID1bXVxuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdGZzID0gcmVxdWlyZSgnZnMnKVxuXHRwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5cdG1pbWUgPSByZXF1aXJlKCdtaW1lJylcblx0cmVhZEZpbGVMaXN0ID0gKHBhdGhEaXIsIGZpbGVzTGlzdCktPlxuXHRcdGZpbGVzID0gZnMucmVhZGRpclN5bmMocGF0aERpcilcblx0XHRmaWxlcy5mb3JFYWNoIChuYW1lLCBpbmRleCktPlxuXHRcdFx0c3RhdCA9IGZzLnN0YXRTeW5jKHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSlcblx0XHRcdGlmIHN0YXQuaXNEaXJlY3RvcnkoKVxuXHRcdFx0XHQjIOmAkuW9kuivu+WPluaWh+S7tlxuXHRcdFx0XHRyZWFkRmlsZUxpc3QocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpLCBmaWxlc0xpc3QpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG9iaiA9IHt9XG5cdFx0XHRcdG9iai5wYXRoID0gcGF0aERpclxuXHRcdFx0XHRvYmoubmFtZSA9IG5hbWVcblx0XHRcdFx0ZmlsZXNMaXN0LnB1c2gob2JqKVxuXG5cdCPojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlxuXHRmaWxlc0xpc3RfY24gPSBbXVxuXHRwYXRoX2NuID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzPy5wYXRoX2NuXG5cdGlmIHBhdGhfY25cblx0XHRhYnNvbHV0ZV9wYXRoX2NuID0gcGF0aC5yZXNvbHZlKHBhdGhfY24pXG5cdFx0Y29uc29sZS5sb2cgXCJhYnNvbHV0ZV9wYXRoX2NuXCIsIGFic29sdXRlX3BhdGhfY25cblx0XHRpZiBmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfY24pXG5cdFx0XHRyZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF9jbiwgZmlsZXNMaXN0X2NuKVxuXHRcdFx0ZmlsZXNMaXN0X2NuLmZvckVhY2ggKGZpbGUpLT5cblx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0aWYgbWltZS5nZXRUeXBlKGZpbGUubmFtZSkgaXMgXCJhcHBsaWNhdGlvbi9qc29uXCJcblx0XHRcdFx0XHRcdGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKVxuXHRcdFx0XHRcdFx0d29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSlcblx0XHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCLojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cblx0I+iOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XG5cdGZpbGVzTGlzdF91cyA9IFtdXG5cdHBhdGhfdXMgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXM/LnBhdGhfdXNcblx0aWYgcGF0aF91c1xuXHRcdGFic29sdXRlX3BhdGhfdXMgPSBwYXRoLnJlc29sdmUocGF0aF91cylcblx0XHRjb25zb2xlLmxvZyBcImFic29sdXRlX3BhdGhfdXNcIiwgYWJzb2x1dGVfcGF0aF91c1xuXHRcdGlmIGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF91cylcblx0XHRcdHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfdXMpXG5cdFx0XHRmaWxlc0xpc3RfdXMuZm9yRWFjaCAoZmlsZSktPlxuXHRcdFx0XHR0cnlcblx0XHRcdFx0XHRpZiBtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSBpcyBcImFwcGxpY2F0aW9uL2pzb25cIlxuXHRcdFx0XHRcdFx0ZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpXG5cdFx0XHRcdFx0XHR3b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKVxuXHRcdFx0XHRjYXRjaCBlXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBcIuiOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSlcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdFx0XG5cdFx0XHRcdFx0XG5cblxuIiwiICAgICAgICAgICAgICAgICAgICAgXG5cbndvcmtmbG93VGVtcGxhdGUgPSB7fTtcblxud29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdID0gW107XG5cbndvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXSA9IFtdO1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGFic29sdXRlX3BhdGhfY24sIGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF9jbiwgZmlsZXNMaXN0X3VzLCBmcywgbWltZSwgcGF0aCwgcGF0aF9jbiwgcGF0aF91cywgcmVhZEZpbGVMaXN0LCByZWYsIHJlZjE7XG4gIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbiAgbWltZSA9IHJlcXVpcmUoJ21pbWUnKTtcbiAgcmVhZEZpbGVMaXN0ID0gZnVuY3Rpb24ocGF0aERpciwgZmlsZXNMaXN0KSB7XG4gICAgdmFyIGZpbGVzO1xuICAgIGZpbGVzID0gZnMucmVhZGRpclN5bmMocGF0aERpcik7XG4gICAgcmV0dXJuIGZpbGVzLmZvckVhY2goZnVuY3Rpb24obmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBvYmosIHN0YXQ7XG4gICAgICBzdGF0ID0gZnMuc3RhdFN5bmMocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpKTtcbiAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRGaWxlTGlzdChwYXRoLmpvaW4ocGF0aERpciwgbmFtZSksIGZpbGVzTGlzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgb2JqLnBhdGggPSBwYXRoRGlyO1xuICAgICAgICBvYmoubmFtZSA9IG5hbWU7XG4gICAgICAgIHJldHVybiBmaWxlc0xpc3QucHVzaChvYmopO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBmaWxlc0xpc3RfY24gPSBbXTtcbiAgcGF0aF9jbiA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXMpICE9IG51bGwgPyByZWYucGF0aF9jbiA6IHZvaWQgMDtcbiAgaWYgKHBhdGhfY24pIHtcbiAgICBhYnNvbHV0ZV9wYXRoX2NuID0gcGF0aC5yZXNvbHZlKHBhdGhfY24pO1xuICAgIGNvbnNvbGUubG9nKFwiYWJzb2x1dGVfcGF0aF9jblwiLCBhYnNvbHV0ZV9wYXRoX2NuKTtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX2NuKSkge1xuICAgICAgcmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfY24sIGZpbGVzTGlzdF9jbik7XG4gICAgICBmaWxlc0xpc3RfY24uZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHZhciBkYXRhLCBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpKTtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZpbGVzTGlzdF91cyA9IFtdO1xuICBwYXRoX3VzID0gKHJlZjEgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXMpICE9IG51bGwgPyByZWYxLnBhdGhfdXMgOiB2b2lkIDA7XG4gIGlmIChwYXRoX3VzKSB7XG4gICAgYWJzb2x1dGVfcGF0aF91cyA9IHBhdGgucmVzb2x2ZShwYXRoX3VzKTtcbiAgICBjb25zb2xlLmxvZyhcImFic29sdXRlX3BhdGhfdXNcIiwgYWJzb2x1dGVfcGF0aF91cyk7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF91cykpIHtcbiAgICAgIHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfdXMpO1xuICAgICAgcmV0dXJuIGZpbGVzTGlzdF91cy5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgdmFyIGRhdGEsIGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgICAgICAgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtmbG93VGVtcGxhdGVbXCJlblwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuiOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSkpO1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiIyMjXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuIyMjXG5NZXRlb3Iuc3RhcnR1cCAtPlxuXHRpZiBNZXRlb3Iuc2V0dGluZ3MuY3Jvbj8uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uXG5cdFx0c2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJylcblx0XHQjIOWumuaXtuaJp+ihjOWQjOatpVxuXHRcdHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb25cblx0XHRnb19uZXh0ID0gdHJ1ZVxuXHRcdHNjaGVkdWxlLnNjaGVkdWxlSm9iIHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQgKCktPlxuXHRcdFx0dHJ5XG5cdFx0XHRcdGlmICFnb19uZXh0XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdGdvX25leHQgPSBmYWxzZVxuXHRcdFx0XHRjb25zb2xlLnRpbWUgJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbidcblxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxuXG5cdFx0XHRcdCMg5bCG5aeU5omY6KeE5YiZ6K6+572u5Li65LiN5Y+v55SoXG5cdFx0XHRcdGRiLnByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcy51cGRhdGUoeyBlbmFibGVkOiB0cnVlLCBlbmRfdGltZTogeyAkbHRlOiBub3cgfSB9LCB7ICRzZXQ6IHsgZW5hYmxlZDogZmFsc2UgfSB9LCB7IG11bHRpIDp0cnVlIH0pXG5cblx0XHRcdFx0Y29uc29sZS50aW1lRW5kICdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXG5cblx0XHRcdGNhdGNoIGVcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIkFVVE8gQVVUT19GSU5JU0hfUFJPQ0VTU19ERUxFR0FUSU9OIEVSUk9SOiBcIlxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcblxuXHRcdCwgKGUpLT5cblx0XHRcdGNvbnNvbGUubG9nICdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudDogYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSdcblx0XHRcdGNvbnNvbGUubG9nIGUuc3RhY2tcbiIsIlxuLypcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4gKi9cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgZ29fbmV4dCwgcmVmLCBydWxlLCBzY2hlZHVsZTtcbiAgaWYgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MuY3JvbikgIT0gbnVsbCA/IHJlZi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24gOiB2b2lkIDApIHtcbiAgICBzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKTtcbiAgICBydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uO1xuICAgIGdvX25leHQgPSB0cnVlO1xuICAgIHJldHVybiBzY2hlZHVsZS5zY2hlZHVsZUpvYihydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUsIG5vdztcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZ29fbmV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnb19uZXh0ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUudGltZSgnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJyk7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBkYi5wcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMudXBkYXRlKHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGVuZF90aW1lOiB7XG4gICAgICAgICAgICAkbHRlOiBub3dcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIG11bHRpOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbicpO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBVVRPIEFVVE9fRklOSVNIX1BST0NFU1NfREVMRUdBVElPTiBFUlJPUjogXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50OiBhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24uY29mZmVlJyk7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coZS5zdGFjayk7XG4gICAgfSkpO1xuICB9XG59KTtcbiIsIiMjI1xuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiMjI1xuTWV0ZW9yLnN0YXJ0dXAgLT5cblx0aWYgTWV0ZW9yLnNldHRpbmdzLmNyb24/LnRpbWVvdXRfYXV0b19zdWJtaXRcblx0XHRzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKVxuXHRcdCMg5a6a5pe25omn6KGM5ZCM5q2lXG5cdFx0cnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLnRpbWVvdXRfYXV0b19zdWJtaXRcblx0XHRnb19uZXh0ID0gdHJ1ZVxuXHRcdHNjaGVkdWxlLnNjaGVkdWxlSm9iIHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQgKCktPlxuXHRcdFx0dHJ5XG5cdFx0XHRcdGlmICFnb19uZXh0XG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdGdvX25leHQgPSBmYWxzZVxuXHRcdFx0XHRjb25zb2xlLnRpbWUgJ3RpbWVvdXRfYXV0b19zdWJtaXQnXG5cblx0XHRcdFx0dXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdCgpXG5cblx0XHRcdFx0Y29uc29sZS50aW1lRW5kICd0aW1lb3V0X2F1dG9fc3VibWl0J1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCJBVVRPIFRJTUVPVVRfQVVUT19TVUJNSVQgRVJST1I6IFwiXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0LCAoZSktPlxuXHRcdFx0Y29uc29sZS5sb2cgJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50OiB0aW1lb3V0X2F1dG9fc3VibWl0LmNvZmZlZSdcblx0XHRcdGNvbnNvbGUubG9nIGUuc3RhY2tcblxuTWV0ZW9yLm1ldGhvZHNcblx0dGltZW91dF9hdXRvX3N1Ym1pdDogKGluc19pZCktPlxuXHRcdHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoaW5zX2lkKVxuXHRcdHJldHVybiB0cnVlXG5cblxuIiwiXG4vKlxuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiAqL1xuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBnb19uZXh0LCByZWYsIHJ1bGUsIHNjaGVkdWxlO1xuICBpZiAoKHJlZiA9IE1ldGVvci5zZXR0aW5ncy5jcm9uKSAhPSBudWxsID8gcmVmLnRpbWVvdXRfYXV0b19zdWJtaXQgOiB2b2lkIDApIHtcbiAgICBzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKTtcbiAgICBydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24udGltZW91dF9hdXRvX3N1Ym1pdDtcbiAgICBnb19uZXh0ID0gdHJ1ZTtcbiAgICByZXR1cm4gc2NoZWR1bGUuc2NoZWR1bGVKb2IocnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFnb19uZXh0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdvX25leHQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS50aW1lKCd0aW1lb3V0X2F1dG9fc3VibWl0Jyk7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoKTtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKCd0aW1lb3V0X2F1dG9fc3VibWl0Jyk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFVVE8gVElNRU9VVF9BVVRPX1NVQk1JVCBFUlJPUjogXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oZSkge1xuICAgICAgY29uc29sZS5sb2coJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50OiB0aW1lb3V0X2F1dG9fc3VibWl0LmNvZmZlZScpO1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUuc3RhY2spO1xuICAgIH0pKTtcbiAgfVxufSk7XG5cbk1ldGVvci5tZXRob2RzKHtcbiAgdGltZW91dF9hdXRvX3N1Ym1pdDogZnVuY3Rpb24oaW5zX2lkKSB7XG4gICAgdXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdChpbnNfaWQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5zdGFydHVwICgpLT5cblx0VGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyID0gbmV3IFRhYnVsYXIuVGFibGVcblx0XHRuYW1lOiBcInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXJcIlxuXHRcdGNvbGxlY3Rpb246IGRiLmluc3RhbmNlc1xuXHRcdGNvbHVtbnM6IFtcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJfaWRcIixcblx0XHRcdFx0dGl0bGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJldmVyc2VcIiBpZD1cInJldmVyc2VcIj4nLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3aWR0aDogJzFweCcsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlucHV0ID0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInJlbGF0ZWQtaW5zdGFuY2VzLWxpc3QtY2hlY2tib3hcIiBuYW1lPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgaWQ9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiB2YWx1ZT1cIicgKyBkb2MuX2lkICsgJ1wiJ1xuXG5cdFx0XHRcdFx0aWYgVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLnJlbGF0ZWRfaW5zdGFuY2VzPy5pbmNsdWRlcyhkb2MuX2lkKVxuXHRcdFx0XHRcdFx0aW5wdXQgKz0gXCIgY2hlY2tlZCBcIlxuXG5cdFx0XHRcdFx0aW5wdXQgKz0gXCI+XCJcblx0XHRcdFx0XHRyZXR1cm4gaW5wdXRcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibmFtZVwiLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlLFxuXHRcdFx0XHR3aWR0aDogJzQ1JScsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGhyZWYgPSAnJztcblx0XHRcdFx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKVxuXHRcdFx0XHRcdFx0aHJlZiA9ICcnXG5cblx0XHRcdFx0XHRhYnNvbHV0ZSA9IGZhbHNlXG5cblx0XHRcdFx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdFx0XHRcdGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZVxuXHRcdFx0XHRcdGlmIGFic29sdXRlXG5cdFx0XHRcdFx0XHRocmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIrZG9jLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRocmVmID0gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2RvYy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cdFx0XHRcdFx0cmV0dXJuIFwiPGEgZGF0YS1pZD0nI3tkb2MuX2lkfScgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiK2hyZWYrXCInPlwiICsgZG9jLm5hbWUgKyBcIjwvYT5cIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJmbG93X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxuXHRcdFx0XHRcdFx0anVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiXG5cblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJ1xuXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlcC1jdXJyZW50LXN0YXRlICN7anVkZ2V9XCI+I3tzdGVwX2N1cnJlbnRfbmFtZX08L2Rpdj5cblx0XHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0fVxuXHRcdF1cblxuXHRcdGRvbTogXCJ0cFwiLFxuXHRcdGxlbmd0aENoYW5nZTogZmFsc2UsXG5cdFx0ZXh0cmFGaWVsZHM6IFtcInN0YXRlXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJzcGFjZVwiLCBcImtleXdvcmRzXCJdLFxuXHRcdHBhZ2VMZW5ndGg6IDEwLFxuXHRcdGluZm86IGZhbHNlLFxuXHRcdHNlYXJjaGluZzogdHJ1ZSxcblx0XHRyZXNwb25zaXZlOlxuXHRcdFx0ZGV0YWlsczogZmFsc2Vcblx0XHRhdXRvV2lkdGg6IGZhbHNlLFxuXHRcdGNoYW5nZVNlbGVjdG9yOiAoc2VsZWN0b3IsIHVzZXJJZCkgLT5cblx0XHRcdHVubGVzcyB1c2VySWRcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXG5cdFx0XHRzcGFjZUlkID0gc2VsZWN0b3Iuc3BhY2Vcblx0XHRcdHVubGVzcyBzcGFjZUlkXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0c3BhY2VJZCA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF1cblx0XHRcdHVubGVzcyBzcGFjZUlkXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZClcblx0XHRcdGlmICFzcGFjZVxuXHRcdFx0XHRzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiXG5cdFx0XHRpZiAhc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZClcblxuXHRcdFx0XHRmbG93X2lkcyA9IFtdXG5cdFx0XHRcdGN1clNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZUlkLFxuXHRcdFx0XHRcdCd1c2VyJzogdXNlcklkXG5cdFx0XHRcdH0pXG5cdFx0XHRcdGlmIGN1clNwYWNlVXNlclxuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuXHRcdFx0XHRcdFx0X2lkOiB7XG5cdFx0XHRcdFx0XHRcdCRpbjogY3VyU3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KS5mZXRjaCgpXG5cdFx0XHRcdFx0Zmxvd3MgPSBkYi5mbG93cy5maW5kKHsgc3BhY2U6IHNwYWNlSWQgfSlcblx0XHRcdFx0XHRmbG93cy5mb3JFYWNoIChmbCktPlxuXHRcdFx0XHRcdFx0aWYgV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykgfHwgV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpXG5cdFx0XHRcdFx0XHRcdGZsb3dfaWRzLnB1c2goZmwuX2lkKVxuXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0c2VsZWN0b3IuJGFuZFswXS4kb3IgPSBbe3N1Ym1pdHRlcjogdXNlcklkfSwge2FwcGxpY2FudDogdXNlcklkfSwge2luYm94X3VzZXJzOiB1c2VySWR9LCB7b3V0Ym94X3VzZXJzOiB1c2VySWR9LFxuXHRcdFx0XHRcdFx0XHR7Y2NfdXNlcnM6IHVzZXJJZH0sIHsgZmxvdzogeyAkaW46IGZsb3dfaWRzIH0gfV1cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdF8uZXh0ZW5kIHNlbGVjdG9yLCB7XG5cdFx0XHRcdFx0XHQkb3I6IFt7c3VibWl0dGVyOiB1c2VySWR9LCB7YXBwbGljYW50OiB1c2VySWR9LCB7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtvdXRib3hfdXNlcnM6IHVzZXJJZH0sXG5cdFx0XHRcdFx0XHRcdHtjY191c2VyczogdXNlcklkfSwgeyBmbG93OiB7ICRpbjogZmxvd19pZHMgfSB9XVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNlbGVjdG9yIiwiTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIgPSBuZXcgVGFidWxhci5UYWJsZSh7XG4gICAgbmFtZTogXCJyZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyXCIsXG4gICAgY29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxuICAgIGNvbHVtbnM6IFtcbiAgICAgIHtcbiAgICAgICAgZGF0YTogXCJfaWRcIixcbiAgICAgICAgdGl0bGU6ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cInJldmVyc2VcIiBpZD1cInJldmVyc2VcIj4nLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICB3aWR0aDogJzFweCcsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgaW5wdXQsIHJlZjtcbiAgICAgICAgICBpbnB1dCA9ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJyZWxhdGVkLWluc3RhbmNlcy1saXN0LWNoZWNrYm94XCIgbmFtZT1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIGlkPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgdmFsdWU9XCInICsgZG9jLl9pZCArICdcIic7XG4gICAgICAgICAgaWYgKChyZWYgPSBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIucmVsYXRlZF9pbnN0YW5jZXMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoZG9jLl9pZCkgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIGlucHV0ICs9IFwiIGNoZWNrZWQgXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlucHV0ICs9IFwiPlwiO1xuICAgICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm5hbWVcIixcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6ICc0NSUnLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFic29sdXRlLCBocmVmO1xuICAgICAgICAgIGhyZWYgPSAnJztcbiAgICAgICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSkpIHtcbiAgICAgICAgICAgIGhyZWYgPSAnJztcbiAgICAgICAgICB9XG4gICAgICAgICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICAgICAgICBhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgaHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZG9jLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaHJlZiA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGRvYy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiAoXCI8YSBkYXRhLWlkPSdcIiArIGRvYy5faWQgKyBcIicgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiKSArIGhyZWYgKyBcIic+XCIgKyBkb2MubmFtZSArIFwiPC9hPlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmbG93X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIganVkZ2UsIHN0ZXBfY3VycmVudF9uYW1lO1xuICAgICAgICAgIGlmIChkb2Muc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgICAgIGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJyc7XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwic3RlcC1jdXJyZW50LXN0YXRlIFwiICsganVkZ2UgKyBcIlxcXCI+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZSArIFwiPC9kaXY+XCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLFxuICAgIGRvbTogXCJ0cFwiLFxuICAgIGxlbmd0aENoYW5nZTogZmFsc2UsXG4gICAgZXh0cmFGaWVsZHM6IFtcInN0YXRlXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJzcGFjZVwiLCBcImtleXdvcmRzXCJdLFxuICAgIHBhZ2VMZW5ndGg6IDEwLFxuICAgIGluZm86IGZhbHNlLFxuICAgIHNlYXJjaGluZzogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICBkZXRhaWxzOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBjaGFuZ2VTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IsIHVzZXJJZCkge1xuICAgICAgdmFyIGN1clNwYWNlVXNlciwgZmxvd19pZHMsIGZsb3dzLCBvcmdhbml6YXRpb25zLCByZWYsIHJlZjEsIHNwYWNlLCBzcGFjZUlkO1xuICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZUlkID0gc2VsZWN0b3Iuc3BhY2U7XG4gICAgICBpZiAoIXNwYWNlSWQpIHtcbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZiA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzcGFjZUlkID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZUlkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkKTtcbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgc2VsZWN0b3Iuc3RhdGUgPSBcIm5vbmVcIjtcbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZCkpIHtcbiAgICAgICAgZmxvd19pZHMgPSBbXTtcbiAgICAgICAgY3VyU3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgICAgICAgJ3VzZXInOiB1c2VySWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdXJTcGFjZVVzZXIpIHtcbiAgICAgICAgICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgICAgIF9pZDoge1xuICAgICAgICAgICAgICAkaW46IGN1clNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgICBmbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHNwYWNlSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmbG93cy5mb3JFYWNoKGZ1bmN0aW9uKGZsKSB7XG4gICAgICAgICAgICBpZiAoV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykgfHwgV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmbG93X2lkcy5wdXNoKGZsLl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZjEgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNlbGVjdG9yLiRhbmRbMF0uJG9yID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdWJtaXR0ZXI6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBhcHBsaWNhbnQ6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIG91dGJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZmxvdzoge1xuICAgICAgICAgICAgICAgICRpbjogZmxvd19pZHNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXy5leHRlbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3VibWl0dGVyOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGFwcGxpY2FudDogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBvdXRib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZmxvdzoge1xuICAgICAgICAgICAgICAgICAgJGluOiBmbG93X2lkc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfVxuICB9KTtcbn0pO1xuIiwiU3RlZWRvcy5zdWJzW1wiSW5zdGFuY2VUYWJ1bGFyXCJdID0gbmV3IFN1YnNNYW5hZ2VyKClcblxuXG5faGFuZGxlTGlzdEZpZWxkcyA9IChmaWVsZHMpIC0+XG5cdGluc19maWVsZHMgPSBuZXcgQXJyYXkoKTtcblxuXHRmaWVsZHM/LmZvckVhY2ggKGYpLT5cblx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xuXHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxuXHRcdFx0XHRpbnNfZmllbGRzLnB1c2ggZjFcblx0XHRlbHNlXG5cdFx0XHRpbnNfZmllbGRzLnB1c2ggZlxuXG5cdHJldHVybiBpbnNfZmllbGRzXG5cblxudXBkYXRlVGFidWxhclRpdGxlID0gKCktPlxuXG4jIOWmguaenGNvbHVtbnPmnInliqDlh4/vvIzor7fkv67mlLlUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMg5Ye95pWwXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gKGZsb3dJZCwgZmllbGRzKS0+XG5cdG9wdGlvbnMgPSB7XG5cdFx0bmFtZTogXCJpbnN0YW5jZXNcIixcblx0XHRjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG5cdFx0cHViOiBcImluc3RhbmNlX3RhYnVsYXJcIixcblx0XHRvblVubG9hZDogKCktPlxuXHRcdFx0TWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApXG5cblx0XHRkcmF3Q2FsbGJhY2s6IChzZXR0aW5ncyktPlxuXHRcdFx0ZW1wdHlUZCA9ICQoXCIuZGF0YVRhYmxlc19lbXB0eVwiKVxuXHRcdFx0aWYgZW1wdHlUZC5sZW5ndGhcblx0XHRcdFx0ZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCJcblx0XHRcdGlmICFTdGVlZG9zLmlzTW9iaWxlKCkgJiYgIVN0ZWVkb3MuaXNQYWQoKVxuXHRcdFx0XHRNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MClcblx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeSAtPlxuXHRcdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5wZXJmZWN0U2Nyb2xsYmFyKFwidXBkYXRlXCIpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMClcblxuXHRcdFx0dGl0bGUgPSB0IFwicGFnZXJfaW5wdXRfaGludFwiXG5cdFx0XHRlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJylcblx0XHRcdGVsbGlwc2lzTGluay5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmNzcyhcImN1cnNvclwiLCBcInBvaW50ZXJcIikuY2xpY2sgLT5cblx0XHRcdFx0aWYgISQodGhpcykuZmluZCgnaW5wdXQnKS5sZW5ndGhcblx0XHRcdFx0XHRpbnB1dCA9ICQoJzxpbnB1dCBjbGFzcz1cInBhZ2luYXRlX2lucHV0IGZvcm0tY29udHJvbCBpbnB1dC1zbVwiIHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBhZGRpbmc6MCAycHg7XCIvPicpXG5cdFx0XHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRcdFx0XHRpbnB1dC5jc3Moe1xuXHRcdFx0XHRcdFx0XHR3aWR0aDpcIjUycHhcIlxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMjBweFwiXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlucHV0LmNzcyh7XG5cdFx0XHRcdFx0XHRcdHdpZHRoOlwiNTJweFwiXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogXCIxNnB4XCJcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0aW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpXG5cdFx0XHRcdFx0JCh0aGlzKS5lbXB0eSgpLmFwcGVuZCBpbnB1dFxuXHRcdFx0XHRcdGdvUGFnZSA9IChpbmRleCktPlxuXHRcdFx0XHRcdFx0aWYgaW5kZXggPiAwXG5cdFx0XHRcdFx0XHRcdHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aClcblx0XHRcdFx0XHRcdFx0aWYgaW5kZXggPiBwYWdlc1xuXHRcdFx0XHRcdFx0XHRcdCMg6aG156CB6LaF5Ye657Si5byV5pe26Lez6L2s5Yiw5pyA5ZCO5LiA6aG1XG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBwYWdlc1xuXHRcdFx0XHRcdFx0XHRpbmRleC0tXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm9JbnN0YW5jZS5EYXRhVGFibGUoKS5wYWdlKGluZGV4KS5kcmF3KCdwYWdlJylcblx0XHRcdFx0XHRpbnB1dC5ibHVyIChlKS0+XG5cdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcblx0XHRcdFx0XHRcdGdvUGFnZSBjdXJyZW50UGFnZVxuXHRcdFx0XHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5odG1sICcuLi4nXG5cdFx0XHRcdFx0aW5wdXQua2V5ZG93biAoZSktPlxuXHRcdFx0XHRcdFx0aWYoZS5rZXlDb2RlLnRvU3RyaW5nKCkgPT0gXCIxM1wiKVxuXHRcdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcblx0XHRcdFx0XHRcdFx0Z29QYWdlIGN1cnJlbnRQYWdlXG5cblx0XHRjcmVhdGVkUm93OiAocm93LCBkYXRhLCBkYXRhSW5kZXgpIC0+XG5cdFx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdFx0aWYgZGF0YS5faWQgPT0gRmxvd1JvdXRlci5jdXJyZW50KCkucGFyYW1zLmluc3RhbmNlSWRcblx0XHRcdFx0XHRyb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3RlZFwiKVxuXHRcdGNvbHVtbnM6IFtcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJfaWRcIixcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRtb2RpZmllZFN0cmluZyA9IG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuXG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2MubW9kaWZpZWRcblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5zdGF0ZSAhPSAnZHJhZnQnXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdGFydF9kYXRlIHx8IGRvYy5tb2RpZmllZFxuXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ291dGJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InXG5cdFx0XHRcdFx0XHRtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2Muc3VibWl0X2RhdGVcblxuXHRcdFx0XHRcdG1vZGlmaWVkRnJvbU5vdyA9IFN0ZWVkb3MubW9tZW50UmVhY3RpdmVGcm9tTm93KG1vZGlmaWVkKTtcblx0XHRcdFx0XHRmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lXG5cdFx0XHRcdFx0Y2NfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0IyDlvZPliY3nlKjmiLflnKhjYyB1c2Vy5Lit77yM5L2G5piv5LiN5ZyoaW5ib3ggdXNlcnPml7bmiY3mmL7npLon5Lyg6ZiFJ+aWh+Wtl1xuXHRcdFx0XHRcdGlmIGRvYy5pc19jYyAmJiAhZG9jLmluYm94X3VzZXJzPy5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0XHRcdGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiXG5cdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTxzcGFuPigje2RvYy5jdXJyZW50X3N0ZXBfbmFtZX0pPC9zcGFuPjwvZGl2PlwiXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gJ2RyYWZ0JyAmJiBkb2MuY3VycmVudF9zdGVwX25hbWVcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08c3Bhbj4oI3tkb2MuY3VycmVudF9zdGVwX25hbWV9KTwvc3Bhbj48L2Rpdj5cIlxuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTwvZGl2PlwiXG5cblx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRpZiBkb2MuYWdlbnRfdXNlcl9uYW1lICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxuXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcblxuXHRcdFx0XHRcdGlzRmF2b3JpdGVTZWxlY3RlZCA9IEZhdm9yaXRlcy5pc1JlY29yZFNlbGVjdGVkKFwiaW5zdGFuY2VzXCIsIGRvYy5faWQpXG5cdFx0XHRcdFx0aWYgRmF2b3JpdGVzLmlzUmVjb3JkU2VsZWN0ZWQoXCJpbnN0YW5jZXNcIiwgZG9jLl9pZClcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24taW9zLXN0YXItb3V0bGluZSBpbnN0YW5jZS1mYXZvcml0ZS1zZWxlY3RlZFwiPjwvaT4nXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09IGZhbHNlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+J1xuXHRcdFx0XHRcdGVsc2UgaWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT0gdHJ1ZVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nXG5cblx0XHRcdFx0XHRwcmlvcml0eUljb24gPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlWYWx1ZSA9IGRvYy52YWx1ZXM/LnByaW9yaXR5XG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXG5cdFx0XHRcdFx0XHR3aGVuIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xuXHRcdFx0XHRcdFx0aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktI3twcmlvcml0eUljb25DbGFzc31cIlxuXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLm5hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld31cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPiN7ZG9jLmFwcGxpY2FudF9uYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1kZXRhaWwnPiN7c3RlcF9jdXJyZW50X25hbWVfdmlld31cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPSdpbnN0YW5jZS1tb2RpZmllZCcgdGl0bGU9JyN7bW9kaWZpZWRTdHJpbmd9Jz4je21vZGlmaWVkRnJvbU5vd308L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIpLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRjY192aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHQjIOW9k+WJjeeUqOaIt+WcqGNjIHVzZXLkuK3vvIzkvYbmmK/kuI3lnKhpbmJveCB1c2Vyc+aXtuaJjeaYvuekuifkvKDpmIUn5paH5a2XXG5cdFx0XHRcdFx0aWYgZG9jLmlzX2NjICYmICFkb2MuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRcdFx0Y2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCJcblxuXHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdGlmIGRvYy5hZ2VudF91c2VyX25hbWVcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxuXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcblxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PSB0cnVlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcblxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIlxuXHRcdFx0XHRcdHByaW9yaXR5VmFsdWUgPSBkb2MudmFsdWVzPy5wcmlvcml0eVxuXHRcdFx0XHRcdHN3aXRjaCBwcmlvcml0eVZhbHVlXG5cdFx0XHRcdFx0XHR3aGVuIFwi54m55oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiXG5cdFx0XHRcdFx0XHR3aGVuIFwi57Sn5oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIlxuXHRcdFx0XHRcdFx0d2hlbiBcIuWKnuaWh1wiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiXG5cdFx0XHRcdFx0aWYgcHJpb3JpdHlJY29uQ2xhc3Ncblx0XHRcdFx0XHRcdGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LSN7cHJpb3JpdHlJY29uQ2xhc3N9XCJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSAje2luc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3N9Jz4je2RvYy5uYW1lfSN7Y2Nfdmlld30je2FnZW50X3ZpZXd9PC9kaXY+XG5cdFx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3VibWl0X2RhdGVcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19zdGVwX2N1cnJlbnRfbmFtZVwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXRlID09IFwiY29tcGxldGVkXCJcblx0XHRcdFx0XHRcdGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIlxuXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJydcblxuXHRcdFx0XHRcdGNjX3RhZyA9ICcnXG5cblx0XHRcdFx0XHRpZiBkb2MuY2NfY291bnQgPiAwXG5cdFx0XHRcdFx0XHRjY190YWcgPSBUQVBpMThuLl9fKCdjY190YWcnKVxuXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZXAtY3VycmVudC1zdGF0ZSAje2p1ZGdlfVwiPiN7c3RlcF9jdXJyZW50X25hbWV9I3tjY190YWd9PC9kaXY+XG5cdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm1vZGlmaWVkXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX21vZGlmaWVkXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG5cdFx0XHRcdCxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJzdGFydF9kYXRlXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0YXJ0X2RhdGVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5zdGFydF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm15X2ZpbmlzaF9kYXRlXCIsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5teV9maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2MubXlfZmluaXNoX2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwia2V5d29yZHNcIixcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiaXNfYXJjaGl2ZWRcIixcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jPy52YWx1ZXM/LnJlY29yZF9uZWVkICYmIGRvYy52YWx1ZXMucmVjb3JkX25lZWQgPT0gXCJ0cnVlXCJcblx0XHRcdFx0XHRcdGlmIGRvYz8uaXNfYXJjaGl2ZWRcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJZRVNcIilcblx0XHRcdFx0XHRcdHJldHVybiB0KFwiTk9cIilcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0ZG9tOiBkbyAtPlxuXHRcdFx0IyDmiYvmnLrkuIrkuI3mmL7npLrkuIDpobXmmL7npLrlpJrlsJHmnaHorrDlvZXpgInpoblcblx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0XHQndHAnXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCd0cGwnXG5cdFx0b3JkZXI6IFtbNCwgXCJkZXNjXCJdXSxcblx0XHRleHRyYUZpZWxkczogW1wiZm9ybVwiLCBcImZsb3dcIiwgXCJpbmJveF91c2Vyc1wiLCBcInN0YXRlXCIsIFwic3BhY2VcIiwgXCJhcHBsaWNhbnRcIiwgXCJmb3JtX3ZlcnNpb25cIixcblx0XHRcdFwiZmxvd192ZXJzaW9uXCIsIFwiaXNfY2NcIiwgXCJjY19jb3VudFwiLCBcImlzX3JlYWRcIiwgXCJjdXJyZW50X3N0ZXBfbmFtZVwiLCBcInZhbHVlc1wiLCBcImtleXdvcmRzXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJmbG93X25hbWVcIiwgXCJpc19oaWRkZW5cIiwgXCJhZ2VudF91c2VyX25hbWVcIl0sXG5cdFx0bGVuZ3RoQ2hhbmdlOiB0cnVlLFxuXHRcdGxlbmd0aE1lbnU6IFsxMCwxNSwyMCwyNSw1MCwxMDBdLFxuXHRcdHBhZ2VMZW5ndGg6IDEwLFxuXHRcdGluZm86IGZhbHNlLFxuXHRcdHNlYXJjaGluZzogdHJ1ZSxcblx0XHRyZXNwb25zaXZlOlxuXHRcdFx0ZGV0YWlsczogZmFsc2Vcblx0XHRhdXRvV2lkdGg6IGZhbHNlLFxuXHRcdGNoYW5nZVNlbGVjdG9yOiAoc2VsZWN0b3IsIHVzZXJJZCkgLT5cblx0XHRcdHVubGVzcyB1c2VySWRcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0c3BhY2UgPSBzZWxlY3Rvci5zcGFjZVxuXHRcdFx0dW5sZXNzIHNwYWNlXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0c3BhY2UgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdXG5cdFx0XHR1bmxlc3Mgc3BhY2Vcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IHVzZXJJZCwgc3BhY2U6IHNwYWNlfSwge2ZpZWxkczoge19pZDogMX19KVxuXHRcdFx0dW5sZXNzIHNwYWNlX3VzZXJcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0cmV0dXJuIHNlbGVjdG9yXG5cdFx0cGFnaW5nVHlwZTogXCJudW1iZXJzXCJcblxuXHR9XG5cblx0aWYgZmxvd0lkXG5cdFx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGZsb3dJZFxuXG5cdFx0b3B0aW9ucy5uYW1lID0ga2V5XG5cblx0XHRUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMgPSBmaWVsZHNcblxuXHRcdGluc19maWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHNcblxuXHRcdGluc19maWVsZHMuZm9yRWFjaCAoZiktPlxuXHRcdFx0aWYgZi50eXBlICE9ICd0YWJsZScgJiYgZi5pc19saXN0X2Rpc3BsYXlcblx0XHRcdFx0b3B0aW9ucy5jb2x1bW5zLnB1c2hcblx0XHRcdFx0XHRkYXRhOiAoZi5uYW1lIHx8IGYuY29kZSksXG5cdFx0XHRcdFx0dGl0bGU6IHQoZi5uYW1lIHx8IGYuY29kZSksXG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXG5cdFx0XHRcdFx0XHR2YWx1ZXMgPSBkb2MudmFsdWVzIHx8IHt9XG5cblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVzW2YuY29kZV1cblxuXHRcdFx0XHRcdFx0c3dpdGNoIGYudHlwZVxuXHRcdFx0XHRcdFx0XHR3aGVuICd1c2VyJ1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWU/Lm5hbWVcblx0XHRcdFx0XHRcdFx0d2hlbiAnZ3JvdXAnXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcblx0XHRcdFx0XHRcdFx0d2hlbiAnZGF0ZSdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2RhdGVUaW1lJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJylcblx0XHRcdFx0XHRcdFx0d2hlbiAnY2hlY2tib3gnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWUgPT0gdHJ1ZSB8fCB2YWx1ZSA9PSAndHJ1ZSdcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG5cdFx0XHRcdFx0XHRcdHdoZW4gJ29kYXRhJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBfLmlzQXJyYXkodmFsdWUpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ11cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlXG5cblxuXHRyZXR1cm4gb3B0aW9ucztcblxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRUYWJ1bGFyVGFibGVzLmluc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoKVxuXG5cbkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zID0gKGJveCwgZmxvd0lkLCBmaWVsZHMpLT5cblx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZFxuXHRpZiBib3ggPT0gXCJpbmJveFwiXG5cdFx0b3B0aW9ucyA9IF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcylcblx0ZWxzZSBpZiBib3ggPT0gXCJvdXRib3hcIlxuXHRcdG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKVxuXHRlbHNlXG5cdFx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cdFx0aWYgIWZsb3dJZFxuXHRcdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxuXHRpZiBmbG93SWRcblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcblx0cmV0dXJuIG9wdGlvbnNcblxuXG5cbl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IChmbG93SWQsIGZpZWxkcyktPlxuXHRvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcblxuXHRpZiAhZmxvd0lkXG5cdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxuXG5cdG9wdGlvbnMub3JkZXIgPSBbWzgsIFwiZGVzY1wiXV1cblx0b3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9ICh0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpLT5cblx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHNlbGVjdG9yXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkcHJvamVjdDoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0XCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3Zlcydcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JG1hdGNoOiB7XG5cdFx0XHRcdFx0J19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogZmFsc2Vcblx0XHRcdFx0XHQnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZCxcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdF1cblx0XHRpZiBzb3J0IGFuZCBzb3J0Lmxlbmd0aCA+IDBcblx0XHRcdHMxID0gc29ydFswXVxuXHRcdFx0czFfMCA9IHMxWzBdXG5cdFx0XHRzMV8xID0gczFbMV1cblx0XHRcdGlmIHMxXzAgPT0gJ3N0YXJ0X2RhdGUnXG5cblx0XHRcdFx0ZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRncm91cDoge19pZDogXCIkX2lkXCIsIFwiYXBwcm92ZV9zdGFydF9kYXRlXCI6IHskZmlyc3Q6IFwiJF9hcHByb3ZlLnN0YXJ0X2RhdGVcIn19XG5cblx0XHRcdFx0YWdfc29ydCA9ICdhcHByb3ZlX3N0YXJ0X2RhdGUnOiBpZiBzMV8xID09ICdhc2MnIHRoZW4gMSBlbHNlIC0xXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRzb3J0OiBhZ19zb3J0XG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc2tpcDogc2tpcFxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGxpbWl0OiBsaW1pdFxuXHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpXG5cblx0XHRcdFx0YWdncmVnYXRlID0gKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIC0+XG5cdFx0XHRcdFx0dGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSkgLT5cblx0XHRcdFx0XHRcdGlmIGVyclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXHRcdFx0XHRcdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRcdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzLnB1c2ggZG9jLl9pZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdGlmIGNiXG5cdFx0XHRcdFx0XHRcdGNiKClcblx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKVxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSB0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRyZXR1cm4gb3B0aW9uc1xuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRhYnVsYXJUYWJsZXMuaW5ib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJpbmJveFwiKVxuXG5cbl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSAoZmxvd0lkLCBmaWVsZHMpLT5cblx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cblx0aWYgIWZsb3dJZFxuXHRcdG9wdGlvbnMubmFtZSA9IFwib3V0Ym94X2luc3RhbmNlc1wiXG5cblx0b3B0aW9ucy5vcmRlciA9IFtbOSwgXCJkZXNjXCJdXVxuXHRvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucyktPlxuXHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDogc2VsZWN0b3Jcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRwcm9qZWN0OiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHtcblx0XHRcdFx0XHQnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiB0cnVlXG5cdFx0XHRcdFx0JG9yOiBbeydfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkfSx7J19hcHByb3ZlLnVzZXInOiB1c2VySWR9XVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XVxuXHRcdGlmIHNvcnQgYW5kIHNvcnQubGVuZ3RoID4gMFxuXHRcdFx0czEgPSBzb3J0WzBdXG5cdFx0XHRzMV8wID0gczFbMF1cblx0XHRcdHMxXzEgPSBzMVsxXVxuXHRcdFx0aWYgczFfMCA9PSAnbXlfZmluaXNoX2RhdGUnXG5cblx0XHRcdFx0ZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRncm91cDoge19pZDogXCIkX2lkXCIsIFwiYXBwcm92ZV9maW5pc2hfZGF0ZVwiOiB7JGxhc3Q6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJ9fVxuXG5cdFx0XHRcdGFnX3NvcnQgPSAnYXBwcm92ZV9maW5pc2hfZGF0ZSc6IGlmIHMxXzEgPT0gJ2FzYycgdGhlbiAxIGVsc2UgLTFcblxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNvcnQ6IGFnX3NvcnRcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRza2lwOiBza2lwXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkbGltaXQ6IGxpbWl0XG5cdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KClcblxuXHRcdFx0XHRhZ2dyZWdhdGUgPSAodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikgLT5cblx0XHRcdFx0XHR0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKSAtPlxuXHRcdFx0XHRcdFx0aWYgZXJyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXG5cdFx0XHRcdFx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cblx0XHRcdFx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMucHVzaCBkb2MuX2lkXG5cdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0aWYgY2Jcblx0XHRcdFx0XHRcdFx0Y2IoKVxuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpXG5cblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlIHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkc1xuXG5cdFx0XHRcdHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkc1xuXG5cdHJldHVybiBvcHRpb25zXG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0VGFidWxhclRhYmxlcy5vdXRib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJvdXRib3hcIilcblxuaWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcyA9IG5ldyBSZWFjdGl2ZVZhcigpXG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0VHJhY2tlci5hdXRvcnVuIChjKSAtPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudCAmJiAhU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImZsb3dJZFwiKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPSAnZHJhZnQnXG5cdFx0XHRcdE1ldGVvci5jYWxsIFwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXJcIiwgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCAoZXJyb3IsIHJlc3VsdCkgLT5cblx0XHRcdFx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhciBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIHJlc3VsdFxuXHRcdFx0XHRcdFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX2NoYW5nZU9yZGVyKClcblxuXG5uZXdJbnN0YW5jZXNMaXN0VGFidWxhciA9IChib3gsIGZsb3dJZCwgZmllbGRzKS0+XG5cdGlmICFmaWVsZHNcblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7Zm9ybTogMX19KVxuXHRcdGZpZWxkcyA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3c/LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pPy5jdXJyZW50Py5maWVsZHNcblxuXHRmaWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyBmaWVsZHNcblxuXHRpZiBmaWVsZHM/LmZpbHRlclByb3BlcnR5KFwiaXNfbGlzdF9kaXNwbGF5XCIsIHRydWUpPy5sZW5ndGggPiAwXG5cdFx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZFxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0VGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzLnNldChuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSlcblx0XHRlbHNlXG5cdFx0XHRuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKVxuXHRcdGNvbnNvbGUubG9nIFwibmV3IFRhYnVsYXJUYWJsZXMgXCIsIGtleVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0TWV0ZW9yLm1ldGhvZHNcblx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhcjogKGJveCwgZmxvd0lkKS0+XG5cdFx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihib3gsIGZsb3dJZClcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge2Zvcm06IDF9fSlcblx0XHRcdGZpZWxkcyA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3c/LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pPy5jdXJyZW50Py5maWVsZHNcblx0XHRcdHJldHVybiBmaWVsZHNcblxuXG4iLCJ2YXIgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMsIF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2hhbmRsZUxpc3RGaWVsZHMsIGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIsIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyLCB1cGRhdGVUYWJ1bGFyVGl0bGU7XG5cblN0ZWVkb3Muc3Vic1tcIkluc3RhbmNlVGFidWxhclwiXSA9IG5ldyBTdWJzTWFuYWdlcigpO1xuXG5faGFuZGxlTGlzdEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcykge1xuICB2YXIgaW5zX2ZpZWxkcztcbiAgaW5zX2ZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICBpZiAoZmllbGRzICE9IG51bGwpIHtcbiAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgcmVmO1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZjEpO1xuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGluc19maWVsZHM7XG59O1xuXG51cGRhdGVUYWJ1bGFyVGl0bGUgPSBmdW5jdGlvbigpIHt9O1xuXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGluc19maWVsZHMsIGtleSwgb3B0aW9ucztcbiAgb3B0aW9ucyA9IHtcbiAgICBuYW1lOiBcImluc3RhbmNlc1wiLFxuICAgIGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcbiAgICBwdWI6IFwiaW5zdGFuY2VfdGFidWxhclwiLFxuICAgIG9uVW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MCk7XG4gICAgfSxcbiAgICBkcmF3Q2FsbGJhY2s6IGZ1bmN0aW9uKHNldHRpbmdzKSB7XG4gICAgICB2YXIgZWxsaXBzaXNMaW5rLCBlbXB0eVRkLCB0aXRsZTtcbiAgICAgIGVtcHR5VGQgPSAkKFwiLmRhdGFUYWJsZXNfZW1wdHlcIik7XG4gICAgICBpZiAoZW1wdHlUZC5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCI7XG4gICAgICB9XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAhU3RlZWRvcy5pc1BhZCgpKSB7XG4gICAgICAgIE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKTtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChcIi5pbnN0YW5jZS1saXN0XCIpLnBlcmZlY3RTY3JvbGxiYXIoXCJ1cGRhdGVcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKTtcbiAgICAgIH1cbiAgICAgIHRpdGxlID0gdChcInBhZ2VyX2lucHV0X2hpbnRcIik7XG4gICAgICBlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJyk7XG4gICAgICByZXR1cm4gZWxsaXBzaXNMaW5rLmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGdvUGFnZSwgaW5wdXQ7XG4gICAgICAgIGlmICghJCh0aGlzKS5maW5kKCdpbnB1dCcpLmxlbmd0aCkge1xuICAgICAgICAgIGlucHV0ID0gJCgnPGlucHV0IGNsYXNzPVwicGFnaW5hdGVfaW5wdXQgZm9ybS1jb250cm9sIGlucHV0LXNtXCIgdHlwZT1cInRleHRcIiBzdHlsZT1cImJvcmRlcjogbm9uZTsgcGFkZGluZzowIDJweDtcIi8+Jyk7XG4gICAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMjBweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTZweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpO1xuICAgICAgICAgICQodGhpcykuZW1wdHkoKS5hcHBlbmQoaW5wdXQpO1xuICAgICAgICAgIGdvUGFnZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcGFnZXM7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgIHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aCk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA+IHBhZ2VzKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBwYWdlcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3Mub0luc3RhbmNlLkRhdGFUYWJsZSgpLnBhZ2UoaW5kZXgpLmRyYXcoJ3BhZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlucHV0LmJsdXIoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgZ29QYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnBhcmVudCgpLmh0bWwoJy4uLicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpbnB1dC5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUudG9TdHJpbmcoKSA9PT0gXCIxM1wiKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdvUGFnZShjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY3JlYXRlZFJvdzogZnVuY3Rpb24ocm93LCBkYXRhLCBkYXRhSW5kZXgpIHtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgaWYgKGRhdGEuX2lkID09PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZCkge1xuICAgICAgICAgIHJldHVybiByb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29sdW1uczogW1xuICAgICAge1xuICAgICAgICBkYXRhOiBcIl9pZFwiLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFnZW50X3ZpZXcsIGNjX3ZpZXcsIGZsb3dfbmFtZSwgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgaXNGYXZvcml0ZVNlbGVjdGVkLCBtb2RpZmllZCwgbW9kaWZpZWRGcm9tTm93LCBtb2RpZmllZFN0cmluZywgcHJpb3JpdHlJY29uLCBwcmlvcml0eUljb25DbGFzcywgcHJpb3JpdHlWYWx1ZSwgcmVmLCByZWYxLCBzdGVwX2N1cnJlbnRfbmFtZV92aWV3LCB1bnJlYWQ7XG4gICAgICAgICAgbW9kaWZpZWRTdHJpbmcgPSBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgICBtb2RpZmllZCA9IGRvYy5tb2RpZmllZDtcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLnN0YXRlICE9PSAnZHJhZnQnKSB7XG4gICAgICAgICAgICBtb2RpZmllZCA9IGRvYy5zdGFydF9kYXRlIHx8IGRvYy5tb2RpZmllZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnb3V0Ym94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InKSB7XG4gICAgICAgICAgICBtb2RpZmllZCA9IGRvYy5zdWJtaXRfZGF0ZSB8fCBkb2Muc3VibWl0X2RhdGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1vZGlmaWVkRnJvbU5vdyA9IFN0ZWVkb3MubW9tZW50UmVhY3RpdmVGcm9tTm93KG1vZGlmaWVkKTtcbiAgICAgICAgICBmbG93X25hbWUgPSBkb2MuZmxvd19uYW1lO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuaXNfY2MgJiYgISgocmVmID0gZG9jLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDApICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIjtcbiAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjxzcGFuPihcIiArIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSArIFwiKTwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpICE9PSAnZHJhZnQnICYmIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSkge1xuICAgICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8c3Bhbj4oXCIgKyBkb2MuY3VycmVudF9zdGVwX25hbWUgKyBcIik8L3NwYW4+PC9kaXY+XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYWdlbnRfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5hZ2VudF91c2VyX25hbWUgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWVcbiAgICAgICAgICAgIH0pICsgXCIpPC9sYWJlbD5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5yZWFkID0gJyc7XG4gICAgICAgICAgaXNGYXZvcml0ZVNlbGVjdGVkID0gRmF2b3JpdGVzLmlzUmVjb3JkU2VsZWN0ZWQoXCJpbnN0YW5jZXNcIiwgZG9jLl9pZCk7XG4gICAgICAgICAgaWYgKEZhdm9yaXRlcy5pc1JlY29yZFNlbGVjdGVkKFwiaW5zdGFuY2VzXCIsIGRvYy5faWQpKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLWlvcy1zdGFyLW91dGxpbmUgaW5zdGFuY2UtZmF2b3JpdGUtc2VsZWN0ZWRcIj48L2k+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JpdHlJY29uID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9IChyZWYxID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZjEucHJpb3JpdHkgOiB2b2lkIDA7XG4gICAgICAgICAgc3dpdGNoIChwcmlvcml0eVZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwi54m55oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi57Sn5oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIuWKnuaWh1wiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByaW9yaXR5SWNvbkNsYXNzKSB7XG4gICAgICAgICAgICBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS1cIiArIHByaW9yaXR5SWNvbkNsYXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+XCIgKyB1bnJlYWQgKyBcIjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgXCIgKyBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzICsgXCInPlwiICsgZG9jLm5hbWUgKyBjY192aWV3ICsgYWdlbnRfdmlldyArIFwiXFxuXHQ8c3Bhbj5cIiArIGRvYy5hcHBsaWNhbnRfbmFtZSArIFwiPC9zcGFuPlxcbjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLWRldGFpbCc+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ICsgXCJcXG5cdDxzcGFuIGNsYXNzPSdpbnN0YW5jZS1tb2RpZmllZCcgdGl0bGU9J1wiICsgbW9kaWZpZWRTdHJpbmcgKyBcIic+XCIgKyBtb2RpZmllZEZyb21Ob3cgKyBcIjwvc3Bhbj5cXG48L2Rpdj5cIjtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFnZW50X3ZpZXcsIGNjX3ZpZXcsIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MsIHByaW9yaXR5SWNvbkNsYXNzLCBwcmlvcml0eVZhbHVlLCByZWYsIHJlZjEsIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcsIHVucmVhZDtcbiAgICAgICAgICBjY192aWV3ID0gXCJcIjtcbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmlzX2NjICYmICEoKHJlZiA9IGRvYy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgY2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuYWdlbnRfdXNlcl9uYW1lKSB7XG4gICAgICAgICAgICBhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICAgICAgICAgIHVzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lXG4gICAgICAgICAgICB9KSArIFwiKTwvbGFiZWw+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVucmVhZCA9ICcnO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eVZhbHVlID0gKHJlZjEgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmMS5wcmlvcml0eSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHByaW9yaXR5VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCLnibnmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLntKfmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi5Yqe5paHXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJpb3JpdHlJY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LVwiICsgcHJpb3JpdHlJY29uQ2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz5cIiArIHVucmVhZCArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSBcIiArIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgKyBcIic+XCIgKyBkb2MubmFtZSArIGNjX3ZpZXcgKyBhZ2VudF92aWV3ICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJzdWJtaXRfZGF0ZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdWJtaXRfZGF0ZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2Muc3VibWl0X2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJmbG93X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdGVwX2N1cnJlbnRfbmFtZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBjY190YWcsIGp1ZGdlLCBzdGVwX2N1cnJlbnRfbmFtZTtcbiAgICAgICAgICBpZiAoZG9jLnN0YXRlID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgICBqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnO1xuICAgICAgICAgIGNjX3RhZyA9ICcnO1xuICAgICAgICAgIGlmIChkb2MuY2NfY291bnQgPiAwKSB7XG4gICAgICAgICAgICBjY190YWcgPSBUQVBpMThuLl9fKCdjY190YWcnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz1cXFwic3RlcC1jdXJyZW50LXN0YXRlIFwiICsganVkZ2UgKyBcIlxcXCI+XCIgKyBzdGVwX2N1cnJlbnRfbmFtZSArIGNjX3RhZyArIFwiPC9kaXY+XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibW9kaWZpZWRcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfbW9kaWZpZWRcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJzdGFydF9kYXRlXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0YXJ0X2RhdGVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLnN0YXJ0X2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLnN0YXJ0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm15X2ZpbmlzaF9kYXRlXCIsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLm15X2ZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5teV9maW5pc2hfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibW9kaWZpZWRcIixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJrZXl3b3Jkc1wiLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImlzX2FyY2hpdmVkXCIsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgcmVmO1xuICAgICAgICAgIGlmICgoZG9jICE9IG51bGwgPyAocmVmID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZi5yZWNvcmRfbmVlZCA6IHZvaWQgMCA6IHZvaWQgMCkgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgIGlmIChkb2MgIT0gbnVsbCA/IGRvYy5pc19hcmNoaXZlZCA6IHZvaWQgMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdChcIllFU1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0KFwiTk9cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfVxuICAgIF0sXG4gICAgZG9tOiAoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgIHJldHVybiAndHAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICd0cGwnO1xuICAgICAgfVxuICAgIH0pKCksXG4gICAgb3JkZXI6IFtbNCwgXCJkZXNjXCJdXSxcbiAgICBleHRyYUZpZWxkczogW1wiZm9ybVwiLCBcImZsb3dcIiwgXCJpbmJveF91c2Vyc1wiLCBcInN0YXRlXCIsIFwic3BhY2VcIiwgXCJhcHBsaWNhbnRcIiwgXCJmb3JtX3ZlcnNpb25cIiwgXCJmbG93X3ZlcnNpb25cIiwgXCJpc19jY1wiLCBcImNjX2NvdW50XCIsIFwiaXNfcmVhZFwiLCBcImN1cnJlbnRfc3RlcF9uYW1lXCIsIFwidmFsdWVzXCIsIFwia2V5d29yZHNcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcImZsb3dfbmFtZVwiLCBcImlzX2hpZGRlblwiLCBcImFnZW50X3VzZXJfbmFtZVwiXSxcbiAgICBsZW5ndGhDaGFuZ2U6IHRydWUsXG4gICAgbGVuZ3RoTWVudTogWzEwLCAxNSwgMjAsIDI1LCA1MCwgMTAwXSxcbiAgICBwYWdlTGVuZ3RoOiAxMCxcbiAgICBpbmZvOiBmYWxzZSxcbiAgICBzZWFyY2hpbmc6IHRydWUsXG4gICAgcmVzcG9uc2l2ZToge1xuICAgICAgZGV0YWlsczogZmFsc2VcbiAgICB9LFxuICAgIGF1dG9XaWR0aDogZmFsc2UsXG4gICAgY2hhbmdlU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yLCB1c2VySWQpIHtcbiAgICAgIHZhciByZWYsIHNwYWNlLCBzcGFjZV91c2VyO1xuICAgICAgaWYgKCF1c2VySWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZSA9IHNlbGVjdG9yLnNwYWNlO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNwYWNlID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgdXNlcjogdXNlcklkLFxuICAgICAgICBzcGFjZTogc3BhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgX2lkOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH0sXG4gICAgcGFnaW5nVHlwZTogXCJudW1iZXJzXCJcbiAgfTtcbiAgaWYgKGZsb3dJZCkge1xuICAgIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBmbG93SWQ7XG4gICAgb3B0aW9ucy5uYW1lID0ga2V5O1xuICAgIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyA9IGZpZWxkcztcbiAgICBpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMoVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzKTtcbiAgICBpbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgaWYgKGYudHlwZSAhPT0gJ3RhYmxlJyAmJiBmLmlzX2xpc3RfZGlzcGxheSkge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5jb2x1bW5zLnB1c2goe1xuICAgICAgICAgIGRhdGE6IGYubmFtZSB8fCBmLmNvZGUsXG4gICAgICAgICAgdGl0bGU6IHQoZi5uYW1lIHx8IGYuY29kZSksXG4gICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUsIHZhbHVlcztcbiAgICAgICAgICAgIHZhbHVlcyA9IGRvYy52YWx1ZXMgfHwge307XG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlc1tmLmNvZGVdO1xuICAgICAgICAgICAgc3dpdGNoIChmLnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAndXNlcic6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUubmFtZSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmZ1bGxuYW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdkYXRlJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHRydWUgfHwgdmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdvZGF0YSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoXy5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF8ucGx1Y2sodmFsdWUsICdAbGFiZWwnKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ107XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcigpKTtcbn0pO1xuXG5HZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyA9IGZ1bmN0aW9uKGJveCwgZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGtleSwgb3B0aW9ucztcbiAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZDtcbiAgaWYgKGJveCA9PT0gXCJpbmJveFwiKSB7XG4gICAgb3B0aW9ucyA9IF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcyk7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm91dGJveFwiKSB7XG4gICAgb3B0aW9ucyA9IF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpO1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgICBpZiAoIWZsb3dJZCkge1xuICAgICAgb3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIjtcbiAgICB9XG4gIH1cbiAgaWYgKGZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IGtleTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBvcHRpb25zO1xuICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gIGlmICghZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIjtcbiAgfVxuICBvcHRpb25zLm9yZGVyID0gW1s4LCBcImRlc2NcIl1dO1xuICBvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gZnVuY3Rpb24odGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKSB7XG4gICAgdmFyIGFnX3NvcnQsIGFnZ3JlZ2F0ZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgYXN5bmNfYWdncmVnYXRlLCBmaWx0ZXJlZFJlY29yZElkcywgczEsIHMxXzAsIHMxXzE7XG4gICAgYWdncmVnYXRlX29wZXJhdGlvbiA9IFtcbiAgICAgIHtcbiAgICAgICAgJG1hdGNoOiBzZWxlY3RvclxuICAgICAgfSwge1xuICAgICAgICAkcHJvamVjdDoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgXCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3ZlcydcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJG1hdGNoOiB7XG4gICAgICAgICAgJ19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogZmFsc2UsXG4gICAgICAgICAgJ19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gICAgaWYgKHNvcnQgJiYgc29ydC5sZW5ndGggPiAwKSB7XG4gICAgICBzMSA9IHNvcnRbMF07XG4gICAgICBzMV8wID0gczFbMF07XG4gICAgICBzMV8xID0gczFbMV07XG4gICAgICBpZiAoczFfMCA9PT0gJ3N0YXJ0X2RhdGUnKSB7XG4gICAgICAgIGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgIF9pZDogXCIkX2lkXCIsXG4gICAgICAgICAgICBcImFwcHJvdmVfc3RhcnRfZGF0ZVwiOiB7XG4gICAgICAgICAgICAgICRmaXJzdDogXCIkX2FwcHJvdmUuc3RhcnRfZGF0ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWdfc29ydCA9IHtcbiAgICAgICAgICAnYXBwcm92ZV9zdGFydF9kYXRlJzogczFfMSA9PT0gJ2FzYycgPyAxIDogLTFcbiAgICAgICAgfTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc29ydDogYWdfc29ydFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc2tpcDogc2tpcFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkbGltaXQ6IGxpbWl0XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBhZ2dyZWdhdGUgPSBmdW5jdGlvbih0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSB7XG4gICAgICAgICAgdGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgICAgICAgICBmaWx0ZXJlZFJlY29yZElkcy5wdXNoKGRvYy5faWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpO1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHM7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5pbmJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcImluYm94XCIpKTtcbn0pO1xuXG5fZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBcIm91dGJveF9pbnN0YW5jZXNcIjtcbiAgfVxuICBvcHRpb25zLm9yZGVyID0gW1s5LCBcImRlc2NcIl1dO1xuICBvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gZnVuY3Rpb24odGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKSB7XG4gICAgdmFyIGFnX3NvcnQsIGFnZ3JlZ2F0ZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgYXN5bmNfYWdncmVnYXRlLCBmaWx0ZXJlZFJlY29yZElkcywgczEsIHMxXzAsIHMxXzE7XG4gICAgYWdncmVnYXRlX29wZXJhdGlvbiA9IFtcbiAgICAgIHtcbiAgICAgICAgJG1hdGNoOiBzZWxlY3RvclxuICAgICAgfSwge1xuICAgICAgICAkcHJvamVjdDoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgXCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3ZlcydcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJG1hdGNoOiB7XG4gICAgICAgICAgJ19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogdHJ1ZSxcbiAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgJ19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgJ19hcHByb3ZlLnVzZXInOiB1c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICAgIGlmIChzb3J0ICYmIHNvcnQubGVuZ3RoID4gMCkge1xuICAgICAgczEgPSBzb3J0WzBdO1xuICAgICAgczFfMCA9IHMxWzBdO1xuICAgICAgczFfMSA9IHMxWzFdO1xuICAgICAgaWYgKHMxXzAgPT09ICdteV9maW5pc2hfZGF0ZScpIHtcbiAgICAgICAgZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgX2lkOiBcIiRfaWRcIixcbiAgICAgICAgICAgIFwiYXBwcm92ZV9maW5pc2hfZGF0ZVwiOiB7XG4gICAgICAgICAgICAgICRsYXN0OiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYWdfc29ydCA9IHtcbiAgICAgICAgICAnYXBwcm92ZV9maW5pc2hfZGF0ZSc6IHMxXzEgPT09ICdhc2MnID8gMSA6IC0xXG4gICAgICAgIH07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNvcnQ6IGFnX3NvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNraXA6IHNraXBcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGxpbWl0OiBsaW1pdFxuICAgICAgICB9KTtcbiAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgYWdncmVnYXRlID0gZnVuY3Rpb24odGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikge1xuICAgICAgICAgIHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMucHVzaChkb2MuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcyk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMub3V0Ym94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwib3V0Ym94XCIpKTtcbn0pO1xuXG5pZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gIFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcyA9IG5ldyBSZWFjdGl2ZVZhcigpO1xufVxuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRyYWNrZXIuYXV0b3J1bihmdW5jdGlvbihjKSB7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCAmJiAhU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJmbG93SWRcIikgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT09ICdkcmFmdCcpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5jYWxsKFwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXJcIiwgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCBmdW5jdGlvbihlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCByZXN1bHQpO1xuICAgICAgICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll9jaGFuZ2VPcmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufSk7XG5cbm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyID0gZnVuY3Rpb24oYm94LCBmbG93SWQsIGZpZWxkcykge1xuICB2YXIgZmxvdywga2V5LCByZWYsIHJlZjEsIHJlZjI7XG4gIGlmICghZmllbGRzKSB7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93SWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgZm9ybTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGZpZWxkcyA9IChyZWYgPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvdyAhPSBudWxsID8gZmxvdy5mb3JtIDogdm9pZCAwXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgIH1cbiAgICB9KSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgfVxuICBmaWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyhmaWVsZHMpO1xuICBpZiAoKGZpZWxkcyAhPSBudWxsID8gKHJlZjIgPSBmaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc19saXN0X2Rpc3BsYXlcIiwgdHJ1ZSkpICE9IG51bGwgPyByZWYyLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZDtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMuc2V0KG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbnNvbGUubG9nKFwibmV3IFRhYnVsYXJUYWJsZXMgXCIsIGtleSk7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTWV0ZW9yLm1ldGhvZHMoe1xuICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyOiBmdW5jdGlvbihib3gsIGZsb3dJZCkge1xuICAgICAgdmFyIGZpZWxkcywgZmxvdywgcmVmLCByZWYxO1xuICAgICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoYm94LCBmbG93SWQpO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3dJZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZmllbGRzID0gKHJlZiA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3cgIT0gbnVsbCA/IGZsb3cuZm9ybSA6IHZvaWQgMFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAnY3VycmVudC5maWVsZHMnOiAxXG4gICAgICAgIH1cbiAgICAgIH0pKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG4gIH0pO1xufVxuIl19
