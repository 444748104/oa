(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"checkNpm.js":function module(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  "xml2js": "^0.4.19"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"URI.js":function module(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/URI.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
!function (module1) {
  /*!
   * URI.js - Mutating URLs
   *
   * Version: 1.17.0
   *
   * Author: Rodney Rehm
   * Web: http://medialize.github.io/URI.js/
   *
   * Licensed under
   *   MIT License http://www.opensource.org/licenses/mit-license
   *   GPL v3 http://opensource.org/licenses/GPL-3.0
   *
   */
  (function (root, factory) {
    'use strict'; // https://github.com/umdjs/umd/blob/master/returnExports.js
    // if (typeof exports === 'object') {
    //   // Node
    //   module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));
    // } else

    if (typeof define === 'function' && define.amd) {
      // AMD. Register as an anonymous module.
      define(['./punycode', './IPv6', './SecondLevelDomains'], factory);
    } else {
      // Browser globals (root is window)
      root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);
    }
  })(this, function (punycode, IPv6, SLD, root) {
    'use strict';
    /*global location, escape, unescape */
    // FIXME: v2.0.0 renamce non-camelCase properties to uppercase

    /*jshint camelcase: false */
    // save current URI variable, if any

    var _URI = root && root.URI;

    function URI(url, base) {
      var _urlSupplied = arguments.length >= 1;

      var _baseSupplied = arguments.length >= 2; // Allow instantiation without the 'new' keyword


      if (!(this instanceof URI)) {
        if (_urlSupplied) {
          if (_baseSupplied) {
            return new URI(url, base);
          }

          return new URI(url);
        }

        return new URI();
      }

      if (url === undefined) {
        if (_urlSupplied) {
          throw new TypeError('undefined is not a valid argument for URI');
        }

        if (typeof location !== 'undefined') {
          url = location.href + '';
        } else {
          url = '';
        }
      }

      this.href(url); // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor

      if (base !== undefined) {
        return this.absoluteTo(base);
      }

      return this;
    }

    URI.version = '1.17.0';
    var p = URI.prototype;
    var hasOwn = Object.prototype.hasOwnProperty;

    function escapeRegEx(string) {
      // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963
      return string.replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
    }

    function getType(value) {
      // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value
      if (value === undefined) {
        return 'Undefined';
      }

      return String(Object.prototype.toString.call(value)).slice(8, -1);
    }

    function isArray(obj) {
      return getType(obj) === 'Array';
    }

    function filterArrayValues(data, value) {
      var lookup = {};
      var i, length;

      if (getType(value) === 'RegExp') {
        lookup = null;
      } else if (isArray(value)) {
        for (i = 0, length = value.length; i < length; i++) {
          lookup[value[i]] = true;
        }
      } else {
        lookup[value] = true;
      }

      for (i = 0, length = data.length; i < length; i++) {
        /*jshint laxbreak: true */
        var _match = lookup && lookup[data[i]] !== undefined || !lookup && value.test(data[i]);
        /*jshint laxbreak: false */


        if (_match) {
          data.splice(i, 1);
          length--;
          i--;
        }
      }

      return data;
    }

    function arrayContains(list, value) {
      var i, length; // value may be string, number, array, regexp

      if (isArray(value)) {
        // Note: this can be optimized to O(n) (instead of current O(m * n))
        for (i = 0, length = value.length; i < length; i++) {
          if (!arrayContains(list, value[i])) {
            return false;
          }
        }

        return true;
      }

      var _type = getType(value);

      for (i = 0, length = list.length; i < length; i++) {
        if (_type === 'RegExp') {
          if (typeof list[i] === 'string' && list[i].match(value)) {
            return true;
          }
        } else if (list[i] === value) {
          return true;
        }
      }

      return false;
    }

    function arraysEqual(one, two) {
      if (!isArray(one) || !isArray(two)) {
        return false;
      } // arrays can't be equal if they have different amount of content


      if (one.length !== two.length) {
        return false;
      }

      one.sort();
      two.sort();

      for (var i = 0, l = one.length; i < l; i++) {
        if (one[i] !== two[i]) {
          return false;
        }
      }

      return true;
    }

    function trimSlashes(text) {
      var trim_expression = /^\/+|\/+$/g;
      return text.replace(trim_expression, '');
    }

    URI._parts = function () {
      return {
        protocol: null,
        username: null,
        password: null,
        hostname: null,
        urn: null,
        port: null,
        path: null,
        query: null,
        fragment: null,
        // state
        duplicateQueryParameters: URI.duplicateQueryParameters,
        escapeQuerySpace: URI.escapeQuerySpace
      };
    }; // state: allow duplicate query parameters (a=1&a=1)


    URI.duplicateQueryParameters = false; // state: replaces + with %20 (space in query strings)

    URI.escapeQuerySpace = true; // static properties

    URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;
    URI.idn_expression = /[^a-z0-9\.-]/i;
    URI.punycode_expression = /(xn--)/i; // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?

    URI.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/; // credits to Rich Brown
    // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096
    // specification: http://www.ietf.org/rfc/rfc4291.txt

    URI.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/; // expression used is "gruber revised" (@gruber v2) determined to be the
    // best solution in a regex-golf we did a couple of ages ago at
    // * http://mathiasbynens.be/demo/url-regex
    // * http://rodneyrehm.de/t/url-regex.html

    URI.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig;
    URI.findUri = {
      // valid "scheme://" or "www."
      start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
      // everything up to the next whitespace
      end: /[\s\r\n]|$/,
      // trim trailing punctuation captured by end RegExp
      trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/
    }; // http://www.iana.org/assignments/uri-schemes.html
    // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports

    URI.defaultPorts = {
      http: '80',
      https: '443',
      ftp: '21',
      gopher: '70',
      ws: '80',
      wss: '443'
    }; // allowed hostname characters according to RFC 3986
    // ALPHA DIGIT "-" "." "_" "~" "!" "$" "&" "'" "(" ")" "*" "+" "," ";" "=" %encoded
    // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . -

    URI.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/; // map DOM Elements to their URI attribute

    URI.domAttributes = {
      'a': 'href',
      'blockquote': 'cite',
      'link': 'href',
      'base': 'href',
      'script': 'src',
      'form': 'action',
      'img': 'src',
      'area': 'href',
      'iframe': 'src',
      'embed': 'src',
      'source': 'src',
      'track': 'src',
      'input': 'src',
      // but only if type="image"
      'audio': 'src',
      'video': 'src'
    };

    URI.getDomAttribute = function (node) {
      if (!node || !node.nodeName) {
        return undefined;
      }

      var nodeName = node.nodeName.toLowerCase(); // <input> should only expose src for type="image"

      if (nodeName === 'input' && node.type !== 'image') {
        return undefined;
      }

      return URI.domAttributes[nodeName];
    };

    function escapeForDumbFirefox36(value) {
      // https://github.com/medialize/URI.js/issues/91
      return escape(value);
    } // encoding / decoding according to RFC3986


    function strictEncodeURIComponent(string) {
      // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent
      return encodeURIComponent(string).replace(/[!'()*]/g, escapeForDumbFirefox36).replace(/\*/g, '%2A');
    }

    URI.encode = strictEncodeURIComponent;
    URI.decode = decodeURIComponent;

    URI.iso8859 = function () {
      URI.encode = escape;
      URI.decode = unescape;
    };

    URI.unicode = function () {
      URI.encode = strictEncodeURIComponent;
      URI.decode = decodeURIComponent;
    };

    URI.characters = {
      pathname: {
        encode: {
          // RFC3986 2.1: For consistency, URI producers and normalizers should
          // use uppercase hexadecimal digits for all percent-encodings.
          expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,
          map: {
            // -._~!'()*
            '%24': '$',
            '%26': '&',
            '%2B': '+',
            '%2C': ',',
            '%3B': ';',
            '%3D': '=',
            '%3A': ':',
            '%40': '@'
          }
        },
        decode: {
          expression: /[\/\?#]/g,
          map: {
            '/': '%2F',
            '?': '%3F',
            '#': '%23'
          }
        }
      },
      reserved: {
        encode: {
          // RFC3986 2.1: For consistency, URI producers and normalizers should
          // use uppercase hexadecimal digits for all percent-encodings.
          expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,
          map: {
            // gen-delims
            '%3A': ':',
            '%2F': '/',
            '%3F': '?',
            '%23': '#',
            '%5B': '[',
            '%5D': ']',
            '%40': '@',
            // sub-delims
            '%21': '!',
            '%24': '$',
            '%26': '&',
            '%27': '\'',
            '%28': '(',
            '%29': ')',
            '%2A': '*',
            '%2B': '+',
            '%2C': ',',
            '%3B': ';',
            '%3D': '='
          }
        }
      },
      urnpath: {
        // The characters under `encode` are the characters called out by RFC 2141 as being acceptable
        // for usage in a URN. RFC2141 also calls out "-", ".", and "_" as acceptable characters, but
        // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also
        // note that the colon character is not featured in the encoding map; this is because URI.js
        // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it
        // should not appear unencoded in a segment itself.
        // See also the note above about RFC3986 and capitalalized hex digits.
        encode: {
          expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,
          map: {
            '%21': '!',
            '%24': '$',
            '%27': '\'',
            '%28': '(',
            '%29': ')',
            '%2A': '*',
            '%2B': '+',
            '%2C': ',',
            '%3B': ';',
            '%3D': '=',
            '%40': '@'
          }
        },
        // These characters are the characters called out by RFC2141 as "reserved" characters that
        // should never appear in a URN, plus the colon character (see note above).
        decode: {
          expression: /[\/\?#:]/g,
          map: {
            '/': '%2F',
            '?': '%3F',
            '#': '%23',
            ':': '%3A'
          }
        }
      }
    };

    URI.encodeQuery = function (string, escapeQuerySpace) {
      var escaped = URI.encode(string + '');

      if (escapeQuerySpace === undefined) {
        escapeQuerySpace = URI.escapeQuerySpace;
      }

      return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;
    };

    URI.decodeQuery = function (string, escapeQuerySpace) {
      string += '';

      if (escapeQuerySpace === undefined) {
        escapeQuerySpace = URI.escapeQuerySpace;
      }

      try {
        return URI.decode(escapeQuerySpace ? string.replace(/\+/g, '%20') : string);
      } catch (e) {
        // we're not going to mess with weird encodings,
        // give up and return the undecoded original string
        // see https://github.com/medialize/URI.js/issues/87
        // see https://github.com/medialize/URI.js/issues/92
        return string;
      }
    }; // generate encode/decode path functions


    var _parts = {
      'encode': 'encode',
      'decode': 'decode'
    };

    var _part;

    var generateAccessor = function (_group, _part) {
      return function (string) {
        try {
          return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function (c) {
            return URI.characters[_group][_part].map[c];
          });
        } catch (e) {
          // we're not going to mess with weird encodings,
          // give up and return the undecoded original string
          // see https://github.com/medialize/URI.js/issues/87
          // see https://github.com/medialize/URI.js/issues/92
          return string;
        }
      };
    };

    for (_part in _parts) {
      URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);
      URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);
    }

    var generateSegmentedPathFunction = function (_sep, _codingFuncName, _innerCodingFuncName) {
      return function (string) {
        // Why pass in names of functions, rather than the function objects themselves? The
        // definitions of some functions (but in particular, URI.decode) will occasionally change due
        // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure
        // that the functions we use here are "fresh".
        var actualCodingFunc;

        if (!_innerCodingFuncName) {
          actualCodingFunc = URI[_codingFuncName];
        } else {
          actualCodingFunc = function (string) {
            return URI[_codingFuncName](URI[_innerCodingFuncName](string));
          };
        }

        var segments = (string + '').split(_sep);

        for (var i = 0, length = segments.length; i < length; i++) {
          segments[i] = actualCodingFunc(segments[i]);
        }

        return segments.join(_sep);
      };
    }; // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.


    URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');
    URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');
    URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');
    URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');
    URI.encodeReserved = generateAccessor('reserved', 'encode');

    URI.parse = function (string, parts) {
      var pos;

      if (!parts) {
        parts = {};
      } // [protocol"://"[username[":"password]"@"]hostname[":"port]"/"?][path]["?"querystring]["#"fragment]
      // extract fragment


      pos = string.indexOf('#');

      if (pos > -1) {
        // escaping?
        parts.fragment = string.substring(pos + 1) || null;
        string = string.substring(0, pos);
      } // extract query


      pos = string.indexOf('?');

      if (pos > -1) {
        // escaping?
        parts.query = string.substring(pos + 1) || null;
        string = string.substring(0, pos);
      } // extract protocol


      if (string.substring(0, 2) === '//') {
        // relative-scheme
        parts.protocol = null;
        string = string.substring(2); // extract "user:pass@host:port"

        string = URI.parseAuthority(string, parts);
      } else {
        pos = string.indexOf(':');

        if (pos > -1) {
          parts.protocol = string.substring(0, pos) || null;

          if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {
            // : may be within the path
            parts.protocol = undefined;
          } else if (string.substring(pos + 1, pos + 3) === '//') {
            string = string.substring(pos + 3); // extract "user:pass@host:port"

            string = URI.parseAuthority(string, parts);
          } else {
            string = string.substring(pos + 1);
            parts.urn = true;
          }
        }
      } // what's left must be the path


      parts.path = string; // and we're done

      return parts;
    };

    URI.parseHost = function (string, parts) {
      // Copy chrome, IE, opera backslash-handling behavior.
      // Back slashes before the query string get converted to forward slashes
      // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124
      // See: https://code.google.com/p/chromium/issues/detail?id=25916
      // https://github.com/medialize/URI.js/pull/233
      string = string.replace(/\\/g, '/'); // extract host:port

      var pos = string.indexOf('/');
      var bracketPos;
      var t;

      if (pos === -1) {
        pos = string.length;
      }

      if (string.charAt(0) === '[') {
        // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6
        // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts
        // IPv6+port in the format [2001:db8::1]:80 (for the time being)
        bracketPos = string.indexOf(']');
        parts.hostname = string.substring(1, bracketPos) || null;
        parts.port = string.substring(bracketPos + 2, pos) || null;

        if (parts.port === '/') {
          parts.port = null;
        }
      } else {
        var firstColon = string.indexOf(':');
        var firstSlash = string.indexOf('/');
        var nextColon = string.indexOf(':', firstColon + 1);

        if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {
          // IPv6 host contains multiple colons - but no port
          // this notation is actually not allowed by RFC 3986, but we're a liberal parser
          parts.hostname = string.substring(0, pos) || null;
          parts.port = null;
        } else {
          t = string.substring(0, pos).split(':');
          parts.hostname = t[0] || null;
          parts.port = t[1] || null;
        }
      }

      if (parts.hostname && string.substring(pos).charAt(0) !== '/') {
        pos++;
        string = '/' + string;
      }

      return string.substring(pos) || '/';
    };

    URI.parseAuthority = function (string, parts) {
      string = URI.parseUserinfo(string, parts);
      return URI.parseHost(string, parts);
    };

    URI.parseUserinfo = function (string, parts) {
      // extract username:password
      var firstSlash = string.indexOf('/');
      var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);
      var t; // authority@ must come before /path

      if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {
        t = string.substring(0, pos).split(':');
        parts.username = t[0] ? URI.decode(t[0]) : null;
        t.shift();
        parts.password = t[0] ? URI.decode(t.join(':')) : null;
        string = string.substring(pos + 1);
      } else {
        parts.username = null;
        parts.password = null;
      }

      return string;
    };

    URI.parseQuery = function (string, escapeQuerySpace) {
      if (!string) {
        return {};
      } // throw out the funky business - "?"[name"="value"&"]+


      string = string.replace(/&+/g, '&').replace(/^\?*&*|&+$/g, '');

      if (!string) {
        return {};
      }

      var items = {};
      var splits = string.split('&');
      var length = splits.length;
      var v, name, value;

      for (var i = 0; i < length; i++) {
        v = splits[i].split('=');
        name = URI.decodeQuery(v.shift(), escapeQuerySpace); // no "=" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters

        value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;

        if (hasOwn.call(items, name)) {
          if (typeof items[name] === 'string' || items[name] === null) {
            items[name] = [items[name]];
          }

          items[name].push(value);
        } else {
          items[name] = value;
        }
      }

      return items;
    };

    URI.build = function (parts) {
      var t = '';

      if (parts.protocol) {
        t += parts.protocol + ':';
      }

      if (!parts.urn && (t || parts.hostname)) {
        t += '//';
      }

      t += URI.buildAuthority(parts) || '';

      if (typeof parts.path === 'string') {
        if (parts.path.charAt(0) !== '/' && typeof parts.hostname === 'string') {
          t += '/';
        }

        t += parts.path;
      }

      if (typeof parts.query === 'string' && parts.query) {
        t += '?' + parts.query;
      }

      if (typeof parts.fragment === 'string' && parts.fragment) {
        t += '#' + parts.fragment;
      }

      return t;
    };

    URI.buildHost = function (parts) {
      var t = '';

      if (!parts.hostname) {
        return '';
      } else if (URI.ip6_expression.test(parts.hostname)) {
        t += '[' + parts.hostname + ']';
      } else {
        t += parts.hostname;
      }

      if (parts.port) {
        t += ':' + parts.port;
      }

      return t;
    };

    URI.buildAuthority = function (parts) {
      return URI.buildUserinfo(parts) + URI.buildHost(parts);
    };

    URI.buildUserinfo = function (parts) {
      var t = '';

      if (parts.username) {
        t += URI.encode(parts.username);

        if (parts.password) {
          t += ':' + URI.encode(parts.password);
        }

        t += '@';
      }

      return t;
    };

    URI.buildQuery = function (data, duplicateQueryParameters, escapeQuerySpace) {
      // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html
      // being »-._~!$&'()*+,;=:@/?« %HEX and alnum are allowed
      // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!
      // URI.js treats the query string as being application/x-www-form-urlencoded
      // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type
      var t = '';
      var unique, key, i, length;

      for (key in data) {
        if (hasOwn.call(data, key) && key) {
          if (isArray(data[key])) {
            unique = {};

            for (i = 0, length = data[key].length; i < length; i++) {
              if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {
                t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);

                if (duplicateQueryParameters !== true) {
                  unique[data[key][i] + ''] = true;
                }
              }
            }
          } else if (data[key] !== undefined) {
            t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);
          }
        }
      }

      return t.substring(1);
    };

    URI.buildQueryParameter = function (name, value, escapeQuerySpace) {
      // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded
      // don't append "=" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization
      return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');
    };

    URI.addQuery = function (data, name, value) {
      if (typeof name === 'object') {
        for (var key in name) {
          if (hasOwn.call(name, key)) {
            URI.addQuery(data, key, name[key]);
          }
        }
      } else if (typeof name === 'string') {
        if (data[name] === undefined) {
          data[name] = value;
          return;
        } else if (typeof data[name] === 'string') {
          data[name] = [data[name]];
        }

        if (!isArray(value)) {
          value = [value];
        }

        data[name] = (data[name] || []).concat(value);
      } else {
        throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
      }
    };

    URI.removeQuery = function (data, name, value) {
      var i, length, key;

      if (isArray(name)) {
        for (i = 0, length = name.length; i < length; i++) {
          data[name[i]] = undefined;
        }
      } else if (getType(name) === 'RegExp') {
        for (key in data) {
          if (name.test(key)) {
            data[key] = undefined;
          }
        }
      } else if (typeof name === 'object') {
        for (key in name) {
          if (hasOwn.call(name, key)) {
            URI.removeQuery(data, key, name[key]);
          }
        }
      } else if (typeof name === 'string') {
        if (value !== undefined) {
          if (getType(value) === 'RegExp') {
            if (!isArray(data[name]) && value.test(data[name])) {
              data[name] = undefined;
            } else {
              data[name] = filterArrayValues(data[name], value);
            }
          } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {
            data[name] = undefined;
          } else if (isArray(data[name])) {
            data[name] = filterArrayValues(data[name], value);
          }
        } else {
          data[name] = undefined;
        }
      } else {
        throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');
      }
    };

    URI.hasQuery = function (data, name, value, withinArray) {
      if (typeof name === 'object') {
        for (var key in name) {
          if (hasOwn.call(name, key)) {
            if (!URI.hasQuery(data, key, name[key])) {
              return false;
            }
          }
        }

        return true;
      } else if (typeof name !== 'string') {
        throw new TypeError('URI.hasQuery() accepts an object, string as the name parameter');
      }

      switch (getType(value)) {
        case 'Undefined':
          // true if exists (but may be empty)
          return name in data;
        // data[name] !== undefined;

        case 'Boolean':
          // true if exists and non-empty
          var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);

          return value === _booly;

        case 'Function':
          // allow complex comparison
          return !!value(data[name], name, data);

        case 'Array':
          if (!isArray(data[name])) {
            return false;
          }

          var op = withinArray ? arrayContains : arraysEqual;
          return op(data[name], value);

        case 'RegExp':
          if (!isArray(data[name])) {
            return Boolean(data[name] && data[name].match(value));
          }

          if (!withinArray) {
            return false;
          }

          return arrayContains(data[name], value);

        case 'Number':
          value = String(value);

        /* falls through */

        case 'String':
          if (!isArray(data[name])) {
            return data[name] === value;
          }

          if (!withinArray) {
            return false;
          }

          return arrayContains(data[name], value);

        default:
          throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');
      }
    };

    URI.commonPath = function (one, two) {
      var length = Math.min(one.length, two.length);
      var pos; // find first non-matching character

      for (pos = 0; pos < length; pos++) {
        if (one.charAt(pos) !== two.charAt(pos)) {
          pos--;
          break;
        }
      }

      if (pos < 1) {
        return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';
      } // revert to last /


      if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {
        pos = one.substring(0, pos).lastIndexOf('/');
      }

      return one.substring(0, pos + 1);
    };

    URI.withinString = function (string, callback, options) {
      options || (options = {});

      var _start = options.start || URI.findUri.start;

      var _end = options.end || URI.findUri.end;

      var _trim = options.trim || URI.findUri.trim;

      var _attributeOpen = /[a-z0-9-]=["']?$/i;
      _start.lastIndex = 0;

      while (true) {
        var match = _start.exec(string);

        if (!match) {
          break;
        }

        var start = match.index;

        if (options.ignoreHtml) {
          // attribut(e=["']?$)
          var attributeOpen = string.slice(Math.max(start - 3, 0), start);

          if (attributeOpen && _attributeOpen.test(attributeOpen)) {
            continue;
          }
        }

        var end = start + string.slice(start).search(_end);
        var slice = string.slice(start, end).replace(_trim, '');

        if (options.ignore && options.ignore.test(slice)) {
          continue;
        }

        end = start + slice.length;
        var result = callback(slice, start, end, string);
        string = string.slice(0, start) + result + string.slice(end);
        _start.lastIndex = start + result.length;
      }

      _start.lastIndex = 0;
      return string;
    };

    URI.ensureValidHostname = function (v) {
      // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)
      // they are not part of DNS and therefore ignored by URI.js
      if (v.match(URI.invalid_hostname_characters)) {
        // test punycode
        if (!punycode) {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available');
        }

        if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }
      }
    }; // noConflict


    URI.noConflict = function (removeAll) {
      if (removeAll) {
        var unconflicted = {
          URI: this.noConflict()
        };

        if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {
          unconflicted.URITemplate = root.URITemplate.noConflict();
        }

        if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {
          unconflicted.IPv6 = root.IPv6.noConflict();
        }

        if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {
          unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();
        }

        return unconflicted;
      } else if (root.URI === this) {
        root.URI = _URI;
      }

      return this;
    };

    p.build = function (deferBuild) {
      if (deferBuild === true) {
        this._deferred_build = true;
      } else if (deferBuild === undefined || this._deferred_build) {
        this._string = URI.build(this._parts);
        this._deferred_build = false;
      }

      return this;
    };

    p.clone = function () {
      return new URI(this);
    };

    p.valueOf = p.toString = function () {
      return this.build(false)._string;
    };

    function generateSimpleAccessor(_part) {
      return function (v, build) {
        if (v === undefined) {
          return this._parts[_part] || '';
        } else {
          this._parts[_part] = v || null;
          this.build(!build);
          return this;
        }
      };
    }

    function generatePrefixAccessor(_part, _key) {
      return function (v, build) {
        if (v === undefined) {
          return this._parts[_part] || '';
        } else {
          if (v !== null) {
            v = v + '';

            if (v.charAt(0) === _key) {
              v = v.substring(1);
            }
          }

          this._parts[_part] = v;
          this.build(!build);
          return this;
        }
      };
    }

    p.protocol = generateSimpleAccessor('protocol');
    p.username = generateSimpleAccessor('username');
    p.password = generateSimpleAccessor('password');
    p.hostname = generateSimpleAccessor('hostname');
    p.port = generateSimpleAccessor('port');
    p.query = generatePrefixAccessor('query', '?');
    p.fragment = generatePrefixAccessor('fragment', '#');

    p.search = function (v, build) {
      var t = this.query(v, build);
      return typeof t === 'string' && t.length ? '?' + t : t;
    };

    p.hash = function (v, build) {
      var t = this.fragment(v, build);
      return typeof t === 'string' && t.length ? '#' + t : t;
    };

    p.pathname = function (v, build) {
      if (v === undefined || v === true) {
        var res = this._parts.path || (this._parts.hostname ? '/' : '');
        return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;
      } else {
        if (this._parts.urn) {
          this._parts.path = v ? URI.recodeUrnPath(v) : '';
        } else {
          this._parts.path = v ? URI.recodePath(v) : '/';
        }

        this.build(!build);
        return this;
      }
    };

    p.path = p.pathname;

    p.href = function (href, build) {
      var key;

      if (href === undefined) {
        return this.toString();
      }

      this._string = '';
      this._parts = URI._parts();

      var _URI = href instanceof URI;

      var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);

      if (href.nodeName) {
        var attribute = URI.getDomAttribute(href);
        href = href[attribute] || '';
        _object = false;
      } // window.location is reported to be an object, but it's not the sort
      // of object we're looking for:
      // * location.protocol ends with a colon
      // * location.query != object.search
      // * location.hash != object.fragment
      // simply serializing the unknown object should do the trick
      // (for location, not for everything...)


      if (!_URI && _object && href.pathname !== undefined) {
        href = href.toString();
      }

      if (typeof href === 'string' || href instanceof String) {
        this._parts = URI.parse(String(href), this._parts);
      } else if (_URI || _object) {
        var src = _URI ? href._parts : href;

        for (key in src) {
          if (hasOwn.call(this._parts, key)) {
            this._parts[key] = src[key];
          }
        }
      } else {
        throw new TypeError('invalid input');
      }

      this.build(!build);
      return this;
    }; // identification accessors


    p.is = function (what) {
      var ip = false;
      var ip4 = false;
      var ip6 = false;
      var name = false;
      var sld = false;
      var idn = false;
      var punycode = false;
      var relative = !this._parts.urn;

      if (this._parts.hostname) {
        relative = false;
        ip4 = URI.ip4_expression.test(this._parts.hostname);
        ip6 = URI.ip6_expression.test(this._parts.hostname);
        ip = ip4 || ip6;
        name = !ip;
        sld = name && SLD && SLD.has(this._parts.hostname);
        idn = name && URI.idn_expression.test(this._parts.hostname);
        punycode = name && URI.punycode_expression.test(this._parts.hostname);
      }

      switch (what.toLowerCase()) {
        case 'relative':
          return relative;

        case 'absolute':
          return !relative;
        // hostname identification

        case 'domain':
        case 'name':
          return name;

        case 'sld':
          return sld;

        case 'ip':
          return ip;

        case 'ip4':
        case 'ipv4':
        case 'inet4':
          return ip4;

        case 'ip6':
        case 'ipv6':
        case 'inet6':
          return ip6;

        case 'idn':
          return idn;

        case 'url':
          return !this._parts.urn;

        case 'urn':
          return !!this._parts.urn;

        case 'punycode':
          return punycode;
      }

      return null;
    }; // component specific input validation


    var _protocol = p.protocol;
    var _port = p.port;
    var _hostname = p.hostname;

    p.protocol = function (v, build) {
      if (v !== undefined) {
        if (v) {
          // accept trailing ://
          v = v.replace(/:(\/\/)?$/, '');

          if (!v.match(URI.protocol_expression)) {
            throw new TypeError('Protocol "' + v + '" contains characters other than [A-Z0-9.+-] or doesn\'t start with [A-Z]');
          }
        }
      }

      return _protocol.call(this, v, build);
    };

    p.scheme = p.protocol;

    p.port = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v !== undefined) {
        if (v === 0) {
          v = null;
        }

        if (v) {
          v += '';

          if (v.charAt(0) === ':') {
            v = v.substring(1);
          }

          if (v.match(/[^0-9]/)) {
            throw new TypeError('Port "' + v + '" contains characters other than [0-9]');
          }
        }
      }

      return _port.call(this, v, build);
    };

    p.hostname = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v !== undefined) {
        var x = {};
        var res = URI.parseHost(v, x);

        if (res !== '/') {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }

        v = x.hostname;
      }

      return _hostname.call(this, v, build);
    }; // compound accessors


    p.origin = function (v, build) {
      var parts;

      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        var protocol = this.protocol();
        var authority = this.authority();
        if (!authority) return '';
        return (protocol ? protocol + '://' : '') + this.authority();
      } else {
        var origin = URI(v);
        this.protocol(origin.protocol()).authority(origin.authority()).build(!build);
        return this;
      }
    };

    p.host = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        return this._parts.hostname ? URI.buildHost(this._parts) : '';
      } else {
        var res = URI.parseHost(v, this._parts);

        if (res !== '/') {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }

        this.build(!build);
        return this;
      }
    };

    p.authority = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        return this._parts.hostname ? URI.buildAuthority(this._parts) : '';
      } else {
        var res = URI.parseAuthority(v, this._parts);

        if (res !== '/') {
          throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
        }

        this.build(!build);
        return this;
      }
    };

    p.userinfo = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined) {
        if (!this._parts.username) {
          return '';
        }

        var t = URI.buildUserinfo(this._parts);
        return t.substring(0, t.length - 1);
      } else {
        if (v[v.length - 1] !== '@') {
          v += '@';
        }

        URI.parseUserinfo(v, this._parts);
        this.build(!build);
        return this;
      }
    };

    p.resource = function (v, build) {
      var parts;

      if (v === undefined) {
        return this.path() + this.search() + this.hash();
      }

      parts = URI.parse(v);
      this._parts.path = parts.path;
      this._parts.query = parts.query;
      this._parts.fragment = parts.fragment;
      this.build(!build);
      return this;
    }; // fraction accessors


    p.subdomain = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      } // convenience, return "www" from "www.example.org"


      if (v === undefined) {
        if (!this._parts.hostname || this.is('IP')) {
          return '';
        } // grab domain and add another segment


        var end = this._parts.hostname.length - this.domain().length - 1;
        return this._parts.hostname.substring(0, end) || '';
      } else {
        var e = this._parts.hostname.length - this.domain().length;

        var sub = this._parts.hostname.substring(0, e);

        var replace = new RegExp('^' + escapeRegEx(sub));

        if (v && v.charAt(v.length - 1) !== '.') {
          v += '.';
        }

        if (v) {
          URI.ensureValidHostname(v);
        }

        this._parts.hostname = this._parts.hostname.replace(replace, v);
        this.build(!build);
        return this;
      }
    };

    p.domain = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (typeof v === 'boolean') {
        build = v;
        v = undefined;
      } // convenience, return "example.org" from "www.example.org"


      if (v === undefined) {
        if (!this._parts.hostname || this.is('IP')) {
          return '';
        } // if hostname consists of 1 or 2 segments, it must be the domain


        var t = this._parts.hostname.match(/\./g);

        if (t && t.length < 2) {
          return this._parts.hostname;
        } // grab tld and add another segment


        var end = this._parts.hostname.length - this.tld(build).length - 1;
        end = this._parts.hostname.lastIndexOf('.', end - 1) + 1;
        return this._parts.hostname.substring(end) || '';
      } else {
        if (!v) {
          throw new TypeError('cannot set domain empty');
        }

        URI.ensureValidHostname(v);

        if (!this._parts.hostname || this.is('IP')) {
          this._parts.hostname = v;
        } else {
          var replace = new RegExp(escapeRegEx(this.domain()) + '$');
          this._parts.hostname = this._parts.hostname.replace(replace, v);
        }

        this.build(!build);
        return this;
      }
    };

    p.tld = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (typeof v === 'boolean') {
        build = v;
        v = undefined;
      } // return "org" from "www.example.org"


      if (v === undefined) {
        if (!this._parts.hostname || this.is('IP')) {
          return '';
        }

        var pos = this._parts.hostname.lastIndexOf('.');

        var tld = this._parts.hostname.substring(pos + 1);

        if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {
          return SLD.get(this._parts.hostname) || tld;
        }

        return tld;
      } else {
        var replace;

        if (!v) {
          throw new TypeError('cannot set TLD empty');
        } else if (v.match(/[^a-zA-Z0-9-]/)) {
          if (SLD && SLD.is(v)) {
            replace = new RegExp(escapeRegEx(this.tld()) + '$');
            this._parts.hostname = this._parts.hostname.replace(replace, v);
          } else {
            throw new TypeError('TLD "' + v + '" contains characters other than [A-Z0-9]');
          }
        } else if (!this._parts.hostname || this.is('IP')) {
          throw new ReferenceError('cannot set TLD on non-domain host');
        } else {
          replace = new RegExp(escapeRegEx(this.tld()) + '$');
          this._parts.hostname = this._parts.hostname.replace(replace, v);
        }

        this.build(!build);
        return this;
      }
    };

    p.directory = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined || v === true) {
        if (!this._parts.path && !this._parts.hostname) {
          return '';
        }

        if (this._parts.path === '/') {
          return '/';
        }

        var end = this._parts.path.length - this.filename().length - 1;
        var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');
        return v ? URI.decodePath(res) : res;
      } else {
        var e = this._parts.path.length - this.filename().length;

        var directory = this._parts.path.substring(0, e);

        var replace = new RegExp('^' + escapeRegEx(directory)); // fully qualifier directories begin with a slash

        if (!this.is('relative')) {
          if (!v) {
            v = '/';
          }

          if (v.charAt(0) !== '/') {
            v = '/' + v;
          }
        } // directories always end with a slash


        if (v && v.charAt(v.length - 1) !== '/') {
          v += '/';
        }

        v = URI.recodePath(v);
        this._parts.path = this._parts.path.replace(replace, v);
        this.build(!build);
        return this;
      }
    };

    p.filename = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined || v === true) {
        if (!this._parts.path || this._parts.path === '/') {
          return '';
        }

        var pos = this._parts.path.lastIndexOf('/');

        var res = this._parts.path.substring(pos + 1);

        return v ? URI.decodePathSegment(res) : res;
      } else {
        var mutatedDirectory = false;

        if (v.charAt(0) === '/') {
          v = v.substring(1);
        }

        if (v.match(/\.?\//)) {
          mutatedDirectory = true;
        }

        var replace = new RegExp(escapeRegEx(this.filename()) + '$');
        v = URI.recodePath(v);
        this._parts.path = this._parts.path.replace(replace, v);

        if (mutatedDirectory) {
          this.normalizePath(build);
        } else {
          this.build(!build);
        }

        return this;
      }
    };

    p.suffix = function (v, build) {
      if (this._parts.urn) {
        return v === undefined ? '' : this;
      }

      if (v === undefined || v === true) {
        if (!this._parts.path || this._parts.path === '/') {
          return '';
        }

        var filename = this.filename();
        var pos = filename.lastIndexOf('.');
        var s, res;

        if (pos === -1) {
          return '';
        } // suffix may only contain alnum characters (yup, I made this up.)


        s = filename.substring(pos + 1);
        res = /^[a-z0-9%]+$/i.test(s) ? s : '';
        return v ? URI.decodePathSegment(res) : res;
      } else {
        if (v.charAt(0) === '.') {
          v = v.substring(1);
        }

        var suffix = this.suffix();
        var replace;

        if (!suffix) {
          if (!v) {
            return this;
          }

          this._parts.path += '.' + URI.recodePath(v);
        } else if (!v) {
          replace = new RegExp(escapeRegEx('.' + suffix) + '$');
        } else {
          replace = new RegExp(escapeRegEx(suffix) + '$');
        }

        if (replace) {
          v = URI.recodePath(v);
          this._parts.path = this._parts.path.replace(replace, v);
        }

        this.build(!build);
        return this;
      }
    };

    p.segment = function (segment, v, build) {
      var separator = this._parts.urn ? ':' : '/';
      var path = this.path();
      var absolute = path.substring(0, 1) === '/';
      var segments = path.split(separator);

      if (segment !== undefined && typeof segment !== 'number') {
        build = v;
        v = segment;
        segment = undefined;
      }

      if (segment !== undefined && typeof segment !== 'number') {
        throw new Error('Bad segment "' + segment + '", must be 0-based integer');
      }

      if (absolute) {
        segments.shift();
      }

      if (segment < 0) {
        // allow negative indexes to address from the end
        segment = Math.max(segments.length + segment, 0);
      }

      if (v === undefined) {
        /*jshint laxbreak: true */
        return segment === undefined ? segments : segments[segment];
        /*jshint laxbreak: false */
      } else if (segment === null || segments[segment] === undefined) {
        if (isArray(v)) {
          segments = []; // collapse empty elements within array

          for (var i = 0, l = v.length; i < l; i++) {
            if (!v[i].length && (!segments.length || !segments[segments.length - 1].length)) {
              continue;
            }

            if (segments.length && !segments[segments.length - 1].length) {
              segments.pop();
            }

            segments.push(trimSlashes(v[i]));
          }
        } else if (v || typeof v === 'string') {
          v = trimSlashes(v);

          if (segments[segments.length - 1] === '') {
            // empty trailing elements have to be overwritten
            // to prevent results such as /foo//bar
            segments[segments.length - 1] = v;
          } else {
            segments.push(v);
          }
        }
      } else {
        if (v) {
          segments[segment] = trimSlashes(v);
        } else {
          segments.splice(segment, 1);
        }
      }

      if (absolute) {
        segments.unshift('');
      }

      return this.path(segments.join(separator), build);
    };

    p.segmentCoded = function (segment, v, build) {
      var segments, i, l;

      if (typeof segment !== 'number') {
        build = v;
        v = segment;
        segment = undefined;
      }

      if (v === undefined) {
        segments = this.segment(segment, v, build);

        if (!isArray(segments)) {
          segments = segments !== undefined ? URI.decode(segments) : undefined;
        } else {
          for (i = 0, l = segments.length; i < l; i++) {
            segments[i] = URI.decode(segments[i]);
          }
        }

        return segments;
      }

      if (!isArray(v)) {
        v = typeof v === 'string' || v instanceof String ? URI.encode(v) : v;
      } else {
        for (i = 0, l = v.length; i < l; i++) {
          v[i] = URI.encode(v[i]);
        }
      }

      return this.segment(segment, v, build);
    }; // mutating query string


    var q = p.query;

    p.query = function (v, build) {
      if (v === true) {
        return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      } else if (typeof v === 'function') {
        var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
        var result = v.call(this, data);
        this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
        this.build(!build);
        return this;
      } else if (v !== undefined && typeof v !== 'string') {
        this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
        this.build(!build);
        return this;
      } else {
        return q.call(this, v, build);
      }
    };

    p.setQuery = function (name, value, build) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);

      if (typeof name === 'string' || name instanceof String) {
        data[name] = value !== undefined ? value : null;
      } else if (typeof name === 'object') {
        for (var key in name) {
          if (hasOwn.call(name, key)) {
            data[key] = name[key];
          }
        }
      } else {
        throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
      }

      this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

      if (typeof name !== 'string') {
        build = value;
      }

      this.build(!build);
      return this;
    };

    p.addQuery = function (name, value, build) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      URI.addQuery(data, name, value === undefined ? null : value);
      this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

      if (typeof name !== 'string') {
        build = value;
      }

      this.build(!build);
      return this;
    };

    p.removeQuery = function (name, value, build) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      URI.removeQuery(data, name, value);
      this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

      if (typeof name !== 'string') {
        build = value;
      }

      this.build(!build);
      return this;
    };

    p.hasQuery = function (name, value, withinArray) {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      return URI.hasQuery(data, name, value, withinArray);
    };

    p.setSearch = p.setQuery;
    p.addSearch = p.addQuery;
    p.removeSearch = p.removeQuery;
    p.hasSearch = p.hasQuery; // sanitizing URLs

    p.normalize = function () {
      if (this._parts.urn) {
        return this.normalizeProtocol(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
      }

      return this.normalizeProtocol(false).normalizeHostname(false).normalizePort(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
    };

    p.normalizeProtocol = function (build) {
      if (typeof this._parts.protocol === 'string') {
        this._parts.protocol = this._parts.protocol.toLowerCase();
        this.build(!build);
      }

      return this;
    };

    p.normalizeHostname = function (build) {
      if (this._parts.hostname) {
        if (this.is('IDN') && punycode) {
          this._parts.hostname = punycode.toASCII(this._parts.hostname);
        } else if (this.is('IPv6') && IPv6) {
          this._parts.hostname = IPv6.best(this._parts.hostname);
        }

        this._parts.hostname = this._parts.hostname.toLowerCase();
        this.build(!build);
      }

      return this;
    };

    p.normalizePort = function (build) {
      // remove port of it's the protocol's default
      if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {
        this._parts.port = null;
        this.build(!build);
      }

      return this;
    };

    p.normalizePath = function (build) {
      var _path = this._parts.path;

      if (!_path) {
        return this;
      }

      if (this._parts.urn) {
        this._parts.path = URI.recodeUrnPath(this._parts.path);
        this.build(!build);
        return this;
      }

      if (this._parts.path === '/') {
        return this;
      }

      var _was_relative;

      var _leadingParents = '';

      var _parent, _pos; // handle relative paths


      if (_path.charAt(0) !== '/') {
        _was_relative = true;
        _path = '/' + _path;
      } // handle relative files (as opposed to directories)


      if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {
        _path += '/';
      } // resolve simples


      _path = _path.replace(/(\/(\.\/)+)|(\/\.$)/g, '/').replace(/\/{2,}/g, '/'); // remember leading parents

      if (_was_relative) {
        _leadingParents = _path.substring(1).match(/^(\.\.\/)+/) || '';

        if (_leadingParents) {
          _leadingParents = _leadingParents[0];
        }
      } // resolve parents


      while (true) {
        _parent = _path.indexOf('/..');

        if (_parent === -1) {
          // no more ../ to resolve
          break;
        } else if (_parent === 0) {
          // top level cannot be relative, skip it
          _path = _path.substring(3);
          continue;
        }

        _pos = _path.substring(0, _parent).lastIndexOf('/');

        if (_pos === -1) {
          _pos = _parent;
        }

        _path = _path.substring(0, _pos) + _path.substring(_parent + 3);
      } // revert to relative


      if (_was_relative && this.is('relative')) {
        _path = _leadingParents + _path.substring(1);
      }

      _path = URI.recodePath(_path);
      this._parts.path = _path;
      this.build(!build);
      return this;
    };

    p.normalizePathname = p.normalizePath;

    p.normalizeQuery = function (build) {
      if (typeof this._parts.query === 'string') {
        if (!this._parts.query.length) {
          this._parts.query = null;
        } else {
          this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));
        }

        this.build(!build);
      }

      return this;
    };

    p.normalizeFragment = function (build) {
      if (!this._parts.fragment) {
        this._parts.fragment = null;
        this.build(!build);
      }

      return this;
    };

    p.normalizeSearch = p.normalizeQuery;
    p.normalizeHash = p.normalizeFragment;

    p.iso8859 = function () {
      // expect unicode input, iso8859 output
      var e = URI.encode;
      var d = URI.decode;
      URI.encode = escape;
      URI.decode = decodeURIComponent;

      try {
        this.normalize();
      } finally {
        URI.encode = e;
        URI.decode = d;
      }

      return this;
    };

    p.unicode = function () {
      // expect iso8859 input, unicode output
      var e = URI.encode;
      var d = URI.decode;
      URI.encode = strictEncodeURIComponent;
      URI.decode = unescape;

      try {
        this.normalize();
      } finally {
        URI.encode = e;
        URI.decode = d;
      }

      return this;
    };

    p.readable = function () {
      var uri = this.clone(); // removing username, password, because they shouldn't be displayed according to RFC 3986

      uri.username('').password('').normalize();
      var t = '';

      if (uri._parts.protocol) {
        t += uri._parts.protocol + '://';
      }

      if (uri._parts.hostname) {
        if (uri.is('punycode') && punycode) {
          t += punycode.toUnicode(uri._parts.hostname);

          if (uri._parts.port) {
            t += ':' + uri._parts.port;
          }
        } else {
          t += uri.host();
        }
      }

      if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {
        t += '/';
      }

      t += uri.path(true);

      if (uri._parts.query) {
        var q = '';

        for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {
          var kv = (qp[i] || '').split('=');
          q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace).replace(/&/g, '%26');

          if (kv[1] !== undefined) {
            q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace).replace(/&/g, '%26');
          }
        }

        t += '?' + q.substring(1);
      }

      t += URI.decodeQuery(uri.hash(), true);
      return t;
    }; // resolving relative and absolute URLs


    p.absoluteTo = function (base) {
      var resolved = this.clone();
      var properties = ['protocol', 'username', 'password', 'hostname', 'port'];
      var basedir, i, p;

      if (this._parts.urn) {
        throw new Error('URNs do not have any generally defined hierarchical components');
      }

      if (!(base instanceof URI)) {
        base = new URI(base);
      }

      if (!resolved._parts.protocol) {
        resolved._parts.protocol = base._parts.protocol;
      }

      if (this._parts.hostname) {
        return resolved;
      }

      for (i = 0; p = properties[i]; i++) {
        resolved._parts[p] = base._parts[p];
      }

      if (!resolved._parts.path) {
        resolved._parts.path = base._parts.path;

        if (!resolved._parts.query) {
          resolved._parts.query = base._parts.query;
        }
      } else if (resolved._parts.path.substring(-2) === '..') {
        resolved._parts.path += '/';
      }

      if (resolved.path().charAt(0) !== '/') {
        basedir = base.directory();
        basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';
        resolved._parts.path = (basedir ? basedir + '/' : '') + resolved._parts.path;
        resolved.normalizePath();
      }

      resolved.build();
      return resolved;
    };

    p.relativeTo = function (base) {
      var relative = this.clone().normalize();
      var relativeParts, baseParts, common, relativePath, basePath;

      if (relative._parts.urn) {
        throw new Error('URNs do not have any generally defined hierarchical components');
      }

      base = new URI(base).normalize();
      relativeParts = relative._parts;
      baseParts = base._parts;
      relativePath = relative.path();
      basePath = base.path();

      if (relativePath.charAt(0) !== '/') {
        throw new Error('URI is already relative');
      }

      if (basePath.charAt(0) !== '/') {
        throw new Error('Cannot calculate a URI relative to another relative URI');
      }

      if (relativeParts.protocol === baseParts.protocol) {
        relativeParts.protocol = null;
      }

      if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {
        return relative.build();
      }

      if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {
        return relative.build();
      }

      if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {
        relativeParts.hostname = null;
        relativeParts.port = null;
      } else {
        return relative.build();
      }

      if (relativePath === basePath) {
        relativeParts.path = '';
        return relative.build();
      } // determine common sub path


      common = URI.commonPath(relativePath, basePath); // If the paths have nothing in common, return a relative URL with the absolute path.

      if (!common) {
        return relative.build();
      }

      var parents = baseParts.path.substring(common.length).replace(/[^\/]*$/, '').replace(/.*?\//g, '../');
      relativeParts.path = parents + relativeParts.path.substring(common.length) || './';
      return relative.build();
    }; // comparing URIs


    p.equals = function (uri) {
      var one = this.clone();
      var two = new URI(uri);
      var one_map = {};
      var two_map = {};
      var checked = {};
      var one_query, two_query, key;
      one.normalize();
      two.normalize(); // exact match

      if (one.toString() === two.toString()) {
        return true;
      } // extract query string


      one_query = one.query();
      two_query = two.query();
      one.query('');
      two.query(''); // definitely not equal if not even non-query parts match

      if (one.toString() !== two.toString()) {
        return false;
      } // query parameters have the same length, even if they're permuted


      if (one_query.length !== two_query.length) {
        return false;
      }

      one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);
      two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);

      for (key in one_map) {
        if (hasOwn.call(one_map, key)) {
          if (!isArray(one_map[key])) {
            if (one_map[key] !== two_map[key]) {
              return false;
            }
          } else if (!arraysEqual(one_map[key], two_map[key])) {
            return false;
          }

          checked[key] = true;
        }
      }

      for (key in two_map) {
        if (hasOwn.call(two_map, key)) {
          if (!checked[key]) {
            // two contains a parameter not present in one
            return false;
          }
        }
      }

      return true;
    }; // state


    p.duplicateQueryParameters = function (v) {
      this._parts.duplicateQueryParameters = !!v;
      return this;
    };

    p.escapeQuerySpace = function (v) {
      this._parts.escapeQuerySpace = !!v;
      return this;
    };

    return URI;
  });
}.call(this, module);
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"collection_helpers.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesHandler = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText, marked;

marked = require("marked");
InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						{{#if is_textarea}}\n							<textarea title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\"></textarea>\n						{{/if}}\n						{{#unless is_textarea}}\n							<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						{{/unless}}\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.createTracesHanlder = function (steedosData) {
  var tracesHanlderCompiled, tracesHanlderHtml, tracesHanlderRenderFunction;
  tracesHanlderHtml = _getViewHtml('client/views/instance/traces_handler.html');
  tracesHanlderCompiled = SpacebarsCompiler.compile(tracesHanlderHtml, {
    isBody: true
  });
  tracesHanlderRenderFunction = eval(tracesHanlderCompiled);
  Template.instance_traces_handler = new Blaze.Template("instance_traces_handler", tracesHanlderRenderFunction);
  Template.instance_traces_handler.steedosData = steedosData;
  return Template.instance_traces_handler.helpers(TracesHandler.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    InstanceReadOnlyTemplate.createTracesHanlder(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);

    if (!/^http(s?):\/\//.test(detail_url)) {
      detail_url = Steedos.absoluteUrl(detail_url);
    }

    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, fieldOptions, hours, month, seconds, selectedOption, selectedOptions, splitedValues, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  if (["select", "multiSelect", "radio"].indexOf(field.type) > -1) {
    fieldOptions = field.options.split("\n").map(function (n) {
      var itemSplits;
      itemSplits = n.split(":");
      return {
        label: itemSplits[0],
        value: itemSplits[1] || n
      };
    });
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(marked.parse(value));
      }

      break;

    case 'select':
      selectedOption = fieldOptions.find(function (item) {
        return item.value === value;
      });

      if (selectedOption) {
        value = selectedOption.label;
      }

      break;

    case 'radio':
      selectedOption = fieldOptions.find(function (item) {
        return item.value === value;
      });

      if (selectedOption) {
        value = selectedOption.label;
      }

      break;

    case 'multiSelect':
      splitedValues = value.split(",");
      selectedOptions = fieldOptions.filter(function (item) {
        return splitedValues.indexOf(item.value) > -1;
      });

      if (selectedOptions.length) {
        value = selectedOptions.map(function (item) {
          return item.label;
        }).join(",");
      }

      break;

    case 'number':
      if (value || value === 0) {
        value = Steedos.numberToString(value, field.digits);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

      break;

    case 'html':
      value = value ? "<div class=\"steedos-html\">" + value + "</div>" : '';
  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, locale, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  locale = _getLocale(user);
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email' || (options != null ? options.editable : void 0)) {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>" + TAPi18n.__('instance_attachment', {}, locale) + "</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + TAPi18n.__('instance_approval_history', {}, locale) + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b && b.checked && t){\n		t.style = 'display: block;'\n	} else if(t){\n		t.style = 'display: none;'\n	}\n	if(b){\n		b.addEventListener('change', function(e){\n			if (e.target.checked){\n				t.style = 'display: block;'\n			} else {\n				t.style = 'display: none;'\n			}\n		});\n	}\n\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox && attachmentsCheckbox.checked && attachmentsView){\n		attachmentsView.style = 'display: block;'\n	} else if(attachmentsView){\n		attachmentsView.style = 'display: none;'\n	}\n	if(attachmentsCheckbox){\n		attachmentsCheckbox.addEventListener('change', function(e){\n			if (e.target.checked){\n				attachmentsView.style = 'display: block;'\n			} else {\n				attachmentsView.style = 'display: none;'\n			}\n		});\n	}\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0], sf_name, fieldVal[sf.code])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable, sfieldsEditable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable, sfieldsEditable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable, sfieldsEditable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable || sfieldsEditable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    var fieldOptions = [];

    if (["select", "multiSelect", "radio"].indexOf(field.type) > -1) {
      fieldOptions = field.options.split("\n").map(function (n) {
        var itemSplits = n.split(":");
        return {
          label: itemSplits[0],
          value: itemSplits[1] || n
        };
      });
    }

    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'select':
        var selectedOption = fieldOptions.find(function (item) {
          return item.value == value;
        });

        if (selectedOption) {
          td_value = selectedOption.label;
        }

        break;

      case 'radio':
        var selectedOption = fieldOptions.find(function (item) {
          return item.value == value;
        });

        if (selectedOption) {
          td_value = selectedOption.label;
        }

        break;

      case 'multiSelect':
        var splitedValues = value.split(",");
        var selectedOptions = fieldOptions.filter(function (item) {
          return splitedValues.indexOf(item.value) > -1;
        });

        if (selectedOptions.length) {
          td_value = selectedOptions.map(function (item) {
            return item.label;
          }).join(",");
        }

        break;

      case 'number':
        if (value || value == 0) {
          td_value = Steedos.numberToString(value, field.digits);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable || template.data.atts.sfieldsEditable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var sfieldsEditable = this.data.atts.sfieldsEditable;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable, sfieldsEditable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }

    var c = InstanceManager.getCurrentStep();

    if (c.step_type == 'counterSign' || InstanceManager.ccHasEditPermission()) {
      this.autorun(function () {
        var data = Template.currentData();
        var field = data.name;
        var keys = SteedosTable.getKeys(field);
        var validValue = SteedosTable.handleData(field, data.value);
        SteedosTable.setTableValue(field, validValue);
        $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), data.atts.editable, sfieldsEditable));
      });
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_handler.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_handler.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesHandler.helpers = {
  showSignImage: function (handler, is_finished, judge) {
    var spaceUserSign;

    if (!is_finished) {
      return false;
    }

    if (['returned', 'terminated', 'retrieved'].includes(judge)) {
      return false;
    }

    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      return true;
    } else {
      return false;
    }
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    if (markDownString) {
      return Spacebars.SafeString(marked.parse(markDownString));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, insertDoc, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    insertDoc = AutoForm.getFormValues("instanceform", void 0, void 0, false);
    Form_formula.run("", "", formula_fields, insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  flow_files: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    });
  },
  isDraftAndFlowfilesExist: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    return Session.get('box') == 'draft' && !!cfs.files.find({
      'metadata.space': ins.space,
      'metadata.object_name': 'flows',
      'metadata.record_id': ins.flow
    }).count();
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      var ref3;

      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup) && !approve.is_finished || ((ref3 = Meteor.settings["public"].workflow) != null ? ref3.showBlankApproveDescription : void 0))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    var ref;
    return InstanceformTemplate.helpers.unempty(val) || ((ref = Meteor.settings["public"].workflow) != null ? ref.showBlankApproveDescription : void 0);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    if (markDownString) {
      return Spacebars.SafeString(marked.parse(markDownString));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign, judge) {
    var spaceUserSign;

    if (['returned', 'terminated', 'retrieved'].includes(judge)) {
      return false;
    }

    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge, autoSubmitted) {
    var approveStatusIcon;

    if (autoSubmitted === true) {
      return 'ion ion-android-alarm-clock';
    }

    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge, autoSubmitted) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (autoSubmitted === true) {
      return TAPi18n.__('instance_approve_timeout_auto_submitted', {}, locale);
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  getApproveJudgeClass: function (approveJudge, autoSubmitted) {
    if (autoSubmitted === true) {
      return 'autoSubmitted';
    }

    return approveJudge;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    if (markDownString) {
      return Spacebars.SafeString(marked.parse(markDownString));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user = user._id;
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  },
  objectUrl: function (object_name, record_id, app_id) {
    return Creator.getObjectUrl(object_name, record_id, app_id);
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      return Modal.show("instance_trace_detail_modal", this);
    }
  },
  'click .approve-item a.btn-link,.approve-description a.btn-link,.approve-item-distribute a.btn-link': function (event, template) {
    var ref, userId;

    if (Steedos.isMobile()) {
      userId = (ref = event.target.dataset) != null ? ref.target_user_id : void 0;
      return Creator.openSafeObjectUrl('users', userId);
    }
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    if (!$(event.target).closest("a.btn-link").length) {
      event.stopPropagation();
      event.preventDefault();
      return false;
    }
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"routes":{"designer.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/designer.coffee                                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var DesignerAPI;
DesignerAPI = {
  getAbsoluteUrl: function (url) {
    var rootUrl;
    rootUrl = __meteor_runtime_config__ ? __meteor_runtime_config__.ROOT_URL_PATH_PREFIX : "";

    if (rootUrl) {
      url = rootUrl + url;
    }

    return url;
  },
  writeResponse: function (res, httpCode, body) {
    res.statusCode = httpCode;
    return res.end(body);
  },
  sendInvalidURLResponse: function (res) {
    return this.writeResponse(res, 404, "the param 'url' is required as querys.");
  },
  sendAuthTokenExpiredResponse: function (res) {
    return this.writeResponse(res, 401, "the auth_token has expired.");
  },
  sendHtmlResponse: function (req, res, type) {
    var error_msg, query, title, url;
    query = req.query;
    url = query.url;

    if (url) {
      url = decodeURIComponent(url);
    } else {
      DesignerAPI.sendInvalidURLResponse(res);
    }

    title = query.title;

    if (title) {
      title = decodeURIComponent(title);
    } else {
      title = "Steedos Designer";
    }

    error_msg = "";
    return this.writeResponse(res, 200, "<html>\n	<head>\n		<style>\n			html,body{\n				margin: 0;\n				padding: 0;\n				height: 100%;\n			}\n			body { \n				font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n				text-align: center;\n				background-color: #fff;\n			}\n			.loading{\n				position: absolute;\n				left: 0px;\n				right: 0px;\n				top: 50%;\n				z-index: -1;/*设置为-1，可以在iframe加载出来后自动消失*/\n				text-align: center;\n				margin-top: -30px;\n				font-size: 36px;\n				color: #dfdfdf;\n			}\n			.error-msg{\n				position: absolute;\n				left: 0px;\n				right: 0px;\n				bottom: 20px;\n				z-index: 1100;\n				text-align: center;\n				font-size: 20px;\n				color: #a94442;\n			}\n		</style>\n		<meta charset=\"utf-8\">\n		<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no\">\n		<title>" + title + "</title>\n		<link rel=\"icon\" type=\"image/png\" sizes=\"192x192\" href=\"" + this.getAbsoluteUrl("/favicons/android-chrome-192x192.png") + "\">\n		<link rel=\"manifest\" href=\"" + this.getAbsoluteUrl("/favicons/manifest.json") + "\">\n		<meta name=\"mobile-web-app-capable\" content=\"yes\">\n		<meta name=\"theme-color\" content=\"#000\">\n		<meta name=\"application-name\">\n		<link rel=\"apple-touch-icon\" sizes=\"57x57\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-57x57.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"60x60\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-60x60.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"72x72\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-72x72.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"76x76\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-76x76.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"114x114\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-114x114.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"120x120\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-120x120.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"144x144\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-144x144.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"152x152\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-152x152.png") + "\">\n		<link rel=\"apple-touch-icon\" sizes=\"180x180\" href=\"" + this.getAbsoluteUrl("/favicons/apple-touch-icon-180x180.png") + "\">\n		<meta name=\"apple-mobile-web-app-capable\" content=\"yes\">\n		<meta name=\"apple-mobile-web-app-status-bar-style\" content=\"black-translucent\">\n		<meta name=\"apple-mobile-web-app-title\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"228x228\" href=\"" + this.getAbsoluteUrl("/favicons/coast-228x228.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"16x16\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-16x16.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"32x32\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-32x32.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"96x96\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-96x96.png") + "\">\n		<link rel=\"icon\" type=\"image/png\" sizes=\"230x230\" href=\"" + this.getAbsoluteUrl("/favicons/favicon-230x230.png") + "\">\n		<link rel=\"shortcut icon\" href=\"" + this.getAbsoluteUrl("/favicons/favicon.ico") + "\">\n		<link rel=\"yandex-tableau-widget\" href=\"" + this.getAbsoluteUrl("/favicons/yandex-browser-manifest.json") + "\">\n		<meta name=\"msapplication-TileColor\" content=\"#fff\">\n		<meta name=\"msapplication-TileImage\" content=\"" + this.getAbsoluteUrl("/favicons/mstile-144x144.png") + "\">\n		<meta name=\"msapplication-config\" content=\"" + this.getAbsoluteUrl("/favicons/browserconfig.xml") + "\">\n		<meta property=\"twitter:image\" content=\"" + this.getAbsoluteUrl("/favicons/twitter.png") + "\">\n		<meta property=\"og:image\" content=\"" + this.getAbsoluteUrl("/favicons/open-graph.png") + "\">\n	</head>\n	<body>\n		<div class = \"loading\">Loading...</div>\n		<div class = \"error-msg\">" + error_msg + "</div>\n		<iframe id=\"ifrDesigner\" src=\"\" width=\"100%\" height=\"100%\" nwdisable=\"true\" frameborder=\"no\" border=\"0\" marginwidth=\"0\" marginheight=\"0\" scrolling=\"no\" allowtransparency=\"yes\"></iframe>\n		<script type=\"text/javascript\" src=\"" + this.getAbsoluteUrl("/lib/jquery/jquery-1.11.2.min.js") + "\"></script>\n		<script type=\"text/javascript\">\n			var designer = {\n				urlQuery:function(name){\n					var reg = new RegExp(\"(^|&)\" + name + \"=([^&]*)(&|$)\");\n					var r = window.location.search.substr(1).match(reg);\n					if (r != null) return unescape(r[2]);\n					return null;\n				},\n				run:function(){\n					var url = this.urlQuery(\"url\");\n					url = decodeURIComponent(url);\n					\n					if(url){\n						$(\"#ifrDesigner\").attr(\"src\",url);\n					}\n					var Steedos = window.opener.Steedos || null;\n					if (Steedos) {\n						Steedos.forbidNodeContextmenu(window);\n					}\n				}\n			};\n			$(function(){\n				designer.run();\n			});\n		</script>\n	<body>\n</html>");
  }
};
JsonRoutes.add('get', '/api/workflow/designer?url=:url', function (req, res, next) {
  return DesignerAPI.sendHtmlResponse(req, res);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, end_date, fields, fileName, flow, flow_id, flow_ids, form, form_name, formatDate, ins_to_xls, lang, last_month_date, now, query, ret, selector, space, space_id, start_date, str, table_fields, template, timezoneoffset, type, uid, utcOffset;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();
      selector = {
        space: space_id,
        flow: flow_id
      };
      selector.state = {
        $in: ["pending", "completed"]
      };
      uid = current_user_info._id;
      space = db.spaces.findOne(space_id);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(uid)) {
        flow_ids = WorkflowManager.getMyAdminOrMonitorFlows(space_id, uid);

        if (!flow_ids.includes(selector.flow)) {
          selector.$or = [{
            submitter: uid
          }, {
            applicant: uid
          }, {
            inbox_users: uid
          }, {
            outbox_users: uid
          }];
        }
      }

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        selector.submit_date = {
          $gte: start_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        selector.submit_date = {
          $gte: start_date,
          $lte: end_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        selector.submit_date = {
          $gte: start_date
        };
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find(selector, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      utcOffset = timezoneoffset / -60;

      formatDate = function (date, formater) {
        return moment(date).utcOffset(utcOffset).format(formater);
      };

      ret = template({
        lang: lang,
        formatDate: formatDate,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours, space_id);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              var fieldOptions = f.options && f.options.split && f.options.split("\n").map(function (n) {
                var itemSplits = n.split(":");
                return {
                  label: itemSplits[0],
                  value: itemSplits[1] || n
                };
              }); // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内

              if (f.type == 'select' || f.type == 'radio') {
                var selectedOption = fieldOptions.find(function (item) {
                  return item.value === old_v;
                });

                if (!selectedOption) {
                  return;
                }
              }

              if (f.type == 'multiSelect') {
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(fieldOptions.map(function (n) {
                  return n.value;
                }), old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  var fieldOptions = f.options && f.options.split && f.options.split("\n").map(function (n) {
                    var itemSplits = n.split(":");
                    return {
                      label: itemSplits[0],
                      value: itemSplits[1] || n
                    };
                  }); // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内

                  if (f.type == 'select' || f.type == 'radio') {
                    var selectedOption = fieldOptions.find(function (item) {
                      return item.value === old_v;
                    });

                    if (!selectedOption) {
                      return;
                    }
                  }

                  if (f.type == 'multiSelect') {
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(fieldOptions.map(function (n) {
                      return n.value;
                    }), old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (old_table_row_values._id) {
              new_table_row_values._id = new Mongo.ObjectID()._str;
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          var fieldOptions = field.options && field.options.split && field.options.split("\n").map(function (n) {
            var itemSplits = n.split(":");
            return {
              label: itemSplits[0],
              value: itemSplits[1] || n
            };
          });

          if (field.type == 'select' || field.type == 'radio') {
            var selectedOption = fieldOptions.find(function (item) {
              return item.value === old_v;
            });

            if (!selectedOption) {
              return;
            }
          }

          if (field.type == 'multiSelect') {
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(fieldOptions.map(function (n) {
              return n.value;
            }), old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      try {
        var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
        var rev = eval(iscript);
        instance_name = rev || flow.name;
      } catch (error) {
        throw new Meteor.Error('caculate_instance_name', "计算申请单标题出错请检查表单标题脚本。");
      }
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 流程转发功能修改为，开始节点有编辑权限的字段的值进行复制，无编辑权限的字段值不进行复制 #3748


    if (action_type === 'forward') {
      new_values = uuflowManager.getApproveValues(new_values, start_step.permissions, flow.form, flow.current.form_version);
    } // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;

      if (category_name) {
        ins_obj.category_name = category.name;
        ins_obj.category = category._id;
      }

      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true,
          showTrace: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      }

      if (action_type === 'distribute') {
        // 给当前的申请单增加分发记录
        var appr = {
          '_id': new Mongo.ObjectID()._str,
          'instance': instance_id,
          'trace': current_trace_id,
          'is_finished': true,
          'user': user_id,
          'user_name': user_info.name,
          'handler': user_id,
          'handler_name': user_info.name,
          'handler_organization': space_user.organization,
          'handler_organization_name': space_user_org_info.name,
          'handler_organization_fullname': space_user_org_info.fullname,
          'type': action_type,
          'start_date': new Date(),
          'finish_date': new Date(),
          'is_read': false,
          'judge': 'submitted',
          'from_user': current_user_id,
          'from_user_name': from_user_name,
          'forward_space': space_id,
          'forward_instance': new_ins_id,
          'description': description,
          'from_approve_id': from_approve_id
        };
        forward_approves.push(appr);
      }

      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    if (!_.isEmpty(forward_approves)) {
      set_obj.modified = new Date();
      set_obj.modified_by = current_user_id;
      var r = db.instances.update({
        _id: instance_id,
        "traces._id": current_trace_id
      }, {
        $set: set_obj,
        $addToSet: {
          'traces.$.approves': {
            $each: forward_approves
          }
        }
      });
    }

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        new_ins_ids: new_ins_ids
      }
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, redirectToUrl, ref, ref1, ref2, req_async, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    req_async = _.has(req.query, 'async');
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = "workflow/space/" + spaceId + "/" + box + "/" + insId;
    redirectToUrl = Meteor.absoluteUrl(redirectTo);

    if (req_async) {
      return res.status(200).send({
        "status": 302,
        "redirect": redirectTo
      });
    } else {
      res.setHeader("Location", redirectToUrl);
      res.writeHead(302);
      res.end();
    }
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!space) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- No permission",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id, current_user) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (process.env.CREATOR_NODE_ENV === 'development') {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"server":{"methods":{"set_instance_step_approve.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve, stepsApprovesOptions) {
    var _keys1, _keys2, ins, keys, stepsApproves;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    _keys1 = _.keys(step_approve);
    _keys2 = _.keys(stepsApprovesOptions);
    keys = _.compact(_.union(_keys1, _keys2));
    stepsApproves = {};

    _.each(keys, function (stepId) {
      var stepApproves, stepsApproveOptions;
      stepApproves = step_approve[stepId];
      stepsApproveOptions = stepsApprovesOptions[stepId];

      if (stepApproves) {
        stepsApproves[stepId] = stepApproves;

        if (stepsApproveOptions) {
          if (_.isArray(stepApproves)) {
            stepsApproveOptions = stepApproves.concat(stepsApproveOptions);
          } else {
            stepsApproveOptions.push(stepApproves);
          }
        }
      }

      if (stepsApproveOptions) {
        return stepsApproves[stepId + '_options'] = _.uniq(stepsApproveOptions);
      }
    });

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: stepsApproves
      }
    });
  },
  set_instance_skip_steps: function (ins_id, stepId, action) {
    if (action === 'pull') {
      return db.instances.update({
        _id: ins_id
      }, {
        $pull: {
          skip_steps: stepId
        }
      });
    } else if (action === 'push') {
      return db.instances.update({
        _id: ins_id
      }, {
        $push: {
          skip_steps: stepId
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    return uuflowManager.draft_save_instance(ins, this.userId);
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1,
        code: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description, myApprove, ccHasEditPermission) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id);
    var traces = instance.traces;
    var current_user_id = this.userId;
    var flow = uuflowManager.getFlow(instance.flow);
    var values = myApprove.values || {};
    var approve_id = myApprove._id;
    var myTrace;

    for (let tidx = 0; tidx < traces.length; tidx++) {
      const t = traces[tidx];

      if (t.approves) {
        for (let aidx = 0; aidx < t.approves.length; aidx++) {
          const a = t.approves[aidx];

          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            var upobj = {};
            var key_str = 'traces.$.approves.' + aidx + '.';
            upobj[key_str + 'is_finished'] = true;
            upobj[key_str + 'is_read'] = true;
            upobj[key_str + 'finish_date'] = new Date();
            upobj[key_str + 'judge'] = "submitted";
            upobj[key_str + 'cost_time'] = new Date() - a.start_date;

            if (approve_id == a._id && !t.is_finished && ccHasEditPermission) {
              myTrace = t;
              var step = uuflowManager.getStep(instance, flow, t.step);
              upobj[key_str + "values"] = uuflowManager.getApproveValues(values, step["permissions"], instance.form, instance.form_version);
            } //设置意见，意见只添加到最后一条approve中


            if (approve_id == a._id) {
              upobj[key_str + 'description'] = description;
            }

            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        }
      }
    }

    if (myApprove) {
      setObj.modified = new Date();
      setObj.modified_by = this.userId;

      if (ccHasEditPermission && myApprove && !myTrace.is_finished) {
        var ins = uuflowManager.getInstance(ins_id);
        var updated_values = uuflowManager.getUpdatedValues(ins, approve_id);
        setObj.values = updated_values;
        setObj.name = uuflowManager.getInstanceName(instance);
      }

      db.instances.update({
        _id: ins_id,
        'traces._id': myApprove.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, myApprove.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && myApprove && myApprove.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [myApprove.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, myApprove, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description, myApprove, ccHasEditPermission) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id);
    var traces = instance.traces;
    var current_user_id = this.userId;
    var myTrace;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0;
    var currentStepId; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (myApprove && t._id === myApprove.trace) {
        currentStepId = t.step;
        myTrace = t;

        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === myApprove._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    var updateObj = {};

    if (ccHasEditPermission && myApprove && !myTrace.is_finished) {
      var key_str = 'traces.$.approves.' + index + '.';
      var flow = uuflowManager.getFlow(instance.flow);
      var step = uuflowManager.getStep(instance, flow, currentStepId);
      var permissions_values = uuflowManager.getApproveValues(myApprove.values, step.permissions, instance.form, instance.form_version);
      var change_values = approveManager.getChangeValues(instance.values, permissions_values);
      setObj.values = _.extend(instance.values || {}, permissions_values);

      if (!_.isEmpty(change_values)) {
        var pushObj = {};
        pushObj[key_str + 'values_history'] = {
          values: change_values,
          create: new Date()
        };
        updateObj.$push = pushObj;
      }

      setObj.name = uuflowManager.getInstanceName(instance);
    }

    updateObj.$set = setObj;
    db.instances.update({
      _id: ins_id,
      'traces._id': myApprove.trace
    }, updateObj);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var currentApproveDescription, currentStep, currentTrace, ins, instance, ref, ref1, ref2, ref3, session_userId, showBlankApproveDescription, trace, traces, trimDescription, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    trimDescription = description.trim();
    showBlankApproveDescription = (ref = Meteor.settings["public"].workflow) != null ? ref.showBlankApproveDescription : void 0;
    session_userId = this.userId;

    if (lastSignApprove) {
      if (((ref1 = Meteor.settings["public"].workflow) != null ? ref1.keepLastSignApproveDescription : void 0) !== false) {
        if (lastSignApprove.custom_sign_show) {
          return;
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref2 = instance.traces) != null ? ref2.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      currentApproveDescription = '';
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          currentApproveDescription = approve.description;

          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = trimDescription || showBlankApproveDescription ? true : false;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (((ref3 = Meteor.settings["public"].workflow) != null ? ref3.keepLastSignApproveDescription : void 0) === false && (!!currentApproveDescription !== !!trimDescription || showBlankApproveDescription)) {
        ins = db.instances.findOne({
          _id: instanceId
        }, {
          fields: {
            "traces": 1
          }
        });
        traces = ins.traces;
        currentTrace = _.find(traces, function (t) {
          return t._id === traceId;
        });
        currentStep = currentTrace.step;
        traces.forEach(function (t, tIdx) {
          if (t.step === currentStep) {
            return t != null ? t.approves.forEach(function (appr, aIdx) {
              if (appr.handler === session_userId && appr.is_finished && appr._id !== approveId && !_.has(appr, 'custom_sign_show')) {
                if (trimDescription && appr.sign_show === true && (sign_field_code === "" || !appr.sign_field_code || sign_field_code === appr.sign_field_code) || showBlankApproveDescription) {
                  upObj["traces." + tIdx + ".approves." + aIdx + ".sign_show"] = false;
                  return upObj["traces." + tIdx + ".approves." + aIdx + ".keepLastSignApproveDescription"] = approveId;
                } else if (appr.keepLastSignApproveDescription === approveId) {
                  upObj["traces." + tIdx + ".approves." + aIdx + ".sign_show"] = true;
                  return upObj["traces." + tIdx + ".approves." + aIdx + ".keepLastSignApproveDescription"] = null;
                }
              }
            }) : void 0;
          }
        });
      }

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours, space_id);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });

      pushManager.triggerWebhook(instance.flow, instance, {}, 'return', current_user, instance.inbox_users);
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function module(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, padding, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    padding = function (num, length) {
      var diff, len;
      len = (num + '').length;
      diff = length - len;

      if (diff > 0) {
        return Array(diff + 1).join('0') + num;
      }

      return num;
    };

    context.NUMBER = padding(_.clone(_NUMBER), 5);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }, {
        inbox_users: this.userId
      }, {
        cc_users: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var excuteTriggers, serviceWorkflow;
serviceWorkflow = require('@steedos/service-workflow');
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id, login_user_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approveHrRoleIds, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && !_.isEmpty(instance.step_approve[step_id + "_options"])) {
    return instance.step_approve[step_id + "_options"];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        users = getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "hrRole") {
    approveHrRoleIds = current_step.approver_hr_roles;

    if (approveHrRoleIds) {
      users = _.pluck(WorkflowManager.getHrRolesUsers(space_id, approveHrRoleIds), 'user');
    } else {
      throw new Meteor.Error('error!', "角色未指定");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      users = new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      users = getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    users = _.uniq(user_ids);
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      users = getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    users = _.uniq(user_ids);
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    users = getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    users = _.uniq(approve_users);
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          users = getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      users = new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    users = new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    users = new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    users = next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    users = applicantSuperiors;
  }

  if (serviceWorkflow) {
    excuteTriggers(login_user_id, flow_id, instance_id, current_step, users);
  }

  return users;
};

excuteTriggers = function (userId, flowId, insId, nextStep, nextUserIds) {
  return Meteor.wrapAsync(function (userId, flowId, insId, nextStep, nextUserIds, cb) {
    return serviceWorkflow.settings.excuteTriggers({
      when: 'cacluateNextStepUsers',
      userId: userId,
      flowId: flowId,
      insId: insId,
      nextStep: nextStep,
      nextUserIds: nextUserIds
    }).then(function (resolve, reject) {
      return cb(reject, resolve);
    });
  })(userId, flowId, insId, nextStep, nextUserIds);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function module(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, judge, my_approve, nextSteps, next_user_ids, step, step_type, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    step_type = step.step_type;
    judge = step_type === "sign" ? "approved" : "";
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, judge);

    if (nextSteps.length === 1) {
      if (step_type === "sign" || step_type === "counterSign") {
        my_approve.judge = 'approved';
      }

      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0], userId);

      if (!next_user_ids) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: []
        }];
        return my_approve;
      }

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1,
    current_step_name: 1,
    flow_name: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow, myApprove;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);
    myApprove = InstanceManager.getMyApprove(ins._id, inbox_user);

    if (stepManager.allowBatch(currentStep) && myApprove) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      ins.approve_start_date = myApprove.start_date;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1,
      allow_select_step: 1
    }
  });
});
Meteor.publish('flow_files', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return cfs.files.find({
    'metadata.space': spaceId,
    'metadata.object_name': 'flows',
    'metadata.record_id': flowId
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!(instanceId && db.instances.find({
    _id: instanceId
  }).count())) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates', 'values'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var error, instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;

      try {
        return self.changed("instances", id, instance);
      } catch (error1) {
        error = error1;
        console.log('instance observeChanges error: ', error.message);
        console.log('self.userId: ', self.userId);
        console.log('tableName: ', tableName);
        console.log('ids: ', JSON.stringify(ids));
        return console.log('myApprove: ', JSON.stringify(myApprove));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: auto_finish_process_delegation.coffee');
      return console.log(e.stack);
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function module(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function (e) {
      console.log('Failed to bind environment: timeout_auto_submit.coffee');
      return console.log(e.stack);
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"related_instances_tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function module(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/URI.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_handler.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/routes/designer.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9saWIvVVJJLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvbGliL2NvcmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9tb2RlbHMvYXV0aF90b2tlbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC9saWIvaW5zdGFuY2VfcmVhZG9ubHlfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L2NsaWVudC9jb3JlZm9ybS9pbnB1dFR5cGVzL2NvcmVmb3JtLXRhYmxlL3N0ZWVkb3MtdGFibGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oYW5kbGVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL190cmFjZXNfaGFuZGxlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2Rlc2lnbmVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2Rlc2lnbmVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvZ2V0U3BhY2VVc2Vycy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvZ2V0Rm9ybXVsYVVzZXJPYmplY3RzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3JvdXRlcy9pbml0X2Zvcm11bGFfdmFsdWVzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9nZXROYW1lRm9yVXNlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9nZXROYW1lRm9yVXNlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9kZXNpZ25lcl9zdGFydHVwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9kZXNpZ25lcl9zdGFydHVwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVtb3ZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlYXNzaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19hcmNoaXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19hcmNoaXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2V4cG9ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZXhwb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3NwYWNlX2NoYW5nZXNldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfc3BhY2VfY2hhbmdlc2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X3JldHJpZXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19yZXRyaWV2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fcGVuZGluZy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9wZW5kaW5nLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvZXhwb3J0X3RhYmxlX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2V4cG9ydF90YWJsZV90ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3NhdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc2F2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldF9ieV9zdGVwbmFtZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXRfYnlfc3RlcG5hbWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9jZnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fY2ZzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3RhYmxlX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF90YWJsZV9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfc3ViX3RhYmxlX3NvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3N1Yl90YWJsZV9zb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvdGVzdF93ZWJob29rLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL3Rlc3Rfd2ViaG9vay5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9mb3JtdWxhX3VzZXJzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9mb3JtdWxhX3VzZXJzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX2Zvcm11bGFfb3JnYW5pemF0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZm9ybXVsYV9vcmdhbml6YXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9zZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZ2V0X2luc3RhbmNlX2RhdGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2F2ZV9pbnN0YW5jZS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy90cmFjZV9hcHByb3ZlX2NjLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2ZvcndhcmRfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvY2ZzX2luc3RhbmNlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV9hcHByb3ZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmV0dXJuLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmV0dXJuLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV9yZW1pbmQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV9yZW1pbmQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL25leHRfc3RlcF91c2Vyc19ub3RfZm91bmQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV9udW1iZXJfcnVsZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV9udW1iZXJfcnVsZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2NoZWNrX21haW5fYXR0YWNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9lZGl0X2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc3RhcnRfZmxvdy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3RyYWNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3RyYWNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV9iYXRjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZmxvdy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2hpZGVfaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3ZhbHVlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9zdGVlZG9zX2Nzcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvaW5zdGFuY2VfZHJhZnRfdmlldy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2VfZHJhZnRfdmlldy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL2xpYi8xX2Zvcm1fZm9ybXVsYS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2dldF9oYW5kbGVyc19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL3Blcm1pc3Npb25fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2FwcHJvdmVfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9mbG93X21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9mb3JtX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9zdGVwX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvaW5zdGFuY2VfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvaW5zdGFuY2VfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jYXRlZ29yaWVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jYXRlZ29yaWVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Nmc19pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Nmc19pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd19yb2xlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd19yb2xlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZm9ybXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2RhdGEuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2RhdGEuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfbGlzdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfbGlzdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2RyYWZ0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9kaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9kaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3JlbGF0ZWRfaW5zdGFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3JlbGF0ZWRfaW5zdGFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvc3BhY2VfdXNlcl9zaWducy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvc3BhY2VfdXNlcl9zaWducy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy91c2VyX2luYm94X2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy91c2VyX2luYm94X2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2Zsb3ctdGVtcGxhdGUvd29ya2Zsb3dfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9zY2hlZHVsZS9hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24uY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9zY2hlZHVsZS90aW1lb3V0X2F1dG9fc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3RhYnVsYXIuY29mZmVlIl0sIm5hbWVzIjpbImNoZWNrTnBtVmVyc2lvbnMiLCJtb2R1bGUiLCJsaW5rIiwidiIsInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiVVJJIiwicHVueWNvZGUiLCJJUHY2IiwiU2Vjb25kTGV2ZWxEb21haW5zIiwiU0xEIiwiX1VSSSIsInVybCIsImJhc2UiLCJfdXJsU3VwcGxpZWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJfYmFzZVN1cHBsaWVkIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwibG9jYXRpb24iLCJocmVmIiwiYWJzb2x1dGVUbyIsInZlcnNpb24iLCJwIiwicHJvdG90eXBlIiwiaGFzT3duIiwiT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJlc2NhcGVSZWdFeCIsInN0cmluZyIsInJlcGxhY2UiLCJnZXRUeXBlIiwidmFsdWUiLCJTdHJpbmciLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImlzQXJyYXkiLCJvYmoiLCJmaWx0ZXJBcnJheVZhbHVlcyIsImRhdGEiLCJsb29rdXAiLCJpIiwiX21hdGNoIiwidGVzdCIsInNwbGljZSIsImFycmF5Q29udGFpbnMiLCJsaXN0IiwiX3R5cGUiLCJtYXRjaCIsImFycmF5c0VxdWFsIiwib25lIiwidHdvIiwic29ydCIsImwiLCJ0cmltU2xhc2hlcyIsInRleHQiLCJ0cmltX2V4cHJlc3Npb24iLCJfcGFydHMiLCJwcm90b2NvbCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJob3N0bmFtZSIsInVybiIsInBvcnQiLCJwYXRoIiwicXVlcnkiLCJmcmFnbWVudCIsImR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyIsImVzY2FwZVF1ZXJ5U3BhY2UiLCJwcm90b2NvbF9leHByZXNzaW9uIiwiaWRuX2V4cHJlc3Npb24iLCJwdW55Y29kZV9leHByZXNzaW9uIiwiaXA0X2V4cHJlc3Npb24iLCJpcDZfZXhwcmVzc2lvbiIsImZpbmRfdXJpX2V4cHJlc3Npb24iLCJmaW5kVXJpIiwic3RhcnQiLCJlbmQiLCJ0cmltIiwiZGVmYXVsdFBvcnRzIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwiZ29waGVyIiwid3MiLCJ3c3MiLCJpbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMiLCJkb21BdHRyaWJ1dGVzIiwiZ2V0RG9tQXR0cmlidXRlIiwibm9kZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJ0eXBlIiwiZXNjYXBlRm9yRHVtYkZpcmVmb3gzNiIsImVzY2FwZSIsInN0cmljdEVuY29kZVVSSUNvbXBvbmVudCIsImVuY29kZVVSSUNvbXBvbmVudCIsImVuY29kZSIsImRlY29kZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImlzbzg4NTkiLCJ1bmVzY2FwZSIsInVuaWNvZGUiLCJjaGFyYWN0ZXJzIiwicGF0aG5hbWUiLCJleHByZXNzaW9uIiwibWFwIiwicmVzZXJ2ZWQiLCJ1cm5wYXRoIiwiZW5jb2RlUXVlcnkiLCJlc2NhcGVkIiwiZGVjb2RlUXVlcnkiLCJlIiwiX3BhcnQiLCJnZW5lcmF0ZUFjY2Vzc29yIiwiX2dyb3VwIiwiYyIsImdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uIiwiX3NlcCIsIl9jb2RpbmdGdW5jTmFtZSIsIl9pbm5lckNvZGluZ0Z1bmNOYW1lIiwiYWN0dWFsQ29kaW5nRnVuYyIsInNlZ21lbnRzIiwic3BsaXQiLCJqb2luIiwiZGVjb2RlUGF0aCIsImRlY29kZVVyblBhdGgiLCJyZWNvZGVQYXRoIiwicmVjb2RlVXJuUGF0aCIsImVuY29kZVJlc2VydmVkIiwicGFyc2UiLCJwYXJ0cyIsInBvcyIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJwYXJzZUF1dGhvcml0eSIsInBhcnNlSG9zdCIsImJyYWNrZXRQb3MiLCJ0IiwiY2hhckF0IiwiZmlyc3RDb2xvbiIsImZpcnN0U2xhc2giLCJuZXh0Q29sb24iLCJwYXJzZVVzZXJpbmZvIiwibGFzdEluZGV4T2YiLCJzaGlmdCIsInBhcnNlUXVlcnkiLCJpdGVtcyIsInNwbGl0cyIsIm5hbWUiLCJwdXNoIiwiYnVpbGQiLCJidWlsZEF1dGhvcml0eSIsImJ1aWxkSG9zdCIsImJ1aWxkVXNlcmluZm8iLCJidWlsZFF1ZXJ5IiwidW5pcXVlIiwia2V5IiwiYnVpbGRRdWVyeVBhcmFtZXRlciIsImFkZFF1ZXJ5IiwiY29uY2F0IiwicmVtb3ZlUXVlcnkiLCJoYXNRdWVyeSIsIndpdGhpbkFycmF5IiwiX2Jvb2x5IiwiQm9vbGVhbiIsIm9wIiwiY29tbW9uUGF0aCIsIk1hdGgiLCJtaW4iLCJ3aXRoaW5TdHJpbmciLCJjYWxsYmFjayIsIm9wdGlvbnMiLCJfc3RhcnQiLCJfZW5kIiwiX3RyaW0iLCJfYXR0cmlidXRlT3BlbiIsImxhc3RJbmRleCIsImV4ZWMiLCJpbmRleCIsImlnbm9yZUh0bWwiLCJhdHRyaWJ1dGVPcGVuIiwibWF4Iiwic2VhcmNoIiwiaWdub3JlIiwicmVzdWx0IiwiZW5zdXJlVmFsaWRIb3N0bmFtZSIsInRvQVNDSUkiLCJub0NvbmZsaWN0IiwicmVtb3ZlQWxsIiwidW5jb25mbGljdGVkIiwiVVJJVGVtcGxhdGUiLCJkZWZlckJ1aWxkIiwiX2RlZmVycmVkX2J1aWxkIiwiX3N0cmluZyIsImNsb25lIiwidmFsdWVPZiIsImdlbmVyYXRlU2ltcGxlQWNjZXNzb3IiLCJnZW5lcmF0ZVByZWZpeEFjY2Vzc29yIiwiX2tleSIsImhhc2giLCJyZXMiLCJfb2JqZWN0IiwiYXR0cmlidXRlIiwic3JjIiwiaXMiLCJ3aGF0IiwiaXAiLCJpcDQiLCJpcDYiLCJzbGQiLCJpZG4iLCJyZWxhdGl2ZSIsImhhcyIsIl9wcm90b2NvbCIsIl9wb3J0IiwiX2hvc3RuYW1lIiwic2NoZW1lIiwieCIsIm9yaWdpbiIsImF1dGhvcml0eSIsImhvc3QiLCJ1c2VyaW5mbyIsInJlc291cmNlIiwic3ViZG9tYWluIiwiZG9tYWluIiwic3ViIiwiUmVnRXhwIiwidGxkIiwiZ2V0IiwiUmVmZXJlbmNlRXJyb3IiLCJkaXJlY3RvcnkiLCJmaWxlbmFtZSIsImRlY29kZVBhdGhTZWdtZW50IiwibXV0YXRlZERpcmVjdG9yeSIsIm5vcm1hbGl6ZVBhdGgiLCJzdWZmaXgiLCJzIiwic2VnbWVudCIsInNlcGFyYXRvciIsImFic29sdXRlIiwiRXJyb3IiLCJwb3AiLCJ1bnNoaWZ0Iiwic2VnbWVudENvZGVkIiwicSIsInNldFF1ZXJ5Iiwic2V0U2VhcmNoIiwiYWRkU2VhcmNoIiwicmVtb3ZlU2VhcmNoIiwiaGFzU2VhcmNoIiwibm9ybWFsaXplIiwibm9ybWFsaXplUHJvdG9jb2wiLCJub3JtYWxpemVRdWVyeSIsIm5vcm1hbGl6ZUZyYWdtZW50Iiwibm9ybWFsaXplSG9zdG5hbWUiLCJub3JtYWxpemVQb3J0IiwiYmVzdCIsIl9wYXRoIiwiX3dhc19yZWxhdGl2ZSIsIl9sZWFkaW5nUGFyZW50cyIsIl9wYXJlbnQiLCJfcG9zIiwibm9ybWFsaXplUGF0aG5hbWUiLCJub3JtYWxpemVTZWFyY2giLCJub3JtYWxpemVIYXNoIiwiZCIsInJlYWRhYmxlIiwidXJpIiwidG9Vbmljb2RlIiwicXAiLCJrdiIsInJlc29sdmVkIiwicHJvcGVydGllcyIsImJhc2VkaXIiLCJyZWxhdGl2ZVRvIiwicmVsYXRpdmVQYXJ0cyIsImJhc2VQYXJ0cyIsImNvbW1vbiIsInJlbGF0aXZlUGF0aCIsImJhc2VQYXRoIiwicGFyZW50cyIsImVxdWFscyIsIm9uZV9tYXAiLCJ0d29fbWFwIiwiY2hlY2tlZCIsIm9uZV9xdWVyeSIsInR3b19xdWVyeSIsIldvcmtmbG93IiwiSW1hZ2VTaWduIiwiVHJhY2VzSGFuZGxlciIsIlRyYWNlc1RlbXBsYXRlIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUiLCJJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZSIsIkluc3RhbmNlU2lnblRleHQiLCJSZWxhdGVkSW5zdGFuY2VzIiwiUmVsYXRlZFJlY29yZHMiLCJJbnN0YW5jZU1hY3JvIiwiY29udGV4dCIsIlRyYWNlc01hbmFnZXIiLCJpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyIsImZpZWxkX2Zvcm11bGEiLCJpbmNsdWRlc09waW5pb25GaWVsZCIsImZvcm0iLCJmb3JtX3ZlcnNpb24iLCJfZm9ybV92ZXJzaW9uIiwiZmllbGRfZm9ybXVsYXMiLCJmaWVsZHMiLCJBcnJheSIsIk1ldGVvciIsImlzU2VydmVyIiwidXVmbG93TWFuYWdlciIsImdldEZvcm1WZXJzaW9uIiwiZGIiLCJmb3JtcyIsImZpbmRPbmUiLCJfaWQiLCJmb3JtX3ZlcnNpb25zIiwiZm9yRWFjaCIsImYiLCJyZWYiLCJjb25zb2xlIiwibG9nIiwiZjEiLCJmb3JtdWxhIiwiXyIsInNvbWUiLCJoZWxwZXJzIiwiYXV0aF90b2tlbnMiLCJDb2xsZWN0aW9uIiwiX2dldExvY2FsZSIsIl9nZXRSZXF1aXJlZEZpZWxkcyIsIl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyIsIl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyIsIl9nZXRUZW1wbGF0ZURhdGEiLCJfZ2V0Vmlld0h0bWwiLCJnZXRMaW5rVGV4dCIsIm1hcmtlZCIsInJlcXVpcmUiLCJJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUiLCJpbnN0YW5jZV9hdHRhY2htZW50IiwiYWZTZWxlY3RVc2VyUmVhZCIsImFmRm9ybUdyb3VwUmVhZCIsImFmRm9ybUdyb3VwIiwiY3JlYXRlIiwidGVtcGFsdGVOYW1lIiwic3RlZWRvc0RhdGEiLCJ0ZW1wbGF0ZSIsInRlbXBsYXRlQ29tcGlsZWQiLCJ0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uIiwiU3BhY2ViYXJzQ29tcGlsZXIiLCJjb21waWxlIiwiaXNCb2R5IiwiZXZhbCIsIlRlbXBsYXRlIiwiQmxhemUiLCJjcmVhdGVJbnN0YW5jZVNpZ25UZXh0IiwiaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkIiwiaW5zdGFuY2VTaWduVGV4dEh0bWwiLCJpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24iLCJpbnN0YW5jZVNpZ25UZXh0IiwiY3JlYXRlSW1hZ2VTaWduIiwiaW1hZ2VTaWduQ29tcGlsZWQiLCJpbWFnZVNpZ25IdG1sIiwiaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24iLCJpbWFnZVNpZ24iLCJjcmVhdGVUcmFjZXNIYW5sZGVyIiwidHJhY2VzSGFubGRlckNvbXBpbGVkIiwidHJhY2VzSGFubGRlckh0bWwiLCJ0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24iLCJpbnN0YW5jZV90cmFjZXNfaGFuZGxlciIsImluaXQiLCJpdGVtIiwibGFiZWwiLCJkZXRhaWxfdXJsIiwiU3RlZWRvcyIsImFic29sdXRlVXJsIiwiZ2V0VmFsdWUiLCJmaWVsZCIsImxvY2FsZSIsInV0Y09mZnNldCIsImRhdGUiLCJmaWVsZE9wdGlvbnMiLCJob3VycyIsIm1vbnRoIiwic2Vjb25kcyIsInNlbGVjdGVkT3B0aW9uIiwic2VsZWN0ZWRPcHRpb25zIiwic3BsaXRlZFZhbHVlcyIsInQwIiwidDEiLCJ5ZWFyIiwibiIsIml0ZW1TcGxpdHMiLCJlbmNvZGVVUkkiLCJlcnJvciIsImlzX211bHRpc2VsZWN0IiwiZ2V0UHJvcGVydHkiLCJmdWxsbmFtZSIsIlRBUGkxOG4iLCJfXyIsIkRhdGUiLCJmb3JtYXREYXRlIiwiaXNfdGV4dGFyZWEiLCJTcGFjZWJhcnMiLCJTYWZlU3RyaW5nIiwiZmluZCIsImZpbHRlciIsIm51bWJlclRvU3RyaW5nIiwiZGlnaXRzIiwiZ2V0TGFiZWwiLCJjb2RlIiwiZmluZFByb3BlcnR5QnlQSyIsImdldEluc3RhbmNlRm9ybVZlcnNpb24iLCJpbnN0YW5jZSIsImZvcm1fZmllbGRzIiwiY3VycmVudCIsIndoZXJlIiwiaGlzdG9yeXMiLCJnZXRGbG93VmVyc2lvbiIsImZsb3ciLCJmbG93X3ZlcnNpb24iLCJmbG93cyIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInVzZXIiLCJyZWYxIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZXYiLCJpc19yZXF1aXJlZCIsInN0ZXBzIiwiZWRpdGFibGVDb2RlIiwic3RhcnRTdGVwIiwia2V5cyIsInBlcm1pc3Npb25zIiwicmVxdWlyZWRGaWVsZHMiLCJpbnRlcnNlY3Rpb24iLCJzcGFjZSIsIldvcmtmbG93TWFuYWdlciIsImlzQ2xpZW50IiwiV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdCIsImdldEF1dG9mb3JtU2NoZW1hVmFsdWVzIiwiaW5zbmFtZSIsImluc19zdGF0ZSIsInN0YXRlIiwiaW5zX2ZpbmFsX2RlY2lzaW9uIiwiaW5zX2NvZGUiLCJpbnNfaXNfYXJjaGl2ZWQiLCJpc19hcmNoaXZlZCIsImluc19pc19kZWxldGVkIiwiYXBwbGljYW50X25hbWUiLCJhcHBsaWNhbnRDb250ZXh0Iiwic2Vzc2lvblVzZXJJZCIsImVkaXRhYmxlIiwic3RhcnRTdGVwRWRpdGFibGVGaWVsZHMiLCJwYXNzaW5nIiwibW9tZW50IiwiZm9ybWF0IiwiZ2V0SW5zdGFuY2VWaWV3IiwiYm9keSIsImluc3RhbmNlQ29tcGlsZWQiLCJpbnN0YW5jZVJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VUZW1wbGF0ZSIsIlRlbXBsYXRlTWFuYWdlciIsImdldFRlbXBsYXRlIiwidGVtcGxhdGVOYW1lIiwiaW5zdGFuY2VfcmVhZG9ubHlfdmlldyIsInRvSFRNTFdpdGhEYXRhIiwiZ2V0VHJhY2VzVmlldyIsInRyYWNlQ29tcGlsZWQiLCJ0cmFjZVJlbmRlckZ1bmN0aW9uIiwidHJhY2VzSHRtbCIsImluc3RhbmNlX3N0eWxlIiwidHJhY2VfcmVhZG9ubHlfdmlldyIsInRyYWNlcyIsImdldEF0dGFjaG1lbnRWaWV3IiwiYXR0YWNobWVudENvbXBpbGVkIiwiYXR0YWNobWVudEh0bWwiLCJhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24iLCJhdHRhY2htZW50c19yZWFkb25seV92aWV3IiwiZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXciLCJyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQiLCJyZWxhdGVkSW5zdGFuY2VzSHRtbCIsInJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXciLCJnZXRSZWxhdGVkUmVjb3Jkc1ZpZXciLCJyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkIiwicmVsYXRlZFJlY29yZHNIdG1sIiwicmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfcmVjb3Jkc192aWV3IiwiZ2V0T25Mb2FkU2NyaXB0IiwiZm9ybV9zY3JpcHQiLCJnZXRJbnN0YW5jZUh0bWwiLCJhbGxDc3NMaW5rIiwiYXR0YWNobWVudCIsImNyZWF0b3JTZXJ2aWNlIiwiY3NzSHJlZiIsImZvcm1EZXNjcmlwdGlvbiIsImZvcm1EZXNjcmlwdGlvbkh0bWwiLCJodG1sIiwiaW5zX3JlY29yZF9pZHMiLCJpbnN0YW5jZUJveFN0eWxlIiwib25Mb2FkU2NyaXB0Iiwib3BlbkZpbGVTY3JpcHQiLCJyZWxhdGVkX2luc3RhbmNlcyIsInJlbGF0ZWRfcmVjb3JkcyIsInNob3dUcmFjZXNCdG4iLCJzaG93VHJhY2VzU2NyaXB0IiwidHJhY2UiLCJ0cmFjZUNoZWNrIiwid2lkdGgiLCJzZXR0aW5ncyIsIndlYnNlcnZpY2VzIiwiY3JlYXRvciIsInJlY29yZF9pZHMiLCJKU09OIiwic3RyaW5naWZ5IiwiaXNNb2JpbGUiLCJzaG93VHJhY2UiLCJmaW5hbF9kZWNpc2lvbiIsInNob3dBdHRhY2htZW50cyIsImlzRW1wdHkiLCJ0YWdnZXIiLCJzdHlsZXMiLCJkZXNjcmlwdGlvbiIsInBsdWdpbnMiLCJmb3JtSWQiLCJpbnN0YW5jZV90aXRsZSIsInBhZ2VUaXRsZSIsInBhZ2VUaXRsZVRyQ2xhc3MiLCJ2YWwiLCJDb3JlRm9ybSIsInBhZ2VUaXRsZUZpZWxkTmFtZSIsImhhbmRsZVRhYmxlVGVtcGxhdGUiLCJfZXhwb3J0IiwidGFibGVfZmllbGRzIiwidGFibGVfZmllbGQiLCJmaWVsZF9wZXJtaXNzaW9uIiwicHVyZUNvZGUiLCJyZXF1aXJlZCIsInRpdGxlX3Blcm1pc3Npb24iLCJyZW1vdmVTcGVjaWFsQ2hhcmFjdGVyIiwiaXNPcGluaW9uRmllbGQiLCJ0cl9zdGFydCIsInRkX2NvbHNwYW4iLCJ0cl9lbmQiLCJpbmNsdWRlcyIsInBlcm1pc3Npb24iLCJfdGVtcGxhdGUiLCJ0YWJsZSIsIl90ZW1wbGF0ZUhlbHBzIiwic3RlZWRvc19pbnN0YW5jZSIsImdldEluc3RhbmNlIiwiYXR0cyIsImlkIiwic3R5bGUiLCJkaXNhYmxlZCIsImluc3RhbmNlSWQiLCJmb3JtX3R5cGVzIiwiQXBwcm92ZU1hbmFnZXIiLCJpc1JlYWRPbmx5Iiwic3RlZWRvc19mb3JtIiwiaW5uZXJzdWJmb3JtQ29udGV4dCIsImRvY192YWx1ZXMiLCJTZXNzaW9uIiwiYSIsImIiLCJTaW1wbGVTY2hlbWEiLCJnZXRBdXRvZm9ybVNjaGVtYSIsImluc3RhbmNlX2JveF9zdHlsZSIsImJveCIsImlucyIsImp1ZGdlIiwicHJpbnRfdGVtcGxhdGUiLCJpbnN0YW5jZV90ZW1wbGF0ZSIsIlN0ZWVkb3NUYWJsZSIsImNoZWNrSXRlbSIsIml0ZW1faW5kZXgiLCJmaWVsZE9iaiIsImdldEZpZWxkIiwiZmllbGRWYWwiLCJnZXRJdGVtTW9kYWxWYWx1ZSIsInNmX25hbWUiLCJzZmllbGRzIiwic2YiLCJJbnN0YW5jZU1hbmFnZXIiLCJjaGVja0Zvcm1GaWVsZFZhbHVlIiwiJCIsInNldFRhYmxlSXRlbVZhbHVlIiwiaXRlbV92YWx1ZSIsInRhYmxlVmFsdWUiLCJnZXRUYWJsZVZhbHVlIiwiZ2V0VGFibGVJdGVtVmFsdWUiLCJyZW1vdmVUYWJsZUl0ZW0iLCJyZW1vdmVkIiwic2V0VGFibGVWYWx1ZSIsImdldFZhbGlkVmFsdWUiLCJ2YWxpZFZhbHVlIiwiaGFuZGxlRGF0YSIsInZhbHVlcyIsImluc3RhbmNlRmllbGRzIiwiZ2V0SW5zdGFuY2VGaWVsZHMiLCJnZXRNb2RhbERhdGEiLCJGb3JtX2Zvcm11bGEiLCJnZXRGb3JtdWxhRmllbGRWYXJpYWJsZSIsIkF1dG9Gb3JtIiwiZ2V0Rm9ybVZhbHVlcyIsImluc2VydERvYyIsImFkZEl0ZW0iLCJfaXRlbV92YWx1ZSIsImdldEtleXMiLCJhcHBlbmQiLCJnZXRUciIsInVwZGF0ZUl0ZW0iLCJ0ZHMiLCJnZXRSZW1vdmVUZCIsInNmaWVsZCIsImdldFRkIiwiZW1wdHkiLCJydW5Gb3JtdWxhIiwicmVtb3ZlSXRlbSIsImhpZGUiLCJzaG93TW9kYWwiLCJtZXRob2QiLCJtb2RhbERhdGEiLCJNb2RhbCIsInNob3ciLCJnZXRDdXJyZW50RGF0YUZvckZvcm0iLCJzcyIsImdldEZvcm1TY2hlbWEiLCJzY2hlbWEiLCJvYmplY3RLZXlzIiwiX21ha2VHZW5lcmljIiwiZ2V0VGhlYWQiLCJpc09iamVjdCIsInRoZWFkIiwidHJzIiwic2ZfbGVuZ3RoIiwid2lkZV9maWVsZHMiLCJmaWx0ZXJQcm9wZXJ0eSIsImlzX3dpZGUiLCJnZXRUYm9keSIsInNmaWVsZHNFZGl0YWJsZSIsInRib2R5IiwidHIiLCJ0ZCIsInRkX3ZhbHVlIiwiZ2V0VERWYWx1ZSIsInZpZXciLCJDRkRhdGFNYW5hZ2VyIiwiZ2V0Rm9ybXVsYVNwYWNlVXNlcnMiLCJ1IiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnMiLCJvIiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbiIsInBsdWNrIiwiYWRkSW5wdXRUeXBlIiwidmFsdWVPdXQiLCJ2YWx1ZUNvbnZlcnRlcnMiLCJzdHJpbmdUb1N0cmluZ0FycmF5Iiwic3RyaW5nVG9OdW1iZXIiLCJzdHJpbmdUb051bWJlckFycmF5Iiwic3RyaW5nVG9Cb29sZWFuIiwic3RyaW5nVG9Cb29sZWFuQXJyYXkiLCJzdHJpbmdUb0RhdGUiLCJzdHJpbmdUb0RhdGVBcnJheSIsImNvbnRleHRBZGp1c3QiLCJtYXhsZW5ndGgiLCJhZlRhYmxlIiwiZXZlbnRzIiwiZXZlbnQiLCJuZXdfaXRlbV9pbmRleCIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0Iiwic2V0IiwicmVuZGVyZWQiLCJzdHIiLCJhZGRJdGVtVHIiLCJnZXRDdXJyZW50U3RlcCIsInN0ZXBfdHlwZSIsImNjSGFzRWRpdFBlcm1pc3Npb24iLCJhdXRvcnVuIiwiY3VycmVudERhdGEiLCJzcGFjZVVzZXJTaWduIiwidXNlcklkIiwic3BhY2VfdXNlcl9zaWducyIsImltYWdlVVJMIiwic2lnbiIsInNob3dTaWduSW1hZ2UiLCJoYW5kbGVyIiwiaXNfZmluaXNoZWQiLCJvYmplY3RVcmwiLCJvYmplY3RfbmFtZSIsInJlY29yZF9pZCIsImFwcF9pZCIsIkNyZWF0b3IiLCJnZXRPYmplY3RVcmwiLCJ1bmVtcHR5IiwidW5lcXVhbHMiLCJpbmNsdWRlIiwicmVmMiIsInJlZjMiLCJnZXRJbnN0YW5jZUZsb3dWZXJzaW9uIiwiYXBwcm92ZXMiLCJyZWY0Iiwic3RlcCIsImFwcHJvdmUiLCJqdWRnZV9uYW1lIiwiaGFuZGxlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZmluaXNoX2RhdGUiLCJvcGluaW9uX2ZpZWxkc19jb2RlIiwic2lnbl9maWVsZF9jb2RlIiwiaXNfcmVhZCIsInNpZ25fc2hvdyIsImFmdGVyX2ZpZWxkIiwiYmVmb3JlX2ZpZWxkIiwicHJlX2ZpZWxkcyIsInByZV93aWRlX2ZpZWxkcyIsInNvcnRfYXBwcm92ZSIsIm9yZGVyIiwicDEiLCJwMiIsIl9wMSIsIl9wMiIsImdldFRpbWUiLCJfdCIsImdldENmQ2xhc3MiLCJnZXRUYWJsZVRoZWFkIiwiZ2V0VGFibGVCb2R5Iiwic2hvd0xhYmVsIiwidGVtcGxhdGVEYXRhIiwiZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lIiwidG9wX2tleXdvcmRzIiwiZm9vMSIsIm9waW5pb25GaWVsZHMiLCJmb28iLCJqc29uX2Zvcm11bGEiLCJzMSIsImVycm9yMSIsInlpamlhbmxhbiIsInN0ZXBOYW1lIiwiaW1hZ2Vfc2lnbiIsIm9ubHlfY2Nfb3BpbmlvbiIsIm9ubHlfY2MiLCJkZWZhdWx0X2Rlc2NyaXB0aW9uIiwib25seV9oYW5kbGVyIiwic2hvd0NDT3BpbmlvbiIsIm1hcmtEb3duVG9IdG1sIiwibWFya0Rvd25TdHJpbmciLCJmX2xhYmVsIiwidGhhdCIsImlzU2VjdGlvbiIsInJlZ2lzdGVySGVscGVyIiwiaW5zX2F0dGFjaF9kb3dubG9hZF91cmwiLCJnZXRQZXJtaXNzaW9ucyIsImluc3RhbmNlZm9ybUNoYW5nZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvcGVuV2luZG93IiwidGFyZ2V0Iiwib25DcmVhdGVkIiwiY29tcGlsZWQiLCJpbnN0YW5jZUN1c3RvbVRlbXBsYXRlIiwiaW5zdGFuY2VWaWV3IiwicmVuZGVyRnVuY3Rpb24iLCJWaWV3IiwiaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlIiwib25SZW5kZXJlZCIsImN1cnJlbnRBcHByb3ZlIiwiY3VycmVudFN0ZXAiLCJmb3JtdWxhX2ZpZWxkcyIsImluc3RhbmNlTnVtYmVyRmllbGRzIiwiYXBwbGljYW50IiwibmV4dFN0ZXBzIiwibmV4dFN0ZXBVc2VycyIsIkluc3RhbmNlRXZlbnQiLCJpbml0RXZlbnRzIiwiZ2V0Q3VycmVudEFwcHJvdmUiLCJlYWNoIiwiZWxlbWVudCIsInNjaGVtYUtleSIsInRvYXN0ciIsInJlYXNvbiIsImdldEZpZWxkVmFsdWUiLCJJbnN0YW5jZU51bWJlclJ1bGVzIiwiaW5zdGFuY2VOdW1iZXJCdWlsZGVyIiwidHJpZ2dlciIsInJ1biIsInNob3dNYWluVGl0bGUiLCJ3b3JrZmxvd01haW5BdHRhY2hUaXRsZSIsImVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudCIsImN1cnJlbnRfc3RlcCIsIm1haW5fYXR0YWNoX2NvdW50IiwiY2ZzIiwiaW5zdGFuY2VzIiwiY291bnQiLCJkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50IiwiZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlIiwic3RhcnRfc3RlcCIsImdldFN0YXJ0U3RlcCIsImNhbl9lZGl0X21haW5fYXR0YWNoIiwiZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50IiwiZ2V0RmxvdyIsInVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZCIsImlzQ0MiLCJnZXRDQ1N0ZXAiLCJjYW5fZWRpdF9ub3JtYWxfYXR0YWNoIiwibWFpbl9hdHRhY2htZW50IiwibWFpbl9hdHRhY2giLCJub3JtYWxfYXR0YWNobWVudHMiLCJzZWxlY3RvciIsIiRuZSIsImRmaXMiLCJkaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIiwiJGluIiwiZGlzdHJpYnV0ZV9tYWluIiwiZmlyc3RWZXJzaW9uTWFpbiIsIm1ldGFkYXRhIiwicGFyZW50IiwiYXR0YWNobWVudFVwbG9hZGVkQXQiLCJ1cGxvYWRlZEF0IiwiZmlyc3RWZXJzaW9uIiwic29ydEJ5IiwiaW5zdGFuY2VJZHMiLCJhdHRhY2htZW50c19jb3VudCIsImZsb3dfZmlsZXMiLCJmaWxlcyIsImlzRHJhZnRBbmRGbG93ZmlsZXNFeGlzdCIsImNvbXBhY3QiLCJhdHRhY2htZW50cyIsIiRvciIsImZldGNoIiwibXlBcHByb3ZlIiwibXlUcmFjZSIsImlzSW5ib3giLCJkZWZhdWx0RGVzY3JpcHRpb24iLCJhcHByb3ZlX3NvcnQiLCJhcHByb3Zlc0dyb3VwIiwiYXBwcm92ZXNfc29ydGVkIiwiY29tcGxldGVkX2RhdGUiLCJoYXNOZXh0IiwiaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSIsImlzX2NvbXBsZXRlZCIsImxhc3QiLCJ0b3BfYXBwcm92ZXMiLCJ1bmlvbiIsInRvcF9hcHByb3ZlIiwiZ3JvdXBCeSIsImhhbmRsZXJBcHByb3ZlcyIsImRlc2NyaXB0aW9uQXBwcm92ZXMiLCJ3b3JrZmxvdyIsInNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbiIsIl9kaXNwbGF5IiwiaXNNeUFwcHJvdmUiLCJteUFwcHJvdmVEZXNjcmlwdGlvbiIsImFwcHJvdmVJZCIsIm5vdyIsImlzT3Bpbmlvbk9mRmllbGQiLCJpbWFnZVNpZ25EYXRhIiwiZ2V0TGFzdFNpZ25BcHByb3ZlIiwiZ2V0SGFuZGxlclNpZ25TaG93QXBwcm92ZXMiLCJsYXN0TXlBcHByb3ZlRGVzY3JpcHRpb24iLCJzaG93QXBwcm92ZSIsImp1ZGdlX2Rlc2NyaXB0aW9uIiwiaXNfYXBwcm92ZWQiLCJpc19yZWplY3RlZCIsImlzX3JlYWRlZCIsImFkZENsYXNzIiwic2V0VGltZW91dCIsImRhdGVGb3JtYXQiLCJnZXRGdWxsWWVhciIsImdldFN0ZXBOYW1lIiwic3RlcElkIiwiZ2V0SW5zdGFuY2VTdGVwIiwic2hvd0RlbGV0ZUJ1dHRvbiIsImFwcHJvdmVkIiwiZnJvbV91c2VyIiwiaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uIiwiYXBwcm92ZV9hZG1pbnMiLCJpc1Nob3ciLCJjb250YWlucyIsImlzRWRpdGluZyIsImlzX2VkaXRpbmciLCJpc1Nob3dEZXNjcmlwdGlvbiIsImdldEFwcHJvdmVTdGF0dXNJY29uIiwiYXBwcm92ZUp1ZGdlIiwiYXV0b1N1Ym1pdHRlZCIsImFwcHJvdmVTdGF0dXNJY29uIiwiZ2V0QXBwcm92ZVN0YXR1c1RleHQiLCJhcHByb3ZlU3RhdHVzVGV4dCIsImdldEFwcHJvdmVKdWRnZUNsYXNzIiwiaXNGb3J3YXJkIiwic2hvd0ZvcndhcmREZWxldGVCdXR0b24iLCJmb3J3YXJkX2luc3RhbmNlIiwiaXNEaXN0cmlidXRlIiwic2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b24iLCJoYXNGbG93QWRtaW5QZXJtaXNzaW9uIiwiZmluaXNoRGF0ZVNjaGVtYSIsImlzQW5kcm9pZE9ySU9TIiwiYXV0b2Zvcm0iLCJvcHRpb25hbCIsInJlYWRvbmx5IiwiZGF0ZVRpbWVQaWNrZXJPcHRpb25zIiwiaWdub3JlUmVhZG9ubHkiLCJ3aWRnZXRQb3NpdGlvbmluZyIsImhvcml6b250YWwiLCJmaW5pc2hEYXRlVmFsdWVzIiwic2hvd1RyYWNlc1ZpZXciLCJzaG93X21vZGFsX3RyYWNlc19saXN0Iiwic3BhY2Vfc2V0dGluZ3MiLCJnZXRJbnN0YW5jZVN0YXRlVGV4dCIsImluc3RhbmNlX2lkIiwiZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yIiwiY2xhIiwiZmlyc3RUcmFjZSIsImxhc3RfZGlzdHJpYnV0ZV9mcm9tIiwiZGlzX2luZm8iLCIkZXhpc3RzIiwiY3JlYXRlZCIsImNyZWF0ZWRfYnkiLCJVVWZsb3dfYXBpIiwiZ2V0TmFtZUZvclVzZXIiLCJ1c2VycyIsImZyb21fdXNlcl9uYW1lIiwiaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQiLCJqdWRnZVRlcm1pbmF0ZWQiLCJpbnN0YW5jZUV4aXN0cyIsImFnZW50RGVzY3JpcHRpb24iLCJ1c2VyTmFtZSIsInRyYWNlTmFtZSIsInRyYWNlSWQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYWxsaW5nIiwiZXJyIiwicmVtb3ZlQ2xhc3MiLCJzdWNjZXNzIiwiY2xvc2VzdCIsInRhcmdldF91c2VyX2lkIiwib3BlblNhZmVPYmplY3RVcmwiLCJmb3J3YXJkX3NwYWNlIiwiZm9yd2FyZHNwYWNlIiwiZm9yd2FyZGluc3RhbmNlIiwiVHJhY2tlciIsImFmdGVyRmx1c2giLCJvbiIsInNjcm9sbFRvcCIsImZpbmlzaF9pbnB1dCIsIm9waW5pb25faW5wdXQiLCJhbGxvd011bHRpcGxlIiwic2hvd1JlbGF0ZWRJbnN0YWNlcyIsInJlbGF0ZWRfaW5zdGFjZXMiLCJyZWxhdGVkX2luc3RhY2VfdXJsIiwiaXNDb3Jkb3ZhIiwic2hvd19kZWxldGUiLCJzaG93UmVsYXRlZFJlY29yZHMiLCJEZXNpZ25lckFQSSIsImdldEFic29sdXRlVXJsIiwicm9vdFVybCIsIl9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18iLCJST09UX1VSTF9QQVRIX1BSRUZJWCIsIndyaXRlUmVzcG9uc2UiLCJodHRwQ29kZSIsInN0YXR1c0NvZGUiLCJzZW5kSW52YWxpZFVSTFJlc3BvbnNlIiwic2VuZEF1dGhUb2tlbkV4cGlyZWRSZXNwb25zZSIsInNlbmRIdG1sUmVzcG9uc2UiLCJyZXEiLCJlcnJvcl9tc2ciLCJ0aXRsZSIsIkpzb25Sb3V0ZXMiLCJhZGQiLCJuZXh0IiwidXNlcklkcyIsInNwYWNlSWQiLCJzcGFjZVVzZXJzIiwic2VuZFJlc3VsdCIsImdldFVzZXJzIiwiZ2V0Rm9ybXVsYVVzZXJPYmplY3QiLCJhdXRvRm9ybURvYyIsImFwcHJvdmVyIiwiZm9ybXVsYV92YWx1ZXMiLCJpbml0X2Zvcm11bGFfdmFsdWVzIiwic3RhY2siLCJlcnJvcnMiLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwiY2F0ZWdvcmllcyIsImNvbXBhbnlJZCIsImN1cnJlbnRfdXNlciIsImN1cnJlbnRfdXNlcl9pbmZvIiwib3JnIiwib3JnYW5pemF0aW9ucyIsInBvc2l0aW9ucyIsInJvbGVzIiwic3BhY2VJZHMiLCJzcGFjZXMiLCJzcGFjZXNRdWVyeSIsImNoZWNrX2F1dGhvcml6YXRpb24iLCJhZG1pbnMiLCJjb21wYW55X2lkIiwic3BhY2VfdXNlcnMiLCJpc19kZWxldGVkIiwiaXNfdmFsaWQiLCJoZWxwX3RleHQiLCJjYXRlZ29yeSIsIm5hbWVfZm9ybXVsYSIsImNvZGVfZm9ybXVsYSIsImZsb3d0eXBlIiwiY3VycmVudF9ubyIsInBlcm1zIiwiZXJyb3JfbWVzc2FnZSIsImRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnMiLCJmbG93X3JvbGVzIiwiZmxvd19wb3NpdGlvbnMiLCJTcGFjZVVzZXJzIiwiVXNlcnMiLCJGb3JtcyIsIkZsb3dzIiwiT3JnYW5pemF0aW9ucyIsIlBvc2l0aW9ucyIsIlJvbGVzIiwiQ2F0ZWdvcmllcyIsIlNwYWNlcyIsImhhc2hEYXRhIiwiaW5zZXJ0ZWRfaW5zdGFuY2VzIiwiaW5zdGFuY2VfZnJvbV9jbGllbnQiLCJuZXdfaW5zIiwibmV3X2luc19pZCIsImNyZWF0ZV9pbnN0YW5jZSIsImluc2VydHMiLCJjY191c2VycyIsImRlbGV0ZV9vYmoiLCJpbmJveF91c2VycyIsInNwYWNlVXNlck9yZ2FuaXphdGlvbnMiLCJzcGFjZV9pZCIsInNwYWNlX3VzZXIiLCJ1c2VyX2lkcyIsImdldFNwYWNlIiwiZ2V0U3BhY2VVc2VyIiwic3VibWl0dGVyIiwiY2FuQWRtaW4iLCJkZWxldGVkIiwiZGVsZXRlZF9ieSIsImRlbGV0ZWRfaW5zdGFuY2VzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidW5pcSIsInVfaWQiLCJwdXNoTWFuYWdlciIsInNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlciIsInNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uIiwiX3VzZXJzIiwiYXBwcm92ZV91c2Vyc19oYW5kbGVycyIsImFzc2lnbmVlX2FwcHIiLCJjdXJyZW50X3NwYWNlX3VzZXIiLCJjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uIiwiaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQiLCJsYXN0X3RyYWNlIiwibGFzdF90cmFjZV9mcm9tX2NsaWVudCIsIm5ld19pbmJveF91c2VycyIsIm5vdF9pbl9pbmJveF91c2VycyIsInIiLCJyZWFzc2lnbl9yZWFzb24iLCJzZXRPYmoiLCJpc0luc3RhbmNlUGVuZGluZyIsInBlcm1pc3Npb25NYW5hZ2VyIiwiZ2V0Rmxvd1Blcm1pc3Npb25zIiwiZGlmZmVyZW5jZSIsImNvc3RfdGltZSIsInN0YXJ0X2RhdGUiLCJvcmdhbml6YXRpb24iLCJNb25nbyIsIk9iamVjdElEIiwiX3N0ciIsInVzZXJfbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uIiwiZHVlX2RhdGUiLCJyZWFkX2RhdGUiLCJpc19lcnJvciIsInVzZXJfaWQiLCJhZ2VudCIsImhhbmRsZXJfaWQiLCJoYW5kbGVyX2luZm8iLCJuZXdfYXBwciIsIm5ld191c2VyIiwidXNlcl9vcmdhbml6YXRpb24iLCJnZXRBZ2VudCIsInNldFJlbWluZEluZm8iLCJvdXRib3hfdXNlcnMiLCJtb2RpZmllZCIsIm1vZGlmaWVkX2J5IiwidXBkYXRlIiwiJHNldCIsInNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIiLCJ0cmlnZ2VyV2ViaG9vayIsImlzSW5zdGFuY2VGaW5pc2hlZEFuZE5vdEFyY2hpZXZlZCIsImlzSW5zdGFuY2VTdWJtaXR0ZXJPckFwcGxpY2FudE9yU3BhY2VBZG1pbiIsInN0YXJ0dXAiLCJXZWJBcHAiLCJjb25uZWN0SGFuZGxlcnMiLCJ1c2UiLCJlanMiLCJlbmRfZGF0ZSIsImZpbGVOYW1lIiwiZmxvd19pZCIsImZsb3dfaWRzIiwiZm9ybV9uYW1lIiwiaW5zX3RvX3hscyIsImxhbmciLCJsYXN0X21vbnRoX2RhdGUiLCJyZXQiLCJ0aW1lem9uZW9mZnNldCIsInVpZCIsInBhcnNlSW50IiwiZ2V0TXlBZG1pbk9yTW9uaXRvckZsb3dzIiwiZ2V0TW9udGgiLCJzdWJtaXRfZGF0ZSIsIiRndGUiLCIkbHRlIiwiZm9ybWF0ZXIiLCJzZXRIZWFkZXIiLCJhdXRoX3Rva2VuIiwiZm9ybWlkcyIsImlzX2FkbWluIiwic3luY190b2tlbiIsImVuYWJsZWQiLCJnZXRfU3BhY2VDaGFuZ2VTZXQiLCJsYXN0X3RyYWNlX2lkIiwibmV3QXBwcm92ZSIsIm5ld1RyYWNlIiwib2xkX2luYm94X3VzZXJzIiwib3JnX2luZm8iLCJwcmV2aW91c19zdGVwIiwicHJldmlvdXNfdHJhY2UiLCJwcmV2aW91c190cmFjZV9hcHByb3ZlcyIsInByZXZpb3VzX3RyYWNlX2lkIiwicHJldmlvdXNfdHJhY2VfbmFtZSIsInByZXZpb3VzX3RyYWNlX3N0ZXBfaWQiLCJyZXRyaWV2ZV9hcHByb3ZlIiwicmV0cmlldmVfY29tbWVudCIsInJldHJpZXZlX3R5cGUiLCJ0aGVfdHJhY2UiLCJwcmV2aW91c190cmFjZV9pZHMiLCJnZXRTdGVwIiwicmV0cmlldmVfYXBwciIsImFwcHIiLCJnZXREdWVEYXRlIiwidGltZW91dF9ob3VycyIsImdldFNwYWNlVXNlck9yZ0luZm8iLCJjdXJyZW50X3N0ZXBfbmFtZSIsImN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCIsImdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdCIsInRpbWVvdXRfYXV0b19zdWJtaXQiLCJsaW5lcyIsImN1cnJlbnRfdXNlcl9pZCIsImhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCIsImlzRm9yd2FyZEF0dGFjaG1lbnRzIiwic2VsZWN0ZWRVc2VycyIsImFjdGlvbl90eXBlIiwicmVsYXRlZCIsImZyb21fYXBwcm92ZV9pZCIsImNoZWNrIiwiTWF0Y2giLCJPbmVPZiIsIm9sZF9zcGFjZV9pZCIsImZvcndhcmRfdXNlcnMiLCJub19wZXJtaXNzaW9uX3VzZXJfaWRzIiwibm9fcGVybWlzc2lvbl91c2Vyc19uYW1lIiwibmV3X2luc19pZHMiLCJjdXJyZW50X3RyYWNlIiwiY3VycmVudF90cmFjZV9pZCIsImZvcndhcmRfYXBwcm92ZXMiLCJzZXRfb2JqIiwib2xkX3ZhbHVlcyIsIm5ld192YWx1ZXMiLCJvbGRfZm9ybSIsIm9sZF9mb3JtX3ZlcnNpb24iLCJvbGRfZmllbGRzIiwiY29tbW9uX2ZpZWxkcyIsInNlbGVjdF90b19pbnB1dF9maWVsZHMiLCJoIiwiZXhpc3RzX2ZpZWxkIiwic2VsZWN0X2lucHV0X2ZpZWxkIiwib2xkX3YiLCJvbGRfbXVsdGlTZWxlY3RlZCIsIm5ld19tdWx0aVNlbGVjdGVkIiwib2xkX3RhYmxlX3Jvd192YWx1ZXMiLCJuZXdfdGFibGVfcm93X3ZhbHVlcyIsInJlY29yZF9uZWVkIiwiRk9ORFNJRCIsImluc3RhbmNlX25hbWUiLCJuYW1lX2ZvcnVtbGEiLCJpc2NyaXB0IiwiZ2V0QXBwcm92ZVZhbHVlcyIsImNhdGVnb3J5X25hbWUiLCJnZXRDYXRlZ29yeSIsInVzZXJfaW5mbyIsInNwYWNlX3VzZXJfb3JnX2luZm8iLCJpbnNfb2JqIiwiaGFuZGxlcl9zcGFjZV91c2VyIiwiaGFuZGxlcl9vcmdfaW5mbyIsIl9tYWtlTmV3SUQiLCJzdWJtaXR0ZXJfbmFtZSIsImFwcGxpY2FudF9vcmdhbml6YXRpb24iLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUiLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZm9yd2FyZF9mcm9tX2luc3RhbmNlIiwidHJhY2Vfb2JqIiwic3RlcF9pZCIsInN0ZXBfbmFtZSIsImFwcHJfb2JqIiwiYXV0b19yZW1pbmQiLCJmbG93X25hbWUiLCJjb2xsZWN0aW9uIiwiaW5zdGFuY2VIdG1sIiwiaW5zdGFuY2VGaWxlIiwiRlMiLCJGaWxlIiwiYXR0YWNoRGF0YSIsIkJ1ZmZlciIsImZyb20iLCJzaXplIiwib3duZXIiLCJvd25lcl9uYW1lIiwiZmlsZU9iaiIsIm1haW4iLCJuZXdGaWxlIiwiY3JlYXRlUmVhZFN0cmVhbSIsIm9yaWdpbmFsIiwiJGFkZFRvU2V0IiwiJGVhY2giLCJpZHgiLCJ1cGRhdGVfcmVhZCIsImZsb3dJZCIsImluc0lkIiwicmVkaXJlY3RUbyIsInJlZGlyZWN0VG9VcmwiLCJyZXFfYXN5bmMiLCJwYXJhbXMiLCJzdGF0dXMiLCJzZW5kIiwid3JpdGVIZWFkIiwiYXR0YWNoIiwibGltaXQiLCJub19saW1pdF9jb3VudCIsInJlZjUiLCJyZXN1bHRfaW5zdGFuY2VzIiwic3BhY2VfbmFtZXMiLCJzcGVjaWFsX3VzZXJfaWQiLCJ1c2VyaWQiLCJ3b3JrZmxvd19jYXRlZ29yaWVzIiwiQVBJQXV0aGVudGljYXRpb25DaGVjayIsImhlYWRlcnMiLCJyZWY2IiwicmVmNyIsImNvcGllcyIsIkNvb2tpZXMiLCJhdXRoVG9rZW4iLCJjb29raWVzIiwiaXNTcGFjZUFkbWluIiwiaXNfcGFpZCIsImFwcGxpY2FudEluZm8iLCJhcHBsaWNhbnRfaWQiLCJhcHBsaWNhbnRfdXNlcm5hbWUiLCJ1c2VyX2FjY2VwdGVkIiwiaW5zX2lkIiwicGVybV91c2VycyIsIm5leHRfc3RlcF9pZCIsIm5leHRfdXNlcl9pZHMiLCJyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMiLCJpc0luc3RhbmNlRHJhZnQiLCJnZXRGb3JtIiwiY2hlY2tWYWx1ZUZpZWxkc1JlcXVpcmUiLCJnZXROZXh0U3RlcHMiLCJnZXRIYW5kbGVyc01hbmFnZXIiLCJnZXRIYW5kbGVycyIsInN1Ym1pdF9pbnN0YW5jZSIsImFsZXJ0cyIsInN0ZXBuYW1lIiwiJGVsZW1NYXRjaCIsImluYm94X3VlcnMiLCJhcHByb3ZlX2lkIiwicGFyc2VGaWxlcyIsIm1pbWVUeXBlIiwiaXNfcHJpdmF0ZSIsIiR1bnNldCIsImxvY2tlZF9ieSIsImxvY2tlZF9ieV9uYW1lIiwiYXR0YWNoX2lkIiwiZmlsZSIsImNvbHVtbnMiLCJmb3J3YXJkX2lucyIsImZvcndhcmRfaW5zX3ZhbHVlcyIsIm9yaWdpbmFsX2lucyIsIm9yaWdpbmFsX2luc19maWVsZHMiLCJvcmlnaW5hbF9pbnNfZm9ybSIsIm9yaWdpbmFsX2luc19pZCIsIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyIsInJlZjgiLCJyZWY5Iiwicm93X2RhdGEiLCJzdWJUYWJsZSIsInRhYmxlX2RhdGEiLCJjb2x1bW4iLCJvcmlnaW5hbF9pbnNfZmllbGQiLCJvaCIsImFfdGFibGUiLCJhX3RhYmxlX3ZhbHVlcyIsImNvbHVtbl9saXN0IiwiZF9pbnMiLCJkX2luc19maWVsZHMiLCJkX2luc19mb3JtIiwiZF9pbnNfdmFsdWVzIiwiZF9tYXRjaF9jb2wiLCJkX21hdGNoX2NvbF9maWVsZCIsImRfbWF0Y2hfY29sX2ZpZWxkcyIsImRfc3VidGFibGVfZmllbGRzIiwiZF90YWJsZSIsImRfdGFibGVfdmFsdWVzIiwib19pbnMiLCJvX2luc19maWVsZHMiLCJvX2luc19mb3JtIiwib19pbnNfaWQiLCJvX21hdGNoX2NvbCIsIm9fbWF0Y2hfY29sX2ZpZWxkIiwib19tYXRjaF9jb2xfZmllbGRzIiwib19zdWJ0YWJsZV9maWVsZHMiLCJvX3RhYmxlIiwicmVmMTAiLCJyZWYxMSIsInJlZjEyIiwicmVmMTMiLCJyZWYxNCIsInJlZjE1IiwicmVmMTYiLCJyZWYxNyIsInJlZjE4IiwicmVmMTkiLCJyZWYyMCIsInJlZjIxIiwicmVmMjIiLCJvVGFibGUiLCJkVGFibGUiLCJvTWF0Y2hDb2wiLCJkTWF0Y2hDb2wiLCJyZWZpbGxDb2wiLCJhVGFibGUiLCJvX2luc19maWVsZCIsImRfaW5zX2ZpZWxkIiwiZGgiLCJhX3JvdyIsInJlc3VsdHMiLCJtIiwiY29sIiwiY29scyIsImRfY29sIiwiZF9jb2xfZmllbGRzIiwib19jb2wiLCJvX2NvbF9maWVsZHMiLCJkX3JvdyIsImhhc19vYmoiLCJvX3JvdyIsIm5ld190YWJsZV92YWx1ZXMiLCJzb3J0X2NvbCIsInN1Yl90YWJsZSIsInN1Yl90YWJsZV92YWx1ZXMiLCJzdW1fY29sIiwic3VtQ29sIiwic29ydENvbCIsInNpbmdsZUNvbHMiLCJKc29uU29ydCIsImpzb25BcnIiLCJhc2MiLCJqIiwiamwiLCJ0ZW1wIiwiTnVtYmVyIiwicHJvY2VzcyIsImVudiIsIkNSRUFUT1JfTk9ERV9FTlYiLCJhY3Rpb24iLCJ0b191c2VycyIsImdldEZvcm11bGFVc2VyT2JqZWN0cyIsIm9yZ0lkcyIsIm9yZ3MiLCJnZXRGb3JtdWxhT3JnT2JqZWN0cyIsIm1ldGhvZHMiLCJzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlIiwic3RlcF9hcHByb3ZlIiwic3RlcHNBcHByb3Zlc09wdGlvbnMiLCJfa2V5czEiLCJfa2V5czIiLCJzdGVwc0FwcHJvdmVzIiwic3RlcEFwcHJvdmVzIiwic3RlcHNBcHByb3ZlT3B0aW9ucyIsInNldF9pbnN0YW5jZV9za2lwX3N0ZXBzIiwiJHB1bGwiLCJza2lwX3N0ZXBzIiwiJHB1c2giLCJnZXRfaW5zdGFuY2VfZGF0YSIsImZvcm1DYWNoZWQiLCJmbG93Q2FjaGVkIiwiZHJhZnRfc2F2ZV9pbnN0YW5jZSIsImluYm94X3NhdmVfaW5zdGFuY2UiLCJ0cmFjZV9pZCIsIm5leHRfc3RlcHMiLCJjdXJyZW50X2FwcHJvdmUiLCJpc1RyYWNlTm90RmluaXNoZWQiLCJpc0FwcHJvdmVOb3RGaW5pc2hlZCIsImlzSGFuZGxlck9yQWdlbnQiLCJrZXlfc3RyIiwicGVybWlzc2lvbnNfdmFsdWVzIiwiY2hhbmdlX3ZhbHVlcyIsImFwcHJvdmVNYW5hZ2VyIiwiZ2V0Q2hhbmdlVmFsdWVzIiwiZXh0ZW5kIiwidmFsdWVzX2hpc3RvcnkiLCJmb3JtX3YiLCJnZXRJbnN0YW5jZU5hbWUiLCJjY19kbyIsImNjX3VzZXJfaWRzIiwibmV3X2FwcHJvdmVzIiwib3JnX2lkIiwiZmlsZWRzIiwiY2NfcmVhZCIsImNjX3N1Ym1pdCIsInRpZHgiLCJhaWR4IiwidXBvYmoiLCJ1cGRhdGVkX3ZhbHVlcyIsImdldFVwZGF0ZWRWYWx1ZXMiLCJjY19yZW1vdmUiLCJyZW1vdmVfdXNlcl9pZCIsIm11bHRpIiwiY2Nfc2F2ZSIsImN1cnJlbnRTdGVwSWQiLCJ1cGRhdGVPYmoiLCJwdXNoT2JqIiwiZm9yd2FyZF9yZW1vdmUiLCJoYXNBZG1pblBlcm1pc3Npb24iLCJmb3J3YXJkX2luc3RhbmNlX2lkIiwiZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkIiwiY2FuY2VsRGlzdHJpYnV0ZSIsImFwcHJvdmVfaWRzIiwiZXhpc3RzIiwiY2ZzX2luc3RhbmNlc19yZW1vdmUiLCJmaWxlX2lkIiwiY2ZzX2luc3RhbmNlc19zZXRfY3VycmVudCIsImNmc19pbnN0YW5jZXNfbG9jayIsImNmc19pbnN0YW5jZXNfdW5sb2NrIiwiZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzayIsImNmc1JlY29yZElkcyIsImlzX2Nsb3VkYWRtaW4iLCJzdG9yZSIsImZzIiwibWtkaXJwIiwiX19tZXRlb3JfYm9vdHN0cmFwX18iLCJzZXJ2ZXJEaXIiLCJhYnNvbHV0ZVBhdGgiLCJyZXNvbHZlIiwic3luYyIsInRpbWUiLCJkb3dubG9hZEZhaWxlZFJlY29yZElkcyIsImZpbGVQYXRoIiwid3JhcEFzeW5jIiwid3JpdGVyIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJpc0Z1bmN0aW9uIiwicmVhZGVyIiwicGlwZSIsInRpbWVFbmQiLCJzZXRfYXBwcm92ZV9oYXZlX3JlYWQiLCJzZWxmIiwiY2hhbmdlX2FwcHJvdmVfaW5mbyIsInVwZGF0ZV9hcHByb3ZlX3NpZ24iLCJzaWduX3R5cGUiLCJsYXN0U2lnbkFwcHJvdmUiLCJjdXJyZW50QXBwcm92ZURlc2NyaXB0aW9uIiwiY3VycmVudFRyYWNlIiwic2Vzc2lvbl91c2VySWQiLCJ0cmltRGVzY3JpcHRpb24iLCJ1cE9iaiIsImtlZXBMYXN0U2lnbkFwcHJvdmVEZXNjcmlwdGlvbiIsImN1c3RvbV9zaWduX3Nob3ciLCJ0SWR4IiwiYUlkeCIsInVwZGF0ZV9zaWduX3Nob3ciLCJvYmpzIiwibXlBcHByb3ZlX2lkIiwiaW5zdGFuY2VfcmV0dXJuIiwiYXBwcm92ZV92YWx1ZXMiLCJwcmVfc3RlcCIsInByZV90cmFjZSIsInJlc3RfY291bnRlcl91c2VycyIsIm5leHRfc3RlcF91c2VyX2lkIiwibmV4dF9zdGVwX3NwYWNlX3VzZXIiLCJuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyIsImluc3RhbmNlX3JlbWluZCIsInJlbWluZF91c2VycyIsInJlbWluZF9jb3VudCIsInJlbWluZF9kZWFkbGluZSIsImFjdGlvbl90eXBlcyIsImxhc3RfcmVtaW5kX3VzZXJzIiwicHJpb3JpdHkiLCJhcCIsImNhY3VsYXRlX2RhdGUiLCJtYW51YWxfZGVhZGxpbmUiLCJjYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheSIsInJlbWluZF9kYXRlIiwiY2FjdWxhdGVXb3JraW5nVGltZSIsImJhc2VfZGF0ZSIsInBsdXNfaGFsZmRheV9kYXRlIiwic2VuZFJlbWluZFNNUyIsIm5leHRfc3RlcF91c2Vyc19ub3RfZm91bmQiLCJkZWFsX3R5cGUiLCJhcHByb3Zlcl9yb2xlcyIsInJvbGVzX25hbWUiLCJyb2xlX25hbWUiLCJfZXZhbCIsIl9OVU1CRVIiLCJfWVlZWSIsIm51bWJlclJ1bGVzIiwicGFkZGluZyIsInJ1bGVzIiwic2NyaXB0IiwiaW5zdGFuY2VfbnVtYmVyX3J1bGVzIiwibnVtYmVyIiwiWVlZWSIsIk1NIiwibW0iLCJERCIsImdldERhdGUiLCJkZCIsImZpcnN0X251bWJlciIsIm51bSIsImRpZmYiLCJsZW4iLCJOVU1CRVIiLCJuZXdObyIsIl9lcnJvciIsImNoZWNrX21haW5fYXR0YWNoIiwiY2hlY2tNYWluQXR0YWNoIiwicmVtb3ZlX3JlbGF0ZWQiLCJyZV9pbnNfaWQiLCJ1cGRhdGVfaW5zdGFuY2VfcmVsYXRlZCIsInVwZGF0ZUZsb3dQb3NpdGlvbiIsInJvbGUiLCJ1cGRhdGVGbG93Um9sZSIsInN0YXJ0X2Zsb3ciLCJrZXlWYWx1ZSIsInN0YXJ0X2Zsb3dzIiwic3RlZWRvc19rZXl2YWx1ZXMiLCJnZXRfaW5zdGFuY2VfdHJhY2VzIiwibWluaUFwcHJvdmVGaWVsZHMiLCJjYXRlZ29yeUlkIiwiZmxvd0lkcyIsIl9iYXRjaF9pbnN0YW5jZXMiLCJnZXRCYXRjaEluc3RhbmNlcyIsIm15QXBwcm92ZXMiLCJteV9hcHByb3ZlIiwiZ2V0TXlBcHByb3ZlIiwiY2hhbmdlX2Zsb3dfc3RhdGUiLCJfdXNlcklkIiwiX2Zsb3dzIiwiX2Zsb3dzX3N0YXRlIiwiZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlIiwic3BlY2lmeVN0ZXAiLCJhcHByb3Zlcl9zdGVwIiwiX3N0ZXAiLCJmaWVsZHNfbW9kaWZpYWJsZSIsImhpZGVfaW5zdGFuY2UiLCJpc19oaWRkZW4iLCJnZXRJbnN0YW5jZVZhbHVlcyIsImdldEluc3RhbmNlUmVhZE9ubHkiLCJfaGFzUGVybWlzc2lvbiIsIl9sb2NhbGUiLCJfcGFyZW50X2luc3RhbmNlcyIsImRhdGFCdWYiLCJoaWRlX3RyYWNlcyIsInNwYWNlVXNlckNvdW50IiwiZ2V0QVBJTG9naW5Vc2VyIiwiYWNjZXNzX3Rva2VuIiwiZ2V0VXNlcklkRnJvbUFjY2Vzc1Rva2VuIiwiaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyIsIl9wYXJlbnRfaWQiLCJfcGFyZW50X2lucyIsImNoYXJzZXQiLCJyZXRfc3luY190b2tlbiIsInNwYWNlVXNlciIsImNhbk1vbml0b3IiLCIkZ3QiLCIkbmluIiwic2tpcCIsImFsbENzcyIsImdldFJlZnJlc2hhYmxlQXNzZXRzIiwiY3NzIiwiUk9PVF9VUkwiLCJlbmRzV2l0aCIsImciLCJrIiwiZ2V0RWFjaCIsIm1peGluIiwiZGVzdCIsImhhbmRlclVzZXJPYmplY3QiLCJociIsInNvcnRfbm8iLCJtb2JpbGUiLCJ3b3JrX3Bob25lIiwicG9zaXRpb24iLCJ1c2VyUm9sZXMiLCJoYW5kZXJPcmdPYmplY3QiLCJfX3ZhbHVlcyIsInRhYmxlRmllbGRzIiwidGFibGVWYWx1ZXMiLCJmb3JtdWxhVGFibGVWYWx1ZXMiLCJfX3RhYmxlVmFsdWVzIiwidGFibGVmaWVsZCIsImV4Y3V0ZVRyaWdnZXJzIiwic2VydmljZVdvcmtmbG93IiwiZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMiLCJyb2xlX2lkcyIsImFwcHJvdmVfdXNlcnMiLCJnZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzIiwicm9sZV9pZCIsImdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSIsImdldEhhbmRsZXJzQnlPcmdBbmRSb2xlIiwiZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyIsIm9yZ19pZHMiLCJnZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMiLCJwYXJlbnRfaWQiLCJsb2dpbl91c2VyX2lkIiwiX2FwcHJvdmUiLCJfc3BhY2VfdXNlciIsIl90cmFjZSIsImFwcGxpY2FudFN1cGVyaW9ycyIsImFwcHJvdmVIclJvbGVJZHMiLCJhcHByb3Zlcl9vcmdfZmllbGQiLCJhcHByb3Zlcl9vcmdfaWRzIiwiYXBwcm92ZXJfdXNlcl9maWVsZCIsImFwcHJvdmVyX3VzZXJfaWRzIiwiY3VycmVudF9mbG93IiwiY3VycmVudF9mbG93X3ZlcnNpb24iLCJjdXJyZW50X2Zvcm0iLCJjdXJyZW50X3N0ZXBzIiwiZmllbGRfY29kZSIsImZpbmlzaGVkX3RyYWNlcyIsImZsb3dfcmV2IiwiZm9ybV9pZCIsImZvcm1fcmV2IiwiaGFuZGxlcnMiLCJtYXhfc3RhcnREYXRlX3RyYWNlIiwibmV3X2FwcHJvdmVyX3VzZXJfaWRzIiwibmV3X29yZ191c2VyX2lkcyIsIm5ld2VzdF92YWx1ZXMiLCJuZXh0X3N0ZXBfdXNlcnMiLCJvcmdfaWRzX25hbWVzIiwib3JnX3VzZXJfaWRzIiwic3BhY2VfdXNlcl9jb3VudCIsInN1Ym1pdHRlcl91c2VyX2NvdW50IiwidW5maW5pc2hlZF90cmFjZSIsInVzZXJfaWRzX25hbWVzIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkcyIsImhpc3RvcnkiLCJhcHByb3Zlcl9yb2xlIiwicm9sZV9jb3VudCIsImFwcHJvdmVyX2hyX3JvbGVzIiwiZ2V0SHJSb2xlc1VzZXJzIiwiY3VycmVudF9mbG93X2hpc3RvcnkiLCJmb3JtX2hpc3RvcnkiLCJmb3JtX2ZpZWxkIiwiY2hlY2tfb3JnX2NvdW50IiwiY2hlY2tfb3JncyIsIm9yZ19jaGlsZHJlbiIsIm9yZ191c2VycyIsImNoZWNrX29yZ191c2VyIiwib3JnX3VzZXIiLCJjaGVja191c2VyX2NvdW50IiwiYXBwcm92ZV91c2VyIiwiY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50IiwiYXBwcm92ZXJfb3JncyIsImFwcHJvdmVyX29yZ19pZCIsInZhbGlkX2FwcHJvdmVyX29yZ19pZCIsImNoaWxkX29yZ3MiLCJ2YWxpZF9hcHByb3Zlcl9vcmciLCJjaGlsZF9vcmciLCJvcmdfdXNlcl9pZCIsInNwYWNlX3VzZXJfaW5mb19jb3VudCIsImFwcHJvdmVyX3VzZXJzIiwiYXBwcm92ZXJfdXNlcl9pZCIsIl90ciIsIl9hcHAiLCJtYW5hZ2VyIiwibmV4dFN0ZXAiLCJuZXh0VXNlcklkcyIsImNiIiwid2hlbiIsInRoZW4iLCJyZWplY3QiLCJteV9wZXJtaXNzaW9ucyIsIm9yZ3NfY2FuX2FkZCIsIm9yZ3NfY2FuX2FkbWluIiwib3Jnc19jYW5fbW9uaXRvciIsInVzZXJzX2Nhbl9hZGQiLCJ1c2Vyc19jYW5fYWRtaW4iLCJ1c2Vyc19jYW5fbW9uaXRvciIsImxhc3RfdmFsdWVzIiwiYXBwcm92ZV92YWx1ZXNfa2V5cyIsImNoYW5nZVZhbHVlcyIsImxhc3RfdmFsdWVzX2tleXMiLCJpc0VxdWFsIiwiZmxvd01hbmFnZXIiLCJnZXRDYXRlZ29yaWVzRmxvd3MiLCJjYXRlZ29yaWVJZCIsImNhdGVnb3JpZXNGb3JtcyIsImZvcm1NYW5hZ2VyIiwiZ2V0Q2F0ZWdvcmllc0Zvcm1zIiwiZ2V0VW5DYXRlZ29yaWVzRmxvd3MiLCJ1bkNhdGVnb3JpZXNGb3JtcyIsImdldFVuQ2F0ZWdvcmllc0Zvcm1zIiwiX2ZpZWxkcyIsInN0ZXBNYW5hZ2VyIiwiYWxsb3dCYXRjaCIsImlzRXhpc3RTdGVwIiwibG9nZ2VyIiwiTG9nZ2VyIiwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcCIsImZpZWxkX21hcCIsImN1cnJlbnRBcHByb3ZlcyIsImN1cnJlbnRUcmFjZXMiLCJnZXRDdXJyZW50VHJhY2UiLCJpbmJveF91c2VyIiwiRklFTERTIiwiY2F0ZWdvcnlGbG93cyIsImluYm94X2luc3RhbmNlcyIsInVuQ2F0ZWdvcnlGbG93cyIsImFwcHJvdmVfc3RhcnRfZGF0ZSIsInB1Ymxpc2giLCJyZWFkeSIsImFwcCIsInB1Ymxpc2hDb21wb3NpdGUiLCJ0YWJsZU5hbWUiLCJpZHMiLCJPcHRpb25hbCIsInVuYmxvY2siLCJjaGlsZHJlbiIsImNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3ciLCJkaXN0cmlidXRlX3RvX3NlbGYiLCJ2ZXJzaW9uSWQiLCJoYW5kbGUiLCJsYXRlc3QiLCJvYnNlcnZlQ2hhbmdlcyIsImNoYW5nZWQiLCJhZGRlZCIsIm9uU3RvcCIsInN0b3AiLCJkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb24iLCJhbGxvd19zZWxlY3Rfc3RlcCIsImdldE1pbmlJbnN0YW5jZSIsImdldE15YXBwcm92ZU1vZGlmaWVkIiwiaW5zdGFuY2VfZmllbGRzXzAiLCJuZWVkQ2hhbmdlIiwidHJpZ2dlckNoYW5nZUZpZWxkcyIsInRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMiLCJteUFwcHJvdmVNb2RpZmllZHMiLCJfaW5zdGFuY2VJZCIsImNoYW5nZUZpZWxkcyIsIl9jaGFuZ2UiLCJfcmV2IiwiX215X2FwcHJvdmVfbW9kaWZpZWRzIiwiZ2V0SW5zdGFuY2VUcmFjZXMiLCJfaW5zSWQiLCJhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUiLCJsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlIiwiaW5zdGFuY2VpZCIsImRhdGFNYXAiLCJvcGVyYXRpb24iLCJyYXdDb2xsZWN0aW9uIiwiYWdncmVnYXRlIiwidG9BcnJheSIsImRvYyIsImdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSIsImdldFN0ZXBDdXJyZW50TmFtZSIsIm5vdEZpbmlzaGVkVHJhY2VzIiwic3RlcEN1cnJlbnROYW1lIiwiJHNsaWNlIiwibXlMYXN0RmluaXNoZWRBcHByb3ZlIiwiYWdlbnRfdXNlcl9uYW1lIiwibXlfZmluaXNoX2RhdGUiLCJpc19jYyIsImNjX2NvdW50IiwiaW5zdGFuY2VfaWRzIiwicmVsYXRlZF9pbnN0YW5jZV9pZHMiLCJfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSIsIl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlIiwiX2l0ZW1zIiwiJG1hdGNoIiwiJGdyb3VwIiwiJHN1bSIsIl9jaGFuZ2VEYXRhIiwiX2Zsb3dzRGF0YSIsIl9pbml0IiwiZGF0YUl0ZW0iLCJmbG93X2luc3RhbmNlIiwib2JzZXJ2ZSIsImdldENvbGxlY3Rpb24iLCJ3b3JrZmxvd1RlbXBsYXRlIiwiYWJzb2x1dGVfcGF0aF9jbiIsImFic29sdXRlX3BhdGhfdXMiLCJmaWxlc0xpc3RfY24iLCJmaWxlc0xpc3RfdXMiLCJtaW1lIiwicGF0aF9jbiIsInBhdGhfdXMiLCJyZWFkRmlsZUxpc3QiLCJwYXRoRGlyIiwiZmlsZXNMaXN0IiwicmVhZGRpclN5bmMiLCJzdGF0Iiwic3RhdFN5bmMiLCJpc0RpcmVjdG9yeSIsIndvcmtmbG93VGVtcGxhdGVzIiwiZXhpc3RzU3luYyIsInJlYWRGaWxlU3luYyIsImdvX25leHQiLCJydWxlIiwic2NoZWR1bGUiLCJjcm9uIiwiYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uIiwic2NoZWR1bGVKb2IiLCJiaW5kRW52aXJvbm1lbnQiLCJwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMiLCJlbmRfdGltZSIsInRpbWVvdXRBdXRvU3VibWl0IiwiVGFidWxhclRhYmxlcyIsInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIiLCJUYWJ1bGFyIiwiVGFibGUiLCJvcmRlcmFibGUiLCJyZW5kZXIiLCJpbnB1dCIsInN0ZXBfY3VycmVudF9uYW1lIiwiZG9tIiwibGVuZ3RoQ2hhbmdlIiwiZXh0cmFGaWVsZHMiLCJwYWdlTGVuZ3RoIiwiaW5mbyIsInNlYXJjaGluZyIsInJlc3BvbnNpdmUiLCJkZXRhaWxzIiwiYXV0b1dpZHRoIiwiY2hhbmdlU2VsZWN0b3IiLCJjdXJTcGFjZVVzZXIiLCIkYW5kIiwiZmwiLCJHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyIsIl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyIsIl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMiLCJfaGFuZGxlTGlzdEZpZWxkcyIsImluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIiLCJuZXdJbnN0YW5jZXNMaXN0VGFidWxhciIsInVwZGF0ZVRhYnVsYXJUaXRsZSIsInN1YnMiLCJTdWJzTWFuYWdlciIsImluc19maWVsZHMiLCJwdWIiLCJvblVubG9hZCIsImluc3RhbmNlX2xpc3QiLCJfdGFibGVDb2x1bW5zIiwiZHJhd0NhbGxiYWNrIiwiZWxsaXBzaXNMaW5rIiwiZW1wdHlUZCIsImNvbFNwYW4iLCJpc1BhZCIsInBlcmZlY3RTY3JvbGxiYXIiLCJvSW5zdGFuY2UiLCJhdHRyIiwiY2xpY2siLCJnb1BhZ2UiLCJoZWlnaHQiLCJwYWdlcyIsImNlaWwiLCJmblJlY29yZHNEaXNwbGF5IiwiX2lEaXNwbGF5TGVuZ3RoIiwiRGF0YVRhYmxlIiwicGFnZSIsImRyYXciLCJibHVyIiwiY3VycmVudFBhZ2UiLCJrZXlkb3duIiwia2V5Q29kZSIsImNyZWF0ZWRSb3ciLCJyb3ciLCJkYXRhSW5kZXgiLCJGbG93Um91dGVyIiwic2V0QXR0cmlidXRlIiwiYWdlbnRfdmlldyIsImNjX3ZpZXciLCJpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzIiwibW9kaWZpZWRGcm9tTm93IiwibW9kaWZpZWRTdHJpbmciLCJwcmlvcml0eUljb24iLCJwcmlvcml0eUljb25DbGFzcyIsInByaW9yaXR5VmFsdWUiLCJzdGVwX2N1cnJlbnRfbmFtZV92aWV3IiwidW5yZWFkIiwibW9tZW50UmVhY3RpdmVGcm9tTm93IiwidmlzaWJsZSIsImNjX3RhZyIsImxlbmd0aE1lbnUiLCJwYWdpbmdUeXBlIiwiaXNfbGlzdF9kaXNwbGF5IiwiZmlsdGVyZWRSZWNvcmRJZHMiLCJvbGRfZmlsdGVyZWRSZWNvcmRJZHMiLCJmaW5kT3B0aW9ucyIsImFnX3NvcnQiLCJhZ2dyZWdhdGVfb3BlcmF0aW9uIiwiYXN5bmNfYWdncmVnYXRlIiwiczFfMCIsInMxXzEiLCIkcHJvamVjdCIsIiR1bndpbmQiLCIkZmlyc3QiLCIkc29ydCIsIiRza2lwIiwiJGxpbWl0IiwiJGxhc3QiLCJvdXRib3hfaW5zdGFuY2VzIiwiZmxvd0luc3RhbmNlcyIsIlJlYWN0aXZlVmFyIiwiX2NoYW5nZU9yZGVyIl0sIm1hcHBpbmdz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QixLQUFLO0FEL0YxQyxTQ2dHTTtBQUNESSxnQkFBUTtBQUNOLDRCQUFrQjtBQURaO0FBRFAsT0RoR04sTUNvR1UsSURwR1YsR0NvR2lCLENBQUN3SCxPQUFPM0csSUFBSWdHLE9BQVosS0FBd0IsSUFBeEIsR0FBK0JXLEtEcEc4Q3hILE1Db0c3RSxHRHBHNkUsTUFBOUYsR0FBOEYsTUFBOUY7QUFDQSxhQUFPQSxNQUFQO0FBTEQ7QUFBQSxHQUREO0FDNkdBLEMiLCJmaWxlIjoiL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGVja05wbVZlcnNpb25zIH0gZnJvbSAnbWV0ZW9yL3RtZWFzZGF5OmNoZWNrLW5wbS12ZXJzaW9ucyc7XG5jaGVja05wbVZlcnNpb25zKHtcblx0XCJub2RlLXNjaGVkdWxlXCI6IFwiXjEuMy4xXCIsXG5cdFwieG1sMmpzXCI6IFwiXjAuNC4xOVwiLFxufSwgJ3N0ZWVkb3M6d29ya2Zsb3cnKTsiLCIvKiFcbiAqIFVSSS5qcyAtIE11dGF0aW5nIFVSTHNcbiAqXG4gKiBWZXJzaW9uOiAxLjE3LjBcbiAqXG4gKiBBdXRob3I6IFJvZG5leSBSZWhtXG4gKiBXZWI6IGh0dHA6Ly9tZWRpYWxpemUuZ2l0aHViLmlvL1VSSS5qcy9cbiAqXG4gKiBMaWNlbnNlZCB1bmRlclxuICogICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlXG4gKiAgIEdQTCB2MyBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvR1BMLTMuMFxuICpcbiAqL1xuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9ibG9iL21hc3Rlci9yZXR1cm5FeHBvcnRzLmpzXG5cdC8vIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0Ly8gICAvLyBOb2RlXG5cdC8vICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJy4vcHVueWNvZGUnKSwgcmVxdWlyZSgnLi9JUHY2JyksIHJlcXVpcmUoJy4vU2Vjb25kTGV2ZWxEb21haW5zJykpO1xuXHQvLyB9IGVsc2Vcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoWycuL3B1bnljb2RlJywgJy4vSVB2NicsICcuL1NlY29uZExldmVsRG9tYWlucyddLCBmYWN0b3J5KTtcblx0fSBlbHNlIHtcblx0XHQvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuXHRcdHJvb3QuVVJJID0gZmFjdG9yeShyb290LnB1bnljb2RlLCByb290LklQdjYsIHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLCByb290KTtcblx0fVxufSh0aGlzLCBmdW5jdGlvbiAocHVueWNvZGUsIElQdjYsIFNMRCwgcm9vdCkge1xuXHQndXNlIHN0cmljdCc7XG5cdC8qZ2xvYmFsIGxvY2F0aW9uLCBlc2NhcGUsIHVuZXNjYXBlICovXG5cdC8vIEZJWE1FOiB2Mi4wLjAgcmVuYW1jZSBub24tY2FtZWxDYXNlIHByb3BlcnRpZXMgdG8gdXBwZXJjYXNlXG5cdC8qanNoaW50IGNhbWVsY2FzZTogZmFsc2UgKi9cblxuXHQvLyBzYXZlIGN1cnJlbnQgVVJJIHZhcmlhYmxlLCBpZiBhbnlcblx0dmFyIF9VUkkgPSByb290ICYmIHJvb3QuVVJJO1xuXG5cdGZ1bmN0aW9uIFVSSSh1cmwsIGJhc2UpIHtcblx0XHR2YXIgX3VybFN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAxO1xuXHRcdHZhciBfYmFzZVN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xuXG5cdFx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXG5cdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIFVSSSkpIHtcblx0XHRcdGlmIChfdXJsU3VwcGxpZWQpIHtcblx0XHRcdFx0aWYgKF9iYXNlU3VwcGxpZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFVSSSh1cmwsIGJhc2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG5ldyBVUkkodXJsKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG5ldyBVUkkoKTtcblx0XHR9XG5cblx0XHRpZiAodXJsID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChfdXJsU3VwcGxpZWQpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcigndW5kZWZpbmVkIGlzIG5vdCBhIHZhbGlkIGFyZ3VtZW50IGZvciBVUkknKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBsb2NhdGlvbiAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0dXJsID0gbG9jYXRpb24uaHJlZiArICcnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dXJsID0gJyc7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dGhpcy5ocmVmKHVybCk7XG5cblx0XHQvLyByZXNvbHZlIHRvIGJhc2UgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29uc3RydWN0b3Jcblx0XHRpZiAoYmFzZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5hYnNvbHV0ZVRvKGJhc2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0VVJJLnZlcnNpb24gPSAnMS4xNy4wJztcblxuXHR2YXIgcCA9IFVSSS5wcm90b3R5cGU7XG5cdHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5cdGZ1bmN0aW9uIGVzY2FwZVJlZ0V4KHN0cmluZykge1xuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2NvbW1pdC84NWFjMjE3ODNjMTFmOGNjYWIwNjEwNmRiYTk3MzVhMzFhODY5MjRkI2NvbW1pdGNvbW1lbnQtODIxOTYzXG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKC8oWy4qKz9ePSE6JHt9KCl8W1xcXVxcL1xcXFxdKS9nLCAnXFxcXCQxJyk7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRUeXBlKHZhbHVlKSB7XG5cdFx0Ly8gSUU4IGRvZXNuJ3QgcmV0dXJuIFtPYmplY3QgVW5kZWZpbmVkXSBidXQgW09iamVjdCBPYmplY3RdIGZvciB1bmRlZmluZWQgdmFsdWVcblx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuICdVbmRlZmluZWQnO1xuXHRcdH1cblxuXHRcdHJldHVybiBTdHJpbmcoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSkuc2xpY2UoOCwgLTEpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaXNBcnJheShvYmopIHtcblx0XHRyZXR1cm4gZ2V0VHlwZShvYmopID09PSAnQXJyYXknO1xuXHR9XG5cblx0ZnVuY3Rpb24gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YSwgdmFsdWUpIHtcblx0XHR2YXIgbG9va3VwID0ge307XG5cdFx0dmFyIGksIGxlbmd0aDtcblxuXHRcdGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHtcblx0XHRcdGxvb2t1cCA9IG51bGw7XG5cdFx0fSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0bG9va3VwW3ZhbHVlW2ldXSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGxvb2t1cFt2YWx1ZV0gPSB0cnVlO1xuXHRcdH1cblxuXHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IGRhdGEubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdC8qanNoaW50IGxheGJyZWFrOiB0cnVlICovXG5cdFx0XHR2YXIgX21hdGNoID0gbG9va3VwICYmIGxvb2t1cFtkYXRhW2ldXSAhPT0gdW5kZWZpbmVkXG5cdFx0XHRcdHx8ICFsb29rdXAgJiYgdmFsdWUudGVzdChkYXRhW2ldKTtcblx0XHRcdC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqL1xuXHRcdFx0aWYgKF9tYXRjaCkge1xuXHRcdFx0XHRkYXRhLnNwbGljZShpLCAxKTtcblx0XHRcdFx0bGVuZ3RoLS07XG5cdFx0XHRcdGktLTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZGF0YTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFycmF5Q29udGFpbnMobGlzdCwgdmFsdWUpIHtcblx0XHR2YXIgaSwgbGVuZ3RoO1xuXG5cdFx0Ly8gdmFsdWUgbWF5IGJlIHN0cmluZywgbnVtYmVyLCBhcnJheSwgcmVnZXhwXG5cdFx0aWYgKGlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHQvLyBOb3RlOiB0aGlzIGNhbiBiZSBvcHRpbWl6ZWQgdG8gTyhuKSAoaW5zdGVhZCBvZiBjdXJyZW50IE8obSAqIG4pKVxuXHRcdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gdmFsdWUubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKCFhcnJheUNvbnRhaW5zKGxpc3QsIHZhbHVlW2ldKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR2YXIgX3R5cGUgPSBnZXRUeXBlKHZhbHVlKTtcblx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoX3R5cGUgPT09ICdSZWdFeHAnKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgbGlzdFtpXSA9PT0gJ3N0cmluZycgJiYgbGlzdFtpXS5tYXRjaCh2YWx1ZSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChsaXN0W2ldID09PSB2YWx1ZSkge1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRmdW5jdGlvbiBhcnJheXNFcXVhbChvbmUsIHR3bykge1xuXHRcdGlmICghaXNBcnJheShvbmUpIHx8ICFpc0FycmF5KHR3bykpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBhcnJheXMgY2FuJ3QgYmUgZXF1YWwgaWYgdGhleSBoYXZlIGRpZmZlcmVudCBhbW91bnQgb2YgY29udGVudFxuXHRcdGlmIChvbmUubGVuZ3RoICE9PSB0d28ubGVuZ3RoKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0b25lLnNvcnQoKTtcblx0XHR0d28uc29ydCgpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSBvbmUubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRpZiAob25lW2ldICE9PSB0d29baV0pIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0ZnVuY3Rpb24gdHJpbVNsYXNoZXModGV4dCkge1xuXHRcdHZhciB0cmltX2V4cHJlc3Npb24gPSAvXlxcLyt8XFwvKyQvZztcblx0XHRyZXR1cm4gdGV4dC5yZXBsYWNlKHRyaW1fZXhwcmVzc2lvbiwgJycpO1xuXHR9XG5cblx0VVJJLl9wYXJ0cyA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRwcm90b2NvbDogbnVsbCxcblx0XHRcdHVzZXJuYW1lOiBudWxsLFxuXHRcdFx0cGFzc3dvcmQ6IG51bGwsXG5cdFx0XHRob3N0bmFtZTogbnVsbCxcblx0XHRcdHVybjogbnVsbCxcblx0XHRcdHBvcnQ6IG51bGwsXG5cdFx0XHRwYXRoOiBudWxsLFxuXHRcdFx0cXVlcnk6IG51bGwsXG5cdFx0XHRmcmFnbWVudDogbnVsbCxcblx0XHRcdC8vIHN0YXRlXG5cdFx0XHRkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnM6IFVSSS5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsXG5cdFx0XHRlc2NhcGVRdWVyeVNwYWNlOiBVUkkuZXNjYXBlUXVlcnlTcGFjZVxuXHRcdH07XG5cdH07XG5cdC8vIHN0YXRlOiBhbGxvdyBkdXBsaWNhdGUgcXVlcnkgcGFyYW1ldGVycyAoYT0xJmE9MSlcblx0VVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlO1xuXHQvLyBzdGF0ZTogcmVwbGFjZXMgKyB3aXRoICUyMCAoc3BhY2UgaW4gcXVlcnkgc3RyaW5ncylcblx0VVJJLmVzY2FwZVF1ZXJ5U3BhY2UgPSB0cnVlO1xuXHQvLyBzdGF0aWMgcHJvcGVydGllc1xuXHRVUkkucHJvdG9jb2xfZXhwcmVzc2lvbiA9IC9eW2Etel1bYS16MC05ListXSokL2k7XG5cdFVSSS5pZG5fZXhwcmVzc2lvbiA9IC9bXmEtejAtOVxcLi1dL2k7XG5cdFVSSS5wdW55Y29kZV9leHByZXNzaW9uID0gLyh4bi0tKS9pO1xuXHQvLyB3ZWxsLCAzMzMuNDQ0LjU1NS42NjYgbWF0Y2hlcywgYnV0IGl0IHN1cmUgYWluJ3Qgbm8gSVB2NCAtIGRvIHdlIGNhcmU/XG5cdFVSSS5pcDRfZXhwcmVzc2lvbiA9IC9eXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9XFwuXFxkezEsM30kLztcblx0Ly8gY3JlZGl0cyB0byBSaWNoIEJyb3duXG5cdC8vIHNvdXJjZTogaHR0cDovL2ZvcnVtcy5pbnRlcm1hcHBlci5jb20vdmlld3RvcGljLnBocD9wPTEwOTYjMTA5NlxuXHQvLyBzcGVjaWZpY2F0aW9uOiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmM0MjkxLnR4dFxuXHRVUkkuaXA2X2V4cHJlc3Npb24gPSAvXlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC87XG5cdC8vIGV4cHJlc3Npb24gdXNlZCBpcyBcImdydWJlciByZXZpc2VkXCIgKEBncnViZXIgdjIpIGRldGVybWluZWQgdG8gYmUgdGhlXG5cdC8vIGJlc3Qgc29sdXRpb24gaW4gYSByZWdleC1nb2xmIHdlIGRpZCBhIGNvdXBsZSBvZiBhZ2VzIGFnbyBhdFxuXHQvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4XG5cdC8vICogaHR0cDovL3JvZG5leXJlaG0uZGUvdC91cmwtcmVnZXguaHRtbFxuXHRVUkkuZmluZF91cmlfZXhwcmVzc2lvbiA9IC9cXGIoKD86W2Etel1bXFx3LV0rOig/OlxcL3sxLDN9fFthLXowLTklXSl8d3d3XFxkezAsM31bLl18W2EtejAtOS5cXC1dK1suXVthLXpdezIsNH1cXC8pKD86W15cXHMoKTw+XSt8XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKSkrKD86XFwoKFteXFxzKCk8Pl0rfChcXChbXlxccygpPD5dK1xcKSkpKlxcKXxbXlxcc2AhKClcXFtcXF17fTs6J1wiLiw8Pj/Cq8K74oCc4oCd4oCY4oCZXSkpL2lnO1xuXHRVUkkuZmluZFVyaSA9IHtcblx0XHQvLyB2YWxpZCBcInNjaGVtZTovL1wiIG9yIFwid3d3LlwiXG5cdFx0c3RhcnQ6IC9cXGIoPzooW2Etel1bYS16MC05ListXSo6XFwvXFwvKXx3d3dcXC4pL2dpLFxuXHRcdC8vIGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIG5leHQgd2hpdGVzcGFjZVxuXHRcdGVuZDogL1tcXHNcXHJcXG5dfCQvLFxuXHRcdC8vIHRyaW0gdHJhaWxpbmcgcHVuY3R1YXRpb24gY2FwdHVyZWQgYnkgZW5kIFJlZ0V4cFxuXHRcdHRyaW06IC9bYCEoKVxcW1xcXXt9OzonXCIuLDw+P8KrwrvigJzigJ3igJ7igJjigJldKyQvXG5cdH07XG5cdC8vIGh0dHA6Ly93d3cuaWFuYS5vcmcvYXNzaWdubWVudHMvdXJpLXNjaGVtZXMuaHRtbFxuXHQvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfVENQX2FuZF9VRFBfcG9ydF9udW1iZXJzI1dlbGwta25vd25fcG9ydHNcblx0VVJJLmRlZmF1bHRQb3J0cyA9IHtcblx0XHRodHRwOiAnODAnLFxuXHRcdGh0dHBzOiAnNDQzJyxcblx0XHRmdHA6ICcyMScsXG5cdFx0Z29waGVyOiAnNzAnLFxuXHRcdHdzOiAnODAnLFxuXHRcdHdzczogJzQ0Mydcblx0fTtcblx0Ly8gYWxsb3dlZCBob3N0bmFtZSBjaGFyYWN0ZXJzIGFjY29yZGluZyB0byBSRkMgMzk4NlxuXHQvLyBBTFBIQSBESUdJVCBcIi1cIiBcIi5cIiBcIl9cIiBcIn5cIiBcIiFcIiBcIiRcIiBcIiZcIiBcIidcIiBcIihcIiBcIilcIiBcIipcIiBcIitcIiBcIixcIiBcIjtcIiBcIj1cIiAlZW5jb2RlZFxuXHQvLyBJJ3ZlIG5ldmVyIHNlZW4gYSAobm9uLUlETikgaG9zdG5hbWUgb3RoZXIgdGhhbjogQUxQSEEgRElHSVQgLiAtXG5cdFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMgPSAvW15hLXpBLVowLTlcXC4tXS87XG5cdC8vIG1hcCBET00gRWxlbWVudHMgdG8gdGhlaXIgVVJJIGF0dHJpYnV0ZVxuXHRVUkkuZG9tQXR0cmlidXRlcyA9IHtcblx0XHQnYSc6ICdocmVmJyxcblx0XHQnYmxvY2txdW90ZSc6ICdjaXRlJyxcblx0XHQnbGluayc6ICdocmVmJyxcblx0XHQnYmFzZSc6ICdocmVmJyxcblx0XHQnc2NyaXB0JzogJ3NyYycsXG5cdFx0J2Zvcm0nOiAnYWN0aW9uJyxcblx0XHQnaW1nJzogJ3NyYycsXG5cdFx0J2FyZWEnOiAnaHJlZicsXG5cdFx0J2lmcmFtZSc6ICdzcmMnLFxuXHRcdCdlbWJlZCc6ICdzcmMnLFxuXHRcdCdzb3VyY2UnOiAnc3JjJyxcblx0XHQndHJhY2snOiAnc3JjJyxcblx0XHQnaW5wdXQnOiAnc3JjJywgLy8gYnV0IG9ubHkgaWYgdHlwZT1cImltYWdlXCJcblx0XHQnYXVkaW8nOiAnc3JjJyxcblx0XHQndmlkZW8nOiAnc3JjJ1xuXHR9O1xuXHRVUkkuZ2V0RG9tQXR0cmlidXRlID0gZnVuY3Rpb24obm9kZSkge1xuXHRcdGlmICghbm9kZSB8fCAhbm9kZS5ub2RlTmFtZSkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHR2YXIgbm9kZU5hbWUgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0Ly8gPGlucHV0PiBzaG91bGQgb25seSBleHBvc2Ugc3JjIGZvciB0eXBlPVwiaW1hZ2VcIlxuXHRcdGlmIChub2RlTmFtZSA9PT0gJ2lucHV0JyAmJiBub2RlLnR5cGUgIT09ICdpbWFnZScpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTtcblx0fTtcblxuXHRmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7XG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkxXG5cdFx0cmV0dXJuIGVzY2FwZSh2YWx1ZSk7XG5cdH1cblxuXHQvLyBlbmNvZGluZyAvIGRlY29kaW5nIGFjY29yZGluZyB0byBSRkMzOTg2XG5cdGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHtcblx0XHQvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9lbmNvZGVVUklDb21wb25lbnRcblx0XHRyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cmluZylcblx0XHRcdC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpXG5cdFx0XHQucmVwbGFjZSgvXFwqL2csICclMkEnKTtcblx0fVxuXHRVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50O1xuXHRVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50O1xuXHRVUkkuaXNvODg1OSA9IGZ1bmN0aW9uKCkge1xuXHRcdFVSSS5lbmNvZGUgPSBlc2NhcGU7XG5cdFx0VVJJLmRlY29kZSA9IHVuZXNjYXBlO1xuXHR9O1xuXHRVUkkudW5pY29kZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7XG5cdFx0VVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcblx0fTtcblx0VVJJLmNoYXJhY3RlcnMgPSB7XG5cdFx0cGF0aG5hbWU6IHtcblx0XHRcdGVuY29kZToge1xuXHRcdFx0XHQvLyBSRkMzOTg2IDIuMTogRm9yIGNvbnNpc3RlbmN5LCBVUkkgcHJvZHVjZXJzIGFuZCBub3JtYWxpemVycyBzaG91bGRcblx0XHRcdFx0Ly8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy5cblx0XHRcdFx0ZXhwcmVzc2lvbjogLyUoMjR8MjZ8MkJ8MkN8M0J8M0R8M0F8NDApL2lnLFxuXHRcdFx0XHRtYXA6IHtcblx0XHRcdFx0XHQvLyAtLl9+IScoKSpcblx0XHRcdFx0XHQnJTI0JzogJyQnLFxuXHRcdFx0XHRcdCclMjYnOiAnJicsXG5cdFx0XHRcdFx0JyUyQic6ICcrJyxcblx0XHRcdFx0XHQnJTJDJzogJywnLFxuXHRcdFx0XHRcdCclM0InOiAnOycsXG5cdFx0XHRcdFx0JyUzRCc6ICc9Jyxcblx0XHRcdFx0XHQnJTNBJzogJzonLFxuXHRcdFx0XHRcdCclNDAnOiAnQCdcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdGRlY29kZToge1xuXHRcdFx0XHRleHByZXNzaW9uOiAvW1xcL1xcPyNdL2csXG5cdFx0XHRcdG1hcDoge1xuXHRcdFx0XHRcdCcvJzogJyUyRicsXG5cdFx0XHRcdFx0Jz8nOiAnJTNGJyxcblx0XHRcdFx0XHQnIyc6ICclMjMnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHJlc2VydmVkOiB7XG5cdFx0XHRlbmNvZGU6IHtcblx0XHRcdFx0Ly8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkXG5cdFx0XHRcdC8vIHVzZSB1cHBlcmNhc2UgaGV4YWRlY2ltYWwgZGlnaXRzIGZvciBhbGwgcGVyY2VudC1lbmNvZGluZ3MuXG5cdFx0XHRcdGV4cHJlc3Npb246IC8lKDIxfDIzfDI0fDI2fDI3fDI4fDI5fDJBfDJCfDJDfDJGfDNBfDNCfDNEfDNGfDQwfDVCfDVEKS9pZyxcblx0XHRcdFx0bWFwOiB7XG5cdFx0XHRcdFx0Ly8gZ2VuLWRlbGltc1xuXHRcdFx0XHRcdCclM0EnOiAnOicsXG5cdFx0XHRcdFx0JyUyRic6ICcvJyxcblx0XHRcdFx0XHQnJTNGJzogJz8nLFxuXHRcdFx0XHRcdCclMjMnOiAnIycsXG5cdFx0XHRcdFx0JyU1Qic6ICdbJyxcblx0XHRcdFx0XHQnJTVEJzogJ10nLFxuXHRcdFx0XHRcdCclNDAnOiAnQCcsXG5cdFx0XHRcdFx0Ly8gc3ViLWRlbGltc1xuXHRcdFx0XHRcdCclMjEnOiAnIScsXG5cdFx0XHRcdFx0JyUyNCc6ICckJyxcblx0XHRcdFx0XHQnJTI2JzogJyYnLFxuXHRcdFx0XHRcdCclMjcnOiAnXFwnJyxcblx0XHRcdFx0XHQnJTI4JzogJygnLFxuXHRcdFx0XHRcdCclMjknOiAnKScsXG5cdFx0XHRcdFx0JyUyQSc6ICcqJyxcblx0XHRcdFx0XHQnJTJCJzogJysnLFxuXHRcdFx0XHRcdCclMkMnOiAnLCcsXG5cdFx0XHRcdFx0JyUzQic6ICc7Jyxcblx0XHRcdFx0XHQnJTNEJzogJz0nXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHVybnBhdGg6IHtcblx0XHRcdC8vIFRoZSBjaGFyYWN0ZXJzIHVuZGVyIGBlbmNvZGVgIGFyZSB0aGUgY2hhcmFjdGVycyBjYWxsZWQgb3V0IGJ5IFJGQyAyMTQxIGFzIGJlaW5nIGFjY2VwdGFibGVcblx0XHRcdC8vIGZvciB1c2FnZSBpbiBhIFVSTi4gUkZDMjE0MSBhbHNvIGNhbGxzIG91dCBcIi1cIiwgXCIuXCIsIGFuZCBcIl9cIiBhcyBhY2NlcHRhYmxlIGNoYXJhY3RlcnMsIGJ1dFxuXHRcdFx0Ly8gdGhlc2UgYXJlbid0IGVuY29kZWQgYnkgZW5jb2RlVVJJQ29tcG9uZW50LCBzbyB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgdGhlbSBvdXQgaGVyZS4gQWxzb1xuXHRcdFx0Ly8gbm90ZSB0aGF0IHRoZSBjb2xvbiBjaGFyYWN0ZXIgaXMgbm90IGZlYXR1cmVkIGluIHRoZSBlbmNvZGluZyBtYXA7IHRoaXMgaXMgYmVjYXVzZSBVUkkuanNcblx0XHRcdC8vIGdpdmVzIHRoZSBjb2xvbnMgaW4gVVJOcyBzZW1hbnRpYyBtZWFuaW5nIGFzIHRoZSBkZWxpbWl0ZXJzIG9mIHBhdGggc2VnZW1lbnRzLCBhbmQgc28gaXRcblx0XHRcdC8vIHNob3VsZCBub3QgYXBwZWFyIHVuZW5jb2RlZCBpbiBhIHNlZ21lbnQgaXRzZWxmLlxuXHRcdFx0Ly8gU2VlIGFsc28gdGhlIG5vdGUgYWJvdmUgYWJvdXQgUkZDMzk4NiBhbmQgY2FwaXRhbGFsaXplZCBoZXggZGlnaXRzLlxuXHRcdFx0ZW5jb2RlOiB7XG5cdFx0XHRcdGV4cHJlc3Npb246IC8lKDIxfDI0fDI3fDI4fDI5fDJBfDJCfDJDfDNCfDNEfDQwKS9pZyxcblx0XHRcdFx0bWFwOiB7XG5cdFx0XHRcdFx0JyUyMSc6ICchJyxcblx0XHRcdFx0XHQnJTI0JzogJyQnLFxuXHRcdFx0XHRcdCclMjcnOiAnXFwnJyxcblx0XHRcdFx0XHQnJTI4JzogJygnLFxuXHRcdFx0XHRcdCclMjknOiAnKScsXG5cdFx0XHRcdFx0JyUyQSc6ICcqJyxcblx0XHRcdFx0XHQnJTJCJzogJysnLFxuXHRcdFx0XHRcdCclMkMnOiAnLCcsXG5cdFx0XHRcdFx0JyUzQic6ICc7Jyxcblx0XHRcdFx0XHQnJTNEJzogJz0nLFxuXHRcdFx0XHRcdCclNDAnOiAnQCdcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdC8vIFRoZXNlIGNoYXJhY3RlcnMgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDMjE0MSBhcyBcInJlc2VydmVkXCIgY2hhcmFjdGVycyB0aGF0XG5cdFx0XHQvLyBzaG91bGQgbmV2ZXIgYXBwZWFyIGluIGEgVVJOLCBwbHVzIHRoZSBjb2xvbiBjaGFyYWN0ZXIgKHNlZSBub3RlIGFib3ZlKS5cblx0XHRcdGRlY29kZToge1xuXHRcdFx0XHRleHByZXNzaW9uOiAvW1xcL1xcPyM6XS9nLFxuXHRcdFx0XHRtYXA6IHtcblx0XHRcdFx0XHQnLyc6ICclMkYnLFxuXHRcdFx0XHRcdCc/JzogJyUzRicsXG5cdFx0XHRcdFx0JyMnOiAnJTIzJyxcblx0XHRcdFx0XHQnOic6ICclM0EnXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdFVSSS5lbmNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkge1xuXHRcdHZhciBlc2NhcGVkID0gVVJJLmVuY29kZShzdHJpbmcgKyAnJyk7XG5cdFx0aWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0ZXNjYXBlUXVlcnlTcGFjZSA9IFVSSS5lc2NhcGVRdWVyeVNwYWNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBlc2NhcGVRdWVyeVNwYWNlID8gZXNjYXBlZC5yZXBsYWNlKC8lMjAvZywgJysnKSA6IGVzY2FwZWQ7XG5cdH07XG5cdFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkge1xuXHRcdHN0cmluZyArPSAnJztcblx0XHRpZiAoZXNjYXBlUXVlcnlTcGFjZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7XG5cdFx0fVxuXG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBVUkkuZGVjb2RlKGVzY2FwZVF1ZXJ5U3BhY2UgPyBzdHJpbmcucmVwbGFjZSgvXFwrL2csICclMjAnKSA6IHN0cmluZyk7XG5cdFx0fSBjYXRjaChlKSB7XG5cdFx0XHQvLyB3ZSdyZSBub3QgZ29pbmcgdG8gbWVzcyB3aXRoIHdlaXJkIGVuY29kaW5ncyxcblx0XHRcdC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZ1xuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy84N1xuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MlxuXHRcdFx0cmV0dXJuIHN0cmluZztcblx0XHR9XG5cdH07XG5cdC8vIGdlbmVyYXRlIGVuY29kZS9kZWNvZGUgcGF0aCBmdW5jdGlvbnNcblx0dmFyIF9wYXJ0cyA9IHsnZW5jb2RlJzonZW5jb2RlJywgJ2RlY29kZSc6J2RlY29kZSd9O1xuXHR2YXIgX3BhcnQ7XG5cdHZhciBnZW5lcmF0ZUFjY2Vzc29yID0gZnVuY3Rpb24oX2dyb3VwLCBfcGFydCkge1xuXHRcdHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHJldHVybiBVUklbX3BhcnRdKHN0cmluZyArICcnKS5yZXBsYWNlKFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLmV4cHJlc3Npb24sIGZ1bmN0aW9uKGMpIHtcblx0XHRcdFx0XHRyZXR1cm4gVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0ubWFwW2NdO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gd2UncmUgbm90IGdvaW5nIHRvIG1lc3Mgd2l0aCB3ZWlyZCBlbmNvZGluZ3MsXG5cdFx0XHRcdC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZ1xuXHRcdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzg3XG5cdFx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTJcblx0XHRcdFx0cmV0dXJuIHN0cmluZztcblx0XHRcdH1cblx0XHR9O1xuXHR9O1xuXG5cdGZvciAoX3BhcnQgaW4gX3BhcnRzKSB7XG5cdFx0VVJJW19wYXJ0ICsgJ1BhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCdwYXRobmFtZScsIF9wYXJ0c1tfcGFydF0pO1xuXHRcdFVSSVtfcGFydCArICdVcm5QYXRoU2VnbWVudCddID0gZ2VuZXJhdGVBY2Nlc3NvcigndXJucGF0aCcsIF9wYXJ0c1tfcGFydF0pO1xuXHR9XG5cblx0dmFyIGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uID0gZnVuY3Rpb24oX3NlcCwgX2NvZGluZ0Z1bmNOYW1lLCBfaW5uZXJDb2RpbmdGdW5jTmFtZSkge1xuXHRcdHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdC8vIFdoeSBwYXNzIGluIG5hbWVzIG9mIGZ1bmN0aW9ucywgcmF0aGVyIHRoYW4gdGhlIGZ1bmN0aW9uIG9iamVjdHMgdGhlbXNlbHZlcz8gVGhlXG5cdFx0XHQvLyBkZWZpbml0aW9ucyBvZiBzb21lIGZ1bmN0aW9ucyAoYnV0IGluIHBhcnRpY3VsYXIsIFVSSS5kZWNvZGUpIHdpbGwgb2NjYXNpb25hbGx5IGNoYW5nZSBkdWVcblx0XHRcdC8vIHRvIFVSSS5qcyBoYXZpbmcgSVNPODg1OSBhbmQgVW5pY29kZSBtb2Rlcy4gUGFzc2luZyBpbiB0aGUgbmFtZSBhbmQgZ2V0dGluZyBpdCB3aWxsIGVuc3VyZVxuXHRcdFx0Ly8gdGhhdCB0aGUgZnVuY3Rpb25zIHdlIHVzZSBoZXJlIGFyZSBcImZyZXNoXCIuXG5cdFx0XHR2YXIgYWN0dWFsQ29kaW5nRnVuYztcblx0XHRcdGlmICghX2lubmVyQ29kaW5nRnVuY05hbWUpIHtcblx0XHRcdFx0YWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YWN0dWFsQ29kaW5nRnVuYyA9IGZ1bmN0aW9uKHN0cmluZykge1xuXHRcdFx0XHRcdHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc2VnbWVudHMgPSAoc3RyaW5nICsgJycpLnNwbGl0KF9zZXApO1xuXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0c2VnbWVudHNbaV0gPSBhY3R1YWxDb2RpbmdGdW5jKHNlZ21lbnRzW2ldKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHNlZ21lbnRzLmpvaW4oX3NlcCk7XG5cdFx0fTtcblx0fTtcblxuXHQvLyBUaGlzIHRha2VzIHBsYWNlIG91dHNpZGUgdGhlIGFib3ZlIGxvb3AgYmVjYXVzZSB3ZSBkb24ndCB3YW50LCBlLmcuLCBlbmNvZGVVcm5QYXRoIGZ1bmN0aW9ucy5cblx0VVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpO1xuXHRVUkkuZGVjb2RlVXJuUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCc6JywgJ2RlY29kZVVyblBhdGhTZWdtZW50Jyk7XG5cdFVSSS5yZWNvZGVQYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJy8nLCAnZW5jb2RlUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7XG5cdFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7XG5cblx0VVJJLmVuY29kZVJlc2VydmVkID0gZ2VuZXJhdGVBY2Nlc3NvcigncmVzZXJ2ZWQnLCAnZW5jb2RlJyk7XG5cblx0VVJJLnBhcnNlID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykge1xuXHRcdHZhciBwb3M7XG5cdFx0aWYgKCFwYXJ0cykge1xuXHRcdFx0cGFydHMgPSB7fTtcblx0XHR9XG5cdFx0Ly8gW3Byb3RvY29sXCI6Ly9cIlt1c2VybmFtZVtcIjpcInBhc3N3b3JkXVwiQFwiXWhvc3RuYW1lW1wiOlwicG9ydF1cIi9cIj9dW3BhdGhdW1wiP1wicXVlcnlzdHJpbmddW1wiI1wiZnJhZ21lbnRdXG5cblx0XHQvLyBleHRyYWN0IGZyYWdtZW50XG5cdFx0cG9zID0gc3RyaW5nLmluZGV4T2YoJyMnKTtcblx0XHRpZiAocG9zID4gLTEpIHtcblx0XHRcdC8vIGVzY2FwaW5nP1xuXHRcdFx0cGFydHMuZnJhZ21lbnQgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcyk7XG5cdFx0fVxuXG5cdFx0Ly8gZXh0cmFjdCBxdWVyeVxuXHRcdHBvcyA9IHN0cmluZy5pbmRleE9mKCc/Jyk7XG5cdFx0aWYgKHBvcyA+IC0xKSB7XG5cdFx0XHQvLyBlc2NhcGluZz9cblx0XHRcdHBhcnRzLnF1ZXJ5ID0gc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxKSB8fCBudWxsO1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpO1xuXHRcdH1cblxuXHRcdC8vIGV4dHJhY3QgcHJvdG9jb2xcblx0XHRpZiAoc3RyaW5nLnN1YnN0cmluZygwLCAyKSA9PT0gJy8vJykge1xuXHRcdFx0Ly8gcmVsYXRpdmUtc2NoZW1lXG5cdFx0XHRwYXJ0cy5wcm90b2NvbCA9IG51bGw7XG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKDIpO1xuXHRcdFx0Ly8gZXh0cmFjdCBcInVzZXI6cGFzc0Bob3N0OnBvcnRcIlxuXHRcdFx0c3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwb3MgPSBzdHJpbmcuaW5kZXhPZignOicpO1xuXHRcdFx0aWYgKHBvcyA+IC0xKSB7XG5cdFx0XHRcdHBhcnRzLnByb3RvY29sID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpIHx8IG51bGw7XG5cdFx0XHRcdGlmIChwYXJ0cy5wcm90b2NvbCAmJiAhcGFydHMucHJvdG9jb2wubWF0Y2goVVJJLnByb3RvY29sX2V4cHJlc3Npb24pKSB7XG5cdFx0XHRcdFx0Ly8gOiBtYXkgYmUgd2l0aGluIHRoZSBwYXRoXG5cdFx0XHRcdFx0cGFydHMucHJvdG9jb2wgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdH0gZWxzZSBpZiAoc3RyaW5nLnN1YnN0cmluZyhwb3MgKyAxLCBwb3MgKyAzKSA9PT0gJy8vJykge1xuXHRcdFx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMyk7XG5cblx0XHRcdFx0XHQvLyBleHRyYWN0IFwidXNlcjpwYXNzQGhvc3Q6cG9ydFwiXG5cdFx0XHRcdFx0c3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7XG5cdFx0XHRcdFx0cGFydHMudXJuID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHdoYXQncyBsZWZ0IG11c3QgYmUgdGhlIHBhdGhcblx0XHRwYXJ0cy5wYXRoID0gc3RyaW5nO1xuXG5cdFx0Ly8gYW5kIHdlJ3JlIGRvbmVcblx0XHRyZXR1cm4gcGFydHM7XG5cdH07XG5cdFVSSS5wYXJzZUhvc3QgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7XG5cdFx0Ly8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXG5cdFx0Ly8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG5cdFx0Ly8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vam95ZW50L25vZGUvYmxvYi8zODZmZDI0ZjQ5YjBlOWQxYThhMDc2NTkyYTQwNDE2OGZhZWVjYzM0L2xpYi91cmwuanMjTDExNS1MMTI0XG5cdFx0Ly8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9wdWxsLzIzM1xuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG5cblx0XHQvLyBleHRyYWN0IGhvc3Q6cG9ydFxuXHRcdHZhciBwb3MgPSBzdHJpbmcuaW5kZXhPZignLycpO1xuXHRcdHZhciBicmFja2V0UG9zO1xuXHRcdHZhciB0O1xuXG5cdFx0aWYgKHBvcyA9PT0gLTEpIHtcblx0XHRcdHBvcyA9IHN0cmluZy5sZW5ndGg7XG5cdFx0fVxuXG5cdFx0aWYgKHN0cmluZy5jaGFyQXQoMCkgPT09ICdbJykge1xuXHRcdFx0Ly8gSVB2NiBob3N0IC0gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtaWV0Zi02bWFuLXRleHQtYWRkci1yZXByZXNlbnRhdGlvbi0wNCNzZWN0aW9uLTZcblx0XHRcdC8vIEkgY2xhaW0gbW9zdCBjbGllbnQgc29mdHdhcmUgYnJlYWtzIG9uIElQdjYgYW55d2F5cy4gVG8gc2ltcGxpZnkgdGhpbmdzLCBVUkkgb25seSBhY2NlcHRzXG5cdFx0XHQvLyBJUHY2K3BvcnQgaW4gdGhlIGZvcm1hdCBbMjAwMTpkYjg6OjFdOjgwIChmb3IgdGhlIHRpbWUgYmVpbmcpXG5cdFx0XHRicmFja2V0UG9zID0gc3RyaW5nLmluZGV4T2YoJ10nKTtcblx0XHRcdHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygxLCBicmFja2V0UG9zKSB8fCBudWxsO1xuXHRcdFx0cGFydHMucG9ydCA9IHN0cmluZy5zdWJzdHJpbmcoYnJhY2tldFBvcyArIDIsIHBvcykgfHwgbnVsbDtcblx0XHRcdGlmIChwYXJ0cy5wb3J0ID09PSAnLycpIHtcblx0XHRcdFx0cGFydHMucG9ydCA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBmaXJzdENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonKTtcblx0XHRcdHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTtcblx0XHRcdHZhciBuZXh0Q29sb24gPSBzdHJpbmcuaW5kZXhPZignOicsIGZpcnN0Q29sb24gKyAxKTtcblx0XHRcdGlmIChuZXh0Q29sb24gIT09IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBuZXh0Q29sb24gPCBmaXJzdFNsYXNoKSkge1xuXHRcdFx0XHQvLyBJUHY2IGhvc3QgY29udGFpbnMgbXVsdGlwbGUgY29sb25zIC0gYnV0IG5vIHBvcnRcblx0XHRcdFx0Ly8gdGhpcyBub3RhdGlvbiBpcyBhY3R1YWxseSBub3QgYWxsb3dlZCBieSBSRkMgMzk4NiwgYnV0IHdlJ3JlIGEgbGliZXJhbCBwYXJzZXJcblx0XHRcdFx0cGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDtcblx0XHRcdFx0cGFydHMucG9ydCA9IG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7XG5cdFx0XHRcdHBhcnRzLmhvc3RuYW1lID0gdFswXSB8fCBudWxsO1xuXHRcdFx0XHRwYXJ0cy5wb3J0ID0gdFsxXSB8fCBudWxsO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChwYXJ0cy5ob3N0bmFtZSAmJiBzdHJpbmcuc3Vic3RyaW5nKHBvcykuY2hhckF0KDApICE9PSAnLycpIHtcblx0XHRcdHBvcysrO1xuXHRcdFx0c3RyaW5nID0gJy8nICsgc3RyaW5nO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdHJpbmcuc3Vic3RyaW5nKHBvcykgfHwgJy8nO1xuXHR9O1xuXHRVUkkucGFyc2VBdXRob3JpdHkgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7XG5cdFx0c3RyaW5nID0gVVJJLnBhcnNlVXNlcmluZm8oc3RyaW5nLCBwYXJ0cyk7XG5cdFx0cmV0dXJuIFVSSS5wYXJzZUhvc3Qoc3RyaW5nLCBwYXJ0cyk7XG5cdH07XG5cdFVSSS5wYXJzZVVzZXJpbmZvID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykge1xuXHRcdC8vIGV4dHJhY3QgdXNlcm5hbWU6cGFzc3dvcmRcblx0XHR2YXIgZmlyc3RTbGFzaCA9IHN0cmluZy5pbmRleE9mKCcvJyk7XG5cdFx0dmFyIHBvcyA9IHN0cmluZy5sYXN0SW5kZXhPZignQCcsIGZpcnN0U2xhc2ggPiAtMSA/IGZpcnN0U2xhc2ggOiBzdHJpbmcubGVuZ3RoIC0gMSk7XG5cdFx0dmFyIHQ7XG5cblx0XHQvLyBhdXRob3JpdHlAIG11c3QgY29tZSBiZWZvcmUgL3BhdGhcblx0XHRpZiAocG9zID4gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IHBvcyA8IGZpcnN0U2xhc2gpKSB7XG5cdFx0XHR0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7XG5cdFx0XHRwYXJ0cy51c2VybmFtZSA9IHRbMF0gPyBVUkkuZGVjb2RlKHRbMF0pIDogbnVsbDtcblx0XHRcdHQuc2hpZnQoKTtcblx0XHRcdHBhcnRzLnBhc3N3b3JkID0gdFswXSA/IFVSSS5kZWNvZGUodC5qb2luKCc6JykpIDogbnVsbDtcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhcnRzLnVzZXJuYW1lID0gbnVsbDtcblx0XHRcdHBhcnRzLnBhc3N3b3JkID0gbnVsbDtcblx0XHR9XG5cblx0XHRyZXR1cm4gc3RyaW5nO1xuXHR9O1xuXHRVUkkucGFyc2VRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkge1xuXHRcdGlmICghc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXG5cdFx0Ly8gdGhyb3cgb3V0IHRoZSBmdW5reSBidXNpbmVzcyAtIFwiP1wiW25hbWVcIj1cInZhbHVlXCImXCJdK1xuXHRcdHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC8mKy9nLCAnJicpLnJlcGxhY2UoL15cXD8qJip8JiskL2csICcnKTtcblxuXHRcdGlmICghc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4ge307XG5cdFx0fVxuXG5cdFx0dmFyIGl0ZW1zID0ge307XG5cdFx0dmFyIHNwbGl0cyA9IHN0cmluZy5zcGxpdCgnJicpO1xuXHRcdHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoO1xuXHRcdHZhciB2LCBuYW1lLCB2YWx1ZTtcblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdHYgPSBzcGxpdHNbaV0uc3BsaXQoJz0nKTtcblx0XHRcdG5hbWUgPSBVUkkuZGVjb2RlUXVlcnkodi5zaGlmdCgpLCBlc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRcdC8vIG5vIFwiPVwiIGlzIG51bGwgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29sbGVjdC11cmwtcGFyYW1ldGVyc1xuXHRcdFx0dmFsdWUgPSB2Lmxlbmd0aCA/IFVSSS5kZWNvZGVRdWVyeSh2LmpvaW4oJz0nKSwgZXNjYXBlUXVlcnlTcGFjZSkgOiBudWxsO1xuXG5cdFx0XHRpZiAoaGFzT3duLmNhbGwoaXRlbXMsIG5hbWUpKSB7XG5cdFx0XHRcdGlmICh0eXBlb2YgaXRlbXNbbmFtZV0gPT09ICdzdHJpbmcnIHx8IGl0ZW1zW25hbWVdID09PSBudWxsKSB7XG5cdFx0XHRcdFx0aXRlbXNbbmFtZV0gPSBbaXRlbXNbbmFtZV1dO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aXRlbXNbbmFtZV0ucHVzaCh2YWx1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpdGVtc1tuYW1lXSA9IHZhbHVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBpdGVtcztcblx0fTtcblxuXHRVUkkuYnVpbGQgPSBmdW5jdGlvbihwYXJ0cykge1xuXHRcdHZhciB0ID0gJyc7XG5cblx0XHRpZiAocGFydHMucHJvdG9jb2wpIHtcblx0XHRcdHQgKz0gcGFydHMucHJvdG9jb2wgKyAnOic7XG5cdFx0fVxuXG5cdFx0aWYgKCFwYXJ0cy51cm4gJiYgKHQgfHwgcGFydHMuaG9zdG5hbWUpKSB7XG5cdFx0XHR0ICs9ICcvLyc7XG5cdFx0fVxuXG5cdFx0dCArPSAoVVJJLmJ1aWxkQXV0aG9yaXR5KHBhcnRzKSB8fCAnJyk7XG5cblx0XHRpZiAodHlwZW9mIHBhcnRzLnBhdGggPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRpZiAocGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJyAmJiB0eXBlb2YgcGFydHMuaG9zdG5hbWUgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRcdHQgKz0gJy8nO1xuXHRcdFx0fVxuXG5cdFx0XHR0ICs9IHBhcnRzLnBhdGg7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiBwYXJ0cy5xdWVyeSA9PT0gJ3N0cmluZycgJiYgcGFydHMucXVlcnkpIHtcblx0XHRcdHQgKz0gJz8nICsgcGFydHMucXVlcnk7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZiBwYXJ0cy5mcmFnbWVudCA9PT0gJ3N0cmluZycgJiYgcGFydHMuZnJhZ21lbnQpIHtcblx0XHRcdHQgKz0gJyMnICsgcGFydHMuZnJhZ21lbnQ7XG5cdFx0fVxuXHRcdHJldHVybiB0O1xuXHR9O1xuXHRVUkkuYnVpbGRIb3N0ID0gZnVuY3Rpb24ocGFydHMpIHtcblx0XHR2YXIgdCA9ICcnO1xuXG5cdFx0aWYgKCFwYXJ0cy5ob3N0bmFtZSkge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH0gZWxzZSBpZiAoVVJJLmlwNl9leHByZXNzaW9uLnRlc3QocGFydHMuaG9zdG5hbWUpKSB7XG5cdFx0XHR0ICs9ICdbJyArIHBhcnRzLmhvc3RuYW1lICsgJ10nO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0ICs9IHBhcnRzLmhvc3RuYW1lO1xuXHRcdH1cblxuXHRcdGlmIChwYXJ0cy5wb3J0KSB7XG5cdFx0XHR0ICs9ICc6JyArIHBhcnRzLnBvcnQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHQ7XG5cdH07XG5cdFVSSS5idWlsZEF1dGhvcml0eSA9IGZ1bmN0aW9uKHBhcnRzKSB7XG5cdFx0cmV0dXJuIFVSSS5idWlsZFVzZXJpbmZvKHBhcnRzKSArIFVSSS5idWlsZEhvc3QocGFydHMpO1xuXHR9O1xuXHRVUkkuYnVpbGRVc2VyaW5mbyA9IGZ1bmN0aW9uKHBhcnRzKSB7XG5cdFx0dmFyIHQgPSAnJztcblxuXHRcdGlmIChwYXJ0cy51c2VybmFtZSkge1xuXHRcdFx0dCArPSBVUkkuZW5jb2RlKHBhcnRzLnVzZXJuYW1lKTtcblxuXHRcdFx0aWYgKHBhcnRzLnBhc3N3b3JkKSB7XG5cdFx0XHRcdHQgKz0gJzonICsgVVJJLmVuY29kZShwYXJ0cy5wYXNzd29yZCk7XG5cdFx0XHR9XG5cblx0XHRcdHQgKz0gJ0AnO1xuXHRcdH1cblxuXHRcdHJldHVybiB0O1xuXHR9O1xuXHRVUkkuYnVpbGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgZXNjYXBlUXVlcnlTcGFjZSkge1xuXHRcdC8vIGFjY29yZGluZyB0byBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2IG9yIGh0dHA6Ly9sYWJzLmFwYWNoZS5vcmcvd2ViYXJjaC91cmkvcmZjL3JmYzM5ODYuaHRtbFxuXHRcdC8vIGJlaW5nIMK7LS5ffiEkJicoKSorLDs9OkAvP8KrICVIRVggYW5kIGFsbnVtIGFyZSBhbGxvd2VkXG5cdFx0Ly8gdGhlIFJGQyBleHBsaWNpdGx5IHN0YXRlcyA/L2ZvbyBiZWluZyBhIHZhbGlkIHVzZSBjYXNlLCBubyBtZW50aW9uIG9mIHBhcmFtZXRlciBzeW50YXghXG5cdFx0Ly8gVVJJLmpzIHRyZWF0cyB0aGUgcXVlcnkgc3RyaW5nIGFzIGJlaW5nIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxuXHRcdC8vIHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGVcblxuXHRcdHZhciB0ID0gJyc7XG5cdFx0dmFyIHVuaXF1ZSwga2V5LCBpLCBsZW5ndGg7XG5cdFx0Zm9yIChrZXkgaW4gZGF0YSkge1xuXHRcdFx0aWYgKGhhc093bi5jYWxsKGRhdGEsIGtleSkgJiYga2V5KSB7XG5cdFx0XHRcdGlmIChpc0FycmF5KGRhdGFba2V5XSkpIHtcblx0XHRcdFx0XHR1bmlxdWUgPSB7fTtcblx0XHRcdFx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhW2tleV0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGlmIChkYXRhW2tleV1baV0gIT09IHVuZGVmaW5lZCAmJiB1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdFx0dCArPSAnJicgKyBVUkkuYnVpbGRRdWVyeVBhcmFtZXRlcihrZXksIGRhdGFba2V5XVtpXSwgZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChkdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgIT09IHRydWUpIHtcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHQgKz0gJyYnICsgVVJJLmJ1aWxkUXVlcnlQYXJhbWV0ZXIoa2V5LCBkYXRhW2tleV0sIGVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHQuc3Vic3RyaW5nKDEpO1xuXHR9O1xuXHRVUkkuYnVpbGRRdWVyeVBhcmFtZXRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSB7XG5cdFx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLWh0bWw0MC9pbnRlcmFjdC9mb3Jtcy5odG1sI2Zvcm0tY29udGVudC10eXBlIC0tIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxuXHRcdC8vIGRvbid0IGFwcGVuZCBcIj1cIiBmb3IgbnVsbCB2YWx1ZXMsIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI3VybC1wYXJhbWV0ZXItc2VyaWFsaXphdGlvblxuXHRcdHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpO1xuXHR9O1xuXG5cdFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7XG5cdFx0aWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIG5hbWUpIHtcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcblx0XHRcdFx0XHRVUkkuYWRkUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGlmIChkYXRhW25hbWVdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0ZGF0YVtuYW1lXSA9IHZhbHVlO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBkYXRhW25hbWVdID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWlzQXJyYXkodmFsdWUpKSB7XG5cdFx0XHRcdHZhbHVlID0gW3ZhbHVlXTtcblx0XHRcdH1cblxuXHRcdFx0ZGF0YVtuYW1lXSA9IChkYXRhW25hbWVdIHx8IFtdKS5jb25jYXQodmFsdWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpO1xuXHRcdH1cblx0fTtcblx0VVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHtcblx0XHR2YXIgaSwgbGVuZ3RoLCBrZXk7XG5cblx0XHRpZiAoaXNBcnJheShuYW1lKSkge1xuXHRcdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gbmFtZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuXHRcdFx0XHRkYXRhW25hbWVbaV1dID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoZ2V0VHlwZShuYW1lKSA9PT0gJ1JlZ0V4cCcpIHtcblx0XHRcdGZvciAoa2V5IGluIGRhdGEpIHtcblx0XHRcdFx0aWYgKG5hbWUudGVzdChrZXkpKSB7XG5cdFx0XHRcdFx0ZGF0YVtrZXldID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGZvciAoa2V5IGluIG5hbWUpIHtcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcblx0XHRcdFx0XHRVUkkucmVtb3ZlUXVlcnkoZGF0YSwga2V5LCBuYW1lW2tleV0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHtcblx0XHRcdFx0XHRpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkgJiYgdmFsdWUudGVzdChkYXRhW25hbWVdKSkge1xuXHRcdFx0XHRcdFx0ZGF0YVtuYW1lXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGF0YVtuYW1lXSA9IGZpbHRlckFycmF5VmFsdWVzKGRhdGFbbmFtZV0sIHZhbHVlKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHtcblx0XHRcdFx0XHRkYXRhW25hbWVdID0gdW5kZWZpbmVkO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGlzQXJyYXkoZGF0YVtuYW1lXSkpIHtcblx0XHRcdFx0XHRkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkYXRhW25hbWVdID0gdW5kZWZpbmVkO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpO1xuXHRcdH1cblx0fTtcblx0VVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7XG5cdFx0aWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIG5hbWUpIHtcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcblx0XHRcdFx0XHRpZiAoIVVSSS5oYXNRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7XG5cdFx0fVxuXG5cdFx0c3dpdGNoIChnZXRUeXBlKHZhbHVlKSkge1xuXHRcdFx0Y2FzZSAnVW5kZWZpbmVkJzpcblx0XHRcdFx0Ly8gdHJ1ZSBpZiBleGlzdHMgKGJ1dCBtYXkgYmUgZW1wdHkpXG5cdFx0XHRcdHJldHVybiBuYW1lIGluIGRhdGE7IC8vIGRhdGFbbmFtZV0gIT09IHVuZGVmaW5lZDtcblxuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdC8vIHRydWUgaWYgZXhpc3RzIGFuZCBub24tZW1wdHlcblx0XHRcdFx0dmFyIF9ib29seSA9IEJvb2xlYW4oaXNBcnJheShkYXRhW25hbWVdKSA/IGRhdGFbbmFtZV0ubGVuZ3RoIDogZGF0YVtuYW1lXSk7XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gX2Jvb2x5O1xuXG5cdFx0XHRjYXNlICdGdW5jdGlvbic6XG5cdFx0XHRcdC8vIGFsbG93IGNvbXBsZXggY29tcGFyaXNvblxuXHRcdFx0XHRyZXR1cm4gISF2YWx1ZShkYXRhW25hbWVdLCBuYW1lLCBkYXRhKTtcblxuXHRcdFx0Y2FzZSAnQXJyYXknOlxuXHRcdFx0XHRpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgb3AgPSB3aXRoaW5BcnJheSA/IGFycmF5Q29udGFpbnMgOiBhcnJheXNFcXVhbDtcblx0XHRcdFx0cmV0dXJuIG9wKGRhdGFbbmFtZV0sIHZhbHVlKTtcblxuXHRcdFx0Y2FzZSAnUmVnRXhwJzpcblx0XHRcdFx0aWYgKCFpc0FycmF5KGRhdGFbbmFtZV0pKSB7XG5cdFx0XHRcdFx0cmV0dXJuIEJvb2xlYW4oZGF0YVtuYW1lXSAmJiBkYXRhW25hbWVdLm1hdGNoKHZhbHVlKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXdpdGhpbkFycmF5KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpO1xuXG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHR2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG5cdFx0XHQvKiBmYWxscyB0aHJvdWdoICovXG5cdFx0XHRjYXNlICdTdHJpbmcnOlxuXHRcdFx0XHRpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHtcblx0XHRcdFx0XHRyZXR1cm4gZGF0YVtuYW1lXSA9PT0gdmFsdWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIXdpdGhpbkFycmF5KSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpO1xuXG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpO1xuXHRcdH1cblx0fTtcblxuXG5cdFVSSS5jb21tb25QYXRoID0gZnVuY3Rpb24ob25lLCB0d28pIHtcblx0XHR2YXIgbGVuZ3RoID0gTWF0aC5taW4ob25lLmxlbmd0aCwgdHdvLmxlbmd0aCk7XG5cdFx0dmFyIHBvcztcblxuXHRcdC8vIGZpbmQgZmlyc3Qgbm9uLW1hdGNoaW5nIGNoYXJhY3RlclxuXHRcdGZvciAocG9zID0gMDsgcG9zIDwgbGVuZ3RoOyBwb3MrKykge1xuXHRcdFx0aWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gdHdvLmNoYXJBdChwb3MpKSB7XG5cdFx0XHRcdHBvcy0tO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAocG9zIDwgMSkge1xuXHRcdFx0cmV0dXJuIG9uZS5jaGFyQXQoMCkgPT09IHR3by5jaGFyQXQoMCkgJiYgb25lLmNoYXJBdCgwKSA9PT0gJy8nID8gJy8nIDogJyc7XG5cdFx0fVxuXG5cdFx0Ly8gcmV2ZXJ0IHRvIGxhc3QgL1xuXHRcdGlmIChvbmUuY2hhckF0KHBvcykgIT09ICcvJyB8fCB0d28uY2hhckF0KHBvcykgIT09ICcvJykge1xuXHRcdFx0cG9zID0gb25lLnN1YnN0cmluZygwLCBwb3MpLmxhc3RJbmRleE9mKCcvJyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9uZS5zdWJzdHJpbmcoMCwgcG9zICsgMSk7XG5cdH07XG5cblx0VVJJLndpdGhpblN0cmluZyA9IGZ1bmN0aW9uKHN0cmluZywgY2FsbGJhY2ssIG9wdGlvbnMpIHtcblx0XHRvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuXHRcdHZhciBfc3RhcnQgPSBvcHRpb25zLnN0YXJ0IHx8IFVSSS5maW5kVXJpLnN0YXJ0O1xuXHRcdHZhciBfZW5kID0gb3B0aW9ucy5lbmQgfHwgVVJJLmZpbmRVcmkuZW5kO1xuXHRcdHZhciBfdHJpbSA9IG9wdGlvbnMudHJpbSB8fCBVUkkuZmluZFVyaS50cmltO1xuXHRcdHZhciBfYXR0cmlidXRlT3BlbiA9IC9bYS16MC05LV09W1wiJ10/JC9pO1xuXG5cdFx0X3N0YXJ0Lmxhc3RJbmRleCA9IDA7XG5cdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdHZhciBtYXRjaCA9IF9zdGFydC5leGVjKHN0cmluZyk7XG5cdFx0XHRpZiAoIW1hdGNoKSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3RhcnQgPSBtYXRjaC5pbmRleDtcblx0XHRcdGlmIChvcHRpb25zLmlnbm9yZUh0bWwpIHtcblx0XHRcdFx0Ly8gYXR0cmlidXQoZT1bXCInXT8kKVxuXHRcdFx0XHR2YXIgYXR0cmlidXRlT3BlbiA9IHN0cmluZy5zbGljZShNYXRoLm1heChzdGFydCAtIDMsIDApLCBzdGFydCk7XG5cdFx0XHRcdGlmIChhdHRyaWJ1dGVPcGVuICYmIF9hdHRyaWJ1dGVPcGVuLnRlc3QoYXR0cmlidXRlT3BlbikpIHtcblx0XHRcdFx0XHRjb250aW51ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZW5kID0gc3RhcnQgKyBzdHJpbmcuc2xpY2Uoc3RhcnQpLnNlYXJjaChfZW5kKTtcblx0XHRcdHZhciBzbGljZSA9IHN0cmluZy5zbGljZShzdGFydCwgZW5kKS5yZXBsYWNlKF90cmltLCAnJyk7XG5cdFx0XHRpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGVuZCA9IHN0YXJ0ICsgc2xpY2UubGVuZ3RoO1xuXHRcdFx0dmFyIHJlc3VsdCA9IGNhbGxiYWNrKHNsaWNlLCBzdGFydCwgZW5kLCBzdHJpbmcpO1xuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpO1xuXHRcdFx0X3N0YXJ0Lmxhc3RJbmRleCA9IHN0YXJ0ICsgcmVzdWx0Lmxlbmd0aDtcblx0XHR9XG5cblx0XHRfc3RhcnQubGFzdEluZGV4ID0gMDtcblx0XHRyZXR1cm4gc3RyaW5nO1xuXHR9O1xuXG5cdFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lID0gZnVuY3Rpb24odikge1xuXHRcdC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KVxuXHRcdC8vIHRoZXkgYXJlIG5vdCBwYXJ0IG9mIEROUyBhbmQgdGhlcmVmb3JlIGlnbm9yZWQgYnkgVVJJLmpzXG5cblx0XHRpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkge1xuXHRcdFx0Ly8gdGVzdCBwdW55Y29kZVxuXHRcdFx0aWYgKCFwdW55Y29kZSkge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChwdW55Y29kZS50b0FTQ0lJKHYpLm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0Ly8gbm9Db25mbGljdFxuXHRVUkkubm9Db25mbGljdCA9IGZ1bmN0aW9uKHJlbW92ZUFsbCkge1xuXHRcdGlmIChyZW1vdmVBbGwpIHtcblx0XHRcdHZhciB1bmNvbmZsaWN0ZWQgPSB7XG5cdFx0XHRcdFVSSTogdGhpcy5ub0NvbmZsaWN0KClcblx0XHRcdH07XG5cblx0XHRcdGlmIChyb290LlVSSVRlbXBsYXRlICYmIHR5cGVvZiByb290LlVSSVRlbXBsYXRlLm5vQ29uZmxpY3QgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0dW5jb25mbGljdGVkLlVSSVRlbXBsYXRlID0gcm9vdC5VUklUZW1wbGF0ZS5ub0NvbmZsaWN0KCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChyb290LklQdjYgJiYgdHlwZW9mIHJvb3QuSVB2Ni5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHVuY29uZmxpY3RlZC5JUHY2ID0gcm9vdC5JUHY2Lm5vQ29uZmxpY3QoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zICYmIHR5cGVvZiByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHVuY29uZmxpY3RlZC5TZWNvbmRMZXZlbERvbWFpbnMgPSByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0KCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB1bmNvbmZsaWN0ZWQ7XG5cdFx0fSBlbHNlIGlmIChyb290LlVSSSA9PT0gdGhpcykge1xuXHRcdFx0cm9vdC5VUkkgPSBfVVJJO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdHAuYnVpbGQgPSBmdW5jdGlvbihkZWZlckJ1aWxkKSB7XG5cdFx0aWYgKGRlZmVyQnVpbGQgPT09IHRydWUpIHtcblx0XHRcdHRoaXMuX2RlZmVycmVkX2J1aWxkID0gdHJ1ZTtcblx0XHR9IGVsc2UgaWYgKGRlZmVyQnVpbGQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9kZWZlcnJlZF9idWlsZCkge1xuXHRcdFx0dGhpcy5fc3RyaW5nID0gVVJJLmJ1aWxkKHRoaXMuX3BhcnRzKTtcblx0XHRcdHRoaXMuX2RlZmVycmVkX2J1aWxkID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cC5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiBuZXcgVVJJKHRoaXMpO1xuXHR9O1xuXG5cdHAudmFsdWVPZiA9IHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gdGhpcy5idWlsZChmYWxzZSkuX3N0cmluZztcblx0fTtcblxuXG5cdGZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoX3BhcnQpe1xuXHRcdHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5fcGFydHNbX3BhcnRdIHx8ICcnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5fcGFydHNbX3BhcnRdID0gdiB8fCBudWxsO1xuXHRcdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVByZWZpeEFjY2Vzc29yKF9wYXJ0LCBfa2V5KXtcblx0XHRyZXR1cm4gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICh2ICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0diA9IHYgKyAnJztcblx0XHRcdFx0XHRpZiAodi5jaGFyQXQoMCkgPT09IF9rZXkpIHtcblx0XHRcdFx0XHRcdHYgPSB2LnN1YnN0cmluZygxKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9wYXJ0c1tfcGFydF0gPSB2O1xuXHRcdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRcdHJldHVybiB0aGlzO1xuXHRcdFx0fVxuXHRcdH07XG5cdH1cblxuXHRwLnByb3RvY29sID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncHJvdG9jb2wnKTtcblx0cC51c2VybmFtZSA9IGdlbmVyYXRlU2ltcGxlQWNjZXNzb3IoJ3VzZXJuYW1lJyk7XG5cdHAucGFzc3dvcmQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwYXNzd29yZCcpO1xuXHRwLmhvc3RuYW1lID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcignaG9zdG5hbWUnKTtcblx0cC5wb3J0ID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncG9ydCcpO1xuXHRwLnF1ZXJ5ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcigncXVlcnknLCAnPycpO1xuXHRwLmZyYWdtZW50ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcignZnJhZ21lbnQnLCAnIycpO1xuXG5cdHAuc2VhcmNoID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHR2YXIgdCA9IHRoaXMucXVlcnkodiwgYnVpbGQpO1xuXHRcdHJldHVybiB0eXBlb2YgdCA9PT0gJ3N0cmluZycgJiYgdC5sZW5ndGggPyAoJz8nICsgdCkgOiB0O1xuXHR9O1xuXHRwLmhhc2ggPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdHZhciB0ID0gdGhpcy5mcmFnbWVudCh2LCBidWlsZCk7XG5cdFx0cmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnIycgKyB0KSA6IHQ7XG5cdH07XG5cblx0cC5wYXRobmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XG5cdFx0XHR2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aCB8fCAodGhpcy5fcGFydHMuaG9zdG5hbWUgPyAnLycgOiAnJyk7XG5cdFx0XHRyZXR1cm4gdiA/ICh0aGlzLl9wYXJ0cy51cm4gPyBVUkkuZGVjb2RlVXJuUGF0aCA6IFVSSS5kZWNvZGVQYXRoKShyZXMpIDogcmVzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVVyblBhdGgodikgOiAnJztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB2ID8gVVJJLnJlY29kZVBhdGgodikgOiAnLyc7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAucGF0aCA9IHAucGF0aG5hbWU7XG5cdHAuaHJlZiA9IGZ1bmN0aW9uKGhyZWYsIGJ1aWxkKSB7XG5cdFx0dmFyIGtleTtcblxuXHRcdGlmIChocmVmID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG5cdFx0fVxuXG5cdFx0dGhpcy5fc3RyaW5nID0gJyc7XG5cdFx0dGhpcy5fcGFydHMgPSBVUkkuX3BhcnRzKCk7XG5cblx0XHR2YXIgX1VSSSA9IGhyZWYgaW5zdGFuY2VvZiBVUkk7XG5cdFx0dmFyIF9vYmplY3QgPSB0eXBlb2YgaHJlZiA9PT0gJ29iamVjdCcgJiYgKGhyZWYuaG9zdG5hbWUgfHwgaHJlZi5wYXRoIHx8IGhyZWYucGF0aG5hbWUpO1xuXHRcdGlmIChocmVmLm5vZGVOYW1lKSB7XG5cdFx0XHR2YXIgYXR0cmlidXRlID0gVVJJLmdldERvbUF0dHJpYnV0ZShocmVmKTtcblx0XHRcdGhyZWYgPSBocmVmW2F0dHJpYnV0ZV0gfHwgJyc7XG5cdFx0XHRfb2JqZWN0ID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gd2luZG93LmxvY2F0aW9uIGlzIHJlcG9ydGVkIHRvIGJlIGFuIG9iamVjdCwgYnV0IGl0J3Mgbm90IHRoZSBzb3J0XG5cdFx0Ly8gb2Ygb2JqZWN0IHdlJ3JlIGxvb2tpbmcgZm9yOlxuXHRcdC8vICogbG9jYXRpb24ucHJvdG9jb2wgZW5kcyB3aXRoIGEgY29sb25cblx0XHQvLyAqIGxvY2F0aW9uLnF1ZXJ5ICE9IG9iamVjdC5zZWFyY2hcblx0XHQvLyAqIGxvY2F0aW9uLmhhc2ggIT0gb2JqZWN0LmZyYWdtZW50XG5cdFx0Ly8gc2ltcGx5IHNlcmlhbGl6aW5nIHRoZSB1bmtub3duIG9iamVjdCBzaG91bGQgZG8gdGhlIHRyaWNrXG5cdFx0Ly8gKGZvciBsb2NhdGlvbiwgbm90IGZvciBldmVyeXRoaW5nLi4uKVxuXHRcdGlmICghX1VSSSAmJiBfb2JqZWN0ICYmIGhyZWYucGF0aG5hbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aHJlZiA9IGhyZWYudG9TdHJpbmcoKTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIGhyZWYgPT09ICdzdHJpbmcnIHx8IGhyZWYgaW5zdGFuY2VvZiBTdHJpbmcpIHtcblx0XHRcdHRoaXMuX3BhcnRzID0gVVJJLnBhcnNlKFN0cmluZyhocmVmKSwgdGhpcy5fcGFydHMpO1xuXHRcdH0gZWxzZSBpZiAoX1VSSSB8fCBfb2JqZWN0KSB7XG5cdFx0XHR2YXIgc3JjID0gX1VSSSA/IGhyZWYuX3BhcnRzIDogaHJlZjtcblx0XHRcdGZvciAoa2V5IGluIHNyYykge1xuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwodGhpcy5fcGFydHMsIGtleSkpIHtcblx0XHRcdFx0XHR0aGlzLl9wYXJ0c1trZXldID0gc3JjW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpbnB1dCcpO1xuXHRcdH1cblxuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvLyBpZGVudGlmaWNhdGlvbiBhY2Nlc3NvcnNcblx0cC5pcyA9IGZ1bmN0aW9uKHdoYXQpIHtcblx0XHR2YXIgaXAgPSBmYWxzZTtcblx0XHR2YXIgaXA0ID0gZmFsc2U7XG5cdFx0dmFyIGlwNiA9IGZhbHNlO1xuXHRcdHZhciBuYW1lID0gZmFsc2U7XG5cdFx0dmFyIHNsZCA9IGZhbHNlO1xuXHRcdHZhciBpZG4gPSBmYWxzZTtcblx0XHR2YXIgcHVueWNvZGUgPSBmYWxzZTtcblx0XHR2YXIgcmVsYXRpdmUgPSAhdGhpcy5fcGFydHMudXJuO1xuXG5cdFx0aWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7XG5cdFx0XHRyZWxhdGl2ZSA9IGZhbHNlO1xuXHRcdFx0aXA0ID0gVVJJLmlwNF9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0aXA2ID0gVVJJLmlwNl9leHByZXNzaW9uLnRlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0aXAgPSBpcDQgfHwgaXA2O1xuXHRcdFx0bmFtZSA9ICFpcDtcblx0XHRcdHNsZCA9IG5hbWUgJiYgU0xEICYmIFNMRC5oYXModGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0aWRuID0gbmFtZSAmJiBVUkkuaWRuX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0XHRwdW55Y29kZSA9IG5hbWUgJiYgVVJJLnB1bnljb2RlX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XG5cdFx0fVxuXG5cdFx0c3dpdGNoICh3aGF0LnRvTG93ZXJDYXNlKCkpIHtcblx0XHRcdGNhc2UgJ3JlbGF0aXZlJzpcblx0XHRcdFx0cmV0dXJuIHJlbGF0aXZlO1xuXG5cdFx0XHRjYXNlICdhYnNvbHV0ZSc6XG5cdFx0XHRcdHJldHVybiAhcmVsYXRpdmU7XG5cblx0XHRcdC8vIGhvc3RuYW1lIGlkZW50aWZpY2F0aW9uXG5cdFx0XHRjYXNlICdkb21haW4nOlxuXHRcdFx0Y2FzZSAnbmFtZSc6XG5cdFx0XHRcdHJldHVybiBuYW1lO1xuXG5cdFx0XHRjYXNlICdzbGQnOlxuXHRcdFx0XHRyZXR1cm4gc2xkO1xuXG5cdFx0XHRjYXNlICdpcCc6XG5cdFx0XHRcdHJldHVybiBpcDtcblxuXHRcdFx0Y2FzZSAnaXA0Jzpcblx0XHRcdGNhc2UgJ2lwdjQnOlxuXHRcdFx0Y2FzZSAnaW5ldDQnOlxuXHRcdFx0XHRyZXR1cm4gaXA0O1xuXG5cdFx0XHRjYXNlICdpcDYnOlxuXHRcdFx0Y2FzZSAnaXB2Nic6XG5cdFx0XHRjYXNlICdpbmV0Nic6XG5cdFx0XHRcdHJldHVybiBpcDY7XG5cblx0XHRcdGNhc2UgJ2lkbic6XG5cdFx0XHRcdHJldHVybiBpZG47XG5cblx0XHRcdGNhc2UgJ3VybCc6XG5cdFx0XHRcdHJldHVybiAhdGhpcy5fcGFydHMudXJuO1xuXG5cdFx0XHRjYXNlICd1cm4nOlxuXHRcdFx0XHRyZXR1cm4gISF0aGlzLl9wYXJ0cy51cm47XG5cblx0XHRcdGNhc2UgJ3B1bnljb2RlJzpcblx0XHRcdFx0cmV0dXJuIHB1bnljb2RlO1xuXHRcdH1cblxuXHRcdHJldHVybiBudWxsO1xuXHR9O1xuXG5cdC8vIGNvbXBvbmVudCBzcGVjaWZpYyBpbnB1dCB2YWxpZGF0aW9uXG5cdHZhciBfcHJvdG9jb2wgPSBwLnByb3RvY29sO1xuXHR2YXIgX3BvcnQgPSBwLnBvcnQ7XG5cdHZhciBfaG9zdG5hbWUgPSBwLmhvc3RuYW1lO1xuXG5cdHAucHJvdG9jb2wgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh2ICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdC8vIGFjY2VwdCB0cmFpbGluZyA6Ly9cblx0XHRcdFx0diA9IHYucmVwbGFjZSgvOihcXC9cXC8pPyQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCF2Lm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuKy1dIG9yIGRvZXNuXFwndCBzdGFydCB3aXRoIFtBLVpdJyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIF9wcm90b2NvbC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTtcblx0fTtcblx0cC5zY2hlbWUgPSBwLnByb3RvY29sO1xuXHRwLnBvcnQgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKHYgPT09IDApIHtcblx0XHRcdFx0diA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdHYgKz0gJyc7XG5cdFx0XHRcdGlmICh2LmNoYXJBdCgwKSA9PT0gJzonKSB7XG5cdFx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHYubWF0Y2goL1teMC05XS8pKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbMC05XScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBfcG9ydC5jYWxsKHRoaXMsIHYsIGJ1aWxkKTtcblx0fTtcblx0cC5ob3N0bmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR2YXIgeCA9IHt9O1xuXHRcdFx0dmFyIHJlcyA9IFVSSS5wYXJzZUhvc3QodiwgeCk7XG5cdFx0XHRpZiAocmVzICE9PSAnLycpIHtcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO1xuXHRcdFx0fVxuXG5cdFx0XHR2ID0geC5ob3N0bmFtZTtcblx0XHR9XG5cdFx0cmV0dXJuIF9ob3N0bmFtZS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTtcblx0fTtcblxuXHQvLyBjb21wb3VuZCBhY2Nlc3NvcnNcblx0cC5vcmlnaW4gPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdHZhciBwYXJ0cztcblxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dmFyIHByb3RvY29sID0gdGhpcy5wcm90b2NvbCgpO1xuXHRcdFx0dmFyIGF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5KCk7XG5cdFx0XHRpZiAoIWF1dGhvcml0eSkgcmV0dXJuICcnO1xuXHRcdFx0cmV0dXJuIChwcm90b2NvbCA/IHByb3RvY29sICsgJzovLycgOiAnJykgKyB0aGlzLmF1dGhvcml0eSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgb3JpZ2luID0gVVJJKHYpO1xuXHRcdFx0dGhpc1xuXHRcdFx0XHQucHJvdG9jb2wob3JpZ2luLnByb3RvY29sKCkpXG5cdFx0XHRcdC5hdXRob3JpdHkob3JpZ2luLmF1dGhvcml0eSgpKVxuXHRcdFx0XHQuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5ob3N0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEhvc3QodGhpcy5fcGFydHMpIDogJyc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciByZXMgPSBVUkkucGFyc2VIb3N0KHYsIHRoaXMuX3BhcnRzKTtcblx0XHRcdGlmIChyZXMgIT09ICcvJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5hdXRob3JpdHkgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gVVJJLmJ1aWxkQXV0aG9yaXR5KHRoaXMuX3BhcnRzKSA6ICcnO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcmVzID0gVVJJLnBhcnNlQXV0aG9yaXR5KHYsIHRoaXMuX3BhcnRzKTtcblx0XHRcdGlmIChyZXMgIT09ICcvJykge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC51c2VyaW5mbyA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnVzZXJuYW1lKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0dmFyIHQgPSBVUkkuYnVpbGRVc2VyaW5mbyh0aGlzLl9wYXJ0cyk7XG5cdFx0XHRyZXR1cm4gdC5zdWJzdHJpbmcoMCwgdC5sZW5ndGggLTEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAodlt2Lmxlbmd0aC0xXSAhPT0gJ0AnKSB7XG5cdFx0XHRcdHYgKz0gJ0AnO1xuXHRcdFx0fVxuXG5cdFx0XHRVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAucmVzb3VyY2UgPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdHZhciBwYXJ0cztcblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTtcblx0XHR9XG5cblx0XHRwYXJ0cyA9IFVSSS5wYXJzZSh2KTtcblx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gcGFydHMucGF0aDtcblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IHBhcnRzLnF1ZXJ5O1xuXHRcdHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7XG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8vIGZyYWN0aW9uIGFjY2Vzc29yc1xuXHRwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHQvLyBjb252ZW5pZW5jZSwgcmV0dXJuIFwid3d3XCIgZnJvbSBcInd3dy5leGFtcGxlLm9yZ1wiXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0Ly8gZ3JhYiBkb21haW4gYW5kIGFkZCBhbm90aGVyIHNlZ21lbnRcblx0XHRcdHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aCAtIDE7XG5cdFx0XHRyZXR1cm4gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGVuZCkgfHwgJyc7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBlID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGg7XG5cdFx0XHR2YXIgc3ViID0gdGhpcy5fcGFydHMuaG9zdG5hbWUuc3Vic3RyaW5nKDAsIGUpO1xuXHRcdFx0dmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKCdeJyArIGVzY2FwZVJlZ0V4KHN1YikpO1xuXG5cdFx0XHRpZiAodiAmJiB2LmNoYXJBdCh2Lmxlbmd0aCAtIDEpICE9PSAnLicpIHtcblx0XHRcdFx0diArPSAnLic7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAuZG9tYWluID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRidWlsZCA9IHY7XG5cdFx0XHR2ID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlbmllbmNlLCByZXR1cm4gXCJleGFtcGxlLm9yZ1wiIGZyb20gXCJ3d3cuZXhhbXBsZS5vcmdcIlxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGlmIGhvc3RuYW1lIGNvbnNpc3RzIG9mIDEgb3IgMiBzZWdtZW50cywgaXQgbXVzdCBiZSB0aGUgZG9tYWluXG5cdFx0XHR2YXIgdCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLm1hdGNoKC9cXC4vZyk7XG5cdFx0XHRpZiAodCAmJiB0Lmxlbmd0aCA8IDIpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudFxuXHRcdFx0dmFyIGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxlbmd0aCAtIHRoaXMudGxkKGJ1aWxkKS5sZW5ndGggLSAxO1xuXHRcdFx0ZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nLCBlbmQgLTEpICsgMTtcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKCF2KSB7XG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7XG5cdFx0XHR9XG5cblx0XHRcdFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpO1xuXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFyIHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMuZG9tYWluKCkpICsgJyQnKTtcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH07XG5cdHAudGxkID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7XG5cdFx0XHRidWlsZCA9IHY7XG5cdFx0XHR2ID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdC8vIHJldHVybiBcIm9yZ1wiIGZyb20gXCJ3d3cuZXhhbXBsZS5vcmdcIlxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMuaG9zdG5hbWUgfHwgdGhpcy5pcygnSVAnKSkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sYXN0SW5kZXhPZignLicpO1xuXHRcdFx0dmFyIHRsZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhwb3MgKyAxKTtcblxuXHRcdFx0aWYgKGJ1aWxkICE9PSB0cnVlICYmIFNMRCAmJiBTTEQubGlzdFt0bGQudG9Mb3dlckNhc2UoKV0pIHtcblx0XHRcdFx0cmV0dXJuIFNMRC5nZXQodGhpcy5fcGFydHMuaG9zdG5hbWUpIHx8IHRsZDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRsZDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIHJlcGxhY2U7XG5cblx0XHRcdGlmICghdikge1xuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdjYW5ub3Qgc2V0IFRMRCBlbXB0eScpO1xuXHRcdFx0fSBlbHNlIGlmICh2Lm1hdGNoKC9bXmEtekEtWjAtOS1dLykpIHtcblx0XHRcdFx0aWYgKFNMRCAmJiBTTEQuaXModikpIHtcblx0XHRcdFx0XHRyZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7XG5cdFx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1RMRCBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05XScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcignY2Fubm90IHNldCBUTEQgb24gbm9uLWRvbWFpbiBob3N0Jyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLnRsZCgpKSArICckJyk7XG5cdFx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gdGhpcy5fcGFydHMuaG9zdG5hbWUucmVwbGFjZShyZXBsYWNlLCB2KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcblx0XHR9XG5cblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkIHx8IHYgPT09IHRydWUpIHtcblx0XHRcdGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHtcblx0XHRcdFx0cmV0dXJuICcnO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAodGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7XG5cdFx0XHRcdHJldHVybiAnLyc7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGggLSAxO1xuXHRcdFx0dmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpO1xuXG5cdFx0XHRyZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoKHJlcykgOiByZXM7XG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGUgPSB0aGlzLl9wYXJ0cy5wYXRoLmxlbmd0aCAtIHRoaXMuZmlsZW5hbWUoKS5sZW5ndGg7XG5cdFx0XHR2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7XG5cdFx0XHR2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoJ14nICsgZXNjYXBlUmVnRXgoZGlyZWN0b3J5KSk7XG5cblx0XHRcdC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2hcblx0XHRcdGlmICghdGhpcy5pcygncmVsYXRpdmUnKSkge1xuXHRcdFx0XHRpZiAoIXYpIHtcblx0XHRcdFx0XHR2ID0gJy8nO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHYuY2hhckF0KDApICE9PSAnLycpIHtcblx0XHRcdFx0XHR2ID0gJy8nICsgdjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBkaXJlY3RvcmllcyBhbHdheXMgZW5kIHdpdGggYSBzbGFzaFxuXHRcdFx0aWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XG5cdFx0XHRcdHYgKz0gJy8nO1xuXHRcdFx0fVxuXG5cdFx0XHR2ID0gVVJJLnJlY29kZVBhdGgodik7XG5cdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdGhpcy5fcGFydHMucGF0aC5yZXBsYWNlKHJlcGxhY2UsIHYpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLmZpbGVuYW1lID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkge1xuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5wYXRoIHx8IHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwb3MgPSB0aGlzLl9wYXJ0cy5wYXRoLmxhc3RJbmRleE9mKCcvJyk7XG5cdFx0XHR2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpO1xuXG5cdFx0XHRyZXR1cm4gdiA/IFVSSS5kZWNvZGVQYXRoU2VnbWVudChyZXMpIDogcmVzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgbXV0YXRlZERpcmVjdG9yeSA9IGZhbHNlO1xuXG5cdFx0XHRpZiAodi5jaGFyQXQoMCkgPT09ICcvJykge1xuXHRcdFx0XHR2ID0gdi5zdWJzdHJpbmcoMSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh2Lm1hdGNoKC9cXC4/XFwvLykpIHtcblx0XHRcdFx0bXV0YXRlZERpcmVjdG9yeSA9IHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmZpbGVuYW1lKCkpICsgJyQnKTtcblx0XHRcdHYgPSBVUkkucmVjb2RlUGF0aCh2KTtcblx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7XG5cblx0XHRcdGlmIChtdXRhdGVkRGlyZWN0b3J5KSB7XG5cdFx0XHRcdHRoaXMubm9ybWFsaXplUGF0aChidWlsZCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fTtcblx0cC5zdWZmaXggPSBmdW5jdGlvbih2LCBidWlsZCkge1xuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblxuXHRcdFx0dmFyIGZpbGVuYW1lID0gdGhpcy5maWxlbmFtZSgpO1xuXHRcdFx0dmFyIHBvcyA9IGZpbGVuYW1lLmxhc3RJbmRleE9mKCcuJyk7XG5cdFx0XHR2YXIgcywgcmVzO1xuXG5cdFx0XHRpZiAocG9zID09PSAtMSkge1xuXHRcdFx0XHRyZXR1cm4gJyc7XG5cdFx0XHR9XG5cblx0XHRcdC8vIHN1ZmZpeCBtYXkgb25seSBjb250YWluIGFsbnVtIGNoYXJhY3RlcnMgKHl1cCwgSSBtYWRlIHRoaXMgdXAuKVxuXHRcdFx0cyA9IGZpbGVuYW1lLnN1YnN0cmluZyhwb3MrMSk7XG5cdFx0XHRyZXMgPSAoL15bYS16MC05JV0rJC9pKS50ZXN0KHMpID8gcyA6ICcnO1xuXHRcdFx0cmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHYuY2hhckF0KDApID09PSAnLicpIHtcblx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3VmZml4ID0gdGhpcy5zdWZmaXgoKTtcblx0XHRcdHZhciByZXBsYWNlO1xuXG5cdFx0XHRpZiAoIXN1ZmZpeCkge1xuXHRcdFx0XHRpZiAoIXYpIHtcblx0XHRcdFx0XHRyZXR1cm4gdGhpcztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggKz0gJy4nICsgVVJJLnJlY29kZVBhdGgodik7XG5cdFx0XHR9IGVsc2UgaWYgKCF2KSB7XG5cdFx0XHRcdHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KCcuJyArIHN1ZmZpeCkgKyAnJCcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoc3VmZml4KSArICckJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChyZXBsYWNlKSB7XG5cdFx0XHRcdHYgPSBVUkkucmVjb2RlUGF0aCh2KTtcblx0XHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9O1xuXHRwLnNlZ21lbnQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkge1xuXHRcdHZhciBzZXBhcmF0b3IgPSB0aGlzLl9wYXJ0cy51cm4gPyAnOicgOiAnLyc7XG5cdFx0dmFyIHBhdGggPSB0aGlzLnBhdGgoKTtcblx0XHR2YXIgYWJzb2x1dGUgPSBwYXRoLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nO1xuXHRcdHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoc2VwYXJhdG9yKTtcblxuXHRcdGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7XG5cdFx0XHRidWlsZCA9IHY7XG5cdFx0XHR2ID0gc2VnbWVudDtcblx0XHRcdHNlZ21lbnQgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0aWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQmFkIHNlZ21lbnQgXCInICsgc2VnbWVudCArICdcIiwgbXVzdCBiZSAwLWJhc2VkIGludGVnZXInKTtcblx0XHR9XG5cblx0XHRpZiAoYWJzb2x1dGUpIHtcblx0XHRcdHNlZ21lbnRzLnNoaWZ0KCk7XG5cdFx0fVxuXG5cdFx0aWYgKHNlZ21lbnQgPCAwKSB7XG5cdFx0XHQvLyBhbGxvdyBuZWdhdGl2ZSBpbmRleGVzIHRvIGFkZHJlc3MgZnJvbSB0aGUgZW5kXG5cdFx0XHRzZWdtZW50ID0gTWF0aC5tYXgoc2VnbWVudHMubGVuZ3RoICsgc2VnbWVudCwgMCk7XG5cdFx0fVxuXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IHRydWUgKi9cblx0XHRcdHJldHVybiBzZWdtZW50ID09PSB1bmRlZmluZWRcblx0XHRcdFx0PyBzZWdtZW50c1xuXHRcdFx0XHQ6IHNlZ21lbnRzW3NlZ21lbnRdO1xuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovXG5cdFx0fSBlbHNlIGlmIChzZWdtZW50ID09PSBudWxsIHx8IHNlZ21lbnRzW3NlZ21lbnRdID09PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChpc0FycmF5KHYpKSB7XG5cdFx0XHRcdHNlZ21lbnRzID0gW107XG5cdFx0XHRcdC8vIGNvbGxhcHNlIGVtcHR5IGVsZW1lbnRzIHdpdGhpbiBhcnJheVxuXHRcdFx0XHRmb3IgKHZhciBpPTAsIGw9di5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0XHRpZiAoIXZbaV0ubGVuZ3RoICYmICghc2VnbWVudHMubGVuZ3RoIHx8ICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChzZWdtZW50cy5sZW5ndGggJiYgIXNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtMV0ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHRzZWdtZW50cy5wb3AoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRzZWdtZW50cy5wdXNoKHRyaW1TbGFzaGVzKHZbaV0pKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmICh2IHx8IHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHR2ID0gdHJpbVNsYXNoZXModik7XG5cdFx0XHRcdGlmIChzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID09PSAnJykge1xuXHRcdFx0XHRcdC8vIGVtcHR5IHRyYWlsaW5nIGVsZW1lbnRzIGhhdmUgdG8gYmUgb3ZlcndyaXR0ZW5cblx0XHRcdFx0XHQvLyB0byBwcmV2ZW50IHJlc3VsdHMgc3VjaCBhcyAvZm9vLy9iYXJcblx0XHRcdFx0XHRzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID0gdjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzZWdtZW50cy5wdXNoKHYpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmICh2KSB7XG5cdFx0XHRcdHNlZ21lbnRzW3NlZ21lbnRdID0gdHJpbVNsYXNoZXModik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRzZWdtZW50cy5zcGxpY2Uoc2VnbWVudCwgMSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGFic29sdXRlKSB7XG5cdFx0XHRzZWdtZW50cy51bnNoaWZ0KCcnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5wYXRoKHNlZ21lbnRzLmpvaW4oc2VwYXJhdG9yKSwgYnVpbGQpO1xuXHR9O1xuXHRwLnNlZ21lbnRDb2RlZCA9IGZ1bmN0aW9uKHNlZ21lbnQsIHYsIGJ1aWxkKSB7XG5cdFx0dmFyIHNlZ21lbnRzLCBpLCBsO1xuXG5cdFx0aWYgKHR5cGVvZiBzZWdtZW50ICE9PSAnbnVtYmVyJykge1xuXHRcdFx0YnVpbGQgPSB2O1xuXHRcdFx0diA9IHNlZ21lbnQ7XG5cdFx0XHRzZWdtZW50ID0gdW5kZWZpbmVkO1xuXHRcdH1cblxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHNlZ21lbnRzID0gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTtcblx0XHRcdGlmICghaXNBcnJheShzZWdtZW50cykpIHtcblx0XHRcdFx0c2VnbWVudHMgPSBzZWdtZW50cyAhPT0gdW5kZWZpbmVkID8gVVJJLmRlY29kZShzZWdtZW50cykgOiB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKGkgPSAwLCBsID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdFx0c2VnbWVudHNbaV0gPSBVUkkuZGVjb2RlKHNlZ21lbnRzW2ldKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gc2VnbWVudHM7XG5cdFx0fVxuXG5cdFx0aWYgKCFpc0FycmF5KHYpKSB7XG5cdFx0XHR2ID0gKHR5cGVvZiB2ID09PSAnc3RyaW5nJyB8fCB2IGluc3RhbmNlb2YgU3RyaW5nKSA/IFVSSS5lbmNvZGUodikgOiB2O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGkgPSAwLCBsID0gdi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0dltpXSA9IFVSSS5lbmNvZGUodltpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuc2VnbWVudChzZWdtZW50LCB2LCBidWlsZCk7XG5cdH07XG5cblx0Ly8gbXV0YXRpbmcgcXVlcnkgc3RyaW5nXG5cdHZhciBxID0gcC5xdWVyeTtcblx0cC5xdWVyeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XG5cdFx0aWYgKHYgPT09IHRydWUpIHtcblx0XHRcdHJldHVybiBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0dmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0XHR2YXIgcmVzdWx0ID0gdi5jYWxsKHRoaXMsIGRhdGEpO1xuXHRcdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShyZXN1bHQgfHwgZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0gZWxzZSBpZiAodiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xuXHRcdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeSh2LCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJldHVybiBxLmNhbGwodGhpcywgdiwgYnVpbGQpO1xuXHRcdH1cblx0fTtcblx0cC5zZXRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkge1xuXHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXG5cdFx0aWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJyB8fCBuYW1lIGluc3RhbmNlb2YgU3RyaW5nKSB7XG5cdFx0XHRkYXRhW25hbWVdID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogbnVsbDtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Zm9yICh2YXIga2V5IGluIG5hbWUpIHtcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcblx0XHRcdFx0XHRkYXRhW2tleV0gPSBuYW1lW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignVVJJLmFkZFF1ZXJ5KCkgYWNjZXB0cyBhbiBvYmplY3QsIHN0cmluZyBhcyB0aGUgbmFtZSBwYXJhbWV0ZXInKTtcblx0XHR9XG5cblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHRcdFx0YnVpbGQgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAuYWRkUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHtcblx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRVUkkuYWRkUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZSk7XG5cdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdGJ1aWxkID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7XG5cdFx0dmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0VVJJLnJlbW92ZVF1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlKTtcblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XG5cdFx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuXHRcdFx0YnVpbGQgPSB2YWx1ZTtcblx0XHR9XG5cblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAuaGFzUXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgd2l0aGluQXJyYXkpIHtcblx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcblx0XHRyZXR1cm4gVVJJLmhhc1F1ZXJ5KGRhdGEsIG5hbWUsIHZhbHVlLCB3aXRoaW5BcnJheSk7XG5cdH07XG5cdHAuc2V0U2VhcmNoID0gcC5zZXRRdWVyeTtcblx0cC5hZGRTZWFyY2ggPSBwLmFkZFF1ZXJ5O1xuXHRwLnJlbW92ZVNlYXJjaCA9IHAucmVtb3ZlUXVlcnk7XG5cdHAuaGFzU2VhcmNoID0gcC5oYXNRdWVyeTtcblxuXHQvLyBzYW5pdGl6aW5nIFVSTHNcblx0cC5ub3JtYWxpemUgPSBmdW5jdGlvbigpIHtcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XG5cdFx0XHRyZXR1cm4gdGhpc1xuXHRcdFx0XHQubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpXG5cdFx0XHRcdC5ub3JtYWxpemVQYXRoKGZhbHNlKVxuXHRcdFx0XHQubm9ybWFsaXplUXVlcnkoZmFsc2UpXG5cdFx0XHRcdC5ub3JtYWxpemVGcmFnbWVudChmYWxzZSlcblx0XHRcdFx0LmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXNcblx0XHRcdC5ub3JtYWxpemVQcm90b2NvbChmYWxzZSlcblx0XHRcdC5ub3JtYWxpemVIb3N0bmFtZShmYWxzZSlcblx0XHRcdC5ub3JtYWxpemVQb3J0KGZhbHNlKVxuXHRcdFx0Lm5vcm1hbGl6ZVBhdGgoZmFsc2UpXG5cdFx0XHQubm9ybWFsaXplUXVlcnkoZmFsc2UpXG5cdFx0XHQubm9ybWFsaXplRnJhZ21lbnQoZmFsc2UpXG5cdFx0XHQuYnVpbGQoKTtcblx0fTtcblx0cC5ub3JtYWxpemVQcm90b2NvbCA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0aWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHRoaXMuX3BhcnRzLnByb3RvY29sID0gdGhpcy5fcGFydHMucHJvdG9jb2wudG9Mb3dlckNhc2UoKTtcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5ub3JtYWxpemVIb3N0bmFtZSA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0aWYgKHRoaXMuX3BhcnRzLmhvc3RuYW1lKSB7XG5cdFx0XHRpZiAodGhpcy5pcygnSUROJykgJiYgcHVueWNvZGUpIHtcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcblx0XHRcdH0gZWxzZSBpZiAodGhpcy5pcygnSVB2NicpICYmIElQdjYpIHtcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSBJUHY2LmJlc3QodGhpcy5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAubm9ybWFsaXplUG9ydCA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0Ly8gcmVtb3ZlIHBvcnQgb2YgaXQncyB0aGUgcHJvdG9jb2wncyBkZWZhdWx0XG5cdFx0aWYgKHR5cGVvZiB0aGlzLl9wYXJ0cy5wcm90b2NvbCA9PT0gJ3N0cmluZycgJiYgdGhpcy5fcGFydHMucG9ydCA9PT0gVVJJLmRlZmF1bHRQb3J0c1t0aGlzLl9wYXJ0cy5wcm90b2NvbF0pIHtcblx0XHRcdHRoaXMuX3BhcnRzLnBvcnQgPSBudWxsO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLm5vcm1hbGl6ZVBhdGggPSBmdW5jdGlvbihidWlsZCkge1xuXHRcdHZhciBfcGF0aCA9IHRoaXMuX3BhcnRzLnBhdGg7XG5cdFx0aWYgKCFfcGF0aCkge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xuXHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IFVSSS5yZWNvZGVVcm5QYXRoKHRoaXMuX3BhcnRzLnBhdGgpO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnBhdGggPT09ICcvJykge1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXG5cdFx0dmFyIF93YXNfcmVsYXRpdmU7XG5cdFx0dmFyIF9sZWFkaW5nUGFyZW50cyA9ICcnO1xuXHRcdHZhciBfcGFyZW50LCBfcG9zO1xuXG5cdFx0Ly8gaGFuZGxlIHJlbGF0aXZlIHBhdGhzXG5cdFx0aWYgKF9wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHRfd2FzX3JlbGF0aXZlID0gdHJ1ZTtcblx0XHRcdF9wYXRoID0gJy8nICsgX3BhdGg7XG5cdFx0fVxuXG5cdFx0Ly8gaGFuZGxlIHJlbGF0aXZlIGZpbGVzIChhcyBvcHBvc2VkIHRvIGRpcmVjdG9yaWVzKVxuXHRcdGlmIChfcGF0aC5zbGljZSgtMykgPT09ICcvLi4nIHx8IF9wYXRoLnNsaWNlKC0yKSA9PT0gJy8uJykge1xuXHRcdFx0X3BhdGggKz0gJy8nO1xuXHRcdH1cblxuXHRcdC8vIHJlc29sdmUgc2ltcGxlc1xuXHRcdF9wYXRoID0gX3BhdGhcblx0XHRcdC5yZXBsYWNlKC8oXFwvKFxcLlxcLykrKXwoXFwvXFwuJCkvZywgJy8nKVxuXHRcdFx0LnJlcGxhY2UoL1xcL3syLH0vZywgJy8nKTtcblxuXHRcdC8vIHJlbWVtYmVyIGxlYWRpbmcgcGFyZW50c1xuXHRcdGlmIChfd2FzX3JlbGF0aXZlKSB7XG5cdFx0XHRfbGVhZGluZ1BhcmVudHMgPSBfcGF0aC5zdWJzdHJpbmcoMSkubWF0Y2goL14oXFwuXFwuXFwvKSsvKSB8fCAnJztcblx0XHRcdGlmIChfbGVhZGluZ1BhcmVudHMpIHtcblx0XHRcdFx0X2xlYWRpbmdQYXJlbnRzID0gX2xlYWRpbmdQYXJlbnRzWzBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIHJlc29sdmUgcGFyZW50c1xuXHRcdHdoaWxlICh0cnVlKSB7XG5cdFx0XHRfcGFyZW50ID0gX3BhdGguaW5kZXhPZignLy4uJyk7XG5cdFx0XHRpZiAoX3BhcmVudCA9PT0gLTEpIHtcblx0XHRcdFx0Ly8gbm8gbW9yZSAuLi8gdG8gcmVzb2x2ZVxuXHRcdFx0XHRicmVhaztcblx0XHRcdH0gZWxzZSBpZiAoX3BhcmVudCA9PT0gMCkge1xuXHRcdFx0XHQvLyB0b3AgbGV2ZWwgY2Fubm90IGJlIHJlbGF0aXZlLCBza2lwIGl0XG5cdFx0XHRcdF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDMpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0X3BvcyA9IF9wYXRoLnN1YnN0cmluZygwLCBfcGFyZW50KS5sYXN0SW5kZXhPZignLycpO1xuXHRcdFx0aWYgKF9wb3MgPT09IC0xKSB7XG5cdFx0XHRcdF9wb3MgPSBfcGFyZW50O1xuXHRcdFx0fVxuXHRcdFx0X3BhdGggPSBfcGF0aC5zdWJzdHJpbmcoMCwgX3BvcykgKyBfcGF0aC5zdWJzdHJpbmcoX3BhcmVudCArIDMpO1xuXHRcdH1cblxuXHRcdC8vIHJldmVydCB0byByZWxhdGl2ZVxuXHRcdGlmIChfd2FzX3JlbGF0aXZlICYmIHRoaXMuaXMoJ3JlbGF0aXZlJykpIHtcblx0XHRcdF9wYXRoID0gX2xlYWRpbmdQYXJlbnRzICsgX3BhdGguc3Vic3RyaW5nKDEpO1xuXHRcdH1cblxuXHRcdF9wYXRoID0gVVJJLnJlY29kZVBhdGgoX3BhdGgpO1xuXHRcdHRoaXMuX3BhcnRzLnBhdGggPSBfcGF0aDtcblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cdHAubm9ybWFsaXplUGF0aG5hbWUgPSBwLm5vcm1hbGl6ZVBhdGg7XG5cdHAubm9ybWFsaXplUXVlcnkgPSBmdW5jdGlvbihidWlsZCkge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5fcGFydHMucXVlcnkgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnF1ZXJ5Lmxlbmd0aCkge1xuXHRcdFx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLnF1ZXJ5KFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblx0cC5ub3JtYWxpemVGcmFnbWVudCA9IGZ1bmN0aW9uKGJ1aWxkKSB7XG5cdFx0aWYgKCF0aGlzLl9wYXJ0cy5mcmFnbWVudCkge1xuXHRcdFx0dGhpcy5fcGFydHMuZnJhZ21lbnQgPSBudWxsO1xuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXHRwLm5vcm1hbGl6ZVNlYXJjaCA9IHAubm9ybWFsaXplUXVlcnk7XG5cdHAubm9ybWFsaXplSGFzaCA9IHAubm9ybWFsaXplRnJhZ21lbnQ7XG5cblx0cC5pc284ODU5ID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gZXhwZWN0IHVuaWNvZGUgaW5wdXQsIGlzbzg4NTkgb3V0cHV0XG5cdFx0dmFyIGUgPSBVUkkuZW5jb2RlO1xuXHRcdHZhciBkID0gVVJJLmRlY29kZTtcblxuXHRcdFVSSS5lbmNvZGUgPSBlc2NhcGU7XG5cdFx0VVJJLmRlY29kZSA9IGRlY29kZVVSSUNvbXBvbmVudDtcblx0XHR0cnkge1xuXHRcdFx0dGhpcy5ub3JtYWxpemUoKTtcblx0XHR9IGZpbmFsbHkge1xuXHRcdFx0VVJJLmVuY29kZSA9IGU7XG5cdFx0XHRVUkkuZGVjb2RlID0gZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0cC51bmljb2RlID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gZXhwZWN0IGlzbzg4NTkgaW5wdXQsIHVuaWNvZGUgb3V0cHV0XG5cdFx0dmFyIGUgPSBVUkkuZW5jb2RlO1xuXHRcdHZhciBkID0gVVJJLmRlY29kZTtcblxuXHRcdFVSSS5lbmNvZGUgPSBzdHJpY3RFbmNvZGVVUklDb21wb25lbnQ7XG5cdFx0VVJJLmRlY29kZSA9IHVuZXNjYXBlO1xuXHRcdHRyeSB7XG5cdFx0XHR0aGlzLm5vcm1hbGl6ZSgpO1xuXHRcdH0gZmluYWxseSB7XG5cdFx0XHRVUkkuZW5jb2RlID0gZTtcblx0XHRcdFVSSS5kZWNvZGUgPSBkO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRwLnJlYWRhYmxlID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIHVyaSA9IHRoaXMuY2xvbmUoKTtcblx0XHQvLyByZW1vdmluZyB1c2VybmFtZSwgcGFzc3dvcmQsIGJlY2F1c2UgdGhleSBzaG91bGRuJ3QgYmUgZGlzcGxheWVkIGFjY29yZGluZyB0byBSRkMgMzk4NlxuXHRcdHVyaS51c2VybmFtZSgnJykucGFzc3dvcmQoJycpLm5vcm1hbGl6ZSgpO1xuXHRcdHZhciB0ID0gJyc7XG5cdFx0aWYgKHVyaS5fcGFydHMucHJvdG9jb2wpIHtcblx0XHRcdHQgKz0gdXJpLl9wYXJ0cy5wcm90b2NvbCArICc6Ly8nO1xuXHRcdH1cblxuXHRcdGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lKSB7XG5cdFx0XHRpZiAodXJpLmlzKCdwdW55Y29kZScpICYmIHB1bnljb2RlKSB7XG5cdFx0XHRcdHQgKz0gcHVueWNvZGUudG9Vbmljb2RlKHVyaS5fcGFydHMuaG9zdG5hbWUpO1xuXHRcdFx0XHRpZiAodXJpLl9wYXJ0cy5wb3J0KSB7XG5cdFx0XHRcdFx0dCArPSAnOicgKyB1cmkuX3BhcnRzLnBvcnQ7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHQgKz0gdXJpLmhvc3QoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodXJpLl9wYXJ0cy5ob3N0bmFtZSAmJiB1cmkuX3BhcnRzLnBhdGggJiYgdXJpLl9wYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHR0ICs9ICcvJztcblx0XHR9XG5cblx0XHR0ICs9IHVyaS5wYXRoKHRydWUpO1xuXHRcdGlmICh1cmkuX3BhcnRzLnF1ZXJ5KSB7XG5cdFx0XHR2YXIgcSA9ICcnO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIHFwID0gdXJpLl9wYXJ0cy5xdWVyeS5zcGxpdCgnJicpLCBsID0gcXAubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdHZhciBrdiA9IChxcFtpXSB8fCAnJykuc3BsaXQoJz0nKTtcblx0XHRcdFx0cSArPSAnJicgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMF0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpXG5cdFx0XHRcdFx0LnJlcGxhY2UoLyYvZywgJyUyNicpO1xuXG5cdFx0XHRcdGlmIChrdlsxXSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0cSArPSAnPScgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMV0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpXG5cdFx0XHRcdFx0XHQucmVwbGFjZSgvJi9nLCAnJTI2Jyk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHQgKz0gJz8nICsgcS5zdWJzdHJpbmcoMSk7XG5cdFx0fVxuXG5cdFx0dCArPSBVUkkuZGVjb2RlUXVlcnkodXJpLmhhc2goKSwgdHJ1ZSk7XG5cdFx0cmV0dXJuIHQ7XG5cdH07XG5cblx0Ly8gcmVzb2x2aW5nIHJlbGF0aXZlIGFuZCBhYnNvbHV0ZSBVUkxzXG5cdHAuYWJzb2x1dGVUbyA9IGZ1bmN0aW9uKGJhc2UpIHtcblx0XHR2YXIgcmVzb2x2ZWQgPSB0aGlzLmNsb25lKCk7XG5cdFx0dmFyIHByb3BlcnRpZXMgPSBbJ3Byb3RvY29sJywgJ3VzZXJuYW1lJywgJ3Bhc3N3b3JkJywgJ2hvc3RuYW1lJywgJ3BvcnQnXTtcblx0XHR2YXIgYmFzZWRpciwgaSwgcDtcblxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTtcblx0XHR9XG5cblx0XHRpZiAoIShiYXNlIGluc3RhbmNlb2YgVVJJKSkge1xuXHRcdFx0YmFzZSA9IG5ldyBVUkkoYmFzZSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFyZXNvbHZlZC5fcGFydHMucHJvdG9jb2wpIHtcblx0XHRcdHJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCA9IGJhc2UuX3BhcnRzLnByb3RvY29sO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkge1xuXHRcdFx0cmV0dXJuIHJlc29sdmVkO1xuXHRcdH1cblxuXHRcdGZvciAoaSA9IDA7IChwID0gcHJvcGVydGllc1tpXSk7IGkrKykge1xuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzW3BdID0gYmFzZS5fcGFydHNbcF07XG5cdFx0fVxuXG5cdFx0aWYgKCFyZXNvbHZlZC5fcGFydHMucGF0aCkge1xuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnBhdGggPSBiYXNlLl9wYXJ0cy5wYXRoO1xuXHRcdFx0aWYgKCFyZXNvbHZlZC5fcGFydHMucXVlcnkpIHtcblx0XHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnF1ZXJ5ID0gYmFzZS5fcGFydHMucXVlcnk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmIChyZXNvbHZlZC5fcGFydHMucGF0aC5zdWJzdHJpbmcoLTIpID09PSAnLi4nKSB7XG5cdFx0XHRyZXNvbHZlZC5fcGFydHMucGF0aCArPSAnLyc7XG5cdFx0fVxuXG5cdFx0aWYgKHJlc29sdmVkLnBhdGgoKS5jaGFyQXQoMCkgIT09ICcvJykge1xuXHRcdFx0YmFzZWRpciA9IGJhc2UuZGlyZWN0b3J5KCk7XG5cdFx0XHRiYXNlZGlyID0gYmFzZWRpciA/IGJhc2VkaXIgOiBiYXNlLnBhdGgoKS5pbmRleE9mKCcvJykgPT09IDAgPyAnLycgOiAnJztcblx0XHRcdHJlc29sdmVkLl9wYXJ0cy5wYXRoID0gKGJhc2VkaXIgPyAoYmFzZWRpciArICcvJykgOiAnJykgKyByZXNvbHZlZC5fcGFydHMucGF0aDtcblx0XHRcdHJlc29sdmVkLm5vcm1hbGl6ZVBhdGgoKTtcblx0XHR9XG5cblx0XHRyZXNvbHZlZC5idWlsZCgpO1xuXHRcdHJldHVybiByZXNvbHZlZDtcblx0fTtcblx0cC5yZWxhdGl2ZVRvID0gZnVuY3Rpb24oYmFzZSkge1xuXHRcdHZhciByZWxhdGl2ZSA9IHRoaXMuY2xvbmUoKS5ub3JtYWxpemUoKTtcblx0XHR2YXIgcmVsYXRpdmVQYXJ0cywgYmFzZVBhcnRzLCBjb21tb24sIHJlbGF0aXZlUGF0aCwgYmFzZVBhdGg7XG5cblx0XHRpZiAocmVsYXRpdmUuX3BhcnRzLnVybikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVUk5zIGRvIG5vdCBoYXZlIGFueSBnZW5lcmFsbHkgZGVmaW5lZCBoaWVyYXJjaGljYWwgY29tcG9uZW50cycpO1xuXHRcdH1cblxuXHRcdGJhc2UgPSBuZXcgVVJJKGJhc2UpLm5vcm1hbGl6ZSgpO1xuXHRcdHJlbGF0aXZlUGFydHMgPSByZWxhdGl2ZS5fcGFydHM7XG5cdFx0YmFzZVBhcnRzID0gYmFzZS5fcGFydHM7XG5cdFx0cmVsYXRpdmVQYXRoID0gcmVsYXRpdmUucGF0aCgpO1xuXHRcdGJhc2VQYXRoID0gYmFzZS5wYXRoKCk7XG5cblx0XHRpZiAocmVsYXRpdmVQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VSSSBpcyBhbHJlYWR5IHJlbGF0aXZlJyk7XG5cdFx0fVxuXG5cdFx0aWYgKGJhc2VQYXRoLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgYSBVUkkgcmVsYXRpdmUgdG8gYW5vdGhlciByZWxhdGl2ZSBVUkknKTtcblx0XHR9XG5cblx0XHRpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9PT0gYmFzZVBhcnRzLnByb3RvY29sKSB7XG5cdFx0XHRyZWxhdGl2ZVBhcnRzLnByb3RvY29sID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gYmFzZVBhcnRzLnVzZXJuYW1lIHx8IHJlbGF0aXZlUGFydHMucGFzc3dvcmQgIT09IGJhc2VQYXJ0cy5wYXNzd29yZCkge1xuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlbGF0aXZlUGFydHMucHJvdG9jb2wgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy51c2VybmFtZSAhPT0gbnVsbCB8fCByZWxhdGl2ZVBhcnRzLnBhc3N3b3JkICE9PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcblx0XHR9XG5cblx0XHRpZiAocmVsYXRpdmVQYXJ0cy5ob3N0bmFtZSA9PT0gYmFzZVBhcnRzLmhvc3RuYW1lICYmIHJlbGF0aXZlUGFydHMucG9ydCA9PT0gYmFzZVBhcnRzLnBvcnQpIHtcblx0XHRcdHJlbGF0aXZlUGFydHMuaG9zdG5hbWUgPSBudWxsO1xuXHRcdFx0cmVsYXRpdmVQYXJ0cy5wb3J0ID0gbnVsbDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0aWYgKHJlbGF0aXZlUGF0aCA9PT0gYmFzZVBhdGgpIHtcblx0XHRcdHJlbGF0aXZlUGFydHMucGF0aCA9ICcnO1xuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdFx0fVxuXG5cdFx0Ly8gZGV0ZXJtaW5lIGNvbW1vbiBzdWIgcGF0aFxuXHRcdGNvbW1vbiA9IFVSSS5jb21tb25QYXRoKHJlbGF0aXZlUGF0aCwgYmFzZVBhdGgpO1xuXG5cdFx0Ly8gSWYgdGhlIHBhdGhzIGhhdmUgbm90aGluZyBpbiBjb21tb24sIHJldHVybiBhIHJlbGF0aXZlIFVSTCB3aXRoIHRoZSBhYnNvbHV0ZSBwYXRoLlxuXHRcdGlmICghY29tbW9uKSB7XG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcblx0XHR9XG5cblx0XHR2YXIgcGFyZW50cyA9IGJhc2VQYXJ0cy5wYXRoXG5cdFx0XHQuc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpXG5cdFx0XHQucmVwbGFjZSgvW15cXC9dKiQvLCAnJylcblx0XHRcdC5yZXBsYWNlKC8uKj9cXC8vZywgJy4uLycpO1xuXG5cdFx0cmVsYXRpdmVQYXJ0cy5wYXRoID0gKHBhcmVudHMgKyByZWxhdGl2ZVBhcnRzLnBhdGguc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpKSB8fCAnLi8nO1xuXG5cdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XG5cdH07XG5cblx0Ly8gY29tcGFyaW5nIFVSSXNcblx0cC5lcXVhbHMgPSBmdW5jdGlvbih1cmkpIHtcblx0XHR2YXIgb25lID0gdGhpcy5jbG9uZSgpO1xuXHRcdHZhciB0d28gPSBuZXcgVVJJKHVyaSk7XG5cdFx0dmFyIG9uZV9tYXAgPSB7fTtcblx0XHR2YXIgdHdvX21hcCA9IHt9O1xuXHRcdHZhciBjaGVja2VkID0ge307XG5cdFx0dmFyIG9uZV9xdWVyeSwgdHdvX3F1ZXJ5LCBrZXk7XG5cblx0XHRvbmUubm9ybWFsaXplKCk7XG5cdFx0dHdvLm5vcm1hbGl6ZSgpO1xuXG5cdFx0Ly8gZXhhY3QgbWF0Y2hcblx0XHRpZiAob25lLnRvU3RyaW5nKCkgPT09IHR3by50b1N0cmluZygpKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBleHRyYWN0IHF1ZXJ5IHN0cmluZ1xuXHRcdG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpO1xuXHRcdHR3b19xdWVyeSA9IHR3by5xdWVyeSgpO1xuXHRcdG9uZS5xdWVyeSgnJyk7XG5cdFx0dHdvLnF1ZXJ5KCcnKTtcblxuXHRcdC8vIGRlZmluaXRlbHkgbm90IGVxdWFsIGlmIG5vdCBldmVuIG5vbi1xdWVyeSBwYXJ0cyBtYXRjaFxuXHRcdGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBxdWVyeSBwYXJhbWV0ZXJzIGhhdmUgdGhlIHNhbWUgbGVuZ3RoLCBldmVuIGlmIHRoZXkncmUgcGVybXV0ZWRcblx0XHRpZiAob25lX3F1ZXJ5Lmxlbmd0aCAhPT0gdHdvX3F1ZXJ5Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXHRcdHR3b19tYXAgPSBVUkkucGFyc2VRdWVyeSh0d29fcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xuXG5cdFx0Zm9yIChrZXkgaW4gb25lX21hcCkge1xuXHRcdFx0aWYgKGhhc093bi5jYWxsKG9uZV9tYXAsIGtleSkpIHtcblx0XHRcdFx0aWYgKCFpc0FycmF5KG9uZV9tYXBba2V5XSkpIHtcblx0XHRcdFx0XHRpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNoZWNrZWRba2V5XSA9IHRydWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChrZXkgaW4gdHdvX21hcCkge1xuXHRcdFx0aWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHtcblx0XHRcdFx0aWYgKCFjaGVja2VkW2tleV0pIHtcblx0XHRcdFx0XHQvLyB0d28gY29udGFpbnMgYSBwYXJhbWV0ZXIgbm90IHByZXNlbnQgaW4gb25lXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG5cblx0Ly8gc3RhdGVcblx0cC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7XG5cdFx0dGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzID0gISF2O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdHAuZXNjYXBlUXVlcnlTcGFjZSA9IGZ1bmN0aW9uKHYpIHtcblx0XHR0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdHJldHVybiBVUkk7XG59KSk7IiwiV29ya2Zsb3cgPSB7fVxuXG5ASW1hZ2VTaWduID0ge307XG5cbkBUcmFjZXNIYW5kbGVyID0ge307XG5cbkBUcmFjZXNUZW1wbGF0ZSA9IHt9O1xuXG5ASW5zdGFuY2Vmb3JtVGVtcGxhdGUgPSB7fTtcblxuQEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlID0ge307XG5cbkBJbnN0YW5jZVNpZ25UZXh0ID0ge31cblxuQFJlbGF0ZWRJbnN0YW5jZXMgPSB7fVxuXG5AUmVsYXRlZFJlY29yZHMgPSB7fVxuXG5ASW5zdGFuY2VNYWNybyA9IHtjb250ZXh0OiB7fX1cblxuQFRyYWNlc01hbmFnZXIgPSB7fTtcblxuSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyA9IChmaWVsZF9mb3JtdWxhKS0+XG5cdHJldHVybiAoZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7eWlqaWFubGFuOlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7XFxcInlpamlhbmxhblxcXCI6XCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInsneWlqaWFubGFuJzpcIikgPiAtMSlcblxuSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZCA9IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cblx0ZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcblxuXHRfZm9ybV92ZXJzaW9uID0ge31cblxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGZvcm19KSwgZm9ybV92ZXJzaW9uKVxuXHRlbHNlXG5cdFx0X2Zvcm1fdmVyc2lvbiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KVxuXG5cdGZpZWxkcyA9IF9mb3JtX3ZlcnNpb24/LmZpZWxkcyB8fCBbXVxuXG5cdGZpZWxkcy5mb3JFYWNoIChmKS0+XG5cdFx0aWYgZi50eXBlID09ICd0YWJsZSdcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcblx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXG5cdFx0ZWxzZVxuXHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmLmZvcm11bGFcblxuXHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblxuIiwiICAgICAgICAgICAgIFxuXG5Xb3JrZmxvdyA9IHt9O1xuXG50aGlzLkltYWdlU2lnbiA9IHt9O1xuXG50aGlzLlRyYWNlc0hhbmRsZXIgPSB7fTtcblxudGhpcy5UcmFjZXNUZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlZm9ybVRlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZVNpZ25UZXh0ID0ge307XG5cbnRoaXMuUmVsYXRlZEluc3RhbmNlcyA9IHt9O1xuXG50aGlzLlJlbGF0ZWRSZWNvcmRzID0ge307XG5cbnRoaXMuSW5zdGFuY2VNYWNybyA9IHtcbiAgY29udGV4dDoge31cbn07XG5cbnRoaXMuVHJhY2VzTWFuYWdlciA9IHt9O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nID0gZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICByZXR1cm4gKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt5aWppYW5sYW46XCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7XFxcInlpamlhbmxhblxcXCI6XCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7J3lpamlhbmxhbic6XCIpIDogdm9pZCAwKSA+IC0xO1xufTtcblxuSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZCA9IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICB2YXIgX2Zvcm1fdmVyc2lvbiwgZmllbGRfZm9ybXVsYXMsIGZpZWxkcztcbiAgZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcbiAgX2Zvcm1fdmVyc2lvbiA9IHt9O1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgX2Zvcm1fdmVyc2lvbiA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZvcm1cbiAgICB9KSwgZm9ybV92ZXJzaW9uKTtcbiAgfSBlbHNlIHtcbiAgICBfZm9ybV92ZXJzaW9uID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybV92ZXJzaW9uLFxuICAgICAgZm9ybTogZm9ybVxuICAgIH0pO1xuICB9XG4gIGZpZWxkcyA9IChfZm9ybV92ZXJzaW9uICE9IG51bGwgPyBfZm9ybV92ZXJzaW9uLmZpZWxkcyA6IHZvaWQgMCkgfHwgW107XG4gIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmIChmLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICByZXR1cm4gZiAhPSBudWxsID8gKHJlZiA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZjEuZm9ybXVsYSk7XG4gICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZi5mb3JtdWxhKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gXy5zb21lKGZpZWxkX2Zvcm11bGFzLCBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSk7XG4gIH0pO1xufTtcbiIsImRiLmF1dGhfdG9rZW5zID0gbmV3IE1ldGVvci5Db2xsZWN0aW9uKCdhdXRoX3Rva2VucycpIiwibWFya2VkID0gcmVxdWlyZShcIm1hcmtlZFwiKVxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUgPSB7fTtcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiXCJcIlxuXHQ8dHI+XG5cdFx0PHRkIGNsYXNzPVwiaW5zLWF0dGFjaC12aWV3XCI+XG5cdFx0XHQ8YSBocmVmPVwie3tpbnNfYXR0YWNoX2Rvd25sb2FkX3VybCBfaWQgYWJzb2x1dGV9fVwiIGNsYXNzPVwiaW5zX2F0dGFjaF9ocmVmXCIgdGFyZ2V0PVwiX3BhcmVudFwiIGRhdGEtbmFtZT1cInt7dGhpcy5uYW1lfX1cIiBkYXRhLXR5cGU9XCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XCIgZGF0YS1pZD1cInt7X2lkfX1cIj57e3RoaXMubmFtZX19PC9hPlxuXHRcdDwvdGQ+XG5cdDwvdHI+XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmU2VsZWN0VXNlclJlYWQgPSBcIlwiXCJcblx0PGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XG5cIlwiXCJcblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXBSZWFkID0gXCJcIlwiXG5cdDxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxuXHRcdHt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcIj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCIgc3R5bGU9XCJwYWRkaW5nOjBweDtcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiA+XG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJlYWRvbmx5LXRhYmxlXCIgc3R5bGU9XCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cInt7dGhpcy5jb2RlfX1UYWJsZVwiIG5hbWU9XCJ7e3RoaXMuY29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3t0aGlzLm5hbWV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XCJ7e3RoaXMubmFtZX19VGhlYWRcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRoZWFkXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cInt7dGhpcy5uYW1lfX1UYm9keVwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGJvZHlcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxuXHRcdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svaWZ9fVxuXHRcdHt7L3dpdGh9fVxuXHQ8L2Rpdj5cblwiXCJcIlxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlwiXCJcblxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XG5cdFx0XHRcdFx0PC9kaXY+XG4gIFx0XHRcdFx0PC9kaXY+XG5cdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiIHN0eWxlPVwicGFkZGluZzowcHg7XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XCJ7e3RoaXMuY29kZX19VGFibGVcIiBuYW1lPVwie3t0aGlzLmNvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7dGhpcy5uYW1lfX1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIGRhdGEtcmVxdWlyZWQ9XCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cIj5cblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHR7eyNpZiBpc190ZXh0YXJlYX19XG5cdFx0XHRcdFx0XHRcdFx0PHRleHRhcmVhIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+PC90ZXh0YXJlYT5cblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHR7eyN1bmxlc3MgaXNfdGV4dGFyZWF9fVxuXHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdHt7L3VubGVzc319XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ251bWJlcid9fVxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cIm51bWJlclwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGUnfX1cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtdHlwZT1cImRhdGVcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGVUaW1lJ319XG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXR5cGU9J2RhdGV0aW1lJyBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3Bhc3N3b3JkJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWxlY3QnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNlbGVjdCBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8b3B0aW9uIHZhbHVlPVwie3t2YWx1ZX19XCI+e3tsYWJlbH19PC9vcHRpb24+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zZWxlY3Q+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3JhZGlvJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhZi1yYWRpby1ncm91cFwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxuICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJyYWRpby1pbmxpbmUgZml4LWluZGVudFwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiB2YWx1ZT1cInt7dmFsdWV9fVwiIG5hbWU9XCJ7ey4uL2NvZGV9fVwiIGNsYXNzPVwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcIj4ge3tsYWJlbH19PC9sYWJlbD5cbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdtdWx0aVNlbGVjdCd9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYWYtY2hlY2tib3gtZ3JvdXBcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJ7e3ZhbHVlfX1cIiBuYW1lPVwie3suLi9jb2RlfX1cIiBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+IHt7bGFiZWx9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndXJsJ319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidXJsXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZW1haWwnfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJlbWFpbFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2NoZWNrYm94J319XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaGVja2JveFwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJ0cnVlXCIgbmFtZT1cInt7Y29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPjwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0XHR7ey9pZn19XG5cdFx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0XHR7ey9pZn19XG5cdFx0XHR7ey9pZn19XG5cdFx0e3svd2l0aH19XG5cIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZSA9ICh0ZW1wYWx0ZU5hbWUsIHN0ZWVkb3NEYXRhKSAtPlxuXHR0ZW1wbGF0ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdXG5cblx0dGVtcGxhdGVDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblxuXHR0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0ZW1wbGF0ZUNvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdID0gbmV3IEJsYXplLlRlbXBsYXRlKHRlbXBhbHRlTmFtZSwgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbik7XG5cdFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLmhlbHBlcnMgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dCA9IChzdGVlZG9zRGF0YSktPlxuXHRpbnN0YW5jZVNpZ25UZXh0SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX3NpZ25fdGV4dC5odG1sJylcblxuXHRpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlU2lnblRleHRIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0aW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQpO1xuXG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZVNpZ25UZXh0XCIsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbik7XG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24gPSAoc3RlZWRvc0RhdGEpIC0+XG5cdGltYWdlU2lnbkh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbWFnZV9zaWduLmh0bWwnKVxuXHRpbWFnZVNpZ25Db21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW1hZ2VTaWduSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXHRpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW1hZ2VTaWduQ29tcGlsZWQpO1xuXHRUZW1wbGF0ZS5pbWFnZVNpZ24gPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbWFnZVNpZ25cIiwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24pO1xuXHRUZW1wbGF0ZS5pbWFnZVNpZ24uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZS5pbWFnZVNpZ24uaGVscGVycyBJbWFnZVNpZ24uaGVscGVyc1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlVHJhY2VzSGFubGRlciA9IChzdGVlZG9zRGF0YSkgLT5cblx0dHJhY2VzSGFubGRlckh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfaGFuZGxlci5odG1sJylcblx0dHJhY2VzSGFubGRlckNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIYW5sZGVySHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXHR0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlc0hhbmxkZXJDb21waWxlZCk7XG5cdFRlbXBsYXRlLmluc3RhbmNlX3RyYWNlc19oYW5kbGVyID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXJcIiwgdHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uKTtcblx0VGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXHRUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlci5oZWxwZXJzIFRyYWNlc0hhbmRsZXIuaGVscGVyc1xuXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0ID0gKHN0ZWVkb3NEYXRhKSAtPlxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwXCIsIHN0ZWVkb3NEYXRhKTtcblxuXHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBSZWFkXCIsIHN0ZWVkb3NEYXRhKTtcblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge2Fic29sdXRlOiBzdGVlZG9zRGF0YS5hYnNvbHV0ZX0pO1xuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24oc3RlZWRvc0RhdGEpXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIoc3RlZWRvc0RhdGEpO1xuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKVxuXG5nZXRMaW5rVGV4dCA9IChpdGVtLCBsYWJlbCwgZGV0YWlsX3VybCktPlxuXHRpZiBkZXRhaWxfdXJsXG5cdFx0ZGV0YWlsX3VybCA9IGRldGFpbF91cmwucmVwbGFjZShcIntfaWR9XCIsIGl0ZW0uX2lkKVxuXHRcdGlmICEvXmh0dHAocz8pOlxcL1xcLy8udGVzdChkZXRhaWxfdXJsKVxuXHRcdFx0ZGV0YWlsX3VybCA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoZGV0YWlsX3VybClcblx0XHRyZXR1cm4gJzxhIGhyZWY9XCInK2RldGFpbF91cmwrJ1wiIHRhcmdldD1cIl9ibGFua1wiPicrbGFiZWwrJzwvYT4nO1xuXHRlbHNlXG5cdFx0cmV0dXJuIGxhYmVsXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSA9ICh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSAtPlxuXHRpZiAhdmFsdWUgJiYgdmFsdWUgIT0gZmFsc2Vcblx0XHRyZXR1cm4gJydcblx0aWYgW1wic2VsZWN0XCIsIFwibXVsdGlTZWxlY3RcIiwgXCJyYWRpb1wiXS5pbmRleE9mKGZpZWxkLnR5cGUpID4gLTFcblx0XHRmaWVsZE9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KFwiXFxuXCIpLm1hcCAobiktPlxuXHRcdFx0aXRlbVNwbGl0cyA9IG4uc3BsaXQoXCI6XCIpXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRsYWJlbDogaXRlbVNwbGl0c1swXSxcblx0XHRcdFx0dmFsdWU6IGl0ZW1TcGxpdHNbMV0gfHwgblxuXHRcdFx0fVxuXHRzd2l0Y2ggZmllbGQudHlwZVxuXHRcdHdoZW4gJ2VtYWlsJ1xuXHRcdFx0dmFsdWUgPSBpZiB2YWx1ZSB0aGVuICc8YSBocmVmPVxcJ21haWx0bzonICsgdmFsdWUgKyAnXFwnPicgKyB2YWx1ZSArICc8L2E+JyBlbHNlICcnXG5cdFx0d2hlbiAndXJsJ1xuXHRcdFx0aWYgdmFsdWVcblx0XHRcdFx0aWYgdmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMFxuXHRcdFx0XHRcdHRyeVxuXHRcdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuXHRcdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gJydcblx0XHR3aGVuICdncm91cCdcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIikudG9TdHJpbmcoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5mdWxsbmFtZVxuXHRcdHdoZW4gJ3VzZXInXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR2YWx1ZSA9IHZhbHVlPy5uYW1lXG5cdFx0d2hlbiAncGFzc3dvcmQnXG5cdFx0XHR2YWx1ZSA9ICcqKioqKionXG5cdFx0d2hlbiAnY2hlY2tib3gnXG5cdFx0XHRpZiB2YWx1ZSAmJiB2YWx1ZSAhPSAnZmFsc2UnXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIiwge30sIGxvY2FsZSlcblx0XHR3aGVuICdkYXRlVGltZSdcblx0XHRcdGlmIHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PSAxNlxuXHRcdFx0XHR0ID0gdmFsdWUuc3BsaXQoXCJUXCIpXG5cdFx0XHRcdHQwID0gdFswXS5zcGxpdChcIi1cIik7XG5cdFx0XHRcdHQxID0gdFsxXS5zcGxpdChcIjpcIik7XG5cblx0XHRcdFx0eWVhciA9IHQwWzBdO1xuXHRcdFx0XHRtb250aCA9IHQwWzFdO1xuXHRcdFx0XHRkYXRlID0gdDBbMl07XG5cdFx0XHRcdGhvdXJzID0gdDFbMF07XG5cdFx0XHRcdHNlY29uZHMgPSB0MVsxXTtcblxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG5cblx0XHRcdHZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUodmFsdWUsIHV0Y09mZnNldCk7XG5cdFx0d2hlbiAnaW5wdXQnXG5cdFx0XHRpZiBmaWVsZC5pc190ZXh0YXJlYVxuXHRcdFx0XHR2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZSh2YWx1ZSkpXG5cdFx0d2hlbiAnc2VsZWN0J1xuXHRcdFx0c2VsZWN0ZWRPcHRpb24gPSBmaWVsZE9wdGlvbnMuZmluZCgoaXRlbSkgLT4gcmV0dXJuIGl0ZW0udmFsdWUgPT0gdmFsdWUpXG5cdFx0XHRpZiBzZWxlY3RlZE9wdGlvblxuXHRcdFx0XHR2YWx1ZSA9IHNlbGVjdGVkT3B0aW9uLmxhYmVsXG5cdFx0d2hlbiAncmFkaW8nXG5cdFx0XHRzZWxlY3RlZE9wdGlvbiA9IGZpZWxkT3B0aW9ucy5maW5kKChpdGVtKSAtPiByZXR1cm4gaXRlbS52YWx1ZSA9PSB2YWx1ZSlcblx0XHRcdGlmIHNlbGVjdGVkT3B0aW9uXG5cdFx0XHRcdHZhbHVlID0gc2VsZWN0ZWRPcHRpb24ubGFiZWxcblx0XHR3aGVuICdtdWx0aVNlbGVjdCdcblx0XHRcdHNwbGl0ZWRWYWx1ZXMgPSB2YWx1ZS5zcGxpdChcIixcIilcblx0XHRcdHNlbGVjdGVkT3B0aW9ucyA9IGZpZWxkT3B0aW9ucy5maWx0ZXIoKGl0ZW0pIC0+IHJldHVybiBzcGxpdGVkVmFsdWVzLmluZGV4T2YoaXRlbS52YWx1ZSkgPiAtMSlcblx0XHRcdGlmIHNlbGVjdGVkT3B0aW9ucy5sZW5ndGhcblx0XHRcdFx0dmFsdWUgPSBzZWxlY3RlZE9wdGlvbnMubWFwKChpdGVtKSAtPiByZXR1cm4gaXRlbS5sYWJlbCkuam9pbihcIixcIilcblx0XHR3aGVuICdudW1iZXInXG5cdFx0XHRpZiB2YWx1ZSBvciB2YWx1ZSA9PSAwXG5cdFx0XHRcdHZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyB2YWx1ZSwgZmllbGQuZGlnaXRzXG5cdFx0d2hlbiAnb2RhdGEnXG5cdFx0XHRkZXRhaWxfdXJsID0gZmllbGQuZGV0YWlsX3VybFxuXHRcdFx0aWYgZmllbGQuaXNfbXVsdGlzZWxlY3Rcblx0XHRcdFx0dmFsdWUgPSBfLm1hcCB2YWx1ZSwgKGl0ZW0pLT5cblx0XHRcdFx0XHRyZXR1cm4gZ2V0TGlua1RleHQoaXRlbSwgaXRlbVsnQGxhYmVsJ10sIGRldGFpbF91cmwpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybClcblx0XHR3aGVuICdodG1sJ1xuXHRcdFx0dmFsdWUgPSBpZiB2YWx1ZSB0aGVuIFwiPGRpdiBjbGFzcz1cXFwic3RlZWRvcy1odG1sXFxcIj4je3ZhbHVlfTwvZGl2PlwiIGVsc2UgJydcblxuXHRyZXR1cm4gdmFsdWU7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbCA9IChmaWVsZHMsIGNvZGUpIC0+XG5cdGZpZWxkID0gZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpXG5cdGlmIGZpZWxkXG5cdFx0aWYgZmllbGQubmFtZVxuXHRcdFx0cmV0dXJuIGZpZWxkLm5hbWVcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmllbGQuY29kZVxuXG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uID0gKGluc3RhbmNlKS0+XG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuXG5cdGZvcm1fdmVyc2lvbiA9IHt9XG5cblx0Zm9ybV9maWVsZHMgPSBbXTtcblxuXHRpZiBmb3JtLmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZvcm1fdmVyc2lvblxuXHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudFxuXHRlbHNlXG5cdFx0Zm9ybV92ZXJzaW9uID0gXy53aGVyZShmb3JtLmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mb3JtX3ZlcnNpb259KVswXVxuXG5cdGZvcm1fdmVyc2lvbi5maWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cblx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG5cdFx0XHRpZiBmaWVsZC5maWVsZHNcblx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2ggKGYpIC0+XG5cdFx0XHRcdFx0Zm9ybV9maWVsZHMucHVzaChmKTtcblx0XHRlbHNlIGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0ZmllbGRbJ3NmaWVsZHMnXSA9IGZpZWxkWydmaWVsZHMnXVxuXHRcdFx0ZGVsZXRlIGZpZWxkWydmaWVsZHMnXVxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG5cdFx0ZWxzZVxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG5cblx0Zm9ybV92ZXJzaW9uLmZpZWxkcyA9IGZvcm1fZmllbGRzO1xuXG5cdHJldHVybiBmb3JtX3ZlcnNpb247XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbiA9IChpbnN0YW5jZSktPlxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcblx0Zmxvd192ZXJzaW9uID0ge31cblx0aWYgZmxvdy5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cblx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnRcblx0ZWxzZVxuXHRcdGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9ufSlbMF1cblxuXHRyZXR1cm4gZmxvd192ZXJzaW9uO1xuXG5cbl9nZXRWaWV3SHRtbCA9IChwYXRoKSAtPlxuXHR2aWV3SHRtbCA9IEFzc2V0cy5nZXRUZXh0KHBhdGgpXG5cblx0aWYgdmlld0h0bWxcblx0XHR2aWV3SHRtbCA9IHZpZXdIdG1sLnJlcGxhY2UoLzx0ZW1wbGF0ZVtcXHdcXHNcXFwiXFw9J10rPi9pLFwiXCIpLnJlcGxhY2UoLzxcXC90ZW1wbGF0ZT4vaSxcIlwiKVxuXG5cdHJldHVybiB2aWV3SHRtbDtcblxuX2dldExvY2FsZSA9ICh1c2VyKS0+XG5cdGlmIHVzZXI/LmxvY2FsZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdGVsc2UgaWYgdXNlcj8ubG9jYWxlPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdlbi11cydcblx0XHRsb2NhbGUgPSBcImVuXCJcblx0ZWxzZVxuXHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRyZXR1cm4gbG9jYWxlXG5cblxuX2dldFJlcXVpcmVkRmllbGRzID0gKGZpZWxkcywgcmV2KS0+XG5cdGlmICFyZXZcblx0XHRyZXYgPSBbXTtcblxuXHRmaWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cblx0XHRpZiBmaWVsZC50eXBlID09ICdzZWN0aW9uJ1xuXHRcdFx0X2dldFJlcXVpcmVkRmllbGRzKGZpZWxkLmZpZWxkcywgcmV2KVxuXHRcdGVsc2UgaWYgZmllbGQudHlwZSA9PSAndGFibGUnXG5cblx0XHRlbHNlXG5cdFx0XHRpZiBmaWVsZC5pc19yZXF1aXJlZFxuXHRcdFx0XHRyZXYucHVzaCBmaWVsZC5jb2RlXG5cdHJldHVybiByZXY7XG5cbl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XG5cdHN0YXJ0U3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwX3R5cGVcIixcInN0YXJ0XCIpXG5cblx0ZWRpdGFibGVDb2RlID0gW11cblxuXHRfLmtleXMoc3RhcnRTdGVwLnBlcm1pc3Npb25zKS5mb3JFYWNoIChrZXkpLT5cblx0XHRpZiBzdGFydFN0ZXAucGVybWlzc2lvbnNba2V5XSA9PSAnZWRpdGFibGUnXG5cdFx0XHRlZGl0YWJsZUNvZGUucHVzaCBrZXlcblxuXHRyZXR1cm4gZWRpdGFibGVDb2RlXG5cbl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XG5cdHJlcXVpcmVkRmllbGRzID0gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkcylcblxuXHRlZGl0YWJsZUNvZGUgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZmllbGRzLCBzdGVwcylcblxuXHRyZXR1cm4gXy5pbnRlcnNlY3Rpb24ocmVxdWlyZWRGaWVsZHMsIGVkaXRhYmxlQ29kZSlcblxuX2dldFRlbXBsYXRlRGF0YSA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0Zm9ybV92ZXJzaW9uID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSlcblxuXHRsb2NhbGUgPSBfZ2V0TG9jYWxlKHVzZXIpXG5cblx0c3RlZWRvc0RhdGEgPSB7fVxuXG5cdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdHN0ZWVkb3NEYXRhID0gXy5jbG9uZShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCkpXG5cdFx0c3RlZWRvc0RhdGEuaW5zbmFtZSA9IGluc3RhbmNlLm5hbWVcblx0XHRzdGVlZG9zRGF0YS5pbnNfc3RhdGUgPSBpbnN0YW5jZS5zdGF0ZVxuXHRcdHN0ZWVkb3NEYXRhLmluc19maW5hbF9kZWNpc2lvbiA9IGluc3RhbmNlLmluc19maW5hbF9kZWNpc2lvblxuXHRcdHN0ZWVkb3NEYXRhLmluc19jb2RlID0gaW5zdGFuY2UuY29kZVxuXHRcdHN0ZWVkb3NEYXRhLmluc19pc19hcmNoaXZlZCA9IGluc3RhbmNlLmlzX2FyY2hpdmVkXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2lzX2RlbGV0ZWQgPSBpbnN0YW5jZS5pbnNfaXNfZGVsZXRlZFxuXHRcdHN0ZWVkb3NEYXRhLmFwcGxpY2FudF9uYW1lID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHRzdGVlZG9zRGF0YS5hcHBsaWNhbnRDb250ZXh0ID0gaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblxuXHRzdGVlZG9zRGF0YS5pbnN0YW5jZSA9IGluc3RhbmNlXG5cdHN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbiA9IGZvcm1fdmVyc2lvblxuXHRzdGVlZG9zRGF0YS5sb2NhbGUgPSBsb2NhbGVcblx0c3RlZWRvc0RhdGEudXRjT2Zmc2V0ID0gdXNlci51dGNPZmZzZXRcblx0c3RlZWRvc0RhdGEuc3BhY2UgPSBpbnN0YW5jZS5zcGFjZVxuXHRzdGVlZG9zRGF0YS5zZXNzaW9uVXNlcklkID0gdXNlci5faWRcblxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRpZiBvcHRpb25zPy5lZGl0YWJsZVxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZDogaW5zdGFuY2UuZm9ybX0pXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZsb3d9KVxuXG5cdFx0XHRzdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmb3JtLmN1cnJlbnQuZmllbGRzLCBmbG93LmN1cnJlbnQuc3RlcHMpO1xuXG5cdHJldHVybiBzdGVlZG9zRGF0YTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUgPSAoZGF0ZSwgdXRjT2Zmc2V0KS0+XG5cdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdHBhc3NpbmcgPSBmYWxzZTtcblx0ZWxzZVxuXHRcdHBhc3NpbmcgPSB0cnVlO1xuXG5cdGlmICF1dGNPZmZzZXQgJiYgdXRjT2Zmc2V0ICE9MFxuXHRcdHV0Y09mZnNldCA9IDhcblxuXHRyZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQsIHBhc3NpbmcpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW1cIik7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuXG5cdGluc3RhbmNlVGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UsIG9wdGlvbnM/LnRlbXBsYXRlTmFtZSk7XG5cblx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZTZWxlY3RVc2VyL2csXCJhZlNlbGVjdFVzZXJSZWFkXCIpXG5cblx0aWYgIW9wdGlvbnM/LmVkaXRhYmxlXG5cdFx0aW5zdGFuY2VUZW1wbGF0ZSA9IGluc3RhbmNlVGVtcGxhdGUucmVwbGFjZSgvYWZGb3JtR3JvdXAvZyxcImFmRm9ybUdyb3VwUmVhZFwiKVxuXG5cdGluc3RhbmNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlVGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblxuXHRpbnN0YW5jZVJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZUNvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfcmVhZG9ubHlfdmlld1wiLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LmhlbHBlcnMgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVyc1xuXG5cdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0KHN0ZWVkb3NEYXRhKTtcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldywgc3RlZWRvc0RhdGEpXG5cblx0cmV0dXJuIFwiXCJcIlxuXHRcdDxkaXYgaWQ9J2luc3RhbmNlZm9ybScgPlxuXHRcdFx0I3tib2R5fVxuXHRcdDwvZGl2PlxuXHRcIlwiXCJcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSBcInRhYmxlXCIgfHwgb3B0aW9ucz8udGVtcGxhdGVOYW1lID09IFwidGFibGVcIlxuXHRcdHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfdGFibGUuaHRtbCcpXG5cdGVsc2Vcblx0XHR0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzLmh0bWwnKVxuXG5cdHRyYWNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcblxuXHR0cmFjZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0cmFjZUNvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwidHJhY2VfcmVhZG9ubHlfdmlld1wiLCB0cmFjZVJlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcblxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LmhlbHBlcnMgVHJhY2VzVGVtcGxhdGUuaGVscGVyc1xuXG5cdGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LCBpbnN0YW5jZS50cmFjZXMpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50VmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpLT5cblxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxuXG5cdGF0dGFjaG1lbnRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2VfYXR0YWNobWVudHMuaHRtbCcpXG5cblx0YXR0YWNobWVudENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShhdHRhY2htZW50SHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoYXR0YWNobWVudENvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlld1wiLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcuaGVscGVycyBJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cblx0c3RlZWRvc0RhdGEgPSBfZ2V0VGVtcGxhdGVEYXRhKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSlcblxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xuXG5cdHJlbGF0ZWRJbnN0YW5jZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9pbnN0YW5jZXMuaHRtbCcpXG5cblx0cmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkSW5zdGFuY2VzSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xuXG5cdHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9pbnN0YW5jZXNfdmlld1wiLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24pO1xuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxuXG5cdFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuaGVscGVycyBSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnNcblxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldywgc3RlZWRvc0RhdGEpXG5cblx0cmV0dXJuIGJvZHk7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKS0+XG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cblx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcblxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxuXHRcdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcblxuXHRyZWxhdGVkUmVjb3Jkc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX3JlY29yZHMuaHRtbCcpXG5cblx0cmVsYXRlZFJlY29yZHNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZFJlY29yZHNIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XG5cblx0cmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiA9IGV2YWwocmVsYXRlZFJlY29yZHNDb21waWxlZCk7XG5cblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX3JlY29yZHNfdmlld1wiLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uKTtcblxuXHRUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXG5cblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuaGVscGVycyBSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzXG5cblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LCBzdGVlZG9zRGF0YSlcblxuXHRyZXR1cm4gYm9keTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdCA9IChpbnN0YW5jZSktPlxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXG5cdGZvcm1fc2NyaXB0ID0gZm9ybV92ZXJzaW9uLmZvcm1fc2NyaXB0O1xuXG5cdGlmIGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLFwiXCIpLnJlcGxhY2UoL1xccy9nLFwiXCIpLmxlbmd0aCA+IDBcblx0XHRmb3JtX3NjcmlwdCA9IFwiQ29yZUZvcm0gPSB7fTtDb3JlRm9ybS5pbnN0YW5jZWZvcm0gPSB7fTtcIiArIGZvcm1fc2NyaXB0XG5cdFx0Zm9ybV9zY3JpcHQgKz0gXCI7aWYoQ29yZUZvcm0uZm9ybV9PbkxvYWQpe3dpbmRvdy5vbmxvYWQgPSBDb3JlRm9ybS5mb3JtX09uTG9hZCgpO31cIlxuXHRlbHNlXG5cdFx0Zm9ybV9zY3JpcHQgPSBcIlwiXG5cblxuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxuXG5cdGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG5cblx0b25Mb2FkU2NyaXB0ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdChpbnN0YW5jZSk7XG5cblx0Y3JlYXRvclNlcnZpY2UgPSBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndlYnNlcnZpY2VzPy5jcmVhdG9yPy51cmxcblx0aW5zX3JlY29yZF9pZHMgPSBpbnN0YW5jZS5yZWNvcmRfaWRzXG5cdGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcik7XG5cdG9wZW5GaWxlU2NyaXB0ID0gXCJcIlwiXG5cdFx0XHRpZih3aW5kb3cuaXNOb2RlICYmIGlzTm9kZSgpKXtcblx0XHRcdFx0YXR0YWNocyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJpbnNfYXR0YWNoX2hyZWZcIik7XG5cdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBhdHRhY2hzLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0XHRhdHRhY2ggPSBhdHRhY2hzW2ldO1xuXHRcdFx0XHRcdGF0dGFjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0XHRpZihpc0ltYWdlKHRoaXMuZGF0YXNldC50eXBlKSB8fCBpc0h0bWwodGhpcy5kYXRhc2V0LnR5cGUpKXtcblx0XHRcdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdFx0XHRvcGVuV2luZG93KFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyB0aGlzLmRhdGFzZXQuaWQpO1xuXHRcdFx0XHRcdFx0fWVsc2UgaWYobndfY29yZS5jYW5PcGVuRmlsZSh0aGlzLmRhdGFzZXQubmFtZSkpe1xuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0XHRcdG53X2NvcmUub3BlbkZpbGUodGhpcy5ocmVmLCB0aGlzLmRhdGFzZXQubmFtZSlcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZmxvdyA9IFwiI3tpbnN0YW5jZS5mbG93fVwiO1xuXHRcdFx0dmFyIHNwYWNlID0gXCIje2luc3RhbmNlLnNwYWNlfVwiO1xuXG5cdFx0XHRmdW5jdGlvbiBnZXRDb29raWUobmFtZSl7XG5cdFx0XHRcdGxldCBwYXR0ZXJuID0gUmVnRXhwKG5hbWUgKyBcIj0uW147XSpcIilcblx0XHRcdFx0bGV0IG1hdGNoZWQgPSBkb2N1bWVudC5jb29raWUubWF0Y2gocGF0dGVybilcblx0XHRcdFx0aWYobWF0Y2hlZCl7XG5cdFx0XHRcdFx0bGV0IGNvb2tpZSA9IG1hdGNoZWRbMF0uc3BsaXQoJz0nKVxuXHRcdFx0XHRcdHJldHVybiBjb29raWVbMV1cblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gJydcblx0XHRcdH1cblxuXHRcdFx0dmFyIHJlY29yZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5zLXJlbGF0ZWQtcmVjb3Jkc1wiKTtcblx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCByZWNvcmRzLmxlbmd0aDsgaSsrKXtcblx0XHRcdFx0XHR2YXIgcmVjb3JkID0gcmVjb3Jkc1tpXTtcblx0XHRcdFx0XHRyZWNvcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdFx0dmFyIGNyZWF0b3JTZXJ2aWNlID0gXCIje2NyZWF0b3JTZXJ2aWNlfVwiXG5cdFx0XHRcdFx0XHR2YXIgaW5zX3JlY29yZF9pZHMgPSAje0pTT04uc3RyaW5naWZ5KGluc19yZWNvcmRfaWRzKX1cblx0XHRcdFx0XHRcdGlmKGNyZWF0b3JTZXJ2aWNlICYmIGluc19yZWNvcmRfaWRzICYmIGluc19yZWNvcmRfaWRzLmxlbmd0aCA+IDApe1xuXHRcdFx0XHRcdFx0XHR2YXIgb2JqY2V0TmFtZSA9IGluc19yZWNvcmRfaWRzWzBdLm9cblx0XHRcdFx0XHRcdFx0dmFyIGlkID0gaW5zX3JlY29yZF9pZHNbMF0uaWRzWzBdXG5cdFx0XHRcdFx0XHRcdHZhciB1b2JqID0ge307XG5cdFx0XHRcdFx0XHRcdHVvYmpbXCJYLVVzZXItSWRcIl0gPSBnZXRDb29raWUoXCJYLVVzZXItSWRcIik7XG5cdFx0XHRcdFx0XHRcdHVvYmpbXCJYLUF1dGgtVG9rZW5cIl0gPSBnZXRDb29raWUoXCJYLUF1dGgtVG9rZW5cIik7XG5cdFx0XHRcdFx0XHRcdHJlZGlyZWN0VXJsID0gY3JlYXRvclNlcnZpY2UgKyBcImFwcC8tL1wiICsgb2JqY2V0TmFtZSArIFwiL3ZpZXcvXCIgKyBpZCArIFwiP1wiICsgJC5wYXJhbSh1b2JqKTtcblx0XHRcdFx0XHRcdFx0b3BlbldpbmRvdyhyZWRpcmVjdFVybCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcIlwiXCI7XG5cblxuXHRpZiAhU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdFx0aWYgZm9ybT8uaW5zdGFuY2Vfc3R5bGUgPT0gJ3RhYmxlJ1xuXHRcdFx0aW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCJcblxuXHRpZiBvcHRpb25zPy50ZW1wbGF0ZU5hbWUgPT0gJ3RhYmxlJ1xuXHRcdGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiXG5cblx0aWYgb3B0aW9ucz8uaW5zdGFuY2Vfc3R5bGVcblx0XHRpbnN0YW5jZV9zdHlsZSA9IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGVcblxuXHRpZiAhb3B0aW9ucyB8fCBvcHRpb25zLnNob3dUcmFjZSA9PSB0cnVlXG5cdFx0dHJhY2UgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cdGVsc2Vcblx0XHR0cmFjZSA9IFwiXCJcblxuXHRpbnN0YW5jZUJveFN0eWxlID0gXCJcIjtcblxuXHRpZiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvblxuXHRcdGlmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09IFwiYXBwcm92ZWRcIlxuXHRcdFx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LXN1Y2Nlc3NcIlxuXHRcdGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcblx0XHRcdGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1kYW5nZXJcIlxuXHRpZiAhb3B0aW9ucyB8fCBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9PSB0cnVlXG5cdFx0YXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXG5cdFx0cmVsYXRlZF9pbnN0YW5jZXMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxuXHRcdHJlbGF0ZWRfcmVjb3JkcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxuXHRlbHNlXG5cdFx0YXR0YWNobWVudCA9IFwiXCJcblx0XHRyZWxhdGVkX2luc3RhbmNlcyA9IFwiXCJcblx0XHRyZWxhdGVkX3JlY29yZHMgPSBcIlwiXG5cblxuXHR3aWR0aCA9IFwiOTYwcHhcIlxuXHQjXHTlpoLmnpznu5l0YWJsZeeahHBhcmVudOiuvue9rndpZHRo77yM5YiZ5Lya5a+86Ie06Zi/6YeM5LqR6YKu566x5pi+56S6dGFibGUg5byC5bi4XG5cdGlmIG9wdGlvbnM/LndpZHRoXG5cdFx0d2lkdGggPSBcIlwiXG5cblx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcInN0ZWVkb3MtY3NzXCIpXG5cblx0YWxsQ3NzTGluayA9IFwiXCJcIjxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBjbGFzcz1cIl9fbWV0ZW9yLWNzc19fXCIgaHJlZj1cIiN7Y3NzSHJlZn1cIj5cIlwiXCJcblxuXHR0cmFjZUNoZWNrID0gXCJcIlxuXHRpZiAhXy5pc0VtcHR5KHRyYWNlKVxuXHRcdHRyYWNlQ2hlY2sgPSBcImNoZWNrZWRcIlxuXHRpZiBvcHRpb25zPy50YWdnZXIgPT0gJ2VtYWlsJyB8fCBvcHRpb25zPy5lZGl0YWJsZVxuXHRcdHNob3dUcmFjZXNCdG4gPSBcIlwiXG5cdGVsc2Vcblx0XHRzaG93VHJhY2VzQnRuID0gXCJcIlwiXG5cdFx0XHQ8ZGl2IGNsYXNzPVwibmF2aWdhdGlvbi1iYXIgYnRuLWdyb3VwIG5vLXByaW50XCIgc3R5bGU9XCJtaW4td2lkdGg6IDYwMHB4OyB6LWluZGV4OiA5OTlcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cInByaW50LXRvb2xcIj5cblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjYngtbGFiZWxcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJjYngtcHJpbnQgY2J4LXByaW50LWF0dGFjaG1lbnRzXCIgaWQ9XCJjYngtcHJpbnQtYXR0YWNobWVudHNcIiBjaGVja2VkPVwiY2hlY2tlZFwiPjxzcGFuPiN7VEFQaTE4bi5fXygnaW5zdGFuY2VfYXR0YWNobWVudCcsIHt9LCBsb2NhbGUpfTwvc3Bhbj48L2xhYmVsPlxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNieC1sYWJlbFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImNieC1wcmludCBjYngtcHJpbnQtdHJhY2VzXCIgaWQ9XCJjYngtcHJpbnQtdHJhY2VzXCIgY2hlY2tlZD1cIiN7dHJhY2VDaGVja31cIj48c3Bhbj4je1RBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmFsX2hpc3RvcnknLCB7fSwgbG9jYWxlKX08L3NwYW4+PC9sYWJlbD5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdFwiXCJcIlxuXG5cdHNob3dUcmFjZXNTY3JpcHQgPSBcIlwiXCJcblx0XHQkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtdHJhY2VzJyk7XG5cdFx0XHR2YXIgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc3RhbmNlLXRyYWNlcycpWzBdO1xuXHRcdFx0aWYgKGIgJiYgYi5jaGVja2VkICYmIHQpe1xuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcblx0XHRcdH0gZWxzZSBpZih0KXtcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcblx0XHRcdH1cblx0XHRcdGlmKGIpe1xuXHRcdFx0XHRiLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcblx0XHRcdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cblxuXHRcdFx0dmFyIGF0dGFjaG1lbnRzQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LWF0dGFjaG1lbnRzJyk7XG5cdFx0XHR2YXIgYXR0YWNobWVudHNWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXR0YWNobWVudHMtc2VjdGlvbicpWzBdO1xuXHRcdFx0aWYgKGF0dGFjaG1lbnRzQ2hlY2tib3ggJiYgYXR0YWNobWVudHNDaGVja2JveC5jaGVja2VkICYmIGF0dGFjaG1lbnRzVmlldyl7XG5cdFx0XHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXG5cdFx0XHR9IGVsc2UgaWYoYXR0YWNobWVudHNWaWV3KXtcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0fVxuXHRcdFx0aWYoYXR0YWNobWVudHNDaGVja2JveCl7XG5cdFx0XHRcdGF0dGFjaG1lbnRzQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xuXHRcdFx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XCJcIlwiXG5cblx0aWYgb3B0aW9ucz8uc3R5bGVzXG5cdFx0YWxsQ3NzTGluayA9IFwiXCJcblxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mb3JtfSk7XG5cdGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiXG5cdGlmIGZvcm1cblx0XHRmb3JtRGVzY3JpcHRpb24gPSBmb3JtLmRlc2NyaXB0aW9uXG5cdFx0aWYgZm9ybURlc2NyaXB0aW9uXG5cdFx0XHRmb3JtRGVzY3JpcHRpb24gPSBmb3JtRGVzY3JpcHRpb24ucmVwbGFjZSgvXFxuL2csXCI8YnIvPlwiKVxuXHRcdFx0Zm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCJcIlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXIgaW5zdGFuY2UtaGVhZGVyXCI+XG5cdFx0XHRcdFx0PGRpdj5cblx0XHRcdFx0XHRcdCN7Zm9ybURlc2NyaXB0aW9ufVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XCJcIlwiXG5cblx0aHRtbCA9IFwiXCJcIlxuXHRcdDwhRE9DVFlQRSBodG1sPlxuXHRcdDxodG1sPlxuXHRcdFx0PGhlYWQ+XG5cdFx0XHRcdDxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVR5cGVcIiBjb250ZW50PVwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCIvPlxuXHRcdFx0XHQje2FsbENzc0xpbmt9XG5cdFx0XHRcdDxzY3JpcHQgc3JjPVwiaHR0cHM6Ly93d3cuc3RlZWRvcy5jb20vd2Vic2l0ZS9saWJzL2pxdWVyeS5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XHRcdDxzY3JpcHQgc3JjPVwiL2pzL253X2NvcmUuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XHRcdCN7b3B0aW9ucy5wbHVnaW5zIHx8IFwiXCJ9XG5cblx0XHRcdFx0PHN0eWxlPlxuXHRcdFx0XHRcdC5zdGVlZG9ze1xuXHRcdFx0XHRcdFx0d2lkdGg6ICN7d2lkdGh9O1xuXHRcdFx0XHRcdFx0bWFyZ2luLWxlZnQ6IGF1dG87XG5cdFx0XHRcdFx0XHRtYXJnaW4tcmlnaHQ6IGF1dG87XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLW5hbWV7XG5cdFx0XHRcdFx0XHRkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQuYm94LXRvb2xze1xuXHRcdFx0XHRcdFx0ZGlzcGxheTogbm9uZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0LmJveC5jb2xsYXBzZWQtYm94IC5ib3gtYm9keSwuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1mb290ZXIge1xuXHRcdFx0XHRcdCAgZGlzcGxheTogYmxvY2s7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ym9keXtcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IGF6dXJlICFpbXBvcnRhbnQ7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLXRyYWNlc3tcblx0XHRcdFx0XHRcdHBhZGRpbmctbGVmdDogMTVweDtcblx0XHRcdFx0XHRcdHBhZGRpbmctcmlnaHQ6IDE1cHg7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0I3tvcHRpb25zPy5zdHlsZXMgfHwgXCJcIn1cblx0XHRcdFx0PC9zdHlsZT5cblx0XHRcdDwvaGVhZD5cblx0XHRcdDxib2R5PlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlZWRvcyB3b3JrZmxvdyBpbnN0YW5jZS1wcmludFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJza2luLWdyZWVuIHNraW4tYWRtaW4tbHRlXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwid3JhcHBlclwiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudC13cmFwcGVyXCI+XG5cdFx0XHRcdFx0XHRcdFx0I3tzaG93VHJhY2VzQnRufVxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnN0YW5jZS1wcmludFwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlICN7aW5zdGFuY2Vfc3R5bGV9XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxmb3JtIG5hbWU9XCJpbnN0YW5jZUZvcm1cIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtZm9ybSBib3ggI3tpbnN0YW5jZUJveFN0eWxlfVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tmb3JtRGVzY3JpcHRpb25IdG1sfVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveC1ib2R5XCI+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdhdHRhY2htZW50cy1zZWN0aW9uJz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7YXR0YWNobWVudH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCN7cmVsYXRlZF9pbnN0YW5jZXN9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje3JlbGF0ZWRfcmVjb3Jkc31cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje2JvZHl9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZm9ybT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0I3t0cmFjZX1cblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxuXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9ib2R5PlxuXHRcdFx0PHNjcmlwdD4je29wZW5GaWxlU2NyaXB0fTsje29uTG9hZFNjcmlwdH07I3tzaG93VHJhY2VzU2NyaXB0fTwvc2NyaXB0PlxuXHRcdDwvaHRtbD5cblx0XCJcIlwiXG5cblx0cmV0dXJuIGh0bWwiLCJ2YXIgX2dldExvY2FsZSwgX2dldFJlcXVpcmVkRmllbGRzLCBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMsIF9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcywgX2dldFRlbXBsYXRlRGF0YSwgX2dldFZpZXdIdG1sLCBnZXRMaW5rVGV4dCwgbWFya2VkOyAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbm1hcmtlZCA9IHJlcXVpcmUoXCJtYXJrZWRcIik7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSA9IHt9O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5zdGFuY2VfYXR0YWNobWVudCA9IFwiPHRyPlxcblx0PHRkIGNsYXNzPVxcXCJpbnMtYXR0YWNoLXZpZXdcXFwiPlxcblx0XHQ8YSBocmVmPVxcXCJ7e2luc19hdHRhY2hfZG93bmxvYWRfdXJsIF9pZCBhYnNvbHV0ZX19XFxcIiBjbGFzcz1cXFwiaW5zX2F0dGFjaF9ocmVmXFxcIiB0YXJnZXQ9XFxcIl9wYXJlbnRcXFwiIGRhdGEtbmFtZT1cXFwie3t0aGlzLm5hbWV9fVxcXCIgZGF0YS10eXBlPVxcXCJ7e3RoaXMub3JpZ2luYWwudHlwZX19XFxcIiBkYXRhLWlkPVxcXCJ7e19pZH19XFxcIj57e3RoaXMubmFtZX19PC9hPlxcblx0PC90ZD5cXG48L3RyPlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZTZWxlY3RVc2VyUmVhZCA9IFwiPGRpdiBjbGFzcz0nc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCc+e3t2YWx1ZX19PC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cFJlYWQgPSBcIjxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxcblx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7XFxcIj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiA+XFxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVxcXCJkZXNjcmlwdGlvblxcXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicmVhZG9ubHktdGFibGVcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cXFwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXFxcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVxcXCJ7e3RoaXMuY29kZX19VGFibGVcXFwiIG5hbWU9XFxcInt7dGhpcy5jb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3t0aGlzLm5hbWV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5Plxcblx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHR7eyNpZiBzaG93TGFiZWx9fVxcblx0XHRcdFx0XHQ8bGFiZWw+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVxcbjwvZGl2PlwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlxcbnt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cXG5cdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3NlY3Rpb24gY2FsbG91dCBjYWxsb3V0LWRlZmF1bHQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxcblx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cXG5cdFx0XHRcdDwvZGl2PlxcbiAgXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdpbnB1dCd9fVxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBkYXRhLXJlcXVpcmVkPVxcXCJ7eyNpZiBpc19yZXF1aXJlZH19dHJ1ZXt7L2lmfX1cXFwiPlxcblx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdHt7I2lmIGlzX3RleHRhcmVhfX1cXG5cdFx0XHRcdFx0XHRcdDx0ZXh0YXJlYSB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj48L3RleHRhcmVhPlxcblx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHR7eyN1bmxlc3MgaXNfdGV4dGFyZWF9fVxcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIHt7Z2V0UGVybWlzc2lvbnMgY29kZX19IGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdHt7L3VubGVzc319XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ251bWJlcid9fVxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwibnVtYmVyXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZSd9fVxcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidGV4dFxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS10eXBlPVxcXCJkYXRlXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZGF0ZVRpbWUnfX1cXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtdHlwZT0nZGF0ZXRpbWUnIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdwYXNzd29yZCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwicGFzc3dvcmRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWxlY3QnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNlbGVjdCBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIj57e2xhYmVsfX08L29wdGlvbj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zZWxlY3Q+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3JhZGlvJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImFmLXJhZGlvLWdyb3VwXFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG4gICAgICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcXFwiPjxpbnB1dCB0eXBlPVxcXCJyYWRpb1xcXCIgdmFsdWU9XFxcInt7dmFsdWV9fVxcXCIgbmFtZT1cXFwie3suLi9jb2RlfX1cXFwiIGNsYXNzPVxcXCJyYWRpby1pbmxpbmUgZml4LWluZGVudFxcXCI+IHt7bGFiZWx9fTwvbGFiZWw+XFxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdtdWx0aVNlbGVjdCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJhZi1jaGVja2JveC1ncm91cFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiB2YWx1ZT1cXFwie3t2YWx1ZX19XFxcIiBuYW1lPVxcXCJ7ey4uL2NvZGV9fVxcXCIgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj4ge3tsYWJlbH19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndXJsJ319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ1cmxcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdlbWFpbCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwiZW1haWxcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdjaGVja2JveCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjaGVja2JveFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBzdHlsZT1cXFwid2lkdGg6IDEwMCU7XFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIHZhbHVlPVxcXCJ0cnVlXFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgY2xhc3M9XFxcImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XFxcIj48L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHRcdHt7L2lmfX1cXG5cdFx0XHR7ey9pZn19XFxuXHRcdHt7L2lmfX1cXG5cdHt7L3dpdGh9fVwiO1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlID0gZnVuY3Rpb24odGVtcGFsdGVOYW1lLCBzdGVlZG9zRGF0YSkge1xuICB2YXIgdGVtcGxhdGUsIHRlbXBsYXRlQ29tcGlsZWQsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb247XG4gIHRlbXBsYXRlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlW3RlbXBhbHRlTmFtZV07XG4gIHRlbXBsYXRlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0ZW1wbGF0ZUNvbXBpbGVkKTtcbiAgVGVtcGxhdGVbdGVtcGFsdGVOYW1lXSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZSh0ZW1wYWx0ZU5hbWUsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dCA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIHZhciBpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQsIGluc3RhbmNlU2lnblRleHRIdG1sLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb247XG4gIGluc3RhbmNlU2lnblRleHRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2Vfc2lnbl90ZXh0Lmh0bWwnKTtcbiAgaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVNpZ25UZXh0SHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uID0gZXZhbChpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VTaWduVGV4dFwiLCBpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMoSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24gPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICB2YXIgaW1hZ2VTaWduQ29tcGlsZWQsIGltYWdlU2lnbkh0bWwsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uO1xuICBpbWFnZVNpZ25IdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW1hZ2Vfc2lnbi5odG1sJyk7XG4gIGltYWdlU2lnbkNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbWFnZVNpZ25IdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW1hZ2VTaWduQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbWFnZVNpZ24gPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbWFnZVNpZ25cIiwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbWFnZVNpZ24uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlLmltYWdlU2lnbi5oZWxwZXJzKEltYWdlU2lnbi5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVUcmFjZXNIYW5sZGVyID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIHRyYWNlc0hhbmxkZXJDb21waWxlZCwgdHJhY2VzSGFubGRlckh0bWwsIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbjtcbiAgdHJhY2VzSGFubGRlckh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXNfaGFuZGxlci5odG1sJyk7XG4gIHRyYWNlc0hhbmxkZXJDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSGFubGRlckh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VzSGFubGRlckNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV90cmFjZXNfaGFuZGxlclwiLCB0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlci5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuaGVscGVycyhUcmFjZXNIYW5kbGVyLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZTZWxlY3RVc2VyUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBcIiwgc3RlZWRvc0RhdGEpO1xuICB9XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge1xuICAgICAgYWJzb2x1dGU6IHN0ZWVkb3NEYXRhLmFic29sdXRlXG4gICAgfSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbihzdGVlZG9zRGF0YSk7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZVRyYWNlc0hhbmxkZXIoc3RlZWRvc0RhdGEpO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dChzdGVlZG9zRGF0YSk7XG4gIH1cbn07XG5cbmdldExpbmtUZXh0ID0gZnVuY3Rpb24oaXRlbSwgbGFiZWwsIGRldGFpbF91cmwpIHtcbiAgaWYgKGRldGFpbF91cmwpIHtcbiAgICBkZXRhaWxfdXJsID0gZGV0YWlsX3VybC5yZXBsYWNlKFwie19pZH1cIiwgaXRlbS5faWQpO1xuICAgIGlmICghL15odHRwKHM/KTpcXC9cXC8vLnRlc3QoZGV0YWlsX3VybCkpIHtcbiAgICAgIGRldGFpbF91cmwgPSBTdGVlZG9zLmFic29sdXRlVXJsKGRldGFpbF91cmwpO1xuICAgIH1cbiAgICByZXR1cm4gJzxhIGhyZWY9XCInICsgZGV0YWlsX3VybCArICdcIiB0YXJnZXQ9XCJfYmxhbmtcIj4nICsgbGFiZWwgKyAnPC9hPic7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxhYmVsO1xuICB9XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KSB7XG4gIHZhciBkYXRlLCBkZXRhaWxfdXJsLCBlLCBmaWVsZE9wdGlvbnMsIGhvdXJzLCBtb250aCwgc2Vjb25kcywgc2VsZWN0ZWRPcHRpb24sIHNlbGVjdGVkT3B0aW9ucywgc3BsaXRlZFZhbHVlcywgdCwgdDAsIHQxLCB5ZWFyO1xuICBpZiAoIXZhbHVlICYmIHZhbHVlICE9PSBmYWxzZSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuICBpZiAoW1wic2VsZWN0XCIsIFwibXVsdGlTZWxlY3RcIiwgXCJyYWRpb1wiXS5pbmRleE9mKGZpZWxkLnR5cGUpID4gLTEpIHtcbiAgICBmaWVsZE9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihuKSB7XG4gICAgICB2YXIgaXRlbVNwbGl0cztcbiAgICAgIGl0ZW1TcGxpdHMgPSBuLnNwbGl0KFwiOlwiKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhYmVsOiBpdGVtU3BsaXRzWzBdLFxuICAgICAgICB2YWx1ZTogaXRlbVNwbGl0c1sxXSB8fCBuXG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgIHZhbHVlID0gdmFsdWUgPyAnPGEgaHJlZj1cXCdtYWlsdG86JyArIHZhbHVlICsgJ1xcJz4nICsgdmFsdWUgKyAnPC9hPicgOiAnJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VybCc6XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09PSAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpLnRvU3RyaW5nKCkgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5mdWxsbmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VzZXInOlxuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUubmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgIHZhbHVlID0gJyoqKioqKic7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09ICdmYWxzZScpIHtcbiAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIiwge30sIGxvY2FsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PT0gMTYpIHtcbiAgICAgICAgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcbiAgICAgICAgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgdDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgeWVhciA9IHQwWzBdO1xuICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICBkYXRlID0gdDBbMl07XG4gICAgICAgIGhvdXJzID0gdDFbMF07XG4gICAgICAgIHNlY29uZHMgPSB0MVsxXTtcbiAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSh2YWx1ZSwgdXRjT2Zmc2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGlmIChmaWVsZC5pc190ZXh0YXJlYSkge1xuICAgICAgICB2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZSh2YWx1ZSkpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgIHNlbGVjdGVkT3B0aW9uID0gZmllbGRPcHRpb25zLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSA9PT0gdmFsdWU7XG4gICAgICB9KTtcbiAgICAgIGlmIChzZWxlY3RlZE9wdGlvbikge1xuICAgICAgICB2YWx1ZSA9IHNlbGVjdGVkT3B0aW9uLmxhYmVsO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncmFkaW8nOlxuICAgICAgc2VsZWN0ZWRPcHRpb24gPSBmaWVsZE9wdGlvbnMuZmluZChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkT3B0aW9uKSB7XG4gICAgICAgIHZhbHVlID0gc2VsZWN0ZWRPcHRpb24ubGFiZWw7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdtdWx0aVNlbGVjdCc6XG4gICAgICBzcGxpdGVkVmFsdWVzID0gdmFsdWUuc3BsaXQoXCIsXCIpO1xuICAgICAgc2VsZWN0ZWRPcHRpb25zID0gZmllbGRPcHRpb25zLmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiBzcGxpdGVkVmFsdWVzLmluZGV4T2YoaXRlbS52YWx1ZSkgPiAtMTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHNlbGVjdGVkT3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgdmFsdWUgPSBzZWxlY3RlZE9wdGlvbnMubWFwKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gaXRlbS5sYWJlbDtcbiAgICAgICAgfSkuam9pbihcIixcIik7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAwKSB7XG4gICAgICAgIHZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyh2YWx1ZSwgZmllbGQuZGlnaXRzKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgIGRldGFpbF91cmwgPSBmaWVsZC5kZXRhaWxfdXJsO1xuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gXy5tYXAodmFsdWUsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gZ2V0TGlua1RleHQoaXRlbSwgaXRlbVsnQGxhYmVsJ10sIGRldGFpbF91cmwpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybCk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdodG1sJzpcbiAgICAgIHZhbHVlID0gdmFsdWUgPyBcIjxkaXYgY2xhc3M9XFxcInN0ZWVkb3MtaHRtbFxcXCI+XCIgKyB2YWx1ZSArIFwiPC9kaXY+XCIgOiAnJztcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgPSBmdW5jdGlvbihmaWVsZHMsIGNvZGUpIHtcbiAgdmFyIGZpZWxkO1xuICBmaWVsZCA9IGZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKTtcbiAgaWYgKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLm5hbWUpIHtcbiAgICAgIHJldHVybiBmaWVsZC5uYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGQuY29kZTtcbiAgICB9XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZvcm0sIGZvcm1fZmllbGRzLCBmb3JtX3ZlcnNpb247XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBmb3JtX3ZlcnNpb24gPSB7fTtcbiAgZm9ybV9maWVsZHMgPSBbXTtcbiAgaWYgKGZvcm0uY3VycmVudC5faWQgPT09IGluc3RhbmNlLmZvcm1fdmVyc2lvbikge1xuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgfSBlbHNlIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtcbiAgICAgIF9pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9uXG4gICAgfSlbMF07XG4gIH1cbiAgZm9ybV92ZXJzaW9uLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICBpZiAoZmllbGQuZmllbGRzKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgZmllbGRbJ3NmaWVsZHMnXSA9IGZpZWxkWydmaWVsZHMnXTtcbiAgICAgIGRlbGV0ZSBmaWVsZFsnZmllbGRzJ107XG4gICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICB9XG4gIH0pO1xuICBmb3JtX3ZlcnNpb24uZmllbGRzID0gZm9ybV9maWVsZHM7XG4gIHJldHVybiBmb3JtX3ZlcnNpb247XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24gPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcbiAgZmxvd192ZXJzaW9uID0ge307XG4gIGlmIChmbG93LmN1cnJlbnQuX2lkID09PSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcbiAgICBmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgZmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7XG4gICAgICBfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuICAgIH0pWzBdO1xuICB9XG4gIHJldHVybiBmbG93X3ZlcnNpb247XG59O1xuXG5fZ2V0Vmlld0h0bWwgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciB2aWV3SHRtbDtcbiAgdmlld0h0bWwgPSBBc3NldHMuZ2V0VGV4dChwYXRoKTtcbiAgaWYgKHZpZXdIdG1sKSB7XG4gICAgdmlld0h0bWwgPSB2aWV3SHRtbC5yZXBsYWNlKC88dGVtcGxhdGVbXFx3XFxzXFxcIlxcPSddKz4vaSwgXCJcIikucmVwbGFjZSgvPFxcL3RlbXBsYXRlPi9pLCBcIlwiKTtcbiAgfVxuICByZXR1cm4gdmlld0h0bWw7XG59O1xuXG5fZ2V0TG9jYWxlID0gZnVuY3Rpb24odXNlcikge1xuICB2YXIgbG9jYWxlLCByZWYsIHJlZjE7XG4gIGlmICgodXNlciAhPSBudWxsID8gKHJlZiA9IHVzZXIubG9jYWxlKSAhPSBudWxsID8gcmVmLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDAgOiB2b2lkIDApID09PSAnemgtY24nKSB7XG4gICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICB9IGVsc2UgaWYgKCh1c2VyICE9IG51bGwgPyAocmVmMSA9IHVzZXIubG9jYWxlKSAhPSBudWxsID8gcmVmMS50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwIDogdm9pZCAwKSA9PT0gJ2VuLXVzJykge1xuICAgIGxvY2FsZSA9IFwiZW5cIjtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gIH1cbiAgcmV0dXJuIGxvY2FsZTtcbn07XG5cbl9nZXRSZXF1aXJlZEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgcmV2KSB7XG4gIGlmICghcmV2KSB7XG4gICAgcmV2ID0gW107XG4gIH1cbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICByZXR1cm4gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkLmZpZWxkcywgcmV2KTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmllbGQuaXNfcmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuIHJldi5wdXNoKGZpZWxkLmNvZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXY7XG59O1xuXG5fZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHN0ZXBzKSB7XG4gIHZhciBlZGl0YWJsZUNvZGUsIHN0YXJ0U3RlcDtcbiAgc3RhcnRTdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBfdHlwZVwiLCBcInN0YXJ0XCIpO1xuICBlZGl0YWJsZUNvZGUgPSBbXTtcbiAgXy5rZXlzKHN0YXJ0U3RlcC5wZXJtaXNzaW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoc3RhcnRTdGVwLnBlcm1pc3Npb25zW2tleV0gPT09ICdlZGl0YWJsZScpIHtcbiAgICAgIHJldHVybiBlZGl0YWJsZUNvZGUucHVzaChrZXkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBlZGl0YWJsZUNvZGU7XG59O1xuXG5fZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHN0ZXBzKSB7XG4gIHZhciBlZGl0YWJsZUNvZGUsIHJlcXVpcmVkRmllbGRzO1xuICByZXF1aXJlZEZpZWxkcyA9IF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZHMpO1xuICBlZGl0YWJsZUNvZGUgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZmllbGRzLCBzdGVwcyk7XG4gIHJldHVybiBfLmludGVyc2VjdGlvbihyZXF1aXJlZEZpZWxkcywgZWRpdGFibGVDb2RlKTtcbn07XG5cbl9nZXRUZW1wbGF0ZURhdGEgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGZsb3csIGZvcm0sIGZvcm1fdmVyc2lvbiwgbG9jYWxlLCBzdGVlZG9zRGF0YTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIGZvcm1fdmVyc2lvbiA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSk7XG4gIH1cbiAgbG9jYWxlID0gX2dldExvY2FsZSh1c2VyKTtcbiAgc3RlZWRvc0RhdGEgPSB7fTtcbiAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgIHN0ZWVkb3NEYXRhID0gXy5jbG9uZShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCkpO1xuICAgIHN0ZWVkb3NEYXRhLmluc25hbWUgPSBpbnN0YW5jZS5uYW1lO1xuICAgIHN0ZWVkb3NEYXRhLmluc19zdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuICAgIHN0ZWVkb3NEYXRhLmluc19maW5hbF9kZWNpc2lvbiA9IGluc3RhbmNlLmluc19maW5hbF9kZWNpc2lvbjtcbiAgICBzdGVlZG9zRGF0YS5pbnNfY29kZSA9IGluc3RhbmNlLmNvZGU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2lzX2FyY2hpdmVkID0gaW5zdGFuY2UuaXNfYXJjaGl2ZWQ7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2lzX2RlbGV0ZWQgPSBpbnN0YW5jZS5pbnNfaXNfZGVsZXRlZDtcbiAgICBzdGVlZG9zRGF0YS5hcHBsaWNhbnRfbmFtZSA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lO1xuICAgIHN0ZWVkb3NEYXRhLmFwcGxpY2FudENvbnRleHQgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZTtcbiAgfVxuICBzdGVlZG9zRGF0YS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICBzdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb24gPSBmb3JtX3ZlcnNpb247XG4gIHN0ZWVkb3NEYXRhLmxvY2FsZSA9IGxvY2FsZTtcbiAgc3RlZWRvc0RhdGEudXRjT2Zmc2V0ID0gdXNlci51dGNPZmZzZXQ7XG4gIHN0ZWVkb3NEYXRhLnNwYWNlID0gaW5zdGFuY2Uuc3BhY2U7XG4gIHN0ZWVkb3NEYXRhLnNlc3Npb25Vc2VySWQgPSB1c2VyLl9pZDtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSB7XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZm9ybVxuICAgICAgfSk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZmxvd1xuICAgICAgfSk7XG4gICAgICBzdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmb3JtLmN1cnJlbnQuZmllbGRzLCBmbG93LmN1cnJlbnQuc3RlcHMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RlZWRvc0RhdGE7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUsIHV0Y09mZnNldCkge1xuICB2YXIgcGFzc2luZztcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIHBhc3NpbmcgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBwYXNzaW5nID0gdHJ1ZTtcbiAgfVxuICBpZiAoIXV0Y09mZnNldCAmJiB1dGNPZmZzZXQgIT09IDApIHtcbiAgICB1dGNPZmZzZXQgPSA4O1xuICB9XG4gIHJldHVybiBtb21lbnQoZGF0ZSkudXRjT2Zmc2V0KHV0Y09mZnNldCwgcGFzc2luZykuZm9ybWF0KFwiWVlZWS1NTS1ERCBISDptbVwiKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIGluc3RhbmNlQ29tcGlsZWQsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24sIGluc3RhbmNlVGVtcGxhdGUsIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgaW5zdGFuY2VUZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSwgb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApO1xuICBpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZlNlbGVjdFVzZXIvZywgXCJhZlNlbGVjdFVzZXJSZWFkXCIpO1xuICBpZiAoIShvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSkge1xuICAgIGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmRm9ybUdyb3VwL2csIFwiYWZGb3JtR3JvdXBSZWFkXCIpO1xuICB9XG4gIGluc3RhbmNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlVGVtcGxhdGUsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfcmVhZG9ubHlfdmlld1wiLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0KHN0ZWVkb3NEYXRhKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIFwiPGRpdiBpZD0naW5zdGFuY2Vmb3JtJyA+XFxuXHRcIiArIGJvZHkgKyBcIlxcbjwvZGl2PlwiO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIGZvcm0sIHN0ZWVkb3NEYXRhLCB0cmFjZUNvbXBpbGVkLCB0cmFjZVJlbmRlckZ1bmN0aW9uLCB0cmFjZXNIdG1sO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGlmIChmb3JtLmluc3RhbmNlX3N0eWxlID09PSBcInRhYmxlXCIgfHwgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgdHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlc190YWJsZS5odG1sJyk7XG4gIH0gZWxzZSB7XG4gICAgdHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlcy5odG1sJyk7XG4gIH1cbiAgdHJhY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgdHJhY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VDb21waWxlZCk7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJ0cmFjZV9yZWFkb25seV92aWV3XCIsIHRyYWNlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcsIGluc3RhbmNlLnRyYWNlcyk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlKSB7XG4gIHZhciBhdHRhY2htZW50Q29tcGlsZWQsIGF0dGFjaG1lbnRIdG1sLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24sIGJvZHksIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgYXR0YWNobWVudEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9hdHRhY2htZW50cy5odG1sJyk7XG4gIGF0dGFjaG1lbnRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoYXR0YWNobWVudEh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoYXR0YWNobWVudENvbXBpbGVkKTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXdcIiwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LmhlbHBlcnMoSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3KTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCwgcmVsYXRlZEluc3RhbmNlc0h0bWwsIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICByZWxhdGVkSW5zdGFuY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfaW5zdGFuY2VzLmh0bWwnKTtcbiAgcmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkSW5zdGFuY2VzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9pbnN0YW5jZXNfdmlld1wiLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuaGVscGVycyhSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQsIHJlbGF0ZWRSZWNvcmRzSHRtbCwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICByZWxhdGVkUmVjb3Jkc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX3JlY29yZHMuaHRtbCcpO1xuICByZWxhdGVkUmVjb3Jkc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkUmVjb3Jkc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfcmVjb3Jkc192aWV3XCIsIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5oZWxwZXJzKFJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZvcm1fc2NyaXB0LCBmb3JtX3ZlcnNpb247XG4gIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICBmb3JtX3NjcmlwdCA9IGZvcm1fdmVyc2lvbi5mb3JtX3NjcmlwdDtcbiAgaWYgKGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLCBcIlwiKS5yZXBsYWNlKC9cXHMvZywgXCJcIikubGVuZ3RoID4gMCkge1xuICAgIGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHQ7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ICs9IFwiO2lmKENvcmVGb3JtLmZvcm1fT25Mb2FkKXt3aW5kb3cub25sb2FkID0gQ29yZUZvcm0uZm9ybV9PbkxvYWQoKTt9XCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ID0gXCJcIjtcbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYWxsQ3NzTGluaywgYXR0YWNobWVudCwgYm9keSwgY3JlYXRvclNlcnZpY2UsIGNzc0hyZWYsIGZvcm0sIGZvcm1EZXNjcmlwdGlvbiwgZm9ybURlc2NyaXB0aW9uSHRtbCwgaHRtbCwgaW5zX3JlY29yZF9pZHMsIGluc3RhbmNlQm94U3R5bGUsIGluc3RhbmNlX3N0eWxlLCBsb2NhbGUsIG9uTG9hZFNjcmlwdCwgb3BlbkZpbGVTY3JpcHQsIHJlZiwgcmVmMSwgcmVsYXRlZF9pbnN0YW5jZXMsIHJlbGF0ZWRfcmVjb3Jkcywgc2hvd1RyYWNlc0J0biwgc2hvd1RyYWNlc1NjcmlwdCwgdHJhY2UsIHRyYWNlQ2hlY2ssIHdpZHRoO1xuICBib2R5ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBvbkxvYWRTY3JpcHQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0KGluc3RhbmNlKTtcbiAgY3JlYXRvclNlcnZpY2UgPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndlYnNlcnZpY2VzKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3JlYXRvcikgIT0gbnVsbCA/IHJlZjEudXJsIDogdm9pZCAwIDogdm9pZCAwO1xuICBpbnNfcmVjb3JkX2lkcyA9IGluc3RhbmNlLnJlY29yZF9pZHM7XG4gIGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcik7XG4gIG9wZW5GaWxlU2NyaXB0ID0gXCJpZih3aW5kb3cuaXNOb2RlICYmIGlzTm9kZSgpKXtcXG5cdGF0dGFjaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxcXCJpbnNfYXR0YWNoX2hyZWZcXFwiKTtcXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBhdHRhY2hzLmxlbmd0aDsgaSsrKXtcXG5cdFx0YXR0YWNoID0gYXR0YWNoc1tpXTtcXG5cdFx0YXR0YWNoLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgZnVuY3Rpb24oZSl7XFxuXHRcdFx0aWYoaXNJbWFnZSh0aGlzLmRhdGFzZXQudHlwZSkgfHwgaXNIdG1sKHRoaXMuZGF0YXNldC50eXBlKSl7XFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XFxuXHRcdFx0XHRvcGVuV2luZG93KFxcXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cXFwiICsgdGhpcy5kYXRhc2V0LmlkKTtcXG5cdFx0XHR9ZWxzZSBpZihud19jb3JlLmNhbk9wZW5GaWxlKHRoaXMuZGF0YXNldC5uYW1lKSl7XFxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XFxuXHRcdFx0XHRud19jb3JlLm9wZW5GaWxlKHRoaXMuaHJlZiwgdGhpcy5kYXRhc2V0Lm5hbWUpXFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG59XFxuXFxudmFyIGZsb3cgPSBcXFwiXCIgKyBpbnN0YW5jZS5mbG93ICsgXCJcXFwiO1xcbnZhciBzcGFjZSA9IFxcXCJcIiArIGluc3RhbmNlLnNwYWNlICsgXCJcXFwiO1xcblxcbmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKXtcXG5cdGxldCBwYXR0ZXJuID0gUmVnRXhwKG5hbWUgKyBcXFwiPS5bXjtdKlxcXCIpXFxuXHRsZXQgbWF0Y2hlZCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChwYXR0ZXJuKVxcblx0aWYobWF0Y2hlZCl7XFxuXHRcdGxldCBjb29raWUgPSBtYXRjaGVkWzBdLnNwbGl0KCc9JylcXG5cdFx0cmV0dXJuIGNvb2tpZVsxXVxcblx0fVxcblx0cmV0dXJuICcnXFxufVxcblxcbnZhciByZWNvcmRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcXFwiaW5zLXJlbGF0ZWQtcmVjb3Jkc1xcXCIpO1xcbmZvcih2YXIgaSA9IDA7IGkgPCByZWNvcmRzLmxlbmd0aDsgaSsrKXtcXG5cdFx0dmFyIHJlY29yZCA9IHJlY29yZHNbaV07XFxuXHRcdHJlY29yZC5hZGRFdmVudExpc3RlbmVyKFxcXCJjbGlja1xcXCIsIGZ1bmN0aW9uKGUpe1xcblx0XHRcdHZhciBjcmVhdG9yU2VydmljZSA9IFxcXCJcIiArIGNyZWF0b3JTZXJ2aWNlICsgXCJcXFwiXFxuXHRcdFx0dmFyIGluc19yZWNvcmRfaWRzID0gXCIgKyAoSlNPTi5zdHJpbmdpZnkoaW5zX3JlY29yZF9pZHMpKSArIFwiXFxuXHRcdFx0aWYoY3JlYXRvclNlcnZpY2UgJiYgaW5zX3JlY29yZF9pZHMgJiYgaW5zX3JlY29yZF9pZHMubGVuZ3RoID4gMCl7XFxuXHRcdFx0XHR2YXIgb2JqY2V0TmFtZSA9IGluc19yZWNvcmRfaWRzWzBdLm9cXG5cdFx0XHRcdHZhciBpZCA9IGluc19yZWNvcmRfaWRzWzBdLmlkc1swXVxcblx0XHRcdFx0dmFyIHVvYmogPSB7fTtcXG5cdFx0XHRcdHVvYmpbXFxcIlgtVXNlci1JZFxcXCJdID0gZ2V0Q29va2llKFxcXCJYLVVzZXItSWRcXFwiKTtcXG5cdFx0XHRcdHVvYmpbXFxcIlgtQXV0aC1Ub2tlblxcXCJdID0gZ2V0Q29va2llKFxcXCJYLUF1dGgtVG9rZW5cXFwiKTtcXG5cdFx0XHRcdHJlZGlyZWN0VXJsID0gY3JlYXRvclNlcnZpY2UgKyBcXFwiYXBwLy0vXFxcIiArIG9iamNldE5hbWUgKyBcXFwiL3ZpZXcvXFxcIiArIGlkICsgXFxcIj9cXFwiICsgJC5wYXJhbSh1b2JqKTtcXG5cdFx0XHRcdG9wZW5XaW5kb3cocmVkaXJlY3RVcmwpO1xcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxuXCI7XG4gIGlmICghU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gICAgaWYgKChmb3JtICE9IG51bGwgPyBmb3JtLmluc3RhbmNlX3N0eWxlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgaW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCI7XG4gICAgfVxuICB9XG4gIGlmICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgaW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCI7XG4gIH1cbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApIHtcbiAgICBpbnN0YW5jZV9zdHlsZSA9IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGU7XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd1RyYWNlID09PSB0cnVlKSB7XG4gICAgdHJhY2UgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICB9IGVsc2Uge1xuICAgIHRyYWNlID0gXCJcIjtcbiAgfVxuICBpbnN0YW5jZUJveFN0eWxlID0gXCJcIjtcbiAgaWYgKGluc3RhbmNlICYmIGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgIGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1zdWNjZXNzXCI7XG4gICAgfSBlbHNlIGlmIChpbnN0YW5jZS5maW5hbF9kZWNpc2lvbiA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICBpbnN0YW5jZUJveFN0eWxlID0gXCJib3gtZGFuZ2VyXCI7XG4gICAgfVxuICB9XG4gIGlmICghb3B0aW9ucyB8fCBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9PT0gdHJ1ZSkge1xuICAgIGF0dGFjaG1lbnQgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgICByZWxhdGVkX2luc3RhbmNlcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICAgIHJlbGF0ZWRfcmVjb3JkcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBhdHRhY2htZW50ID0gXCJcIjtcbiAgICByZWxhdGVkX2luc3RhbmNlcyA9IFwiXCI7XG4gICAgcmVsYXRlZF9yZWNvcmRzID0gXCJcIjtcbiAgfVxuICB3aWR0aCA9IFwiOTYwcHhcIjtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMud2lkdGggOiB2b2lkIDApIHtcbiAgICB3aWR0aCA9IFwiXCI7XG4gIH1cbiAgY3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcInN0ZWVkb3MtY3NzXCIpO1xuICBhbGxDc3NMaW5rID0gXCI8bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBjbGFzcz1cXFwiX19tZXRlb3ItY3NzX19cXFwiIGhyZWY9XFxcIlwiICsgY3NzSHJlZiArIFwiXFxcIj5cIjtcbiAgdHJhY2VDaGVjayA9IFwiXCI7XG4gIGlmICghXy5pc0VtcHR5KHRyYWNlKSkge1xuICAgIHRyYWNlQ2hlY2sgPSBcImNoZWNrZWRcIjtcbiAgfVxuICBpZiAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGFnZ2VyIDogdm9pZCAwKSA9PT0gJ2VtYWlsJyB8fCAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5lZGl0YWJsZSA6IHZvaWQgMCkpIHtcbiAgICBzaG93VHJhY2VzQnRuID0gXCJcIjtcbiAgfSBlbHNlIHtcbiAgICBzaG93VHJhY2VzQnRuID0gXCI8ZGl2IGNsYXNzPVxcXCJuYXZpZ2F0aW9uLWJhciBidG4tZ3JvdXAgbm8tcHJpbnRcXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6IDYwMHB4OyB6LWluZGV4OiA5OTlcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwicHJpbnQtdG9vbFxcXCI+XFxuXHRcdDxsYWJlbCBjbGFzcz1cXFwiY2J4LWxhYmVsXFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJjYngtcHJpbnQgY2J4LXByaW50LWF0dGFjaG1lbnRzXFxcIiBpZD1cXFwiY2J4LXByaW50LWF0dGFjaG1lbnRzXFxcIiBjaGVja2VkPVxcXCJjaGVja2VkXFxcIj48c3Bhbj5cIiArIChUQVBpMThuLl9fKCdpbnN0YW5jZV9hdHRhY2htZW50Jywge30sIGxvY2FsZSkpICsgXCI8L3NwYW4+PC9sYWJlbD5cXG5cdFx0PGxhYmVsIGNsYXNzPVxcXCJjYngtbGFiZWxcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgY2xhc3M9XFxcImNieC1wcmludCBjYngtcHJpbnQtdHJhY2VzXFxcIiBpZD1cXFwiY2J4LXByaW50LXRyYWNlc1xcXCIgY2hlY2tlZD1cXFwiXCIgKyB0cmFjZUNoZWNrICsgXCJcXFwiPjxzcGFuPlwiICsgKFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmFsX2hpc3RvcnknLCB7fSwgbG9jYWxlKSkgKyBcIjwvc3Bhbj48L2xhYmVsPlxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gIH1cbiAgc2hvd1RyYWNlc1NjcmlwdCA9IFwiJCggZG9jdW1lbnQgKS5yZWFkeShmdW5jdGlvbigpe1xcblx0dmFyIGIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LXRyYWNlcycpO1xcblx0dmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnN0YW5jZS10cmFjZXMnKVswXTtcXG5cdGlmIChiICYmIGIuY2hlY2tlZCAmJiB0KXtcXG5cdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHR9IGVsc2UgaWYodCl7XFxuXHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHR9XFxuXHRpZihiKXtcXG5cdFx0Yi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcXG5cdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XFxuXHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdFx0XHR9IGVsc2Uge1xcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcXG5cdFx0XHR9XFxuXHRcdH0pO1xcblx0fVxcblxcblxcblx0dmFyIGF0dGFjaG1lbnRzQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LWF0dGFjaG1lbnRzJyk7XFxuXHR2YXIgYXR0YWNobWVudHNWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXR0YWNobWVudHMtc2VjdGlvbicpWzBdO1xcblx0aWYgKGF0dGFjaG1lbnRzQ2hlY2tib3ggJiYgYXR0YWNobWVudHNDaGVja2JveC5jaGVja2VkICYmIGF0dGFjaG1lbnRzVmlldyl7XFxuXHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHR9IGVsc2UgaWYoYXR0YWNobWVudHNWaWV3KXtcXG5cdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0fVxcblx0aWYoYXR0YWNobWVudHNDaGVja2JveCl7XFxuXHRcdGF0dGFjaG1lbnRzQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24oZSl7XFxuXHRcdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdFx0XHR9IGVsc2Uge1xcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0XHRcdH1cXG5cdFx0fSk7XFxuXHR9XFxufSk7XFxuXCI7XG4gIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnN0eWxlcyA6IHZvaWQgMCkge1xuICAgIGFsbENzc0xpbmsgPSBcIlwiO1xuICB9XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlLmZvcm1cbiAgfSk7XG4gIGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIlwiO1xuICBpZiAoZm9ybSkge1xuICAgIGZvcm1EZXNjcmlwdGlvbiA9IGZvcm0uZGVzY3JpcHRpb247XG4gICAgaWYgKGZvcm1EZXNjcmlwdGlvbikge1xuICAgICAgZm9ybURlc2NyaXB0aW9uID0gZm9ybURlc2NyaXB0aW9uLnJlcGxhY2UoL1xcbi9nLCBcIjxici8+XCIpO1xuICAgICAgZm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiPGRpdiBjbGFzcz1cXFwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXIgaW5zdGFuY2UtaGVhZGVyXFxcIj5cXG5cdDxkaXY+XFxuXHRcdFwiICsgZm9ybURlc2NyaXB0aW9uICsgXCJcXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICAgIH1cbiAgfVxuICBodG1sID0gXCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbD5cXG5cdDxoZWFkPlxcblx0XHQ8bWV0YSBodHRwLWVxdWl2PVxcXCJDb250ZW50LVR5cGVcXFwiIGNvbnRlbnQ9XFxcInRleHQvaHRtbDsgY2hhcnNldD1VVEYtOFxcXCIvPlxcblx0XHRcIiArIGFsbENzc0xpbmsgKyBcIlxcblx0XHQ8c2NyaXB0IHNyYz1cXFwiaHR0cHM6Ly93d3cuc3RlZWRvcy5jb20vd2Vic2l0ZS9saWJzL2pxdWVyeS5taW4uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuXHRcdDxzY3JpcHQgc3JjPVxcXCIvanMvbndfY29yZS5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cXG5cdFx0XCIgKyAob3B0aW9ucy5wbHVnaW5zIHx8IFwiXCIpICsgXCJcXG5cXG5cdFx0PHN0eWxlPlxcblx0XHRcdC5zdGVlZG9ze1xcblx0XHRcdFx0d2lkdGg6IFwiICsgd2lkdGggKyBcIjtcXG5cdFx0XHRcdG1hcmdpbi1sZWZ0OiBhdXRvO1xcblx0XHRcdFx0bWFyZ2luLXJpZ2h0OiBhdXRvO1xcblx0XHRcdH1cXG5cXG5cdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtbmFtZXtcXG5cdFx0XHRcdGRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XFxuXHRcdFx0fVxcblx0XHRcdC5ib3gtdG9vbHN7XFxuXHRcdFx0XHRkaXNwbGF5OiBub25lO1xcblx0XHRcdH1cXG5cdFx0XHQuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1ib2R5LC5ib3guY29sbGFwc2VkLWJveCAuYm94LWZvb3RlciB7XFxuXHRcdFx0ICBkaXNwbGF5OiBibG9jaztcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Ym9keXtcXG5cdFx0XHRcdGJhY2tncm91bmQ6IGF6dXJlICFpbXBvcnRhbnQ7XFxuXHRcdFx0fVxcblxcblx0XHRcdC5pbnN0YW5jZS12aWV3IC5pbnN0YW5jZS10cmFjZXN7XFxuXHRcdFx0XHRwYWRkaW5nLWxlZnQ6IDE1cHg7XFxuXHRcdFx0XHRwYWRkaW5nLXJpZ2h0OiAxNXB4O1xcblx0XHRcdH1cXG5cXG5cdFx0XHRcIiArICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5zdHlsZXMgOiB2b2lkIDApIHx8IFwiXCIpICsgXCJcXG5cdFx0PC9zdHlsZT5cXG5cdDwvaGVhZD5cXG5cdDxib2R5Plxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJzdGVlZG9zIHdvcmtmbG93IGluc3RhbmNlLXByaW50XFxcIj5cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJza2luLWdyZWVuIHNraW4tYWRtaW4tbHRlXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcIndyYXBwZXJcXFwiPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb250ZW50LXdyYXBwZXJcXFwiPlxcblx0XHRcdFx0XHRcdFwiICsgc2hvd1RyYWNlc0J0biArIFwiXFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UtcHJpbnRcXFwiPlxcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UgXCIgKyBpbnN0YW5jZV9zdHlsZSArIFwiXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PGZvcm0gbmFtZT1cXFwiaW5zdGFuY2VGb3JtXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnN0YW5jZS1mb3JtIGJveCBcIiArIGluc3RhbmNlQm94U3R5bGUgKyBcIlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGZvcm1EZXNjcmlwdGlvbkh0bWwgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYm94LWJvZHlcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2F0dGFjaG1lbnRzLXNlY3Rpb24nPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBhdHRhY2htZW50ICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgcmVsYXRlZF9pbnN0YW5jZXMgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyByZWxhdGVkX3JlY29yZHMgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgYm9keSArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdDwvZm9ybT5cXG5cdFx0XHRcdFx0XHRcdFx0XCIgKyB0cmFjZSArIFwiXFxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0PC9kaXY+XFxuXHQ8L2JvZHk+XFxuXHQ8c2NyaXB0PlwiICsgb3BlbkZpbGVTY3JpcHQgKyBcIjtcIiArIG9uTG9hZFNjcmlwdCArIFwiO1wiICsgc2hvd1RyYWNlc1NjcmlwdCArIFwiPC9zY3JpcHQ+XFxuPC9odG1sPlwiO1xuICByZXR1cm4gaHRtbDtcbn07XG4iLCJUZW1wbGF0ZU1hbmFnZXIgPSB7fTtcblxuZm9ybUlkID0gJ2luc3RhbmNlZm9ybSc7XG5cblxuVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlID0gKCktPlxuXHRwYWdlVGl0bGUgPSBcIlwiXCJcblx0XHR7e2luc3RhbmNlLm5hbWV9fVxuXHRcIlwiXCJcblxuXHRwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCJcblxuXHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lXG5cdFx0cGFnZVRpdGxlID0gXCJcIlwiXG5cdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3tDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWV9XCIgbGFiZWw9ZmFsc2V9fVxuXHRcdFwiXCJcIlxuXHRcdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiXG5cblx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZVxuXHRcdHBhZ2VUaXRsZSA9IFwiXCJcIlxuXHRcdFx0I3tDb3JlRm9ybS5wYWdlVGl0bGV9XG5cdFx0XCJcIlwiXG5cdFx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiXCJcblxuXHR2YWwgPVxuXHRcdHBhZ2VUaXRsZTogcGFnZVRpdGxlXG5cdFx0cGFnZVRpdGxlVHJDbGFzczogcGFnZVRpdGxlVHJDbGFzc1xuXG5cdHJldHVybiB2YWxcblxuVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUgPSAoaW5zdGFuY2UsIF9leHBvcnQpIC0+XG5cblx0dGVtcGxhdGUgPSBcIlwiXCJcblx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcIj5cblx0XHRcdDx0ciBjbGFzcz1cIiN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZVRyQ2xhc3N9XCI+XG5cdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLW5hbWUtdGQgcGFnZS10aXRsZVwiPlxuXHRcdFx0XHRcdCN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZX1cblx0XHRcdFx0PC90ZD5cblx0XHRcdDwvdHI+XG5cblx0XHQ8L3RhYmxlPlxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtYm9keSBmb3JtLXRhYmxlXCI+XG5cdFx0XHRcdDx0ciBzdHlsZT1cImhlaWdodDowcHhcIj5cblx0XHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XG5cdFx0XHRcdFx0PHRoPjwvdGg+XG5cdFx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxuXHRcdFx0XHRcdDx0aD48L3RoPlxuXHRcdFx0XHQ8L3RyPlxuXHRcIlwiXCI7XG5cblx0dGFibGVfZmllbGRzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50YWJsZV9maWVsZHMoaW5zdGFuY2UpXG5cblx0dGFibGVfZmllbGRzLmZvckVhY2ggKHRhYmxlX2ZpZWxkKS0+XG5cblx0XHRyZXF1aXJlZCA9IFwiXCJcblx0XHRpZiAhQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZSB8fCBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lICE9IHRhYmxlX2ZpZWxkLmNvZGVcblx0XHRcdGlmIHRhYmxlX2ZpZWxkLmlzX3JlcXVpcmVkXG5cdFx0XHRcdHJlcXVpcmVkID0gXCJpcy1yZXF1aXJlZFwiXG5cblx0XHRcdGlmIF9leHBvcnRcblx0XHRcdFx0cmVxdWlyZWQgPSBcIlwiO1xuXG5cdFx0XHRwdXJlQ29kZSA9IFN0ZWVkb3MucmVtb3ZlU3BlY2lhbENoYXJhY3Rlcih0YWJsZV9maWVsZC5jb2RlKTtcblxuXHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZCh0YWJsZV9maWVsZClcblx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcblx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUgI3tyZXF1aXJlZH1cIj5cblx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwifX1cblx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIG9waW5pb24tZmllbGQgb3Bpbmlvbi1maWVsZC0je3B1cmVDb2RlfSBhdXRvbWF0aWNcIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XG5cdFx0XHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwifX1cblx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXModGFibGVfZmllbGQudHlwZSwgJ3NlY3Rpb24sdGFibGUnKVxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0XG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkIHRkLWNoaWxkZmllbGQtI3twdXJlQ29kZX1cIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XG5cdFx0XHRcdFx0XHQgICB7ez4gYWZGb3JtR3JvdXAgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIiBsYWJlbD1mYWxzZX19XG5cdFx0XHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZFxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnRcblxuXHRcdFx0XHRcdGlmIF9leHBvcnRcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcIlwiXG5cdFx0XHRcdFx0XHRmaWVsZF9wZXJtaXNzaW9uID0gXCJcIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHRpdGxlX3Blcm1pc3Npb24gPSBcInRpdGxlLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvblxuXHRcdFx0XHRcdFx0ZmllbGRfcGVybWlzc2lvbiA9IFwiZmllbGQtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uXG5cblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSBcIlwiXCJcblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlIHRkLXRpdGxlLSN7cHVyZUNvZGV9ICN7dGl0bGVfcGVybWlzc2lvbn0gI3tyZXF1aXJlZH1cIj5cblx0XHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxuXHRcdFx0XHRcdFx0PC90ZD5cblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIHRkLWZpZWxkLSN7cHVyZUNvZGV9ICN7ZmllbGRfcGVybWlzc2lvbn1cIiBjb2xzcGFuID0gXCIje3RhYmxlX2ZpZWxkLnRkX2NvbHNwYW59XCI+XG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cblx0XHRcdFx0XHRcdDwvdGQ+XG5cdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXG5cblx0dGVtcGxhdGUgKz0gXCJcIlwiXG5cdFx0PC90YWJsZT5cblxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtZm9vdGVyIGZvcm0tdGFibGUgbm8tYm9yZGVyXCI+XG5cdFx0XHQ8dHIgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlclwiPlxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX3vvJo8L2xhYmVsPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXRhYmxlLXdyYXBwZXItdGQgaW5saW5lLWxlZnQnPlxuXHRcdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L3RkPlxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdwdWxsLWxlZnQnPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWw+e3tfdCBcImluc3RhbmNlX3N1Ym1pdF9kYXRlXCJ9fe+8mjwvbGFiZWw+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1yaWdodCc+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XG5cdFx0XHRcdFx0XHRcdFx0e3tmb3JtYXREYXRlIGluc3RhbmNlLnN1Ym1pdF9kYXRlICd7XCJmb3JtYXRcIjpcIllZWVktTU0tRERcIn0nfX1cblx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC90ZD5cblx0XHRcdDwvdHI+XG5cdFx0PC90YWJsZT5cblx0PC9kaXY+XG5cdFwiXCJcIlxuXHRyZXR1cm4gdGVtcGxhdGVcblxuI+atpOWkhOaooeadv+WFrOeUqOS4ju+8mmluc3RhbmNlIOe8lui+keOAgeafpeeci+OAgeaJk+WNsOOAgei9rOWPkeaXtueUn+aIkOmZhOS7tuOAgeWPkemAgemCruS7tmJvZHnpg6jliIYodGFibGUg5qih5p2/KVxuI+WmguaenOacieS/ruaUue+8jOivt+a1i+ivleehruiupOWFtuS7luWKn+iDveaYr+WQpuato+W4uOOAglxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZSA9XG5cdGRlZmF1bHQ6IChpbnN0YW5jZSktPlxuXG5cdFx0dGVtcGxhdGUgPSBcIlwiXCJcblx0XHRcdDxkaXYgY2xhc3M9XCJ3aXRoLWJvcmRlciBjb2wtbWQtMTJcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cblx0XHRcdFx0XHQ8aDMgY2xhc3M9XCJib3gtdGl0bGVcIj4je1RlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZX08L2gzPlxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cblx0XHRcdDwvZGl2PlxuXHRcdFx0e3sjZWFjaCBzdGVlZG9zX2Zvcm0uZmllbGRzfX1cblx0XHRcdFx0e3sjaWYgaXNPcGluaW9uRmllbGQgdGhpc319XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXAgYXV0b21hdGljIG9waW5pb24tZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX08L2xhYmVsPlxuXG5cdFx0XHRcdFx0XHRcdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9dGhpcy5jb2RlfX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMiBmaWVsZC17e3RoaXMuY29kZX19XCI+XG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHR7e2Vsc2V9fVxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxuXHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlfX1cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHt7L2lmfX1cblx0XHRcdFx0e3svaWZ9fVxuXHRcdFx0e3svZWFjaH19XG5cdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlciBmb3JtLWdyb3VwIGZvcm0taG9yaXpvbnRhbFwiPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXAtYWRkb25cIj5cblx0XHRcdFx0XHQgIHt7X3QgXCJpbnN0YW5jZV9pbml0aWF0b3JcIn19Jm5ic3A7OlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cblx0XHRcdFx0ICA8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcIlwiXCJcblx0XHRyZXR1cm4gdGVtcGxhdGVcblxuXHR0YWJsZTogKGluc3RhbmNlKS0+XG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKVxuI1x0dGFibGU6ICcnJ1xuI1x0XHQ8dGFibGUgY2xhc3M9XCJib3gtaGVhZGVyICB3aXRoLWJvcmRlclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7ZGlzcGxheTogaW5saW5lLXRhYmxlO1wiPlxuI1x0XHRcdDx0ciBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLW5hbWUtdGRcIj5cbiNcdFx0XHRcdFx0PGgzIGNsYXNzPVwiYm94LXRpdGxlXCI+e3tpbnN0YW5jZS5uYW1lfX08L2gzPlxuI1x0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XG4jXHRcdFx0XHQ8L3RkPlxuI1x0XHRcdDwvdHI+XG4jICAgICAgICAgICAgPHRyIGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXJcIj5cbiNcdFx0XHRcdDx0ZCBjbGFzcz1cImluc3RhbmNlLXRhYmxlLXdyYXBwZXItdGRcIj5cbiNcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7X3QgXCJpbnN0YW5jZV9pbml0aWF0b3JcIn19Jm5ic3A7OjwvbGFiZWw+XG4jXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cbiNcdFx0XHRcdDwvdGQ+XG4jXHRcdFx0PC90cj5cbiMgICAgICAgIDwvdGFibGU+XG4jXHRcdDx0YWJsZSBjbGFzcz1cImZvcm0tdGFibGVcIj5cbiNcdFx0ICAgIHt7I2VhY2ggdGFibGVfZmllbGRzfX1cbiNcdFx0XHRcdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxuI1x0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxuI1x0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLXRpdGxlIHt7I2lmIGlzX3JlcXVpcmVkfX1pcy1yZXF1aXJlZHt7L2lmfX1cIj5cbiNcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XG4jXHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCBvcGluaW9uLWZpZWxkXCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XG4jXHRcdFx0XHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBzdGVwPShnZXRPcGluaW9uRmllbGRTdGVwTmFtZSB0aGlzKSBkZWZhdWx0PScnfX1cbiNcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHR7e3t0cl9lbmR9fX1cbiNcdFx0XHRcdHt7ZWxzZX19XG4jXHRcdFx0XHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxuI1x0XHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkXCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XG4jXHRcdFx0XHRcdFx0XHQgICB7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGUgbGFiZWw9ZmFsc2V9fVxuI1x0XHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHR7e3t0cl9lbmR9fX1cbiNcdFx0XHRcdFx0e3tlbHNlfX1cbiNcdFx0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxuI1x0XHRcdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fVxuI1x0XHRcdFx0XHRcdFx0PC90ZD5cbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIHt7cGVybWlzc2lvbn19XCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XG4jXHRcdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XG4jXHRcdFx0XHRcdFx0XHQ8L3RkPlxuI1x0XHRcdFx0XHRcdHt7e3RyX2VuZH19fVxuI1x0XHRcdFx0XHR7ey9pZn19XG4jXHRcdFx0XHR7ey9pZn19XG4jXG4jXHRcdCAgICB7ey9lYWNofX1cbiNcdFx0PC90YWJsZT5cbiNcdCcnJ1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlSGVscHMgPVxuXHRhcHBsaWNhbnRDb250ZXh0OiAtPlxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRkYXRhID0ge1xuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0YXR0czoge1xuXHRcdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRcdGlkOiAnaW5zX2FwcGxpY2FudCcsXG5cdFx0XHRcdGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wnLFxuXHRcdFx0XHRzdHlsZTogJ3BhZGRpbmc6NnB4IDEycHg7d2lkdGg6MTQwcHg7ZGlzcGxheTppbmxpbmUnXG5cdFx0XHR9XG5cdFx0fVxuI1x0XHRpZiBub3Qgc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIlxuXHRcdGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWVcblx0XHRyZXR1cm4gZGF0YTtcblxuaW5zdGFuY2VJZDogLT5cblx0cmV0dXJuICdpbnN0YW5jZWZvcm0nOyNcImluc3RhbmNlX1wiICsgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpO1xuXG5mb3JtX3R5cGVzOiAtPlxuXHRpZiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcblx0XHRyZXR1cm4gJ2Rpc2FibGVkJztcblx0ZWxzZVxuXHRcdHJldHVybiAnbWV0aG9kJztcblxuc3RlZWRvc19mb3JtOiAtPlxuXHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRpZiBmb3JtX3ZlcnNpb25cblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXG5cbmlubmVyc3ViZm9ybUNvbnRleHQ6IChvYmopLT5cblx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblx0b2JqW1widGFibGVWYWx1ZXNcIl0gPSBpZiBkb2NfdmFsdWVzIHRoZW4gZG9jX3ZhbHVlc1tvYmouY29kZV0gZWxzZSBbXVxuXHRvYmpbXCJmb3JtSWRcIl0gPSBmb3JtSWQ7XG5cdHJldHVybiBvYmo7XG5cbmluc3RhbmNlOiAtPlxuXHRTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpXG5cdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xuXG5lcXVhbHM6IChhLCBiKSAtPlxuXHRyZXR1cm4gKGEgPT0gYilcblxuaW5jbHVkZXM6IChhLCBiKSAtPlxuXHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuXG5maWVsZHM6IC0+XG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdGlmIGZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG5cbmRvY192YWx1ZXM6IC0+XG5cdFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcblxuaW5zdGFuY2VfYm94X3N0eWxlOiAtPlxuXHRib3ggPSBTZXNzaW9uLmdldChcImJveFwiKVxuXHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcblx0XHRqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIilcblx0XHRpZiBqdWRnZVxuXHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxuXHRcdFx0ZWxzZSBpZiAoanVkZ2UgPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcblx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdGlmIGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb25cblx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXG5cdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXG5cdFx0ZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcblx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXG5cblRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZSA9IChpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSAtPlxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcblx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cblx0aWYgdGVtcGxhdGVOYW1lXG5cdFx0aWYgdGVtcGxhdGVOYW1lID09ICd0YWJsZSdcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxuXHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXG5cblx0aWYgU2Vzc2lvbj8uZ2V0KFwiaW5zdGFuY2VQcmludFwiKVxuXHRcdGlmIGZsb3c/LnByaW50X3RlbXBsYXRlXG5cdFx0XHRyZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93LnByaW50X3RlbXBsYXRlICsgXCI8L2Rpdj5cIlxuXHRcdGVsc2Vcblx0XHRcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXG5cdFx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxuXHRlbHNlXG5cdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXG5cdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcblx0XHRcdHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiXG5cblx0XHRpZiBmb3JtPy5pbnN0YW5jZV9zdHlsZVxuXHRcdFx0aWYgZm9ybS5pbnN0YW5jZV9zdHlsZSA9PSAndGFibGUnXG5cdFx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS5kZWZhdWx0KGluc3RhbmNlKVxuXG4jVGVtcGxhdGVNYW5hZ2VyLmV4cG9ydFRlbXBsYXRlID0gKGZsb3dJZCkgLT5cbiNcdHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGZsb3dJZCk7XG4jXG4jXHRmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZsb3coZmxvd0lkKTtcbiNcbiNcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXG4jXHRcdHJldHVybiB0ZW1wbGF0ZTtcbiNcbiNcdHJldHVybiB0ZW1wbGF0ZTtcblxuIiwidmFyIGZvcm1JZDsgICAgICAgICAgICAgICAgIFxuXG5UZW1wbGF0ZU1hbmFnZXIgPSB7fTtcblxuZm9ybUlkID0gJ2luc3RhbmNlZm9ybSc7XG5cblRlbXBsYXRlTWFuYWdlci5pbnN0YW5jZV90aXRsZSA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcGFnZVRpdGxlLCBwYWdlVGl0bGVUckNsYXNzLCB2YWw7XG4gIHBhZ2VUaXRsZSA9IFwie3tpbnN0YW5jZS5uYW1lfX1cIjtcbiAgcGFnZVRpdGxlVHJDbGFzcyA9IFwiaW5zdGFuY2UtbmFtZVwiO1xuICBpZiAodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSB7XG4gICAgcGFnZVRpdGxlID0gXCJ7ez4gYWZGb3JtR3JvdXAgbmFtZT1cXFwiXCIgKyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgKyBcIlxcXCIgbGFiZWw9ZmFsc2V9fVwiO1xuICAgIHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiO1xuICB9XG4gIGlmICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGUgOiB2b2lkIDApIHtcbiAgICBwYWdlVGl0bGUgPSBcIlwiICsgQ29yZUZvcm0ucGFnZVRpdGxlO1xuICAgIHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiO1xuICB9XG4gIHZhbCA9IHtcbiAgICBwYWdlVGl0bGU6IHBhZ2VUaXRsZSxcbiAgICBwYWdlVGl0bGVUckNsYXNzOiBwYWdlVGl0bGVUckNsYXNzXG4gIH07XG4gIHJldHVybiB2YWw7XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCBfZXhwb3J0KSB7XG4gIHZhciB0YWJsZV9maWVsZHMsIHRlbXBsYXRlO1xuICB0ZW1wbGF0ZSA9IFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlxcblx0PHRhYmxlIGNsYXNzPVxcXCJ0YWJsZS1wYWdlLXRpdGxlIGZvcm0tdGFibGUgbm8tYm9yZGVyIHRleHQtYWxpZ24tY2VudGVyXFxcIiBzdHlsZT1cXFwid2lkdGg6IDEwMCU7ZGlzcGxheTogaW5saW5lLXRhYmxlO1xcXCI+XFxuXHRcdDx0ciBjbGFzcz1cXFwiXCIgKyAodGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZVRyQ2xhc3MpICsgXCJcXFwiPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZCBwYWdlLXRpdGxlXFxcIj5cXG5cdFx0XHRcdFwiICsgKHRoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGUpICsgXCJcXG5cdFx0XHQ8L3RkPlxcblx0XHQ8L3RyPlxcblxcblx0PC90YWJsZT5cXG5cdDx0YWJsZSBjbGFzcz1cXFwidGFibGUtcGFnZS1ib2R5IGZvcm0tdGFibGVcXFwiPlxcblx0XHRcdDx0ciBzdHlsZT1cXFwiaGVpZ2h0OjBweFxcXCI+XFxuXHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XFxuXHRcdFx0XHQ8dGg+PC90aD5cXG5cdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cXG5cdFx0XHRcdDx0aD48L3RoPlxcblx0XHRcdDwvdHI+XCI7XG4gIHRhYmxlX2ZpZWxkcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudGFibGVfZmllbGRzKGluc3RhbmNlKTtcbiAgdGFibGVfZmllbGRzLmZvckVhY2goZnVuY3Rpb24odGFibGVfZmllbGQpIHtcbiAgICB2YXIgZmllbGRfcGVybWlzc2lvbiwgcHVyZUNvZGUsIHJlcXVpcmVkLCB0aXRsZV9wZXJtaXNzaW9uO1xuICAgIHJlcXVpcmVkID0gXCJcIjtcbiAgICBpZiAoISh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApIHx8ICh0eXBlb2YgQ29yZUZvcm0gIT09IFwidW5kZWZpbmVkXCIgJiYgQ29yZUZvcm0gIT09IG51bGwgPyBDb3JlRm9ybS5wYWdlVGl0bGVGaWVsZE5hbWUgOiB2b2lkIDApICE9PSB0YWJsZV9maWVsZC5jb2RlKSB7XG4gICAgICBpZiAodGFibGVfZmllbGQuaXNfcmVxdWlyZWQpIHtcbiAgICAgICAgcmVxdWlyZWQgPSBcImlzLXJlcXVpcmVkXCI7XG4gICAgICB9XG4gICAgICBpZiAoX2V4cG9ydCkge1xuICAgICAgICByZXF1aXJlZCA9IFwiXCI7XG4gICAgICB9XG4gICAgICBwdXJlQ29kZSA9IFN0ZWVkb3MucmVtb3ZlU3BlY2lhbENoYXJhY3Rlcih0YWJsZV9maWVsZC5jb2RlKTtcbiAgICAgIGlmIChJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkKHRhYmxlX2ZpZWxkKSkge1xuICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLXRpdGxlIFwiICsgcmVxdWlyZWQgKyBcIlxcXCI+XFxuXHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlxcbjx0ZCBjbGFzcz1cXFwidGQtZmllbGQgb3Bpbmlvbi1maWVsZCBvcGluaW9uLWZpZWxkLVwiICsgcHVyZUNvZGUgKyBcIiBhdXRvbWF0aWNcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcblx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwifX1cXG48L3RkPlwiO1xuICAgICAgICByZXR1cm4gdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5jbHVkZXModGFibGVfZmllbGQudHlwZSwgJ3NlY3Rpb24sdGFibGUnKSkge1xuICAgICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPVxcXCJ0ZC1jaGlsZGZpZWxkIHRkLWNoaWxkZmllbGQtXCIgKyBwdXJlQ29kZSArIFwiXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG4gICB7ez4gYWZGb3JtR3JvdXAgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwiIGxhYmVsPWZhbHNlfX1cXG48L3RkPlwiO1xuICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgICAgaWYgKF9leHBvcnQpIHtcbiAgICAgICAgICAgIHRpdGxlX3Blcm1pc3Npb24gPSBcIlwiO1xuICAgICAgICAgICAgZmllbGRfcGVybWlzc2lvbiA9IFwiXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlX3Blcm1pc3Npb24gPSBcInRpdGxlLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvbjtcbiAgICAgICAgICAgIGZpZWxkX3Blcm1pc3Npb24gPSBcImZpZWxkLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9XFxcInRkLXRpdGxlIHRkLXRpdGxlLVwiICsgcHVyZUNvZGUgKyBcIiBcIiArIHRpdGxlX3Blcm1pc3Npb24gKyBcIiBcIiArIHJlcXVpcmVkICsgXCJcXFwiPlxcblx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIn19XFxuPC90ZD5cXG48dGQgY2xhc3M9XFxcInRkLWZpZWxkIHRkLWZpZWxkLVwiICsgcHVyZUNvZGUgKyBcIiBcIiArIGZpZWxkX3Blcm1pc3Npb24gKyBcIlxcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuXHR7ez4gYWZGb3JtR3JvdXAgbmFtZT1cXFwiXCIgKyB0YWJsZV9maWVsZC5jb2RlICsgXCJcXFwiIGxhYmVsPWZhbHNlfX1cXG48L3RkPlwiO1xuICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0ZW1wbGF0ZSArPSBcIlx0PC90YWJsZT5cXG5cXG5cdDx0YWJsZSBjbGFzcz1cXFwidGFibGUtcGFnZS1mb290ZXIgZm9ybS10YWJsZSBuby1ib3JkZXJcXFwiPlxcblx0XHQ8dHIgY2xhc3M9XFxcImFwcGxpY2FudC13cmFwcGVyXFxcIj5cXG5cdFx0XHQ8dGQgY2xhc3M9XFxcIm5vd3JhcFxcXCI+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tfdCBcXFwiaW5zdGFuY2VfaW5pdGlhdG9yXFxcIn1977yaPC9sYWJlbD5cXG5cdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZCBpbmxpbmUtbGVmdCc+XFxuXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVxcXCJhZlNlbGVjdFVzZXJcXFwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHQ8L3RkPlxcblx0XHRcdDx0ZCBjbGFzcz1cXFwibm93cmFwXFxcIj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J3B1bGwtbGVmdCc+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cXG5cdFx0XHRcdFx0XHQ8bGFiZWw+e3tfdCBcXFwiaW5zdGFuY2Vfc3VibWl0X2RhdGVcXFwifX3vvJo8L2xhYmVsPlxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLXJpZ2h0Jz5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdHt7Zm9ybWF0RGF0ZSBpbnN0YW5jZS5zdWJtaXRfZGF0ZSAne1xcXCJmb3JtYXRcXFwiOlxcXCJZWVlZLU1NLUREXFxcIn0nfX1cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHQ8L3RkPlxcblx0XHQ8L3RyPlxcblx0PC90YWJsZT5cXG48L2Rpdj5cIjtcbiAgcmV0dXJuIHRlbXBsYXRlO1xufTtcblxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZSA9IHtcbiAgXCJkZWZhdWx0XCI6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIHRlbXBsYXRlO1xuICAgIHRlbXBsYXRlID0gXCI8ZGl2IGNsYXNzPVxcXCJ3aXRoLWJvcmRlciBjb2wtbWQtMTJcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UtbmFtZVxcXCI+XFxuXHRcdDxoMyBjbGFzcz1cXFwiYm94LXRpdGxlXFxcIj5cIiArIChUZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGUpICsgXCI8L2gzPlxcblx0XHQ8c3BhbiBjbGFzcz1cXFwiaGVscC1ibG9ja1xcXCI+PC9zcGFuPlxcblx0PC9kaXY+XFxuXHQ8c3BhbiBjbGFzcz1cXFwiaGVscC1ibG9ja1xcXCI+PC9zcGFuPlxcbjwvZGl2Plxcbnt7I2VhY2ggc3RlZWRvc19mb3JtLmZpZWxkc319XFxuXHR7eyNpZiBpc09waW5pb25GaWVsZCB0aGlzfX1cXG5cdFx0PGRpdiBjbGFzcz1cXFwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwIGF1dG9tYXRpYyBvcGluaW9uLWZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2FmRmllbGRMYWJlbFRleHQgbmFtZT10aGlzLmNvZGV9fTwvbGFiZWw+XFxuXFxuXHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBuYW1lPXRoaXMuY29kZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdDwvZGl2Plxcblx0e3tlbHNlfX1cXG5cdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyIGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cXG5cdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHQ8ZGl2IGNsYXNzPVxcXCJ7eyNpZiB0aGlzLmlzX3dpZGV9fWNvbC1tZC0xMnt7ZWxzZX19Y29sLW1kLTZ7ey9pZn19IGZpZWxkLXt7dGhpcy5jb2RlfX1cXFwiPlxcblx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdHt7L2lmfX1cXG5cdHt7L2lmfX1cXG57ey9lYWNofX1cXG48ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwiYXBwbGljYW50LXdyYXBwZXIgZm9ybS1ncm91cCBmb3JtLWhvcml6b250YWxcXFwiPlxcblx0PGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblx0XHQ8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cC1hZGRvblxcXCI+XFxuXHRcdCAge3tfdCBcXFwiaW5zdGFuY2VfaW5pdGlhdG9yXFxcIn19Jm5ic3A7Olxcblx0XHQ8L2Rpdj5cXG5cdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XFxcImFmU2VsZWN0VXNlclxcXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cXG5cdCAgPC9kaXY+XFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH0sXG4gIHRhYmxlOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZShpbnN0YW5jZSk7XG4gIH1cbn07XG5cblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVIZWxwcyA9IHtcbiAgYXBwbGljYW50Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEsIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wnLFxuICAgICAgICBzdHlsZTogJ3BhZGRpbmc6NnB4IDEycHg7d2lkdGg6MTQwcHg7ZGlzcGxheTppbmxpbmUnXG4gICAgICB9XG4gICAgfTtcbiAgICBkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlO1xuICAgIHJldHVybiBkYXRhO1xuICB9XG59O1xuXG4oe1xuICBpbnN0YW5jZUlkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2luc3RhbmNlZm9ybSc7XG4gIH0sXG4gIGZvcm1fdHlwZXM6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21ldGhvZCc7XG4gICAgfVxuICB9LFxuICBzdGVlZG9zX2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICAgIH1cbiAgfSxcbiAgaW5uZXJzdWJmb3JtQ29udGV4dDogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGRvY192YWx1ZXM7XG4gICAgZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICBvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGRvY192YWx1ZXMgPyBkb2NfdmFsdWVzW29iai5jb2RlXSA6IFtdO1xuICAgIG9ialtcImZvcm1JZFwiXSA9IGZvcm1JZDtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBpbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgU2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKTtcbiAgICBpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICByZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcbiAgICB9XG4gIH0sXG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICBpbmNsdWRlczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGZpZWxkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG4gICAgfVxuICB9LFxuICBkb2NfdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICB9LFxuICBpbnN0YW5jZV9ib3hfc3R5bGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib3gsIGlucywganVkZ2U7XG4gICAgYm94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIik7XG4gICAgaWYgKGJveCA9PT0gXCJpbmJveFwiIHx8IGJveCA9PT0gXCJkcmFmdFwiKSB7XG4gICAgICBqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIik7XG4gICAgICBpZiAoanVkZ2UpIHtcbiAgICAgICAgaWYgKGp1ZGdlID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGp1ZGdlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb24pIHtcbiAgICAgIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxuVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlID0gZnVuY3Rpb24oaW5zdGFuY2UsIHRlbXBsYXRlTmFtZSkge1xuICB2YXIgZmxvdywgZm9ybTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoaW5zdGFuY2UuZmxvdyk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBpZiAodGVtcGxhdGVOYW1lKSB7XG4gICAgaWYgKHRlbXBsYXRlTmFtZSA9PT0gJ3RhYmxlJykge1xuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgIH1cbiAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZVtcImRlZmF1bHRcIl0oaW5zdGFuY2UpO1xuICB9XG4gIGlmICh0eXBlb2YgU2Vzc2lvbiAhPT0gXCJ1bmRlZmluZWRcIiAmJiBTZXNzaW9uICE9PSBudWxsID8gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIDogdm9pZCAwKSB7XG4gICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cucHJpbnRfdGVtcGxhdGUgOiB2b2lkIDApIHtcbiAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cucHJpbnRfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSA6IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgICB9XG4gICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgOiB2b2lkIDApIHtcbiAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cIiArIGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgKyBcIjwvZGl2PlwiO1xuICAgIH1cbiAgICBpZiAoZm9ybSAhPSBudWxsID8gZm9ybS5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkge1xuICAgICAgaWYgKGZvcm0uaW5zdGFuY2Vfc3R5bGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgICB9XG4gIH1cbn07XG4iLCJTdGVlZG9zVGFibGUgPSB7fTtcblxuU3RlZWRvc1RhYmxlLmZvcm1JZCA9IFwiaW5zdGFuY2Vmb3JtXCI7XG5cblN0ZWVkb3NUYWJsZS5jaGVja0l0ZW0gPSBmdW5jdGlvbiAoZmllbGQsIGl0ZW1faW5kZXgpIHtcbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgdmFyIGZpZWxkVmFsID0gU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpdGVtX2luZGV4KTtcblxuICAgIHZhciBzZl9uYW1lID0gJyc7XG4gICAgdmFyIHJldiA9IHRydWU7XG4gICAgZmllbGRPYmouc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChzZikge1xuICAgICAgICBpZiAoc2YucGVybWlzc2lvbiA9PSAnZWRpdGFibGUnKSB7XG4gICAgICAgICAgICBzZl9uYW1lID0gZmllbGRPYmouY29kZSArIFwiLlwiICsgc2YuY29kZTtcbiAgICAgICAgICAgIGlmICghSW5zdGFuY2VNYW5hZ2VyLmNoZWNrRm9ybUZpZWxkVmFsdWUoJChcIltuYW1lPSdcIiArIHNmX25hbWUgKyBcIiddXCIpWzBdLCBzZl9uYW1lLCBmaWVsZFZhbFtzZi5jb2RlXSkpIHtcbiAgICAgICAgICAgICAgICByZXYgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJldjtcbn1cblxuU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlID0gZnVuY3Rpb24gKGZpZWxkLCBpdGVtX2luZGV4LCBpdGVtX3ZhbHVlKSB7XG5cbiAgICB2YXIgdGFibGVWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKTtcbiAgICB0YWJsZVZhbHVlW2l0ZW1faW5kZXhdID0gaXRlbV92YWx1ZTtcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlID0gZnVuY3Rpb24gKGZpZWxkLCBpdGVtX2luZGV4KSB7XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKVtpdGVtX2luZGV4XTtcbn1cblxuU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbSA9IGZ1bmN0aW9uIChmaWVsZCwgaXRlbV9pbmRleCkge1xuICAgIHZhciBpdGVtX3ZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpdGVtX2luZGV4KTtcbiAgICBpdGVtX3ZhbHVlLnJlbW92ZWQgPSB0cnVlO1xufVxuXG5TdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcbiAgICAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKHtcbiAgICAgICAgdmFsOiB2YWx1ZVxuICAgIH0pO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHJldHVybiAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKCkudmFsO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHZhciB2YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKTtcblxuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHZhbGlkVmFsdWUgPSBbXTtcblxuICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgaWYgKCF2LnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHZhbGlkVmFsdWUucHVzaCh2KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB2YWxpZFZhbHVlO1xufVxuXG5cblN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhID0gZnVuY3Rpb24gKGZpZWxkLCB2YWx1ZXMpIHtcblxuICAgIGlmICghdmFsdWVzIHx8ICEodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIGZpZWxkT2JqLnNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgaWYgKGYudHlwZSA9PSAndXNlcicgfHwgZi50eXBlID09ICdncm91cCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2W2YuY29kZV1cbiAgICAgICAgICAgICAgICBpZiAoZi5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMCAmJiB0eXBlb2YgKHZhbHVlWzBdKSA9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmdldFByb3BlcnR5KFwiaWRcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mICh2YWx1ZSkgPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZbZi5jb2RlXS5pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09ICdkYXRlVGltZScpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2W2YuY29kZV1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2W2YuY29kZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xufVxuXG5TdGVlZG9zVGFibGUuZ2V0RmllbGQgPSBmdW5jdGlvbiAoZmllbGQpIHtcbiAgICB2YXIgaW5zdGFuY2VGaWVsZHMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGaWVsZHMoKTtcbiAgICBpZiAoIWluc3RhbmNlRmllbGRzKVxuICAgICAgICByZXR1cm47XG5cbiAgICB2YXIgZmllbGRPYmogPSBpbnN0YW5jZUZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBmaWVsZCk7XG5cbiAgICByZXR1cm4gZmllbGRPYmo7XG59XG5cblxuU3RlZWRvc1RhYmxlLmdldE1vZGFsRGF0YSA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgpIHtcblxuICAgIHZhciBkYXRhID0ge307XG5cbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xuXG4gICAgaWYgKCFmaWVsZE9iaikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGF0YS5maWVsZCA9IGZpZWxkT2JqO1xuXG4gICAgZGF0YS5maWVsZC5mb3JtdWxhID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmaWVsZE9iai5zZmllbGRzKTtcblxuICAgIGRhdGEudmFsdWUgPSB7fTtcblxuICAgIGRhdGEudmFsdWVbZmllbGRdID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCk7XG5cbiAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG5cbiAgICByZXR1cm4gZGF0YTtcbn1cblxuXG5cblN0ZWVkb3NUYWJsZS5nZXRJdGVtTW9kYWxWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCwgaXRlbV9pbmRleCkge1xuXG4gICAgaWYgKCFBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwic3RlZWRvc190YWJsZV9tb2RhbF9cIiArIGZpZWxkICsgXCJfXCIgKyBpdGVtX2luZGV4KSkge1xuICAgICAgICByZXR1cm4ge31cbiAgICB9XG5cbiAgICB2YXIgaXRlbV92YWx1ZSA9IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJzdGVlZG9zX3RhYmxlX21vZGFsX1wiICsgZmllbGQgKyBcIl9cIiArIGl0ZW1faW5kZXgpLmluc2VydERvY1tmaWVsZF07XG4gICAgcmV0dXJuIGl0ZW1fdmFsdWU7XG59XG5cblxuU3RlZWRvc1RhYmxlLmFkZEl0ZW0gPSBmdW5jdGlvbiAoZmllbGQsIGluZGV4LCBfaXRlbV92YWx1ZSkge1xuICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xuICAgIHZhciBpdGVtX3ZhbHVlID0gX2l0ZW1fdmFsdWUgfHwgU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpbmRleCk7XG4gICAgJChcInRib2R5W25hbWU9J1wiICsgZmllbGQgKyBcIlRib2R5J11cIikuYXBwZW5kKFN0ZWVkb3NUYWJsZS5nZXRUcihrZXlzLCBpdGVtX3ZhbHVlLCBpbmRleCwgZmllbGQsIHRydWUpKVxuXG59XG5cblN0ZWVkb3NUYWJsZS51cGRhdGVJdGVtID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcblxuICAgIHZhciBpdGVtID0gJChcInRyW25hbWU9J1wiICsgZmllbGQgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIiddXCIpO1xuXG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBfaXRlbV92YWx1ZSB8fCBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGluZGV4KTtcblxuICAgIGlmIChpdGVtICYmIGl0ZW0ubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICAgICAgdmFyIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZCwgaW5kZXgpO1xuXG4gICAgICAgIHZhciBzZmllbGRzID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKS5zZmllbGRzO1xuXG4gICAgICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xuXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBpdGVtX3ZhbHVlW2tleV07XG5cbiAgICAgICAgICAgIHRkcyA9IHRkcyArIFN0ZWVkb3NUYWJsZS5nZXRUZChzZmllbGQsIGluZGV4LCB2YWx1ZSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaXRlbS5lbXB0eSgpO1xuXG4gICAgICAgIGl0ZW0uYXBwZW5kKHRkcyk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5hZGRJdGVtKGZpZWxkLCBpbmRleCk7XG4gICAgfVxuXG4gICAgaWYgKFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSkge1xuXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZUl0ZW1WYWx1ZShmaWVsZCwgaW5kZXgsIGl0ZW1fdmFsdWUpO1xuXG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF1baW5kZXhdID0gaXRlbV92YWx1ZTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF0gPSBbaXRlbV92YWx1ZV07XG5cbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlVmFsdWUoZmllbGQsIFtpdGVtX3ZhbHVlXSlcblxuICAgIH1cblxuICAgIC8v5omn6KGM5Li76KGo5YWs5byP6K6h566XXG4gICAgSW5zdGFuY2VNYW5hZ2VyLnJ1bkZvcm11bGEoZmllbGQpO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCkge1xuXG4gICAgJChcInRyW25hbWU9J1wiICsgZmllbGQgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIiddXCIpLmhpZGUoKTtcblxuICAgIFN0ZWVkb3NUYWJsZS5yZW1vdmVUYWJsZUl0ZW0oZmllbGQsIGluZGV4KTtcblxuICAgIEluc3RhbmNlTWFuYWdlci5ydW5Gb3JtdWxhKGZpZWxkKTtcbn1cblxuU3RlZWRvc1RhYmxlLnNob3dNb2RhbCA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgsIG1ldGhvZCkge1xuXG5cbiAgICB2YXIgbW9kYWxEYXRhID0gU3RlZWRvc1RhYmxlLmdldE1vZGFsRGF0YShmaWVsZCwgaW5kZXgpO1xuXG4gICAgbW9kYWxEYXRhLm1ldGhvZCA9IG1ldGhvZDtcblxuICAgIE1vZGFsLnNob3coXCJzdGVlZG9zVGFibGVNb2RhbFwiLCBtb2RhbERhdGEpO1xuXG59XG5cblN0ZWVkb3NUYWJsZS5nZXRLZXlzID0gZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgaWYgKCFBdXRvRm9ybS5nZXRDdXJyZW50RGF0YUZvckZvcm0oU3RlZWRvc1RhYmxlLmZvcm1JZCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIHZhciBzcyA9IEF1dG9Gb3JtLmdldEZvcm1TY2hlbWEoU3RlZWRvc1RhYmxlLmZvcm1JZCk7XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgaWYgKHNzLnNjaGVtYShmaWVsZCArIFwiLiRcIikudHlwZSA9PT0gT2JqZWN0KSB7XG4gICAgICAgIGtleXMgPSBzcy5vYmplY3RLZXlzKFNpbXBsZVNjaGVtYS5fbWFrZUdlbmVyaWMoZmllbGQpICsgJy4kJylcbiAgICB9XG5cbiAgICByZXR1cm4ga2V5cztcblxufVxuXG5TdGVlZG9zVGFibGUuZ2V0VGhlYWQgPSBmdW5jdGlvbiAoZmllbGQsIGVkaXRhYmxlKSB7XG5cbiAgICB2YXIgZmllbGRPYmogPSBmaWVsZDtcbiAgICBpZiAoIV8uaXNPYmplY3QoZmllbGQpKVxuICAgICAgICBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XG5cbiAgICBpZiAoIWZpZWxkT2JqKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICB2YXIgdGhlYWQgPSAnJyxcbiAgICAgICAgdHJzID0gJycsXG4gICAgICAgIGxhYmVsID0gJycsXG4gICAgICAgIHdpZHRoID0gMTAwO1xuXG4gICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgIC8vIHRycyA9IFwiPHRoIGNsYXNzPSdyZW1vdmVkJz48L3RoPlwiXG4gICAgICAgIHRycyA9IFwiXCJcbiAgICB9XG5cbiAgICB2YXIgc2ZpZWxkcyA9IGZpZWxkT2JqLnNmaWVsZHM7XG5cbiAgICBpZiAoIXNmaWVsZHMpIHtcbiAgICAgICAgcmV0dXJuIHRoZWFkO1xuICAgIH1cblxuICAgIHZhciBzZl9sZW5ndGggPSBzZmllbGRzLmxlbmd0aDtcblxuICAgIGlmIChzZl9sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB3aWRlX2ZpZWxkcyA9IHNmaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuXG4gICAgICAgIHdpZHRoID0gMTAwIC8gKHNmX2xlbmd0aCArIHdpZGVfZmllbGRzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChzZiwgaW5kZXgpIHtcblxuICAgICAgICBsYWJlbCA9IChzZi5uYW1lICE9IG51bGwgJiYgc2YubmFtZS5sZW5ndGggPiAwKSA/IHNmLm5hbWUgOiBzZi5jb2RlO1xuXG4gICAgICAgIHRycyA9IHRycyArIFwiPHRkIFwiOyAvLyBub3dyYXA9J25vd3JhcCdcblxuICAgICAgICB0cnMgPSB0cnMgKyBcIiBjbGFzcz0ndGl0bGUgXCIgKyBzZi50eXBlICsgXCInXCI7XG5cbiAgICAgICAgaWYgKGluZGV4ICE9IChzZl9sZW5ndGggLSAxKSkge1xuICAgICAgICAgICAgaWYgKHNmLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgICB0cnMgPSB0cnMgKyBcInN0eWxlPSd3aWR0aDpcIiArIHdpZHRoICogMiArIFwiJSdcIlxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnMgPSB0cnMgKyBcInN0eWxlPSd3aWR0aDpcIiArIHdpZHRoICsgXCIlJ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0cnMgPSB0cnMgKyBcIj5cIiArIGxhYmVsICsgXCI8L3RkPlwiXG4gICAgfSk7XG5cbiAgICB0aGVhZCA9ICc8dHI+JyArIHRycyArICc8L3RyPic7XG5cbiAgICByZXR1cm4gdGhlYWQ7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUYm9keSA9IGZ1bmN0aW9uIChrZXlzLCBmaWVsZCwgdmFsdWVzLCBlZGl0YWJsZSwgc2ZpZWxkc0VkaXRhYmxlKSB7XG4gICAgdmFyIHRib2R5ID0gXCJcIjtcblxuICAgIGlmICh2YWx1ZXMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB2YWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICAgICAgICB0Ym9keSA9IHRib2R5ICsgU3RlZWRvc1RhYmxlLmdldFRyKGtleXMsIHZhbHVlLCBpbmRleCwgZmllbGQsIGVkaXRhYmxlLCBzZmllbGRzRWRpdGFibGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGJvZHk7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRUciA9IGZ1bmN0aW9uIChrZXlzLCBpdGVtX3ZhbHVlLCBpbmRleCwgZmllbGQsIGVkaXRhYmxlLCBzZmllbGRzRWRpdGFibGUpIHtcblxuICAgIHZhciBmaWVsZE9iaiA9IGZpZWxkO1xuICAgIGlmICghXy5pc09iamVjdChmaWVsZCkpXG4gICAgICAgIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcblxuICAgIHZhciB0ciA9IFwiPHRyIGlkPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgbmFtZT0nXCIgKyBmaWVsZE9iai5jb2RlICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIidcIlxuXG4gICAgaWYgKGVkaXRhYmxlIHx8IHNmaWVsZHNFZGl0YWJsZSkge1xuICAgICAgICB0ciA9IHRyICsgXCInIGNsYXNzPSdpdGVtIGVkaXQnXCJcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICB0ciA9IHRyICsgXCIgY2xhc3M9J2l0ZW0gaXRlbS1yZWFkb25seSdcIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHIgPSB0ciArIFwiIGNsYXNzPSdpdGVtICdcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGl0ZW1fdmFsdWUucmVtb3ZlZCkge1xuICAgICAgICB0ciA9IHRyICsgXCIgc3R5bGU9J2Rpc3BsYXk6bm9uZScgXCI7XG4gICAgfVxuXG4gICAgdHIgPSB0ciArIFwiJz5cIjtcblxuICAgIHZhciB0ZHMgPSBcIlwiO1xuXG4gICAgaWYgKGVkaXRhYmxlKSB7XG4gICAgICAgIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZE9iai5jb2RlLCBpbmRleCk7XG4gICAgfVxuXG4gICAgdmFyIHNmaWVsZHMgPSBmaWVsZE9iai5zZmllbGRzO1xuXG4gICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHNmaWVsZCA9IHNmaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwga2V5KTtcblxuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtX3ZhbHVlW2tleV07XG5cbiAgICAgICAgdGRzID0gdGRzICsgU3RlZWRvc1RhYmxlLmdldFRkKHNmaWVsZCwgaW5kZXgsIHZhbHVlKTtcblxuICAgIH0pO1xuXG4gICAgdHIgPSB0ciArIHRkcyArIFwiPC90cj5cIjtcbiAgICByZXR1cm4gdHI7XG59XG5cblN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZCA9IGZ1bmN0aW9uIChmaWVsZCwgaW5kZXgpIHtcbiAgICAvLyByZXR1cm4gXCI8dGQgY2xhc3M9J3N0ZWVkb3NUYWJsZS1pdGVtLXJlbW92ZSByZW1vdmVkJyBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPjxpIGNsYXNzPSdmYSBmYS10aW1lcycgYXJpYS1oaWRkZW49J3RydWUnPjwvdGQ+XCI7XG4gICAgcmV0dXJuIFwiXCJcbn1cblxuU3RlZWRvc1RhYmxlLmdldFRkID0gZnVuY3Rpb24gKGZpZWxkLCBpbmRleCwgdmFsdWUpIHtcbiAgICB2YXIgdGQgPSBcIjx0ZCBcIjtcblxuICAgIHRkID0gdGQgKyBcIiBjbGFzcz0nc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQgXCIgKyBmaWVsZC50eXBlICsgXCInIFwiO1xuXG4gICAgdmFyIHRkX3ZhbHVlID0gXCJcIjtcblxuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgdGRfdmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VERWYWx1ZShmaWVsZCwgdmFsdWUpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXG4gICAgICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblxuICAgICAgICB0ZF92YWx1ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSh2YWx1ZSwgZmllbGQsIGxvY2FsZSwgdXRjT2Zmc2V0KVxuICAgIH1cblxuICAgIHRkID0gdGQgKyBcIiBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPlwiICsgdGRfdmFsdWUgKyBcIjwvdGQ+XCJcblxuICAgIHJldHVybiB0ZDtcbn1cblxuXG5TdGVlZG9zVGFibGUuZ2V0VERWYWx1ZSA9IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcbiAgICB2YXIgdGRfdmFsdWUgPSBcIlwiO1xuICAgIGlmICghZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIHRkX3ZhbHVlXG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIHZhciBmaWVsZE9wdGlvbnMgPSBbXTtcbiAgICAgICAgaWYoW1wic2VsZWN0XCIsIFwibXVsdGlTZWxlY3RcIiwgXCJyYWRpb1wiXS5pbmRleE9mKGZpZWxkLnR5cGUpID4gLTEpe1xuICAgICAgICAgICAgZmllbGRPcHRpb25zID0gZmllbGQub3B0aW9ucy5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24obil7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1TcGxpdHMgPSBuLnNwbGl0KFwiOlwiKVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBpdGVtU3BsaXRzWzBdLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbVNwbGl0c1sxXSB8fCBuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKGZpZWxkLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mICh2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFTcGFjZVVzZXJzKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiAodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFTcGFjZVVzZXJzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHUgPyB1Lm5hbWUgOiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mICh2YWx1ZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb25zKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiAodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb24odmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gbyA/IG8ubmFtZSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJykge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlID8gXCI8YSBocmVmPSdtYWlsdG86XCIgKyB2YWx1ZSArIFwiJz5cIiArIHZhbHVlICsgXCI8L2E+XCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndXJsJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9J1wiICsgZW5jb2RlVVJJKHZhbHVlKSArIFwiJyB0YXJnZXQ9J19ibGFuayc+XCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPScnIHRhcmdldD0nX2JsYW5rJz5cIiArIHZhbHVlICsgXCI8L2E+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdodHRwOi8vXCIgKyBlbmNvZGVVUkkodmFsdWUpICsgXCInIHRhcmdldD0nX2JsYW5rJz5odHRwOi8vXCIgKyB2YWx1ZSArIFwiPC9hPlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9ICcqKioqKionO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCItXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgeWVhciA9IHRbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSAkLmZvcm1hdC5kYXRlKHZhbHVlLCAneXl5eS1NTS1kZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGVUaW1lJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PSAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MSA9IHRbMV0uc3BsaXQoXCI6XCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSB0MVsxXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQgSEg6bW0nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZWxlY3QnOlxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbiA9IGZpZWxkT3B0aW9ucy5maW5kKGZ1bmN0aW9uKGl0ZW0peyByZXR1cm4gaXRlbS52YWx1ZSA9PSB2YWx1ZTsgfSlcbiAgICAgICAgICAgICAgICBpZihzZWxlY3RlZE9wdGlvbil7XG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gc2VsZWN0ZWRPcHRpb24ubGFiZWxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyYWRpbyc6XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gZmllbGRPcHRpb25zLmZpbmQoZnVuY3Rpb24oaXRlbSl7IHJldHVybiBpdGVtLnZhbHVlID09IHZhbHVlOyB9KVxuICAgICAgICAgICAgICAgIGlmKHNlbGVjdGVkT3B0aW9uKXtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBzZWxlY3RlZE9wdGlvbi5sYWJlbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ211bHRpU2VsZWN0JzpcbiAgICAgICAgICAgICAgICB2YXIgc3BsaXRlZFZhbHVlcyA9IHZhbHVlLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRPcHRpb25zID0gZmllbGRPcHRpb25zLmZpbHRlcihmdW5jdGlvbihpdGVtKXsgcmV0dXJuIHNwbGl0ZWRWYWx1ZXMuaW5kZXhPZihpdGVtLnZhbHVlKSA+IC0xOyB9KTtcbiAgICAgICAgICAgICAgICBpZihzZWxlY3RlZE9wdGlvbnMubGVuZ3RoKXtcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBzZWxlY3RlZE9wdGlvbnMubWFwKGZ1bmN0aW9uKGl0ZW0peyByZXR1cm4gaXRlbS5sYWJlbDsgfSkuam9pbihcIixcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcodmFsdWUsIGZpZWxkLmRpZ2l0cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnb2RhdGEnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUgPyB2YWx1ZSA6ICcnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlO1xuXG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHRkX3ZhbHVlO1xufTtcblxuaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgIEF1dG9Gb3JtLmFkZElucHV0VHlwZShcInRhYmxlXCIsIHtcbiAgICAgICAgdGVtcGxhdGU6IFwiYWZUYWJsZVwiLFxuICAgICAgICB2YWx1ZU91dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLmRhdGEoXCJzY2hlbWFLZXlcIik7XG4gICAgICAgICAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFZhbGlkVmFsdWUobmFtZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbHVlQ29udmVydGVyczoge1xuICAgICAgICAgICAgXCJzdHJpbmdBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9TdHJpbmdBcnJheSxcbiAgICAgICAgICAgIFwibnVtYmVyXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb051bWJlcixcbiAgICAgICAgICAgIFwibnVtZXJBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9OdW1iZXJBcnJheSxcbiAgICAgICAgICAgIFwiYm9vbGVhblwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9Cb29sZWFuLFxuICAgICAgICAgICAgXCJib29sZWFuQXJyYXlcIjogQXV0b0Zvcm0udmFsdWVDb252ZXJ0ZXJzLnN0cmluZ1RvQm9vbGVhbkFycmF5LFxuICAgICAgICAgICAgXCJkYXRlXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0RhdGUsXG4gICAgICAgICAgICBcImRhdGVBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9EYXRlQXJyYXlcbiAgICAgICAgfSxcbiAgICAgICAgY29udGV4dEFkanVzdDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5hdHRzLm1heGxlbmd0aCA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnRleHQubWF4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPSBjb250ZXh0Lm1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBUZW1wbGF0ZS5hZlRhYmxlLmV2ZW50cyh7XG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLWFkZCwuYWRkLWl0ZW0tdHInOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRlbXBsYXRlLmRhdGEubmFtZTtcblxuICAgICAgICAgICAgdmFyIHRhYmxlVmFsdWUgPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShuYW1lKTtcblxuICAgICAgICAgICAgdmFyIG5ld19pdGVtX2luZGV4ID0gdGFibGVWYWx1ZSA/IHRhYmxlVmFsdWUubGVuZ3RoIDogMDtcblxuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChuYW1lLCBuZXdfaXRlbV9pbmRleCwgXCJhZGRcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQnOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgICAgICAgICBpZiAodGVtcGxhdGUuZGF0YS5hdHRzLmVkaXRhYmxlIHx8IHRlbXBsYXRlLmRhdGEuYXR0cy5zZmllbGRzRWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xuICAgICAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwoZmllbGQsIGluZGV4LCBcImVkaXRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tcmVtb3ZlJzogZnVuY3Rpb24gKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgdmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xuICAgICAgICAgICAgdmFyIGl0ZW1faW5kZXggPSBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuaW5kZXg7XG4gICAgICAgICAgICBTZXNzaW9uLnNldChcImluc3RhbmNlX2NoYW5nZVwiLCB0cnVlKTtcbiAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5yZW1vdmVJdGVtKGZpZWxkLCBpdGVtX2luZGV4KTtcbiAgICAgICAgfSxcblxuICAgICAgICAndGFwIC5zdGVlZG9zLXRhYmxlIC5pdGVtLXJlYWRvbmx5JzogZnVuY3Rpb24gKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0ZW1wbGF0ZS5kYXRhLmF0dHMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xuICAgICAgICAgICAgICAgIFN0ZWVkb3NUYWJsZS5zaG93TW9kYWwoZmllbGQsIGluZGV4LCBcInJlYWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG5cbiAgICBUZW1wbGF0ZS5hZlRhYmxlLnJlbmRlcmVkID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZGF0YS5uYW1lO1xuXG4gICAgICAgIHZhciBzZmllbGRzRWRpdGFibGUgPSB0aGlzLmRhdGEuYXR0cy5zZmllbGRzRWRpdGFibGU7XG5cbiAgICAgICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XG4gICAgICAgIHZhciB2YWxpZFZhbHVlID0gU3RlZWRvc1RhYmxlLmhhbmRsZURhdGEoZmllbGQsIHRoaXMuZGF0YS52YWx1ZSk7XG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlKGZpZWxkLCB2YWxpZFZhbHVlKTtcblxuICAgICAgICAkKFwidGhlYWRbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGhlYWQnXVwiKS5odG1sKFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpKTtcblxuICAgICAgICAkKFwidGJvZHlbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGJvZHknXVwiKS5odG1sKFN0ZWVkb3NUYWJsZS5nZXRUYm9keShrZXlzLCBmaWVsZCwgU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpLCB0aGlzLmRhdGEuYXR0cy5lZGl0YWJsZSwgc2ZpZWxkc0VkaXRhYmxlKSk7XG5cbiAgICAgICAgc3RyID0gdChcInN0ZWVkb3NfdGFibGVfYWRkX2l0ZW1cIik7XG4gICAgICAgIGFkZEl0ZW1UciA9IFwiPHRyIGNsYXNzPSdhZGQtaXRlbS10cic+PHRkIGNvbHNwYW49J1wiICsga2V5cy5sZW5ndGggKyBcIic+PGkgY2xhc3M9J2lvbiBpb24tcGx1cy1yb3VuZCc+PC9pPlwiICsgc3RyICsgXCI8L3RkPjwvdHI+XCI7XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSB7XG4gICAgICAgICAgICAkKFwidGZvb3RbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGZvb3QnXVwiKS5hcHBlbmQoYWRkSXRlbVRyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgICAgIGlmIChjLnN0ZXBfdHlwZSA9PSAnY291bnRlclNpZ24nIHx8IEluc3RhbmNlTWFuYWdlci5jY0hhc0VkaXRQZXJtaXNzaW9uKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYXV0b3J1bihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBUZW1wbGF0ZS5jdXJyZW50RGF0YSgpO1xuICAgICAgICAgICAgICAgIHZhciBmaWVsZCA9IGRhdGEubmFtZTtcbiAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFN0ZWVkb3NUYWJsZS5nZXRLZXlzKGZpZWxkKTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsaWRWYWx1ZSA9IFN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhKGZpZWxkLCBkYXRhLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBTdGVlZG9zVGFibGUuc2V0VGFibGVWYWx1ZShmaWVsZCwgdmFsaWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgJChcInRib2R5W25hbWU9J1wiICsgZmllbGQgKyBcIlRib2R5J11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGJvZHkoa2V5cywgZmllbGQsIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSwgZGF0YS5hdHRzLmVkaXRhYmxlLCBzZmllbGRzRWRpdGFibGUpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgIH07XG59IiwiSW1hZ2VTaWduLmhlbHBlcnMgPVxuXHRzcGFjZVVzZXJTaWduOiAodXNlcklkKS0+XG5cdFx0c3BhY2UgPSBcIlwiXG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdHNwYWNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnNwYWNlXG5cdFx0ZWxzZVxuXHRcdFx0c3BhY2UgPSBTZXNzaW9uLmdldChcInNwYWNlSWRcIilcblxuXHRcdHNwYWNlVXNlclNpZ24gPSBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmRPbmUoe3NwYWNlOiBzcGFjZSwgdXNlcjogdXNlcklkfSk7XG5cdFx0cmV0dXJuIHNwYWNlVXNlclNpZ25cblxuXHRpbWFnZVVSTDogKHVzZXJJZCktPlxuXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24odXNlcklkKTtcblxuXHRcdGFic29sdXRlID0gZmFsc2VcblxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0YWJzb2x1dGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuYWJzb2x1dGVcblxuXHRcdGlmIHNwYWNlVXNlclNpZ24/LnNpZ25cblx0XHRcdGlmIGFic29sdXRlXG5cdFx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuIiwiSW1hZ2VTaWduLmhlbHBlcnMgPSB7XG4gIHNwYWNlVXNlclNpZ246IGZ1bmN0aW9uKHVzZXJJZCkge1xuICAgIHZhciBzcGFjZSwgc3BhY2VVc2VyU2lnbjtcbiAgICBzcGFjZSA9IFwiXCI7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgc3BhY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3BhY2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNwYWNlID0gU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpO1xuICAgIH1cbiAgICBzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZSxcbiAgICAgIHVzZXI6IHVzZXJJZFxuICAgIH0pO1xuICAgIHJldHVybiBzcGFjZVVzZXJTaWduO1xuICB9LFxuICBpbWFnZVVSTDogZnVuY3Rpb24odXNlcklkKSB7XG4gICAgdmFyIGFic29sdXRlLCBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKHVzZXJJZCk7XG4gICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBhYnNvbHV0ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkge1xuICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvYXZhdGFycy9cIiArIHNwYWNlVXNlclNpZ24uc2lnbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCJUcmFjZXNIYW5kbGVyLmhlbHBlcnMgPVxuXHRzaG93U2lnbkltYWdlOiAoaGFuZGxlciwgaXNfZmluaXNoZWQsIGp1ZGdlKSAtPlxuXHRcdGlmICFpc19maW5pc2hlZFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0aWYgWydyZXR1cm5lZCcsICd0ZXJtaW5hdGVkJywgJ3JldHJpZXZlZCddLmluY2x1ZGVzKGp1ZGdlKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcilcblxuXHRcdGlmIHNwYWNlVXNlclNpZ24/LnNpZ25cblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0b2JqZWN0VXJsOiAob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKS0+XG5cdFx0cmV0dXJuIENyZWF0b3IuZ2V0T2JqZWN0VXJsKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCkiLCJUcmFjZXNIYW5kbGVyLmhlbHBlcnMgPSB7XG4gIHNob3dTaWduSW1hZ2U6IGZ1bmN0aW9uKGhhbmRsZXIsIGlzX2ZpbmlzaGVkLCBqdWRnZSkge1xuICAgIHZhciBzcGFjZVVzZXJTaWduO1xuICAgIGlmICghaXNfZmluaXNoZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKFsncmV0dXJuZWQnLCAndGVybWluYXRlZCcsICdyZXRyaWV2ZWQnXS5pbmNsdWRlcyhqdWRnZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgc3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcik7XG4gICAgaWYgKHNwYWNlVXNlclNpZ24gIT0gbnVsbCA/IHNwYWNlVXNlclNpZ24uc2lnbiA6IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIG9iamVjdFVybDogZnVuY3Rpb24ob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKSB7XG4gICAgcmV0dXJuIENyZWF0b3IuZ2V0T2JqZWN0VXJsKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCk7XG4gIH1cbn07XG4iLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzID1cblx0YXBwbGljYW50Q29udGV4dDogLT5cblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0ZGF0YSA9IHtcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50Jyxcblx0XHRcdGF0dHM6IHtuYW1lOiAnaW5zX2FwcGxpY2FudCcsIGlkOiAnaW5zX2FwcGxpY2FudCcsIGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCd9LFxuXHRcdFx0dmFsdWU6IHN0ZWVkb3NfaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHR9XG5cdFx0aWYgbm90IHN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCJcblx0XHRcdGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWVcblx0XHRyZXR1cm4gZGF0YTtcblxuXHRpbnN0YW5jZUlkOiAtPlxuXHRcdHJldHVybiAnaW5zdGFuY2Vmb3JtJzsjXCJpbnN0YW5jZV9cIiArIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKTtcblxuXHRmb3JtX3R5cGVzOiAtPlxuXHRcdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxuXHRcdFx0cmV0dXJuICdkaXNhYmxlZCc7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuICdtZXRob2QnO1xuXG5cdHN0ZWVkb3NfZm9ybTogLT5cblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxuXG5cdGlubmVyc3ViZm9ybUNvbnRleHQ6IChvYmopLT5cblx0XHRkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXHRcdG9ialtcInRhYmxlVmFsdWVzXCJdID0gaWYgZG9jX3ZhbHVlcyB0aGVuIGRvY192YWx1ZXNbb2JqLmNvZGVdIGVsc2UgW11cblx0XHRvYmpbXCJmb3JtSWRcIl0gPSBcImluc3RhbmNlZm9ybVwiO1xuXHRcdHJldHVybiBvYmo7XG5cblx0aW5zdGFuY2U6IC0+XG5cdFx0U2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKVxuXHRcdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXG5cdFx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0XHRyZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcblxuXHRlbXB0eTogKHZhbCkgLT5cblx0XHRpZiB2YWxcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiB0cnVlO1xuXG5cdHVuZW1wdHk6ICh2YWwpIC0+XG5cdFx0aWYgdmFsXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cblx0ZXF1YWxzOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gKGEgPT0gYilcblxuXHR1bmVxdWFsczogKGEsIGIpIC0+XG5cdFx0cmV0dXJuICEoYSA9PSBiKVxuXG5cdGluY2x1ZGVzOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuXG5cdGluY2x1ZGU6IChhLCBiKSAtPlxuXHRcdHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG5cblx0ZmllbGRzOiAtPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG5cdFx0aWYgZm9ybV92ZXJzaW9uXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuXG5cdGZvcm1hdERhdGU6IChkYXRlLCBvcHRpb25zKS0+XG5cdFx0aWYgIWRhdGVcblx0XHRcdHJldHVybiBcIlwiO1xuXHRcdGlmIG9wdGlvbnMgJiYgdHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnXG5cdFx0XHRvcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zKTtcblxuXHRcdGlmICFvcHRpb25zLmZvcm1hdFxuXHRcdFx0b3B0aW9ucyA9IHtmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwifVxuXG5cdFx0cmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xuXG5cdHRyYWNlczogLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdHN0ZWVkb3NEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8udmlldz8udGVtcGxhdGU/LnN0ZWVkb3NEYXRhXG5cdFx0XHRpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhPy5pbnN0YW5jZVxuXHRcdFx0ZmxvdyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbihpbnN0YW5jZSk7XG5cdFx0XHRsb2NhbGUgPSBzdGVlZG9zRGF0YT8ubG9jYWxlXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxuXHRcdGVsc2Vcblx0XHRcdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cblx0XHRcdGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGbG93VmVyc2lvbigpXG5cblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcblxuXHRcdGlmICFpbnN0YW5jZSB8fCAhZmxvd1xuXHRcdFx0cmV0dXJuIHt9O1xuXG5cdFx0c3RlcHMgPSBmbG93LnN0ZXBzO1xuXG5cdFx0dHJhY2VzID0ge307XG5cblx0XHRpbnN0YW5jZS50cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XG5cdFx0XHRzdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZS5zdGVwKVxuXG5cdFx0XHRhcHByb3ZlcyA9IFtdXG5cblx0XHRcdHRyYWNlLmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKSAtPlxuXHRcdFx0XHRpZiB0cmFjZS5pc19maW5pc2hlZCA9PSB0cnVlXG4jIOW3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+3XG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5qdWRnZSA9PSAnYXBwcm92ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIGFwcHJvdmVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWplY3RlZCdcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlYXNzaWduZWQnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlYXNzaWduZWRcIiwge30sIGxvY2FsZSlcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlbG9jYXRlZCdcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkXCIsIHt9LCBsb2NhbGUpXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICcnXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gXCJcIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBcIlwiXG5cblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcGVuZGluZ1wiLCB7fSwgbG9jYWxlKVxuXG5cdFx0XHRcdGFwcHJvdmVzLnB1c2hcblx0XHRcdFx0XHRfaWQ6IGFwcHJvdmUuX2lkXG5cdFx0XHRcdFx0aGFuZGxlcjogYXBwcm92ZS51c2VyXG5cdFx0XHRcdFx0aGFuZGxlcl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfbmFtZVxuXHRcdFx0XHRcdGhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVxuXHRcdFx0XHRcdGhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXG5cdFx0XHRcdFx0ZmluaXNoX2RhdGU6IGFwcHJvdmUuZmluaXNoX2RhdGVcblx0XHRcdFx0XHRqdWRnZTogYXBwcm92ZS5qdWRnZVxuXHRcdFx0XHRcdGp1ZGdlX25hbWU6IGp1ZGdlX25hbWVcblx0XHRcdFx0XHRkZXNjcmlwdGlvbjogYXBwcm92ZS5kZXNjcmlwdGlvblxuXHRcdFx0XHRcdGlzX2ZpbmlzaGVkOiBhcHByb3ZlLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0dHlwZTogYXBwcm92ZS50eXBlXG5cdFx0XHRcdFx0b3Bpbmlvbl9maWVsZHNfY29kZTogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlXG5cdFx0XHRcdFx0c2lnbl9maWVsZF9jb2RlOiBhcHByb3ZlLnNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRcdGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRcdHNpZ25fc2hvdzogYXBwcm92ZS5zaWduX3Nob3dcblxuXG5cdFx0XHRpZiBzdGVwXG5cdFx0XHRcdGlmIHN0ZXAubmFtZSBvZiB0cmFjZXNcblx0XHRcdFx0XHR0cmFjZXNbc3RlcC5uYW1lXSA9IHRyYWNlc1tzdGVwLm5hbWVdLmNvbmNhdChhcHByb3Zlcylcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRyYWNlc1tzdGVwLm5hbWVdID0gYXBwcm92ZXNcblxuXHRcdHJldHVybiB0cmFjZXM7XG5cblxuXG5cdGRvY192YWx1ZXM6IC0+XG5cdFx0V29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuXG5cdGluc3RhbmNlX2JveF9zdHlsZTogLT5cblx0XHRib3ggPSBTZXNzaW9uLmdldChcImJveFwiKVxuXHRcdGlmIGJveCA9PSBcImluYm94XCIgfHwgYm94ID09IFwiZHJhZnRcIlxuXHRcdFx0anVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpXG5cdFx0XHRpZiBqdWRnZVxuXHRcdFx0XHRpZiAoanVkZ2UgPT0gXCJhcHByb3ZlZFwiKVxuXHRcdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcblx0XHRcdFx0ZWxzZSBpZiAoanVkZ2UgPT0gXCJyZWplY3RlZFwiKVxuXHRcdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxuXHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmIGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb25cblx0XHRcdGlmIGlucy5maW5hbF9kZWNpc2lvbiA9PSBcImFwcHJvdmVkXCJcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxuXHRcdFx0ZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcblx0XHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXG5cbiNpc19kaXNhYmxlZDogLT5cbiMgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4jICAgIGlmICFpbnNcbiMgICAgICAgIHJldHVybjtcbiMgICAgaWYgaW5zLnN0YXRlIT1cImRyYWZ0XCJcbiMgICAgICAgIHJldHVybiBcImRpc2FibGVkXCI7XG4jICAgIHJldHVybjtcblxuXHR0YWJsZV9maWVsZHM6IChpbnN0YW5jZSktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcblx0XHRlbHNlXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXHRcdGlmIGZvcm1fdmVyc2lvblxuXHRcdFx0ZmllbGRzID0gXy5jbG9uZShmb3JtX3ZlcnNpb24uZmllbGRzKTtcblxuXHRcdFx0ZmllbGRzLmZvckVhY2ggKGZpZWxkLCBpbmRleCkgLT5cblx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSBcIlwiO1xuXHRcdFx0XHRmaWVsZC50cl9lbmQgPSBcIlwiO1xuXHRcdFx0XHR0ZF9jb2xzcGFuID0gMTtcbiNcdFx0XHRcdOW8uuWItuiuvue9ruagh+WktOWtl+auteS4uuWuveWtl+autVxuXHRcdFx0XHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lID09IGZpZWxkLmNvZGVcblx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZVxuXG5cdFx0XHRcdGlmIGZpZWxkLmZvcm11bGEgJiYgZmllbGQudHlwZSAhPSAnb2RhdGEnXG5cdFx0XHRcdFx0ZmllbGQucGVybWlzc2lvbiA9IFwicmVhZG9ubHlcIjtcblxuXHRcdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcbiMg5aaC5p6c5b2T5YmN5a2X5q615piv5YiG57uE44CB6KGo5qC844CB5a695a2X5q61XG5cdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gNDtcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdGlmIGluZGV4ICE9IDBcblx0XHRcdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gXCI8dHI+XCI7XG5cdFx0XHRcdFx0XHRmaWVsZC50cl9lbmQgPSBcIjwvdHI+XCI7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRwcmVfZmllbGRzID0gZmllbGRzLnNsaWNlKDAsIGluZGV4KTtcblxuXHRcdFx0XHRcdHByZV93aWRlX2ZpZWxkcyA9IHByZV9maWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuXG5cdFx0XHRcdFx0dHJfc3RhcnQgPSBcIlwiO1xuXG5cdFx0XHRcdFx0dHJfZW5kID0gXCJcIjtcblxuXHRcdFx0XHRcdCMg5YWI6K6h566X5b2T5YmN5a2X5q615piv5ZCm5Li65a695a2X5q61XG5cdFx0XHRcdFx0YmVmb3JlX2ZpZWxkID0gbnVsbDtcblx0XHRcdFx0XHRhZnRlcl9maWVsZCA9IG51bGw7XG5cblx0XHRcdFx0XHRpZiBpbmRleCA+IDBcblx0XHRcdFx0XHRcdGJlZm9yZV9maWVsZCA9IGZpZWxkc1tpbmRleCAtIDFdXG5cblx0XHRcdFx0XHRpZiBpbmRleCA8IGZpZWxkcy5sZW5ndGggLSAxXG5cdFx0XHRcdFx0XHRhZnRlcl9maWVsZCA9IGZpZWxkc1tpbmRleCArIDFdXG5cblx0XHRcdFx0XHQjIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxuXHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDQ7XG5cdFx0XHRcdFx0ZWxzZSBpZiBmaWVsZC5pc193aWRlXG5cdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblx0XHRcdFx0XHRlbHNlXG4jIOWJjeWQjumDveaYr+WuveWtl+autVxuXHRcdFx0XHRcdFx0aWYgYmVmb3JlX2ZpZWxkICYmIGFmdGVyX2ZpZWxkICYmIGJlZm9yZV9maWVsZC5pc193aWRlICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xuXG5cdFx0XHRcdFx0XHQjIOW9k+WJjeaYr3RyIOS4i+eahCDnrKzkuIDkuKp0ZCAmIOWQjui+ueeahOWtl+auteaYr+WuveWtl+autVxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZVxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dGRfY29sc3BhbiA9IDM7XG5cblx0XHRcdFx0XHRcdCMg5b2T5YmN5pivdHIg5LiL55qEIOesrOS4gOS4qnRkICYg5b2T5YmN5a2X5q615piv5pyA5ZCO5LiA5Liq5a2X5q61XG5cdFx0XHRcdFx0XHRpZiAocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT0gMCAmJiBhZnRlcl9maWVsZCA9PSBudWxsXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcblxuXHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSB0ZF9jb2xzcGFuO1xuXG5cblx0XHRcdFx0XHRpZiBpbmRleCA9PSAwXG4jIHRyX3N0YXJ0ID0gXCI8dHI+XCI7IOeUseS6jlRlbXBsYXRl55qE57yW6K+RYnVn77yM5a+86Ie05q+P5qyh57uZ5LiA5LiqdHLlvIDlp4vml7bvvIzkvJroh6rliqjooaXlpLTmiJbooaXlsL7jgILlm6DmraTlnKjnrKzkuIDooYzov5Tlm57kuIDkuKrnqbrlrZfnrKbkuLIuXG5cdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyPlwiO1xuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwIHx8IGZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0ciBjbGFzcyA9IFxcXCJ0ci1jaGlsZC10YWJsZVxcXCI+XCI7XG5cdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHR0cl9zdGFydCA9IFwiPHRyPlwiO1xuXG5cdFx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSB0cl9zdGFydDtcblxuXG5cdFx0XHRcdFx0aWYgaW5kZXggKyAxID09IGZpZWxkcy5sZW5ndGggfHwgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnIHx8IGZpZWxkLmlzX3dpZGVcblx0XHRcdFx0XHRcdHRyX2VuZCA9IFwiPC90cj5cIjtcblxuXHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiAhPSAwXG5cdFx0XHRcdFx0XHR0cl9lbmQgPSBcIjwvdHI+XCI7XG5cblx0XHRcdFx0XHRmaWVsZC50cl9lbmQgPSB0cl9lbmQ7XG5cblx0XHRcdHJldHVybiBmaWVsZHM7XG5cblx0c29ydF9hcHByb3ZlOiAoYXBwcm92ZXMsIG9yZGVyKS0+XG5cdFx0aWYgIWFwcHJvdmVzXG5cdFx0XHRyZXR1cm4gW11cblxuXHRcdGlmICFhcHByb3ZlcyBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRyZXR1cm4gW11cblx0XHRlbHNlXG5cdFx0XHRpZiBvcmRlciA9PSAnZGVzYydcblx0XHRcdFx0YXBwcm92ZXMuc29ydCAocDEsIHAyKSAtPlxuXHRcdFx0XHRcdF9wMSA9IDBcblx0XHRcdFx0XHRfcDIgPSAwXG5cblx0XHRcdFx0XHRpZiBwMS5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpXG5cblx0XHRcdFx0XHRpZiBwMi5maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0X3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuXG5cdFx0XHRcdFx0cmV0dXJuIF9wMiAtIF9wMVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3Zlcy5zb3J0IChwMSwgcDIpIC0+XG5cdFx0XHRcdFx0X3AxID0gMFxuXHRcdFx0XHRcdF9wMiA9IDBcblxuXHRcdFx0XHRcdGlmIHAxLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKClcblxuXHRcdFx0XHRcdGlmIHAyLmZpbmlzaF9kYXRlXG5cdFx0XHRcdFx0XHRfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG5cblx0XHRcdFx0XHRyZXR1cm4gX3AxIC0gX3AyXG5cdFx0cmV0dXJuIGFwcHJvdmVzXG5cblx0X3Q6IChrZXkpLT5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cdGdldEZpZWxkOiAoY29kZSktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpXG5cblx0Z2V0VmFsdWU6IChjb2RlKS0+XG5cdFx0aW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2VcblxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblxuXHRcdHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcblxuXHRcdHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fVxuXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcblxuXHRcdHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgdmFsdWVzW2NvZGVdLCBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLCBsb2NhbGUsIHV0Y09mZnNldFxuXG5cdGdldExhYmVsOiAoY29kZSktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgY29kZVxuXG5cdGdldENmQ2xhc3M6IChmaWVsZCktPlxuXHRcdGlmIGZpZWxkPy50eXBlID09IFwiaW5wdXRcIiAmJiBmaWVsZD8uaXNfdGV4dGFyZWFcblx0XHRcdHJldHVybiBcImNmVGV4dGFyZWFcIlxuXG5cdGdldFRhYmxlVGhlYWQ6IChmaWVsZCktPlxuXHRcdHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIGZhbHNlKVxuXG5cdGdldFRhYmxlQm9keTogKGZpZWxkKS0+XG5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlXG5cdFx0XHR2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge31cblx0XHRlbHNlXG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcblxuXHRcdHRhYmxlVmFsdWUgPSB2YWx1ZXNbZmllbGQuY29kZV07XG5cdFx0cmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYm9keShmaWVsZC5zZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKSwgZmllbGQsIHRhYmxlVmFsdWUsIGZhbHNlKVxuXG5cdHNob3dMYWJlbDogKGZpZWxkKS0+XG5cdFx0dGVtcGxhdGVEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhXG5cdFx0aWYgdGVtcGxhdGVEYXRhLmxhYmVsID09IGZhbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRyZXR1cm4gdHJ1ZVxuXG4jXHRhZkZpZWxkTGFiZWxUZXh0OiAob3ApLT5cbiNcdFx0aWYgIVRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YVxuI1x0XHRcdHJldHVybiBBdXRvRm9ybS5nZXRMYWJlbEZvckZpZWxkKG9wLm5hbWUpXG4jXHRcdGVsc2VcbiNcdFx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXG4jXHRcdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIG9wPy5oYXNoPy5uYW1lXG5cblx0aXNPcGluaW9uRmllbGQ6IChmaWVsZCktPlxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkLmZvcm11bGEpXG5cblx0aXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmc6IChmaWVsZF9mb3JtdWxhKS0+XG5cdFx0cmV0dXJuIEluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblxuXHRpbmNsdWRlc09waW5pb25GaWVsZDogKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxuXG5cdFx0ZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcblxuXHRcdGZpZWxkcyA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KT8uZmllbGRzIHx8IFtdXG5cblx0XHRmaWVsZHMuZm9yRWFjaCAoZiktPlxuXHRcdFx0aWYgZi50eXBlID09ICd0YWJsZSdcblx0XHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xuXHRcdFx0ZWxzZSBpZiBmLnR5cGUgPT0gJ3NlY3Rpb24nXG5cdFx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cblx0XHRcdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYxLmZvcm11bGFcblx0XHRcdGVsc2Vcblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmLmZvcm11bGFcblxuXHRcdF8uc29tZSBmaWVsZF9mb3JtdWxhcywgKGZpZWxkX2Zvcm11bGEpLT5cblx0XHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXG5cblx0Z2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lOiAoZmllbGRfZm9ybXVsYSwgdG9wX2tleXdvcmRzKS0+XG5cblx0XHRvcGluaW9uRmllbGRzID0gbmV3IEFycmF5KCk7XG4jXHRcdGNvbnNvbGUubG9nKFwiZmllbGRfZm9ybXVsYVwiLCBmaWVsZF9mb3JtdWxhKVxuXHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcblx0XHRcdGlmIGZpZWxkX2Zvcm11bGFcblxuI1x0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCIsXCIpXG5cdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKVxuXG4jXHRcdFx0XHRpZiB0b3Bfa2V5d29yZHNcbiNcdFx0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpXG5cblx0XHRcdFx0Zm9vMS5mb3JFYWNoIChmb28pLT5cblx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSB7fVxuXG5cdFx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0XHRqc29uX2Zvcm11bGEgPSBldmFsKFwiKFwiICsgZm9vICsgXCIpXCIpXG5cdFx0XHRcdFx0Y2F0Y2hcblx0XHRcdFx0XHRcdGpzb25fZm9ybXVsYSA9IHt9XG5cblx0XHRcdFx0XHRpZiBqc29uX2Zvcm11bGE/LnlpamlhbmxhblxuXHRcdFx0XHRcdFx0c2YgPSB7fVxuXG5cdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uc3RlcFxuXG5cdFx0XHRcdFx0XHRzZi5pbWFnZV9zaWduID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5pbWFnZV9zaWduIHx8IGZhbHNlXG5cblx0XHRcdFx0XHRcdHNmLm9ubHlfY2Nfb3BpbmlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9jYyB8fCBmYWxzZVxuXG5cdFx0XHRcdFx0XHRzZi5kZWZhdWx0X2Rlc2NyaXB0aW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5kZWZhdWx0XG5cblx0XHRcdFx0XHRcdHNmLm9ubHlfaGFuZGxlciA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9oYW5kbGVyXG5cblx0XHRcdFx0XHRcdHNmLnRvcF9rZXl3b3JkcyA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4udG9wX2tleXdvcmRzIHx8IHRvcF9rZXl3b3Jkc1xuXG5cdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLnB1c2goc2YpO1xuXG5cdFx0XHRcdFx0ZWxzZSBpZihmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTEpXG5cblx0XHRcdFx0XHRcdHNmID0ge29ubHlfY2Nfb3BpbmlvbjogZmFsc2UsIGltYWdlX3NpZ246IGZhbHNlLCB0b3Bfa2V5d29yZHM6IHRvcF9rZXl3b3Jkc31cblxuXHRcdFx0XHRcdFx0aWYgZm9vLmluZGV4T2YoXCJ7c2lnbmF0dXJlLlwiKSA+IC0xXG5cdFx0XHRcdFx0XHRcdHNmLmltYWdlX3NpZ24gPSB0cnVlXG5cdFx0XHRcdFx0XHRcdGZvbyA9IGZvby5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIixcIlwiKTtcblxuXHRcdFx0XHRcdFx0czEgPSBmb28ucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXG5cdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMVxuXHRcdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IHMxLnNwbGl0KFwiLlwiKVsxXVxuXHRcdFx0XHRcdFx0XHRpZiBvcGluaW9uRmllbGRzLmZpbHRlclByb3BlcnR5KFwic3RlcE5hbWVcIixzZi5zdGVwTmFtZSkubGVuZ3RoID4gMFxuXHRcdFx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKT8ub25seV9jY19vcGluaW9uID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKVsyXT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnY2MnXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcblx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMucHVzaChzZik7XG5cblx0XHRyZXR1cm4gb3BpbmlvbkZpZWxkc1xuXG5cdHNob3dDQ09waW5pb246IChmaWVsZCktPlxuXHRcdGlmIGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMVxuXHRcdFx0czEgPSBmaWVsZC5mb3JtdWxhLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLFwiXCIpLnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxuXHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDJcblx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpWzJdPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdjYydcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdHJldHVybiBmYWxzZVxuXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cblx0XHRpZiBtYXJrRG93blN0cmluZ1xuXHRcdFx0IyByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuXHRcdFx0IyByZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHQjIFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZShtYXJrRG93blN0cmluZykpXG5cblx0Zl9sYWJlbDogKHRoYXQpLT5cblx0XHRyZXR1cm4gdGhhdC5uYW1lIHx8IHRoYXQuY29kZVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSAtPlxuXHRcdHJldHVybiB0aGlzLmZvcm1fdmVyc2lvblxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gKGNvZGUpLT5cblx0XHRmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvblxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT0gJ3NlY3Rpb24nXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5kb2NfdmFsdWVzID0gLT5cblx0XHRpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG5cdFx0cmV0dXJuIGluc3RhbmNlLnZhbHVlcztcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSAtPlxuXHRcdGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcblx0XHRkYXRhID0ge1xuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxuXHRcdFx0YXR0czoge25hbWU6ICdpbnNfYXBwbGljYW50JywgaWQ6ICdpbnNfYXBwbGljYW50JywgY2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J30sXG5cdFx0XHR2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcblx0XHR9XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSA9IC0+XG5cdFx0cmV0dXJuIHRoaXMuaW5zdGFuY2VcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZpZWxkcyA9IC0+XG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cblx0XHRpZiBmb3JtX3ZlcnNpb25cblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gLT5cblx0XHRyZXR1cm4gXCJkaXNhYmxlZFwiXG5cblx0VGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIgXCJhZkZpZWxkTGFiZWxUZXh0XCIsIChvcCktPlxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcblxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxuXHRcdGxvY2FsZSA9IHRoaXMubG9jYWxlXG5cblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnNfYXR0YWNoX2Rvd25sb2FkX3VybCA9IChfaWQsIGFic29sdXRlKS0+XG5cdFx0aWYgYWJzb2x1dGVcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiKTtcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiO1xuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMub3B0aW9ucyA9IChmaWVsZCktPlxuXHRcdG9wdGlvbnMgPSBmaWVsZD8ub3B0aW9ucz8uc3BsaXQoXCJcXG5cIilcblx0XHRyZXYgPSBbXVxuXHRcdG9wdGlvbnM/LmZvckVhY2ggKGl0ZW0pLT5cblx0XHRcdHJldi5wdXNoKHtsYWJlbDogaXRlbSwgdmFsdWU6IGl0ZW19KVxuXG5cdFx0cmV0dXJuIHJldlxuXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSAoY29kZSktPlxuXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHM/LmluY2x1ZGVzKGNvZGUpXG5cdFx0XHRyZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiXG5cdFx0cmV0dXJuIFwiXCJcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID1cblx0J2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogKGV2ZW50KS0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCd0eXBlYWhlYWQ6Y2hhbmdlIC5mb3JtLWNvbnRyb2wnOiAoZXZlbnQpIC0+XG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxuXG5cdCdjbGljayAuY2ZUZXh0YXJlYSBhJzogKGV2ZW50KS0+XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRTdGVlZG9zLm9wZW5XaW5kb3coZXZlbnQudGFyZ2V0LmhyZWYpO1xuXG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9ICgpLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlKTtcblxuXHR0cnlcblx0XHRjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUubG9nIFwiSW5zdGFuY2UgVGVtcGxhdGUgRXJyb3JcIiwgZVxuXHRcdGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7aXNCb2R5OiB0cnVlfSk7XG5cblxuXHRyZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuXG5cdGluc3RhbmNlVmlldyA9IG5ldyBCbGF6ZS5WaWV3KFwiY3VzdG9tX2luc3RhbmNlX3RlbXBsYXRlXCIsIHJlbmRlckZ1bmN0aW9uKTtcblxuXHRpbnN0YW5jZUN1c3RvbVRlbXBsYXRlID0gbmV3IEJsYXplLlRlbXBsYXRlKGluc3RhbmNlVmlldy5uYW1lLCByZW5kZXJGdW5jdGlvbik7XG5cblx0VGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZVxuXG5cdFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcblxuXG5cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9ICgpLT5cblx0IyB0ID0gdGhpcztcblxuXHQjdC5zdWJzY3JpYmUgXCJpbnN0YW5jZV9kYXRhXCIsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgLT5cblx0IyAgICBUcmFja2VyLmFmdGVyRmx1c2ggLT5cblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0aWYgIWluc3RhbmNlXG5cdFx0cmV0dXJuO1xuXG5cdCMkKFwiI2luc19hcHBsaWNhbnRcIikuc2VsZWN0MigpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuXHQkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdPy5kYXRhc2V0LnZhbHVlcyA9IGluc3RhbmNlLmFwcGxpY2FudDtcblx0JChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpXG5cblxuXHRBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtuZXh0U3RlcHM6ICcnLCBuZXh0U3RlcFVzZXJzOiAnJ307XG5cblx0IyBpbnN0YW5jZSBmcm9t57uR5a6a5LqL5Lu2XG5cdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2RyYWZ0J1xuXHRcdEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcblxuXHRpZiAhQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cblx0XHRjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuXG5cblx0XHRpbnN0YW5jZU51bWJlckZpZWxkcyA9ICQoXCJbZGF0YS1mb3JtdWxhXVwiLCAkKFwiI2luc3RhbmNlZm9ybVwiKSlcblxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2ggKCktPlxuXHRcdFx0c2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleVxuXHRcdFx0ZWxlbWVudCA9ICQodGhpcylcblx0XHRcdGlmICEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIilcblx0XHRcdFx0TWV0ZW9yLmNhbGwgJ2dldEluc3RhbmNlVmFsdWVzJywgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCAoZXJyb3IsIHJlc3VsdCktPlxuXHRcdFx0XHRcdGlmIGVycm9yXG5cdFx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKVxuXG5cdFx0XHRcdFx0aWYgIXJlc3VsdFtzY2hlbWFLZXldXG5cdFx0XHRcdFx0XHRrZXkgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpPy5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpXG5cblx0XHRcdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFwiL2csIFwiXCIpLnJlcGxhY2UoL1xcJy9nLCBcIlwiKVxuXG5cdFx0XHRcdFx0XHRpZiBrZXkuaW5kZXhPZihcIntcIikgPiAtMVxuXHRcdFx0XHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXG5cdFx0XHRcdFx0XHRcdGtleSA9IGtleS50cmltKClcblx0XHRcdFx0XHRcdFx0a2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKVxuXHRcdFx0XHRcdFx0SW5zdGFuY2VOdW1iZXJSdWxlcy5pbnN0YW5jZU51bWJlckJ1aWxkZXIgZWxlbWVudCwga2V5XG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZWxlbWVudD8udmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpXG5cblx0XHRqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlXG5cdFx0Y3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuXG5cdFx0Zm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuXHRcdGluc2VydERvYyA9IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZhbHNlKVxuXHRcdEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIGluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG5cdFx0I+WcqOatpOWkhOWIneWni+WMlnNlc3Npb24g5Lit55qEIGZvcm1fdmFsdWVzIOWPmOmHj++8jOeUqOS6juinpuWPkeS4i+S4gOatpeatpemqpOiuoeeul1xuXHRcdFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfZm9ybV92YWx1ZXNcIiwge2luc3RhbmNlSWQ6IGluc3RhbmNlLl9pZCwgdmFsdWVzOiBpbnNlcnREb2N9KTtcblxuXG5cbiIsIkluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMgPSB7XG4gIGFwcGxpY2FudENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBzdGVlZG9zX2luc3RhbmNlO1xuICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnXG4gICAgICB9LFxuICAgICAgdmFsdWU6IHN0ZWVkb3NfaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICAgIGlmICghc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuICBpbnN0YW5jZUlkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2luc3RhbmNlZm9ybSc7XG4gIH0sXG4gIGZvcm1fdHlwZXM6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21ldGhvZCc7XG4gICAgfVxuICB9LFxuICBzdGVlZG9zX2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICAgIH1cbiAgfSxcbiAgaW5uZXJzdWJmb3JtQ29udGV4dDogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGRvY192YWx1ZXM7XG4gICAgZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICBvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGRvY192YWx1ZXMgPyBkb2NfdmFsdWVzW29iai5jb2RlXSA6IFtdO1xuICAgIG9ialtcImZvcm1JZFwiXSA9IFwiaW5zdGFuY2Vmb3JtXCI7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgaW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGVlZG9zX2luc3RhbmNlO1xuICAgIFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIik7XG4gICAgaWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgcmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgfVxuICB9LFxuICBlbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBlcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSxcbiAgdW5lcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gIShhID09PSBiKTtcbiAgfSxcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBpbmNsdWRlOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH0sXG4gIGZvcm1hdERhdGU6IGZ1bmN0aW9uKGRhdGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWRhdGUpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuZm9ybWF0KSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdChvcHRpb25zLmZvcm1hdCk7XG4gIH0sXG4gIHRyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZsb3csIGluc3RhbmNlLCBsb2NhbGUsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgc3RlZWRvc0RhdGEsIHN0ZXBzLCB0cmFjZXM7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgc3RlZWRvc0RhdGEgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLnZpZXcpICE9IG51bGwgPyAocmVmMiA9IHJlZjEudGVtcGxhdGUpICE9IG51bGwgPyByZWYyLnN0ZWVkb3NEYXRhIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgaW5zdGFuY2UgPSBzdGVlZG9zRGF0YSAhPSBudWxsID8gc3RlZWRvc0RhdGEuaW5zdGFuY2UgOiB2b2lkIDA7XG4gICAgICBmbG93ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uKGluc3RhbmNlKTtcbiAgICAgIGxvY2FsZSA9IHN0ZWVkb3NEYXRhICE9IG51bGwgPyBzdGVlZG9zRGF0YS5sb2NhbGUgOiB2b2lkIDA7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZsb3dWZXJzaW9uKCk7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlIHx8ICFmbG93KSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHN0ZXBzID0gZmxvdy5zdGVwcztcbiAgICB0cmFjZXMgPSB7fTtcbiAgICBpZiAoKHJlZjMgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwpIHtcbiAgICAgIHJlZjMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgYXBwcm92ZXMsIHJlZjQsIHN0ZXA7XG4gICAgICAgIHN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlLnN0ZXApO1xuICAgICAgICBhcHByb3ZlcyA9IFtdO1xuICAgICAgICBpZiAoKHJlZjQgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCkge1xuICAgICAgICAgIHJlZjQuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICB2YXIganVkZ2VfbmFtZTtcbiAgICAgICAgICAgIGlmICh0cmFjZS5pc19maW5pc2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ2FwcHJvdmVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgYXBwcm92ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlamVjdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWFzc2lnbmVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVhc3NpZ25lZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVsb2NhdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcGVuZGluZ1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcHByb3Zlcy5wdXNoKHtcbiAgICAgICAgICAgICAgX2lkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICAgICAgaGFuZGxlcjogYXBwcm92ZS51c2VyLFxuICAgICAgICAgICAgICBoYW5kbGVyX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9uYW1lLFxuICAgICAgICAgICAgICBoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUsXG4gICAgICAgICAgICAgIGhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lLFxuICAgICAgICAgICAgICBmaW5pc2hfZGF0ZTogYXBwcm92ZS5maW5pc2hfZGF0ZSxcbiAgICAgICAgICAgICAganVkZ2U6IGFwcHJvdmUuanVkZ2UsXG4gICAgICAgICAgICAgIGp1ZGdlX25hbWU6IGp1ZGdlX25hbWUsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhcHByb3ZlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICBpc19maW5pc2hlZDogYXBwcm92ZS5pc19maW5pc2hlZCxcbiAgICAgICAgICAgICAgdHlwZTogYXBwcm92ZS50eXBlLFxuICAgICAgICAgICAgICBvcGluaW9uX2ZpZWxkc19jb2RlOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUsXG4gICAgICAgICAgICAgIHNpZ25fZmllbGRfY29kZTogYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUsXG4gICAgICAgICAgICAgIGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcbiAgICAgICAgICAgICAgc2lnbl9zaG93OiBhcHByb3ZlLnNpZ25fc2hvd1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ZXApIHtcbiAgICAgICAgICBpZiAoc3RlcC5uYW1lIGluIHRyYWNlcykge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlc1tzdGVwLm5hbWVdID0gdHJhY2VzW3N0ZXAubmFtZV0uY29uY2F0KGFwcHJvdmVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlc1tzdGVwLm5hbWVdID0gYXBwcm92ZXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYWNlcztcbiAgfSxcbiAgZG9jX3ZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgfSxcbiAgaW5zdGFuY2VfYm94X3N0eWxlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm94LCBpbnMsIGp1ZGdlO1xuICAgIGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpO1xuICAgIGlmIChib3ggPT09IFwiaW5ib3hcIiB8fCBib3ggPT09IFwiZHJhZnRcIikge1xuICAgICAganVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpO1xuICAgICAgaWYgKGp1ZGdlKSB7XG4gICAgICAgIGlmIChqdWRnZSA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgICAgfSBlbHNlIGlmIChqdWRnZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgICBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdGFibGVfZmllbGRzOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBmaWVsZHMsIGZvcm1fdmVyc2lvbjtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgICB9XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgZmllbGRzID0gXy5jbG9uZShmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkLCBpbmRleCkge1xuICAgICAgICB2YXIgYWZ0ZXJfZmllbGQsIGJlZm9yZV9maWVsZCwgcHJlX2ZpZWxkcywgcHJlX3dpZGVfZmllbGRzLCB0ZF9jb2xzcGFuLCB0cl9lbmQsIHRyX3N0YXJ0O1xuICAgICAgICBmaWVsZC50cl9zdGFydCA9IFwiXCI7XG4gICAgICAgIGZpZWxkLnRyX2VuZCA9IFwiXCI7XG4gICAgICAgIHRkX2NvbHNwYW4gPSAxO1xuICAgICAgICBpZiAoKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgPT09IGZpZWxkLmNvZGUpIHtcbiAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQuZm9ybXVsYSAmJiBmaWVsZC50eXBlICE9PSAnb2RhdGEnKSB7XG4gICAgICAgICAgZmllbGQucGVybWlzc2lvbiA9IFwicmVhZG9ubHlcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgZmllbGQudHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC50cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZV9maWVsZHMgPSBmaWVsZHMuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgIHByZV93aWRlX2ZpZWxkcyA9IHByZV9maWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuICAgICAgICAgIHRyX3N0YXJ0ID0gXCJcIjtcbiAgICAgICAgICB0cl9lbmQgPSBcIlwiO1xuICAgICAgICAgIGJlZm9yZV9maWVsZCA9IG51bGw7XG4gICAgICAgICAgYWZ0ZXJfZmllbGQgPSBudWxsO1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIGJlZm9yZV9maWVsZCA9IGZpZWxkc1tpbmRleCAtIDFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggPCBmaWVsZHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgYWZ0ZXJfZmllbGQgPSBmaWVsZHNbaW5kZXggKyAxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICB0ZF9jb2xzcGFuID0gNDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlX2ZpZWxkICYmIGFmdGVyX2ZpZWxkICYmIGJlZm9yZV9maWVsZC5pc193aWRlICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCAmJiBhZnRlcl9maWVsZCAmJiBhZnRlcl9maWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgJiYgYWZ0ZXJfZmllbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gdGRfY29sc3BhbjtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgfHwgZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHIgY2xhc3MgPSBcXFwidHItY2hpbGQtdGFibGVcXFwiPlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGQudHJfc3RhcnQgPSB0cl9zdGFydDtcbiAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBmaWVsZHMubGVuZ3RoIHx8IGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnIHx8IGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgIHRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmllbGQudHJfZW5kID0gdHJfZW5kO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuICB9LFxuICBzb3J0X2FwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmVzLCBvcmRlcikge1xuICAgIGlmICghYXBwcm92ZXMpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCFhcHByb3ZlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcmRlciA9PT0gJ2Rlc2MnKSB7XG4gICAgICAgIGFwcHJvdmVzLnNvcnQoZnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgICAgICAgdmFyIF9wMSwgX3AyO1xuICAgICAgICAgIF9wMSA9IDA7XG4gICAgICAgICAgX3AyID0gMDtcbiAgICAgICAgICBpZiAocDEuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHAyLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcDIgLSBfcDE7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwcm92ZXMuc29ydChmdW5jdGlvbihwMSwgcDIpIHtcbiAgICAgICAgICB2YXIgX3AxLCBfcDI7XG4gICAgICAgICAgX3AxID0gMDtcbiAgICAgICAgICBfcDIgPSAwO1xuICAgICAgICAgIGlmIChwMS5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocDIuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9wMSAtIF9wMjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlcztcbiAgfSxcbiAgX3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gIH0sXG4gIGdldEZpZWxkOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpO1xuICAgIH1cbiAgfSxcbiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uLCBpbnN0YW5jZSwgbG9jYWxlLCB1dGNPZmZzZXQsIHZhbHVlcztcbiAgICBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldDtcbiAgICB2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge307XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIH1cbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlKHZhbHVlc1tjb2RlXSwgZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKSwgbG9jYWxlLCB1dGNPZmZzZXQpO1xuICB9LFxuICBnZXRMYWJlbDogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsKGZvcm1fdmVyc2lvbi5maWVsZHMsIGNvZGUpO1xuICB9LFxuICBnZXRDZkNsYXNzOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmICgoZmllbGQgIT0gbnVsbCA/IGZpZWxkLnR5cGUgOiB2b2lkIDApID09PSBcImlucHV0XCIgJiYgKGZpZWxkICE9IG51bGwgPyBmaWVsZC5pc190ZXh0YXJlYSA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBcImNmVGV4dGFyZWFcIjtcbiAgICB9XG4gIH0sXG4gIGdldFRhYmxlVGhlYWQ6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgZmFsc2UpO1xuICB9LFxuICBnZXRUYWJsZUJvZHk6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIGluc3RhbmNlLCB0YWJsZVZhbHVlLCB2YWx1ZXM7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG4gICAgICB2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge307XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICB9XG4gICAgdGFibGVWYWx1ZSA9IHZhbHVlc1tmaWVsZC5jb2RlXTtcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRib2R5KGZpZWxkLnNmaWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpLCBmaWVsZCwgdGFibGVWYWx1ZSwgZmFsc2UpO1xuICB9LFxuICBzaG93TGFiZWw6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHRlbXBsYXRlRGF0YTtcbiAgICB0ZW1wbGF0ZURhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGE7XG4gICAgaWYgKHRlbXBsYXRlRGF0YS5sYWJlbCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGlzT3BpbmlvbkZpZWxkOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkLmZvcm11bGEpO1xuICB9LFxuICBpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZzogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICAgIHJldHVybiBJbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICB9LFxuICBpbmNsdWRlc09waW5pb25GaWVsZDogZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gICAgdmFyIGZpZWxkX2Zvcm11bGFzLCBmaWVsZHMsIHJlZjtcbiAgICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICAgIGZpZWxkcyA9ICgocmVmID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybV92ZXJzaW9uLFxuICAgICAgZm9ybTogZm9ybVxuICAgIH0pKSAhPSBudWxsID8gcmVmLmZpZWxkcyA6IHZvaWQgMCkgfHwgW107XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgdmFyIHJlZjE7XG4gICAgICBpZiAoZi50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGYgIT0gbnVsbCA/IChyZWYxID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYxLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICAgIH0pO1xuICB9LFxuICBnZXRPcGluaW9uRmllbGRTdGVwc05hbWU6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHRvcF9rZXl3b3Jkcykge1xuICAgIHZhciBmb28xLCBvcGluaW9uRmllbGRzO1xuICAgIG9waW5pb25GaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKSkge1xuICAgICAgaWYgKGZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpO1xuICAgICAgICBmb28xLmZvckVhY2goZnVuY3Rpb24oZm9vKSB7XG4gICAgICAgICAgdmFyIGpzb25fZm9ybXVsYSwgcmVmLCByZWYxLCBzMSwgc2Y7XG4gICAgICAgICAganNvbl9mb3JtdWxhID0ge307XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGpzb25fZm9ybXVsYSA9IGV2YWwoXCIoXCIgKyBmb28gKyBcIilcIik7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgICAgICAgICBqc29uX2Zvcm11bGEgPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGpzb25fZm9ybXVsYSAhPSBudWxsID8ganNvbl9mb3JtdWxhLnlpamlhbmxhbiA6IHZvaWQgMCkge1xuICAgICAgICAgICAgc2YgPSB7fTtcbiAgICAgICAgICAgIHNmLnN0ZXBOYW1lID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5zdGVwO1xuICAgICAgICAgICAgc2YuaW1hZ2Vfc2lnbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uaW1hZ2Vfc2lnbiB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNmLm9ubHlfY2Nfb3BpbmlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9jYyB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNmLmRlZmF1bHRfZGVzY3JpcHRpb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgICAgIHNmLm9ubHlfaGFuZGxlciA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9oYW5kbGVyO1xuICAgICAgICAgICAgc2YudG9wX2tleXdvcmRzID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi50b3Bfa2V5d29yZHMgfHwgdG9wX2tleXdvcmRzO1xuICAgICAgICAgICAgcmV0dXJuIG9waW5pb25GaWVsZHMucHVzaChzZik7XG4gICAgICAgICAgfSBlbHNlIGlmICgoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSkge1xuICAgICAgICAgICAgc2YgPSB7XG4gICAgICAgICAgICAgIG9ubHlfY2Nfb3BpbmlvbjogZmFsc2UsXG4gICAgICAgICAgICAgIGltYWdlX3NpZ246IGZhbHNlLFxuICAgICAgICAgICAgICB0b3Bfa2V5d29yZHM6IHRvcF9rZXl3b3Jkc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmb28uaW5kZXhPZihcIntzaWduYXR1cmUuXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgc2YuaW1hZ2Vfc2lnbiA9IHRydWU7XG4gICAgICAgICAgICAgIGZvbyA9IGZvby5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIiwgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzMSA9IGZvby5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBzZi5zdGVwTmFtZSA9IHMxLnNwbGl0KFwiLlwiKVsxXTtcbiAgICAgICAgICAgICAgaWYgKG9waW5pb25GaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICgocmVmID0gb3BpbmlvbkZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICByZWYub25seV9jY19vcGluaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKChyZWYxID0gczEuc3BsaXQoXCIuXCIpWzJdKSAhPSBudWxsID8gcmVmMS50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwKSA9PT0gJ2NjJykge1xuICAgICAgICAgICAgICAgICAgICBzZi5vbmx5X2NjX29waW5pb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9waW5pb25GaWVsZHMucHVzaChzZik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9waW5pb25GaWVsZHM7XG4gIH0sXG4gIHNob3dDQ09waW5pb246IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHJlZiwgcmVmMSwgcmVmMiwgczE7XG4gICAgaWYgKCgocmVmID0gZmllbGQuZm9ybXVsYSkgIT0gbnVsbCA/IHJlZi5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKChyZWYxID0gZmllbGQuZm9ybXVsYSkgIT0gbnVsbCA/IHJlZjEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSkge1xuICAgICAgczEgPSBmaWVsZC5mb3JtdWxhLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLCBcIlwiKS5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMikge1xuICAgICAgICBpZiAoKChyZWYyID0gczEuc3BsaXQoXCIuXCIpWzJdKSAhPSBudWxsID8gcmVmMi50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwKSA9PT0gJ2NjJykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcobWFya2VkLnBhcnNlKG1hcmtEb3duU3RyaW5nKSk7XG4gICAgfVxuICB9LFxuICBmX2xhYmVsOiBmdW5jdGlvbih0aGF0KSB7XG4gICAgcmV0dXJuIHRoYXQubmFtZSB8fCB0aGF0LmNvZGU7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtX3ZlcnNpb247XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSkudHlwZSA9PT0gJ3NlY3Rpb24nO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmRvY192YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuICAgIHJldHVybiBpbnN0YW5jZS52YWx1ZXM7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuYXBwbGljYW50Q29udGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG4gICAgcmV0dXJuIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCdcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZmllbGRzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiZGlzYWJsZWRcIjtcbiAgfTtcbiAgVGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIoXCJhZkZpZWxkTGFiZWxUZXh0XCIsIGZ1bmN0aW9uKG9wKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbiwgcmVmO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRMYWJlbChmb3JtX3ZlcnNpb24uZmllbGRzLCBvcCAhPSBudWxsID8gKHJlZiA9IG9wLmhhc2gpICE9IG51bGwgPyByZWYubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIH0pO1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSB0aGlzLmxvY2FsZTtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc19hdHRhY2hfZG93bmxvYWRfdXJsID0gZnVuY3Rpb24oX2lkLCBhYnNvbHV0ZSkge1xuICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyBfaWQgKyBcIj9kb3dubG9hZD10cnVlXCI7XG4gICAgfVxuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLm9wdGlvbnMgPSBmdW5jdGlvbihmaWVsZCkge1xuICAgIHZhciBvcHRpb25zLCByZWYsIHJldjtcbiAgICBvcHRpb25zID0gZmllbGQgIT0gbnVsbCA/IChyZWYgPSBmaWVsZC5vcHRpb25zKSAhPSBudWxsID8gcmVmLnNwbGl0KFwiXFxuXCIpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHJldiA9IFtdO1xuICAgIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICAgIG9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgIHJldHVybiByZXYucHVzaCh7XG4gICAgICAgICAgbGFiZWw6IGl0ZW0sXG4gICAgICAgICAgdmFsdWU6IGl0ZW1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmICghKChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY29kZSkgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gXCJyZWFkb25seSBkaXNhYmxlZFwiO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfTtcbn1cblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUuZXZlbnRzID0ge1xuICAnY2hhbmdlIC5mb3JtLWNvbnRyb2wsLmNoZWNrYm94IGlucHV0LC5hZi1yYWRpby1ncm91cCBpbnB1dCwuYWYtY2hlY2tib3gtZ3JvdXAgaW5wdXQnOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpO1xuICB9LFxuICAndHlwZWFoZWFkOmNoYW5nZSAuZm9ybS1jb250cm9sJzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgJ2NsaWNrIC5jZlRleHRhcmVhIGEnOiBmdW5jdGlvbihldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgcmV0dXJuIFN0ZWVkb3Mub3BlbldpbmRvdyhldmVudC50YXJnZXQuaHJlZik7XG4gIH1cbn07XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uQ3JlYXRlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY29tcGlsZWQsIGUsIGluc3RhbmNlLCBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlLCBpbnN0YW5jZVZpZXcsIHJlbmRlckZ1bmN0aW9uLCB0ZW1wbGF0ZTtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICB0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSk7XG4gIHRyeSB7XG4gICAgY29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRlbXBsYXRlLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgZSA9IGVycm9yMTtcbiAgICBjb25zb2xlLmxvZyhcIkluc3RhbmNlIFRlbXBsYXRlIEVycm9yXCIsIGUpO1xuICAgIGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7XG4gICAgICBpc0JvZHk6IHRydWVcbiAgICB9KTtcbiAgfVxuICByZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xuICBpbnN0YW5jZVZpZXcgPSBuZXcgQmxhemUuVmlldyhcImN1c3RvbV9pbnN0YW5jZV90ZW1wbGF0ZVwiLCByZW5kZXJGdW5jdGlvbik7XG4gIGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUgPSBuZXcgQmxhemUuVGVtcGxhdGUoaW5zdGFuY2VWaWV3Lm5hbWUsIHJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25SZW5kZXJlZCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgY3VycmVudEFwcHJvdmUsIGN1cnJlbnRTdGVwLCBmb3JtX3ZlcnNpb24sIGZvcm11bGFfZmllbGRzLCBpbnNlcnREb2MsIGluc3RhbmNlLCBpbnN0YW5jZU51bWJlckZpZWxkcywganVkZ2UsIHJlZjtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoKHJlZiA9ICQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIilbMF0pICE9IG51bGwpIHtcbiAgICByZWYuZGF0YXNldC52YWx1ZXMgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gIH1cbiAgJChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpO1xuICBBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtcbiAgICBuZXh0U3RlcHM6ICcnLFxuICAgIG5leHRTdGVwVXNlcnM6ICcnXG4gIH07XG4gIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2RyYWZ0Jykge1xuICAgIEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcbiAgfVxuICBpZiAoIUFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgIGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgaW5zdGFuY2VOdW1iZXJGaWVsZHMgPSAkKFwiW2RhdGEtZm9ybXVsYV1cIiwgJChcIiNpbnN0YW5jZWZvcm1cIikpO1xuICAgIGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWxlbWVudCwgc2NoZW1hS2V5O1xuICAgICAgc2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleTtcbiAgICAgIGVsZW1lbnQgPSAkKHRoaXMpO1xuICAgICAgaWYgKCEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5jYWxsKCdnZXRJbnN0YW5jZVZhbHVlcycsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgIHZhciBrZXksIHJlZjE7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFyZXN1bHRbc2NoZW1hS2V5XSkge1xuICAgICAgICAgICAga2V5ID0gKHJlZjEgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpKSAhPSBudWxsID8gcmVmMS5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpIDogdm9pZCAwO1xuICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1xcXCIvZywgXCJcIikucmVwbGFjZSgvXFwnL2csIFwiXCIpO1xuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKFwie1wiKSA+IC0xKSB7XG4gICAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgICAgICAgICAga2V5ID0ga2V5LnRyaW0oKTtcbiAgICAgICAgICAgICAga2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBJbnN0YW5jZU51bWJlclJ1bGVzLmluc3RhbmNlTnVtYmVyQnVpbGRlcihlbGVtZW50LCBrZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC52YWwocmVzdWx0W3NjaGVtYUtleV0pLnRyaWdnZXIoXCJjaGFuZ2VcIikgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlO1xuICAgIGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBmb3JtdWxhX2ZpZWxkcyA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgaW5zZXJ0RG9jID0gQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiLCB2b2lkIDAsIHZvaWQgMCwgZmFsc2UpO1xuICAgIEZvcm1fZm9ybXVsYS5ydW4oXCJcIiwgXCJcIiwgZm9ybXVsYV9maWVsZHMsIGluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgcmV0dXJuIFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfZm9ybV92YWx1ZXNcIiwge1xuICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2UuX2lkLFxuICAgICAgdmFsdWVzOiBpbnNlcnREb2NcbiAgICB9KTtcbiAgfVxufTtcbiIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMgPSB7XG5cblx0c2hvd01haW5UaXRsZTogZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkud29ya2Zsb3dNYWluQXR0YWNoVGl0bGUuZ2V0KCk7XG5cdH0sXG5cdGVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRpZiAoU2Vzc2lvbiAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImRyYWZ0XCIgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJpbmJveFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHQvLyDlt7Lnu4/nu5PmnZ/nmoTljZXlrZDkuI3og73mlLnpmYTku7Zcblx0XHRpZiAoaW5zLnN0YXRlID09IFwiY29tcGxldGVkXCIpIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcblxuXHRcdGlmICghY3VycmVudF9zdGVwKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXG5cdFx0Ly8g5YiG5Y+R55qE5q2j5paH5oiW6ICF6ZmE5Lu25LiN5pi+56S66L2s5Li6cGRm5oyJ6ZKuXG5cdFx0Ly8g5aaC5p6c5pyJ5q2j5paH5p2D6ZmQ5YiZ5Li65q2j5paH77yM5ZCm5YiZ5YiG5Y+R5Li66ZmE5Lu2XG5cdFx0Ly8g5YiG5Y+R55qE6ZmE5Lu25LiN5YWB6K645L+u5pS5IOWIoOmZpCDmlrDlop7niYjmnKxcblx0XHR2YXIgbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLl9pZCxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdH0pLmNvdW50KCk7XG5cblx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA9IDA7XG5cblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XG5cdFx0XHRpZiAoc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCkge1xuXHRcdFx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSxcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0XHRcdH0pLmNvdW50KCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlICYmIG1haW5fYXR0YWNoX2NvdW50IDwgMSAmJiBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50IDwgMSkge1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHR9XG5cblx0XHQvLyDmraPmlofmnIDlpJrlj6rog73mnInkuIDkuKpcblx0XHRpZiAobWFpbl9hdHRhY2hfY291bnQgPj0gMSB8fCBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50ID49IDEpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyDlvIDlp4voioLngrnlubbkuJTorr7nva7kuoblj6/ku6XkuIrkvKDmraPmlofmiY3mmL7npLrkuIrkvKDmraPmlofnmoTmjInpkq5cblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG5cdFx0aWYgKGN1cnJlbnRfc3RlcCAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09IFwic3RhcnRcIiAmJiBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSlcblx0XHRcdHJldHVybiB0cnVlXG5cblx0XHRyZXR1cm4gZmFsc2Vcblx0fSxcblxuXHRlbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHR2YXIgZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KTtcblx0XHRpZiAoIWZsb3cpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXG5cdFx0Ly8g5YiG5Y+R5ZCO55qEIOmZhOS7tu+8jOS4jeWPr+S7pee8lui+kS/liKDpmaTvvIzkuZ/kuI3orqnkuIrkvKDmlrDnmoTpmYTku7YsIOa1geeoi+WIl+ihqO+8mua3u+WKoOWxnuaApyDigJjooqvliIblj5HlkI7mmK/lkKblhYHorrjkuIrkvKDpmYTku7bigJkgIzE4Mzdcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSAmJiAhZmxvdy51cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImRyYWZ0XCIgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJpbmJveFwiKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHR9XG5cblx0XHQvLyDlt7Lnu4/nu5PmnZ/nmoTljZXlrZDkuI3og73mlLnpmYTku7Zcblx0XHRpZiAoaW5zLnN0YXRlID09IFwiY29tcGxldGVkXCIpIHtcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRcdGlmIChJbnN0YW5jZU1hbmFnZXIuaXNDQyhpbnMpKSB7XG5cdFx0XHR2YXIgc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDQ1N0ZXAoKTtcblx0XHRcdGlmIChzdGVwICYmIChzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKSlcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdFx0aWYgKGN1cnJlbnRfc3RlcCAmJiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpKVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZVxuXHR9LFxuXG5cdG1haW5fYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcblxuXHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNleW5tuS4lOacieS/ruaUueato+aWh+eahOadg+mZkO+8jOWImeS8mOWFiOaYvuekuuWOn+eUs+ivt+WNleaWh+S7tlxuXHRcdHZhciBtYWluX2F0dGFjaCA9IG51bGw7XG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgJiYgc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKSB7XG5cdFx0XHRtYWluX2F0dGFjaCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsXG5cdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoIW1haW5fYXR0YWNoKSB7XG5cdFx0XHRtYWluX2F0dGFjaCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XG5cdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5faWQsXG5cdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbWFpbl9hdHRhY2g7XG5cdH0sXG5cblx0bm9ybWFsX2F0dGFjaG1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cdFx0aWYgKCFpbnMpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRcdHZhciBzZWxlY3RvciA9IHtcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzoge1xuXHRcdFx0XHQkbmU6IHRydWVcblx0XHRcdH0sXG5cdFx0fTtcblxuXHRcdHZhciBhdHRzID0gbmV3IEFycmF5KCk7XG5cblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xuXHRcdFx0Ly8g5aaC5p6c5piv6KKr5YiG5Y+R55qE55Sz6K+35Y2V77yM5YiZ5pi+56S65Y6f55Sz6K+35Y2V5paH5Lu2LCDlpoLmnpzpgInmi6nkuoblsIbljp/ooajljZXlrZjlgqjkuLrpmYTku7bkuZ/opoHmmL7npLosIOWQjOaXtuS5n+imgeaYvuekuuaWsOS4iuS8oOeahOmZhOS7tlxuXHRcdFx0dmFyIGRmaXMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRcdGRmaXMucHVzaChpbnMuX2lkKTtcblx0XHRcdHNlbGVjdG9yWydtZXRhZGF0YS5pbnN0YW5jZSddID0ge1xuXHRcdFx0XHQkaW46IGRmaXNcblx0XHRcdH07XG5cblxuXHRcdFx0c2VsZWN0b3JbXCIkb3JcIl0gPSBbe1xuXHRcdFx0XHRcIm1ldGFkYXRhLmluc3RhbmNlXCI6IGlucy5faWRcblx0XHRcdH0sIHtcblx0XHRcdFx0XCJtZXRhZGF0YS5pbnN0YW5jZVwiOiB7XG5cdFx0XHRcdFx0JGluOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuXHRcdFx0XHRcdCRuZTogdHJ1ZVxuXHRcdFx0XHR9XG5cdFx0XHR9XVxuXG5cdFx0XHQvLyDlpoLmnpzljp/nlLPor7fljZXmnInmraPmlofkvYbmmK/liIblj5HlkI7msqHmnInmraPmlofmnYPpmZDvvIzliJnljp/nlLPor7fljZXmraPmlofmmL7npLrlnKjpmYTku7bmoI9cblx0XHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xuXHRcdFx0aWYgKHN0YXJ0X3N0ZXAgJiYgc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCAhPSB0cnVlKSB7XG5cdFx0XHRcdHZhciBkaXN0cmlidXRlX21haW4gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0XHRcdCRpbjogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWUsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpZiAoZGlzdHJpYnV0ZV9tYWluKSB7XG5cdFx0XHRcdFx0dmFyIGZpcnN0VmVyc2lvbk1haW4gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoZGlzdHJpYnV0ZV9tYWluLm1ldGFkYXRhLnBhcmVudCk7XG5cdFx0XHRcdFx0ZGlzdHJpYnV0ZV9tYWluLmF0dGFjaG1lbnRVcGxvYWRlZEF0ID0gZmlyc3RWZXJzaW9uTWFpbiA/IGZpcnN0VmVyc2lvbk1haW4udXBsb2FkZWRBdCA6IGRpc3RyaWJ1dGVfbWFpbi51cGxvYWRlZEF0O1xuXHRcdFx0XHRcdGF0dHMucHVzaChkaXN0cmlidXRlX21haW4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHNlbGVjdG9yWydtZXRhZGF0YS5pbnN0YW5jZSddID0gaW5zLl9pZDtcblx0XHR9XG5cblx0XHRjZnMuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24oYykge1xuXHRcdFx0dmFyIGZpcnN0VmVyc2lvbiA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZShjLm1ldGFkYXRhLnBhcmVudCk7XG5cdFx0XHRjLmF0dGFjaG1lbnRVcGxvYWRlZEF0ID0gZmlyc3RWZXJzaW9uID8gZmlyc3RWZXJzaW9uLnVwbG9hZGVkQXQgOiBjLnVwbG9hZGVkQXQ7XG5cdFx0XHRhdHRzLnB1c2goYyk7XG5cdFx0fSlcblxuXHRcdHJldHVybiBfLnNvcnRCeShhdHRzLCAnYXR0YWNobWVudFVwbG9hZGVkQXQnKTtcblx0fSxcblxuXHRzaG93QXR0YWNobWVudHM6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRpZiAoIWlucylcblx0XHRcdHJldHVybiBmYWxzZTtcblxuXHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNle+8jOWImeaYvuekuuWOn+eUs+ivt+WNleaWh+S7tiDlkozliIblj5HlkI7nlLPor7fljZXmlofku7Zcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGlucy5faWQpO1xuXHRcdHZhciBhdHRhY2htZW50c19jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcblx0XHRcdH0sXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcblx0XHR9KS5jb3VudCgpO1xuXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGF0dGFjaG1lbnRzX2NvdW50IDwgMSlcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImluYm94XCIgfHwgYXR0YWNobWVudHNfY291bnQgPiAwKVxuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHR9LFxuXG5cdF90OiBmdW5jdGlvbihrZXkpIHtcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cdH0sXG5cblx0XzogZnVuY3Rpb24oa2V5KSB7XG5cdFx0dmFyIGxvY2FsZTtcblx0XHRpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcblx0XHR9XG5cdH0sXG5cblx0Zmxvd19maWxlczogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdHJldHVybiBjZnMuZmlsZXMuZmluZCh7ICdtZXRhZGF0YS5zcGFjZSc6IGlucy5zcGFjZSwgJ21ldGFkYXRhLm9iamVjdF9uYW1lJzogJ2Zsb3dzJywgJ21ldGFkYXRhLnJlY29yZF9pZCc6IGlucy5mbG93IH0pO1xuXHR9LFxuXG5cdGlzRHJhZnRBbmRGbG93ZmlsZXNFeGlzdDogZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmICghaW5zKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdHJldHVybiAoU2Vzc2lvbi5nZXQoJ2JveCcpID09ICdkcmFmdCcpICYmICEhY2ZzLmZpbGVzLmZpbmQoeyAnbWV0YWRhdGEuc3BhY2UnOiBpbnMuc3BhY2UsICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBpbnMuZmxvdyB9KS5jb3VudCgpO1xuXHR9XG5cblxufVxuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuX3QgPSBmdW5jdGlvbihrZXkpIHtcblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxuXHR9XG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuZW5hYmxlZF9hZGRfbWFpbl9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGZhbHNlXG5cdH07XG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIGZhbHNlXG5cdH07XG5cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5tYWluX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jb21wYWN0KFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsIGluc3RhbmNlLl9pZF0pO1xuXHRcdHZhciBhdHRhY2htZW50ID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGF0dGFjaG1lbnQ7XG5cdH07XG5cblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5ub3JtYWxfYXR0YWNobWVudHMgPSBmdW5jdGlvbigpIHtcblx0XHR2YXIgc3RlZWRvc0RhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGFcblx0XHR2YXIgaW5zdGFuY2UgPSBzdGVlZG9zRGF0YS5pbnN0YW5jZTtcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zdGFuY2UuX2lkKTtcblx0XHR2YXIgYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXG5cdFx0XHR9LFxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB7XG5cdFx0XHRcdCRuZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdCRvcjogW3tcblx0XHRcdFx0J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7XG5cdFx0XHRcdFx0JG5lOiB0cnVlXG5cdFx0XHRcdH1cblx0XHRcdH0sIHtcblx0XHRcdFx0J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLFxuXHRcdFx0XHRcIm1ldGFkYXRhLm93bmVyXCI6IHN0ZWVkb3NEYXRhLnVzZXJJZFxuXHRcdFx0fV1cblx0XHR9KS5mZXRjaCgpO1xuXG5cdFx0cmV0dXJuIGF0dGFjaG1lbnRzO1xuXHR9O1xuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuc2hvd0F0dGFjaG1lbnRzID0gZnVuY3Rpb24oKSB7XG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY2xvbmUoaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnN0YW5jZS5faWQpO1xuXG5cdFx0dmFyIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxuXHRcdH0pLmZldGNoKCk7XG5cblx0XHRpZiAoYXR0YWNobWVudHMgJiYgYXR0YWNobWVudHMubGVuZ3RoID4gMCkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuc2hvd01haW5UaXRsZSA9IGZ1bmN0aW9uKCkge1xuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNvbXBhY3QoW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSwgaW5zdGFuY2UuX2lkXSk7XG5cdFx0dmFyIG1haW5fYXR0YWNoX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xuXHRcdFx0fSxcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxuXHRcdH0pLmNvdW50KCk7XG5cblx0XHRyZXR1cm4gbWFpbl9hdHRhY2hfY291bnQgPiAwXG5cdH1cbn1cbiIsIkluc3RhbmNlU2lnblRleHQuaGVscGVycyA9XG5cdHNob3c6IChzdGVwTmFtZSktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoJ2luc3RhbmNlUHJpbnQnKVxuXHRcdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRcdGlmIEluc3RhbmNlTWFuYWdlci5pc0luYm94KClcblx0XHRcdFx0bXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKClcblx0XHRcdFx0aWYgbXlBcHByb3ZlXG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRcdFx0XHRteVRyYWNlID0gaW5zdGFuY2U/LnRyYWNlcz8uZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCBteUFwcHJvdmUudHJhY2UpXG5cdFx0XHRcdFx0cmV0dXJuIG15VHJhY2U/Lm5hbWUgPT0gc3RlcE5hbWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRkZWZhdWx0RGVzY3JpcHRpb246ICgpLT5cbiNcdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIilcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb25cblxuXHR0cmFjZXM6ICgpLT5cblx0XHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXG5cblx0dHJhY2U6IChzdGVwTmFtZSwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduLCB0b3Bfa2V5d29yZHMpLT5cblx0XHRpbnN0YW5jZSA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UoKVxuXG5cdFx0aXNfY29tcGxldGVkID0gaW5zdGFuY2U/LnN0YXRlID09IFwiY29tcGxldGVkXCJcblxuXHRcdGNvbXBsZXRlZF9kYXRlID0gaWYgaXNfY29tcGxldGVkIHRoZW4gXy5sYXN0KGluc3RhbmNlLnRyYWNlcyk/LmZpbmlzaF9kYXRlPy5nZXRUaW1lKCkgZWxzZSAwXG5cblx0XHRpZiBpc19jb21wbGV0ZWQgJiYgaW5zdGFuY2UuZmluaXNoX2RhdGVcblx0XHRcdGNvbXBsZXRlZF9kYXRlID0gaW5zdGFuY2UuZmluaXNoX2RhdGU/LmdldFRpbWUoKVxuXG5cdFx0dHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxuXG5cdFx0YXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tzdGVwTmFtZV0pXG5cblx0XHRhcHByb3ZlX3NvcnQgPSAoYXBwcm92ZXMsIHRvcF9rZXl3b3JkcyktPlxuXG4j5a+5QXBwcm92ZXPmjpLluo/vvIwg5oyJ54Wn5o+Q5Lqk5pe26Ze05o6S5YCS5bqP77yM5aaC5p6c5rKh5pyJ5o+Q5Lqk5YiZ5pi+56S65Zyo5pyA5LiK6L65XG5cdFx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLnNvcnRCeSBhcHByb3ZlcywgKGFwcHJvdmUpLT5cblx0XHRcdFx0cmV0dXJuIC0oYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKClcblxuXHRcdFx0I+mAmui/h+WFs+mUruWtl+aOkuW6j1xuXHRcdFx0aWYgdG9wX2tleXdvcmRzXG5cdFx0XHRcdHRvcF9hcHByb3ZlcyA9IG5ldyBBcnJheSgpXG5cblx0XHRcdFx0dG9wX2tleXdvcmRzLnNwbGl0KFwiLFwiKS5mb3JFYWNoIChrZXkpIC0+XG5cdFx0XHRcdFx0dG9wX2FwcHJvdmVzID0gXy51bmlvbiB0b3BfYXBwcm92ZXMsIF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgKGFwcHJvdmUpLT5cblx0XHRcdFx0XHRcdHJldHVybiBhcHByb3ZlPy5oYW5kbGVyX25hbWU/LmluZGV4T2Yoa2V5KSA+IC0xXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQjIOWvuee9rumhtuaEj+ingeaMieeFp+WkhOeQhuS6i+S7tuaOkuWAkuW6j1xuXHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBfLnNvcnRCeSB0b3BfYXBwcm92ZXMsICh0b3BfYXBwcm92ZSktPlxuXHRcdFx0XHRcdHJldHVybiAtKHRvcF9hcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKVxuXG5cdFx0XHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8udW5pb24gdG9wX2FwcHJvdmVzLCBhcHByb3Zlc19zb3J0ZWRcblx0XHRcdHJldHVybiBhcHByb3Zlc19zb3J0ZWQgfHwgW11cblxuXHRcdGFwcHJvdmVzID0gXy5maWx0ZXIgYXBwcm92ZXMsIChhKS0+XG5cdFx0XHRyZXR1cm4gYS50eXBlIGlzbnQgXCJmb3J3YXJkXCIgYW5kIGEudHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiIGFuZCBhLnR5cGUgaXNudCBcInRlcm1pbmF0ZWRcIlxuXG5cdFx0aWYgb25seV9jY19vcGluaW9uXG5cdFx0XHRhcHByb3ZlcyA9IGFwcHJvdmVzPy5maWx0ZXJQcm9wZXJ0eShcInR5cGVcIiwgXCJjY1wiKVxuXG5cdFx0YXBwcm92ZXNfc29ydGVkID0gYXBwcm92ZV9zb3J0KGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpXG5cblx0XHRhcHByb3Zlc0dyb3VwID0gXy5ncm91cEJ5KGFwcHJvdmVzLCBcImhhbmRsZXJcIik7XG5cblx0XHRoYXNOZXh0ID0gKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIC0+XG5cdFx0XHRoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl1cblx0XHRcdHJldHVybiBfLmluZGV4T2YoaGFuZGxlckFwcHJvdmVzLCBhcHByb3ZlKSArIDEgPCBoYW5kbGVyQXBwcm92ZXMubGVuZ3RoXG5cblx0XHRoYXZlRGVzY3JpcHRpb25BcHByb3ZlID0gKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIC0+XG5cdFx0XHRoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl1cblxuXHRcdFx0ZGVzY3JpcHRpb25BcHByb3ZlcyA9IF8uZmlsdGVyIGhhbmRsZXJBcHByb3ZlcywgKGEpLT5cblx0XHRcdFx0aWYgYS5kZXNjcmlwdGlvblxuXHRcdFx0XHRcdHJldHVybiB0cnVlXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0XHRpZiBkZXNjcmlwdGlvbkFwcHJvdmVzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXG5cblx0XHRhcHByb3Zlc19zb3J0ZWQuZm9yRWFjaCAoYXBwcm92ZSkgLT5cbiNcdFx0XHTmnInovpPlhaXmhI/op4Eg5oiWIOacgOaWsOS4gOadoeW5tuS4lOeUqOaIt+ayoeaciei+k+WFpei/h+aEj+ingVxuI1x0XHRcdGlmICFhcHByb3ZlLmlzX2ZpbmlzaGVkIHx8IGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApICYmICFoYXZlRGVzY3JpcHRpb25BcHByb3ZlKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApKVxuI1x0XHRcdGlmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApXG5cdFx0XHRpZiBhcHByb3ZlLnNpZ25fc2hvdyAhPSBmYWxzZSAmJiAoYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWFwcHJvdmUuZGVzY3JpcHRpb24gJiYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgJiYgIWFwcHJvdmUuaXNfZmluaXNoZWQpIHx8IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud29ya2Zsb3c/LnNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbilcblx0XHRcdFx0aWYgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHRcdGFwcHJvdmUuX2Rpc3BsYXkgPSB0cnVlXG5cblx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLmZpbHRlciBhcHByb3Zlc19zb3J0ZWQsIChhKSAtPlxuXHRcdFx0aWYgaXNfY29tcGxldGVkXG5cdFx0XHRcdHJldHVybiBhLl9kaXNwbGF5ID09IHRydWUgJiYgYS5pc19maW5pc2hlZCAmJiBhLmZpbmlzaF9kYXRlPy5nZXRUaW1lKCkgPD0gY29tcGxldGVkX2RhdGVcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIGEuX2Rpc3BsYXkgPT0gdHJ1ZVxuXHRcdHJldHVybiBhcHByb3Zlc19zb3J0ZWRcblxuXHRpbmNsdWRlOiAoYSwgYikgLT5cblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlKGEsIGIpXG5cblx0dW5lbXB0eTogKHZhbCktPlxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnVuZW1wdHkodmFsKSB8fCBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndvcmtmbG93Py5zaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb25cblxuXHRmb3JtYXREYXRlOiAoZGF0ZSwgb3B0aW9ucyktPlxuXHRcdGlmICFvcHRpb25zXG5cdFx0XHRvcHRpb25zID0ge1wiZm9ybWF0XCI6IFwiWVlZWS1NTS1ERFwifVxuXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKVxuXG5cdGlzTXlBcHByb3ZlOiAoYXBwcm92ZSwgb25seV9jY19vcGluaW9uKSAtPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cblx0XHRcdGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKClcblxuXHRcdFx0aWYgIWFwcHJvdmU/Ll9pZFxuXHRcdFx0XHRhcHByb3ZlID0gY3VycmVudEFwcHJvdmVcblxuXHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gY3VycmVudEFwcHJvdmU/Ll9pZCAmJiBjdXJyZW50QXBwcm92ZT8udHlwZSA9PSAnY2MnICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lXG5cdFx0XHRcdGlmIF8uaW5kZXhPZihjdXJyZW50QXBwcm92ZT8ub3Bpbmlvbl9maWVsZHNfY29kZSwgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpID4gLTFcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cblx0XHRcdGlmICEoY3VycmVudEFwcHJvdmU/LnR5cGUgPT0gJ2NjJykgJiYgb25seV9jY19vcGluaW9uXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0XHRpZiBjdXJyZW50QXBwcm92ZSAmJiBhcHByb3ZlLl9pZCA9PSBjdXJyZW50QXBwcm92ZS5faWRcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXG5cdFx0XHRcdGlmIG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0aWYgIW15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXG5cdFx0XHRcdFx0XHRpZiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXG5cdFx0XHRcdFx0XHRcdHJldHVybiBteUFwcHJvdmU/LmRlc2NyaXB0aW9uIHx8IFwiXCJcblx0XHRcdFx0XHRcdHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblxuXHRub3c6ICgpLT5cblx0XHRyZXR1cm4gbmV3IERhdGUoKTtcblxuXHRpc1JlYWRPbmx5OiAoKS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpXG5cdFx0cmV0dXJuIGZhbHNlXG5cblx0aXNPcGluaW9uT2ZGaWVsZDogKGFwcHJvdmUpLT5cblx0XHRpZiBhcHByb3ZlLnR5cGUgPT0gXCJjY1wiICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lXG5cdFx0XHRpZiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSA9PSBhcHByb3ZlLnNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblxuXHRtYXJrRG93blRvSHRtbDogKG1hcmtEb3duU3RyaW5nKS0+XG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcblx0XHRcdCMgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcblx0XHRcdCMgcmVuZGVyZXIubGluayA9IChocmVmLCB0aXRsZSwgdGV4dCkgLT5cblx0XHRcdCMgXHRyZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nI3tocmVmfScgdGl0bGU9JyN7dGl0bGV9Jz4je3RleHR9PC9hPlwiXG5cdFx0XHRyZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcobWFya2VkLnBhcnNlKG1hcmtEb3duU3RyaW5nKSlcblxuXHRzdGVwczogKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiktPlxuXHRcdHN0ZXBzID0gW11cblx0XHRpZiAhc3RlcFxuXHRcdFx0aWYgIWZpZWxkX2Zvcm11bGFcblx0XHRcdFx0ZmllbGRfZm9ybXVsYSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk/LmZpZWxkcz8uZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgdGhpcy5uYW1lKS5mb3JtdWxhXG5cdFx0XHRzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGEudG9wX2tleXdvcmRzKVxuXHRcdGVsc2Vcblx0XHRcdHN0ZXBzID0gW3tzdGVwTmFtZTogc3RlcCwgb25seV9jY19vcGluaW9uOiBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ246IGltYWdlX3NpZ259XVxuXHRcdHJldHVybiBzdGVwc1xuXG5cdGltYWdlU2lnbkRhdGE6IChoYW5kbGVyKSAtPlxuXHRcdHJldHVybiB7dXNlcjogaGFuZGxlcn1cblxuXHRzaG93U2lnbkltYWdlOiAoaGFuZGxlciwgaW1hZ2Vfc2lnbiwganVkZ2UpIC0+XG5cdFx0aWYgWydyZXR1cm5lZCcsICd0ZXJtaW5hdGVkJywgJ3JldHJpZXZlZCddLmluY2x1ZGVzKGp1ZGdlKVxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcilcblxuXHRcdGlmIHNwYWNlVXNlclNpZ24/LnNpZ24gJiYgaW1hZ2Vfc2lnblxuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHRnZXRMYXN0U2lnbkFwcHJvdmU6ICgpLT5cblx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuXHRcdHJldHVybiBfLmxhc3QoVHJhY2VzTWFuYWdlci5nZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyBpbnMsIE1ldGVvci51c2VySWQoKSlcblxuXG5cdGxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbjogKCktPlxuXHRcdHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcblx0XHRjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuXHRcdGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbY3VycmVudFN0ZXAubmFtZV0pXG5cblx0XHRhcHByb3ZlcyA9IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCBNZXRlb3IudXNlcklkKCkpXG5cblx0XHRpZiBhcHByb3Zlcy5sZW5ndGggPiAxXG5cdFx0XHRyZXR1cm4gYXBwcm92ZXNbYXBwcm92ZXMubGVuZ3RoIC0gMl0/LmRlc2NyaXB0aW9uXG5cblx0XHRyZXR1cm4gXCJcIjtcblxuXHRzaG93QXBwcm92ZTogKGFwcHJvdmUpLT5cblx0XHRpZiAhYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxuXHRcdFx0aWYgYXBwcm92ZT8uaXNfcmVhZFxuXHRcdFx0XHRpZiBhcHByb3ZlLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0cmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoYXBwcm92ZS5qdWRnZSlcblx0XHRyZXR1cm4gZmFsc2U7XG5cblx0anVkZ2VfZGVzY3JpcHRpb246IChqdWRnZSktPlxuXHRcdHJldHVybiB0KGp1ZGdlICsgXCJfZGVzY3JpcHRpb25cIilcblxuXHRpc19hcHByb3ZlZDogKGp1ZGdlKS0+XG5cdFx0cmV0dXJuIFwiYXBwcm92ZWRcIiA9PSBqdWRnZVxuXG5cdGlzX3JlamVjdGVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gXCJyZWplY3RlZFwiID09IGp1ZGdlXG5cblx0aXNfcmVhZGVkOiAoanVkZ2UpLT5cblx0XHRyZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhqdWRnZSlcblxuXHRhZGRDbGFzczogKCktPlxuXHRcdG5hbWUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXG5cdFx0c2V0VGltZW91dCAoKSAtPlxuXHRcdFx0dHJ5XG5cdFx0XHRcdGVsZW1lbnQgPSAkKFwiLmF1dG9tYXRpYy5vcGluaW9uLWZpZWxkLVwiICsgbmFtZSlcblx0XHRcdFx0aWYgZWxlbWVudC5sZW5ndGggPiAwXG5cdFx0XHRcdFx0aWYgZWxlbWVudD8uaXMoXCJ0ZFwiKVxuXHRcdFx0XHRcdFx0ZWxlbWVudC5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKVxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdCQoXCIuaW5zdGFuY2Utc2lnblwiLCBlbGVtZW50KS5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKVxuXHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRjb25zb2xlLmxvZyBlXG5cdFx0LCAxXG5cdFx0cmV0dXJuICcnXG5cbmlmIE1ldGVvci5pc1NlcnZlclxuXHRJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMuZGVmYXVsdERlc2NyaXB0aW9uID0gLT5cblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIiwge30sIGxvY2FsZSkiLCJJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgPSB7XG4gIHNob3c6IGZ1bmN0aW9uKHN0ZXBOYW1lKSB7XG4gICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15VHJhY2UsIHJlZjtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoJ2luc3RhbmNlUHJpbnQnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoSW5zdGFuY2VNYW5hZ2VyLmlzSW5ib3goKSkge1xuICAgICAgICBteUFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICAgICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgICAgIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgbXlUcmFjZSA9IGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgbXlBcHByb3ZlLnRyYWNlKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4gKG15VHJhY2UgIT0gbnVsbCA/IG15VHJhY2UubmFtZSA6IHZvaWQgMCkgPT09IHN0ZXBOYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZGVmYXVsdERlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb247XG4gIH0sXG4gIHRyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gIH0sXG4gIHRyYWNlOiBmdW5jdGlvbihzdGVwTmFtZSwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduLCB0b3Bfa2V5d29yZHMpIHtcbiAgICB2YXIgYXBwcm92ZV9zb3J0LCBhcHByb3ZlcywgYXBwcm92ZXNHcm91cCwgYXBwcm92ZXNfc29ydGVkLCBjb21wbGV0ZWRfZGF0ZSwgaGFzTmV4dCwgaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSwgaW5zdGFuY2UsIGlzX2NvbXBsZXRlZCwgcmVmLCByZWYxLCByZWYyLCB0cmFjZXM7XG4gICAgaW5zdGFuY2UgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlKCk7XG4gICAgaXNfY29tcGxldGVkID0gKGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCI7XG4gICAgY29tcGxldGVkX2RhdGUgPSBpc19jb21wbGV0ZWQgPyAocmVmID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcykpICE9IG51bGwgPyAocmVmMSA9IHJlZi5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0VGltZSgpIDogdm9pZCAwIDogdm9pZCAwIDogMDtcbiAgICBpZiAoaXNfY29tcGxldGVkICYmIGluc3RhbmNlLmZpbmlzaF9kYXRlKSB7XG4gICAgICBjb21wbGV0ZWRfZGF0ZSA9IChyZWYyID0gaW5zdGFuY2UuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYyLmdldFRpbWUoKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgICBhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW3N0ZXBOYW1lXSk7XG4gICAgYXBwcm92ZV9zb3J0ID0gZnVuY3Rpb24oYXBwcm92ZXMsIHRvcF9rZXl3b3Jkcykge1xuICAgICAgdmFyIGFwcHJvdmVzX3NvcnRlZCwgdG9wX2FwcHJvdmVzO1xuICAgICAgYXBwcm92ZXNfc29ydGVkID0gXy5zb3J0QnkoYXBwcm92ZXMsIGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIC0oYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICB9KTtcbiAgICAgIGlmICh0b3Bfa2V5d29yZHMpIHtcbiAgICAgICAgdG9wX2FwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRvcF9rZXl3b3Jkcy5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gdG9wX2FwcHJvdmVzID0gXy51bmlvbih0b3BfYXBwcm92ZXMsIF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgdmFyIHJlZjM7XG4gICAgICAgICAgICByZXR1cm4gKGFwcHJvdmUgIT0gbnVsbCA/IChyZWYzID0gYXBwcm92ZS5oYW5kbGVyX25hbWUpICE9IG51bGwgPyByZWYzLmluZGV4T2Yoa2V5KSA6IHZvaWQgMCA6IHZvaWQgMCkgPiAtMTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0b3BfYXBwcm92ZXMgPSBfLnNvcnRCeSh0b3BfYXBwcm92ZXMsIGZ1bmN0aW9uKHRvcF9hcHByb3ZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0odG9wX2FwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgYXBwcm92ZXNfc29ydGVkID0gXy51bmlvbih0b3BfYXBwcm92ZXMsIGFwcHJvdmVzX3NvcnRlZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXBwcm92ZXNfc29ydGVkIHx8IFtdO1xuICAgIH07XG4gICAgYXBwcm92ZXMgPSBfLmZpbHRlcihhcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGEudHlwZSAhPT0gXCJmb3J3YXJkXCIgJiYgYS50eXBlICE9PSBcImRpc3RyaWJ1dGVcIiAmJiBhLnR5cGUgIT09IFwidGVybWluYXRlZFwiO1xuICAgIH0pO1xuICAgIGlmIChvbmx5X2NjX29waW5pb24pIHtcbiAgICAgIGFwcHJvdmVzID0gYXBwcm92ZXMgIT0gbnVsbCA/IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwidHlwZVwiLCBcImNjXCIpIDogdm9pZCAwO1xuICAgIH1cbiAgICBhcHByb3Zlc19zb3J0ZWQgPSBhcHByb3ZlX3NvcnQoYXBwcm92ZXMsIHRvcF9rZXl3b3Jkcyk7XG4gICAgYXBwcm92ZXNHcm91cCA9IF8uZ3JvdXBCeShhcHByb3ZlcywgXCJoYW5kbGVyXCIpO1xuICAgIGhhc05leHQgPSBmdW5jdGlvbihhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSB7XG4gICAgICB2YXIgaGFuZGxlckFwcHJvdmVzO1xuICAgICAgaGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdO1xuICAgICAgcmV0dXJuIF8uaW5kZXhPZihoYW5kbGVyQXBwcm92ZXMsIGFwcHJvdmUpICsgMSA8IGhhbmRsZXJBcHByb3Zlcy5sZW5ndGg7XG4gICAgfTtcbiAgICBoYXZlRGVzY3JpcHRpb25BcHByb3ZlID0gZnVuY3Rpb24oYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkge1xuICAgICAgdmFyIGRlc2NyaXB0aW9uQXBwcm92ZXMsIGhhbmRsZXJBcHByb3ZlcztcbiAgICAgIGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXTtcbiAgICAgIGRlc2NyaXB0aW9uQXBwcm92ZXMgPSBfLmZpbHRlcihoYW5kbGVyQXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgaWYgKGEuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGlmIChkZXNjcmlwdGlvbkFwcHJvdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIGFwcHJvdmVzX3NvcnRlZC5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgIHZhciByZWYzO1xuICAgICAgaWYgKGFwcHJvdmUuc2lnbl9zaG93ICE9PSBmYWxzZSAmJiAoYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWFwcHJvdmUuZGVzY3JpcHRpb24gJiYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgJiYgIWFwcHJvdmUuaXNfZmluaXNoZWQpIHx8ICgocmVmMyA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZjMuc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uIDogdm9pZCAwKSkpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgICAgIHJldHVybiBhcHByb3ZlLl9kaXNwbGF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIHJlZjM7XG4gICAgICBpZiAoaXNfY29tcGxldGVkKSB7XG4gICAgICAgIHJldHVybiBhLl9kaXNwbGF5ID09PSB0cnVlICYmIGEuaXNfZmluaXNoZWQgJiYgKChyZWYzID0gYS5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjMuZ2V0VGltZSgpIDogdm9pZCAwKSA8PSBjb21wbGV0ZWRfZGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhLl9kaXNwbGF5ID09PSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhcHByb3Zlc19zb3J0ZWQ7XG4gIH0sXG4gIGluY2x1ZGU6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlKGEsIGIpO1xuICB9LFxuICB1bmVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgcmVmO1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnVuZW1wdHkodmFsKSB8fCAoKHJlZiA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZi5zaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24gOiB2b2lkIDApO1xuICB9LFxuICBmb3JtYXREYXRlOiBmdW5jdGlvbihkYXRlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFvcHRpb25zKSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBcImZvcm1hdFwiOiBcIllZWVktTU0tRERcIlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybWF0RGF0ZShkYXRlLCBvcHRpb25zKTtcbiAgfSxcbiAgaXNNeUFwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmUsIG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgIHZhciBjdXJyZW50QXBwcm92ZSwgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgY3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICAgIGlmICghKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUuX2lkIDogdm9pZCAwKSkge1xuICAgICAgICBhcHByb3ZlID0gY3VycmVudEFwcHJvdmU7XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5faWQgPT09IChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUuX2lkIDogdm9pZCAwKSAmJiAoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICAgIGlmIChfLmluZGV4T2YoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUgOiB2b2lkIDAsIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSA+IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoISgoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLnR5cGUgOiB2b2lkIDApID09PSAnY2MnKSAmJiBvbmx5X2NjX29waW5pb24pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRBcHByb3ZlICYmIGFwcHJvdmUuX2lkID09PSBjdXJyZW50QXBwcm92ZS5faWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlIHx8IG15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT09ICgocmVmMiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMyA9IHJlZjIuZGF0YSkgIT0gbnVsbCA/IHJlZjMubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgIGlmICghU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgbm93OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgfSxcbiAgaXNSZWFkT25seTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc09waW5pb25PZkZpZWxkOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gXCJjY1wiICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSB7XG4gICAgICBpZiAoVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUgPT09IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZShtYXJrRG93blN0cmluZykpO1xuICAgIH1cbiAgfSxcbiAgc3RlcHM6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbikge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHN0ZXBzO1xuICAgIHN0ZXBzID0gW107XG4gICAgaWYgKCFzdGVwKSB7XG4gICAgICBpZiAoIWZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZmllbGRfZm9ybXVsYSA9IChyZWYgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCB0aGlzLm5hbWUpLmZvcm11bGEgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIChyZWYyID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IHJlZjIuZGF0YS50b3Bfa2V5d29yZHMgOiB2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGVwcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0ZXBOYW1lOiBzdGVwLFxuICAgICAgICAgIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLFxuICAgICAgICAgIGltYWdlX3NpZ246IGltYWdlX3NpZ25cbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXBzO1xuICB9LFxuICBpbWFnZVNpZ25EYXRhOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IGhhbmRsZXJcbiAgICB9O1xuICB9LFxuICBzaG93U2lnbkltYWdlOiBmdW5jdGlvbihoYW5kbGVyLCBpbWFnZV9zaWduLCBqdWRnZSkge1xuICAgIHZhciBzcGFjZVVzZXJTaWduO1xuICAgIGlmIChbJ3JldHVybmVkJywgJ3Rlcm1pbmF0ZWQnLCAncmV0cmlldmVkJ10uaW5jbHVkZXMoanVkZ2UpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpO1xuICAgIGlmICgoc3BhY2VVc2VyU2lnbiAhPSBudWxsID8gc3BhY2VVc2VyU2lnbi5zaWduIDogdm9pZCAwKSAmJiBpbWFnZV9zaWduKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgZ2V0TGFzdFNpZ25BcHByb3ZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiBfLmxhc3QoVHJhY2VzTWFuYWdlci5nZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyhpbnMsIE1ldGVvci51c2VySWQoKSkpO1xuICB9LFxuICBsYXN0TXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcHByb3ZlcywgY3VycmVudFN0ZXAsIHJlZiwgdHJhY2VzO1xuICAgIHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gICAgY3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICBhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW2N1cnJlbnRTdGVwLm5hbWVdKTtcbiAgICBhcHByb3ZlcyA9IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCBNZXRlb3IudXNlcklkKCkpO1xuICAgIGlmIChhcHByb3Zlcy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gKHJlZiA9IGFwcHJvdmVzW2FwcHJvdmVzLmxlbmd0aCAtIDJdKSAhPSBudWxsID8gcmVmLmRlc2NyaXB0aW9uIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfSxcbiAgc2hvd0FwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICB2YXIgcmVmLCByZWYxO1xuICAgIGlmICghYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT09ICgocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmRhdGEpICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICBpZiAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS5pc19yZWFkIDogdm9pZCAwKSB7XG4gICAgICAgIGlmIChhcHByb3ZlLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgcmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoYXBwcm92ZS5qdWRnZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBqdWRnZV9kZXNjcmlwdGlvbjogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gdChqdWRnZSArIFwiX2Rlc2NyaXB0aW9uXCIpO1xuICB9LFxuICBpc19hcHByb3ZlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gXCJhcHByb3ZlZFwiID09PSBqdWRnZTtcbiAgfSxcbiAgaXNfcmVqZWN0ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFwicmVqZWN0ZWRcIiA9PT0ganVkZ2U7XG4gIH0sXG4gIGlzX3JlYWRlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhqdWRnZSk7XG4gIH0sXG4gIGFkZENsYXNzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmFtZSwgcmVmLCByZWYxO1xuICAgIG5hbWUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmRhdGEpICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlLCBlbGVtZW50O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZWxlbWVudCA9ICQoXCIuYXV0b21hdGljLm9waW5pb24tZmllbGQtXCIgKyBuYW1lKTtcbiAgICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChlbGVtZW50ICE9IG51bGwgPyBlbGVtZW50LmlzKFwidGRcIikgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJChcIi5pbnN0YW5jZS1zaWduXCIsIGVsZW1lbnQpLmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7XG4gICAgICB9XG4gICAgfSwgMSk7XG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIEluc3RhbmNlU2lnblRleHQuaGVscGVycy5kZWZhdWx0RGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIiwge30sIGxvY2FsZSk7XG4gIH07XG59XG4iLCJUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzID1cblx0ZXF1YWxzOiAoYSwgYikgLT5cblx0XHRhID09IGJcblx0ZW1wdHk6IChhKSAtPlxuXHRcdGlmIGFcblx0XHRcdGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDwgMVxuXHRcdGVsc2Vcblx0XHRcdHRydWVcblx0dW5lbXB0eTogKGEpIC0+XG5cdFx0aWYgYVxuXHRcdFx0YS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwXG5cdFx0ZWxzZVxuXHRcdFx0ZmFsc2VcblxuXHRhcHBlbmQ6IChhLCBiKSAtPlxuXHRcdGEgKyBiXG5cblx0ZGF0ZUZvcm1hdDogKGRhdGUpIC0+XG5cdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKCkgJiYgZGF0ZT8uZ2V0RnVsbFllYXIoKSA9PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKClcblx0XHRcdFx0cmV0dXJuICQuZm9ybWF0LmRhdGUgbmV3IERhdGUoZGF0ZSksIFwiTU0tZGQgSEg6bW1cIlxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gJC5mb3JtYXQuZGF0ZSBuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCJcblxuXHRnZXRTdGVwTmFtZTogKHN0ZXBJZCkgLT5cblx0XHRzdGVwID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlU3RlcChzdGVwSWQpXG5cdFx0aWYgc3RlcFxuXHRcdFx0cmV0dXJuIHN0ZXAubmFtZVxuXHRcdG51bGxcblx0c2hvd0RlbGV0ZUJ1dHRvbjogKGFwcHJvdmVkKSAtPlxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdjYycgYW5kIGFwcHJvdmVkLmZyb21fdXNlciA9PSBNZXRlb3IudXNlcklkKCkgYW5kIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9IHRydWUgYW5kICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIilcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0ZmFsc2Vcblx0aXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uOiAoYXBwcm92ZWQpIC0+XG5cdFx0YXBwcm92ZV9hZG1pbnMgPSBNZXRlb3Iuc2V0dGluZ3M/LnB1YmxpYz8ud29ya2Zsb3c/LmFwcHJvdmVfYWRtaW5zXG5cdFx0aWYgYXBwcm92ZV9hZG1pbnM/Lmxlbmd0aFxuXHRcdFx0aXNTaG93ID0gYXBwcm92ZV9hZG1pbnM/LmNvbnRhaW5zIE1ldGVvci51c2VySWQoKVxuXHRcdHVubGVzcyBpc1Nob3dcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09IE1ldGVvci51c2VySWQoKVxuXHRpc0VkaXRpbmc6ICgpIC0+XG5cdFx0IHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmlzX2VkaXRpbmc/LmdldCgpXG5cdGlzU2hvd0Rlc2NyaXB0aW9uOiAoYXBwcm92ZWQpLT5cblx0XHQjIGRlYnVnZ2VyXG5cdFx0aWYgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5pc1Nob3dNb2RpZmljYXRpb25CdXR0b24gYXBwcm92ZWRcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0cmV0dXJuIGFwcHJvdmVkLmRlc2NyaXB0aW9uPy50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwXG5cdGlzQ0M6IChhcHByb3ZlZCkgLT5cblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnY2MnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdGdldEFwcHJvdmVTdGF0dXNJY29uOiAoYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSAtPlxuXHRcdGlmIGF1dG9TdWJtaXR0ZWQgPT0gdHJ1ZVxuXHRcdFx0cmV0dXJuICdpb24gaW9uLWFuZHJvaWQtYWxhcm0tY2xvY2snXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXG5cdFx0YXBwcm92ZVN0YXR1c0ljb24gPSB1bmRlZmluZWRcblx0XHRzd2l0Y2ggYXBwcm92ZUp1ZGdlXG5cdFx0XHR3aGVuICdhcHByb3ZlZCdcblx0XHRcdFx0IyDlt7LmoLjlh4Zcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jaGVja21hcmstcm91bmQnXG5cdFx0XHR3aGVuICdyZWplY3RlZCdcblx0XHRcdFx0IyDlt7LpqbPlm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1jbG9zZS1yb3VuZCdcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5raIXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLWJhbidcblx0XHRcdHdoZW4gJ3JlYXNzaWduZWQnXG5cdFx0XHRcdCMg6L2s562+5qC4XG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYW5kcm9pZC1jb250YWN0J1xuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xuXHRcdFx0XHQjIOmHjeWumuS9jVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFycm93LXNocmluaydcblx0XHRcdHdoZW4gJ3JldHJpZXZlZCdcblx0XHRcdFx0IyDlt7Llj5blm55cblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtdW5kbydcblx0XHRcdGVsc2Vcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnJ1xuXHRcdFx0XHRicmVha1xuXHRcdGFwcHJvdmVTdGF0dXNJY29uXG5cdGdldEFwcHJvdmVTdGF0dXNUZXh0OiAoYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSAtPlxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcblx0XHRlbHNlXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXG5cdFx0aWYgYXV0b1N1Ym1pdHRlZCA9PSB0cnVlXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV90aW1lb3V0X2F1dG9fc3VibWl0dGVkJywge30sIGxvY2FsZSlcblx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IHVuZGVmaW5lZFxuXHRcdHN3aXRjaCBhcHByb3ZlSnVkZ2Vcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xuXHRcdFx0XHQjIOW3suaguOWHhlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xuXHRcdFx0XHQjIOW3sumps+WbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5raIXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZWFzc2lnbmVkJ1xuXHRcdFx0XHQjIOi9rOetvuaguFxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xuXHRcdFx0XHQjIOmHjeWumuS9jVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpXG5cdFx0XHR3aGVuICdyZXRyaWV2ZWQnXG5cdFx0XHRcdCMg5bey5Y+W5ZueXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JldHVybmVkJ1xuXHRcdFx0XHQjIOW3sumAgOWbnlxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSlcblx0XHRcdHdoZW4gJ3JlYWRlZCdcblx0XHRcdFx0IyDlt7LpmIVcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9ICcnXG5cdFx0XHRcdGJyZWFrXG5cdFx0YXBwcm92ZVN0YXR1c1RleHRcblx0XG5cdGdldEFwcHJvdmVKdWRnZUNsYXNzOiAoYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSAtPlxuXHRcdGlmIGF1dG9TdWJtaXR0ZWQgPT0gdHJ1ZVxuXHRcdFx0cmV0dXJuICdhdXRvU3VibWl0dGVkJ1xuXHRcdHJldHVybiBhcHByb3ZlSnVkZ2VcblxuXHRfdDogKGtleSktPlxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcblxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXG5cdFx0XHRcdGlmIG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0aWYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxuXHRcdFx0XHRcdFx0cmV0dXJuIG15QXBwcm92ZT8uZGVzY3JpcHRpb24gfHwgXCJcIlxuXHRcdFx0XHRcdHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcblx0aXNGb3J3YXJkOiAoYXBwcm92ZWQpIC0+XG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2ZvcndhcmQnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdHNob3dGb3J3YXJkRGVsZXRlQnV0dG9uOiAoYXBwcm92ZSkgLT5cblx0XHRpZiBkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgaXMgMFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdmb3J3YXJkJyBhbmQgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnXG5cdFx0XHRyZXR1cm4gdHJ1ZVxuXHRcdGZhbHNlXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cblx0XHRpZiBtYXJrRG93blN0cmluZ1xuXHRcdFx0IyByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuXHRcdFx0IyByZW5kZXJlci5saW5rID0gKCBocmVmLCB0aXRsZSwgdGV4dCApIC0+XG5cdFx0XHQjIFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKG1hcmtlZC5wYXJzZShtYXJrRG93blN0cmluZykpXG5cdGlzRGlzdHJpYnV0ZTogKGFwcHJvdmUpIC0+XG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRmYWxzZVxuXHRzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJyBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0IyDmtYHnqIvnrqHnkIblkZjlkozns7vnu5/nrqHnkIblkZjvvIzlj6/ku6XmiafooYzku7vkvZXmg4XlhrXkuIvnmoTmlofku7blj5bmtojliIblj5Fcblx0XHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGFwcHJvdmUuaW5zdGFuY2V9LCB7ZmllbGRzOiB7ZmxvdzogMSwgc3BhY2U6IDF9fSlcblx0XHRcdGlmIGlucyBhbmQgaW5zLmZsb3cgYW5kIGlucy5zcGFjZVxuXHRcdFx0XHRpZiBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCBNZXRlb3IudXNlcklkKCkpXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcblxuXHRcdFx0aWYgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cblx0XHRmYWxzZVxuXG5cdGZpbmlzaERhdGVTY2hlbWE6ICgpIC0+XG5cdFx0aWYgU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG5cdFx0XHRcdGZpbmlzaF9kYXRlOiB7XG5cdFx0XHRcdFx0YXV0b2Zvcm06IHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIlxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxuXHRcdFx0XHRcdHR5cGU6IERhdGVcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG5cdFx0XHRcdGZpbmlzaF9kYXRlOiB7XG5cdFx0XHRcdFx0YXV0b2Zvcm06IHtcblx0XHRcdFx0XHRcdHR5cGU6IFwiYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyXCJcblx0XHRcdFx0XHRcdHJlYWRvbmx5OiB0cnVlXG5cdFx0XHRcdFx0XHRkYXRlVGltZVBpY2tlck9wdGlvbnM6e1xuXHRcdFx0XHRcdFx0XHRmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiLFxuXHRcdFx0XHRcdFx0XHRpZ25vcmVSZWFkb25seTp0cnVlLFxuXHRcdFx0XHRcdFx0XHRsb2NhbGU6IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIiksXG5cdFx0XHRcdFx0XHRcdHdpZGdldFBvc2l0aW9uaW5nOntcblx0XHRcdFx0XHRcdFx0XHRob3Jpem9udGFsOiAncmlnaHQnXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG9wdGlvbmFsOiBmYWxzZSxcblx0XHRcdFx0XHR0eXBlOiBEYXRlXG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cblx0ZmluaXNoRGF0ZVZhbHVlczogKCkgLT5cblx0XHRyZXR1cm4ge1xuXHRcdFx0ZmluaXNoX2RhdGU6dGhpcy5maW5pc2hfZGF0ZVxuXHRcdH07XG5cblx0IyMjXG4gICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xuICAgIFx0dHJ1ZTog5pi+56S6dHJhY2VzIHZpZXcs562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCO5piv55u05o6l5a6a5L2N5YiwdHJhY2VzIHZpZXdcbiAgICBcdGZhbHNlOiDkuI3mmL7npLp0cmFjZXMgdmlld++8jOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjizku6VNb2RhbCDmlrnlvI/mmL7npLp0cmFjZXMgdmlld1xuXHQjIyNcblx0c2hvd1RyYWNlc1ZpZXc6IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cbiNcdFx0cmV0dXJuICEoSW5zdGFuY2VNYW5hZ2VyLmlzVGFibGVTdHlsZShmb3JtKSAmJiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGVzT3BpbmlvbkZpZWxkKGZvcm0sIGZvcm1fdmVyc2lvbikpXG5cblx0XHRzaG93X21vZGFsX3RyYWNlc19saXN0ID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7c3BhY2U6IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKSwga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIn0pPy52YWx1ZXMgfHwgZmFsc2VcblxuXHRcdHJldHVybiAhc2hvd19tb2RhbF90cmFjZXNfbGlzdFxuXG5cdGdldEluc3RhbmNlU3RhdGVUZXh0OiAoaW5zdGFuY2VfaWQpLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxuXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDEsIGlzX3JlYWQ6IDF9fSlcblx0XHRpZiBub3QgaW5zXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpXG5cblx0XHR0ZXh0ID0gJydcblx0XHRpZiBpbnMuc3RhdGUgaXMgJ2NvbXBsZXRlZCdcblx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdjb21wbGV0ZWQnLCB7fSwgbG9jYWxlKVxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdwZW5kaW5nJ1xuXHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ3BlbmRpbmcnLCB7fSwgbG9jYWxlKVxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdkcmFmdCdcblx0XHRcdGlmIGlucy5pc19yZWFkXG5cdFx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3JlYWQnLCB7fSwgbG9jYWxlKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9ub3RfeWV0X2hhbmRsZWQnLCB7fSwgbG9jYWxlKVxuXG5cdFx0cmV0dXJuIHRleHRcblxuXHRnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IChpbnN0YW5jZV9pZCktPlxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxLCBpc19yZWFkOiAxfX0pXG5cdFx0aWYgbm90IGluc1xuXHRcdFx0cmV0dXJuIFwiXCJcblxuXHRcdGNsYSA9ICcnXG5cdFx0aWYgaW5zLnN0YXRlIGlzICdkcmFmdCdcblx0XHRcdGlmIGlucy5pc19yZWFkXG5cdFx0XHRcdGNsYSA9ICdibHVlJ1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHRjbGEgPSAncmVkJ1xuXHRcdHJldHVybiBjbGFcblxuXHRmaXJzdFRyYWNlOiAoaW5kZXgpLT5cblx0XHRyZXR1cm4gaW5kZXggaXMgMFxuXG5cdGxhc3RfZGlzdHJpYnV0ZV9mcm9tOiAoaW5zdGFuY2VfaWQpLT5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZCwgZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlOiB7JGV4aXN0czogdHJ1ZX19LHtmaWVsZHM6e2NyZWF0ZWQ6IDEsIGNyZWF0ZWRfYnk6IDF9fSlcblx0XHRpZiBpbnNcblx0XHRcdGRpc19pbmZvID0ge31cblx0XHRcdHVzZXIgPSB7fVxuXHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRcdHVzZXIgPSBVVWZsb3dfYXBpLmdldE5hbWVGb3JVc2VyKGlucy5jcmVhdGVkX2J5KVxuXHRcdFx0ZWxzZSBpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdFx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe19pZDogaW5zLmNyZWF0ZWRfYnl9LCB7ZmllbGRzOiB7bmFtZTogMX19KVxuXG5cdFx0XHRpZiB1c2VyLm5hbWVcblx0XHRcdFx0ZGlzX2luZm8uZnJvbV91c2VyID0gdXNlci5faWRcblx0XHRcdFx0ZGlzX2luZm8uZnJvbV91c2VyX25hbWUgPSB1c2VyLm5hbWVcblx0XHRcdFx0ZGlzX2luZm8uY3JlYXRlZCA9IGlucy5jcmVhdGVkXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoZGlzX2luZm8pXG5cdFx0XHRcdHJldHVybiBkaXNfaW5mb1xuXHRcdHJldHVyblxuXG5cdGlzQ0NPckRpc3RyaWJ1dGVPckZvcndhcmRUZXJtaW5hdGVkOiAoYXBwcm92ZSktPlxuXHRcdGlmIChhcHByb3ZlLnR5cGUgaXMgJ2NjJyBvciBhcHByb3ZlLnR5cGUgaXMgJ2Rpc3RyaWJ1dGUnIG9yIGFwcHJvdmUudHlwZSBpcyAnZm9yd2FyZCcpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzICd0ZXJtaW5hdGVkJ1xuXHRcdFx0cmV0dXJuIHRydWVcblx0XHRyZXR1cm4gZmFsc2VcblxuXHRqdWRnZVRlcm1pbmF0ZWQ6IChqdWRnZSktPlxuXHRcdHJldHVybiBqdWRnZSBpcyAndGVybWluYXRlZCdcblxuXHRpbnN0YW5jZUV4aXN0czogKGluc3RhbmNlX2lkKS0+XG5cdFx0cmV0dXJuICEhZGIuaW5zdGFuY2VzLmZpbmQoaW5zdGFuY2VfaWQpLmNvdW50KClcblxuXHRhZ2VudERlc2NyaXB0aW9uOiAodXNlck5hbWUpLT5cblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxuXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogdXNlck5hbWV9LCBsb2NhbGUpXG5cdFxuXHR0cmFjZU5hbWU6IChpbnN0YW5jZV9pZCwgdHJhY2VJZCktPlxuXHRcdHJldHVybiBfLmZpbmQoZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQsIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSk/LnRyYWNlcywgKHRyYWNlKS0+XG5cdFx0XHRcdFx0cmV0dXJuIHRyYWNlLl9pZCA9PSAgdHJhY2VJZFxuXHRcdCk/Lm5hbWVcblxuXHRvYmplY3RVcmw6IChvYmplY3RfbmFtZSwgcmVjb3JkX2lkLCBhcHBfaWQpLT5cblx0XHRyZXR1cm4gQ3JlYXRvci5nZXRPYmplY3RVcmwob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5kYXRlRm9ybWF0ID0gKGRhdGUpLT5cblx0XHRpZiBkYXRlXG5cdFx0XHR1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XG5cdFx0XHRyZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUoZGF0ZSwgdXRjT2Zmc2V0KTtcblxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXG5cblx0VHJhY2VzVGVtcGxhdGUuaGVscGVycy5zaG93RGVsZXRlQnV0dG9uID0gKGFwcHJvdmVkKSAtPlxuXHRcdHJldHVybiBmYWxzZTtcblxuVHJhY2VzVGVtcGxhdGUuZXZlbnRzID1cblx0J2NsaWNrIC5jYy1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcblx0XHRpZiBldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyAqIDEgIT0gMVxuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAxXG5cdFx0XHQkKFwiaVwiLGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwiZmEtc3BpblwiKVxuXHRcdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcblx0XHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcblx0XHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXG5cdFx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0XHRcdGlmIGVyclxuXHRcdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcblx0XHRcdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDBcblx0XHRcdFx0XHQkKFwiaVwiLGV2ZW50LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwiZmEtc3BpblwiKVxuXHRcdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG5cdFx0XHRcdFx0aWYgJChcIi5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWxcIikubGVuZ3RoXG5cdFx0XHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcblx0XHRcdFx0cmV0dXJuXG5cdFx0XHRyZXR1cm5cblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWNjLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxuXHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcblx0XHQjIENBTEwg5Yig6ZmkYXBwcm92ZeWHveaVsOOAglxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxuXHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdCMgUEPkuIrpk77mjqXlhYHorrjnm7TmjqXngrnlvIDvvIzkuI3lho3miZPlvIDnrb7mibnljobnqIvor6bnu4Zcblx0XHR1bmxlc3MgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aFxuXHRcdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXG5cblx0J3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0IyDmiYvmnLrkuIrplb/mjInmiZPlvIDnrb7mibnljobnqIvor6bnu4bvvIzlpoLmnpzmmK/pk77mjqXplb/mjInmiZPlvIDlkI7kuIDmlL7miYvnqpflj6PlsLHlj4jlhbPmjonkuobvvIzmiYDku6XkuI3orqnpk77mjqXmiZPlvIDnrb7mibnljobnqIvor6bnu4Zcblx0XHR1bmxlc3MgJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aFxuXHRcdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXG5cblx0J2NsaWNrIC5hcHByb3ZlLWl0ZW0gYS5idG4tbGluaywuYXBwcm92ZS1kZXNjcmlwdGlvbiBhLmJ0bi1saW5rLC5hcHByb3ZlLWl0ZW0tZGlzdHJpYnV0ZSBhLmJ0bi1saW5rJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIOaJi+acuuS4iueCueWHu+mTvuaOpe+8jOW8ueWHuuaWsOeql+WPo++8jOS4jeaUr+aMge+8jOWboOS4umFuZHJvaWTkuIrkvJrlvLnlh7rnmbvlvZXnlYzpnaJcblx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcblx0XHRcdHVzZXJJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0Py50YXJnZXRfdXNlcl9pZFxuXHRcdFx0Q3JlYXRvci5vcGVuU2FmZU9iamVjdFVybCgndXNlcnMnLCB1c2VySWQpXG5cblx0J3RhcGVuZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblx0XHQjIOS4iui/sOmVv+aMieaJk+W8gGFwcHJvdmXor6bnu4bnqpflj6PnmoTkuovku7Z0YXBob2xk5Lya6Kem5Y+R5omT5byA56qX5Y+j5ZCO55qEdG91Y2hlbmTkuovku7bvvIzpgKDmiJDplb/mjInmiZPlvIDnqpflj6PlkI7kuIDmlL7miYvnqpflj6PlsLHlj4jlhbPmjonkuoZcblx0XHQjIOi/memHjOWPquiDvemAmui/h+mYu+atonRhcGVuZOS6i+S7tijkuI3lj6/ku6XnlKh0b3VjaGVuZOS6i+S7tu+8jOWboOS4uuS8muW9seWTjXRhcGhvbGTlip/og73vvIzpgKDmiJDmsqHmnInplb/mjInmlYjmnpzml7bkuZ/kvJrop6blj5F0YXBob2xk5LqL5Lu2KeWGkuazoeadpemBv+WFjemXrumimOOAglxuXHRcdCMg6ZO+5o6l5YWB6K6455u05o6l54K55byAXG5cdFx0dW5sZXNzICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiYS5idG4tbGlua1wiKS5sZW5ndGhcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG5cdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXG5cdFx0XHRyZXR1cm4gZmFsc2VcblxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZVxuXHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXG5cdFx0TWV0ZW9yLmNhbGwgJ2ZvcndhcmRfcmVtb3ZlJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCAoZXJyLCByZXN1bHQpIC0+XG5cdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcblx0XHRcdGlmIGVyclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IgVEFQaTE4bi5fXyhlcnIucmVhc29uKVxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcImluc3RhbmNlX2FwcHJvdmVfZm9yd2FyZF9yZW1vdmVfc3VjY2Vzc1wiKSk7XG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxuXHRcdFx0cmV0dXJuXG5cdFx0cmV0dXJuXG5cblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWluc3RhbmNlLWxvb2snOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdGZvcndhcmRfc3BhY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkc3BhY2Vcblx0XHRmb3J3YXJkX2luc3RhbmNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZGluc3RhbmNlXG5cdFx0U3RlZWRvcy5vcGVuV2luZG93KFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGZvcndhcmRfc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZm9yd2FyZF9pbnN0YW5jZSkpXG5cblx0J2NsaWNrIC5idG4tbW9kaWZpY2F0aW9uJ1x0OiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxuXHRcdHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcblx0XHR1bmxlc3MgU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpXG5cdFx0XHRUcmFja2VyLmFmdGVyRmx1c2ggLT5cblx0XHRcdFx0IyDmmL7npLrml6Xlv5fnmoTml7blgJnmiormu5rliqjmnaHlvoDkuIvnp7vngrnvvIzorqnml6XmnJ/mjqfku7bmmL7npLrlh7rkuIDpg6jliIbvvIzku6Xpgb/lhY3nlKjmiLfnnIvkuI3liLDml6XmnJ/mjqfku7Zcblx0XHRcdFx0JChcIiNpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWwgI2ZpbmlzaF9pbnB1dFwiKS5vbiBcImRwLnNob3dcIiwgKCkgLT5cblx0XHRcdFx0XHQkKFwiLm1vZGFsLWJvZHlcIikuc2Nyb2xsVG9wKDEwMClcblxuXHQnY2xpY2sgLmJ0bi1jYW5jZWxCdXQnIDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cblxuXHRcdHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcblxuXHQnY2xpY2sgLmJ0bi1zYXZlQnV0JyA6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0IyB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSlcblxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxuXHRcdHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZVxuXHRcdG9waW5pb25faW5wdXQgPSAkKCcjb3Bpbmlvbl9pbnB1dCcpLnZhbCgpXG5cdFx0ZmluaXNoX2lucHV0ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShcImZpbmlzaF9kYXRlXCIsIFwiZmluaXNoRGF0ZUF1dG9Gb3JtXCIpXG5cblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcblx0XHRNZXRlb3IuY2FsbCAnY2hhbmdlX2FwcHJvdmVfaW5mbycsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgb3Bpbmlvbl9pbnB1dCwgZmluaXNoX2lucHV0LCAoZXJyLCByZXN1bHQpLT5cblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxuXHRcdFx0aWYgZXJyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBUQVBpMThuLl9fKGVyci5yZWFzb24pXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxuXHRcdFx0XHR0b2FzdHIuc3VjY2Vzcyh0KFwiaW5zdGFuY2VfYXBwcm92ZV9tb2RhbF9tb2RpZmljYXRpb25zYXZlXCIpKVxuXHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcblx0XHRcdHJldHVyblxuXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZGlzdHJpYnV0ZS1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XG5cdFx0TW9kYWwuYWxsb3dNdWx0aXBsZSA9IHRydWVcblx0XHRNb2RhbC5zaG93ICdjYW5jZWxfZGlzdHJpYnV0ZV9tb2RhbCdcbiIsIlRyYWNlc1RlbXBsYXRlLmhlbHBlcnMgPSB7XG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICBlbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPCAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKGEpIHtcbiAgICBpZiAoYSkge1xuICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgYXBwZW5kOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgKyBiO1xuICB9LFxuICBkYXRlRm9ybWF0OiBmdW5jdGlvbihkYXRlKSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAoZGF0ZSAhPSBudWxsID8gZGF0ZS5nZXRGdWxsWWVhcigpIDogdm9pZCAwKSA9PT0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpKSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJNTS1kZCBISDptbVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQuZm9ybWF0LmRhdGUobmV3IERhdGUoZGF0ZSksIFwieXl5eS1NTS1kZCBISDptbVwiKTtcbiAgICB9XG4gIH0sXG4gIGdldFN0ZXBOYW1lOiBmdW5jdGlvbihzdGVwSWQpIHtcbiAgICB2YXIgc3RlcDtcbiAgICBzdGVwID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlU3RlcChzdGVwSWQpO1xuICAgIGlmIChzdGVwKSB7XG4gICAgICByZXR1cm4gc3RlcC5uYW1lO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgc2hvd0RlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2NjJyAmJiBhcHByb3ZlZC5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSAmJiBhcHByb3ZlZC5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc1Nob3dNb2RpZmljYXRpb25CdXR0b246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIGFwcHJvdmVfYWRtaW5zLCBpc1Nob3csIHJlZiwgcmVmMSwgcmVmMjtcbiAgICBhcHByb3ZlX2FkbWlucyA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MpICE9IG51bGwgPyAocmVmMSA9IHJlZltcInB1YmxpY1wiXSkgIT0gbnVsbCA/IChyZWYyID0gcmVmMS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZjIuYXBwcm92ZV9hZG1pbnMgOiB2b2lkIDAgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKGFwcHJvdmVfYWRtaW5zICE9IG51bGwgPyBhcHByb3ZlX2FkbWlucy5sZW5ndGggOiB2b2lkIDApIHtcbiAgICAgIGlzU2hvdyA9IGFwcHJvdmVfYWRtaW5zICE9IG51bGwgPyBhcHByb3ZlX2FkbWlucy5jb250YWlucyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoIWlzU2hvdykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZWQuaGFuZGxlciA9PT0gTWV0ZW9yLnVzZXJJZCgpO1xuICB9LFxuICBpc0VkaXRpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWY7XG4gICAgcmV0dXJuIChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmlzX2VkaXRpbmcpICE9IG51bGwgPyByZWYuZ2V0KCkgOiB2b2lkIDA7XG4gIH0sXG4gIGlzU2hvd0Rlc2NyaXB0aW9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uKGFwcHJvdmVkKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAoKHJlZiA9IGFwcHJvdmVkLmRlc2NyaXB0aW9uKSAhPSBudWxsID8gcmVmLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA6IHZvaWQgMCkgPiAwO1xuICB9LFxuICBpc0NDOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBnZXRBcHByb3ZlU3RhdHVzSWNvbjogZnVuY3Rpb24oYXBwcm92ZUp1ZGdlLCBhdXRvU3VibWl0dGVkKSB7XG4gICAgdmFyIGFwcHJvdmVTdGF0dXNJY29uO1xuICAgIGlmIChhdXRvU3VibWl0dGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gJ2lvbiBpb24tYW5kcm9pZC1hbGFybS1jbG9jayc7XG4gICAgfVxuICAgIGFwcHJvdmVTdGF0dXNJY29uID0gdm9pZCAwO1xuICAgIHN3aXRjaCAoYXBwcm92ZUp1ZGdlKSB7XG4gICAgICBjYXNlICdhcHByb3ZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2hlY2ttYXJrLXJvdW5kJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWplY3RlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2xvc2Utcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Rlcm1pbmF0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS1iYW4nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFuZHJvaWQtY29udGFjdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVsb2NhdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hcnJvdy1zaHJpbmsnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLXVuZG8nO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZVN0YXR1c0ljb247XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNUZXh0OiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UsIGF1dG9TdWJtaXR0ZWQpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c1RleHQsIGxvY2FsZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaWYgKGF1dG9TdWJtaXR0ZWQgPT09IHRydWUpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3RpbWVvdXRfYXV0b19zdWJtaXR0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9XG4gICAgYXBwcm92ZVN0YXR1c1RleHQgPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWplY3RlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Rlcm1pbmF0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWFzc2lnbmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVsb2NhdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZXRyaWV2ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHJpZXZlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHVybmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXR1cm5lZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYWRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhZGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzVGV4dDtcbiAgfSxcbiAgZ2V0QXBwcm92ZUp1ZGdlQ2xhc3M6IGZ1bmN0aW9uKGFwcHJvdmVKdWRnZSwgYXV0b1N1Ym1pdHRlZCkge1xuICAgIGlmIChhdXRvU3VibWl0dGVkID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gJ2F1dG9TdWJtaXR0ZWQnO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZUp1ZGdlO1xuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgfSxcbiAgbXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKGFwcHJvdmVJZCkge1xuICAgIHZhciBteUFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgbXlBcHByb3ZlID0gKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5teUFwcHJvdmUpICE9IG51bGwgPyByZWYxLmdldCgpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAobXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKCFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiAobXlBcHByb3ZlICE9IG51bGwgPyBteUFwcHJvdmUuZGVzY3JpcHRpb24gOiB2b2lkIDApIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGlzRm9yd2FyZDogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2ZvcndhcmQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzaG93Rm9yd2FyZERlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZm9yd2FyZCcgJiYgYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpICYmIGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcobWFya2VkLnBhcnNlKG1hcmtEb3duU3RyaW5nKSk7XG4gICAgfVxuICB9LFxuICBpc0Rpc3RyaWJ1dGU6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgc2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b246IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScgJiYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhcHByb3ZlLmp1ZGdlICE9PSAndGVybWluYXRlZCcpIHtcbiAgICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBhcHByb3ZlLmluc3RhbmNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZsb3c6IDEsXG4gICAgICAgICAgc3BhY2U6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoaW5zICYmIGlucy5mbG93ICYmIGlucy5zcGFjZSkge1xuICAgICAgICBpZiAoV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgTWV0ZW9yLnVzZXJJZCgpKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoYXBwcm92ZS5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBmaW5pc2hEYXRlU2NoZW1hOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG4gICAgICAgIGZpbmlzaF9kYXRlOiB7XG4gICAgICAgICAgYXV0b2Zvcm06IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0ZXRpbWUtbG9jYWxcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgIHR5cGU6IERhdGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcbiAgICAgICAgZmluaXNoX2RhdGU6IHtcbiAgICAgICAgICBhdXRvZm9ybToge1xuICAgICAgICAgICAgdHlwZTogXCJib290c3RyYXAtZGF0ZXRpbWVwaWNrZXJcIixcbiAgICAgICAgICAgIHJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgZGF0ZVRpbWVQaWNrZXJPcHRpb25zOiB7XG4gICAgICAgICAgICAgIGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCIsXG4gICAgICAgICAgICAgIGlnbm9yZVJlYWRvbmx5OiB0cnVlLFxuICAgICAgICAgICAgICBsb2NhbGU6IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIiksXG4gICAgICAgICAgICAgIHdpZGdldFBvc2l0aW9uaW5nOiB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbDogJ3JpZ2h0J1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGZpbmlzaERhdGVWYWx1ZXM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaW5pc2hfZGF0ZTogdGhpcy5maW5pc2hfZGF0ZVxuICAgIH07XG4gIH0sXG5cbiAgLypcbiAgICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xuICAgICBcdHRydWU6IOaYvuekunRyYWNlcyB2aWV3LOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjuaYr+ebtOaOpeWumuS9jeWIsHRyYWNlcyB2aWV3XG4gICAgIFx0ZmFsc2U6IOS4jeaYvuekunRyYWNlcyB2aWV377yM562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCOLOS7pU1vZGFsIOaWueW8j+aYvuekunRyYWNlcyB2aWV3XG4gICAqL1xuICBzaG93VHJhY2VzVmlldzogZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gICAgdmFyIHJlZiwgc2hvd19tb2RhbF90cmFjZXNfbGlzdDtcbiAgICBzaG93X21vZGFsX3RyYWNlc19saXN0ID0gKChyZWYgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBTZXNzaW9uLmdldChcInNwYWNlSWRcIiksXG4gICAgICBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiXG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICByZXR1cm4gIXNob3dfbW9kYWxfdHJhY2VzX2xpc3Q7XG4gIH0sXG4gIGdldEluc3RhbmNlU3RhdGVUZXh0OiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBpbnMsIGxvY2FsZSwgdGV4dDtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfcmVhZDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgICB0ZXh0ID0gJyc7XG4gICAgaWYgKGlucy5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdjb21wbGV0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgICB0ZXh0ID0gVEFQaTE4bi5fXygncGVuZGluZycsIHt9LCBsb2NhbGUpO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnKSB7XG4gICAgICBpZiAoaW5zLmlzX3JlYWQpIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfcmVhZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfbm90X3lldF9oYW5kbGVkJywge30sIGxvY2FsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0O1xuICB9LFxuICBnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGNsYSwgaW5zO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX3JlYWQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNsYSA9ICcnO1xuICAgIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcpIHtcbiAgICAgIGlmIChpbnMuaXNfcmVhZCkge1xuICAgICAgICBjbGEgPSAnYmx1ZSc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbGEgPSAncmVkJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNsYTtcbiAgfSxcbiAgZmlyc3RUcmFjZTogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggPT09IDA7XG4gIH0sXG4gIGxhc3RfZGlzdHJpYnV0ZV9mcm9tOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBkaXNfaW5mbywgaW5zLCB1c2VyO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICBkaXN0cmlidXRlX2Zyb21faW5zdGFuY2U6IHtcbiAgICAgICAgJGV4aXN0czogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgZGlzX2luZm8gPSB7fTtcbiAgICAgIHVzZXIgPSB7fTtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgdXNlciA9IFVVZmxvd19hcGkuZ2V0TmFtZUZvclVzZXIoaW5zLmNyZWF0ZWRfYnkpO1xuICAgICAgfSBlbHNlIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgICAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogaW5zLmNyZWF0ZWRfYnlcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAodXNlci5uYW1lKSB7XG4gICAgICAgIGRpc19pbmZvLmZyb21fdXNlciA9IHVzZXIuX2lkO1xuICAgICAgICBkaXNfaW5mby5mcm9tX3VzZXJfbmFtZSA9IHVzZXIubmFtZTtcbiAgICAgICAgZGlzX2luZm8uY3JlYXRlZCA9IGlucy5jcmVhdGVkO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzRW1wdHkoZGlzX2luZm8pKSB7XG4gICAgICAgIHJldHVybiBkaXNfaW5mbztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGlzQ0NPckRpc3RyaWJ1dGVPckZvcndhcmRUZXJtaW5hdGVkOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKChhcHByb3ZlLnR5cGUgPT09ICdjYycgfHwgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScgfHwgYXBwcm92ZS50eXBlID09PSAnZm9yd2FyZCcpICYmIGFwcHJvdmUuanVkZ2UgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAganVkZ2VUZXJtaW5hdGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBqdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnO1xuICB9LFxuICBpbnN0YW5jZUV4aXN0czogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICByZXR1cm4gISFkYi5pbnN0YW5jZXMuZmluZChpbnN0YW5jZV9pZCkuY291bnQoKTtcbiAgfSxcbiAgYWdlbnREZXNjcmlwdGlvbjogZnVuY3Rpb24odXNlck5hbWUpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICByZXR1cm4gVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgdXNlck5hbWU6IHVzZXJOYW1lXG4gICAgfSwgbG9jYWxlKTtcbiAgfSxcbiAgdHJhY2VOYW1lOiBmdW5jdGlvbihpbnN0YW5jZV9pZCwgdHJhY2VJZCkge1xuICAgIHZhciByZWYsIHJlZjE7XG4gICAgcmV0dXJuIChyZWYgPSBfLmZpbmQoKHJlZjEgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHRyYWNlczogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gcmVmMS50cmFjZXMgOiB2b2lkIDAsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICByZXR1cm4gdHJhY2UuX2lkID09PSB0cmFjZUlkO1xuICAgIH0pKSAhPSBudWxsID8gcmVmLm5hbWUgOiB2b2lkIDA7XG4gIH0sXG4gIG9iamVjdFVybDogZnVuY3Rpb24ob2JqZWN0X25hbWUsIHJlY29yZF9pZCwgYXBwX2lkKSB7XG4gICAgcmV0dXJuIENyZWF0b3IuZ2V0T2JqZWN0VXJsKG9iamVjdF9uYW1lLCByZWNvcmRfaWQsIGFwcF9pZCk7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5kYXRlRm9ybWF0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciB1dGNPZmZzZXQ7XG4gICAgaWYgKGRhdGUpIHtcbiAgICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXQ7XG4gICAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUoZGF0ZSwgdXRjT2Zmc2V0KTtcbiAgICB9XG4gIH07XG4gIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuX3QgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgfTtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5zaG93RGVsZXRlQnV0dG9uID0gZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG59XG5cblRyYWNlc1RlbXBsYXRlLmV2ZW50cyA9IHtcbiAgJ2NsaWNrIC5jYy1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGluc3RhbmNlSWQ7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nICogMSAhPT0gMSkge1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAxO1xuICAgICAgJChcImlcIiwgZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgTWV0ZW9yLmNhbGwoJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgdG9hc3RyLmVycm9yKGVycik7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAwO1xuICAgICAgICAgICQoXCJpXCIsIGV2ZW50LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwiZmEtc3BpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcbiAgICAgICAgICBpZiAoJChcIi5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWxcIikubGVuZ3RoKSB7XG4gICAgICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWNjLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICBNZXRlb3IuY2FsbCgnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcbiAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ2NsaWNrIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBpZiAoISQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KFwiYS5idG4tbGlua1wiKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBNb2RhbC5zaG93KFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXMpO1xuICAgIH1cbiAgfSxcbiAgJ3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIGlmICghJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIE1vZGFsLnNob3coXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpcyk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmFwcHJvdmUtaXRlbSBhLmJ0bi1saW5rLC5hcHByb3ZlLWRlc2NyaXB0aW9uIGEuYnRuLWxpbmssLmFwcHJvdmUtaXRlbS1kaXN0cmlidXRlIGEuYnRuLWxpbmsnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgcmVmLCB1c2VySWQ7XG4gICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgdXNlcklkID0gKHJlZiA9IGV2ZW50LnRhcmdldC5kYXRhc2V0KSAhPSBudWxsID8gcmVmLnRhcmdldF91c2VyX2lkIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIENyZWF0b3Iub3BlblNhZmVPYmplY3RVcmwoJ3VzZXJzJywgdXNlcklkKTtcbiAgICB9XG4gIH0sXG4gICd0YXBlbmQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIGlmICghJChldmVudC50YXJnZXQpLmNsb3Nlc3QoXCJhLmJ0bi1saW5rXCIpLmxlbmd0aCkge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZCwgdHJhY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgIHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgTWV0ZW9yLmNhbGwoJ2ZvcndhcmRfcmVtb3ZlJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoVEFQaTE4bi5fXyhlcnIucmVhc29uKSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJpbnN0YW5jZV9hcHByb3ZlX2ZvcndhcmRfcmVtb3ZlX3N1Y2Nlc3NcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBmb3J3YXJkX2luc3RhbmNlLCBmb3J3YXJkX3NwYWNlO1xuICAgIGZvcndhcmRfc3BhY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkc3BhY2U7XG4gICAgZm9yd2FyZF9pbnN0YW5jZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRpbnN0YW5jZTtcbiAgICByZXR1cm4gU3RlZWRvcy5vcGVuV2luZG93KFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGZvcndhcmRfc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZm9yd2FyZF9pbnN0YW5jZSkpO1xuICB9LFxuICAnY2xpY2sgLmJ0bi1tb2RpZmljYXRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSk7XG4gICAgaWYgKCFTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKCkpIHtcbiAgICAgIHJldHVybiBUcmFja2VyLmFmdGVyRmx1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkKFwiI2luc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbCAjZmluaXNoX2lucHV0XCIpLm9uKFwiZHAuc2hvd1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChcIi5tb2RhbC1ib2R5XCIpLnNjcm9sbFRvcCgxMDApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgJ2NsaWNrIC5idG4tY2FuY2VsQnV0JzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcbiAgfSxcbiAgJ2NsaWNrIC5idG4tc2F2ZUJ1dCc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGZpbmlzaF9pbnB1dCwgaW5zdGFuY2VJZCwgb3Bpbmlvbl9pbnB1dCwgdHJhY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgIHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZTtcbiAgICBvcGluaW9uX2lucHV0ID0gJCgnI29waW5pb25faW5wdXQnKS52YWwoKTtcbiAgICBmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIik7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIHJldHVybiBNZXRlb3IuY2FsbCgnY2hhbmdlX2FwcHJvdmVfaW5mbycsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgb3Bpbmlvbl9pbnB1dCwgZmluaXNoX2lucHV0LCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoVEFQaTE4bi5fXyhlcnIucmVhc29uKSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKHQoXCJpbnN0YW5jZV9hcHByb3ZlX21vZGFsX21vZGlmaWNhdGlvbnNhdmVcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWRpc3RyaWJ1dGUtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZTtcbiAgICByZXR1cm4gTW9kYWwuc2hvdygnY2FuY2VsX2Rpc3RyaWJ1dGVfbW9kYWwnKTtcbiAgfVxufTtcbiIsIlJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyA9XG5cdHNob3dSZWxhdGVkSW5zdGFjZXM6IC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRlbHNlXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXG5cdFx0aWYgaW5zPy5yZWxhdGVkX2luc3RhbmNlcyAmJiBfLmlzQXJyYXkoaW5zPy5yZWxhdGVkX2luc3RhbmNlcylcblx0XHRcdGlmIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7c3BhY2U6IDEsIG5hbWU6IDF9fSkuY291bnQoKSA+IDBcblx0XHRcdFx0cmV0dXJuIHRydWVcblx0XHRcdHJldHVybiBmYWxzZVxuXHRcdGVsc2Vcblx0XHRcdHJldHVybiBmYWxzZVxuXG5cdHJlbGF0ZWRfaW5zdGFjZXM6IC0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblx0XHRlbHNlXG5cdFx0XHRpbnMgPSB0aGlzLmluc3RhbmNlXG5cdFx0aWYgaW5zPy5yZWxhdGVkX2luc3RhbmNlcyAmJiBfLmlzQXJyYXkoaW5zPy5yZWxhdGVkX2luc3RhbmNlcylcblx0XHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXN9fSwge2ZpZWxkczoge3NwYWNlOiAxLCBuYW1lOiAxfX0pLmZldGNoKClcblxuXHRyZWxhdGVkX2luc3RhY2VfdXJsOiAoaW5zKSAtPlxuXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSlcblx0XHRcdHJldHVybiAnJ1xuXG5cdFx0YWJzb2x1dGUgPSBmYWxzZVxuXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGVcblx0XHRpZiBhYnNvbHV0ZVxuXHRcdFx0cmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2lucy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cdFx0ZWxzZVxuXHRcdFx0cmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitpbnMuc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxuXG5cdF90OiAoa2V5KS0+XG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXG5cdFx0ZWxzZVxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxuXG5cdHNob3dfZGVsZXRlOiAoKS0+XG5cdFx0aWYgIU1ldGVvci5pc0NsaWVudFxuXHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0ZWxzZVxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJkcmFmdFwiIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcblx0XHRcdFx0Y3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKClcblx0XHRcdFx0aWYgY3VycmVudF9zdGVwXG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZClcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlIiwiUmVsYXRlZEluc3RhbmNlcy5oZWxwZXJzID0ge1xuICBzaG93UmVsYXRlZEluc3RhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoKGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSAmJiBfLmlzQXJyYXkoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApKSB7XG4gICAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIHJlbGF0ZWRfaW5zdGFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICgoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApICYmIF8uaXNBcnJheShpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgIH1cbiAgfSxcbiAgcmVsYXRlZF9pbnN0YWNlX3VybDogZnVuY3Rpb24oaW5zKSB7XG4gICAgdmFyIGFic29sdXRlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKSkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZTtcbiAgICB9XG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBpbnMuc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgaW5zLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICB9XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpO1xuICAgIH1cbiAgfSxcbiAgc2hvd19kZWxldGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjdXJyZW50X3N0ZXA7XG4gICAgaWYgKCFNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgICAgIGlmIChjdXJyZW50X3N0ZXApIHtcbiAgICAgICAgICBpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIlJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMgPVxuXHRzaG93UmVsYXRlZFJlY29yZHM6ICgpLT5cblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXHRcdGVsc2Vcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2Vcblx0XHRpZiAhaW5zXG5cdFx0XHRyZXR1cm4gZmFsc2Vcblx0XHRyZXR1cm4gIV8uaXNFbXB0eShpbnMucmVjb3JkX2lkcykiLCJSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzID0ge1xuICBzaG93UmVsYXRlZFJlY29yZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhXy5pc0VtcHR5KGlucy5yZWNvcmRfaWRzKTtcbiAgfVxufTtcbiIsIkRlc2lnbmVyQVBJID1cblxuXHRnZXRBYnNvbHV0ZVVybDogKHVybCktPlxuXHRcdHJvb3RVcmwgPSBpZiBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fIHRoZW4gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCBlbHNlIFwiXCJcblx0XHRpZiByb290VXJsXG5cdFx0XHR1cmwgPSByb290VXJsICsgdXJsXG5cdFx0cmV0dXJuIHVybDtcblxuXHR3cml0ZVJlc3BvbnNlOiAocmVzLCBodHRwQ29kZSwgYm9keSktPlxuXHRcdHJlcy5zdGF0dXNDb2RlID0gaHR0cENvZGU7XG5cdFx0cmVzLmVuZChib2R5KTtcblx0XHRcblx0c2VuZEludmFsaWRVUkxSZXNwb25zZTogKHJlcyktPlxuXHRcdHJldHVybiBAd3JpdGVSZXNwb25zZShyZXMsIDQwNCwgXCJ0aGUgcGFyYW0gJ3VybCcgaXMgcmVxdWlyZWQgYXMgcXVlcnlzLlwiKTtcblx0XHRcblx0c2VuZEF1dGhUb2tlbkV4cGlyZWRSZXNwb25zZTogKHJlcyktPlxuXHRcdHJldHVybiBAd3JpdGVSZXNwb25zZShyZXMsIDQwMSwgXCJ0aGUgYXV0aF90b2tlbiBoYXMgZXhwaXJlZC5cIik7XG5cblx0c2VuZEh0bWxSZXNwb25zZTogKHJlcSwgcmVzLCB0eXBlKS0+XG5cdFx0cXVlcnkgPSByZXEucXVlcnlcblx0XHR1cmwgPSBxdWVyeS51cmxcblxuXHRcdGlmIHVybFxuXHRcdFx0dXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHVybClcblx0XHRlbHNlXG5cdFx0XHREZXNpZ25lckFQSS5zZW5kSW52YWxpZFVSTFJlc3BvbnNlIHJlc1xuXHRcdFxuXHRcdHRpdGxlID0gcXVlcnkudGl0bGVcblx0XHRpZiB0aXRsZVxuXHRcdFx0dGl0bGUgPSBkZWNvZGVVUklDb21wb25lbnQodGl0bGUpXG5cdFx0ZWxzZVxuXHRcdFx0dGl0bGUgPSBcIlN0ZWVkb3MgRGVzaWduZXJcIlxuXHRcdFxuXHRcdGVycm9yX21zZyA9IFwiXCJcblxuXHRcdHJldHVybiBAd3JpdGVSZXNwb25zZSByZXMsIDIwMCwgXCJcIlwiXG5cdFx0XHQ8aHRtbD5cblx0XHRcdFx0PGhlYWQ+XG5cdFx0XHRcdFx0PHN0eWxlPlxuXHRcdFx0XHRcdFx0aHRtbCxib2R5e1xuXHRcdFx0XHRcdFx0XHRtYXJnaW46IDA7XG5cdFx0XHRcdFx0XHRcdHBhZGRpbmc6IDA7XG5cdFx0XHRcdFx0XHRcdGhlaWdodDogMTAwJTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJvZHkgeyBcblx0XHRcdFx0XHRcdFx0Zm9udC1mYW1pbHk6ICdTb3VyY2UgU2FucyBQcm8nLCAnSGVsdmV0aWNhIE5ldWUnLCBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmO1xuXHRcdFx0XHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0XHRcdFx0XHRcdGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQubG9hZGluZ3tcblx0XHRcdFx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xuXHRcdFx0XHRcdFx0XHRsZWZ0OiAwcHg7XG5cdFx0XHRcdFx0XHRcdHJpZ2h0OiAwcHg7XG5cdFx0XHRcdFx0XHRcdHRvcDogNTAlO1xuXHRcdFx0XHRcdFx0XHR6LWluZGV4OiAtMTsvKuiuvue9ruS4ui0x77yM5Y+v5Lul5ZyoaWZyYW1l5Yqg6L295Ye65p2l5ZCO6Ieq5Yqo5raI5aSxKi9cblx0XHRcdFx0XHRcdFx0dGV4dC1hbGlnbjogY2VudGVyO1xuXHRcdFx0XHRcdFx0XHRtYXJnaW4tdG9wOiAtMzBweDtcblx0XHRcdFx0XHRcdFx0Zm9udC1zaXplOiAzNnB4O1xuXHRcdFx0XHRcdFx0XHRjb2xvcjogI2RmZGZkZjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdC5lcnJvci1tc2d7XG5cdFx0XHRcdFx0XHRcdHBvc2l0aW9uOiBhYnNvbHV0ZTtcblx0XHRcdFx0XHRcdFx0bGVmdDogMHB4O1xuXHRcdFx0XHRcdFx0XHRyaWdodDogMHB4O1xuXHRcdFx0XHRcdFx0XHRib3R0b206IDIwcHg7XG5cdFx0XHRcdFx0XHRcdHotaW5kZXg6IDExMDA7XG5cdFx0XHRcdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcblx0XHRcdFx0XHRcdFx0Zm9udC1zaXplOiAyMHB4O1xuXHRcdFx0XHRcdFx0XHRjb2xvcjogI2E5NDQ0Mjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHQ8L3N0eWxlPlxuXHRcdFx0XHRcdDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPW5vXCI+XG5cdFx0XHRcdFx0PHRpdGxlPiN7dGl0bGV9PC90aXRsZT5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiMTkyeDE5MlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hbmRyb2lkLWNocm9tZS0xOTJ4MTkyLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJtYW5pZmVzdFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9tYW5pZmVzdC5qc29uXCIpfVwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJtb2JpbGUtd2ViLWFwcC1jYXBhYmxlXCIgY29udGVudD1cInllc1wiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJ0aGVtZS1jb2xvclwiIGNvbnRlbnQ9XCIjMDAwXCI+XG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cImFwcGxpY2F0aW9uLW5hbWVcIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI1N3g1N1wiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTU3eDU3LnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI2MHg2MFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTYweDYwLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI3Mng3MlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTcyeDcyLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCI3Nng3NlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTc2eDc2LnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCIxMTR4MTE0XCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTE0eDExNC5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiMTIweDEyMFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTEyMHgxMjAucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImFwcGxlLXRvdWNoLWljb25cIiBzaXplcz1cIjE0NHgxNDRcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi0xNDR4MTQ0LnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJhcHBsZS10b3VjaC1pY29uXCIgc2l6ZXM9XCIxNTJ4MTUyXCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTUyeDE1Mi5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiYXBwbGUtdG91Y2gtaWNvblwiIHNpemVzPVwiMTgweDE4MFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTE4MHgxODAucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlXCIgY29udGVudD1cInllc1wiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1zdGF0dXMtYmFyLXN0eWxlXCIgY29udGVudD1cImJsYWNrLXRyYW5zbHVjZW50XCI+XG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cImFwcGxlLW1vYmlsZS13ZWItYXBwLXRpdGxlXCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjIyOHgyMjhcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvY29hc3QtMjI4eDIyOC5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjE2eDE2XCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tMTZ4MTYucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cImljb25cIiB0eXBlPVwiaW1hZ2UvcG5nXCIgc2l6ZXM9XCIzMngzMlwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTMyeDMyLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJpY29uXCIgdHlwZT1cImltYWdlL3BuZ1wiIHNpemVzPVwiOTZ4OTZcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi05Nng5Ni5wbmdcIil9XCI+XG5cdFx0XHRcdFx0PGxpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9wbmdcIiBzaXplcz1cIjIzMHgyMzBcIiBocmVmPVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi0yMzB4MjMwLnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bGluayByZWw9XCJzaG9ydGN1dCBpY29uXCIgaHJlZj1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24uaWNvXCIpfVwiPlxuXHRcdFx0XHRcdDxsaW5rIHJlbD1cInlhbmRleC10YWJsZWF1LXdpZGdldFwiIGhyZWY9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy95YW5kZXgtYnJvd3Nlci1tYW5pZmVzdC5qc29uXCIpfVwiPlxuXHRcdFx0XHRcdDxtZXRhIG5hbWU9XCJtc2FwcGxpY2F0aW9uLVRpbGVDb2xvclwiIGNvbnRlbnQ9XCIjZmZmXCI+XG5cdFx0XHRcdFx0PG1ldGEgbmFtZT1cIm1zYXBwbGljYXRpb24tVGlsZUltYWdlXCIgY29udGVudD1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL21zdGlsZS0xNDR4MTQ0LnBuZ1wiKX1cIj5cblx0XHRcdFx0XHQ8bWV0YSBuYW1lPVwibXNhcHBsaWNhdGlvbi1jb25maWdcIiBjb250ZW50PVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYnJvd3NlcmNvbmZpZy54bWxcIil9XCI+XG5cdFx0XHRcdFx0PG1ldGEgcHJvcGVydHk9XCJ0d2l0dGVyOmltYWdlXCIgY29udGVudD1cIiN7QGdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL3R3aXR0ZXIucG5nXCIpfVwiPlxuXHRcdFx0XHRcdDxtZXRhIHByb3BlcnR5PVwib2c6aW1hZ2VcIiBjb250ZW50PVwiI3tAZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvb3Blbi1ncmFwaC5wbmdcIil9XCI+XG5cdFx0XHRcdDwvaGVhZD5cblx0XHRcdFx0PGJvZHk+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcyA9IFwibG9hZGluZ1wiPkxvYWRpbmcuLi48L2Rpdj5cblx0XHRcdFx0XHQ8ZGl2IGNsYXNzID0gXCJlcnJvci1tc2dcIj4je2Vycm9yX21zZ308L2Rpdj5cblx0XHRcdFx0XHQ8aWZyYW1lIGlkPVwiaWZyRGVzaWduZXJcIiBzcmM9XCJcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgbndkaXNhYmxlPVwidHJ1ZVwiIGZyYW1lYm9yZGVyPVwibm9cIiBib3JkZXI9XCIwXCIgbWFyZ2lud2lkdGg9XCIwXCIgbWFyZ2luaGVpZ2h0PVwiMFwiIHNjcm9sbGluZz1cIm5vXCIgYWxsb3d0cmFuc3BhcmVuY3k9XCJ5ZXNcIj48L2lmcmFtZT5cblx0XHRcdFx0XHQ8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBzcmM9XCIje0BnZXRBYnNvbHV0ZVVybChcIi9saWIvanF1ZXJ5L2pxdWVyeS0xLjExLjIubWluLmpzXCIpfVwiPjwvc2NyaXB0PlxuXHRcdFx0XHRcdDxzY3JpcHQgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPlxuXHRcdFx0XHRcdFx0dmFyIGRlc2lnbmVyID0ge1xuXHRcdFx0XHRcdFx0XHR1cmxRdWVyeTpmdW5jdGlvbihuYW1lKXtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmVnID0gbmV3IFJlZ0V4cChcIihefCYpXCIgKyBuYW1lICsgXCI9KFteJl0qKSgmfCQpXCIpO1xuXHRcdFx0XHRcdFx0XHRcdHZhciByID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAociAhPSBudWxsKSByZXR1cm4gdW5lc2NhcGUoclsyXSk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHJ1bjpmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0XHRcdHZhciB1cmwgPSB0aGlzLnVybFF1ZXJ5KFwidXJsXCIpO1xuXHRcdFx0XHRcdFx0XHRcdHVybCA9IGRlY29kZVVSSUNvbXBvbmVudCh1cmwpO1xuXHRcdFx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0XHRcdGlmKHVybCl7XG5cdFx0XHRcdFx0XHRcdFx0XHQkKFwiI2lmckRlc2lnbmVyXCIpLmF0dHIoXCJzcmNcIix1cmwpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR2YXIgU3RlZWRvcyA9IHdpbmRvdy5vcGVuZXIuU3RlZWRvcyB8fCBudWxsO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChTdGVlZG9zKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRTdGVlZG9zLmZvcmJpZE5vZGVDb250ZXh0bWVudSh3aW5kb3cpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdCQoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdFx0ZGVzaWduZXIucnVuKCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQ8L3NjcmlwdD5cblx0XHRcdFx0PGJvZHk+XG5cdFx0XHQ8L2h0bWw+XG5cdFx0XCJcIlwiXG5cbkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9kZXNpZ25lcj91cmw9OnVybCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0RGVzaWduZXJBUEkuc2VuZEh0bWxSZXNwb25zZSByZXEsIHJlc1xuXG4iLCJ2YXIgRGVzaWduZXJBUEk7XG5cbkRlc2lnbmVyQVBJID0ge1xuICBnZXRBYnNvbHV0ZVVybDogZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIHJvb3RVcmw7XG4gICAgcm9vdFVybCA9IF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18gPyBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYIDogXCJcIjtcbiAgICBpZiAocm9vdFVybCkge1xuICAgICAgdXJsID0gcm9vdFVybCArIHVybDtcbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbiAgfSxcbiAgd3JpdGVSZXNwb25zZTogZnVuY3Rpb24ocmVzLCBodHRwQ29kZSwgYm9keSkge1xuICAgIHJlcy5zdGF0dXNDb2RlID0gaHR0cENvZGU7XG4gICAgcmV0dXJuIHJlcy5lbmQoYm9keSk7XG4gIH0sXG4gIHNlbmRJbnZhbGlkVVJMUmVzcG9uc2U6IGZ1bmN0aW9uKHJlcykge1xuICAgIHJldHVybiB0aGlzLndyaXRlUmVzcG9uc2UocmVzLCA0MDQsIFwidGhlIHBhcmFtICd1cmwnIGlzIHJlcXVpcmVkIGFzIHF1ZXJ5cy5cIik7XG4gIH0sXG4gIHNlbmRBdXRoVG9rZW5FeHBpcmVkUmVzcG9uc2U6IGZ1bmN0aW9uKHJlcykge1xuICAgIHJldHVybiB0aGlzLndyaXRlUmVzcG9uc2UocmVzLCA0MDEsIFwidGhlIGF1dGhfdG9rZW4gaGFzIGV4cGlyZWQuXCIpO1xuICB9LFxuICBzZW5kSHRtbFJlc3BvbnNlOiBmdW5jdGlvbihyZXEsIHJlcywgdHlwZSkge1xuICAgIHZhciBlcnJvcl9tc2csIHF1ZXJ5LCB0aXRsZSwgdXJsO1xuICAgIHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICAgIHVybCA9IHF1ZXJ5LnVybDtcbiAgICBpZiAodXJsKSB7XG4gICAgICB1cmwgPSBkZWNvZGVVUklDb21wb25lbnQodXJsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgRGVzaWduZXJBUEkuc2VuZEludmFsaWRVUkxSZXNwb25zZShyZXMpO1xuICAgIH1cbiAgICB0aXRsZSA9IHF1ZXJ5LnRpdGxlO1xuICAgIGlmICh0aXRsZSkge1xuICAgICAgdGl0bGUgPSBkZWNvZGVVUklDb21wb25lbnQodGl0bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aXRsZSA9IFwiU3RlZWRvcyBEZXNpZ25lclwiO1xuICAgIH1cbiAgICBlcnJvcl9tc2cgPSBcIlwiO1xuICAgIHJldHVybiB0aGlzLndyaXRlUmVzcG9uc2UocmVzLCAyMDAsIFwiPGh0bWw+XFxuXHQ8aGVhZD5cXG5cdFx0PHN0eWxlPlxcblx0XHRcdGh0bWwsYm9keXtcXG5cdFx0XHRcdG1hcmdpbjogMDtcXG5cdFx0XHRcdHBhZGRpbmc6IDA7XFxuXHRcdFx0XHRoZWlnaHQ6IDEwMCU7XFxuXHRcdFx0fVxcblx0XHRcdGJvZHkgeyBcXG5cdFx0XHRcdGZvbnQtZmFtaWx5OiAnU291cmNlIFNhbnMgUHJvJywgJ0hlbHZldGljYSBOZXVlJywgSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjtcXG5cdFx0XHRcdHRleHQtYWxpZ246IGNlbnRlcjtcXG5cdFx0XHRcdGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuXHRcdFx0fVxcblx0XHRcdC5sb2FkaW5ne1xcblx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xcblx0XHRcdFx0bGVmdDogMHB4O1xcblx0XHRcdFx0cmlnaHQ6IDBweDtcXG5cdFx0XHRcdHRvcDogNTAlO1xcblx0XHRcdFx0ei1pbmRleDogLTE7Lyrorr7nva7kuLotMe+8jOWPr+S7peWcqGlmcmFtZeWKoOi9veWHuuadpeWQjuiHquWKqOa2iOWksSovXFxuXHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXHRcdFx0XHRtYXJnaW4tdG9wOiAtMzBweDtcXG5cdFx0XHRcdGZvbnQtc2l6ZTogMzZweDtcXG5cdFx0XHRcdGNvbG9yOiAjZGZkZmRmO1xcblx0XHRcdH1cXG5cdFx0XHQuZXJyb3ItbXNne1xcblx0XHRcdFx0cG9zaXRpb246IGFic29sdXRlO1xcblx0XHRcdFx0bGVmdDogMHB4O1xcblx0XHRcdFx0cmlnaHQ6IDBweDtcXG5cdFx0XHRcdGJvdHRvbTogMjBweDtcXG5cdFx0XHRcdHotaW5kZXg6IDExMDA7XFxuXHRcdFx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XFxuXHRcdFx0XHRmb250LXNpemU6IDIwcHg7XFxuXHRcdFx0XHRjb2xvcjogI2E5NDQ0MjtcXG5cdFx0XHR9XFxuXHRcdDwvc3R5bGU+XFxuXHRcdDxtZXRhIGNoYXJzZXQ9XFxcInV0Zi04XFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCBtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9bm9cXFwiPlxcblx0XHQ8dGl0bGU+XCIgKyB0aXRsZSArIFwiPC90aXRsZT5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCIxOTJ4MTkyXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FuZHJvaWQtY2hyb21lLTE5MngxOTIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJtYW5pZmVzdFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9tYW5pZmVzdC5qc29uXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwibW9iaWxlLXdlYi1hcHAtY2FwYWJsZVxcXCIgY29udGVudD1cXFwieWVzXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwidGhlbWUtY29sb3JcXFwiIGNvbnRlbnQ9XFxcIiMwMDBcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJhcHBsaWNhdGlvbi1uYW1lXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiNTd4NTdcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi01N3g1Ny5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCI2MHg2MFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9hcHBsZS10b3VjaC1pY29uLTYweDYwLnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiYXBwbGUtdG91Y2gtaWNvblxcXCIgc2l6ZXM9XFxcIjcyeDcyXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tNzJ4NzIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJhcHBsZS10b3VjaC1pY29uXFxcIiBzaXplcz1cXFwiNzZ4NzZcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvYXBwbGUtdG91Y2gtaWNvbi03Nng3Ni5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxMTR4MTE0XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTE0eDExNC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxMjB4MTIwXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTIweDEyMC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxNDR4MTQ0XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTQ0eDE0NC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxNTJ4MTUyXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTUyeDE1Mi5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImFwcGxlLXRvdWNoLWljb25cXFwiIHNpemVzPVxcXCIxODB4MTgwXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2FwcGxlLXRvdWNoLWljb24tMTgweDE4MC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlXFxcIiBjb250ZW50PVxcXCJ5ZXNcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJhcHBsZS1tb2JpbGUtd2ViLWFwcC1zdGF0dXMtYmFyLXN0eWxlXFxcIiBjb250ZW50PVxcXCJibGFjay10cmFuc2x1Y2VudFxcXCI+XFxuXHRcdDxtZXRhIG5hbWU9XFxcImFwcGxlLW1vYmlsZS13ZWItYXBwLXRpdGxlXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCIyMjh4MjI4XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2NvYXN0LTIyOHgyMjgucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCIxNngxNlxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9mYXZpY29uLTE2eDE2LnBuZ1wiKSkgKyBcIlxcXCI+XFxuXHRcdDxsaW5rIHJlbD1cXFwiaWNvblxcXCIgdHlwZT1cXFwiaW1hZ2UvcG5nXFxcIiBzaXplcz1cXFwiMzJ4MzJcXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi0zMngzMi5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcImljb25cXFwiIHR5cGU9XFxcImltYWdlL3BuZ1xcXCIgc2l6ZXM9XFxcIjk2eDk2XFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tOTZ4OTYucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PGxpbmsgcmVsPVxcXCJpY29uXFxcIiB0eXBlPVxcXCJpbWFnZS9wbmdcXFwiIHNpemVzPVxcXCIyMzB4MjMwXFxcIiBocmVmPVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL2Zhdmljb24tMjMweDIzMC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcInNob3J0Y3V0IGljb25cXFwiIGhyZWY9XFxcIlwiICsgKHRoaXMuZ2V0QWJzb2x1dGVVcmwoXCIvZmF2aWNvbnMvZmF2aWNvbi5pY29cIikpICsgXCJcXFwiPlxcblx0XHQ8bGluayByZWw9XFxcInlhbmRleC10YWJsZWF1LXdpZGdldFxcXCIgaHJlZj1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy95YW5kZXgtYnJvd3Nlci1tYW5pZmVzdC5qc29uXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgbmFtZT1cXFwibXNhcHBsaWNhdGlvbi1UaWxlQ29sb3JcXFwiIGNvbnRlbnQ9XFxcIiNmZmZcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJtc2FwcGxpY2F0aW9uLVRpbGVJbWFnZVxcXCIgY29udGVudD1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9tc3RpbGUtMTQ0eDE0NC5wbmdcIikpICsgXCJcXFwiPlxcblx0XHQ8bWV0YSBuYW1lPVxcXCJtc2FwcGxpY2F0aW9uLWNvbmZpZ1xcXCIgY29udGVudD1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9mYXZpY29ucy9icm93c2VyY29uZmlnLnhtbFwiKSkgKyBcIlxcXCI+XFxuXHRcdDxtZXRhIHByb3BlcnR5PVxcXCJ0d2l0dGVyOmltYWdlXFxcIiBjb250ZW50PVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL3R3aXR0ZXIucG5nXCIpKSArIFwiXFxcIj5cXG5cdFx0PG1ldGEgcHJvcGVydHk9XFxcIm9nOmltYWdlXFxcIiBjb250ZW50PVxcXCJcIiArICh0aGlzLmdldEFic29sdXRlVXJsKFwiL2Zhdmljb25zL29wZW4tZ3JhcGgucG5nXCIpKSArIFwiXFxcIj5cXG5cdDwvaGVhZD5cXG5cdDxib2R5Plxcblx0XHQ8ZGl2IGNsYXNzID0gXFxcImxvYWRpbmdcXFwiPkxvYWRpbmcuLi48L2Rpdj5cXG5cdFx0PGRpdiBjbGFzcyA9IFxcXCJlcnJvci1tc2dcXFwiPlwiICsgZXJyb3JfbXNnICsgXCI8L2Rpdj5cXG5cdFx0PGlmcmFtZSBpZD1cXFwiaWZyRGVzaWduZXJcXFwiIHNyYz1cXFwiXFxcIiB3aWR0aD1cXFwiMTAwJVxcXCIgaGVpZ2h0PVxcXCIxMDAlXFxcIiBud2Rpc2FibGU9XFxcInRydWVcXFwiIGZyYW1lYm9yZGVyPVxcXCJub1xcXCIgYm9yZGVyPVxcXCIwXFxcIiBtYXJnaW53aWR0aD1cXFwiMFxcXCIgbWFyZ2luaGVpZ2h0PVxcXCIwXFxcIiBzY3JvbGxpbmc9XFxcIm5vXFxcIiBhbGxvd3RyYW5zcGFyZW5jeT1cXFwieWVzXFxcIj48L2lmcmFtZT5cXG5cdFx0PHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiIHNyYz1cXFwiXCIgKyAodGhpcy5nZXRBYnNvbHV0ZVVybChcIi9saWIvanF1ZXJ5L2pxdWVyeS0xLjExLjIubWluLmpzXCIpKSArIFwiXFxcIj48L3NjcmlwdD5cXG5cdFx0PHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPlxcblx0XHRcdHZhciBkZXNpZ25lciA9IHtcXG5cdFx0XHRcdHVybFF1ZXJ5OmZ1bmN0aW9uKG5hbWUpe1xcblx0XHRcdFx0XHR2YXIgcmVnID0gbmV3IFJlZ0V4cChcXFwiKF58JilcXFwiICsgbmFtZSArIFxcXCI9KFteJl0qKSgmfCQpXFxcIik7XFxuXHRcdFx0XHRcdHZhciByID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHIoMSkubWF0Y2gocmVnKTtcXG5cdFx0XHRcdFx0aWYgKHIgIT0gbnVsbCkgcmV0dXJuIHVuZXNjYXBlKHJbMl0pO1xcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcXG5cdFx0XHRcdH0sXFxuXHRcdFx0XHRydW46ZnVuY3Rpb24oKXtcXG5cdFx0XHRcdFx0dmFyIHVybCA9IHRoaXMudXJsUXVlcnkoXFxcInVybFxcXCIpO1xcblx0XHRcdFx0XHR1cmwgPSBkZWNvZGVVUklDb21wb25lbnQodXJsKTtcXG5cdFx0XHRcdFx0XFxuXHRcdFx0XHRcdGlmKHVybCl7XFxuXHRcdFx0XHRcdFx0JChcXFwiI2lmckRlc2lnbmVyXFxcIikuYXR0cihcXFwic3JjXFxcIix1cmwpO1xcblx0XHRcdFx0XHR9XFxuXHRcdFx0XHRcdHZhciBTdGVlZG9zID0gd2luZG93Lm9wZW5lci5TdGVlZG9zIHx8IG51bGw7XFxuXHRcdFx0XHRcdGlmIChTdGVlZG9zKSB7XFxuXHRcdFx0XHRcdFx0U3RlZWRvcy5mb3JiaWROb2RlQ29udGV4dG1lbnUod2luZG93KTtcXG5cdFx0XHRcdFx0fVxcblx0XHRcdFx0fVxcblx0XHRcdH07XFxuXHRcdFx0JChmdW5jdGlvbigpe1xcblx0XHRcdFx0ZGVzaWduZXIucnVuKCk7XFxuXHRcdFx0fSk7XFxuXHRcdDwvc2NyaXB0Plxcblx0PGJvZHk+XFxuPC9odG1sPlwiKTtcbiAgfVxufTtcblxuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L2Rlc2lnbmVyP3VybD06dXJsJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgcmV0dXJuIERlc2lnbmVyQVBJLnNlbmRIdG1sUmVzcG9uc2UocmVxLCByZXMpO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldFNwYWNlVXNlcnNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhclxuICAgIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzLFxuICAgIHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcbiAgICBzcGFjZVVzZXJzID0gW11cbiAgO1xuXG4gIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHVzZXJJZHMpO1xuXG4gIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXG4gICAgfVxuICB9KTtcbn0pXG5cblxuICBcbiAgIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXRGb3JtdWxhVXNlck9iamVjdHNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhclxuICAgIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzLFxuICAgIHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcbiAgICBzcGFjZVVzZXJzID0gW11cbiAgO1xuXG4gIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgdXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgdXNlcklkcyk7XG5cbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnc3BhY2VVc2Vycyc6IHVzZXJzXG4gICAgfVxuICB9KTtcbn0pXG5cblxuICBcbiAgIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9pbml0X2Zvcm11bGFfdmFsdWVzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG5cdHZhclxuXHRcdGZpZWxkcyA9IHJlcS5ib2R5LmZpZWxkcyxcblx0XHRhdXRvRm9ybURvYyA9IHJlcS5ib2R5LmF1dG9Gb3JtRG9jLFxuXHRcdGFwcHJvdmVyID0gcmVxLmJvZHkuYXBwcm92ZXIsXG5cdFx0YXBwbGljYW50ID0gcmVxLmJvZHkuYXBwbGljYW50LFxuXG5cdFx0c3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxuXG5cdFx0c3BhY2VVc2VycyA9IFtdO1xuXG5cdGlmICghZmllbGRzIHx8ICFzcGFjZUlkIHx8ICFhdXRvRm9ybURvYyB8fCAhYXBwcm92ZXIgfHwgIWFwcGxpY2FudCkge1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Zm9ybXVsYV92YWx1ZXMgPSBGb3JtX2Zvcm11bGEuaW5pdF9mb3JtdWxhX3ZhbHVlcyhmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKTtcblxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0Y29kZTogMjAwLFxuXHRcdGRhdGE6IHtcblx0XHRcdCdmb3JtdWxhX3ZhbHVlcyc6IGZvcm11bGFfdmFsdWVzXG5cdFx0fVxuXHR9KTtcbn0pXG4iLCJKc29uUm91dGVzLmFkZCBcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldE5hbWVGb3JVc2VyXCIsICAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdHVzZXJJZCA9IHJlcS5ib2R5LnVzZXJJZFxuXG5cdFx0aWYgbm90IHVzZXJJZCBcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIFxuXHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdFx0fVxuXG5cdFx0dXNlciA9IFdvcmtmbG93TWFuYWdlci5nZXROYW1lRm9yVXNlcih1c2VySWQpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCBcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHt1c2VyOiB1c2VyfVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XG5cdFxuXHRcdFxuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXROYW1lRm9yVXNlclwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZSwgdXNlciwgdXNlcklkO1xuICB0cnkge1xuICAgIHVzZXJJZCA9IHJlcS5ib2R5LnVzZXJJZDtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHVzZXIgPSBXb3JrZmxvd01hbmFnZXIuZ2V0TmFtZUZvclVzZXIodXNlcklkKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICB1c2VyOiB1c2VyXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvZGVzaWduZXIvc3RhcnR1cCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0Y29tcGFueUlkID0gcmVxLnF1ZXJ5Py5jb21wYW55SWQgfHwgJydcblxuXHRcdHNwYWNlc1F1ZXJ5ID0geyBhZG1pbnM6IGN1cnJlbnRfdXNlciB9XG5cblx0XHRpZiBjb21wYW55SWRcblx0XHRcdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjb21wYW55SWQsIHsgZmllbGRzOiB7IHNwYWNlOjEgfSB9KVxuXHRcdFx0aWYgbm90IG9yZ1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjb21wYW55SWQgaXMgaW52YWxpZCcpXG5cblx0XHRcdHNwYWNlc1F1ZXJ5ID0geyBfaWQ6IG9yZy5zcGFjZSB9XG5cblx0XHRzcGFjZXMgPSBkYi5zcGFjZXMuZmluZChzcGFjZXNRdWVyeSkuZmV0Y2goKVxuXG5cdFx0c3BhY2VJZHMgPSBfLnBsdWNrIHNwYWNlcywgJ19pZCdcblxuXHRcdHF1ZXJ5ID0geyBzcGFjZTogeyAkaW46IHNwYWNlSWRzIH0gfVxuXHRcdGlmIGNvbXBhbnlJZFxuXHRcdFx0cXVlcnkuY29tcGFueV9pZCA9IGNvbXBhbnlJZFxuXG5cdFx0c3BhY2VVc2VycyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQocXVlcnkpLmZldGNoKClcblxuXHRcdGZvcm1zID0gZGIuZm9ybXMuZmluZChxdWVyeSwgeyBmaWVsZHM6IHsgbmFtZToxLCBzdGF0ZToxLCBpc19kZWxldGVkOjEsIGlzX3ZhbGlkOjEsIHNwYWNlOjEsIGRlc2NyaXB0aW9uOjEsIGhlbHBfdGV4dDoxLFxuXHRcdGNyZWF0ZWQ6MSwgY3JlYXRlZF9ieToxLCBjdXJyZW50OjEsIGNhdGVnb3J5OjEsIGluc3RhbmNlX3N0eWxlOjEsIGNvbXBhbnlfaWQ6MSB9IH0pLmZldGNoKClcblxuXHRcdGZsb3dzID0gZGIuZmxvd3MuZmluZChxdWVyeSwgeyBmaWVsZHM6IHsgbmFtZToxLCBuYW1lX2Zvcm11bGE6MSwgY29kZV9mb3JtdWxhOjEsIHNwYWNlOjEsIGRlc2NyaXB0aW9uOjEsIGlzX3ZhbGlkOjEsIGZvcm06MSxcblx0XHRmbG93dHlwZToxLCBzdGF0ZToxLCBpc19kZWxldGVkOjEsIGNyZWF0ZWQ6MSwgY3JlYXRlZF9ieToxLCBoZWxwX3RleHQ6MSwgY3VycmVudF9ubzoxLCBjdXJyZW50OjEsIHBlcm1zOjEsIGVycm9yX21lc3NhZ2U6MSwgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczoxLCBjb21wYW55X2lkOjEgfSB9KS5mZXRjaCgpXG5cblx0XHRyb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZChxdWVyeSkuZmV0Y2goKVxuXG5cdFx0b3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKVxuXG5cdFx0cG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKVxuXG5cdFx0Y2F0ZWdvcmllcyA9IGRiLmNhdGVnb3JpZXMuZmluZCh7IHNwYWNlOiB7ICRpbjogc3BhY2VJZHMgfSB9KS5mZXRjaCgpXG5cblx0XHR1c2VySWRzID0gXy5wbHVjayBzcGFjZVVzZXJzLCAndXNlcidcblx0XHR1c2VycyA9IGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHsgJGluOiB1c2VySWRzIH0gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pLmZldGNoKClcblxuXHRcdHJlc3VsdCA9IHt9XG5cdFx0cmVzdWx0LlNwYWNlVXNlcnMgPSBzcGFjZVVzZXJzXG5cdFx0cmVzdWx0LlVzZXJzID0gdXNlcnNcblx0XHRyZXN1bHQuRm9ybXMgPSBmb3Jtc1xuXHRcdHJlc3VsdC5GbG93cyA9IGZsb3dzXG5cdFx0cmVzdWx0Lk9yZ2FuaXphdGlvbnMgPSBvcmdhbml6YXRpb25zXG5cdFx0cmVzdWx0LlBvc2l0aW9ucyA9IHBvc2l0aW9uc1xuXHRcdHJlc3VsdC5Sb2xlcyA9IHJvbGVzXG5cdFx0cmVzdWx0LkNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzXG5cdFx0cmVzdWx0LlNwYWNlcyA9IHNwYWNlc1xuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IHJlc3VsdFxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XG5cbiIsIkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS9kZXNpZ25lci9zdGFydHVwJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGNhdGVnb3JpZXMsIGNvbXBhbnlJZCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvd3MsIGZvcm1zLCBvcmcsIG9yZ2FuaXphdGlvbnMsIHBvc2l0aW9ucywgcXVlcnksIHJlZiwgcmVzdWx0LCByb2xlcywgc3BhY2VJZHMsIHNwYWNlVXNlcnMsIHNwYWNlcywgc3BhY2VzUXVlcnksIHVzZXJJZHMsIHVzZXJzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGNvbXBhbnlJZCA9ICgocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmNvbXBhbnlJZCA6IHZvaWQgMCkgfHwgJyc7XG4gICAgc3BhY2VzUXVlcnkgPSB7XG4gICAgICBhZG1pbnM6IGN1cnJlbnRfdXNlclxuICAgIH07XG4gICAgaWYgKGNvbXBhbnlJZCkge1xuICAgICAgb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGNvbXBhbnlJZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghb3JnKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NvbXBhbnlJZCBpcyBpbnZhbGlkJyk7XG4gICAgICB9XG4gICAgICBzcGFjZXNRdWVyeSA9IHtcbiAgICAgICAgX2lkOiBvcmcuc3BhY2VcbiAgICAgIH07XG4gICAgfVxuICAgIHNwYWNlcyA9IGRiLnNwYWNlcy5maW5kKHNwYWNlc1F1ZXJ5KS5mZXRjaCgpO1xuICAgIHNwYWNlSWRzID0gXy5wbHVjayhzcGFjZXMsICdfaWQnKTtcbiAgICBxdWVyeSA9IHtcbiAgICAgIHNwYWNlOiB7XG4gICAgICAgICRpbjogc3BhY2VJZHNcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChjb21wYW55SWQpIHtcbiAgICAgIHF1ZXJ5LmNvbXBhbnlfaWQgPSBjb21wYW55SWQ7XG4gICAgfVxuICAgIHNwYWNlVXNlcnMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIGZvcm1zID0gZGIuZm9ybXMuZmluZChxdWVyeSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19kZWxldGVkOiAxLFxuICAgICAgICBpc192YWxpZDogMSxcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgICBoZWxwX3RleHQ6IDEsXG4gICAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWRfYnk6IDEsXG4gICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgIGNhdGVnb3J5OiAxLFxuICAgICAgICBpbnN0YW5jZV9zdHlsZTogMSxcbiAgICAgICAgY29tcGFueV9pZDogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHF1ZXJ5LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgbmFtZV9mb3JtdWxhOiAxLFxuICAgICAgICBjb2RlX2Zvcm11bGE6IDEsXG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgICAgaXNfdmFsaWQ6IDEsXG4gICAgICAgIGZvcm06IDEsXG4gICAgICAgIGZsb3d0eXBlOiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfZGVsZXRlZDogMSxcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMSxcbiAgICAgICAgaGVscF90ZXh0OiAxLFxuICAgICAgICBjdXJyZW50X25vOiAxLFxuICAgICAgICBjdXJyZW50OiAxLFxuICAgICAgICBwZXJtczogMSxcbiAgICAgICAgZXJyb3JfbWVzc2FnZTogMSxcbiAgICAgICAgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcbiAgICAgICAgY29tcGFueV9pZDogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIGNhdGVnb3JpZXMgPSBkYi5jYXRlZ29yaWVzLmZpbmQoe1xuICAgICAgc3BhY2U6IHtcbiAgICAgICAgJGluOiBzcGFjZUlkc1xuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgdXNlcklkcyA9IF8ucGx1Y2soc3BhY2VVc2VycywgJ3VzZXInKTtcbiAgICB1c2VycyA9IGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogdXNlcklkc1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByZXN1bHQgPSB7fTtcbiAgICByZXN1bHQuU3BhY2VVc2VycyA9IHNwYWNlVXNlcnM7XG4gICAgcmVzdWx0LlVzZXJzID0gdXNlcnM7XG4gICAgcmVzdWx0LkZvcm1zID0gZm9ybXM7XG4gICAgcmVzdWx0LkZsb3dzID0gZmxvd3M7XG4gICAgcmVzdWx0Lk9yZ2FuaXphdGlvbnMgPSBvcmdhbml6YXRpb25zO1xuICAgIHJlc3VsdC5Qb3NpdGlvbnMgPSBwb3NpdGlvbnM7XG4gICAgcmVzdWx0LlJvbGVzID0gcm9sZXM7XG4gICAgcmVzdWx0LkNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuICAgIHJlc3VsdC5TcGFjZXMgPSBzcGFjZXM7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3VsdFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9kcmFmdHMnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxuXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0bmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbylcblxuXHRcdFx0bmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBuZXdfaW5zX2lkIH0sIHsgZmllbGRzOiB7IHNwYWNlOiAxLCBmbG93OiAxLCBmbG93X3ZlcnNpb246IDEsIGZvcm06IDEsIGZvcm1fdmVyc2lvbjogMSB9IH0pXG5cblx0XHRcdGluc2VydGVkX2luc3RhbmNlcy5wdXNoKG5ld19pbnMpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzIH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XG5cdFx0fVxuXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2RyYWZ0cycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgaW5zZXJ0ZWRfaW5zdGFuY2VzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgbmV3X2lucywgbmV3X2luc19pZDtcbiAgICAgIG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgbmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBuZXdfaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIGZsb3c6IDEsXG4gICAgICAgICAgZmxvd192ZXJzaW9uOiAxLFxuICAgICAgICAgIGZvcm06IDEsXG4gICAgICAgICAgZm9ybV92ZXJzaW9uOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluc2VydGVkX2luc3RhbmNlcy5wdXNoKG5ld19pbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZW1vdmUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblxuXHRcdGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheVxuXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mbG93fSlcblxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogc3BhY2VfdXNlci5vcmdhbml6YXRpb25zXG5cdFx0XHRcdH1cblx0XHRcdH0pLmZldGNoKCk7XG5cblx0XHRcdCMg5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIXmiJbogIXnlLPor7fkurog5oiWU3BhY2VBZG1pblxuXHRcdFx0aWYgKGluc3RhbmNlLnN1Ym1pdHRlciBpc250IGN1cnJlbnRfdXNlcikgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzIGN1cnJlbnRfdXNlcikgYW5kICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmxvdywgc3BhY2VfdXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucylcblx0XHRcdFx0dGhyb3cgbmV3ICBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oKo5LiN6IO95Yig6Zmk5q2k55Sz6K+35Y2V44CCXCIpXG5cblx0XHRcdGRlbGV0ZV9vYmogPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcblx0XHRcdGRlbGV0ZV9vYmouZGVsZXRlZCA9IG5ldyBEYXRlXG5cdFx0XHRkZWxldGVfb2JqLmRlbGV0ZWRfYnkgPSBjdXJyZW50X3VzZXJcblxuXHRcdFx0ZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGRlbGV0ZV9vYmopXG5cblx0XHRcdCMg5Yig6ZmkaW5zdGFuY2Vcblx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXG5cblx0XHRcdGlmIGRlbGV0ZV9vYmouc3RhdGUgaXNudCBcImRyYWZ0XCJcblx0XHRcdFx0I+WPkemAgee7meW+heWkhOeQhuS6uiwgI+WPkemAgee7meiiq+S8oOmYheS6ulxuXHRcdFx0XHRpbmJveF91c2VycyA9IGlmIGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgdGhlbiBkZWxldGVfb2JqLmluYm94X3VzZXJzIGVsc2UgW11cblx0XHRcdFx0Y2NfdXNlcnMgPSBpZiBkZWxldGVfb2JqLmNjX3VzZXJzIHRoZW4gZGVsZXRlX29iai5jY191c2VycyBlbHNlIFtdXG5cdFx0XHRcdHVzZXJfaWRzID0gXy51bmlxKGluYm94X3VzZXJzLmNvbmNhdChjY191c2VycykpXG5cdFx0XHRcdF8uZWFjaCB1c2VyX2lkcywgKHVfaWQpLT5cblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdV9pZClcblxuXHRcdFx0XHQjIOWPkemAgeWIoOmZpOmAmuefpemCruS7tue7memAmui/h+agoemqjOeahOeUs+ivt+S6ui/loavljZXkurrvvIzlr7nnlLPor7fkurov5aGr5Y2V5Lq65ZCE55Sf5oiQ5LiA5p2hc210cCBtZXNzYWdlXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwibW9uaXRvcl9kZWxldGVfYXBwbGljYW50XCIsIGRlbGV0ZV9vYmosIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXN9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuXHRcblx0XHQiLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbW92ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgaW5zZXJ0ZWRfaW5zdGFuY2VzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY2NfdXNlcnMsIGRlbGV0ZV9vYmosIGZsb3csIGluYm94X3VzZXJzLCBpbnN0YW5jZSwgc3BhY2UsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCB1c2VyX2lkcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mbG93XG4gICAgICB9KTtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uc1xuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgaWYgKChpbnN0YW5jZS5zdWJtaXR0ZXIgIT09IGN1cnJlbnRfdXNlcikgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbG93LCBzcGFjZV91c2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaCqOS4jeiDveWIoOmZpOatpOeUs+ivt+WNleOAglwiKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZV9vYmogPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBkZWxldGVfb2JqLmRlbGV0ZWQgPSBuZXcgRGF0ZTtcbiAgICAgIGRlbGV0ZV9vYmouZGVsZXRlZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChkZWxldGVfb2JqKTtcbiAgICAgIGRiLmluc3RhbmNlcy5yZW1vdmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgaWYgKGRlbGV0ZV9vYmouc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgICBpbmJveF91c2VycyA9IGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgPyBkZWxldGVfb2JqLmluYm94X3VzZXJzIDogW107XG4gICAgICAgIGNjX3VzZXJzID0gZGVsZXRlX29iai5jY191c2VycyA/IGRlbGV0ZV9vYmouY2NfdXNlcnMgOiBbXTtcbiAgICAgICAgdXNlcl9pZHMgPSBfLnVuaXEoaW5ib3hfdXNlcnMuY29uY2F0KGNjX3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaCh1c2VyX2lkcywgZnVuY3Rpb24odV9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdV9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJtb25pdG9yX2RlbGV0ZV9hcHBsaWNhbnRcIiwgZGVsZXRlX29iaiwgXCJcIiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWFzc2lnbicsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ19pZCddXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHQjIOmqjOivgWluc3RhbmNl5Li65a6h5qC45Lit54q25oCBXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxuXHRcdFx0IyDpqozor4HlvZPliY3miafooYzovaznrb7moLjnmoR0cmFjZeacque7k+adn1xuXHRcdFx0bGFzdF90cmFjZV9mcm9tX2NsaWVudCA9IF8ubGFzdChpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSlcblx0XHRcdGxhc3RfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodCkgLT5cblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIGxhc3RfdHJhY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cblx0XHRcdClcblx0XHRcdGlmIGxhc3RfdHJhY2UuaXNfZmluaXNoZWQgaXMgdHJ1ZVxuXHRcdFx0XHRyZXR1cm5cblxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHsgX2lkOiBzcGFjZV9pZCB9LCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSlcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcblxuXHRcdFx0aW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0aW5ib3hfdXNlcnNfZnJvbV9jbGllbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdXG5cdFx0XHRyZWFzc2lnbl9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlYXNzaWduX3JlYXNvblwiXVxuXHRcdFx0bm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudClcblx0XHRcdG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5ib3hfdXNlcnMpXG5cdFx0XHQjIOiLpWFzc2lnbmVlPeWOn2luYm94X3VzZXJz77yM6K+05piO5LiN6ZyA6KaB5omn6KGM6L2s562+5qC477yM57O757uf5LuA5LmI6YO95LiN5YGaXG5cdFx0XHRyZXR1cm4gaWYgbm90X2luX2luYm94X3VzZXJzLmxlbmd0aCBpcyAwIGFuZCBuZXdfaW5ib3hfdXNlcnMubGVuZ3RoIGlzIDBcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRpID0gMFxuXHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycyA9IFtdXG5cdFx0XHR3aGlsZSBpIDwgbGFzdF90cmFjZS5hcHByb3Zlcy5sZW5ndGhcblx0XHRcdFx0aWYgbm90X2luX2luYm94X3VzZXJzLmluY2x1ZGVzKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcilcblx0XHRcdFx0XHRpZiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgaXNudCBcImNjXCIgYW5kIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5qdWRnZSA9IFwidGVybWluYXRlZFwiXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmRlc2NyaXB0aW9uID0gXCJcIlxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5jb3N0X3RpbWUgPSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlIC0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS51c2VyKVxuXHRcdFx0XHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcilcblx0XHRcdFx0aSsrXG5cdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl6L2s562+5qC45pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxuXHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxuXHRcdFx0YXNzaWduZWVfYXBwciA9IG5ldyBPYmplY3Rcblx0XHRcdGFzc2lnbmVlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxuXHRcdFx0YXNzaWduZWVfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2Vcblx0XHRcdGFzc2lnbmVlX2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0YXNzaWduZWVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdGFzc2lnbmVlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0YXNzaWduZWVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0YXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0YXNzaWduZWVfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGVcblx0XHRcdGFzc2lnbmVlX2FwcHIucmVhZF9kYXRlID0gbm93XG5cdFx0XHRhc3NpZ25lZV9hcHByLmp1ZGdlID0gXCJyZWFzc2lnbmVkXCJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfcmVhZCA9IHRydWVcblx0XHRcdGFzc2lnbmVlX2FwcHIuZGVzY3JpcHRpb24gPSByZWFzc2lnbl9yZWFzb25cblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0YXNzaWduZWVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRhc3NpZ25lZV9hcHByLmNvc3RfdGltZSA9IGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgLSBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGVcblx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChhc3NpZ25lZV9hcHByKVxuXHRcdFx0IyDlr7nmlrDlop7nmoTmr4/kvY3lvoXlrqHmoLjkurrvvIzlkITlop7liqDkuIDmnaHmlrDnmoRhcHByb3ZlXG5cdFx0XHRfLmVhY2gobmV3X2luYm94X3VzZXJzLCAodXNlcl9pZCkgLT5cblx0XHRcdFx0bmV3X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxuXHRcdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIHVzZXJfaWQpXG5cdFx0XHRcdHVzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXG5cdFx0XHRcdG5ld19hcHByID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld19hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZVxuXHRcdFx0XHRuZXdfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkXG5cdFx0XHRcdG5ld19hcHByLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0bmV3X2FwcHIudXNlciA9IHVzZXJfaWRcblx0XHRcdFx0bmV3X2FwcHIudXNlcl9uYW1lID0gbmV3X3VzZXIubmFtZVxuXG5cdFx0XHRcdGhhbmRsZXJfaWQgPSB1c2VyX2lkXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IG5ld191c2VyXG5cdFx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZClcblx0XHRcdFx0aWYgYWdlbnRcblx0XHRcdFx0XHRpbmJveF91c2Vyc19mcm9tX2NsaWVudFtpbmJveF91c2Vyc19mcm9tX2NsaWVudC5pbmRleE9mKHVzZXJfaWQpXSA9IGFnZW50XG5cdFx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XG5cdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0bmV3X2FwcHIuYWdlbnQgPSBhZ2VudFxuXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXIgPSBoYW5kbGVyX2lkXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLm5hbWVcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxuXHRcdFx0XHRuZXdfYXBwci5mcm9tX3VzZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0bmV3X2FwcHIuZnJvbV91c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdG5ld19hcHByLnR5cGUgPSBcInJlYXNzaWduXCJcblx0XHRcdFx0bmV3X2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGVcblx0XHRcdFx0bmV3X2FwcHIuaXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRcdG5ld19hcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0bmV3X2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdfYXBwcilcblx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKG5ld19hcHByKVxuXHRcdFx0KVxuXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMpXG5cdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycylcblx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IGluYm94X3VzZXJzX2Zyb21fY2xpZW50XG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBsYXN0X3RyYWNlLmFwcHJvdmVzXG5cdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7IF9pZDogaW5zdGFuY2VfaWQsIFwidHJhY2VzLl9pZFwiOiBsYXN0X3RyYWNlLl9pZCB9LCB7ICRzZXQ6IHNldE9iaiB9KVxuXHRcdFx0aWYgclxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXHRcdFx0XHRfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCAodXNlcl9pZCkgLT5cblx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0KVxuXHRcdFx0XHQjIOaPkOWPlmluc3RhbmNlcy5vdXRib3hfdXNlcnPmlbDnu4TlkozloavljZXkurrjgIHnlLPor7fkurpcblx0XHRcdFx0X3VzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpXG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpXG5cdFx0XHRcdF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKVxuXHRcdFx0XHRfLmVhY2goX3VzZXJzLCAodXNlcl9pZCkgLT5cblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0KVxuXG5cdFx0XHRcdCMg57uZ5paw5Yqg5YWl55qEaW5ib3hfdXNlcnPlj5HpgIFwdXNoIG1lc3NhZ2Vcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWFzc2lnbl9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlYXNzaWduJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHt9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxuXHRcdH1cbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVhc3NpZ24nLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIF91c2VycywgYXBwcm92ZV91c2Vyc19oYW5kbGVycywgYXNzaWduZWVfYXBwciwgY3VycmVudF9zcGFjZV91c2VyLCBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLCBpLCBpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBsYXN0X3RyYWNlX2Zyb21fY2xpZW50LCBuZXdfaW5ib3hfdXNlcnMsIG5vdF9pbl9pbmJveF91c2Vycywgbm93LCBwZXJtaXNzaW9ucywgciwgcmVhc3NpZ25fcmVhc29uLCBzZXRPYmosIHNwYWNlLCBzcGFjZV9pZDtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ19pZCddO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKTtcbiAgICAgIGxhc3RfdHJhY2VfZnJvbV9jbGllbnQgPSBfLmxhc3QoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0pO1xuICAgICAgbGFzdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSBsYXN0X3RyYWNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgfSk7XG4gICAgICBpZiAobGFzdF90cmFjZS5pc19maW5pc2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogc3BhY2VfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWRtaW5zOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgICB9XG4gICAgICBpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdO1xuICAgICAgcmVhc3NpZ25fcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWFzc2lnbl9yZWFzb25cIl07XG4gICAgICBub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzX2Zyb21fY2xpZW50KTtcbiAgICAgIG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5ib3hfdXNlcnMpO1xuICAgICAgaWYgKG5vdF9pbl9pbmJveF91c2Vycy5sZW5ndGggPT09IDAgJiYgbmV3X2luYm94X3VzZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpID0gMDtcbiAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMgPSBbXTtcbiAgICAgIHdoaWxlIChpIDwgbGFzdF90cmFjZS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKG5vdF9pbl9pbmJveF91c2Vycy5pbmNsdWRlcyhsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpKSB7XG4gICAgICAgICAgaWYgKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSAhPT0gXCJjY1wiICYmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSAhPT0gXCJkaXN0cmlidXRlXCIpIHtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZGVzY3JpcHRpb24gPSBcIlwiO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5jb3N0X3RpbWUgPSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlIC0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udXNlcik7XG4gICAgICAgICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhc3NpZ25lZV9hcHByID0gbmV3IE9iamVjdDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgYXNzaWduZWVfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICBhc3NpZ25lZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICBhc3NpZ25lZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgYXNzaWduZWVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmp1ZGdlID0gXCJyZWFzc2lnbmVkXCI7XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgYXNzaWduZWVfYXBwci5kZXNjcmlwdGlvbiA9IHJlYXNzaWduX3JlYXNvbjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuY29zdF90aW1lID0gYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSAtIGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChhc3NpZ25lZV9hcHByKTtcbiAgICAgIF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld19hcHByLCBuZXdfdXNlciwgc3BhY2VfdXNlciwgdXNlcl9vcmdhbml6YXRpb247XG4gICAgICAgIG5ld191c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCB1c2VyX2lkKTtcbiAgICAgICAgdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld19hcHByID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3X2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3X2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgICBuZXdfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgICBuZXdfYXBwci5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci51c2VyID0gdXNlcl9pZDtcbiAgICAgICAgbmV3X2FwcHIudXNlcl9uYW1lID0gbmV3X3VzZXIubmFtZTtcbiAgICAgICAgaGFuZGxlcl9pZCA9IHVzZXJfaWQ7XG4gICAgICAgIGhhbmRsZXJfaW5mbyA9IG5ld191c2VyO1xuICAgICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpO1xuICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICBpbmJveF91c2Vyc19mcm9tX2NsaWVudFtpbmJveF91c2Vyc19mcm9tX2NsaWVudC5pbmRleE9mKHVzZXJfaWQpXSA9IGFnZW50O1xuICAgICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICAgIF9pZDogYWdlbnRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld19hcHByLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgbmV3X2FwcHIuZnJvbV91c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICBuZXdfYXBwci5mcm9tX3VzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld19hcHByLnR5cGUgPSBcInJlYXNzaWduXCI7XG4gICAgICAgIG5ld19hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld19hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgbmV3X2FwcHIuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdfYXBwcik7XG4gICAgICAgIHJldHVybiBsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2gobmV3X2FwcHIpO1xuICAgICAgfSk7XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChhcHByb3ZlX3VzZXJzX2hhbmRsZXJzKTtcbiAgICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKTtcbiAgICAgIHNldE9iai5pbmJveF91c2VycyA9IGluYm94X3VzZXJzX2Zyb21fY2xpZW50O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBsYXN0X3RyYWNlLmFwcHJvdmVzO1xuICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgICBcInRyYWNlcy5faWRcIjogbGFzdF90cmFjZS5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICB9KTtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgXy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIGlmICh1c2VyX2lkICE9PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcik7XG4gICAgICAgIF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKTtcbiAgICAgICAgXy5lYWNoKF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlYXNzaWduX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWFzc2lnbicsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvYXJjaGl2ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2Vcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2Vcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHRcdCMg5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrozmiJDlubbkuJTmnKrlvZLmoaPnirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkKGluc3RhbmNlKVxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0IyDliKTmlq3kuIDkuKrnlKjmiLfmmK/lkKbmmK/kuIDkuKppbnN0YW5jZeeahOaPkOS6pOiAhSDmiJbogIVzcGFjZeeahOeuoeeQhuWRmFxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4oaW5zdGFuY2UsIGN1cnJlbnRfdXNlciwgc3BhY2UpXG5cdFx0XHRcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IHRydWVcblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlXG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cblx0XG5cdFx0IiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9hcmNoaXZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV91c2VyO1xuICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkKGluc3RhbmNlKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVN1Ym1pdHRlck9yQXBwbGljYW50T3JTcGFjZUFkbWluKGluc3RhbmNlLCBjdXJyZW50X3VzZXIsIHNwYWNlKTtcbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSB0cnVlO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGU7XG4gICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5zdGFydHVwIC0+XG5cdFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlIFwiL2FwaS93b3JrZmxvdy9leHBvcnQvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0XHR0cnlcblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblxuXHRcdFx0cXVlcnkgPSByZXEucXVlcnlcblx0XHRcdHNwYWNlX2lkID0gcXVlcnkuc3BhY2VfaWRcblx0XHRcdGZsb3dfaWQgPSBxdWVyeS5mbG93X2lkXG5cdFx0XHR0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSlcblx0XHRcdHRpbWV6b25lb2Zmc2V0ID0gcGFyc2VJbnQocXVlcnkudGltZXpvbmVvZmZzZXQpXG5cblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93X2lkIH0sIHsgZmllbGRzOiB7IGZvcm06IDEgfSB9KVxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3cuZm9ybSB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCAnY3VycmVudC5maWVsZHMnOiAxIH0gfSlcblxuXHRcdFx0Zm9ybV9uYW1lID0gZm9ybS5uYW1lXG5cdFx0XHRmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzXG5cdFx0XHR0YWJsZV9maWVsZHMgPSBuZXcgQXJyYXlcblx0XHRcdF8uZWFjaCBmb3JtLmN1cnJlbnQuZmllbGRzLCAoZmllbGQpIC0+XG5cdFx0XHRcdGlmIGZpZWxkLnR5cGUgaXMgXCJ0YWJsZVwiXG5cdFx0XHRcdFx0dGFibGVfZmllbGRzLnB1c2goZmllbGQpXG5cblx0XHRcdGluc190b194bHMgPSBuZXcgQXJyYXlcblx0XHRcdHN0YXJ0X2RhdGUgPSBudWxsXG5cdFx0XHRlbmRfZGF0ZSA9IG51bGxcblx0XHRcdG5vdyA9IG5ldyBEYXRlXG5cdFx0XHRzZWxlY3RvciA9IHsgc3BhY2U6IHNwYWNlX2lkLCBmbG93OiBmbG93X2lkIH1cblx0XHRcdHNlbGVjdG9yLnN0YXRlID0geyRpbjogW1wicGVuZGluZ1wiLCBcImNvbXBsZXRlZFwiXX1cblx0XHRcdHVpZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZV9pZClcblx0XHRcdGlmICFzcGFjZVxuXHRcdFx0XHRzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiXG5cblx0XHRcdGlmICFzcGFjZS5hZG1pbnMuaW5jbHVkZXModWlkKVxuXHRcdFx0XHRmbG93X2lkcyA9IFdvcmtmbG93TWFuYWdlci5nZXRNeUFkbWluT3JNb25pdG9yRmxvd3Moc3BhY2VfaWQsIHVpZClcblx0XHRcdFx0aWYgIWZsb3dfaWRzLmluY2x1ZGVzKHNlbGVjdG9yLmZsb3cpXG5cdFx0XHRcdFx0c2VsZWN0b3IuJG9yID0gW3tzdWJtaXR0ZXI6IHVpZH0sIHthcHBsaWNhbnQ6IHVpZH0sIHtpbmJveF91c2VyczogdWlkfSwge291dGJveF91c2VyczogdWlkfV1cblxuXHRcdFx0IyAwLeacrOaciFxuXHRcdFx0aWYgdHlwZSBpcyAwXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpXG5cdFx0XHRcdHNlbGVjdG9yLnN1Ym1pdF9kYXRlID0geyAkZ3RlOiBzdGFydF9kYXRlIH1cblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblx0XHRcdCMgMS3kuIrmnIhcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAxXG5cdFx0XHRcdGxhc3RfbW9udGhfZGF0ZSA9IG5ldyBEYXRlKG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSkgLSAxMDAwICogNjAgKiA2MCAqIDI0KVxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobGFzdF9tb250aF9kYXRlLmdldEZ1bGxZZWFyKCksIGxhc3RfbW9udGhfZGF0ZS5nZXRNb250aCgpLCAxKVxuXHRcdFx0XHRlbmRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSlcblx0XHRcdFx0c2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7ICRndGU6IHN0YXJ0X2RhdGUsICRsdGU6IGVuZF9kYXRlIH1cblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblx0XHRcdCMgMi3mlbTkuKrlubTluqZcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAyXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgMCwgMSlcblx0XHRcdFx0c2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7ICRndGU6IHN0YXJ0X2RhdGUgfVxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cblx0XHRcdFx0fSkuZmV0Y2goKVxuXHRcdFx0IyAzLeaJgOaciVxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDNcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XG5cdFx0XHRcdH0pLmZldGNoKClcblxuXHRcdFx0ZWpzID0gcmVxdWlyZSgnZWpzJylcblx0XHRcdHN0ciA9IEFzc2V0cy5nZXRUZXh0KCdzZXJ2ZXIvZWpzL2V4cG9ydF9pbnN0YW5jZXMuZWpzJylcblxuXHRcdFx0IyDmo4DmtYvmmK/lkKbmnInor63ms5XplJnor69cblx0XHRcdCMgZWpzTGludCA9IHJlcXVpcmUoJ2Vqcy1saW50Jylcblx0XHRcdCMgaWYgZWpzTGludC5saW50XG5cdFx0XHQjIFx0ZXJyb3Jfb2JqID0gZWpzTGludC5saW50KHN0ciwge30pXG5cdFx0XHQjIGVsc2Vcblx0XHRcdCMgXHRlcnJvcl9vYmogPSBlanNMaW50KHN0ciwge30pXG5cdFx0XHQjIGlmIGVycm9yX29ialxuXHRcdFx0IyBcdGNvbnNvbGUuZXJyb3IgXCI9PT0vYXBpL3dvcmtmbG93L2V4cG9ydDpcIlxuXHRcdFx0IyBcdGNvbnNvbGUuZXJyb3IgZXJyb3Jfb2JqXG5cblx0XHRcdHRlbXBsYXRlID0gZWpzLmNvbXBpbGUoc3RyKVxuXG5cdFx0XHRsYW5nID0gJ2VuJ1xuXHRcdFx0aWYgY3VycmVudF91c2VyX2luZm8ubG9jYWxlIGlzICd6aC1jbidcblx0XHRcdFx0bGFuZyA9ICd6aC1DTidcblx0XHRcdFxuXHRcdFx0dXRjT2Zmc2V0ID0gdGltZXpvbmVvZmZzZXQgLyAtNjBcblx0XHRcdFxuXHRcdFx0Zm9ybWF0RGF0ZSA9IChkYXRlLCBmb3JtYXRlcikgLT5cblx0XHRcdFx0cmV0dXJuIG1vbWVudChkYXRlKS51dGNPZmZzZXQodXRjT2Zmc2V0KS5mb3JtYXQoZm9ybWF0ZXIpXG5cblx0XHRcdHJldCA9IHRlbXBsYXRlKHtcblx0XHRcdFx0bGFuZzogbGFuZyxcblx0XHRcdFx0Zm9ybWF0RGF0ZTogZm9ybWF0RGF0ZSxcblx0XHRcdFx0Zm9ybV9uYW1lOiBmb3JtX25hbWUsXG5cdFx0XHRcdGZpZWxkczogZmllbGRzLFxuXHRcdFx0XHR0YWJsZV9maWVsZHM6IHRhYmxlX2ZpZWxkcyxcblx0XHRcdFx0aW5zX3RvX3hsczogaW5zX3RvX3hsc1xuXHRcdFx0fSlcblxuXHRcdFx0ZmlsZU5hbWUgPSBcIlN0ZWVkT1NXb3JrZmxvd19cIiArIG1vbWVudCgpLmZvcm1hdCgnWVlZWU1NRERISG1tJykgKyBcIi54bHNcIlxuXHRcdFx0cmVzLnNldEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKVxuXHRcdFx0cmVzLnNldEhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIiwgXCJhdHRhY2htZW50O2ZpbGVuYW1lPVwiICsgZW5jb2RlVVJJKGZpbGVOYW1lKSlcblx0XHRcdHJlcy5lbmQocmV0KVxuXHRcdGNhdGNoIGVcblx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdFx0cmVzLmVuZChlLm1lc3NhZ2UpIiwiTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZShcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciBjdXJyZW50X3VzZXJfaW5mbywgZSwgZWpzLCBlbmRfZGF0ZSwgZmllbGRzLCBmaWxlTmFtZSwgZmxvdywgZmxvd19pZCwgZmxvd19pZHMsIGZvcm0sIGZvcm1fbmFtZSwgZm9ybWF0RGF0ZSwgaW5zX3RvX3hscywgbGFuZywgbGFzdF9tb250aF9kYXRlLCBub3csIHF1ZXJ5LCByZXQsIHNlbGVjdG9yLCBzcGFjZSwgc3BhY2VfaWQsIHN0YXJ0X2RhdGUsIHN0ciwgdGFibGVfZmllbGRzLCB0ZW1wbGF0ZSwgdGltZXpvbmVvZmZzZXQsIHR5cGUsIHVpZCwgdXRjT2Zmc2V0O1xuICAgIHRyeSB7XG4gICAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgICAgcXVlcnkgPSByZXEucXVlcnk7XG4gICAgICBzcGFjZV9pZCA9IHF1ZXJ5LnNwYWNlX2lkO1xuICAgICAgZmxvd19pZCA9IHF1ZXJ5LmZsb3dfaWQ7XG4gICAgICB0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSk7XG4gICAgICB0aW1lem9uZW9mZnNldCA9IHBhcnNlSW50KHF1ZXJ5LnRpbWV6b25lb2Zmc2V0KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93X2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm06IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvcm1fbmFtZSA9IGZvcm0ubmFtZTtcbiAgICAgIGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHM7XG4gICAgICB0YWJsZV9maWVsZHMgPSBuZXcgQXJyYXk7XG4gICAgICBfLmVhY2goZm9ybS5jdXJyZW50LmZpZWxkcywgZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09IFwidGFibGVcIikge1xuICAgICAgICAgIHJldHVybiB0YWJsZV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW5zX3RvX3hscyA9IG5ldyBBcnJheTtcbiAgICAgIHN0YXJ0X2RhdGUgPSBudWxsO1xuICAgICAgZW5kX2RhdGUgPSBudWxsO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBzZWxlY3RvciA9IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBmbG93OiBmbG93X2lkXG4gICAgICB9O1xuICAgICAgc2VsZWN0b3Iuc3RhdGUgPSB7XG4gICAgICAgICRpbjogW1wicGVuZGluZ1wiLCBcImNvbXBsZXRlZFwiXVxuICAgICAgfTtcbiAgICAgIHVpZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VfaWQpO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXModWlkKSkge1xuICAgICAgICBmbG93X2lkcyA9IFdvcmtmbG93TWFuYWdlci5nZXRNeUFkbWluT3JNb25pdG9yRmxvd3Moc3BhY2VfaWQsIHVpZCk7XG4gICAgICAgIGlmICghZmxvd19pZHMuaW5jbHVkZXMoc2VsZWN0b3IuZmxvdykpIHtcbiAgICAgICAgICBzZWxlY3Rvci4kb3IgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Ym1pdHRlcjogdWlkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGFwcGxpY2FudDogdWlkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGluYm94X3VzZXJzOiB1aWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgb3V0Ym94X3VzZXJzOiB1aWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gMCkge1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgc2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7XG4gICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICB9O1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMSkge1xuICAgICAgICBsYXN0X21vbnRoX2RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpIC0gMTAwMCAqIDYwICogNjAgKiAyNCk7XG4gICAgICAgIHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShsYXN0X21vbnRoX2RhdGUuZ2V0RnVsbFllYXIoKSwgbGFzdF9tb250aF9kYXRlLmdldE1vbnRoKCksIDEpO1xuICAgICAgICBlbmRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIHNlbGVjdG9yLnN1Ym1pdF9kYXRlID0ge1xuICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGUsXG4gICAgICAgICAgJGx0ZTogZW5kX2RhdGVcbiAgICAgICAgfTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yLCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDIpIHtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgICAgICAgc2VsZWN0b3Iuc3VibWl0X2RhdGUgPSB7XG4gICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICB9O1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMykge1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoc2VsZWN0b3IsIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH1cbiAgICAgIGVqcyA9IHJlcXVpcmUoJ2VqcycpO1xuICAgICAgc3RyID0gQXNzZXRzLmdldFRleHQoJ3NlcnZlci9lanMvZXhwb3J0X2luc3RhbmNlcy5lanMnKTtcbiAgICAgIHRlbXBsYXRlID0gZWpzLmNvbXBpbGUoc3RyKTtcbiAgICAgIGxhbmcgPSAnZW4nO1xuICAgICAgaWYgKGN1cnJlbnRfdXNlcl9pbmZvLmxvY2FsZSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsYW5nID0gJ3poLUNOJztcbiAgICAgIH1cbiAgICAgIHV0Y09mZnNldCA9IHRpbWV6b25lb2Zmc2V0IC8gLTYwO1xuICAgICAgZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUsIGZvcm1hdGVyKSB7XG4gICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkudXRjT2Zmc2V0KHV0Y09mZnNldCkuZm9ybWF0KGZvcm1hdGVyKTtcbiAgICAgIH07XG4gICAgICByZXQgPSB0ZW1wbGF0ZSh7XG4gICAgICAgIGxhbmc6IGxhbmcsXG4gICAgICAgIGZvcm1hdERhdGU6IGZvcm1hdERhdGUsXG4gICAgICAgIGZvcm1fbmFtZTogZm9ybV9uYW1lLFxuICAgICAgICBmaWVsZHM6IGZpZWxkcyxcbiAgICAgICAgdGFibGVfZmllbGRzOiB0YWJsZV9maWVsZHMsXG4gICAgICAgIGluc190b194bHM6IGluc190b194bHNcbiAgICAgIH0pO1xuICAgICAgZmlsZU5hbWUgPSBcIlN0ZWVkT1NXb3JrZmxvd19cIiArIG1vbWVudCgpLmZvcm1hdCgnWVlZWU1NRERISG1tJykgKyBcIi54bHNcIjtcbiAgICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIik7XG4gICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC1EaXNwb3NpdGlvblwiLCBcImF0dGFjaG1lbnQ7ZmlsZW5hbWU9XCIgKyBlbmNvZGVVUkkoZmlsZU5hbWUpKTtcbiAgICAgIHJldHVybiByZXMuZW5kKHJldCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICByZXR1cm4gcmVzLmVuZChlLm1lc3NhZ2UpO1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL3VmL3NwYWNlL2NoYW5nZXNldCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0cXVlcnkgPSByZXEucXVlcnlcblx0XHRhdXRoX3Rva2VuID0gZGIuYXV0aF90b2tlbnMuZmluZE9uZSh7YXV0aF90b2tlbjogcXVlcnkuYXV0aF90b2tlbn0pXG5cblx0XHRpZiAobm90IGF1dGhfdG9rZW4pIG9yIChub3QgYXV0aF90b2tlbi5lbmFibGVkKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvciA0MDEsICdVbmF1dGhvcml6ZWQnXG5cblx0XHRzeW5jX3Rva2VuID0gcXVlcnlbXCJzeW5jX3Rva2VuXCJdXG5cdFx0Zm9ybWlkcyA9IHF1ZXJ5W1wiZm9ybWlkc1wiXSAjIOmAl+WPt+malOW8gOWtl+espuS4slxuXHRcdGlzX2FkbWluID0gcXVlcnlbXCJpc19hZG1pblwiXVxuXG5cdFx0ZGF0YSA9IHV1Zmxvd01hbmFnZXIuZ2V0X1NwYWNlQ2hhbmdlU2V0KGZvcm1pZHMsIGlzX2FkbWluLCBzeW5jX3Rva2VuKVxuXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdGRhdGE6IGRhdGFcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfSIsIkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL3VmL3NwYWNlL2NoYW5nZXNldCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdXRoX3Rva2VuLCBkYXRhLCBlLCBmb3JtaWRzLCBpc19hZG1pbiwgcXVlcnksIHN5bmNfdG9rZW47XG4gIHRyeSB7XG4gICAgcXVlcnkgPSByZXEucXVlcnk7XG4gICAgYXV0aF90b2tlbiA9IGRiLmF1dGhfdG9rZW5zLmZpbmRPbmUoe1xuICAgICAgYXV0aF90b2tlbjogcXVlcnkuYXV0aF90b2tlblxuICAgIH0pO1xuICAgIGlmICgoIWF1dGhfdG9rZW4pIHx8ICghYXV0aF90b2tlbi5lbmFibGVkKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig0MDEsICdVbmF1dGhvcml6ZWQnKTtcbiAgICB9XG4gICAgc3luY190b2tlbiA9IHF1ZXJ5W1wic3luY190b2tlblwiXTtcbiAgICBmb3JtaWRzID0gcXVlcnlbXCJmb3JtaWRzXCJdO1xuICAgIGlzX2FkbWluID0gcXVlcnlbXCJpc19hZG1pblwiXTtcbiAgICBkYXRhID0gdXVmbG93TWFuYWdlci5nZXRfU3BhY2VDaGFuZ2VTZXQoZm9ybWlkcywgaXNfYWRtaW4sIHN5bmNfdG9rZW4pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiBkYXRhXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JldHJpZXZlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxuXHRcdFx0cmV0cmlldmVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydyZXRyaWV2ZV9jb21tZW50J11cblxuXHRcdFx0IyDpqozor4FpbnN0YW5jZeS4uuWuoeaguOS4reeKtuaAgVxuXHRcdFx0IyB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxuXHRcdFx0IyDmoKHpqoznlLPor7fljZXmmK/lvZPliY3nlKjmiLflt7LlrqHmoLjov4fnmoTljZXlrZDmiJbogIXlvZPliY3nlKjmiLfmmK/mj5DkuqTkurrmiJbnlLPor7fkurpcblx0XHRcdGlmIChub3QgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIGFuZCAoaW5zdGFuY2Uuc3VibWl0dGVyIGlzbnQgY3VycmVudF91c2VyIGFuZCBpbnN0YW5jZS5hcHBsaWNhbnQgaXNudCBjdXJyZW50X3VzZXIpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+W9k+WJjeeUqOaIt+S4jeespuWQiOWPluWbnuadoeS7ticpXG5cblx0XHRcdHJldHJpZXZlX3R5cGUgPSBcIlwiXG5cblx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xuXG5cdFx0XHQj6I635Y+W5pyA5paw55qEdHJhY2XvvIwg5Y2z5Y+W5Zue5q2l6aqkXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KHRyYWNlcylcblx0XHRcdGxhc3RfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLl9pZFxuXHRcdFx0cHJldmlvdXNfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLnByZXZpb3VzX3RyYWNlX2lkc1swXTtcblx0XHRcdHByZXZpb3VzX3RyYWNlID0gXy5maW5kKHRyYWNlcywgKHQpLT5cblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHByZXZpb3VzX3RyYWNlX2lkXG5cdFx0XHQpXG5cdFx0XHRwcmV2aW91c190cmFjZV9zdGVwX2lkID0gcHJldmlvdXNfdHJhY2Uuc3RlcFxuXHRcdFx0cHJldmlvdXNfdHJhY2VfbmFtZSA9IHByZXZpb3VzX3RyYWNlLm5hbWVcblx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcblx0XHRcdHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpXG5cdFx0XHRpZiBwcmV2aW91c19zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5LiN6IO95Y+W5ZueJylcblxuXHRcdFx0IyDlj5blm57mraXpqqTnmoTliY3kuIDkuKrmraXpqqTlpITnkIbkurrllK/kuIDvvIjljbPmjpLpmaTmjonkvKDpmIXlkozovazlj5HnmoRhcHByb3Zl5ZCO77yM5Ymp5L2Z55qEYXBwcm92ZeWPquacieS4gOS4qu+8ieW5tuS4lOaYr+W9k+WJjeeUqOaIt1xuXHRcdFx0cHJldmlvdXNfdHJhY2VfYXBwcm92ZXMgPSBfLmZpbHRlciBwcmV2aW91c190cmFjZS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdFx0cmV0dXJuIGEudHlwZSBpc250ICdjYycgYW5kIGEudHlwZSBpc250ICdkaXN0cmlidXRlJyBhbmQgYS50eXBlIGlzbnQgJ2ZvcndhcmQnIGFuZCBbJ2FwcHJvdmVkJywnc3VibWl0dGVkJywncmVqZWN0ZWQnXS5pbmNsdWRlcyhhLmp1ZGdlKVxuXG5cdFx0XHRpZiBwcmV2aW91c190cmFjZV9hcHByb3Zlcy5sZW5ndGggaXMgMSBhbmQgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLnVzZXIgaXMgY3VycmVudF91c2VyIG9yIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLmhhbmRsZXIgaXMgY3VycmVudF91c2VyKVxuXHRcdFx0XHRyZXRyaWV2ZV90eXBlID0gJ25vcm1hbCcgIyDnlLPor7fljZXmraPluLjmtYHovaznmoTlj5blm57vvIzljbPpnZ7kvKDpmIXlj5blm55cblxuXHRcdFx0aSA9IHRyYWNlcy5sZW5ndGhcblx0XHRcdHJldHJpZXZlX2FwcHJvdmUgPSB7fVxuXHRcdFx0d2hpbGUgaSA+IDBcblx0XHRcdFx0Xy5lYWNoIHRyYWNlc1tpLTFdLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0XHRcdGlmIGEudHlwZSBpcyAnY2MnIGFuZCBhLmlzX2ZpbmlzaGVkIGlzIHRydWUgYW5kIGEudXNlciBpcyBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdHJldHJpZXZlX3R5cGUgPSAnY2MnXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByb3ZlID0gYVxuXG5cdFx0XHRcdGlmIHJldHJpZXZlX3R5cGUgaXMgJ2NjJ1xuXHRcdFx0XHRcdGJyZWFrXG5cblx0XHRcdFx0aS0tXG5cblxuXHRcdFx0aWYgcmV0cmlldmVfdHlwZSBpcyAnbm9ybWFsJ1xuXHRcdFx0XHQjIOiOt+WPluS4gOS4qmZsb3dcblx0XHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXHRcdFx0XHRwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKVxuXHRcdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdFx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkXG5cdFx0XHRcdG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXG5cdFx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcblx0XHRcdFx0Xy5lYWNoIHRyYWNlcywgKHQpLT5cblx0XHRcdFx0XHRpZiB0Ll9pZCBpcyBsYXN0X3RyYWNlX2lkXG5cdFx0XHRcdFx0XHRpZiBub3QgdC5hcHByb3Zlc1xuXHRcdFx0XHRcdFx0XHR0LmFwcHJvdmVzID0gbmV3IEFycmF5XG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcblx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXBwciktPlxuXHRcdFx0XHRcdFx0XHRpZiBhcHByLmlzX2ZpbmlzaGVkID09IGZhbHNlIGFuZCBhcHByLnR5cGUgaXNudCBcImNjXCJcblx0XHRcdFx0XHRcdFx0XHRhcHByLnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0XHRhcHByLmZpbmlzaF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRcdFx0YXBwci5yZWFkX2RhdGUgPSBub3dcblx0XHRcdFx0XHRcdFx0XHRhcHByLmlzX2Vycm9yID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHRhcHByLmlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRhcHByLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcblx0XHRcdFx0XHRcdFx0XHRhcHByLmNvc3RfdGltZSA9IGFwcHIuZmluaXNoX2RhdGUgLSBhcHByLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdCMg5Zyo5ZCM5LiAdHJhY2XkuIvmj5LlhaXlj5blm57mk43kvZzogIXnmoRhcHByb3Zl6K6w5b2VXG5cdFx0XHRcdFx0XHRjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0XHRcdFx0Y3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByID0gbmV3IE9iamVjdFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudHJhY2UgPSB0Ll9pZFxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5kdWVfZGF0ZSA9IHQuZHVlX2RhdGVcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIucmVhZF9kYXRlID0gbm93XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmp1ZGdlID0gXCJyZXRyaWV2ZWRcIlxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19yZWFkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5kZXNjcmlwdGlvbiA9IHJldHJpZXZlX2NvbW1lbnRcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmNvc3RfdGltZSA9IHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgLSByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRcdHQuYXBwcm92ZXMucHVzaChyZXRyaWV2ZV9hcHByKVxuXG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXG5cdFx0XHRcdFx0XHR0LmlzX2ZpbmlzaGVkID0gdHJ1ZVxuXHRcdFx0XHRcdFx0dC5maW5pc2hfZGF0ZSA9IG5vd1xuXHRcdFx0XHRcdFx0dC5qdWRnZSA9IFwicmV0cmlldmVkXCJcblxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2VfaWRdXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2Vcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IHByZXZpb3VzX3RyYWNlX3N0ZXBfaWRcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWVcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmV2aW91c19zdGVwLnRpbWVvdXRfaG91cnMsIHNwYWNlX2lkKVxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2UuYXBwcm92ZeiusOW9lVxuXHRcdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxuXHRcdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcblx0XHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlclxuXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxuXG5cdFx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXHRcdFx0XHQjIOiOt+WPlm5leHRfc3RlcF91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXG5cdFx0XHRcdG9yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxuXG5cdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdFx0XHRuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGVcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2Vcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxuXG5cdFx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpXG5cblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBbY3VycmVudF91c2VyXVxuXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcblx0XHRcdFx0dHJhY2VzLnB1c2gobmV3VHJhY2UpXG5cdFx0XHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXNcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcblx0XHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2VcblxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIHByZXZpb3VzX3N0ZXAubGluZXMpXG5cblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcblx0XHRcdFx0aWYgclxuXHRcdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcblx0XHRcdFx0XHRfLmVhY2gob2xkX2luYm94X3VzZXJzLCAodXNlcl9pZCktPlxuXHRcdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcblx0XHRcdFx0XHQpXG5cblx0XHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcblxuXHRcdFx0ZWxzZSBpZiByZXRyaWV2ZV90eXBlIGlzICdjYydcblx0XHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZFxuXHRcdFx0XHR0aGVfdHJhY2UgPSBfLmZpbmQgdHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdHJldHVybiB0Ll9pZCBpcyByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlXG5cblx0XHRcdFx0Xy5lYWNoIHRoZV90cmFjZS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdFx0XHRpZiBhLl9pZCBpcyByZXRyaWV2ZV9hcHByb3ZlLl9pZFxuXHRcdFx0XHRcdFx0YS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0XHRcdFx0XHRhLmZpbmlzaF9kYXRlID0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0XHRhLmp1ZGdlID0gdW5kZWZpbmVkXG5cdFx0XHRcdFx0XHRhLmNvc3RfdGltZSA9IHVuZGVmaW5lZFxuXG5cdFx0XHRcdGNjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdFx0Y2NfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXG5cblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxuXHRcdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZVxuXHRcdFx0XHRzZXRPYmouY2NfdXNlcnMgPSBjY191c2Vyc1xuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzJ10gPSB0aGVfdHJhY2UuYXBwcm92ZXNcblxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZCwgJ3RyYWNlcy5faWQnOiByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlfSwgeyRzZXQ6IHNldE9ian0pXG5cdFx0XHRcdGlmIHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxuXG5cdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBbY3VycmVudF91c2VyXSlcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHt9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7ZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JldHJpZXZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjY191c2VycywgZmxvdywgaGFuZGxlcl9pbmZvLCBpLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbGFzdF90cmFjZV9pZCwgbmV3QXBwcm92ZSwgbmV3VHJhY2UsIG5vdywgb2xkX2luYm94X3VzZXJzLCBvcmdfaW5mbywgcHJldmlvdXNfc3RlcCwgcHJldmlvdXNfdHJhY2UsIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLCBwcmV2aW91c190cmFjZV9pZCwgcHJldmlvdXNfdHJhY2VfbmFtZSwgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCwgciwgcmV0cmlldmVfYXBwcm92ZSwgcmV0cmlldmVfY29tbWVudCwgcmV0cmlldmVfdHlwZSwgc2V0T2JqLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgdGhlX3RyYWNlLCB0cmFjZXM7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgcmV0cmlldmVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydyZXRyaWV2ZV9jb21tZW50J107XG4gICAgICBpZiAoKCFpbnN0YW5jZS5vdXRib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgKGluc3RhbmNlLnN1Ym1pdHRlciAhPT0gY3VycmVudF91c2VyICYmIGluc3RhbmNlLmFwcGxpY2FudCAhPT0gY3VycmVudF91c2VyKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICflvZPliY3nlKjmiLfkuI3nrKblkIjlj5blm57mnaHku7YnKTtcbiAgICAgIH1cbiAgICAgIHJldHJpZXZlX3R5cGUgPSBcIlwiO1xuICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgbGFzdF90cmFjZSA9IF8ubGFzdCh0cmFjZXMpO1xuICAgICAgbGFzdF90cmFjZV9pZCA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgcHJldmlvdXNfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLnByZXZpb3VzX3RyYWNlX2lkc1swXTtcbiAgICAgIHByZXZpb3VzX3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPT09IHByZXZpb3VzX3RyYWNlX2lkO1xuICAgICAgfSk7XG4gICAgICBwcmV2aW91c190cmFjZV9zdGVwX2lkID0gcHJldmlvdXNfdHJhY2Uuc3RlcDtcbiAgICAgIHByZXZpb3VzX3RyYWNlX25hbWUgPSBwcmV2aW91c190cmFjZS5uYW1lO1xuICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgIHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpO1xuICAgICAgaWYgKHByZXZpb3VzX3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5LiN6IO95Y+W5ZueJyk7XG4gICAgICB9XG4gICAgICBwcmV2aW91c190cmFjZV9hcHByb3ZlcyA9IF8uZmlsdGVyKHByZXZpb3VzX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgIT09ICdjYycgJiYgYS50eXBlICE9PSAnZGlzdHJpYnV0ZScgJiYgYS50eXBlICE9PSAnZm9yd2FyZCcgJiYgWydhcHByb3ZlZCcsICdzdWJtaXR0ZWQnLCAncmVqZWN0ZWQnXS5pbmNsdWRlcyhhLmp1ZGdlKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLmxlbmd0aCA9PT0gMSAmJiAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0udXNlciA9PT0gY3VycmVudF91c2VyIHx8IHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLmhhbmRsZXIgPT09IGN1cnJlbnRfdXNlcikpIHtcbiAgICAgICAgcmV0cmlldmVfdHlwZSA9ICdub3JtYWwnO1xuICAgICAgfVxuICAgICAgaSA9IHRyYWNlcy5sZW5ndGg7XG4gICAgICByZXRyaWV2ZV9hcHByb3ZlID0ge307XG4gICAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgXy5lYWNoKHRyYWNlc1tpIC0gMV0uYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICBpZiAoYS50eXBlID09PSAnY2MnICYmIGEuaXNfZmluaXNoZWQgPT09IHRydWUgJiYgYS51c2VyID09PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHJpZXZlX3R5cGUgPSAnY2MnO1xuICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlX2FwcHJvdmUgPSBhO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXRyaWV2ZV90eXBlID09PSAnY2MnKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaS0tO1xuICAgICAgfVxuICAgICAgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdub3JtYWwnKSB7XG4gICAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICAgIHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpO1xuICAgICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZDtcbiAgICAgICAgb2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBfLmVhY2godHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgcmV0cmlldmVfYXBwcjtcbiAgICAgICAgICBpZiAodC5faWQgPT09IGxhc3RfdHJhY2VfaWQpIHtcbiAgICAgICAgICAgIGlmICghdC5hcHByb3Zlcykge1xuICAgICAgICAgICAgICB0LmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwcHIpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHIuaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIGFwcHIudHlwZSAhPT0gXCJjY1wiKSB7XG4gICAgICAgICAgICAgICAgYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBwci5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHByLmNvc3RfdGltZSA9IGFwcHIuZmluaXNoX2RhdGUgLSBhcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICAgICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci50cmFjZSA9IHQuX2lkO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZHVlX2RhdGUgPSB0LmR1ZV9kYXRlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmp1ZGdlID0gXCJyZXRyaWV2ZWRcIjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmRlc2NyaXB0aW9uID0gcmV0cmlldmVfY29tbWVudDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuY29zdF90aW1lID0gcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSAtIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHQuYXBwcm92ZXMucHVzaChyZXRyaWV2ZV9hcHByKTtcbiAgICAgICAgICAgIHQuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgdC5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHVybiB0Lmp1ZGdlID0gXCJyZXRyaWV2ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQ7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmV2aW91c19zdGVwLnRpbWVvdXRfaG91cnMsIHNwYWNlX2lkKTtcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIsIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gW2N1cnJlbnRfdXNlcl07XG4gICAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgICB0cmFjZXMucHVzaChuZXdUcmFjZSk7XG4gICAgICAgIHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgcHJldmlvdXNfc3RlcC5saW5lcyk7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgICAgXy5lYWNoKG9sZF9pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgICAgaWYgKHVzZXJfaWQgIT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdjYycpIHtcbiAgICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkO1xuICAgICAgICB0aGVfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIHQuX2lkID09PSByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlO1xuICAgICAgICB9KTtcbiAgICAgICAgXy5lYWNoKHRoZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgIGlmIChhLl9pZCA9PT0gcmV0cmlldmVfYXBwcm92ZS5faWQpIHtcbiAgICAgICAgICAgIGEuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGEuZmluaXNoX2RhdGUgPSB2b2lkIDA7XG4gICAgICAgICAgICBhLmp1ZGdlID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIGEuY29zdF90aW1lID0gdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgICAgIGNjX3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0T2JqLmNjX3VzZXJzID0gY2NfdXNlcnM7XG4gICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMnXSA9IHRoZV90cmFjZS5hcHByb3ZlcztcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICAgICAgJ3RyYWNlcy5faWQnOiByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBbY3VycmVudF91c2VyXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2ZvcndhcmQnLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcblx0dHJ5IHtcblx0XHR2YXIgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuXG5cdFx0dmFyIGhhc2hEYXRhID0gcmVxLmJvZHk7XG5cdFx0dmFyIGluc3RhbmNlX2lkID0gaGFzaERhdGEuaW5zdGFuY2VfaWQ7XG5cdFx0dmFyIHNwYWNlX2lkID0gaGFzaERhdGEuc3BhY2VfaWQ7XG5cdFx0dmFyIGZsb3dfaWQgPSBoYXNoRGF0YS5mbG93X2lkO1xuXHRcdHZhciBoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQgPSBoYXNoRGF0YS5oYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQ7XG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gaGFzaERhdGEuZGVzY3JpcHRpb247XG5cdFx0dmFyIGlzRm9yd2FyZEF0dGFjaG1lbnRzID0gaGFzaERhdGEuaXNGb3J3YXJkQXR0YWNobWVudHM7XG5cdFx0dmFyIHNlbGVjdGVkVXNlcnMgPSBoYXNoRGF0YS5zZWxlY3RlZFVzZXJzO1xuXHRcdHZhciBhY3Rpb25fdHlwZSA9IGhhc2hEYXRhLmFjdGlvbl90eXBlO1xuXHRcdHZhciByZWxhdGVkID0gaGFzaERhdGEucmVsYXRlZDtcblx0XHR2YXIgZnJvbV9hcHByb3ZlX2lkID0gaGFzaERhdGEuZnJvbV9hcHByb3ZlX2lkO1xuXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soc3BhY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soZmxvd19pZCwgU3RyaW5nKTtcblx0XHRjaGVjayhoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQsIEJvb2xlYW4pO1xuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpO1xuXHRcdGNoZWNrKGlzRm9yd2FyZEF0dGFjaG1lbnRzLCBCb29sZWFuKTtcblx0XHRjaGVjayhzZWxlY3RlZFVzZXJzLCBBcnJheSk7XG5cdFx0Y2hlY2soYWN0aW9uX3R5cGUsIE1hdGNoLk9uZU9mKCdmb3J3YXJkJywgJ2Rpc3RyaWJ1dGUnKSk7XG5cblx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gXCJkaXN0cmlidXRlXCIpXG5cdFx0XHRjaGVjayhmcm9tX2FwcHJvdmVfaWQsIFN0cmluZyk7XG5cblx0XHR2YXIgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xuXHRcdHZhciBvbGRfc3BhY2VfaWQgPSBpbnMuc3BhY2U7XG5cblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCk7XG5cblx0XHR2YXIgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZV9pZCk7XG5cblx0XHRpZiAoIWlucyB8fCAhZmxvdyB8fCAhc3BhY2UpIHtcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJyk7XG5cdFx0fVxuXG5cdFx0dmFyIGZvcndhcmRfdXNlcnMgPSBuZXcgQXJyYXk7XG5cdFx0aWYgKF8uaXNFbXB0eShzZWxlY3RlZFVzZXJzKSkge1xuXHRcdFx0Zm9yd2FyZF91c2VycyA9IFtjdXJyZW50X3VzZXJfaWRdO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3J3YXJkX3VzZXJzID0gc2VsZWN0ZWRVc2Vycztcblx0XHR9XG5cblx0XHQvLyDmoKHpqozliIblj5Hlr7nosaHmmK/lkKbmnInliIblj5HmtYHnqIvnmoTmj5DkuqTmnYPpmZBcblx0XHR2YXIgbm9fcGVybWlzc2lvbl91c2VyX2lkcyA9IG5ldyBBcnJheSgpO1xuXHRcdF8uZWFjaChmb3J3YXJkX3VzZXJzLCBmdW5jdGlvbiAodWlkKSB7XG5cdFx0XHR2YXIgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgdWlkKTtcblx0XHRcdGlmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZGRcIikpIHtcblx0XHRcdFx0Ly8gdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLor6XnlLPor7fkurrmsqHmnInmj5DkuqTmraTnlLPor7fljZXnmoTmnYPpmZDjgIJcIilcblx0XHRcdFx0bm9fcGVybWlzc2lvbl91c2VyX2lkcy5wdXNoKHVpZCk7XG5cdFx0XHR9XG5cdFx0fSlcblx0XHRpZiAoIV8uaXNFbXB0eShub19wZXJtaXNzaW9uX3VzZXJfaWRzKSkge1xuXHRcdFx0dmFyIG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZSA9IG5ldyBBcnJheSgpO1xuXHRcdFx0ZGIudXNlcnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogbm9fcGVybWlzc2lvbl91c2VyX2lkc1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSkuZm9yRWFjaChmdW5jdGlvbiAodSkge1xuXHRcdFx0XHRub19wZXJtaXNzaW9uX3VzZXJzX25hbWUucHVzaCh1Lm5hbWUpO1xuXHRcdFx0fSk7XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdub19wZXJtaXNzaW9uJywgXCLor6Xmj5DkuqTkurrmsqHmnInmj5DkuqTmraTnlLPor7fljZXnmoTmnYPpmZDjgIJcIiwgbm9fcGVybWlzc2lvbl91c2Vyc19uYW1lLmpvaW4oJywnKSlcblx0XHR9XG5cblx0XHR2YXIgbmV3X2luc19pZHMgPSBuZXcgQXJyYXk7XG5cblx0XHR2YXIgY3VycmVudF90cmFjZSA9IG51bGw7XG5cdFx0aWYgKGFjdGlvbl90eXBlID09IFwiZGlzdHJpYnV0ZVwiKSB7XG5cdFx0XHRfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdFx0aWYgKCFjdXJyZW50X3RyYWNlKSB7XG5cdFx0XHRcdFx0Xy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uIChhKSB7XG5cdFx0XHRcdFx0XHRpZiAoIWN1cnJlbnRfdHJhY2UpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGEuX2lkID09IGZyb21fYXBwcm92ZV9pZClcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50X3RyYWNlID0gdDtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjdXJyZW50X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpO1xuXHRcdH1cblx0XHR2YXIgY3VycmVudF90cmFjZV9pZCA9IGN1cnJlbnRfdHJhY2UuX2lkO1xuXHRcdHZhciBmb3J3YXJkX2FwcHJvdmVzID0gW107XG5cdFx0dmFyIGZyb21fdXNlcl9uYW1lID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRuYW1lOiAxXG5cdFx0XHR9XG5cdFx0fSkubmFtZVxuXHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdDtcblxuXHRcdC8vIOiuoeeul3ZhbHVlc1xuXHRcdHZhciBvbGRfdmFsdWVzID0gaW5zLnZhbHVlcyxcblx0XHRcdG5ld192YWx1ZXMgPSB7fTtcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZmxvdy5mb3JtKTtcblx0XHR2YXIgZmllbGRzID0gZm9ybS5jdXJyZW50LmZpZWxkcyB8fCBbXTtcblxuXHRcdHZhciBvbGRfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zLmZvcm0pO1xuXHRcdHZhciBvbGRfZm9ybV92ZXJzaW9uID0gaW5zLmZvcm1fdmVyc2lvbixcblx0XHRcdG9sZF9maWVsZHMgPSBbXSxcblx0XHRcdGNvbW1vbl9maWVsZHMgPSBbXTtcblxuXHRcdHZhciBzZWxlY3RfdG9faW5wdXRfZmllbGRzID0gW107XG5cblx0XHRpZiAob2xkX2Zvcm0uY3VycmVudC5faWQgPT0gb2xkX2Zvcm1fdmVyc2lvbikge1xuXHRcdFx0b2xkX2ZpZWxkcyA9IG9sZF9mb3JtLmN1cnJlbnQuZmllbGRzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAob2xkX2Zvcm0uaGlzdG9yeXMpIHtcblx0XHRcdFx0b2xkX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbiAoaCkge1xuXHRcdFx0XHRcdGlmIChoLl9pZCA9PSBvbGRfZm9ybV92ZXJzaW9uKVxuXHRcdFx0XHRcdFx0b2xkX2ZpZWxkcyA9IGguZmllbGRzO1xuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuXHRcdFx0dmFyIGV4aXN0c19maWVsZCA9IF8uZmluZChvbGRfZmllbGRzLCBmdW5jdGlvbiAoZikge1xuXHRcdFx0XHRyZXR1cm4gZi50eXBlID09IGZpZWxkLnR5cGUgJiYgZi5jb2RlID09IGZpZWxkLmNvZGU7XG5cdFx0XHR9KVxuXHRcdFx0aWYgKGV4aXN0c19maWVsZClcblx0XHRcdFx0Y29tbW9uX2ZpZWxkcy5wdXNoKGZpZWxkKTtcblx0XHRcdHZhciBzZWxlY3RfaW5wdXRfZmllbGQgPSBfLmZpbmQob2xkX2ZpZWxkcywgZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0cmV0dXJuIGYudHlwZSA9PSAnc2VsZWN0JyAmJiBmaWVsZC50eXBlID09ICdpbnB1dCcgJiYgZi5jb2RlID09IGZpZWxkLmNvZGU7XG5cdFx0XHR9KVxuXHRcdFx0aWYgKHNlbGVjdF9pbnB1dF9maWVsZClcblx0XHRcdFx0c2VsZWN0X3RvX2lucHV0X2ZpZWxkcy5wdXNoKHNlbGVjdF9pbnB1dF9maWVsZCk7XG5cdFx0fSlcblxuXHRcdHNlbGVjdF90b19pbnB1dF9maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcblx0XHRcdGlmIChvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdKSB7XG5cdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0gPSBvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRjb21tb25fZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG5cdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnc2VjdGlvbicpIHtcblx0XHRcdFx0aWYgKGZpZWxkLmZpZWxkcykge1xuXHRcdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG5cdFx0XHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4Rcblx0XHRcdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR2YXIga2V5ID0gZi5jb2RlO1xuXHRcdFx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3ZhbHVlc1trZXldO1xuXHRcdFx0XHRcdFx0aWYgKG9sZF92KSB7XG5cdFx0XHRcdFx0XHRcdHZhciBmaWVsZE9wdGlvbnMgPSBmLm9wdGlvbnMgJiYgZi5vcHRpb25zLnNwbGl0ICYmIGYub3B0aW9ucy5zcGxpdChcIlxcblwiKS5tYXAoZnVuY3Rpb24obil7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGl0ZW1TcGxpdHMgPSBuLnNwbGl0KFwiOlwiKTtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0bGFiZWw6IGl0ZW1TcGxpdHNbMF0sXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogaXRlbVNwbGl0c1sxXSB8fCBuXG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcblx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnc2VsZWN0JyB8fCBmLnR5cGUgPT0gJ3JhZGlvJykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBzZWxlY3RlZE9wdGlvbiA9IGZpZWxkT3B0aW9ucy5maW5kKGZ1bmN0aW9uKGl0ZW0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBpdGVtLnZhbHVlID09PSBvbGRfdjtcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRpZighc2VsZWN0ZWRPcHRpb24pe1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24oZmllbGRPcHRpb25zLm1hcChmdW5jdGlvbihuKXsgcmV0dXJuIG4udmFsdWU7IH0pLCBvbGRfbXVsdGlTZWxlY3RlZCk7XG5cdFx0XHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRuZXdfdmFsdWVzW2tleV0gPSBvbGRfdjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT0gJ3RhYmxlJykge1xuXHRcdFx0XHRpZiAoIV8uaXNFbXB0eShvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdKSkge1xuXHRcdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0gPSBuZXcgQXJyYXk7XG5cdFx0XHRcdFx0b2xkX3ZhbHVlc1tmaWVsZC5jb2RlXS5mb3JFYWNoKGZ1bmN0aW9uIChvbGRfdGFibGVfcm93X3ZhbHVlcykge1xuXHRcdFx0XHRcdFx0dmFyIG5ld190YWJsZV9yb3dfdmFsdWVzID0ge307XG5cblx0XHRcdFx0XHRcdGlmICghXy5pc0VtcHR5KGZpZWxkLmZpZWxkcykpIHtcblx0XHRcdFx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4Rcblx0XHRcdFx0XHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZi50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGtleSA9IGYuY29kZTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdGFibGVfcm93X3ZhbHVlc1trZXldO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xuXHRcdFx0XHRcdFx0XHRcdFx0dmFyIGZpZWxkT3B0aW9ucyA9IGYub3B0aW9ucyAmJiBmLm9wdGlvbnMuc3BsaXQgJiYgZi5vcHRpb25zLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihuKXtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIGl0ZW1TcGxpdHMgPSBuLnNwbGl0KFwiOlwiKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRsYWJlbDogaXRlbVNwbGl0c1swXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogaXRlbVNwbGl0c1sxXSB8fCBuXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZi50eXBlID09ICdyYWRpbycpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIHNlbGVjdGVkT3B0aW9uID0gZmllbGRPcHRpb25zLmZpbmQoZnVuY3Rpb24oaXRlbSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBpdGVtLnZhbHVlID09PSBvbGRfdjtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmKCFzZWxlY3RlZE9wdGlvbil7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihmaWVsZE9wdGlvbnMubWFwKGZ1bmN0aW9uKG4peyByZXR1cm4gbi52YWx1ZTsgfSksIG9sZF9tdWx0aVNlbGVjdGVkKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0XHRcdG5ld190YWJsZV9yb3dfdmFsdWVzW2tleV0gPSBvbGRfdjtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGlmIChvbGRfdGFibGVfcm93X3ZhbHVlcy5faWQpIHtcblx0XHRcdFx0XHRcdFx0bmV3X3RhYmxlX3Jvd192YWx1ZXMuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCFfLmlzRW1wdHkobmV3X3RhYmxlX3Jvd192YWx1ZXMpKSB7XG5cdFx0XHRcdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0ucHVzaChuZXdfdGFibGVfcm93X3ZhbHVlcyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXG5cdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmaWVsZC50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIGtleSA9IGZpZWxkLmNvZGU7XG5cdFx0XHRcdHZhciBvbGRfdiA9IG9sZF92YWx1ZXNba2V5XTtcblx0XHRcdFx0aWYgKG9sZF92KSB7XG5cdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcblx0XHRcdFx0XHR2YXIgZmllbGRPcHRpb25zID0gZmllbGQub3B0aW9ucyAmJiBmaWVsZC5vcHRpb25zLnNwbGl0ICYmIGZpZWxkLm9wdGlvbnMuc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKG4pe1xuXHRcdFx0XHRcdFx0dmFyIGl0ZW1TcGxpdHMgPSBuLnNwbGl0KFwiOlwiKTtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdGxhYmVsOiBpdGVtU3BsaXRzWzBdLFxuXHRcdFx0XHRcdFx0XHR2YWx1ZTogaXRlbVNwbGl0c1sxXSB8fCBuXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZmllbGQudHlwZSA9PSAncmFkaW8nKSB7XG5cdFx0XHRcdFx0XHR2YXIgc2VsZWN0ZWRPcHRpb24gPSBmaWVsZE9wdGlvbnMuZmluZChmdW5jdGlvbihpdGVtKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBpdGVtLnZhbHVlID09PSBvbGRfdjtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0aWYoIXNlbGVjdGVkT3B0aW9uKXtcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChmaWVsZC50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcblx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XG5cdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihmaWVsZE9wdGlvbnMubWFwKGZ1bmN0aW9uKG4peyByZXR1cm4gbi52YWx1ZTsgfSksIG9sZF9tdWx0aVNlbGVjdGVkKTtcblx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdG5ld192YWx1ZXNba2V5XSA9IG9sZF92O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9KVxuXG5cdFx0Ly/lpoLmnpzmmK/liIblj5HvvIzliJl2YWx1ZeS4reeahHJlY29yZF9uZWVk44CBRk9ORFNJROS4jemcgOimgeWIhuWPkeWIsOaWsOeUs+ivt+WNleS4rVxuXHRcdGlmIChhY3Rpb25fdHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnKSB7XG5cdFx0XHRkZWxldGUgbmV3X3ZhbHVlcy5yZWNvcmRfbmVlZDtcblx0XHRcdGRlbGV0ZSBuZXdfdmFsdWVzLkZPTkRTSUQ7XG5cdFx0fVxuXG5cdFx0Ly8g6K6h566X55Sz6K+35Y2V5qCH6aKYXG5cdFx0dmFyIGluc3RhbmNlX25hbWUgPSBcIlwiO1xuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtLmN1cnJlbnQubmFtZV9mb3J1bWxhO1xuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcblx0XHRcdHRyeSB7XG5cdFx0XHRcdHZhciBpc2NyaXB0ID0gbmFtZV9mb3J1bWxhLnJlcGxhY2UoL1xcey9nLCBcIihuZXdfdmFsdWVzWydcIikucmVwbGFjZSgvXFx9L2csIFwiJ10gfHwgJycpXCIpO1xuXHRcdFx0XHR2YXIgcmV2ID0gZXZhbChpc2NyaXB0KTtcblx0XHRcdFx0aW5zdGFuY2VfbmFtZSA9IHJldiB8fCBmbG93Lm5hbWU7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdjYWN1bGF0ZV9pbnN0YW5jZV9uYW1lJywgXCLorqHnrpfnlLPor7fljZXmoIfpopjlh7rplJnor7fmo4Dmn6XooajljZXmoIfpopjohJrmnKzjgIJcIik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGluc3RhbmNlX25hbWUgPSBmbG93Lm5hbWU7XG5cdFx0fVxuXG5cdFx0Ly8gaW5zdGFuY2XkuK3orrDlvZXlvZPliY3mraXpqqTlkI3np7AgIzEzMTRcblx0XHR2YXIgc3RhcnRfc3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIGZ1bmN0aW9uIChzdGVwKSB7XG5cdFx0XHRyZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT0gJ3N0YXJ0Jztcblx0XHR9KVxuXG5cdFx0Ly8g5rWB56iL6L2s5Y+R5Yqf6IO95L+u5pS55Li677yM5byA5aeL6IqC54K55pyJ57yW6L6R5p2D6ZmQ55qE5a2X5q6155qE5YC86L+b6KGM5aSN5Yi277yM5peg57yW6L6R5p2D6ZmQ55qE5a2X5q615YC85LiN6L+b6KGM5aSN5Yi2ICMzNzQ4XG5cdFx0aWYgKGFjdGlvbl90eXBlID09PSAnZm9yd2FyZCcpIHtcblx0XHRcdG5ld192YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldEFwcHJvdmVWYWx1ZXMobmV3X3ZhbHVlcywgc3RhcnRfc3RlcC5wZXJtaXNzaW9ucywgZmxvdy5mb3JtLCBmbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uKTtcblx0XHR9XG5cblx0XHQvLyDmlrDlu7rnlLPor7fljZXml7bvvIxpbnN0YW5jZXPorrDlvZXmtYHnqIvlkI3np7DjgIHmtYHnqIvliIbnsbvlkI3np7AgIzEzMTNcblx0XHR2YXIgY2F0ZWdvcnlfbmFtZSA9IFwiXCI7XG5cdFx0aWYgKGZvcm0uY2F0ZWdvcnkpIHtcblx0XHRcdHZhciBjYXRlZ29yeSA9IHV1Zmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcnkoZm9ybS5jYXRlZ29yeSk7XG5cdFx0XHRpZiAoY2F0ZWdvcnkpXG5cdFx0XHRcdGNhdGVnb3J5X25hbWUgPSBjYXRlZ29yeS5uYW1lO1xuXHRcdH1cblxuXHRcdF8uZWFjaChmb3J3YXJkX3VzZXJzLCBmdW5jdGlvbiAodXNlcl9pZCkge1xuXG5cdFx0XHR2YXIgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkKTtcblxuXHRcdFx0dmFyIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHR1c2VyOiB1c2VyX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBzcGFjZV91c2VyX29yZ19pbmZvID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcblx0XHRcdFx0X2lkOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuXHRcdFx0fSwge1xuXHRcdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdGZ1bGxuYW1lOiAxXG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHR2YXIgbm93ID0gbmV3IERhdGUoKTtcblx0XHRcdHZhciBpbnNfb2JqID0ge307XG5cblx0XHRcdHZhciBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpO1xuXHRcdFx0dmFyIGhhbmRsZXJfaWQgPSB1c2VyX2lkO1xuXHRcdFx0dmFyIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcblx0XHRcdHZhciBoYW5kbGVyX3NwYWNlX3VzZXIgPSBzcGFjZV91c2VyO1xuXHRcdFx0dmFyIGhhbmRsZXJfb3JnX2luZm8gPSBzcGFjZV91c2VyX29yZ19pbmZvO1xuXHRcdFx0aWYgKGFnZW50KSB7XG5cdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudDtcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShhZ2VudCk7XG5cdFx0XHRcdGhhbmRsZXJfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBhZ2VudCk7XG5cdFx0XHRcdGhhbmRsZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oaGFuZGxlcl9zcGFjZV91c2VyKTtcblx0XHRcdH1cblx0XHRcdGluc19vYmouX2lkID0gZGIuaW5zdGFuY2VzLl9tYWtlTmV3SUQoKTtcblx0XHRcdGluc19vYmouc3BhY2UgPSBzcGFjZV9pZDtcblx0XHRcdGluc19vYmouZmxvdyA9IGZsb3dfaWQ7XG5cdFx0XHRpbnNfb2JqLmZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudC5faWQ7XG5cdFx0XHRpbnNfb2JqLmZvcm0gPSBmbG93LmZvcm07XG5cdFx0XHRpbnNfb2JqLmZvcm1fdmVyc2lvbiA9IGZsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG5cdFx0XHRpbnNfb2JqLm5hbWUgPSBpbnN0YW5jZV9uYW1lO1xuXHRcdFx0aW5zX29iai5zdWJtaXR0ZXIgPSBoYW5kbGVyX2lkO1xuXHRcdFx0aW5zX29iai5zdWJtaXR0ZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnQgPSB1c2VyX2lkO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm8ubmFtZTtcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm8uZnVsbG5hbWU7XG5cdFx0XHRpbnNfb2JqLnN0YXRlID0gXCJkcmFmdFwiO1xuXHRcdFx0aW5zX29iai5jb2RlID0gXCJcIjtcblx0XHRcdGluc19vYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcblx0XHRcdGluc19vYmouaXNfZGVsZXRlZCA9IGZhbHNlO1xuXHRcdFx0aW5zX29iai5jcmVhdGVkID0gbm93O1xuXHRcdFx0aW5zX29iai5jcmVhdGVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xuXHRcdFx0aW5zX29iai5tb2RpZmllZCA9IG5vdztcblx0XHRcdGluc19vYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XG5cdFx0XHRpbnNfb2JqLmluYm94X3VzZXJzID0gW2hhbmRsZXJfaWRdO1xuXHRcdFx0aW5zX29iai52YWx1ZXMgPSBuZXdfdmFsdWVzO1xuXHRcdFx0aWYgKGFjdGlvbl90eXBlID09ICdkaXN0cmlidXRlJykge1xuXHRcdFx0XHQvLyDop6PlhrPlpJrmrKHliIblj5HnnIvkuI3liLDmraPmlofjgIHpmYTku7bpl67pophcblx0XHRcdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcblx0XHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSA9IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2U7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcblx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzLnB1c2goaW5zdGFuY2VfaWQpO1xuXG5cdFx0XHRcdGlmIChyZWxhdGVkKSB7XG5cdFx0XHRcdFx0aW5zX29iai5yZWxhdGVkX2luc3RhbmNlcyA9IFtpbnN0YW5jZV9pZF1cblx0XHRcdFx0fVxuXG5cdFx0XHR9IGVsc2UgaWYgKGFjdGlvbl90eXBlID09ICdmb3J3YXJkJykge1xuXHRcdFx0XHRpbnNfb2JqLmZvcndhcmRfZnJvbV9pbnN0YW5jZSA9IGluc3RhbmNlX2lkXG5cdFx0XHR9XG5cblx0XHRcdC8vIOaWsOW7ulRyYWNlXG5cdFx0XHR2YXIgdHJhY2Vfb2JqID0ge307XG5cdFx0XHR0cmFjZV9vYmouX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcblx0XHRcdHRyYWNlX29iai5pbnN0YW5jZSA9IGluc19vYmouX2lkO1xuXHRcdFx0dHJhY2Vfb2JqLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG5cblx0XHRcdC8vIOW9k+WJjeacgOaWsOeJiGZsb3fkuK3lvIDlp4voioLngrnnmoRzdGVwX2lkXG5cdFx0XHR2YXIgc3RlcF9pZCwgc3RlcF9uYW1lLCBjYW5fZWRpdF9tYWluX2F0dGFjaCwgY2FuX2VkaXRfbm9ybWFsX2F0dGFjaDtcblx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwKSB7XG5cdFx0XHRcdGlmIChzdGVwLnN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIpIHtcblx0XHRcdFx0XHRzdGVwX2lkID0gc3RlcC5faWQ7XG5cdFx0XHRcdFx0c3RlcF9uYW1lID0gc3RlcC5uYW1lO1xuXHRcdFx0XHRcdGNhbl9lZGl0X21haW5fYXR0YWNoID0gc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaDtcblx0XHRcdFx0XHRjYW5fZWRpdF9ub3JtYWxfYXR0YWNoID0gc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0dHJhY2Vfb2JqLnN0ZXAgPSBzdGVwX2lkO1xuXHRcdFx0dHJhY2Vfb2JqLnN0YXJ0X2RhdGUgPSBub3c7XG5cdFx0XHR0cmFjZV9vYmoubmFtZSA9IHN0ZXBfbmFtZTtcblxuXHRcdFx0Ly8g5paw5bu6QXBwcm92ZVxuXHRcdFx0dmFyIGFwcHJfb2JqID0ge307XG5cdFx0XHRhcHByX29iai5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuXHRcdFx0YXBwcl9vYmouaW5zdGFuY2UgPSBpbnNfb2JqLl9pZDtcblx0XHRcdGFwcHJfb2JqLnRyYWNlID0gdHJhY2Vfb2JqLl9pZDtcblx0XHRcdGFwcHJfb2JqLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG5cdFx0XHRhcHByX29iai51c2VyID0gdXNlcl9pZDtcblx0XHRcdGFwcHJfb2JqLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuXHRcdFx0YXBwcl9vYmouaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG5cdFx0XHRhcHByX29iai5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gaGFuZGxlcl9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBoYW5kbGVyX29yZ19pbmZvLm5hbWU7XG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGhhbmRsZXJfb3JnX2luZm8uZnVsbG5hbWU7XG5cdFx0XHRhcHByX29iai50eXBlID0gXCJkcmFmdFwiO1xuXHRcdFx0YXBwcl9vYmouc3RhcnRfZGF0ZSA9IG5vdztcblx0XHRcdGFwcHJfb2JqLnJlYWRfZGF0ZSA9IG5vdztcblx0XHRcdGFwcHJfb2JqLmlzX3JlYWQgPSBmYWxzZTtcblx0XHRcdGFwcHJfb2JqLmlzX2Vycm9yID0gZmFsc2U7XG5cblx0XHRcdGFwcHJfb2JqLnZhbHVlcyA9IG5ld192YWx1ZXM7XG5cblx0XHRcdGlmIChhZ2VudCkge1xuXHRcdFx0XHRhcHByX29iai5hZ2VudCA9IGFnZW50O1xuXHRcdFx0fVxuXG5cdFx0XHR0cmFjZV9vYmouYXBwcm92ZXMgPSBbYXBwcl9vYmpdO1xuXHRcdFx0aW5zX29iai50cmFjZXMgPSBbdHJhY2Vfb2JqXTtcblxuXHRcdFx0aWYgKGZsb3cuYXV0b19yZW1pbmQgPT0gdHJ1ZSlcblx0XHRcdFx0aW5zX29iai5hdXRvX3JlbWluZCA9IHRydWU7XG5cblx0XHRcdGluc19vYmouY3VycmVudF9zdGVwX25hbWUgPSBzdGFydF9zdGVwLm5hbWU7XG5cblx0XHRcdGluc19vYmouZmxvd19uYW1lID0gZmxvdy5uYW1lO1xuXHRcdFx0aWYgKGNhdGVnb3J5X25hbWUpIHtcblx0XHRcdFx0aW5zX29iai5jYXRlZ29yeV9uYW1lID0gY2F0ZWdvcnkubmFtZTtcblx0XHRcdFx0aW5zX29iai5jYXRlZ29yeSA9IGNhdGVnb3J5Ll9pZDtcblx0XHRcdH1cblxuXHRcdFx0bmV3X2luc19pZCA9IGRiLmluc3RhbmNlcy5pbnNlcnQoaW5zX29iaik7XG5cblx0XHRcdC8vIOWkjeWItumZhOS7tlxuXHRcdFx0dmFyIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuXG5cdFx0XHQvL+WwhuWOn+ihqOWNleWGheWuueWtmOWCqOS4uuesrOS4gOS4qumZhOS7tlxuXHRcdFx0aWYgKGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCkge1xuXHRcdFx0XHQvLyB0cnkge1xuXG5cdFx0XHRcdGluc3RhbmNlSHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlcl9pbmZvLCBzcGFjZV9pZCwgaW5zLCB7XG5cdFx0XHRcdFx0YWJzb2x1dGU6IHRydWUsXG5cdFx0XHRcdFx0c2hvd1RyYWNlOiB0cnVlXG5cdFx0XHRcdH0pXG5cdFx0XHRcdHZhciBpbnN0YW5jZUZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuXHRcdFx0XHRpbnN0YW5jZUZpbGUuYXR0YWNoRGF0YShCdWZmZXIuZnJvbShpbnN0YW5jZUh0bWwsIFwidXRmLThcIiksIHtcblx0XHRcdFx0XHR0eXBlOiBcInRleHQvaHRtbFwiXG5cdFx0XHRcdH0sIGZ1bmN0aW9uIChlcnJvcikge1xuXHRcdFx0XHRcdGlmIChlcnJvcikge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcihlcnJvci5lcnJvciwgZXJyb3IucmVhc29uKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUubmFtZShpbnMubmFtZSArIFwiLmh0bWxcIik7XG5cdFx0XHRcdFx0aW5zdGFuY2VGaWxlLnNpemUoaW5zdGFuY2VIdG1sLmxlbmd0aCk7XG5cblx0XHRcdFx0XHR2YXIgbWV0YWRhdGEgPSB7XG5cdFx0XHRcdFx0XHRvd25lcjogdXNlcl9pZCxcblx0XHRcdFx0XHRcdG93bmVyX25hbWU6IHVzZXJfaW5mby5uYW1lLFxuXHRcdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHRcdFx0aW5zdGFuY2U6IG5ld19pbnNfaWQsXG5cdFx0XHRcdFx0XHRhcHByb3ZlOiBhcHByX29iai5faWQsXG5cdFx0XHRcdFx0XHRjdXJyZW50OiB0cnVlXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcblx0XHRcdFx0XHR2YXIgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KGluc3RhbmNlRmlsZSk7XG5cdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoe1xuXHRcdFx0XHRcdFx0JHNldDoge1xuXHRcdFx0XHRcdFx0XHQnbWV0YWRhdGEucGFyZW50JzogZmlsZU9iai5faWRcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KVxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdC8vIH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gICAgIGNvbnNvbGUuZXJyb3IoZSk7XG5cdFx0XHRcdC8vIH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzRm9yd2FyZEF0dGFjaG1lbnRzICYmIGFjdGlvbl90eXBlID09ICdmb3J3YXJkJykge1xuXHRcdFx0XHR2YXIgZmlsZXMgPSBjb2xsZWN0aW9uLmZpbmQoe1xuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0ZmlsZXMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuXHRcdFx0XHRcdC8vIOWIpOaWreaWsOeahOa1geeoi+W8gOWni+iKgueCueaYr+WQpuaciee8lui+keato+aWh+WSjOe8lui+kemZhOS7tuadg+mZkFxuXHRcdFx0XHRcdGlmIChmLm1ldGFkYXRhLm1haW4gPT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0aWYgKGNhbl9lZGl0X21haW5fYXR0YWNoICE9IHRydWUgJiYgY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCAhPSB0cnVlKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChjYW5fZWRpdF9ub3JtYWxfYXR0YWNoICE9IHRydWUpXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR2YXIgbmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XG5cdFx0XHRcdFx0bmV3RmlsZS5hdHRhY2hEYXRhKGYuY3JlYXRlUmVhZFN0cmVhbSgnaW5zdGFuY2VzJyksIHtcblx0XHRcdFx0XHRcdHR5cGU6IGYub3JpZ2luYWwudHlwZVxuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uIChlcnIpIHtcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcihlcnIuZXJyb3IsIGVyci5yZWFzb24pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0bmV3RmlsZS5uYW1lKGYubmFtZSgpKTtcblx0XHRcdFx0XHRcdG5ld0ZpbGUuc2l6ZShmLnNpemUoKSk7XG5cdFx0XHRcdFx0XHR2YXIgbWV0YWRhdGEgPSB7XG5cdFx0XHRcdFx0XHRcdG93bmVyOiB1c2VyX2lkLFxuXHRcdFx0XHRcdFx0XHRvd25lcl9uYW1lOiB1c2VyX2luZm8ubmFtZSxcblx0XHRcdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxuXHRcdFx0XHRcdFx0XHRpbnN0YW5jZTogbmV3X2luc19pZCxcblx0XHRcdFx0XHRcdFx0YXBwcm92ZTogYXBwcl9vYmouX2lkLFxuXHRcdFx0XHRcdFx0XHRjdXJyZW50OiB0cnVlXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0aWYgKGYubWV0YWRhdGEubWFpbiA9PSB0cnVlICYmIGNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpIHtcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubWFpbiA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG5cdFx0XHRcdFx0XHR2YXIgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuXHRcdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHQkc2V0OiB7XG5cdFx0XHRcdFx0XHRcdFx0J21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fSlcblxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoYWN0aW9uX3R5cGUgPT09ICdkaXN0cmlidXRlJykge1xuXHRcdFx0XHQvLyDnu5nlvZPliY3nmoTnlLPor7fljZXlop7liqDliIblj5HorrDlvZVcblx0XHRcdFx0dmFyIGFwcHIgPSB7XG5cdFx0XHRcdFx0J19pZCc6IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHIsXG5cdFx0XHRcdFx0J2luc3RhbmNlJzogaW5zdGFuY2VfaWQsXG5cdFx0XHRcdFx0J3RyYWNlJzogY3VycmVudF90cmFjZV9pZCxcblx0XHRcdFx0XHQnaXNfZmluaXNoZWQnOiB0cnVlLFxuXHRcdFx0XHRcdCd1c2VyJzogdXNlcl9pZCxcblx0XHRcdFx0XHQndXNlcl9uYW1lJzogdXNlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdFx0J2hhbmRsZXInOiB1c2VyX2lkLFxuXHRcdFx0XHRcdCdoYW5kbGVyX25hbWUnOiB1c2VyX2luZm8ubmFtZSxcblx0XHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb24nOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbixcblx0XHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSc6IHNwYWNlX3VzZXJfb3JnX2luZm8ubmFtZSxcblx0XHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUnOiBzcGFjZV91c2VyX29yZ19pbmZvLmZ1bGxuYW1lLFxuXHRcdFx0XHRcdCd0eXBlJzogYWN0aW9uX3R5cGUsXG5cdFx0XHRcdFx0J3N0YXJ0X2RhdGUnOiBuZXcgRGF0ZSgpLFxuXHRcdFx0XHRcdCdmaW5pc2hfZGF0ZSc6IG5ldyBEYXRlKCksXG5cdFx0XHRcdFx0J2lzX3JlYWQnOiBmYWxzZSxcblx0XHRcdFx0XHQnanVkZ2UnOiAnc3VibWl0dGVkJyxcblx0XHRcdFx0XHQnZnJvbV91c2VyJzogY3VycmVudF91c2VyX2lkLFxuXHRcdFx0XHRcdCdmcm9tX3VzZXJfbmFtZSc6IGZyb21fdXNlcl9uYW1lLFxuXHRcdFx0XHRcdCdmb3J3YXJkX3NwYWNlJzogc3BhY2VfaWQsXG5cdFx0XHRcdFx0J2ZvcndhcmRfaW5zdGFuY2UnOiBuZXdfaW5zX2lkLFxuXHRcdFx0XHRcdCdkZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uLFxuXHRcdFx0XHRcdCdmcm9tX2FwcHJvdmVfaWQnOiBmcm9tX2FwcHJvdmVfaWRcblx0XHRcdFx0fTtcblxuXHRcdFx0XHRmb3J3YXJkX2FwcHJvdmVzLnB1c2goYXBwcik7XG5cdFx0XHR9XG5cblx0XHRcdG5ld19pbnNfaWRzLnB1c2gobmV3X2luc19pZCk7XG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG5cdFx0fSlcblxuXHRcdGlmICghXy5pc0VtcHR5KGZvcndhcmRfYXBwcm92ZXMpKSB7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XG5cdFx0XHR2YXIgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcInRyYWNlcy5faWRcIjogY3VycmVudF90cmFjZV9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHQkc2V0OiBzZXRfb2JqLFxuXHRcdFx0XHQkYWRkVG9TZXQ6IHtcblx0XHRcdFx0XHQndHJhY2VzLiQuYXBwcm92ZXMnOiB7XG5cdFx0XHRcdFx0XHQkZWFjaDogZm9yd2FyZF9hcHByb3Zlc1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cblx0XHRpZiAocikge1xuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdFx0aWYgKGEuX2lkID09IGZyb21fYXBwcm92ZV9pZCkge1xuXHRcdFx0XHRcdHZhciB1cGRhdGVfcmVhZCA9IHt9O1xuXHRcdFx0XHRcdHVwZGF0ZV9yZWFkW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcblx0XHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBjdXJyZW50X3RyYWNlX2lkXG5cdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0JHNldDogdXBkYXRlX3JlYWRcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblxuXHRcdH1cblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHsgbmV3X2luc19pZHM6IG5ld19pbnNfaWRzIH1cblx0XHR9KVxuXHR9IGNhdGNoIChlKSB7XG5cdFx0Y29uc29sZS5lcnJvcihlLnN0YWNrKVxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0ZXJyb3JzOiBbZV1cblx0XHRcdH1cblx0XHR9KVxuXHR9XG5cbn0pIiwiSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L2luc3RhbmNlLzppbnN0YW5jZUlkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEsIHJlcylcblx0XHRjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcblx0XHRyZXFfYXN5bmMgPSBfLmhhcyhyZXEucXVlcnksICdhc3luYycpO1xuXHRcdGluc0lkID0gcmVxLnBhcmFtcy5pbnN0YW5jZUlkXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsIGZsb3c6IDEsIHN0YXRlOiAxLCBpbmJveF91c2VyczogMSwgY2NfdXNlcnM6IDEsIG91dGJveF91c2VyczogMSwgc3VibWl0dGVyOiAxLCBhcHBsaWNhbnQ6IDEgfSB9KVxuXG5cdFx0aWYgbm90IGluc1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2VJZCBpcyB3cm9uZyBvciBpbnN0YW5jZSBub3QgZXhpc3RzLicpXG5cblx0XHRzcGFjZUlkID0gaW5zLnNwYWNlXG5cdFx0Zmxvd0lkID0gaW5zLmZsb3dcblxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCwgdXNlcjogY3VycmVudF91c2VyX2lkIH0pLmNvdW50KCkgaXMgMFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAndXNlciBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UuJylcblxuXHRcdGJveCA9ICcnXG5cblx0XHRpZiAoaW5zLmluYm94X3VzZXJzPy5pbmNsdWRlcyBjdXJyZW50X3VzZXJfaWQpIG9yIChpbnMuY2NfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZClcblx0XHRcdGJveCA9ICdpbmJveCdcblx0XHRlbHNlIGlmIGlucy5vdXRib3hfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZFxuXHRcdFx0Ym94ID0gJ291dGJveCdcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAnZHJhZnQnIGFuZCBpbnMuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlcl9pZFxuXHRcdFx0Ym94ID0gJ2RyYWZ0J1xuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdwZW5kaW5nJyBhbmQgKGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkIG9yIGlucy5hcHBsaWNhbnQgaXMgY3VycmVudF91c2VyX2lkKVxuXHRcdFx0Ym94ID0gJ3BlbmRpbmcnXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2NvbXBsZXRlZCcgYW5kIGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkXG5cdFx0XHRib3ggPSAnY29tcGxldGVkJ1xuXHRcdGVsc2Vcblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd0lkLCBjdXJyZW50X3VzZXJfaWQpXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwibm8gcGVybWlzc2lvbi5cIilcblx0XHRcdGJveCA9ICdtb25pdG9yJ1xuXG5cdFx0cmVkaXJlY3RUbyA9IFwid29ya2Zsb3cvc3BhY2UvI3tzcGFjZUlkfS8je2JveH0vI3tpbnNJZH1cIlxuXHRcdHJlZGlyZWN0VG9VcmwgPSBNZXRlb3IuYWJzb2x1dGVVcmwocmVkaXJlY3RUbylcblx0XHRpZiByZXFfYXN5bmMgIyB8fCByZXEuZ2V0KFwiWC1SZXF1ZXN0ZWQtV2l0aFwiKSA9PT0gJ1hNTEh0dHBSZXF1ZXN0J1xuXHRcdFx0cmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcblx0XHRcdFx0XCJzdGF0dXNcIjogMzAyLFxuXHRcdFx0XHRcInJlZGlyZWN0XCI6IHJlZGlyZWN0VG9cblx0XHRcdH0pO1xuXHRcdGVsc2Vcblx0XHRcdHJlcy5zZXRIZWFkZXIgXCJMb2NhdGlvblwiLCByZWRpcmVjdFRvVXJsXG5cdFx0XHRyZXMud3JpdGVIZWFkIDMwMlxuXHRcdFx0cmVzLmVuZCgpXG5cdFx0XHRyZXR1cm5cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxuIiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L2luc3RhbmNlLzppbnN0YW5jZUlkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGJveCwgY3VycmVudF91c2VyX2lkLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvd0lkLCBpbnMsIGluc0lkLCBwZXJtaXNzaW9ucywgcmVkaXJlY3RUbywgcmVkaXJlY3RUb1VybCwgcmVmLCByZWYxLCByZWYyLCByZXFfYXN5bmMsIHNwYWNlLCBzcGFjZUlkO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSwgcmVzKTtcbiAgICBjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgcmVxX2FzeW5jID0gXy5oYXMocmVxLnF1ZXJ5LCAnYXN5bmMnKTtcbiAgICBpbnNJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VJZDtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBmbG93OiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICAgIGNjX3VzZXJzOiAxLFxuICAgICAgICBvdXRib3hfdXNlcnM6IDEsXG4gICAgICAgIHN1Ym1pdHRlcjogMSxcbiAgICAgICAgYXBwbGljYW50OiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlSWQgaXMgd3Jvbmcgb3IgaW5zdGFuY2Ugbm90IGV4aXN0cy4nKTtcbiAgICB9XG4gICAgc3BhY2VJZCA9IGlucy5zcGFjZTtcbiAgICBmbG93SWQgPSBpbnMuZmxvdztcbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgIHVzZXI6IGN1cnJlbnRfdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ3VzZXIgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlLicpO1xuICAgIH1cbiAgICBib3ggPSAnJztcbiAgICBpZiAoKChyZWYgPSBpbnMuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkgfHwgKChyZWYxID0gaW5zLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSkge1xuICAgICAgYm94ID0gJ2luYm94JztcbiAgICB9IGVsc2UgaWYgKChyZWYyID0gaW5zLm91dGJveF91c2VycykgIT0gbnVsbCA/IHJlZjIuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkge1xuICAgICAgYm94ID0gJ291dGJveCc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcgJiYgaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICBib3ggPSAnZHJhZnQnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAncGVuZGluZycgJiYgKGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCB8fCBpbnMuYXBwbGljYW50ID09PSBjdXJyZW50X3VzZXJfaWQpKSB7XG4gICAgICBib3ggPSAncGVuZGluZyc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdjb21wbGV0ZWQnICYmIGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgYm94ID0gJ2NvbXBsZXRlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dJZCwgY3VycmVudF91c2VyX2lkKTtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwibm8gcGVybWlzc2lvbi5cIik7XG4gICAgICB9XG4gICAgICBib3ggPSAnbW9uaXRvcic7XG4gICAgfVxuICAgIHJlZGlyZWN0VG8gPSBcIndvcmtmbG93L3NwYWNlL1wiICsgc3BhY2VJZCArIFwiL1wiICsgYm94ICsgXCIvXCIgKyBpbnNJZDtcbiAgICByZWRpcmVjdFRvVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKHJlZGlyZWN0VG8pO1xuICAgIGlmIChyZXFfYXN5bmMpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgIFwic3RhdHVzXCI6IDMwMixcbiAgICAgICAgXCJyZWRpcmVjdFwiOiByZWRpcmVjdFRvXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnNldEhlYWRlcihcIkxvY2F0aW9uXCIsIHJlZGlyZWN0VG9VcmwpO1xuICAgICAgcmVzLndyaXRlSGVhZCgzMDIpO1xuICAgICAgcmVzLmVuZCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZyDojrflj5blvoXlip7mlofku7ZcblxuQGFwaURlc2NyaXB0aW9uIOiOt+WPluW9k+WJjeeUqOaIt+eahOW+heWKnuS6i+mhueWIl+ihqFxuXG5AYXBpTmFtZSBnZXRJbmJveFxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcblx0e1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG5cdHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiZzd3b2tYTmtSOXl4SHZBNERcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paH5rWB56iLXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlofmtYHnqIsgMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IG51bGwsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA3LTI1VDA2OjM2OjQ4LjQ5MlpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IGZhbHNlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcIldxS1NyV1FveXdnSmFNcDlrXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIwWlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh1xcblwiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paHXFxuIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBcIuaut+S6rui+iVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNi0yN1QxMDoyNjoxOS40NjhaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjFaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiB0cnVlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fVxuXHRcdF1cblx0fVxuIyMjXG5Kc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm5cblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXSB8fCByZXEucXVlcnk/LnNwYWNlSWRcblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzcGFjZV9pZCcpXG5cblx0XHR1c2VyX2lkID0gcmVxLnVzZXJJZFxuXG5cdFx0aWYgIXVzZXJfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ05vdCBsb2dnZWQgaW4nKVxuXG5cdFx0aWYgZGIudXNlcnMuZmluZCh7IF9pZDogdXNlcl9pZCB9KS5jb3VudCgpIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdGxpbWl0ID0gcmVxLnF1ZXJ5Py5saW1pdCB8fCA1MDBcblxuXHRcdGxpbWl0ID0gcGFyc2VJbnQobGltaXQpXG5cblx0XHR1c2VybmFtZSA9IHJlcS5xdWVyeT8udXNlcm5hbWVcblxuXHRcdHVzZXJpZCA9IHJlcS5xdWVyeT8udXNlcmlkXG5cblx0XHRhdHRhY2ggPSByZXEucXVlcnk/LmF0dGFjaFxuXG5cdFx0d29ya2Zsb3dfY2F0ZWdvcmllcyA9IHJlcS5xdWVyeT8ud29ya2Zsb3dfY2F0ZWdvcmllc1xuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblxuXHRcdCMg5aaC5p6c5b2T5YmN55So5oi35piv5bel5L2c5Yy6566h55CG5ZGY77yM5YiZ6YCa6L+H5p+l55yLdXJs5LiK5piv5ZCm5pyJdXNlcm5hbWVcXHVzZXJpZCDvvIxcblx0XHQjIOWmguaenOacie+8jOWImei/lOWbnnVzZXJuYW1lXFx1c2VyaWTlr7nlupTnmoTnlKjmiLfvvIzlkKbliJnov5Tlm57lvZPliY3nlKjmiLflvoXlip7jgIJcblx0XHQjIHVzZXJuYW1lXFx1c2VyaWTpg73lrZjlnKjml7bvvIx1c2VyaWTkvJjlhYhcblx0XHRzcGVjaWFsX3VzZXJfaWRcblx0XHRpZiBzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcl9pZClcblx0XHRcdGlmIHVzZXJpZFxuXHRcdFx0XHRpZiBkYi51c2Vycy5maW5kKHsgX2lkOiB1c2VyaWQgfSkuY291bnQoKSA8IDFcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcmlkOiAje3VzZXJpZH1cIilcblxuXHRcdFx0XHRzcGVjaWFsX3VzZXJfaWQgPSB1c2VyaWRcblx0XHRcdGVsc2UgaWYgdXNlcm5hbWVcblx0XHRcdFx0dSA9IGRiLnVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZTogdXNlcm5hbWUgfSwgeyBmaWVsZHM6IHsgX2lkOiAxIH0gfSlcblx0XHRcdFx0aWYgXy5pc0VtcHR5KHUpXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJuYW1lOiAje3VzZXJuYW1lfVwiKVxuXG5cdFx0XHRcdHNwZWNpYWxfdXNlcl9pZCA9IHUuX2lkXG5cblx0XHRyZXN1bHRfaW5zdGFuY2VzID0gbmV3IEFycmF5XG5cblx0XHRpc19yZWFkID0gZmFsc2Vcblx0XHRzdGFydF9kYXRlID0gJydcblx0XHR1aWQgPSB1c2VyX2lkXG5cdFx0cXVlcnkgPSB7XG5cdFx0XHQkb3I6IFt7IGluYm94X3VzZXJzOiB1c2VyX2lkIH0sIHsgY2NfdXNlcnM6IHVzZXJfaWQgfV1cblx0XHR9XG5cblx0XHRpZiBzcGVjaWFsX3VzZXJfaWRcblx0XHRcdHVpZCA9IHNwZWNpYWxfdXNlcl9pZFxuXHRcdFx0cXVlcnkgPSB7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0JG9yOiBbeyBpbmJveF91c2Vyczogc3BlY2lhbF91c2VyX2lkIH0sIHsgY2NfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZCB9XVxuXHRcdFx0fVxuXG5cdFx0aWYgd29ya2Zsb3dfY2F0ZWdvcmllc1xuXHRcdFx0cXVlcnkuY2F0ZWdvcnkgPSB7ICRpbjogd29ya2Zsb3dfY2F0ZWdvcmllcy5zcGxpdCgnLCcpIH1cblxuXHRcdHNwYWNlX25hbWVzID0ge31cblx0XHRzcGFjZV9uYW1lc1tzcGFjZS5faWRdID0gc3BhY2UubmFtZVxuXG5cdFx0aWYgbGltaXQgPiAwXG5cdFx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwgeyBzb3J0OiB7IG1vZGlmaWVkOiAtMSB9LCBsaW1pdDogbGltaXQgfSkuZm9yRWFjaCAoaSkgLT5cblxuXHRcdFx0XHRpZiBpLmluYm94X3VzZXJzPy5pbmNsdWRlcyh1aWQpXG5cdFx0XHRcdFx0Xy5lYWNoIGkudHJhY2VzLCAodCkgLT5cblx0XHRcdFx0XHRcdGlmIHQuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhKSAtPlxuXHRcdFx0XHRcdFx0XHRcdGlmIGEudXNlciBpcyB1aWQgYW5kIGEudHlwZSBpc250ICdjYycgYW5kIG5vdCBhLmlzX2ZpbmlzaGVkXG5cdFx0XHRcdFx0XHRcdFx0XHRpc19yZWFkID0gYS5pc19yZWFkXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRfLmVhY2ggaS50cmFjZXMsICh0KSAtPlxuXHRcdFx0XHRcdFx0aWYgbm90IHN0YXJ0X2RhdGUgYW5kIHQuYXBwcm92ZXNcblx0XHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhKSAtPlxuXHRcdFx0XHRcdFx0XHRcdGlmIG5vdCBzdGFydF9kYXRlIGFuZCBhLnVzZXIgaXMgdWlkIGFuZCBhLnR5cGUgaXMgJ2NjJyBhbmQgbm90IGEuaXNfZmluaXNoZWRcblx0XHRcdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSBhLmlzX3JlYWRcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGVcblxuXHRcdFx0XHRpZiBub3Qgc3BhY2VfbmFtZXNbaS5zcGFjZV1cblx0XHRcdFx0XHRzcGFjZV9uYW1lc1tpLnNwYWNlXSA9IGRiLnNwYWNlcy5maW5kT25lKGkuc3BhY2UsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KT8ubmFtZVxuXG5cdFx0XHRcdGggPSBuZXcgT2JqZWN0XG5cdFx0XHRcdGhbXCJpZFwiXSA9IGlbXCJfaWRcIl1cblx0XHRcdFx0aFtcInN0YXJ0X2RhdGVcIl0gPSBzdGFydF9kYXRlXG5cdFx0XHRcdGhbXCJmbG93X25hbWVcIl0gPSBpLmZsb3dfbmFtZVxuXHRcdFx0XHRoW1wic3BhY2VfbmFtZVwiXSA9IHNwYWNlX25hbWVzW2kuc3BhY2VdXG5cdFx0XHRcdGhbXCJuYW1lXCJdID0gaVtcIm5hbWVcIl1cblx0XHRcdFx0aFtcImFwcGxpY2FudF9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9uYW1lXCJdXG5cdFx0XHRcdGhbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBpW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdXG5cdFx0XHRcdGhbXCJzdWJtaXRfZGF0ZVwiXSA9IGlbXCJzdWJtaXRfZGF0ZVwiXVxuXHRcdFx0XHRoW1wic3RlcF9uYW1lXCJdID0gaS5jdXJyZW50X3N0ZXBfbmFtZVxuXHRcdFx0XHRoW1wic3BhY2VfaWRcIl0gPSBpLnNwYWNlXG5cdFx0XHRcdGhbXCJtb2RpZmllZFwiXSA9IGlbXCJtb2RpZmllZFwiXVxuXHRcdFx0XHRoW1wiaXNfcmVhZFwiXSA9IGlzX3JlYWRcblx0XHRcdFx0aFtcInZhbHVlc1wiXSA9IGlbXCJ2YWx1ZXNcIl1cblxuXHRcdFx0XHRpZiBhdHRhY2ggaXMgJ3RydWUnXG5cdFx0XHRcdFx0aC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7ICdtZXRhZGF0YS5pbnN0YW5jZSc6IGkuX2lkLCAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7ICRuZTogdHJ1ZSB9IH0sIHsgZmllbGRzOiB7IGNvcGllczogMCB9IH0pLmZldGNoKClcblxuXHRcdFx0XHRyZXN1bHRfaW5zdGFuY2VzLnB1c2goaClcblxuXHRcdG5vX2xpbWl0X2NvdW50ID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmNvdW50KClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHRfaW5zdGFuY2VzLCBjb3VudDogbm9fbGltaXRfY291bnQgfVxuXHRcdH1cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5yZWFzb24gfV0gfVxuXHRcdH1cblxuIiwiXG4vKlxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZyDojrflj5blvoXlip7mlofku7ZcblxuQGFwaURlc2NyaXB0aW9uIOiOt+WPluW9k+WJjeeUqOaIt+eahOW+heWKnuS6i+mhueWIl+ihqFxuXG5AYXBpTmFtZSBnZXRJbmJveFxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcblx0e1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG5cdHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiZzd3b2tYTmtSOXl4SHZBNERcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paH5rWB56iLXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlofmtYHnqIsgMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IG51bGwsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA3LTI1VDA2OjM2OjQ4LjQ5MlpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IGZhbHNlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcIldxS1NyV1FveXdnSmFNcDlrXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIwWlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh1xcblwiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paHXFxuIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBcIuaut+S6rui+iVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNi0yN1QxMDoyNjoxOS40NjhaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjFaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiB0cnVlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fVxuXHRcdF1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaCwgZSwgaXNfcmVhZCwgbGltaXQsIG5vX2xpbWl0X2NvdW50LCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZXN1bHRfaW5zdGFuY2VzLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX25hbWVzLCBzcGVjaWFsX3VzZXJfaWQsIHN0YXJ0X2RhdGUsIHUsIHVpZCwgdXNlcl9pZCwgdXNlcmlkLCB1c2VybmFtZSwgd29ya2Zsb3dfY2F0ZWdvcmllcztcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddIHx8ICgocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnNwYWNlSWQgOiB2b2lkIDApO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3BhY2VfaWQnKTtcbiAgICB9XG4gICAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdOb3QgbG9nZ2VkIGluJyk7XG4gICAgfVxuICAgIGlmIChkYi51c2Vycy5maW5kKHtcbiAgICAgIF9pZDogdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGxpbWl0ID0gKChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5saW1pdCA6IHZvaWQgMCkgfHwgNTAwO1xuICAgIGxpbWl0ID0gcGFyc2VJbnQobGltaXQpO1xuICAgIHVzZXJuYW1lID0gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLnVzZXJuYW1lIDogdm9pZCAwO1xuICAgIHVzZXJpZCA9IChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy51c2VyaWQgOiB2b2lkIDA7XG4gICAgYXR0YWNoID0gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LmF0dGFjaCA6IHZvaWQgMDtcbiAgICB3b3JrZmxvd19jYXRlZ29yaWVzID0gKHJlZjUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY1LndvcmtmbG93X2NhdGVnb3JpZXMgOiB2b2lkIDA7XG4gICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICBzcGVjaWFsX3VzZXJfaWQ7XG4gICAgaWYgKHNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgaWYgKHVzZXJpZCkge1xuICAgICAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICAgICAgX2lkOiB1c2VyaWRcbiAgICAgICAgfSkuY291bnQoKSA8IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcmlkOiBcIiArIHVzZXJpZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3BlY2lhbF91c2VyX2lkID0gdXNlcmlkO1xuICAgICAgfSBlbHNlIGlmICh1c2VybmFtZSkge1xuICAgICAgICB1ID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIF9pZDogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChfLmlzRW1wdHkodSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcm5hbWU6IFwiICsgdXNlcm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHNwZWNpYWxfdXNlcl9pZCA9IHUuX2lkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIGlzX3JlYWQgPSBmYWxzZTtcbiAgICBzdGFydF9kYXRlID0gJyc7XG4gICAgdWlkID0gdXNlcl9pZDtcbiAgICBxdWVyeSA9IHtcbiAgICAgICRvcjogW1xuICAgICAgICB7XG4gICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNjX3VzZXJzOiB1c2VyX2lkXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICAgIGlmIChzcGVjaWFsX3VzZXJfaWQpIHtcbiAgICAgIHVpZCA9IHNwZWNpYWxfdXNlcl9pZDtcbiAgICAgIHF1ZXJ5ID0ge1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGluYm94X3VzZXJzOiBzcGVjaWFsX3VzZXJfaWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjY191c2Vyczogc3BlY2lhbF91c2VyX2lkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAod29ya2Zsb3dfY2F0ZWdvcmllcykge1xuICAgICAgcXVlcnkuY2F0ZWdvcnkgPSB7XG4gICAgICAgICRpbjogd29ya2Zsb3dfY2F0ZWdvcmllcy5zcGxpdCgnLCcpXG4gICAgICB9O1xuICAgIH1cbiAgICBzcGFjZV9uYW1lcyA9IHt9O1xuICAgIHNwYWNlX25hbWVzW3NwYWNlLl9pZF0gPSBzcGFjZS5uYW1lO1xuICAgIGlmIChsaW1pdCA+IDApIHtcbiAgICAgIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICBtb2RpZmllZDogLTFcbiAgICAgICAgfSxcbiAgICAgICAgbGltaXQ6IGxpbWl0XG4gICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIGgsIHJlZjYsIHJlZjc7XG4gICAgICAgIGlmICgocmVmNiA9IGkuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWY2LmluY2x1ZGVzKHVpZCkgOiB2b2lkIDApIHtcbiAgICAgICAgICBfLmVhY2goaS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmICh0LmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoYS51c2VyID09PSB1aWQgJiYgYS50eXBlICE9PSAnY2MnICYmICFhLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICBpc19yZWFkID0gYS5pc19yZWFkO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfLmVhY2goaS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmICghc3RhcnRfZGF0ZSAmJiB0LmFwcHJvdmVzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgIGlmICghc3RhcnRfZGF0ZSAmJiBhLnVzZXIgPT09IHVpZCAmJiBhLnR5cGUgPT09ICdjYycgJiYgIWEuaXNfZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlzX3JlYWQgPSBhLmlzX3JlYWQ7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3BhY2VfbmFtZXNbaS5zcGFjZV0pIHtcbiAgICAgICAgICBzcGFjZV9uYW1lc1tpLnNwYWNlXSA9IChyZWY3ID0gZGIuc3BhY2VzLmZpbmRPbmUoaS5zcGFjZSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSkgIT0gbnVsbCA/IHJlZjcubmFtZSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBoID0gbmV3IE9iamVjdDtcbiAgICAgICAgaFtcImlkXCJdID0gaVtcIl9pZFwiXTtcbiAgICAgICAgaFtcInN0YXJ0X2RhdGVcIl0gPSBzdGFydF9kYXRlO1xuICAgICAgICBoW1wiZmxvd19uYW1lXCJdID0gaS5mbG93X25hbWU7XG4gICAgICAgIGhbXCJzcGFjZV9uYW1lXCJdID0gc3BhY2VfbmFtZXNbaS5zcGFjZV07XG4gICAgICAgIGhbXCJuYW1lXCJdID0gaVtcIm5hbWVcIl07XG4gICAgICAgIGhbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfbmFtZVwiXTtcbiAgICAgICAgaFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgIGhbXCJzdWJtaXRfZGF0ZVwiXSA9IGlbXCJzdWJtaXRfZGF0ZVwiXTtcbiAgICAgICAgaFtcInN0ZXBfbmFtZVwiXSA9IGkuY3VycmVudF9zdGVwX25hbWU7XG4gICAgICAgIGhbXCJzcGFjZV9pZFwiXSA9IGkuc3BhY2U7XG4gICAgICAgIGhbXCJtb2RpZmllZFwiXSA9IGlbXCJtb2RpZmllZFwiXTtcbiAgICAgICAgaFtcImlzX3JlYWRcIl0gPSBpc19yZWFkO1xuICAgICAgICBoW1widmFsdWVzXCJdID0gaVtcInZhbHVlc1wiXTtcbiAgICAgICAgaWYgKGF0dGFjaCA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgaC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpLl9pZCxcbiAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRfaW5zdGFuY2VzLnB1c2goaCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgbm9fbGltaXRfY291bnQgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSkuY291bnQoKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRfaW5zdGFuY2VzLFxuICAgICAgICBjb3VudDogbm9fbGltaXRfY291bnRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUucmVhc29uXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpXG5cbk1ldGVvci5zdGFydHVwIC0+XG5cdFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlIFwiL2FwaS93b3JrZmxvdy9leHBvcnQvdGFsYmVfdGVtcGxhdGVcIiwgKHJlcSwgcmVzLCBuZXh0KS0+XG5cdFx0Y29va2llcyA9IG5ldyBDb29raWVzKCByZXEsIHJlcyApO1xuXHRcdCMgZmlyc3QgY2hlY2sgcmVxdWVzdCBib2R5XG5cdFx0aWYgcmVxLmJvZHlcblx0XHRcdHVzZXJJZCA9IHJlcS5ib2R5W1wiWC1Vc2VyLUlkXCJdXG5cdFx0XHRhdXRoVG9rZW4gPSByZXEuYm9keVtcIlgtQXV0aC1Ub2tlblwiXVxuXG5cdFx0IyB0aGVuIGNoZWNrIGNvb2tpZVxuXHRcdGlmICF1c2VySWQgb3IgIWF1dGhUb2tlblxuXHRcdFx0dXNlcklkID0gY29va2llcy5nZXQoXCJYLVVzZXItSWRcIilcblx0XHRcdGF1dGhUb2tlbiA9IGNvb2tpZXMuZ2V0KFwiWC1BdXRoLVRva2VuXCIpXG5cblx0XHRpZiAhKHVzZXJJZCBhbmQgYXV0aFRva2VuKVxuXHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xuXHRcdFx0cmVzLmVuZCBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0fSlcblx0XHRcdHJldHVybiA7XG5cblx0XHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3c7XG5cblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7c3BhY2U6IDEsIGZvcm06IDEsIG5hbWU6IDF9fSlcblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGZsb3cuZm9ybX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgXCJjdXJyZW50Ll9pZFwiOiAxfX0pXG5cblx0XHRpZiBfLmlzRW1wdHkoZmxvdylcblx0XHRcdHJlcy53cml0ZUhlYWQoNDAxKTtcblx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBJbnZhbGlkIGZvcm1JZFwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdH0pXG5cdFx0XHRyZXR1cm4gO1xuXHRcdGVsc2Vcblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihmbG93LnNwYWNlLCB1c2VySWQpXG5cdFx0XHRcdHJlcy53cml0ZUhlYWQoNDAxKTtcblx0XHRcdFx0cmVzLmVuZCBKU09OLnN0cmluZ2lmeSh7XG5cdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvblwiLFxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0XHR9KVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoZmxvdy5zcGFjZSwgeyBmaWVsZHM6IHsgaXNfcGFpZDogMSB9IH0pXG5cdFx0XHRpZiAhc3BhY2Vcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0XHRjb2RlOiA0MDQsXG5cdFx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb25cIixcblx0XHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0XHRyZXR1cm47XG5cblx0XHRkYXRhID0gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoe2Zvcm06IGZsb3cuZm9ybSwgZm9ybV92ZXJzaW9uOiBmb3JtPy5jdXJyZW50Py5faWR9LCB0cnVlKTtcblxuXHRcdGZpbGVOYW1lID0gZmxvdy5uYW1lXG5cblx0XHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG5cdFx0cmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScrZW5jb2RlVVJJKGZpbGVOYW1lKSsnLmh0bWwnKTtcblx0XHRyZXMuZW5kKGRhdGEpIiwidmFyIENvb2tpZXM7XG5cbkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZShcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L3RhbGJlX3RlbXBsYXRlXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGF1dGhUb2tlbiwgY29va2llcywgZGF0YSwgZmlsZU5hbWUsIGZsb3csIGZsb3dJZCwgZm9ybSwgcmVmLCByZWYxLCBzcGFjZSwgdXNlcklkO1xuICAgIGNvb2tpZXMgPSBuZXcgQ29va2llcyhyZXEsIHJlcyk7XG4gICAgaWYgKHJlcS5ib2R5KSB7XG4gICAgICB1c2VySWQgPSByZXEuYm9keVtcIlgtVXNlci1JZFwiXTtcbiAgICAgIGF1dGhUb2tlbiA9IHJlcS5ib2R5W1wiWC1BdXRoLVRva2VuXCJdO1xuICAgIH1cbiAgICBpZiAoIXVzZXJJZCB8fCAhYXV0aFRva2VuKSB7XG4gICAgICB1c2VySWQgPSBjb29raWVzLmdldChcIlgtVXNlci1JZFwiKTtcbiAgICAgIGF1dGhUb2tlbiA9IGNvb2tpZXMuZ2V0KFwiWC1BdXRoLVRva2VuXCIpO1xuICAgIH1cbiAgICBpZiAoISh1c2VySWQgJiYgYXV0aFRva2VuKSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3cgOiB2b2lkIDA7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93SWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGZvcm06IDEsXG4gICAgICAgIG5hbWU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgXCJjdXJyZW50Ll9pZFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF8uaXNFbXB0eShmbG93KSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIEludmFsaWQgZm9ybUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNTcGFjZUFkbWluKGZsb3cuc3BhY2UsIHVzZXJJZCkpIHtcbiAgICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uXCIsXG4gICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShmbG93LnNwYWNlLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGlzX3BhaWQ6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDQsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvblwiLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBkYXRhID0gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoe1xuICAgICAgZm9ybTogZmxvdy5mb3JtLFxuICAgICAgZm9ybV92ZXJzaW9uOiBmb3JtICE9IG51bGwgPyAocmVmMSA9IGZvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuX2lkIDogdm9pZCAwIDogdm9pZCAwXG4gICAgfSwgdHJ1ZSk7XG4gICAgZmlsZU5hbWUgPSBmbG93Lm5hbWU7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nICsgZW5jb2RlVVJJKGZpbGVOYW1lKSArICcuaHRtbCcpO1xuICAgIHJldHVybiByZXMuZW5kKGRhdGEpO1xuICB9KTtcbn0pO1xuIiwiIyMjXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzIOaWsOW7uueUs+ivt+WNlVxuXG5AYXBpTmFtZSBjcmVhdGVJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxue1xuICAgIFwiZmxvd1wiOiDmtYHnqItJZCxcbiAgICBcImFwcGxpY2FudFwiOiDnlLPor7fkurpJZCxcbiAgICBcInZhbHVlc1wiOiB7XG4gICAgICAgIFwiZmllbGRzMVwiIDog5a2X5q615YC8LFxuICAgICAgICBcImZpZWxkczJcIiA6IOWtl+auteWAvCxcbiAgICAgICAgLi4uXG4gICAgfVxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cblxuQGFwaUVycm9yRXhhbXBsZSB7anNvbn0gZXJyb3ItUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJlcnJvclwiLFxuICAgIFwiZGF0YVwiOiB7Li4ufVxufVxuIyMjXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm5cblxuXHRcdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciB4X3NwYWNlX2lkJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyX2luZm8uX2lkKVxuXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxuXG5cdFx0aWYgbm90IGhhc2hEYXRhW1wiZmxvd1wiXVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBudWxsJylcblxuXHRcdGZsb3dfaWQgICAgICA9IGhhc2hEYXRhW1wiZmxvd1wiXVxuXHRcdGFwcGxpY2FudF9pZCA9IGhhc2hEYXRhW1wiYXBwbGljYW50XCJdXG5cdFx0YXBwbGljYW50X3VzZXJuYW1lID0gaGFzaERhdGFbXCJhcHBsaWNhbnRfdXNlcm5hbWVcIl1cblxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50ID0gbmV3IE9iamVjdFxuXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dfaWQgfSwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsICdjdXJyZW50Ll9pZCc6IDEgfSB9KVxuXHRcdGlmIG5vdCBmbG93XG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBleGlzdHMnKVxuXG5cdFx0aWYgc3BhY2VfaWQgaXNudCBmbG93LnNwYWNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpXG5cblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBjdXJyZW50X3VzZXJfaW5mby5faWQgfSkuY291bnQoKSBpcyAwXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJylcblxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wic3BhY2VcIl0gPSBzcGFjZV9pZFxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd1wiXSA9IGZsb3dfaWRcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dfdmVyc2lvblwiXSA9IGZsb3cuY3VycmVudC5faWRcblxuXHRcdGFwcGxpY2FudCA9IG51bGxcblx0XHRpZiBhcHBsaWNhbnRfaWQgb3IgYXBwbGljYW50X3VzZXJuYW1lXG5cblx0XHRcdGlmIGFwcGxpY2FudF9pZFxuXHRcdFx0XHRhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhcHBsaWNhbnRfaWQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXG5cdFx0XHRcdGlmIG5vdCBhcHBsaWNhbnRcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgd3JvbmcnKVxuXG5cdFx0XHRlbHNlIGlmIGFwcGxpY2FudF91c2VybmFtZVxuXHRcdFx0XHRhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHsgdXNlcm5hbWU6IGFwcGxpY2FudF91c2VybmFtZSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0aWYgbm90IGFwcGxpY2FudFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudF91c2VybmFtZSBpcyB3cm9uZycpXG5cblx0XHRcdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHBsaWNhbnQuX2lkIH0pXG5cdFx0XHRpZiBub3Qgc3BhY2VfdXNlclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKVxuXG5cdFx0XHRpZiBzcGFjZV91c2VyLnVzZXJfYWNjZXB0ZWQgaXNudCB0cnVlXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBkaXNhYmxlZCBpbiB0aGlzIHNwYWNlJylcblxuXHRcdFx0c3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRcIl0gPSBhcHBsaWNhbnQuX2lkXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9uYW1lXCJdID0gYXBwbGljYW50Lm5hbWVcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvblwiXSA9ICBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxuXG5cdFx0YXBwbGljYW50SW5mbyA9IGFwcGxpY2FudCB8fCBjdXJyZW50X3VzZXJfaW5mb1xuXG5cdFx0dHJhY2VzID0gW11cblx0XHR0cmFjZSA9IG5ldyBPYmplY3Rcblx0XHRhcHByb3ZlcyA9IFtdXG5cdFx0YXBwcm92ZSA9IG5ldyBPYmplY3Rcblx0XHRhcHByb3ZlW1widmFsdWVzXCJdID0gaGFzaERhdGFbXCJ2YWx1ZXNcIl1cblx0XHRhcHByb3Zlcy5wdXNoKGFwcHJvdmUpXG5cdFx0dHJhY2VbXCJhcHByb3Zlc1wiXSA9IGFwcHJvdmVzXG5cdFx0dHJhY2VzLnB1c2godHJhY2UpXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0gPSB0cmFjZXNcblxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl0gPSBbYXBwbGljYW50SW5mby5faWRdXG5cblx0XHRuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGFwcGxpY2FudEluZm8pXG5cblx0XHRuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUobmV3X2luc19pZClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBuZXdfaW5zIH1cblx0XHR9XG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XG5cdFx0fVxuIiwiXG4vKlxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cyDmlrDlu7rnlLPor7fljZVcblxuQGFwaU5hbWUgY3JlYXRlSW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJhcHBsaWNhbnRcIjog55Sz6K+35Lq6SWQsXG4gICAgXCJ2YWx1ZXNcIjoge1xuICAgICAgICBcImZpZWxkczFcIiA6IOWtl+auteWAvCxcbiAgICAgICAgXCJmaWVsZHMyXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIC4uLlxuICAgIH1cbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XG59XG5cbkBhcGlFcnJvckV4YW1wbGUge2pzb259IGVycm9yLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwiZXJyb3JcIixcbiAgICBcImRhdGFcIjogey4uLn1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHBsaWNhbnQsIGFwcGxpY2FudEluZm8sIGFwcGxpY2FudF9pZCwgYXBwbGljYW50X3VzZXJuYW1lLCBhcHByb3ZlLCBhcHByb3ZlcywgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGZsb3dfaWQsIGhhc2hEYXRhLCBpbnN0YW5jZV9mcm9tX2NsaWVudCwgbmV3X2lucywgbmV3X2luc19pZCwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHNwYWNlX3VzZXJfb3JnX2luZm8sIHRyYWNlLCB0cmFjZXMsIHVzZXJfaWQ7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KTtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgeF9zcGFjZV9pZCcpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyX2luZm8uX2lkKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGlmICghaGFzaERhdGFbXCJmbG93XCJdKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG51bGwnKTtcbiAgICB9XG4gICAgZmxvd19pZCA9IGhhc2hEYXRhW1wiZmxvd1wiXTtcbiAgICBhcHBsaWNhbnRfaWQgPSBoYXNoRGF0YVtcImFwcGxpY2FudFwiXTtcbiAgICBhcHBsaWNhbnRfdXNlcm5hbWUgPSBoYXNoRGF0YVtcImFwcGxpY2FudF91c2VybmFtZVwiXTtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudCA9IG5ldyBPYmplY3Q7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93X2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFmbG93KSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBleGlzdHMnKTtcbiAgICB9XG4gICAgaWYgKHNwYWNlX2lkICE9PSBmbG93LnNwYWNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpO1xuICAgIH1cbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJfaW5mby5faWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wic3BhY2VcIl0gPSBzcGFjZV9pZDtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dcIl0gPSBmbG93X2lkO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd192ZXJzaW9uXCJdID0gZmxvdy5jdXJyZW50Ll9pZDtcbiAgICBhcHBsaWNhbnQgPSBudWxsO1xuICAgIGlmIChhcHBsaWNhbnRfaWQgfHwgYXBwbGljYW50X3VzZXJuYW1lKSB7XG4gICAgICBpZiAoYXBwbGljYW50X2lkKSB7XG4gICAgICAgIGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogYXBwbGljYW50X2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGxpY2FudCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyB3cm9uZycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFwcGxpY2FudF91c2VybmFtZSkge1xuICAgICAgICBhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICB1c2VybmFtZTogYXBwbGljYW50X3VzZXJuYW1lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGxpY2FudCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudF91c2VybmFtZSBpcyB3cm9uZycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwbGljYW50Ll9pZFxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJyk7XG4gICAgICB9XG4gICAgICBpZiAoc3BhY2VfdXNlci51c2VyX2FjY2VwdGVkICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBkaXNhYmxlZCBpbiB0aGlzIHNwYWNlJyk7XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRcIl0gPSBhcHBsaWNhbnQuX2lkO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGFwcGxpY2FudC5uYW1lO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICB9XG4gICAgYXBwbGljYW50SW5mbyA9IGFwcGxpY2FudCB8fCBjdXJyZW50X3VzZXJfaW5mbztcbiAgICB0cmFjZXMgPSBbXTtcbiAgICB0cmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgYXBwcm92ZXMgPSBbXTtcbiAgICBhcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICBhcHByb3ZlW1widmFsdWVzXCJdID0gaGFzaERhdGFbXCJ2YWx1ZXNcIl07XG4gICAgYXBwcm92ZXMucHVzaChhcHByb3ZlKTtcbiAgICB0cmFjZVtcImFwcHJvdmVzXCJdID0gYXBwcm92ZXM7XG4gICAgdHJhY2VzLnB1c2godHJhY2UpO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdID0gdHJhY2VzO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl0gPSBbYXBwbGljYW50SW5mby5faWRdO1xuICAgIG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgYXBwbGljYW50SW5mbyk7XG4gICAgbmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG5ld19pbnNfaWQpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IG5ld19pbnNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQg5p+l55yL55Sz6K+35Y2V6K+m5oOFXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnmoTnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGluc19pZCDnlLPor7fljZVJZFxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuXG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKVxuXHRcdGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGluc3RhbmNlJylcblxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsIHVzZXI6IGN1cnJlbnRfdXNlciB9KS5jb3VudCgpIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgd3JvbmcnKVxuXG5cdFx0IyDmnYPpmZDvvJrku4Xku6XkuIvkurrlkZjlj6/ku6Xmn6XnnIvnlLPor7fljZXor6bmg4XvvJrmj5DkuqTogIXjgIHnlLPor7fogIXjgIHnu4/miYvogIXjgIHmnKzmtYHnqIvnmoTnrqHnkIblkZjjgIHmnKzmtYHnqIvnmoTop4Llr5/lkZjjgIHmnKzlt6XkvZzljLrnmoTnrqHnkIblkZjjgIHmnKzlt6XkvZzljLrnmoTmiYDmnInogIXjgIJcblx0XHRwZXJtX3VzZXJzID0gbmV3IEFycmF5XG5cdFx0cGVybV91c2Vycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcilcblx0XHRwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KVxuXHRcdGlmIGluc3RhbmNlLm91dGJveF91c2Vyc1xuXHRcdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLm91dGJveF91c2Vycylcblx0XHRpZiBpbnN0YW5jZS5pbmJveF91c2Vyc1xuXHRcdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLmluYm94X3VzZXJzKVxuXHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlLnNwYWNlIH0sIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KHNwYWNlLmFkbWlucylcblxuXHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIChub3QgcGVybV91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSBhbmQgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcIm1vbml0b3JcIikpIGFuZCAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdubyBwZXJtaXNzaW9uJylcblxuXHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBpbnN0YW5jZSB9XG5cdFx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxuXHRcdH1cblxuIiwiXG4vKlxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQg5p+l55yL55Sz6K+35Y2V6K+m5oOFXG5cbkBhcGlOYW1lIGdldEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnmoTnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGluc19pZCDnlLPor7fljZVJZFxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG57XG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBlLCBpbnNfaWQsIGluc3RhbmNlLCBwZXJtX3VzZXJzLCBwZXJtaXNzaW9ucywgc3BhY2UsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgaW5zdGFuY2UnKTtcbiAgICB9XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IGluc3RhbmNlLnNwYWNlLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyB3cm9uZycpO1xuICAgIH1cbiAgICBwZXJtX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuICAgIGlmIChpbnN0YW5jZS5vdXRib3hfdXNlcnMpIHtcbiAgICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5vdXRib3hfdXNlcnMpO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2UuaW5ib3hfdXNlcnMpIHtcbiAgICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5pbmJveF91c2Vycyk7XG4gICAgfVxuICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZS5zcGFjZVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBhZG1pbnM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoc3BhY2UuYWRtaW5zKTtcbiAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgIGlmICgoIXBlcm1fdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcIm1vbml0b3JcIikpICYmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25vIHBlcm1pc3Npb24nKTtcbiAgICB9XG4gICAgaW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLFxuICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgJG5lOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNvcGllczogMFxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogaW5zdGFuY2VcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQg5o+Q5Lqk55Sz6K+35Y2VXG5cbkBhcGlEZXNjcmlwdGlvbiDmmoLkuI3mlK/mjIHlvIDlp4voioLngrnkuIvkuIDoioLngrnkuLrmnaHku7bnmoTmg4XlhrVcblxuQGFwaU5hbWUgc3VibWl0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxuICAgIHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuICAgIHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxuXHR9XG4jIyNcblxuSnNvblJvdXRlcy5hZGQgJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXG5cblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdFx0cmV0dXJuIDtcblxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcblxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxuXG5cdFx0aWYgbm90IHNwYWNlX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcblxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXG5cblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcblxuXHRcdCMg5qCh6aqM55Sz6K+35Y2V54q25oCB5Li66I2J56i/XG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UpXG5cblx0XHRpZiBzcGFjZV9pZCBpc250IGluc3RhbmNlW1wic3BhY2VcIl1cblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpXG5cblx0XHQjIOagoemqjOeUs+ivt+WNleW/heWhq+Wtl+auteaYr+WQpuacieWAvFxuXHRcdHZhbHVlcyA9IGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF0udmFsdWVzXG5cblx0XHRmb3JtID0gdXVmbG93TWFuYWdlci5nZXRGb3JtKGluc3RhbmNlLmZvcm0pXG5cblx0XHRyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMgPSB1dWZsb3dNYW5hZ2VyLmNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlKHZhbHVlcywgZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXG5cdFx0aWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDBcblx0XHRcdGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAxXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkcyA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGFyZSByZXF1aXJlZCcpXG5cdFx0XHRlbHNlIGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPSAxXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gaXMgcmVxdWlyZWQnKVxuXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF0uc3RlcClcblxuXHRcdCMg6K6h566X5LiL5LiA5q2l6aqk6YCJ6aG5XG5cdFx0bmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwic3VibWl0dGVkXCIpXG5cblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoIDwgMVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIG5leHQgc3RlcHMnKVxuXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA+IDFcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBub3QgdW5pcScpXG5cblx0XHRuZXh0X3N0ZXBfaWQgPSBuZXh0U3RlcHNbMF1cblxuXHRcdCMg6K6h566X5LiL5LiA5q2l5aSE55CG5Lq66YCJ6aG5XG5cdFx0bmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnNfaWQsIG5leHRfc3RlcF9pZCwgY3VycmVudF91c2VyKSB8fCBbXVxuXG5cdFx0aWYgbmV4dF91c2VyX2lkcy5sZW5ndGggPiAxXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgaGFuZGxlciBub3QgdW5pcScpXG5cblx0XHRpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdW1wibmV4dF9zdGVwc1wiXSA9IFt7J3N0ZXAnOiBuZXh0X3N0ZXBfaWQsICd1c2Vycyc6IG5leHRfdXNlcl9pZHN9XVxuXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxuXG5cdFx0c3VibWl0dGVyID0gZGIudXNlcnMuZmluZE9uZShpbnN0YW5jZS5zdWJtaXR0ZXIpXG5cblx0XHRpZiBub3Qgc3VibWl0dGVyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgc3VibWl0dGVyJylcblxuXHRcdHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZSwgc3VibWl0dGVyKVxuXG5cdFx0aWYgci5hbGVydHNcblx0XHRcdHJlc3VsdCA9IHJcblx0XHRlbHNlXG5cdFx0XHRyZXN1bHQgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpXG5cdFx0XHRpZiByZXN1bHRcblx0XHRcdFx0cmVzdWx0LmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIlxuLypcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkIOaPkOS6pOeUs+ivt+WNlVxuXG5AYXBpRGVzY3JpcHRpb24g5pqC5LiN5pSv5oyB5byA5aeL6IqC54K55LiL5LiA6IqC54K55Li65p2h5Lu255qE5oOF5Ya1XG5cbkBhcGlOYW1lIHN1Ym1pdEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBmb3JtLCBpbnNfaWQsIGluc3RhbmNlLCBuZXh0U3RlcHMsIG5leHRfc3RlcF9pZCwgbmV4dF91c2VyX2lkcywgciwgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLCByZXN1bHQsIHNwYWNlX2lkLCBzdGVwLCBzdWJtaXR0ZXIsIHZhbHVlcztcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSk7XG4gICAgaWYgKHNwYWNlX2lkICE9PSBpbnN0YW5jZVtcInNwYWNlXCJdKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZSBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgdmFsdWVzID0gaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXS52YWx1ZXM7XG4gICAgZm9ybSA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybShpbnN0YW5jZS5mb3JtKTtcbiAgICByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMgPSB1dWZsb3dNYW5hZ2VyLmNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlKHZhbHVlcywgZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgICBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZHMgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBhcmUgcmVxdWlyZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA9IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGQgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBpcyByZXF1aXJlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGluc3RhbmNlW1widHJhY2VzXCJdWzBdLnN0ZXApO1xuICAgIG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcInN1Ym1pdHRlZFwiKTtcbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBuZXh0IHN0ZXBzJyk7XG4gICAgfVxuICAgIGlmIChuZXh0U3RlcHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIG5vdCB1bmlxJyk7XG4gICAgfVxuICAgIG5leHRfc3RlcF9pZCA9IG5leHRTdGVwc1swXTtcbiAgICBuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc19pZCwgbmV4dF9zdGVwX2lkLCBjdXJyZW50X3VzZXIpIHx8IFtdO1xuICAgIGlmIChuZXh0X3VzZXJfaWRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBoYW5kbGVyIG5vdCB1bmlxJyk7XG4gICAgfVxuICAgIGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF1bXCJuZXh0X3N0ZXBzXCJdID0gW1xuICAgICAge1xuICAgICAgICAnc3RlcCc6IG5leHRfc3RlcF9pZCxcbiAgICAgICAgJ3VzZXJzJzogbmV4dF91c2VyX2lkc1xuICAgICAgfVxuICAgIF07XG4gICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICBzdWJtaXR0ZXIgPSBkYi51c2Vycy5maW5kT25lKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgaWYgKCFzdWJtaXR0ZXIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBzdWJtaXR0ZXInKTtcbiAgICB9XG4gICAgciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlLCBzdWJtaXR0ZXIpO1xuICAgIGlmIChyLmFsZXJ0cykge1xuICAgICAgcmVzdWx0ID0gcjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmVzdWx0LmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWQsXG4gICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIGNvcGllczogMFxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCDmmoLlrZjnlLPor7fljZVcblxuQGFwaU5hbWUgc2F2ZUluc3RhbmNlc1xuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdHZhbHVlcyA9IHJlcS5ib2R5XG5cblx0XHRpZiBub3QgdmFsdWVzXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHZhbHVlcycpXG5cblx0XHRjdXJyZW50X3RyYWNlID0gbnVsbFxuXHRcdHNldE9iaiA9IG5ldyBPYmplY3Rcblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxuXHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcblxuXHRcdF8uZWFjaCBpbnN0YW5jZS50cmFjZXMsICh0KS0+XG5cdFx0XHRpZiB0LmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxuXHRcdFx0XHRjdXJyZW50X3RyYWNlID0gdFxuXG5cdFx0Y3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50X3RyYWNlLnN0ZXApXG5cblx0XHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5q2l6aqk5LiN6IO95L+u5pS56KGo5Y2V5YC8JylcblxuXHRcdF8uZWFjaCBjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCAoYSktPlxuXHRcdFx0aWYgYS5pc19maW5pc2hlZCBpc250IHRydWUgYW5kIGEudHlwZSBpc250IFwiY2NcIlxuXHRcdFx0XHRhLnZhbHVlcyA9IHZhbHVlc1xuXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGVcblx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGN1cnJlbnRfdHJhY2UuYXBwcm92ZXNcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUge1xuXHRcdFx0X2lkOiBpbnNfaWRcblx0XHRcdCd0cmFjZXMuX2lkJzogY3VycmVudF90cmFjZS5faWRcblx0XHR9LCAkc2V0OiBzZXRPYmpcblxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3RcblxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cbiIsIlxuLypcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCDmmoLlrZjnlLPor7fljZVcblxuQGFwaU5hbWUgc2F2ZUluc3RhbmNlc1xuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfc3RlcCwgY3VycmVudF90cmFjZSwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgaW5zX2lkLCBpbnN0YW5jZSwgcmVzdWx0LCBzZXRPYmosIHNwYWNlX2lkLCB2YWx1ZXM7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgdmFsdWVzID0gcmVxLmJvZHk7XG4gICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgdmFsdWVzJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdHJhY2UgPSBudWxsO1xuICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBpZiAodC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF90cmFjZSA9IHQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50X3RyYWNlLnN0ZXApO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuatpemqpOS4jeiDveS/ruaUueihqOWNleWAvCcpO1xuICAgIH1cbiAgICBfLmVhY2goY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKGEuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgYS50eXBlICE9PSBcImNjXCIpIHtcbiAgICAgICAgcmV0dXJuIGEudmFsdWVzID0gdmFsdWVzO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlO1xuICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gY3VycmVudF90cmFjZS5hcHByb3ZlcztcbiAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zX2lkLFxuICAgICAgJ3RyYWNlcy5faWQnOiBjdXJyZW50X3RyYWNlLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHNldE9ialxuICAgIH0pO1xuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lIOagueaNruatpemqpOWQjeensOiOt+WPlueUs+ivt+WNlVxuXG5AYXBpTmFtZSBnZXRJbnN0YW5jZUJ5U3RlcE5hbWVcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJzdGVwbmFtZVwiOiDmraXpqqTlkI3np7Bcbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuXHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XCJkYXRhXCI6IFtcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9XG5cdF1cbn1cbiMjI1xuSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUnLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdHRyeVxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcblx0XHRzdGVwbmFtZSA9IGhhc2hEYXRhW1wic3RlcG5hbWVcIl1cblx0XHRmbG93ID0gaGFzaERhdGFbXCJmbG93XCJdXG5cblx0XHRpZiBub3Qgc3RlcG5hbWVcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3RlcG5hbWUnKVxuXG5cdFx0aWYgbm90IGZsb3dcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgZmxvdycpXG5cblx0XHQjIOWOu+aOiXtmaWVsZHM6IHtpbmJveF91ZXJzOiAwLCBjY191c2VyczogMCwgb3V0Ym94X3VzZXJzOiAwLCB0cmFjZXM6IDAsIGF0dGFjaG1lbnRzOiAwfVxuXHRcdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHtzcGFjZTogc3BhY2VfaWQsIGZsb3c6IGZsb3csIHN0YXRlOidwZW5kaW5nJywgdHJhY2VzOnskZWxlbU1hdGNoOiB7aXNfZmluaXNoZWQ6IGZhbHNlLCBuYW1lOiBzdGVwbmFtZX19fSwge2ZpZWxkczoge2luYm94X3VlcnM6IDAsIGNjX3VzZXJzOiAwLCBvdXRib3hfdXNlcnM6IDAsIGF0dGFjaG1lbnRzOiAwLCB0cmFjZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0aW5zdGFuY2VzLmZvckVhY2ggKGluc3RhbmNlKS0+XG5cdFx0XHRpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXG5cblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IGluc3RhbmNlc31cblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJcbi8qXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZSDmoLnmja7mraXpqqTlkI3np7Dojrflj5bnlLPor7fljZVcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VCeVN0ZXBOYW1lXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwic3RlcG5hbWVcIjog5q2l6aqk5ZCN56ewXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcblx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFwiZGF0YVwiOiBbXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9LFxuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fVxuXHRdXG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGhhc2hEYXRhLCBpbnN0YW5jZXMsIHNwYWNlX2lkLCBzdGVwbmFtZTtcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIHN0ZXBuYW1lID0gaGFzaERhdGFbXCJzdGVwbmFtZVwiXTtcbiAgICBmbG93ID0gaGFzaERhdGFbXCJmbG93XCJdO1xuICAgIGlmICghc3RlcG5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3RlcG5hbWUnKTtcbiAgICB9XG4gICAgaWYgKCFmbG93KSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGZsb3cnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgZmxvdzogZmxvdyxcbiAgICAgIHN0YXRlOiAncGVuZGluZycsXG4gICAgICB0cmFjZXM6IHtcbiAgICAgICAgJGVsZW1NYXRjaDoge1xuICAgICAgICAgIGlzX2ZpbmlzaGVkOiBmYWxzZSxcbiAgICAgICAgICBuYW1lOiBzdGVwbmFtZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGluYm94X3VlcnM6IDAsXG4gICAgICAgIGNjX3VzZXJzOiAwLFxuICAgICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICAgIGF0dGFjaG1lbnRzOiAwLFxuICAgICAgICB0cmFjZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBpbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xuQ29udGVudC1UeXBl77yaYXBwbGljYXRpb24vanNvblxuZm9ybS1kYXRhIOagvOW8jzpcbmZkID0gbmV3IEZvcm1EYXRhO1xuZmQuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcblxuZmQuYXBwZW5kKFwiaXNfcHJpdmF0ZVwiLCBmYWxzZSk7XG5cbmlmIChpc0FkZFZlcnNpb24pIHtcblx0ZmQuYXBwZW5kKFwiaXNBZGRWZXJzaW9uXCIsIGlzQWRkVmVyc2lvbik7XG5cdGZkLmFwcGVuZChcInBhcmVudFwiLCBhdHRhY2hfcGFyZW50X2lkKTtcbn1cblxuaWYgKGlzTWFpbkF0dGFjaCkge1xuXHRmZC5hcHBlbmQoXCJtYWluXCIsIHRydWUpO1xufVxuIyMjXG5cbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcblxuXHRcdGlmIGluc3RhbmNlLnN0YXRlIGlzbnQgXCJkcmFmdFwiXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73kuIrkvKAnKVxuXG5cdFx0YXBwcm92ZV9pZCA9IGluc3RhbmNlLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWRcblxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxuXG5cdFx0SnNvblJvdXRlcy5wYXJzZUZpbGVzIHJlcSwgcmVzLCAoKS0+XG5cdFx0XHRjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlc1xuXG5cdFx0XHRpZiByZXEuZmlsZXMgYW5kIHJlcS5maWxlc1swXVxuXHRcdFx0XHQjIOmZhOS7tuS4iuS8oOaOpeWPo++8jOmZkOWItumZhOS7tuWkp+Wwj++8jOacgOWkp+S4ujEwME1cblx0XHRcdFx0aWYgcmVxLmZpbGVzWzBdLmRhdGEubGVuZ3RoID4gKDEwMCoxMDI0KjEwMjQpXG5cdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBcIui2hei/h+S4iuS8oOmZhOS7tuWkp+Wwj+mZkOWItigxMDBNKVwifV19XG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0bmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XG5cdFx0XHRcdG5ld0ZpbGUuYXR0YWNoRGF0YSByZXEuZmlsZXNbMF0uZGF0YSwge3R5cGU6IHJlcS5maWxlc1swXS5taW1lVHlwZX0sIChlcnIpIC0+XG5cdFx0XHRcdFx0ZmlsZW5hbWUgPSByZXEuZmlsZXNbMF0uZmlsZW5hbWVcblxuXHRcdFx0XHRcdGlmIFtcImltYWdlLmpwZ1wiLCBcImltYWdlLmdpZlwiLCBcImltYWdlLmpwZWdcIiwgXCJpbWFnZS5wbmdcIl0uaW5jbHVkZXMoZmlsZW5hbWUudG9Mb3dlckNhc2UoKSlcblx0XHRcdFx0XHRcdGZpbGVuYW1lID0gXCJpbWFnZS1cIiArIG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoJ1lZWVlNTURESEhtbXNzJykgKyBcIi5cIiArIGZpbGVuYW1lLnNwbGl0KCcuJykucG9wKClcblxuXHRcdFx0XHRcdGJvZHkgPSByZXEuYm9keVxuXG5cdFx0XHRcdFx0Ym9keVsnb3duZXInXSA9IGluc3RhbmNlLnN1Ym1pdHRlclxuXHRcdFx0XHRcdGJvZHlbJ293bmVyX25hbWUnXSA9IGluc3RhbmNlLnN1Ym1pdHRlcl9uYW1lXG5cdFx0XHRcdFx0Ym9keVsnc3BhY2UnXSA9IHNwYWNlX2lkXG5cdFx0XHRcdFx0Ym9keVsnaW5zdGFuY2UnXSA9IGluc19pZFxuXHRcdFx0XHRcdGJvZHlbJ2FwcHJvdmUnXSA9IGFwcHJvdmVfaWRcblxuXHRcdFx0XHRcdHRyeVxuXHRcdFx0XHRcdFx0aWYgYm9keSAmJiAoYm9keVsndXBsb2FkX2Zyb20nXSBpcyBcIklFXCIgb3IgYm9keVsndXBsb2FkX2Zyb20nXSBpcyBcIm5vZGVcIilcblx0XHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZmlsZW5hbWUpXG5cdFx0XHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihmaWxlbmFtZSlcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgZVxuXHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8lL2csIFwiLVwiKVxuXG5cdFx0XHRcdFx0bmV3RmlsZS5uYW1lKGZpbGVuYW1lKVxuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmIGJvZHkgJiYgYm9keVsnb3duZXInXSAmJiBib2R5Wydvd25lcl9uYW1lJ10gJiYgYm9keVsnc3BhY2UnXSAmJiBib2R5WydpbnN0YW5jZSddICAmJiBib2R5WydhcHByb3ZlJ11cblx0XHRcdFx0XHRcdHBhcmVudCA9ICcnXG5cdFx0XHRcdFx0XHRtZXRhZGF0YSA9IHtvd25lcjpib2R5Wydvd25lciddLCBvd25lcl9uYW1lOmJvZHlbJ293bmVyX25hbWUnXSwgc3BhY2U6Ym9keVsnc3BhY2UnXSwgaW5zdGFuY2U6Ym9keVsnaW5zdGFuY2UnXSwgYXBwcm92ZTogYm9keVsnYXBwcm92ZSddLCBjdXJyZW50OiB0cnVlfVxuXG5cdFx0XHRcdFx0XHRpZiBib2R5W1wiaXNfcHJpdmF0ZVwiXSAmJiBib2R5W1wiaXNfcHJpdmF0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09IFwidHJ1ZVwiXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmlzX3ByaXZhdGUgPSB0cnVlXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmlzX3ByaXZhdGUgPSBmYWxzZVxuXG5cdFx0XHRcdFx0XHRpZiBib2R5WydtYWluJ10gPT0gXCJ0cnVlXCJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubWFpbiA9IHRydWVcblxuXHRcdFx0XHRcdFx0aWYgYm9keVsnaXNBZGRWZXJzaW9uJ10gJiYgYm9keVsncGFyZW50J11cblx0XHRcdFx0XHRcdFx0cGFyZW50ID0gYm9keVsncGFyZW50J11cblx0XHRcdFx0XHRcdCMgZWxzZVxuXHRcdFx0XHRcdFx0IyAgIGNvbGxlY3Rpb24uZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogYm9keVsnaW5zdGFuY2UnXSwgJ21ldGFkYXRhLmN1cnJlbnQnIDogdHJ1ZX0pLmZvckVhY2ggKGMpIC0+XG5cdFx0XHRcdFx0XHQjICAgICBpZiBjLm5hbWUoKSA9PSBmaWxlbmFtZVxuXHRcdFx0XHRcdFx0IyAgICAgICBwYXJlbnQgPSBjLm1ldGFkYXRhLnBhcmVudFxuXG5cdFx0XHRcdFx0XHRpZiBwYXJlbnRcblx0XHRcdFx0XHRcdFx0ciA9IGNvbGxlY3Rpb24udXBkYXRlKHsnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LCAnbWV0YWRhdGEuY3VycmVudCcgOiB0cnVlfSwgeyR1bnNldCA6IHsnbWV0YWRhdGEuY3VycmVudCcgOiAnJ319KVxuXHRcdFx0XHRcdFx0XHRpZiByXG5cdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGEucGFyZW50ID0gcGFyZW50XG5cdFx0XHRcdFx0XHRcdFx0aWYgYm9keVsnbG9ja2VkX2J5J10gJiYgYm9keVsnbG9ja2VkX2J5X25hbWUnXVxuXHRcdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubG9ja2VkX2J5ID0gYm9keVsnbG9ja2VkX2J5J11cblx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmxvY2tlZF9ieV9uYW1lID0gYm9keVsnbG9ja2VkX2J5X25hbWUnXVxuXG5cdFx0XHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0IG5ld0ZpbGVcblxuXHRcdFx0XHRcdFx0XHRcdCMg5Yig6Zmk5ZCM5LiA5Liq55Sz6K+35Y2V5ZCM5LiA5Liq5q2l6aqk5ZCM5LiA5Liq5Lq65LiK5Lyg55qE6YeN5aSN55qE5paH5Lu2XG5cdFx0XHRcdFx0XHRcdFx0aWYgYm9keVtcIm92ZXJ3cml0ZVwiXSAmJiBib2R5W1wib3ZlcndyaXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gXCJ0cnVlXCJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb24ucmVtb3ZlKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLCAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LCAnbWV0YWRhdGEub3duZXInOiBib2R5Wydvd25lciddLCAnbWV0YWRhdGEuYXBwcm92ZSc6IGJvZHlbJ2FwcHJvdmUnXSwgJ21ldGFkYXRhLmN1cnJlbnQnOiB7JG5lOiB0cnVlfX0pXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YVxuXHRcdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxuXHRcdFx0XHRcdFx0XHRmaWxlT2JqLnVwZGF0ZSh7JHNldDogeydtZXRhZGF0YS5wYXJlbnQnIDogZmlsZU9iai5faWR9fSlcblxuXHRcdFx0XHRcdCMg5YW85a656ICB54mI5pysXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0IG5ld0ZpbGVcblxuXHRcdFx0XHRcdHNpemUgPSBmaWxlT2JqLm9yaWdpbmFsLnNpemVcblx0XHRcdFx0XHRpZiAhc2l6ZVxuXHRcdFx0XHRcdFx0c2l6ZSA9IDEwMjRcblxuXHRcdFx0XHRcdHJlc3VsdCA9IG5ldyBPYmplY3Rcblx0XHRcdFx0XHRyZXN1bHQgPVxuXHRcdFx0XHRcdFx0YXR0YWNoX2lkOiBmaWxlT2JqLl9pZCxcblx0XHRcdFx0XHRcdHNpemU6IHNpemVcblxuXHRcdFx0XHRcdHJlcy5zZXRIZWFkZXIoXCJ4LWFtei12ZXJzaW9uLWlkXCIsZmlsZU9iai5faWQpO1xuXG5cdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdFx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0XHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0Y29kZTogMjAwXG5cdFx0XHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBcIm5lZWQgZmlsZVwifV19XG5cdFx0XHRcdHJldHVyblxuXG5cdGNhdGNoIGVcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogMjAwXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxuXG5Kc29uUm91dGVzLmFkZCBcImRlbGV0ZVwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZFwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxuXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcblx0XHRcdHJldHVybiA7XG5cblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXG5cblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cblxuXHRcdGlmIG5vdCBzcGFjZV9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXG5cblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxuXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXG5cblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxuXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCBcImRyYWZ0XCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveWIoOmZpOmZhOS7ticpXG5cblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcblxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHkgfHwge31cblx0XHRhdHRhY2hfaWQgPSBoYXNoRGF0YVtcImF0dGFjaF9pZFwiXVxuXG5cdFx0aWYgbm90IGF0dGFjaF9pZFxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGF0dGFjaF9pZCcpXG5cblx0XHRjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlc1xuXG5cdFx0ZmlsZSA9IGNvbGxlY3Rpb24uZmluZE9uZSh7IF9pZDogYXR0YWNoX2lkLCAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWR9KVxuXHRcdGlmIGZpbGVcblx0XHRcdGZpbGUucmVtb3ZlKClcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfmraTpmYTku7bkuI3lsZ7kuo7mraTnlLPor7fljZXvvIzmiJblt7LooqvliKDpmaQnKVxuXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxuXHRjYXRjaCBlXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMFxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzphdHRhY2hfaWRcIiwgIChyZXEsIHJlcywgbmV4dCkgLT5cblx0dHJ5XG5cdFx0YXR0YWNoX2lkID0gcmVxLnBhcmFtcy5hdHRhY2hfaWRcblxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXG5cdFx0XHRyZXR1cm4gO1xuXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxuXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXG5cblx0XHRpZiBub3Qgc3BhY2VfaWRcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxuXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxuXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXG5cblx0XHRyZXMuc3RhdHVzQ29kZSA9IDMwMlxuXHRcdHJlcy5zZXRIZWFkZXIgXCJMb2NhdGlvblwiLCBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2luc3RhbmNlcy9cIikgKyBhdHRhY2hfaWQgKyBcIj9kb3dubG9hZD10cnVlXCJcblx0XHRyZXMuZW5kKClcblx0Y2F0Y2ggZVxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRjb2RlOiAyMDBcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XG4iLCJcbi8qXG5Db250ZW50LVR5cGXvvJphcHBsaWNhdGlvbi9qc29uXG5mb3JtLWRhdGEg5qC85byPOlxuZmQgPSBuZXcgRm9ybURhdGE7XG5mZC5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xuXG5mZC5hcHBlbmQoXCJpc19wcml2YXRlXCIsIGZhbHNlKTtcblxuaWYgKGlzQWRkVmVyc2lvbikge1xuXHRmZC5hcHBlbmQoXCJpc0FkZFZlcnNpb25cIiwgaXNBZGRWZXJzaW9uKTtcblx0ZmQuYXBwZW5kKFwicGFyZW50XCIsIGF0dGFjaF9wYXJlbnRfaWQpO1xufVxuXG5pZiAoaXNNYWluQXR0YWNoKSB7XG5cdGZkLmFwcGVuZChcIm1haW5cIiwgdHJ1ZSk7XG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHByb3ZlX2lkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBpbnNfaWQsIGluc3RhbmNlLCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95LiK5LygJyk7XG4gICAgfVxuICAgIGFwcHJvdmVfaWQgPSBpbnN0YW5jZS50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkO1xuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnBhcnNlRmlsZXMocmVxLCByZXMsIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGNvbGxlY3Rpb24sIG5ld0ZpbGU7XG4gICAgICBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcbiAgICAgIGlmIChyZXEuZmlsZXMgJiYgcmVxLmZpbGVzWzBdKSB7XG4gICAgICAgIGlmIChyZXEuZmlsZXNbMF0uZGF0YS5sZW5ndGggPiAoMTAwICogMTAyNCAqIDEwMjQpKSB7XG4gICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwi6LaF6L+H5LiK5Lyg6ZmE5Lu25aSn5bCP6ZmQ5Yi2KDEwME0pXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XG4gICAgICAgIHJldHVybiBuZXdGaWxlLmF0dGFjaERhdGEocmVxLmZpbGVzWzBdLmRhdGEsIHtcbiAgICAgICAgICB0eXBlOiByZXEuZmlsZXNbMF0ubWltZVR5cGVcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgdmFyIGJvZHksIGUsIGZpbGVPYmosIGZpbGVuYW1lLCBtZXRhZGF0YSwgcGFyZW50LCByLCByZXN1bHQsIHNpemU7XG4gICAgICAgICAgZmlsZW5hbWUgPSByZXEuZmlsZXNbMF0uZmlsZW5hbWU7XG4gICAgICAgICAgaWYgKFtcImltYWdlLmpwZ1wiLCBcImltYWdlLmdpZlwiLCBcImltYWdlLmpwZWdcIiwgXCJpbWFnZS5wbmdcIl0uaW5jbHVkZXMoZmlsZW5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gXCJpbWFnZS1cIiArIG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoJ1lZWVlNTURESEhtbXNzJykgKyBcIi5cIiArIGZpbGVuYW1lLnNwbGl0KCcuJykucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJvZHkgPSByZXEuYm9keTtcbiAgICAgICAgICBib2R5Wydvd25lciddID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgICAgICAgIGJvZHlbJ293bmVyX25hbWUnXSA9IGluc3RhbmNlLnN1Ym1pdHRlcl9uYW1lO1xuICAgICAgICAgIGJvZHlbJ3NwYWNlJ10gPSBzcGFjZV9pZDtcbiAgICAgICAgICBib2R5WydpbnN0YW5jZSddID0gaW5zX2lkO1xuICAgICAgICAgIGJvZHlbJ2FwcHJvdmUnXSA9IGFwcHJvdmVfaWQ7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChib2R5ICYmIChib2R5Wyd1cGxvYWRfZnJvbSddID09PSBcIklFXCIgfHwgYm9keVsndXBsb2FkX2Zyb20nXSA9PT0gXCJub2RlXCIpKSB7XG4gICAgICAgICAgICAgIGZpbGVuYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihmaWxlbmFtZSk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8lL2csIFwiLVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3RmlsZS5uYW1lKGZpbGVuYW1lKTtcbiAgICAgICAgICBpZiAoYm9keSAmJiBib2R5Wydvd25lciddICYmIGJvZHlbJ293bmVyX25hbWUnXSAmJiBib2R5WydzcGFjZSddICYmIGJvZHlbJ2luc3RhbmNlJ10gJiYgYm9keVsnYXBwcm92ZSddKSB7XG4gICAgICAgICAgICBwYXJlbnQgPSAnJztcbiAgICAgICAgICAgIG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgICBvd25lcjogYm9keVsnb3duZXInXSxcbiAgICAgICAgICAgICAgb3duZXJfbmFtZTogYm9keVsnb3duZXJfbmFtZSddLFxuICAgICAgICAgICAgICBzcGFjZTogYm9keVsnc3BhY2UnXSxcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IGJvZHlbJ2luc3RhbmNlJ10sXG4gICAgICAgICAgICAgIGFwcHJvdmU6IGJvZHlbJ2FwcHJvdmUnXSxcbiAgICAgICAgICAgICAgY3VycmVudDogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChib2R5W1wiaXNfcHJpdmF0ZVwiXSAmJiBib2R5W1wiaXNfcHJpdmF0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5pc19wcml2YXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLmlzX3ByaXZhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib2R5WydtYWluJ10gPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLm1haW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvZHlbJ2lzQWRkVmVyc2lvbiddICYmIGJvZHlbJ3BhcmVudCddKSB7XG4gICAgICAgICAgICAgIHBhcmVudCA9IGJvZHlbJ3BhcmVudCddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgICByID0gY29sbGVjdGlvbi51cGRhdGUoe1xuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAkdW5zZXQ6IHtcbiAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogJydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICBpZiAoYm9keVsnbG9ja2VkX2J5J10gJiYgYm9keVsnbG9ja2VkX2J5X25hbWUnXSkge1xuICAgICAgICAgICAgICAgICAgbWV0YWRhdGEubG9ja2VkX2J5ID0gYm9keVsnbG9ja2VkX2J5J107XG4gICAgICAgICAgICAgICAgICBtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSA9IGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgICBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHlbXCJvdmVyd3JpdGVcIl0gJiYgYm9keVtcIm92ZXJ3cml0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbi5yZW1vdmUoe1xuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEub3duZXInOiBib2R5Wydvd25lciddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuYXBwcm92ZSc6IGJvZHlbJ2FwcHJvdmUnXSxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG4gICAgICAgICAgICAgIGZpbGVPYmoudXBkYXRlKHtcbiAgICAgICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgICAnbWV0YWRhdGEucGFyZW50JzogZmlsZU9iai5faWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQobmV3RmlsZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNpemUgPSBmaWxlT2JqLm9yaWdpbmFsLnNpemU7XG4gICAgICAgICAgaWYgKCFzaXplKSB7XG4gICAgICAgICAgICBzaXplID0gMTAyNDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICBhdHRhY2hfaWQ6IGZpbGVPYmouX2lkLFxuICAgICAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVzLnNldEhlYWRlcihcIngtYW16LXZlcnNpb24taWRcIiwgZmlsZU9iai5faWQpO1xuICAgICAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IFwibmVlZCBmaWxlXCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZGVsZXRlXCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2hfaWQsIGNvbGxlY3Rpb24sIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZpbGUsIGhhc2hEYXRhLCBpbnNfaWQsIGluc3RhbmNlLCByZXN1bHQsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73liKDpmaTpmYTku7YnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keSB8fCB7fTtcbiAgICBhdHRhY2hfaWQgPSBoYXNoRGF0YVtcImF0dGFjaF9pZFwiXTtcbiAgICBpZiAoIWF0dGFjaF9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGF0dGFjaF9pZCcpO1xuICAgIH1cbiAgICBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcbiAgICBmaWxlID0gY29sbGVjdGlvbi5maW5kT25lKHtcbiAgICAgIF9pZDogYXR0YWNoX2lkLFxuICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkXG4gICAgfSk7XG4gICAgaWYgKGZpbGUpIHtcbiAgICAgIGZpbGUucmVtb3ZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+atpOmZhOS7tuS4jeWxnuS6juatpOeUs+ivt+WNle+8jOaIluW3suiiq+WIoOmZpCcpO1xuICAgIH1cbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmF0dGFjaF9pZFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXR0YWNoX2lkLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBhdHRhY2hfaWQgPSByZXEucGFyYW1zLmF0dGFjaF9pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICByZXMuc3RhdHVzQ29kZSA9IDMwMjtcbiAgICByZXMuc2V0SGVhZGVyKFwiTG9jYXRpb25cIiwgU3RlZWRvcy5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9pbnN0YW5jZXMvXCIpICsgYXR0YWNoX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiKTtcbiAgICByZXR1cm4gcmVzLmVuZCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3JlZmlsbFwiLCAocmVxLCByZXMsIG5leHQpIC0+XG5cdGNvbnNvbGUubG9nIFwiPT09PT09PT095Zue5aGr5a2Q6KGoPT09PT09PT09PVwiXG5cdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIixyZXE/LnF1ZXJ5Py5zdWJUYWJsZVxuXHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWIhuWPkeWbnuWhq+eahOWIlz09PT09PT09PT1cIlxuXHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmNvbHVtblwiLHJlcT8ucXVlcnk/LmNvbHVtblxuXG5cdGNvbHVtbnMgPSByZXE/LnF1ZXJ5Py5jb2x1bW4uc3BsaXQoJzsnKVxuXHRjb25zb2xlLmxvZyBcImNvbHVtbnNcIixjb2x1bW5zXG5cblxuXHQjIOWIhuWPkeeahOeUs+ivt+WNlVxuXHRmb3J3YXJkX2lucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcblxuXHRzdWJUYWJsZSA9IHJlcT8ucXVlcnk/LnN1YlRhYmxlXG5cblx0aWYgZm9yd2FyZF9pbnM/LnN0YXRlID09IFwiY29tcGxldGVkXCIgJiYgZm9yd2FyZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXM/Lmxlbmd0aD4wICYmIHN1YlRhYmxlICYmIGNvbHVtbnNcblx0XHRcblx0XHQjIOWIhuWPkeWbnuadpeeahOWAvFxuXHRcdGZvcndhcmRfaW5zX3ZhbHVlcyA9IGZvcndhcmRfaW5zPy52YWx1ZXNcblxuXHRcdCMgIyDljp/nlLPor7fljZXlrZfmrrVcblx0XHRvcmlnaW5hbF9pbnNfaWQgPSBfLmxhc3QgZm9yd2FyZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRvcmlnaW5hbF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvcmlnaW5hbF9pbnNfaWQpXG5cdFx0b3JpZ2luYWxfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9yaWdpbmFsX2lucz8uZm9ybSlcblxuXHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBbXVxuXHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXG5cblx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcIixvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblwiLG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXG5cblx0XHQjIOafpeeci+WOn+eUs+ivt+WNleaYr+WQpuacieWvueW6lOeahOWtkOihqFxuXHRcdGlmIG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uID09IG9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcblx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50Py5maWVsZHNcblx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaCAob3JpZ2luYWxfaW5zX2ZpZWxkKS0+XG5cdFx0XHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zX2ZpZWxkXCIsb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlXG5cdFx0XHRcdGlmIG9yaWdpbmFsX2luc19maWVsZD8uY29kZSA9PSBzdWJUYWJsZSAmJiBvcmlnaW5hbF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJ1xuXHRcdFx0XHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZD8uZmllbGRzXG5cdFx0ZWxzZVxuXHRcdFx0aWYgb3JpZ2luYWxfaW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXG5cdFx0XHRcdG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKG9oKS0+XG5cdFx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb24gPT0gb2guX2lkXG5cdFx0XHRcdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gb2g/LmZpZWxkc1xuXHRcdFx0XHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoIChvcmlnaW5hbF9pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlID09IHN1YlRhYmxlICYmIG9yaWdpbmFsX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnXG5cdFx0XHRcdFx0XHRcdFx0b3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkPy5maWVsZHNcblxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfc3VidGFibGVfZmllbGRzXCIsb3JpZ2luYWxfc3VidGFibGVfZmllbGRzPy5sZW5ndGhcblxuXHRcdGlmIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1xuXHRcdFx0IyAjIOabtOaWsOatpemqpOeahOWAvFxuXHRcdFx0IyAxLuaJvuWIsOW9k+WJjeeahOatpemqpFxuXHRcdFx0IyAyLuW9k+WJjeatpemqpOS4rWFwcHJvdmVz5Lit55qEdmFsdWVzXG5cdFx0XHQjIDMu5ZyodmFsdWVz5Lit5om+5Yiw6KGo5qC8XG5cdFx0XHQjIDQu5qC55o2u6KGo5qC855qEZmllbGRz5bGe5oCn77yM5LiA5Liq5Liq55qE6LWL5YC8XG5cdFx0XHQjIDUu5oqK5aSN5Yi255qEcHVzaOWIsOihqOagvOaVsOe7hOeahOWQjumdolxuXHRcdFx0dHJhY2VzID0gb3JpZ2luYWxfaW5zPy50cmFjZXNcblxuXHRcdFx0dHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXVxuXG5cdFx0XHRhcHByb3ZlID0gdHJhY2U/LmFwcHJvdmVzWzBdXG5cblx0XHRcdHRhYmxlX2RhdGEgPSBhcHByb3ZlPy52YWx1ZXNbc3ViVGFibGVdIHx8IFtdXG5cblx0XHRcdHJvd19kYXRhID0ge31cblxuXHRcdFx0Y29sdW1ucy5mb3JFYWNoIChjb2x1bW4pLT5cblx0XHRcdFx0cm93X2RhdGFbY29sdW1uXSA9IGZvcndhcmRfaW5zX3ZhbHVlc1tjb2x1bW5dIHx8IFwiXCJcblx0XHRcdFxuXHRcdFx0XG5cdFx0XHRpZiByb3dfZGF0YSAmJiByb3dfZGF0YSAhPSB7fVxuXHRcdFx0XHR0YWJsZV9kYXRhLnB1c2ggcm93X2RhdGFcblx0XHRcdFx0dHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzW3N1YlRhYmxlXSA9IHRhYmxlX2RhdGFcblxuXHRcdFx0XHRjb25zb2xlLmxvZyB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdXG5cblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZShvcmlnaW5hbF9pbnNfaWQse1xuXHRcdFx0XHRcdCRzZXQ6e1xuXHRcdFx0XHRcdFx0J3RyYWNlcyc6dHJhY2VzXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0XHQnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdFx0ZGF0YToge1xuXHRcdFx0XHRcdFx0J2luZm8nOiAn5Zue5aGr5pWw5o2u5Li656m6J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0ZWxzZVxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHQnZXJyb3InOiAn5Y6f55Sz6K+35Y2V5peg55u45YWz5a2Q6KGoJ1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdGVsc2Vcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdzdWNjZXNzJzogJ+eUs+ivt+WNleacque7k+adnydcblx0XHRcdH1cblx0XHR9XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3JlZmlsbFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXBwcm92ZSwgY29sdW1ucywgZm9yd2FyZF9pbnMsIGZvcndhcmRfaW5zX3ZhbHVlcywgb3JpZ2luYWxfaW5zLCBvcmlnaW5hbF9pbnNfZmllbGRzLCBvcmlnaW5hbF9pbnNfZm9ybSwgb3JpZ2luYWxfaW5zX2lkLCBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgcmVmNywgcmVmOCwgcmVmOSwgcm93X2RhdGEsIHN1YlRhYmxlLCB0YWJsZV9kYXRhLCB0cmFjZSwgdHJhY2VzO1xuICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWbnuWhq+WtkOihqD09PT09PT09PT1cIik7XG4gIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgY29uc29sZS5sb2coXCI9PT09PT09PT3liIblj5Hlm57loavnmoTliJc9PT09PT09PT09XCIpO1xuICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LmNvbHVtblwiLCByZXEgIT0gbnVsbCA/IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5jb2x1bW4gOiB2b2lkIDAgOiB2b2lkIDApO1xuICBjb2x1bW5zID0gcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuY29sdW1uLnNwbGl0KCc7JykgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGNvbnNvbGUubG9nKFwiY29sdW1uc1wiLCBjb2x1bW5zKTtcbiAgZm9yd2FyZF9pbnMgPSByZXEgIT0gbnVsbCA/IChyZWYzID0gcmVxLmJvZHkpICE9IG51bGwgPyByZWYzLmluc3RhbmNlIDogdm9pZCAwIDogdm9pZCAwO1xuICBzdWJUYWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICBpZiAoKGZvcndhcmRfaW5zICE9IG51bGwgPyBmb3J3YXJkX2lucy5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCIgJiYgKGZvcndhcmRfaW5zICE9IG51bGwgPyAocmVmNSA9IGZvcndhcmRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpICE9IG51bGwgPyByZWY1Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwICYmIHN1YlRhYmxlICYmIGNvbHVtbnMpIHtcbiAgICBmb3J3YXJkX2luc192YWx1ZXMgPSBmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgIG9yaWdpbmFsX2luc19pZCA9IF8ubGFzdChmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyA6IHZvaWQgMCk7XG4gICAgb3JpZ2luYWxfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob3JpZ2luYWxfaW5zX2lkKTtcbiAgICBvcmlnaW5hbF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IFtdO1xuICAgIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IFtdO1xuICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFwiLCBvcmlnaW5hbF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjYgPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmNi5faWQgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb25cIiwgb3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKTtcbiAgICBpZiAoKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChvcmlnaW5hbF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjcgPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmNy5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICBvcmlnaW5hbF9pbnNfZmllbGRzID0gKHJlZjggPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmOC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICBvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob3JpZ2luYWxfaW5zX2ZpZWxkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfaW5zX2ZpZWxkXCIsIG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApO1xuICAgICAgICBpZiAoKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBzdWJUYWJsZSAmJiAob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjkgPSBvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjkubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgb3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihvaCkge1xuICAgICAgICAgIGlmICgob3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gb2guX2lkKSB7XG4gICAgICAgICAgICBvcmlnaW5hbF9pbnNfZmllbGRzID0gb2ggIT0gbnVsbCA/IG9oLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob3JpZ2luYWxfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgIGlmICgob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IHN1YlRhYmxlICYmIChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfc3VidGFibGVfZmllbGRzXCIsIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyAhPSBudWxsID8gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzLmxlbmd0aCA6IHZvaWQgMCk7XG4gICAgaWYgKG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcykge1xuICAgICAgdHJhY2VzID0gb3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMudHJhY2VzIDogdm9pZCAwO1xuICAgICAgdHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgYXBwcm92ZSA9IHRyYWNlICE9IG51bGwgPyB0cmFjZS5hcHByb3Zlc1swXSA6IHZvaWQgMDtcbiAgICAgIHRhYmxlX2RhdGEgPSAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS52YWx1ZXNbc3ViVGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgIHJvd19kYXRhID0ge307XG4gICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgIHJldHVybiByb3dfZGF0YVtjb2x1bW5dID0gZm9yd2FyZF9pbnNfdmFsdWVzW2NvbHVtbl0gfHwgXCJcIjtcbiAgICAgIH0pO1xuICAgICAgaWYgKHJvd19kYXRhICYmIHJvd19kYXRhICE9PSB7fSkge1xuICAgICAgICB0YWJsZV9kYXRhLnB1c2gocm93X2RhdGEpO1xuICAgICAgICB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV0gPSB0YWJsZV9kYXRhO1xuICAgICAgICBjb25zb2xlLmxvZyh0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV0pO1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKG9yaWdpbmFsX2luc19pZCwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICd0cmFjZXMnOiB0cmFjZXNcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICdpbmZvJzogJ+WbnuWhq+aVsOaNruS4uuepuidcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAnZXJyb3InOiAn5Y6f55Sz6K+35Y2V5peg55u45YWz5a2Q6KGoJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ3N1Y2Nlc3MnOiAn55Sz6K+35Y2V5pyq57uT5p2fJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF90YWJsZV9yZWZpbGxcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWOn+ihqOWtkOihqD09PT09PT09PT1cIlxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8ub1RhYmxlXCIscmVxPy5xdWVyeT8ub1RhYmxlXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3njrDooajlrZDooag9PT09PT09PT09XCJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmRUYWJsZVwiLHJlcT8ucXVlcnk/LmRUYWJsZVxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT095Y6f6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcIixyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeeOsOihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIlxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uZE1hdGNoQ29sXCIscmVxPy5xdWVyeT8uZE1hdGNoQ29sXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3pnIDopoHlm57loavnmoTliJc9PT09PT09PT09XCJcdFxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8ucmVmaWxsQ29sXCIscmVxPy5xdWVyeT8ucmVmaWxsQ29sXG5cblx0XHQjIOWIhuWPkeeahOeUs+ivt+WNlVxuXHRcdGRfaW5zID0gcmVxPy5ib2R5Py5pbnN0YW5jZVxuXG5cdFx0XG5cdFx0aWYgZF9pbnM/LnN0YXRlID09IFwiY29tcGxldGVkXCJcblx0XHRcdGlmIHJlcT8ucXVlcnk/Lm9UYWJsZVxuXHRcdFx0XHRvX3RhYmxlID0gcmVxPy5xdWVyeT8ub1RhYmxlXG5cdFx0XHRcdGlmIHJlcT8ucXVlcnk/LmRUYWJsZVxuXHRcdFx0XHRcdGRfdGFibGUgPSByZXE/LnF1ZXJ5Py5kVGFibGVcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdGRfdGFibGUgPSBvX3RhYmxlXG5cdFx0XHRcdGlmIHJlcT8ucXVlcnk/LmFUYWJsZVxuXHRcdFx0XHRcdGFfdGFibGUgPSByZXE/LnF1ZXJ5Py5hVGFibGVcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8ub01hdGNoQ29sXG5cdFx0XHRcdFx0b19tYXRjaF9jb2wgPSByZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcblx0XHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sID0gcmVxPy5xdWVyeT8uZE1hdGNoQ29sXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2wgPSBvX21hdGNoX2NvbFxuXHRcdFx0XHRcdGNvbHVtbnMgPSByZXE/LnF1ZXJ5Py5yZWZpbGxDb2wuc3BsaXQoJzsnKSB8fCBbXVxuXHRcdFx0XHRcdGNvbnNvbGUubG9nIFwiY29sdW1uc1wiLGNvbHVtbnNcdFx0XHRcdFx0XG5cblx0XHRcdFx0XHRpZiBjb2x1bW5zIHx8IGNvbHVtbnMubGVuZ3RoPDFcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09PT09PT09PT09PT09PVwiXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBkX3RhYmxlLCBvX21hdGNoX2NvbCwgY29sdW1uc1xuXG5cdFx0XHRcdFx0XHQjIOWIhuWPkeWbnuadpeeahOWAvFxuXHRcdFx0XHRcdFx0ZF9pbnNfdmFsdWVzID0gZF9pbnM/LnZhbHVlc1xuXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNlSBmb3JtIOihqOWtl+autVxuXHRcdFx0XHRcdFx0b19pbnNfaWQgPSBfLmxhc3QgZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcblx0XHRcdFx0XHRcdG9faW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob19pbnNfaWQpXG5cdFx0XHRcdFx0XHRvX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvX2lucz8uZm9ybSlcblxuXHRcdFx0XHRcdFx0ZF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZF9pbnM/LmZvcm0pXG5cblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qEIGZpZWxkc1xuXHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gW11cblxuXHRcdFx0XHRcdFx0IyDljp/lrZDooajlrZfmrrVcblx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gW11cblxuXHRcdFx0XHRcdFx0IyDliIblj5HnlLPor7fljZXnmoQgZmllbGRzXG5cdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBbXVxuXHRcdFx0XHRcdFx0IyDnjrDnlLPor7fljZXlrZfooajlrZfmrrVcblx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gW11cblxuXHRcdFx0XHRcdFx0IyDotYvlgLzlr7nlupTnmoTlrZfmrrVcblx0XHRcdFx0XHRcdGNvbHVtbl9saXN0ID0gW11cblxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQjIOWIhuWPkeWQjueUs+ivt+WNleeahCDlrZDooajlgLxcblx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzID0gW11cblxuXHRcdFx0XHRcdFx0IyDmn6XnnIvljp/nlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZDooahcblx0XHRcdFx0XHRcdGlmIG9faW5zPy5mb3JtX3ZlcnNpb24gPT0gb19pbnNfZm9ybT8uY3VycmVudD8uX2lkXG5cdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcyA9IG9faW5zX2Zvcm0/LmN1cnJlbnQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMuZm9yRWFjaCAob19pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0XHRpZiBvX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIG9faW5zX2ZpZWxkPy5jb2RlID09IG9fdGFibGVcblx0XHRcdFx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRpZiBvX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxuXHRcdFx0XHRcdFx0XHRcdG9faW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaCAob2gpLT5cblx0XHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zPy5mb3JtX3ZlcnNpb24gPT0gb2guX2lkXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcyA9IG9oPy5maWVsZHNcblx0XHRcdFx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzLmZvckVhY2ggKG9faW5zX2ZpZWxkKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBvX2luc19maWVsZD8uY29kZSA9PSBvX3RhYmxlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkPy5maWVsZHNcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0IyDmn6XnnIvliIblj5HnmoTnlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZfooahcblx0XHRcdFx0XHRcdGlmIGRfaW5zPy5mb3JtX3ZlcnNpb24gPT0gZF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXG5cdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IGRfaW5zX2Zvcm0/LmN1cnJlbnQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMuZm9yRWFjaCAoZF9pbnNfZmllbGQpLT5cblx0XHRcdFx0XHRcdFx0XHRpZigoZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBkX3RhYmxlKXx8KGFfdGFibGUgJiYgZF9pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBkX2luc19maWVsZD8uY29kZSA9PSBhX3RhYmxlKSlcblx0XHRcdFx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0IGRfaW5zX2ZpZWxkPy5maWVsZHNcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0aWYgZF9pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcblx0XHRcdFx0XHRcdFx0XHRkX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKGRoKS0+XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBkX2lucz8uZm9ybV92ZXJzaW9uID09IGRoLl9pZFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBkaD8uZmllbGRzXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcy5mb3JFYWNoIChkX2luc19maWVsZCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKChkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGRfdGFibGUpfHwoYV90YWJsZSAmJiBkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGFfdGFibGUpKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQgZF9pbnNfZmllbGQ/LmZpZWxkc1xuXHRcdFx0XHRcdFx0XG5cblx0XHRcdFx0XHRcdFxuXG5cdFx0XHRcdFx0XHRpZiBvX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBcIm9fc3VidGFibGVfZmllbGRzXCIsb19zdWJ0YWJsZV9maWVsZHNcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRpZiBkX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG5cblx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzID0gZF9pbnM/LnZhbHVlc1tkX3RhYmxlXSB8fCBbXVxuXG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmIGFfdGFibGVcblx0XHRcdFx0XHRcdFx0YV90YWJsZV92YWx1ZXMgPSAgZF9pbnM/LnZhbHVlc1thX3RhYmxlXSB8fCBbXVxuXHRcdFx0XHRcdFx0XHRpZiBhX3RhYmxlX3ZhbHVlcyAmJiBhX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoPT1kX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoXG5cdFx0XHRcdFx0XHRcdFx0YV90YWJsZV92YWx1ZXMuZm9yRWFjaCAoYV9yb3csaW5kZXgpLT5cblx0XHRcdFx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzW2luZGV4XVtrZXldID0gdmFsdWUgZm9yIGtleSx2YWx1ZSBvZiBhX3Jvd1xuXG5cdFx0XHRcdFx0XHRpZiBkX3RhYmxlX3ZhbHVlcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdG9fbWF0Y2hfY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PW9fbWF0Y2hfY29sKVxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09ZF9tYXRjaF9jb2wpXG5cblx0XHRcdFx0XHRcdCMg5Yy56YWN5YiX5Yik5patXG5cdFx0XHRcdFx0XHRpZiBvX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuXG5cdFx0XHRcdFx0XHRpZiBkX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09IDBcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuXG5cdFx0XHRcdFx0XHQjIOWIpOaWreWMuemFjeWIl+Wtl+auteeahOWAvOexu+Wei+aYr+WQpuS4gOiHtFxuXHRcdFx0XHRcdFx0b19tYXRjaF9jb2xfZmllbGQgPSBvX21hdGNoX2NvbF9maWVsZHNbMF1cblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sX2ZpZWxkID0gZF9tYXRjaF9jb2xfZmllbGRzWzBdXG5cblx0XHRcdFx0XHRcdGlmIG9fbWF0Y2hfY29sX2ZpZWxkPy50eXBlICE9IGRfbWF0Y2hfY29sX2ZpZWxkPy50eXBlXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlkozljp/nlLPor7fljZXlrZDooajnmoTljLnphY3liJflrZfmrrXkuI3kuIDoh7QnKTtcblxuXHRcdFx0XHRcdFx0IyDlm57loavliJfliKTmlq1cblx0XHRcdFx0XHRcdGNvbHVtbnMuZm9yRWFjaCAoY29sdW1uKS0+XG5cdFx0XHRcdFx0XHRcdGNvbHMgPSBjb2x1bW4uc3BsaXQoJy0nKSB8fCBbXVxuXHRcdFx0XHRcdFx0XHRpZiBjb2xzLmxlbmd0aCA9PSAyXG5cdFx0XHRcdFx0XHRcdFx0b19jb2wgPSBjb2xzWzBdXG5cdFx0XHRcdFx0XHRcdFx0ZF9jb2wgPSBjb2xzWzFdXG5cdFx0XHRcdFx0XHRcdFx0b19jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09b19jb2wpXG5cdFx0XHRcdFx0XHRcdFx0ZF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09ZF9jb2wpXG5cblx0XHRcdFx0XHRcdFx0XHQjIOWIpOaWreaYr+WQpuacieWvueW6lOeahOWbnuWhq+WIl1xuXHRcdFx0XHRcdFx0XHRcdGlmIG9fY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgZF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG5cblx0XHRcdFx0XHRcdFx0XHQjIOWIpOaWreWMuemFjeWIl+Wtl+auteeahOWAvOexu+Wei+aYr+WQpuS4gOiHtFxuXHRcdFx0XHRcdFx0XHRcdGlmIG9fY29sX2ZpZWxkcz8udHlwZSAhPSBkX2NvbF9maWVsZHM/LnR5cGVcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJflrZfmrrXnsbvlnovkuI3kuIDoh7QnKTtcblx0XHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0XHRjb2wgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRvX2NvbDogb19jb2wsXG5cdFx0XHRcdFx0XHRcdFx0XHRkX2NvbDogZF9jb2xcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QucHVzaCBjb2xcblxuXHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+S4jeWMuemFjScpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHQjIOi1i+WAvFxuXHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyAgJz09PT09PWNvbHVtbl9saXN0PT09PT09PScsY29sdW1uX2xpc3RcblxuXHRcdFx0XHRcdFx0dHJhY2VzID0gb19pbnM/LnRyYWNlc1xuXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahCBzdGVwIFxuXHRcdFx0XHRcdFx0dHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXVxuXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahOW9k+WJjeatpemqpFxuXHRcdFx0XHRcdFx0YXBwcm92ZSA9IHRyYWNlPy5hcHByb3Zlc1swXVxuXG5cdFx0XHRcdFx0XHQjIOWFg+eUs+ivt+WNleeahOW9k+WJjSB2YWx1ZSDnmoQg5a2Q6KGoXG5cdFx0XHRcdFx0XHR0YWJsZV9kYXRhID0gYXBwcm92ZT8udmFsdWVzW29fdGFibGVdIHx8IFtdXG5cblxuXHRcdFx0XHRcdFx0IyDmoLnmja4gY29sdW1uX2xpc3Qg6LWL5YC85a+55bqU5a2X5q616L+b6KGM6LWL5YC8XG5cdFx0XHRcdFx0XHQjIOW+queOr+WIhuWPkeeUs+ivt+WNleeahOavj+ihjFxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMuZm9yRWFjaCAoZF9yb3cpLT5cblx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImRfcm93XCIsZF9yb3dcblx0XHRcdFx0XHRcdFx0IyDmn6Xmib7ljLnphY3nmoTliJfmmK/lkKbkuI7lvZPliY3nmoTljLnphY3liJfkuIDoh7Rcblx0XHRcdFx0XHRcdFx0aGFzX29iaiA9IGZhbHNlXG5cdFx0XHRcdFx0XHRcdGNvdW50ID0gLTFcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdCMg55yL5Y6f5a2Q6KGo5piv5ZCm5pyJ6K+l5Yy56YWN5YiXXG5cdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGEuZm9yRWFjaCAob19yb3csIGluZGV4KS0+XG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93XCIsIG9fcm93XG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImluZGV4XCIsaW5kZXhcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwib19yb3dbb19tYXRjaF9jb2xdXCIsb19yb3dbb19tYXRjaF9jb2xdXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImRfcm93W2RfbWF0Y2hfY29sXVwiLGRfcm93W2RfbWF0Y2hfY29sXVxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXCIsb19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVxuXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVxuXHRcdFx0XHRcdFx0XHRcdFx0aGFzX29iaiA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdGNvdW50ID0gaW5kZXhcblxuXHRcdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNleeahOWMuemFjeWtl+auteacieWAvFxuXHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiaGFzX29ialwiLGhhc19vYmpcblx0XHRcdFx0XHRcdFx0aWYgaGFzX29iaj09dHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LmZvckVhY2ggKGNvbCktPlxuXHRcdFx0XHRcdFx0XHRcdFx0dGFibGVfZGF0YVtjb3VudF1bY29sPy5vX2NvbF0gPSBkX3Jvd1tjb2w/LmRfY29sXVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdHJvd19kYXRhID0ge31cblx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YVtvX21hdGNoX2NvbF0gPSBkX3Jvd1tkX21hdGNoX2NvbF1cblx0XHRcdFx0XHRcdFx0XHRjb2x1bW5fbGlzdC5mb3JFYWNoIChjb2wpLT5cblx0XHRcdFx0XHRcdFx0XHRcdHJvd19kYXRhW2NvbD8ub19jb2xdID0gZF9yb3dbY29sPy5kX2NvbF1cblx0XHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhLnB1c2ggcm93X2RhdGFcblxuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXMgPSBvX2lucz8udmFsdWVzXG5cdFx0XHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbb190YWJsZV0gPSB0YWJsZV9kYXRhXG5cblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUob19pbnNfaWQse1xuXHRcdFx0XHRcdFx0XHQkc2V0Ontcblx0XHRcdFx0XHRcdFx0XHQndHJhY2VzJzp0cmFjZXNcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcblx0XHRcdFx0XHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0XHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0XHRcdFx0J3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWtkOihqOWbnuWhq+WIl+Wtl+autSBjb2x1bW5zIOWAvCcpO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljLnphY3liJflrZfmrrUgb01hdGNoQ29sIOWAvCcpO1xuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWOn+ihqOWNleWtkOihqCBvVGFibGUg5YC8Jyk7XG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+eUs+ivt+WNleacque7k+adnycpO1xuXHRjYXRjaCBlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRlcnJvcnM6IFtlXVxuXHRcdFx0fVxuXHRcdH1cbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfdGFibGVfcmVmaWxsXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhX3RhYmxlLCBhX3RhYmxlX3ZhbHVlcywgYXBwcm92ZSwgY29sdW1uX2xpc3QsIGNvbHVtbnMsIGRfaW5zLCBkX2luc19maWVsZHMsIGRfaW5zX2Zvcm0sIGRfaW5zX3ZhbHVlcywgZF9tYXRjaF9jb2wsIGRfbWF0Y2hfY29sX2ZpZWxkLCBkX21hdGNoX2NvbF9maWVsZHMsIGRfc3VidGFibGVfZmllbGRzLCBkX3RhYmxlLCBkX3RhYmxlX3ZhbHVlcywgZSwgb19pbnMsIG9faW5zX2ZpZWxkcywgb19pbnNfZm9ybSwgb19pbnNfaWQsIG9fbWF0Y2hfY29sLCBvX21hdGNoX2NvbF9maWVsZCwgb19tYXRjaF9jb2xfZmllbGRzLCBvX3N1YnRhYmxlX2ZpZWxkcywgb190YWJsZSwgcmVmLCByZWYxLCByZWYxMCwgcmVmMTEsIHJlZjEyLCByZWYxMywgcmVmMTQsIHJlZjE1LCByZWYxNiwgcmVmMTcsIHJlZjE4LCByZWYxOSwgcmVmMiwgcmVmMjAsIHJlZjIxLCByZWYyMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgcmVmNywgcmVmOCwgcmVmOSwgdGFibGVfZGF0YSwgdHJhY2UsIHRyYWNlcztcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWOn+ihqOWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5vVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLm9UYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3njrDooajlrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uZFRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmRUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3ljp/ooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8ub01hdGNoQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLm9NYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3njrDooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uZE1hdGNoQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3pnIDopoHlm57loavnmoTliJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8ucmVmaWxsQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LnJlZmlsbENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgZF9pbnMgPSByZXEgIT0gbnVsbCA/IChyZWY1ID0gcmVxLmJvZHkpICE9IG51bGwgPyByZWY1Lmluc3RhbmNlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICgoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnN0YXRlIDogdm9pZCAwKSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY2Lm9UYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICBvX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjcub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmOCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjguZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgZF90YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjkgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY5LmRUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkX3RhYmxlID0gb190YWJsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTAgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMC5hVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBhX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmMTEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMS5hVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjEyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTIub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgb19tYXRjaF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWYxMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEzLm9NYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxNC5kTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sID0gcmVxICE9IG51bGwgPyAocmVmMTUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxNS5kTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sID0gb19tYXRjaF9jb2w7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbHVtbnMgPSAocmVxICE9IG51bGwgPyAocmVmMTYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxNi5yZWZpbGxDb2wuc3BsaXQoJzsnKSA6IHZvaWQgMCA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgY29uc29sZS5sb2coXCJjb2x1bW5zXCIsIGNvbHVtbnMpO1xuICAgICAgICAgIGlmIChjb2x1bW5zIHx8IGNvbHVtbnMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCI9PT09PT09PT09PT09PT09PT09PT09XCIpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coZF90YWJsZSwgb19tYXRjaF9jb2wsIGNvbHVtbnMpO1xuICAgICAgICAgICAgZF9pbnNfdmFsdWVzID0gZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIG9faW5zX2lkID0gXy5sYXN0KGRfaW5zICE9IG51bGwgPyBkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIDogdm9pZCAwKTtcbiAgICAgICAgICAgIG9faW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob19pbnNfaWQpO1xuICAgICAgICAgICAgb19pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm0gOiB2b2lkIDApO1xuICAgICAgICAgICAgZF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmZvcm0gOiB2b2lkIDApO1xuICAgICAgICAgICAgb19pbnNfZmllbGRzID0gW107XG4gICAgICAgICAgICBvX3N1YnRhYmxlX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gW107XG4gICAgICAgICAgICBkX3N1YnRhYmxlX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgY29sdW1uX2xpc3QgPSBbXTtcbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzID0gW107XG4gICAgICAgICAgICBpZiAoKG9faW5zICE9IG51bGwgPyBvX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAob19pbnNfZm9ybSAhPSBudWxsID8gKHJlZjE3ID0gb19pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMTcuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICBvX2luc19maWVsZHMgPSBvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTggPSBvX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxOC5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIG9faW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9faW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gb190YWJsZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKChvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTkgPSBvX2luc19mb3JtLmhpc3RvcnlzKSAhPSBudWxsID8gcmVmMTkubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICAgICAgICBvX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24ob2gpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IG9oLl9pZCkge1xuICAgICAgICAgICAgICAgICAgICBvX2luc19maWVsZHMgPSBvaCAhPSBudWxsID8gb2guZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb19pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob19pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBvX3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChkX2luc19mb3JtICE9IG51bGwgPyAocmVmMjAgPSBkX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYyMC5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIGRfaW5zX2ZpZWxkcyA9IGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMSA9IGRfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjIxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgZF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZF9pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gZF90YWJsZSkgfHwgKGFfdGFibGUgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBhX3RhYmxlKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0KGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoKGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMiA9IGRfaW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWYyMi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgICAgICAgIGRfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihkaCkge1xuICAgICAgICAgICAgICAgICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gZGguX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRfaW5zX2ZpZWxkcyA9IGRoICE9IG51bGwgPyBkaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihkX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgoKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBkX3RhYmxlKSB8fCAoYV90YWJsZSAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGFfdGFibGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9fc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9fc3VidGFibGVfZmllbGRzXCIsIG9fc3VidGFibGVfZmllbGRzKTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRfc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkX3RhYmxlX3ZhbHVlcyA9IChkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzW2RfdGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICAgIGlmIChhX3RhYmxlKSB7XG4gICAgICAgICAgICAgIGFfdGFibGVfdmFsdWVzID0gKGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXNbYV90YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgICBpZiAoYV90YWJsZV92YWx1ZXMgJiYgKGFfdGFibGVfdmFsdWVzICE9IG51bGwgPyBhX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApID09PSAoZF90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IGRfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgICBhX3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGFfcm93LCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgdmFyIGtleSwgcmVzdWx0cywgdmFsdWU7XG4gICAgICAgICAgICAgICAgICByZXN1bHRzID0gW107XG4gICAgICAgICAgICAgICAgICBmb3IgKGtleSBpbiBhX3Jvdykge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFfcm93W2tleV07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChkX3RhYmxlX3ZhbHVlc1tpbmRleF1ba2V5XSA9IHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF90YWJsZV92YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajmlbDmja7kuLrnqbonKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9fbWF0Y2hfY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IG9fbWF0Y2hfY29sO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkX21hdGNoX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBkX21hdGNoX2NvbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG9fbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRfbWF0Y2hfY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb19tYXRjaF9jb2xfZmllbGQgPSBvX21hdGNoX2NvbF9maWVsZHNbMF07XG4gICAgICAgICAgICBkX21hdGNoX2NvbF9maWVsZCA9IGRfbWF0Y2hfY29sX2ZpZWxkc1swXTtcbiAgICAgICAgICAgIGlmICgob19tYXRjaF9jb2xfZmllbGQgIT0gbnVsbCA/IG9fbWF0Y2hfY29sX2ZpZWxkLnR5cGUgOiB2b2lkIDApICE9PSAoZF9tYXRjaF9jb2xfZmllbGQgIT0gbnVsbCA/IGRfbWF0Y2hfY29sX2ZpZWxkLnR5cGUgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlkozljp/nlLPor7fljZXlrZDooajnmoTljLnphY3liJflrZfmrrXkuI3kuIDoh7QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbihjb2x1bW4pIHtcbiAgICAgICAgICAgICAgdmFyIGNvbCwgY29scywgZF9jb2wsIGRfY29sX2ZpZWxkcywgb19jb2wsIG9fY29sX2ZpZWxkcztcbiAgICAgICAgICAgICAgY29scyA9IGNvbHVtbi5zcGxpdCgnLScpIHx8IFtdO1xuICAgICAgICAgICAgICBpZiAoY29scy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICBvX2NvbCA9IGNvbHNbMF07XG4gICAgICAgICAgICAgICAgZF9jb2wgPSBjb2xzWzFdO1xuICAgICAgICAgICAgICAgIG9fY29sX2ZpZWxkcyA9IG9fc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBvX2NvbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBkX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gZF9jb2w7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKG9fY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRfY29sX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKChvX2NvbF9maWVsZHMgIT0gbnVsbCA/IG9fY29sX2ZpZWxkcy50eXBlIDogdm9pZCAwKSAhPT0gKGRfY29sX2ZpZWxkcyAhPSBudWxsID8gZF9jb2xfZmllbGRzLnR5cGUgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5a2X5q6157G75Z6L5LiN5LiA6Ie0Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbCA9IHtcbiAgICAgICAgICAgICAgICAgIG9fY29sOiBvX2NvbCxcbiAgICAgICAgICAgICAgICAgIGRfY29sOiBkX2NvbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbl9saXN0LnB1c2goY29sKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5LiN5Yy56YWNJyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhY2VzID0gb19pbnMgIT0gbnVsbCA/IG9faW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGFwcHJvdmUgPSB0cmFjZSAhPSBudWxsID8gdHJhY2UuYXBwcm92ZXNbMF0gOiB2b2lkIDA7XG4gICAgICAgICAgICB0YWJsZV9kYXRhID0gKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUudmFsdWVzW29fdGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oZF9yb3cpIHtcbiAgICAgICAgICAgICAgdmFyIGNvdW50LCBoYXNfb2JqLCByb3dfZGF0YTtcbiAgICAgICAgICAgICAgaGFzX29iaiA9IGZhbHNlO1xuICAgICAgICAgICAgICBjb3VudCA9IC0xO1xuICAgICAgICAgICAgICB0YWJsZV9kYXRhLmZvckVhY2goZnVuY3Rpb24ob19yb3csIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgaWYgKG9fcm93W29fbWF0Y2hfY29sXSA9PT0gZF9yb3dbZF9tYXRjaF9jb2xdKSB7XG4gICAgICAgICAgICAgICAgICBoYXNfb2JqID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjb3VudCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChoYXNfb2JqID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbl9saXN0LmZvckVhY2goZnVuY3Rpb24oY29sKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVfZGF0YVtjb3VudF1bY29sICE9IG51bGwgPyBjb2wub19jb2wgOiB2b2lkIDBdID0gZF9yb3dbY29sICE9IG51bGwgPyBjb2wuZF9jb2wgOiB2b2lkIDBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvd19kYXRhID0ge307XG4gICAgICAgICAgICAgICAgcm93X2RhdGFbb19tYXRjaF9jb2xdID0gZF9yb3dbZF9tYXRjaF9jb2xdO1xuICAgICAgICAgICAgICAgIGNvbHVtbl9saXN0LmZvckVhY2goZnVuY3Rpb24oY29sKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcm93X2RhdGFbY29sICE9IG51bGwgPyBjb2wub19jb2wgOiB2b2lkIDBdID0gZF9yb3dbY29sICE9IG51bGwgPyBjb2wuZF9jb2wgOiB2b2lkIDBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZV9kYXRhLnB1c2gocm93X2RhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzID0gb19pbnMgIT0gbnVsbCA/IG9faW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV0uYXBwcm92ZXNbMF0udmFsdWVzW29fdGFibGVdID0gdGFibGVfZGF0YTtcbiAgICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUob19pbnNfaWQsIHtcbiAgICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICd0cmFjZXMnOiB0cmFjZXNcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5a2Q6KGo5Zue5aGr5YiX5a2X5q61IGNvbHVtbnMg5YC8Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Yy56YWN5YiX5a2X5q61IG9NYXRjaENvbCDlgLwnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljp/ooajljZXlrZDooaggb1RhYmxlIOWAvCcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn55Sz6K+35Y2V5pyq57uT5p2fJyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtlXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvc3ViX3RhYmxlX3NvcnRcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHR0cnlcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooag9PT09PT09PT09XCJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLHJlcT8ucXVlcnk/LnN1YlRhYmxlXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGo5oC75YiG5YiXPT09PT09PT09PVwiXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3VtQ29sXCIscmVxPy5xdWVyeT8uc3VtQ29sXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGo5o6S5bqP5YiXPT09PT09PT09PVwiXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc29ydENvbFwiLHJlcT8ucXVlcnk/LnNvcnRDb2xcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajljZXliJfpnIDopoHorqHnrpfnmoTlkow9PT09PT09PT09XCJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXCIscmVxPy5xdWVyeT8uc2luZ2xlQ29sc1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHN1Yl90YWJsZSA9IHJlcT8ucXVlcnk/LnN1YlRhYmxlXG4gICAgICAgIGlmICFzdWJfdGFibGVcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zdWJfdGFibGU9PT09PT1cIlxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3ViVGFibGUg5a2X5q61JyApO1xuICAgICAgICBcbiAgICAgICAgc3VtX2NvbCA9IHJlcT8ucXVlcnk/LnN1bUNvbFxuICAgICAgICBpZiAhc3VtX2NvbFxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXN1bV9jb2w9PT09PT1cIlxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3VtQ29sIOWtl+autScgKTtcbiAgICAgICAgXG4gICAgICAgIHNvcnRfY29sID0gcmVxPy5xdWVyeT8uc29ydENvbFxuICAgICAgICBpZiAhc29ydF9jb2xcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zb3J0X2NvbD09PT09PVwiXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzb3J0Q29sIOWtl+autScgKTtcbiAgICAgICAgXG4gICAgICAgICMgc2luZ2xlX2NvbHMgPSByZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXG4gICAgICAgICMgaWYgIXNpbmdsZV9jb2xzXG4gICAgICAgICMgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zaW5nbGVfY29scz09PT09PVwiXG5cbiAgICAgICAgIyAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc2luZ2xlQ29scyDlrZfmrrUnICk7XG4gICAgICAgIFxuICAgICAgICBpbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXG4gICAgICAgIFxuICAgICAgICBzdWJfdGFibGVfdmFsdWVzID0gaW5zLnZhbHVlc1tzdWJfdGFibGVdXG4gICAgICAgIFxuICAgICAgICBpZiBzdWJfdGFibGVfdmFsdWVzPy5sZW5ndGggPiAwIFxuICAgICAgICAgICAgIyAjIOagueaNriBzdWJfdGFibGVfdmFsdWVzIOi/m+ihjOaOkuW6j1xuICAgICAgICAgICAgIyA9PT09PT09PT09PT09PT09PT09PT09XG4gICAgICAgICAgICAjIOaOkuW6j+Wtl+aute+8jOWFs+mUruWtl++8jOato+W6jyh0cnVlKS/lgJLluo8oZmFsc2UpXG4gICAgICAgICAgICBgZnVuY3Rpb24gSnNvblNvcnQoanNvbkFyciwga2V5LCBhc2Mpe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0xLGpsPWpzb25BcnIubGVuZ3RoO2ogPCBqbDtqKyspe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGpzb25BcnJbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgID0gTnVtYmVyKHRlbXBba2V5XSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpICAgID0gai0xO1xuICAgICAgICAgICAgICAgICAgICBpZihhc2M9PXRydWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk+dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPHZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSB0ZW1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkFycjtcbiAgICAgICAgICAgIH1gXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG5ld190YWJsZV92YWx1ZXMgPSBKc29uU29ydChzdWJfdGFibGVfdmFsdWVzLHN1bV9jb2wsZmFsc2UpXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwibmV3X3RhYmxlX3ZhbHVlc1wiLG5ld190YWJsZV92YWx1ZXNcblxuICAgICAgICAgICAgbmV3X3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChvYmosIGluZGV4KS0+XG4gICAgICAgICAgICAgICAgaWYgc29ydF9jb2wgYW5kIG9ialtzdW1fY29sXVxuICAgICAgICAgICAgICAgICAgICBvYmpbc29ydF9jb2xdID0gKGluZGV4KzEpLnRvU3RyaW5nKClcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCJuZXdfdGFibGVfdmFsdWVzXCIsbmV3X3RhYmxlX3ZhbHVlc1xuXG4gICAgICAgICAgICBpbnMudmFsdWVzW3N1Yl90YWJsZV0gPSBuZXdfdGFibGVfdmFsdWVzXG5cbiAgICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zLl9pZCx7XG4gICAgICAgICAgICAgICAgJHNldDp7XG4gICAgICAgICAgICAgICAgICAgICd2YWx1ZXMnOmlucy52YWx1ZXNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwic3VjY2Vzc1wiXG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn6K6h566X5o6S5bqP5oiQ5YqfJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAn5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG4gICAgY2F0Y2ggZVxuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZXJyb3JzOiBbZV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvc3ViX3RhYmxlX3NvcnRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGUsIGlucywgbmV3X3RhYmxlX3ZhbHVlcywgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCBzb3J0X2NvbCwgc3ViX3RhYmxlLCBzdWJfdGFibGVfdmFsdWVzLCBzdW1fY29sO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooajmgLvliIbliJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3VtQ29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN1bUNvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooajmjpLluo/liJc9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc29ydENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5zb3J0Q29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOWNleWIl+mcgOimgeiuoeeul+eahOWSjD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXCIsIHJlcSAhPSBudWxsID8gKHJlZjMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYzLnNpbmdsZUNvbHMgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIHN1Yl90YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghc3ViX3RhYmxlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIj09PT09c3ViX3RhYmxlPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3ViVGFibGUg5a2X5q61Jyk7XG4gICAgfVxuICAgIHN1bV9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWY1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNS5zdW1Db2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzdW1fY29sKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIj09PT09c3VtX2NvbD09PT09PVwiKTtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1bUNvbCDlrZfmrrUnKTtcbiAgICB9XG4gICAgc29ydF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWY2ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNi5zb3J0Q29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghc29ydF9jb2wpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zb3J0X2NvbD09PT09PVwiKTtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNvcnRDb2wg5a2X5q61Jyk7XG4gICAgfVxuICAgIGlucyA9IHJlcSAhPSBudWxsID8gKHJlZjcgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjcuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgc3ViX3RhYmxlX3ZhbHVlcyA9IGlucy52YWx1ZXNbc3ViX3RhYmxlXTtcbiAgICBpZiAoKHN1Yl90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IHN1Yl90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIGZ1bmN0aW9uIEpzb25Tb3J0KGpzb25BcnIsIGtleSwgYXNjKXtcbiAgICAgICAgICAgICAgICBmb3IodmFyIGo9MSxqbD1qc29uQXJyLmxlbmd0aDtqIDwgamw7aisrKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBqc29uQXJyW2pdLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsICA9IE51bWJlcih0ZW1wW2tleV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaSAgICA9IGotMTtcbiAgICAgICAgICAgICAgICAgICAgaWYoYXNjPT10cnVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPnZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKTx2YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0gdGVtcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb25BcnI7XG4gICAgICAgICAgICB9O1xuICAgICAgbmV3X3RhYmxlX3ZhbHVlcyA9IEpzb25Tb3J0KHN1Yl90YWJsZV92YWx1ZXMsIHN1bV9jb2wsIGZhbHNlKTtcbiAgICAgIGNvbnNvbGUubG9nKFwibmV3X3RhYmxlX3ZhbHVlc1wiLCBuZXdfdGFibGVfdmFsdWVzKTtcbiAgICAgIG5ld190YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICAgIGlmIChzb3J0X2NvbCAmJiBvYmpbc3VtX2NvbF0pIHtcbiAgICAgICAgICByZXR1cm4gb2JqW3NvcnRfY29sXSA9IChpbmRleCArIDEpLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJuZXdfdGFibGVfdmFsdWVzXCIsIG5ld190YWJsZV92YWx1ZXMpO1xuICAgICAgaW5zLnZhbHVlc1tzdWJfdGFibGVdID0gbmV3X3RhYmxlX3ZhbHVlcztcbiAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zLl9pZCwge1xuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgJ3ZhbHVlcyc6IGlucy52YWx1ZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIik7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAnc3VjY2Vzcyc6ICforqHnrpfmjpLluo/miJDlip8nXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICflrZDooajmlbDmja7kuLrnqbonKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW2VdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiaWYgcHJvY2Vzcy5lbnYuQ1JFQVRPUl9OT0RFX0VOViA9PSAnZGV2ZWxvcG1lbnQnXG4gICAgSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL3Rlc3Qvd2ViaG9vaycsIChyZXEsIHJlcywgbmV4dCkgLT5cbiAgICAgICAgdHJ5XG5cbiAgICAgICAgICAgIGhhc2hEYXRhID0gcmVxLmJvZHlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nICdhY3Rpb246ICcsIGhhc2hEYXRhLmFjdGlvblxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ2Zyb21fdXNlcjogJywgaGFzaERhdGEuZnJvbV91c2VyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyAndG9fdXNlcnM6ICcsIGhhc2hEYXRhLnRvX3VzZXJzXG5cblxuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogMjAwXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9XG4gICAgICAgIGNhdGNoIGVcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDBcbiAgICAgICAgICAgICAgICBkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH0iLCJpZiAocHJvY2Vzcy5lbnYuQ1JFQVRPUl9OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICBKc29uUm91dGVzLmFkZCgncG9zdCcsICcvdGVzdC93ZWJob29rJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgZSwgaGFzaERhdGE7XG4gICAgdHJ5IHtcbiAgICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgICBjb25zb2xlLmxvZygnYWN0aW9uOiAnLCBoYXNoRGF0YS5hY3Rpb24pO1xuICAgICAgY29uc29sZS5sb2coJ2Zyb21fdXNlcjogJywgaGFzaERhdGEuZnJvbV91c2VyKTtcbiAgICAgIGNvbnNvbGUubG9nKCd0b191c2VyczogJywgaGFzaERhdGEudG9fdXNlcnMpO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7fVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvdXNlcnNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXG5cdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcblx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXG5cblx0dXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHNcblx0c3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWRcblx0c3BhY2VVc2VycyA9IFtdO1xuXG5cdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiBjdXJyZW50X3VzZXIsIHNwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge19pZDogMX19KVxuXHRpZiAhc3BhY2VfdXNlclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0XHRjb2RlOiAyMDAsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdCdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdGlmICghdXNlcklkcyB8fCAhc3BhY2VJZClcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdH1cblx0XHR9KTtcblx0c3BhY2VVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdHMoc3BhY2VJZCwgdXNlcklkcylcblxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XG5cdFx0Y29kZTogMjAwLFxuXHRcdGRhdGE6IHtcblx0XHRcdCdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xuXHRcdH1cblx0fVxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS91c2Vyc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgc3BhY2VJZCwgc3BhY2VVc2Vycywgc3BhY2VfdXNlciwgdXNlcklkcztcbiAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcztcbiAgc3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWQ7XG4gIHNwYWNlVXNlcnMgPSBbXTtcbiAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgIHVzZXI6IGN1cnJlbnRfdXNlcixcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pO1xuICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+aXoOadg+mZkCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCB1c2VySWRzKTtcbiAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL29yZ3NcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXG5cdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxuXHRvcmdJZHMgPSByZXEuYm9keS5vcmdJZHNcblx0c3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWRcblxuXHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogY3VycmVudF91c2VyLCBzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcblx0aWYgIXNwYWNlX3VzZXJcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+aXoOadg+mZkCdcblx0XHRcdH1cblx0XHR9KTtcblxuXHRpZiAoIW9yZ0lkcyB8fCAhc3BhY2VJZClcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuXHRcdFx0Y29kZTogMjAwLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcblx0XHRcdH1cblx0XHR9KTtcblxuXHRvcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKG9yZ0lkcylcblxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG5cdFx0Y29kZTogMjAwLFxuXHRcdGRhdGE6IHtcblx0XHRcdCdvcmdzJzogb3Jnc1xuXHRcdH1cblx0fSk7XG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL29yZ3NcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIG9yZ0lkcywgb3Jncywgc3BhY2VJZCwgc3BhY2VfdXNlcjtcbiAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICBvcmdJZHMgPSByZXEuYm9keS5vcmdJZHM7XG4gIHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkO1xuICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgdXNlcjogY3VycmVudF91c2VyLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMVxuICAgIH1cbiAgfSk7XG4gIGlmICghc3BhY2VfdXNlcikge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICghb3JnSWRzIHx8ICFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgb3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhT3JnT2JqZWN0cyhvcmdJZHMpO1xuICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnb3Jncyc6IG9yZ3NcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlOiAoaW5zX2lkLCBzdGVwX2FwcHJvdmUsIHN0ZXBzQXBwcm92ZXNPcHRpb25zKS0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc19pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMX19KVxuXG5cdFx0aWYgaW5zLnN0YXRlICE9ICdkcmFmdCdcblx0XHRcdHJldHVybiA7XG5cblx0XHRfa2V5czEgPSBfLmtleXMoc3RlcF9hcHByb3ZlKTtcblx0XHRfa2V5czIgPSBfLmtleXMoc3RlcHNBcHByb3Zlc09wdGlvbnMpO1xuXG5cdFx0a2V5cyA9IF8uY29tcGFjdChfLnVuaW9uKF9rZXlzMSwgX2tleXMyKSk7XG5cblx0XHRzdGVwc0FwcHJvdmVzID0ge307XG5cblx0XHRfLmVhY2gga2V5cywgKHN0ZXBJZCktPlxuXHRcdFx0c3RlcEFwcHJvdmVzID0gc3RlcF9hcHByb3ZlW3N0ZXBJZF1cblx0XHRcdHN0ZXBzQXBwcm92ZU9wdGlvbnMgPSBzdGVwc0FwcHJvdmVzT3B0aW9uc1tzdGVwSWRdXG5cdFx0XHRpZiBzdGVwQXBwcm92ZXNcblx0XHRcdFx0c3RlcHNBcHByb3Zlc1tzdGVwSWRdID0gc3RlcEFwcHJvdmVzXG5cdFx0XHRcdGlmIHN0ZXBzQXBwcm92ZU9wdGlvbnNcblx0XHRcdFx0XHRpZiBfLmlzQXJyYXkoc3RlcEFwcHJvdmVzKVxuXHRcdFx0XHRcdFx0c3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBBcHByb3Zlcy5jb25jYXQoc3RlcHNBcHByb3ZlT3B0aW9ucylcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zLnB1c2goc3RlcEFwcHJvdmVzKVxuXHRcdFx0aWYgc3RlcHNBcHByb3ZlT3B0aW9uc1xuXHRcdFx0XHRzdGVwc0FwcHJvdmVzW3N0ZXBJZCArICdfb3B0aW9ucyddID0gXy51bmlxKHN0ZXBzQXBwcm92ZU9wdGlvbnMpXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7X2lkOiBpbnNfaWR9LCB7JHNldDoge3N0ZXBfYXBwcm92ZTogc3RlcHNBcHByb3Zlc319XG5cdHNldF9pbnN0YW5jZV9za2lwX3N0ZXBzOiAoaW5zX2lkLCBzdGVwSWQsIGFjdGlvbiktPlxuXHRcdGlmIGFjdGlvbiA9PSAncHVsbCdcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUge19pZDogaW5zX2lkfSwgeyRwdWxsOiB7c2tpcF9zdGVwczogc3RlcElkfX1cblx0XHRlbHNlIGlmIGFjdGlvbiA9PSAncHVzaCdcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUge19pZDogaW5zX2lkfSwgeyRwdXNoOiB7c2tpcF9zdGVwczogc3RlcElkfX0iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHNldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmU6IGZ1bmN0aW9uKGluc19pZCwgc3RlcF9hcHByb3ZlLCBzdGVwc0FwcHJvdmVzT3B0aW9ucykge1xuICAgIHZhciBfa2V5czEsIF9rZXlzMiwgaW5zLCBrZXlzLCBzdGVwc0FwcHJvdmVzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zLnN0YXRlICE9PSAnZHJhZnQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9rZXlzMSA9IF8ua2V5cyhzdGVwX2FwcHJvdmUpO1xuICAgIF9rZXlzMiA9IF8ua2V5cyhzdGVwc0FwcHJvdmVzT3B0aW9ucyk7XG4gICAga2V5cyA9IF8uY29tcGFjdChfLnVuaW9uKF9rZXlzMSwgX2tleXMyKSk7XG4gICAgc3RlcHNBcHByb3ZlcyA9IHt9O1xuICAgIF8uZWFjaChrZXlzLCBmdW5jdGlvbihzdGVwSWQpIHtcbiAgICAgIHZhciBzdGVwQXBwcm92ZXMsIHN0ZXBzQXBwcm92ZU9wdGlvbnM7XG4gICAgICBzdGVwQXBwcm92ZXMgPSBzdGVwX2FwcHJvdmVbc3RlcElkXTtcbiAgICAgIHN0ZXBzQXBwcm92ZU9wdGlvbnMgPSBzdGVwc0FwcHJvdmVzT3B0aW9uc1tzdGVwSWRdO1xuICAgICAgaWYgKHN0ZXBBcHByb3Zlcykge1xuICAgICAgICBzdGVwc0FwcHJvdmVzW3N0ZXBJZF0gPSBzdGVwQXBwcm92ZXM7XG4gICAgICAgIGlmIChzdGVwc0FwcHJvdmVPcHRpb25zKSB7XG4gICAgICAgICAgaWYgKF8uaXNBcnJheShzdGVwQXBwcm92ZXMpKSB7XG4gICAgICAgICAgICBzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcEFwcHJvdmVzLmNvbmNhdChzdGVwc0FwcHJvdmVPcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RlcHNBcHByb3ZlT3B0aW9ucy5wdXNoKHN0ZXBBcHByb3Zlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3RlcHNBcHByb3ZlT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gc3RlcHNBcHByb3Zlc1tzdGVwSWQgKyAnX29wdGlvbnMnXSA9IF8udW5pcShzdGVwc0FwcHJvdmVPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgc3RlcF9hcHByb3ZlOiBzdGVwc0FwcHJvdmVzXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHNldF9pbnN0YW5jZV9za2lwX3N0ZXBzOiBmdW5jdGlvbihpbnNfaWQsIHN0ZXBJZCwgYWN0aW9uKSB7XG4gICAgaWYgKGFjdGlvbiA9PT0gJ3B1bGwnKSB7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRwdWxsOiB7XG4gICAgICAgICAgc2tpcF9zdGVwczogc3RlcElkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAncHVzaCcpIHtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHB1c2g6IHtcbiAgICAgICAgICBza2lwX3N0ZXBzOiBzdGVwSWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzKHtcblxuXHRnZXRfaW5zdGFuY2VfZGF0YTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBmb3JtQ2FjaGVkLCBmbG93Q2FjaGVkKSB7XG5cblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcblx0XHRjaGVjayhmb3JtQ2FjaGVkLCBCb29sZWFuKTtcblx0XHRjaGVjayhmbG93Q2FjaGVkLCBCb29sZWFuKTtcblxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcblxuXHRcdGlmICghaW5zdGFuY2UpXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRpbnN0YW5jZTogbnVsbFxuXHRcdFx0fTtcblxuXHRcdGlmIChmb3JtQ2FjaGVkICYmIGZsb3dDYWNoZWQpXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRpbnN0YW5jZTogaW5zdGFuY2Vcblx0XHRcdH07XG5cblx0XHRpZiAoIWZvcm1DYWNoZWQpIHtcblx0XHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcblx0XHRcdHZhciBmb3JtX3ZlcnNpb24gPSB7fTtcblx0XHRcdGlmIChmb3JtLmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZvcm1fdmVyc2lvbikge1xuXHRcdFx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnQ7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Zm9ybV92ZXJzaW9uID0gXy53aGVyZShmb3JtLmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mb3JtX3ZlcnNpb259KVswXTtcblx0XHRcdH1cblx0XHR9XG5cblxuXHRcdGlmICghZmxvd0NhY2hlZCkge1xuXHRcdFx0dmFyIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuXHRcdFx0dmFyIGZsb3dfdmVyc2lvbiA9IHt9O1xuXHRcdFx0aWYgKGZsb3cuY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uKSB7XG5cdFx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudDtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBfLndoZXJlKGZsb3cuaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvbn0pWzBdO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRpbnN0YW5jZTogaW5zdGFuY2UsXG5cdFx0XHRmb3JtX3ZlcnNpb246IGZvcm1fdmVyc2lvbixcblx0XHRcdGZsb3dfdmVyc2lvbjogZmxvd192ZXJzaW9uXG5cdFx0fVxuXG5cdH1cblxufSk7XG4iLCJNZXRlb3IubWV0aG9kcyh7XG5cblx0ZHJhZnRfc2F2ZV9pbnN0YW5jZTogZnVuY3Rpb24gKGlucykge1xuXHRcdGlmICghdGhpcy51c2VySWQpXG5cdFx0XHRyZXR1cm47XG5cdFx0cmV0dXJuIHV1Zmxvd01hbmFnZXIuZHJhZnRfc2F2ZV9pbnN0YW5jZShpbnMsIHRoaXMudXNlcklkKTtcblx0fSxcblxuXHRpbmJveF9zYXZlX2luc3RhbmNlOiBmdW5jdGlvbiAoYXBwcm92ZSkge1xuXHRcdGlmICghdGhpcy51c2VySWQpXG5cdFx0XHRyZXR1cm47XG5cblx0XHR2YXIgc2V0T2JqID0ge307XG5cdFx0dmFyIGluZGV4ID0gMDtcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xuXHRcdHZhciBhcHByb3ZlX2lkID0gYXBwcm92ZS5pZDtcblx0XHR2YXIgdmFsdWVzID0gYXBwcm92ZS52YWx1ZXM7XG5cdFx0dmFyIG5leHRfc3RlcHMgPSBhcHByb3ZlLm5leHRfc3RlcHM7XG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gYXBwcm92ZS5kZXNjcmlwdGlvbjtcblx0XHR2YXIganVkZ2UgPSBhcHByb3ZlLmp1ZGdlO1xuXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxLFxuXHRcdFx0XHRmbG93X3ZlcnNpb246IDEsXG5cdFx0XHRcdGZsb3c6IDEsXG5cdFx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0XHRmb3JtOiAxLFxuXHRcdFx0XHRmb3JtX3ZlcnNpb246IDEsXG5cdFx0XHRcdHZhbHVlczogMSxcblx0XHRcdFx0Y29kZTogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcblxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblx0XHR2YXIgY3VycmVudF9hcHByb3ZlID0gXy5maW5kKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhKSB7XG5cdFx0XHRyZXR1cm4gYS5faWQgPT0gYXBwcm92ZV9pZDtcblx0XHR9KTtcblxuXHRcdC8vIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65a6h5qC45Lit54q25oCBXG5cdFx0dmFyIGN1cnJlbnRfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuXHRcdFx0X2lkOiB0aGlzLnVzZXJJZFxuXHRcdH0sIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRsb2NhbGU6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgbGFuZyA9IGN1cnJlbnRfdXNlci5sb2NhbGUgPT0gJ3poLWNuJyA/ICd6aC1DTicgOiAnZW4nO1xuXHRcdHRyeSB7XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlLCBsYW5nKTtcblx0XHRcdC8vIOWIpOaWreS4gOS4qnRyYWNl5piv5ZCm5Li65pyq5a6M5oiQ54q25oCBXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzVHJhY2VOb3RGaW5pc2hlZChjdXJyZW50X3RyYWNlKTtcblx0XHRcdC8vIOWIpOaWreS4gOS4qmFwcHJvdmXmmK/lkKbkuLrmnKrlrozmiJDnirbmgIFcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNBcHByb3ZlTm90RmluaXNoZWQoY3VycmVudF9hcHByb3ZlKTtcblx0XHRcdC8vIOWIpOaWreW9k+WJjeeUqOaIt+aYr+WQpmFwcHJvdmUg5a+55bqU55qE5aSE55CG5Lq65oiW5Luj55CG5Lq6XG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSGFuZGxlck9yQWdlbnQoY3VycmVudF9hcHByb3ZlLCB0aGlzLnVzZXJJZCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coZS5zdGFjaylcblx0XHRcdHJldHVybiB0cnVlXG5cdFx0fVxuXG5cblx0XHR2YXIgZmxvd192ZXJzaW9uID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuXHRcdHZhciBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHR2YXIgc3RlcF9pZCA9IFwiXCI7XG5cdFx0c3RlcF9pZCA9IGN1cnJlbnRfdHJhY2Uuc3RlcDtcblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdGN1cnJlbnQ6IDEsXG5cdFx0XHRcdGhpc3RvcnlzOiAxXG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIHN0ZXAgPSBudWxsO1xuXHRcdGlmIChmbG93LmN1cnJlbnQuX2lkID09IGZsb3dfdmVyc2lvbikge1xuXHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcblx0XHRcdFx0aWYgKHMuX2lkID09IHN0ZXBfaWQpXG5cdFx0XHRcdFx0c3RlcCA9IHM7XG5cdFx0XHR9KVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmbG93Lmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24gKGgpIHtcblx0XHRcdFx0aC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XG5cdFx0XHRcdFx0aWYgKHMuX2lkID09IHN0ZXBfaWQpXG5cdFx0XHRcdFx0XHRzdGVwID0gcztcblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cdFx0fVxuXG5cdFx0aWYgKCFzdGVwKVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdHZhciBzdGVwX3R5cGUgPSBzdGVwLnN0ZXBfdHlwZTtcblxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XG5cdFx0XHRpZiAoYS5faWQgPT0gYXBwcm92ZV9pZCkge1xuXHRcdFx0XHRpbmRleCA9IGlkeDtcblx0XHRcdH1cblx0XHR9KVxuXG5cdFx0dmFyIGtleV9zdHIgPSAndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy4nO1xuXG5cdFx0dmFyIHBlcm1pc3Npb25zX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhhcHByb3ZlLnZhbHVlcywgc3RlcC5wZXJtaXNzaW9ucywgaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcblxuXHRcdHZhciBjaGFuZ2VfdmFsdWVzID0gYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzKGluc3RhbmNlLnZhbHVlcywgcGVybWlzc2lvbnNfdmFsdWVzKTtcblxuXHRcdHNldE9iai52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zdGFuY2UudmFsdWVzIHx8IHt9KSwgcGVybWlzc2lvbnNfdmFsdWVzKTtcblxuXHRcdGlmICghXy5pc0VtcHR5KGNoYW5nZV92YWx1ZXMpKSB7XG5cblx0XHRcdHZhbHVlc19oaXN0b3J5ID0gY3VycmVudF9hcHByb3ZlLnZhbHVlc19oaXN0b3J5IHx8IFtdXG5cblx0XHRcdHZhbHVlc19oaXN0b3J5LnB1c2goe1xuXHRcdFx0XHR2YWx1ZXM6IGNoYW5nZV92YWx1ZXMsXG5cdFx0XHRcdGNyZWF0ZTogbmV3IERhdGUoKVxuXHRcdFx0fSlcblxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzX2hpc3RvcnknXSA9IHZhbHVlc19oaXN0b3J5XG5cdFx0fVxuXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnaXNfcmVhZCddID0gdHJ1ZTtcblx0XHRzZXRPYmpba2V5X3N0ciArICdyZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzJ10gPSBzZXRPYmoudmFsdWVzO1xuXHRcdHNldE9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcblx0XHRzZXRPYmpba2V5X3N0ciArICduZXh0X3N0ZXBzJ10gPSBuZXh0X3N0ZXBzO1xuXHRcdGlmIChzdGVwX3R5cGUgPT0gXCJzdWJtaXRcIiB8fCBzdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnanVkZ2UnXSA9IGp1ZGdlO1xuXHRcdH1cblxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG5cdFx0dmFyIGZvcm1fdiA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybV92Lm5hbWVfZm9ydW1sYTtcblx0XHRpZiAobmFtZV9mb3J1bWxhKSB7XG5cdFx0XHRzZXRPYmoubmFtZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VOYW1lKGluc3RhbmNlLCBzZXRPYmoudmFsdWVzKTtcblx0XHR9XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXG5cdFx0fSwge1xuXHRcdFx0JHNldDogc2V0T2JqXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxufSkiLCJNZXRlb3IubWV0aG9kcyh7XG5cdGNjX2RvOiBmdW5jdGlvbiAoYXBwcm92ZSwgY2NfdXNlcl9pZHMsIGRlc2NyaXB0aW9uKSB7XG5cblx0XHR2YXIgc2V0T2JqID0ge307XG5cdFx0dmFyIGluc19pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XG5cdFx0dmFyIHRyYWNlX2lkID0gYXBwcm92ZS50cmFjZTtcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGFwcHJvdmUuX2lkO1xuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0XHR0cmFjZXM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHR2YWx1ZXM6IDFcblx0XHRcdH1cblx0XHR9KTtcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG5cdFx0dmFyIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG5cdFx0dmFyIG5ld19hcHByb3ZlcyA9IFtdO1xuXG5cdFx0dmFyIGZyb21fdXNlcl9uYW1lID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQsIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRuYW1lOiAxXG5cdFx0XHR9XG5cdFx0fSkubmFtZVxuXG5cdFx0Y2NfdXNlcl9pZHMuZm9yRWFjaChmdW5jdGlvbiAodXNlcklkLCBpZHgpIHtcblx0XHRcdHZhciB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VySWQsIHtcblx0XHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcblx0XHRcdFx0dXNlcjogdXNlcklkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdHZhciBvcmdfaWQgPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcblx0XHRcdHZhciBvcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUob3JnX2lkLCB7XG5cdFx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0ZnVsbG5hbWU6IDFcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VySWQpO1xuXHRcdFx0dmFyIGhhbmRsZXJfaWQgPSB1c2VySWQ7XG5cdFx0XHR2YXIgaGFuZGxlcl9pbmZvID0gdXNlcjtcblx0XHRcdHZhciBoYW5kbGVyX3NwYWNlX3VzZXIgPSBzcGFjZV91c2VyO1xuXHRcdFx0dmFyIGhhbmRsZXJfb3JnX2luZm8gPSBvcmdhbml6YXRpb247XG5cdFx0XHRpZiAoYWdlbnQpIHtcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50O1xuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGFnZW50LCB7XG5cdFx0XHRcdFx0ZmlsZWRzOiB7XG5cdFx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0aGFuZGxlcl9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGFnZW50KTtcblx0XHRcdFx0aGFuZGxlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhoYW5kbGVyX3NwYWNlX3VzZXIpO1xuXHRcdFx0XHRjY191c2VyX2lkc1tpZHhdID0gYWdlbnQ7XG5cdFx0XHR9XG5cdFx0XHR2YXIgYXBwciA9IHtcblx0XHRcdFx0J19pZCc6IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHIsXG5cdFx0XHRcdCdpbnN0YW5jZSc6IGluc19pZCxcblx0XHRcdFx0J3RyYWNlJzogdHJhY2VfaWQsXG5cdFx0XHRcdCdpc19maW5pc2hlZCc6IGZhbHNlLFxuXHRcdFx0XHQndXNlcic6IHVzZXJJZCxcblx0XHRcdFx0J3VzZXJfbmFtZSc6IHVzZXIubmFtZSxcblx0XHRcdFx0J2hhbmRsZXInOiBoYW5kbGVyX2lkLFxuXHRcdFx0XHQnaGFuZGxlcl9uYW1lJzogaGFuZGxlcl9pbmZvLm5hbWUsXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbic6IGhhbmRsZXJfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lJzogaGFuZGxlcl9vcmdfaW5mby5uYW1lLFxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUnOiBoYW5kbGVyX29yZ19pbmZvLmZ1bGxuYW1lLFxuXHRcdFx0XHQndHlwZSc6ICdjYycsXG5cdFx0XHRcdCdzdGFydF9kYXRlJzogbmV3IERhdGUoKSxcblx0XHRcdFx0J2lzX3JlYWQnOiBmYWxzZSxcblx0XHRcdFx0J2Zyb21fdXNlcic6IGN1cnJlbnRfdXNlcl9pZCxcblx0XHRcdFx0J2Zyb21fdXNlcl9uYW1lJzogZnJvbV91c2VyX25hbWUsXG5cdFx0XHRcdCdvcGluaW9uX2ZpZWxkc19jb2RlJzogYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLFxuXHRcdFx0XHQnc2lnbl9maWVsZF9jb2RlJzogKGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSAmJiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUubGVuZ3RoID09IDEpID8gYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlWzBdIDogXCJcIixcblx0XHRcdFx0J2Zyb21fYXBwcm92ZV9pZCc6IGFwcHJvdmVfaWQsXG5cdFx0XHRcdCdjY19kZXNjcmlwdGlvbic6IGRlc2NyaXB0aW9uXG5cdFx0XHR9O1xuXHRcdFx0aWYgKGFnZW50KSB7XG5cdFx0XHRcdGFwcHIuYWdlbnQgPSBhZ2VudDtcblx0XHRcdH1cblx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIGFwcHIpXG5cdFx0XHRuZXdfYXBwcm92ZXMucHVzaChhcHByKTtcblx0XHR9KVxuXG5cblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmosXG5cdFx0XHQkYWRkVG9TZXQ6IHtcblx0XHRcdFx0J3RyYWNlcy4kLmFwcHJvdmVzJzoge1xuXHRcdFx0XHRcdCRlYWNoOiBuZXdfYXBwcm92ZXNcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdCRwdXNoOiB7XG5cdFx0XHRcdGNjX3VzZXJzOiB7XG5cdFx0XHRcdFx0JGVhY2g6IGNjX3VzZXJfaWRzXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkKTtcblx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInRyYWNlX2FwcHJvdmVfY2NcIiwgaW5zdGFuY2UsIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvLCBjY191c2VyX2lkcyk7XG5cblx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHRhcHByb3ZlLmNjX3VzZXJfaWRzID0gY2NfdXNlcl9pZHM7IC8vIOiusOW9leS4i+acrOasoeS8oOmYheeahOS6uuWRmElE5L2c5Li6aG9va+aOpeWPo+S4reeahOWPguaVsFxuXHRcdC8vIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgYXBwcm92ZSwgJ2NjX2RvJywgY3VycmVudF91c2VyX2lkLCBjY191c2VyX2lkcylcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19yZWFkOiBmdW5jdGlvbiAoYXBwcm92ZSkge1xuXHRcdHZhciBzZXRPYmogPSB7fTtcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHRyYWNlczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XG5cdFx0fSlcblxuXHRcdHZhciBpbmRleCA9IDA7XG5cblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0aWYgKGEudHlwZSA9PSAnY2MnICYmIGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgIWEuaXNfcmVhZCkge1xuXHRcdFx0XHRpbmRleCA9IGlkeDtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cblx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzO1xuXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcblx0XHR9LCB7XG5cdFx0XHQkc2V0OiBzZXRPYmpcblx0XHR9KTtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19zdWJtaXQ6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uLCBteUFwcHJvdmUsIGNjSGFzRWRpdFBlcm1pc3Npb24pIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuXG5cdFx0dmFyIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG5cdFx0dmFyIHZhbHVlcyA9IG15QXBwcm92ZS52YWx1ZXMgfHwge307XG5cblx0XHR2YXIgYXBwcm92ZV9pZCA9IG15QXBwcm92ZS5faWQ7XG5cblx0XHR2YXIgbXlUcmFjZTtcblxuXHRcdGZvciAobGV0IHRpZHggPSAwOyB0aWR4IDwgdHJhY2VzLmxlbmd0aDsgdGlkeCsrKSB7XG5cdFx0XHRjb25zdCB0ID0gdHJhY2VzW3RpZHhdO1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0Zm9yIChsZXQgYWlkeCA9IDA7IGFpZHggPCB0LmFwcHJvdmVzLmxlbmd0aDsgYWlkeCsrKSB7XG5cdFx0XHRcdFx0Y29uc3QgYSA9IHQuYXBwcm92ZXNbYWlkeF07XG5cdFx0XHRcdFx0aWYgKGEudHlwZSA9PSAnY2MnICYmIGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0dmFyIHVwb2JqID0ge307XG5cdFx0XHRcdFx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgYWlkeCArICcuJztcblx0XHRcdFx0XHRcdHVwb2JqW2tleV9zdHIgKyAnaXNfZmluaXNoZWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHR1cG9ialtrZXlfc3RyICsgJ2lzX3JlYWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHR1cG9ialtrZXlfc3RyICsgJ2ZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRcdFx0dXBvYmpba2V5X3N0ciArICdqdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcblx0XHRcdFx0XHRcdHVwb2JqW2tleV9zdHIgKyAnY29zdF90aW1lJ10gPSBuZXcgRGF0ZSgpIC0gYS5zdGFydF9kYXRlO1xuXHRcdFx0XHRcdFx0aWYgKGFwcHJvdmVfaWQgPT0gYS5faWQgJiYgIXQuaXNfZmluaXNoZWQgJiYgY2NIYXNFZGl0UGVybWlzc2lvbikge1xuXHRcdFx0XHRcdFx0XHRteVRyYWNlID0gdDtcblx0XHRcdFx0XHRcdFx0dmFyIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHQuc3RlcCk7XG5cdFx0XHRcdFx0XHRcdHVwb2JqW2tleV9zdHIgKyBcInZhbHVlc1wiXSA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyh2YWx1ZXMsIHN0ZXBbXCJwZXJtaXNzaW9uc1wiXSwgaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Ly/orr7nva7mhI/op4HvvIzmhI/op4Hlj6rmt7vliqDliLDmnIDlkI7kuIDmnaFhcHByb3Zl5LitXG5cdFx0XHRcdFx0XHRpZiAoYXBwcm92ZV9pZCA9PSBhLl9pZCkge1xuXHRcdFx0XHRcdFx0XHR1cG9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0XHRcdFx0J3RyYWNlcy5faWQnOiB0Ll9pZFxuXHRcdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0XHQkc2V0OiB1cG9ialxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblxuXHRcdGlmIChteUFwcHJvdmUpIHtcblxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0XHRpZiAoY2NIYXNFZGl0UGVybWlzc2lvbiAmJiBteUFwcHJvdmUgJiYgIW15VHJhY2UuaXNfZmluaXNoZWQpIHtcblx0XHRcdFx0dmFyIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcblx0XHRcdFx0dmFyIHVwZGF0ZWRfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGlucywgYXBwcm92ZV9pZCk7XG5cdFx0XHRcdHNldE9iai52YWx1ZXMgPSB1cGRhdGVkX3ZhbHVlcztcblx0XHRcdFx0c2V0T2JqLm5hbWUgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlTmFtZShpbnN0YW5jZSk7XG5cdFx0XHR9XG5cblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRfaWQ6IGluc19pZCxcblx0XHRcdFx0J3RyYWNlcy5faWQnOiBteUFwcHJvdmUudHJhY2Vcblx0XHRcdH0sIHtcblx0XHRcdFx0JHNldDogc2V0T2JqLFxuXHRcdFx0XHQkcHVsbDoge1xuXHRcdFx0XHRcdGNjX3VzZXJzOiBjdXJyZW50X3VzZXJfaWRcblx0XHRcdFx0fSxcblx0XHRcdFx0JGFkZFRvU2V0OiB7XG5cdFx0XHRcdFx0b3V0Ym94X3VzZXJzOiB7XG5cdFx0XHRcdFx0XHQkZWFjaDogW2N1cnJlbnRfdXNlcl9pZCwgbXlBcHByb3ZlLnVzZXJdXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkKTtcblx0XHRcdC8v5Lyg6ZiF5o+Q5Lqk5LiN6YCa55+l5Lyg6ZiF6ICFXG5cdFx0XHRpZiAoZmFsc2UgJiYgZGVzY3JpcHRpb24gJiYgbXlBcHByb3ZlICYmIG15QXBwcm92ZS5mcm9tX3VzZXIpIHtcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJ0cmFjZV9hcHByb3ZlX2NjX3N1Ym1pdFwiLCBpbnN0YW5jZSwgXCJcIiwgY3VycmVudF91c2VyX2luZm8sIFtteUFwcHJvdmUuZnJvbV91c2VyXSk7XG5cdFx0XHR9XG5cblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXJfaWQpO1xuXG5cdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcblx0XHRcdC8vIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5Fcblx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBteUFwcHJvdmUsICdjY19zdWJtaXQnLCBjdXJyZW50X3VzZXJfaWQsIFtdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSxcblxuXHRjY19yZW1vdmU6IGZ1bmN0aW9uIChpbnN0YW5jZUlkLCBhcHByb3ZlSWQpIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLCB7XG5cdFx0XHRmaWVsZHM6IHtcblx0XHRcdFx0dHJhY2VzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG5cdFx0dmFyIHRyYWNlX2lkLCByZW1vdmVfdXNlcl9pZCwgbXVsdGkgPSBmYWxzZTtcblxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlSWQpIHtcblx0XHRcdFx0XHRcdHRyYWNlX2lkID0gYS50cmFjZTtcblx0XHRcdFx0XHRcdHJlbW92ZV91c2VyX2lkID0gYS5oYW5kbGVyO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gJ3Rlcm1pbmF0ZWQnO1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRpZiAoIXRyYWNlX2lkIHx8ICFyZW1vdmVfdXNlcl9pZClcblx0XHRcdHJldHVybjtcblxuXHRcdHZhciBtdWx0aSA9IDA7XG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xuXHRcdFx0XHRcdGlmIChhLmhhbmRsZXIgPT0gcmVtb3ZlX3VzZXJfaWQgJiYgYS50eXBlID09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0bXVsdGkrKztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuXG5cdFx0aWYgKG11bHRpID4gMSkge1xuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG5cdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxuXHRcdFx0fSwge1xuXHRcdFx0XHQkc2V0OiBzZXRPYmpcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXG5cdFx0XHR9LCB7XG5cdFx0XHRcdCRzZXQ6IHNldE9iaixcblx0XHRcdFx0JHB1bGw6IHtcblx0XHRcdFx0XHRjY191c2VyczogcmVtb3ZlX3VzZXJfaWRcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cblx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgcmVtb3ZlX3VzZXJfaWQpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9LFxuXG5cdGNjX3NhdmU6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uLCBteUFwcHJvdmUsIGNjSGFzRWRpdFBlcm1pc3Npb24pIHtcblx0XHR2YXIgc2V0T2JqID0ge307XG5cblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xuXG5cdFx0dmFyIG15VHJhY2U7XG5cblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcblx0XHRcdFx0XHRpZiAoYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiBhLnR5cGUgPT0gJ2NjJyAmJiBhLmlzX2ZpbmlzaGVkID09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHR2YXIgdXBvYmogPSB7fTtcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0X2lkOiBpbnNfaWQsXG5cdFx0XHRcdFx0XHRcdCd0cmFjZXMuX2lkJzogdC5faWRcblx0XHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdFx0JHNldDogdXBvYmpcblx0XHRcdFx0XHRcdH0pXG5cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHR2YXIgaW5kZXggPSAwO1xuXHRcdHZhciBjdXJyZW50U3RlcElkO1xuXG5cdFx0Ly/orr7nva7mhI/op4HvvIzmhI/op4Hlj6rmt7vliqDliLDmnIDlkI7kuIDmnaFhcHByb3Zl5LitXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcblx0XHRcdGlmIChteUFwcHJvdmUgJiYgdC5faWQgPT09IG15QXBwcm92ZS50cmFjZSkge1xuXHRcdFx0XHRjdXJyZW50U3RlcElkID0gdC5zdGVwO1xuXHRcdFx0XHRteVRyYWNlID0gdDtcblx0XHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdFx0aWYgKGEuX2lkID09PSBteUFwcHJvdmUuX2lkKSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gaWR4O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xuXG5cdFx0dmFyIHVwZGF0ZU9iaiA9IHt9O1xuXG5cdFx0aWYgKGNjSGFzRWRpdFBlcm1pc3Npb24gJiYgbXlBcHByb3ZlICYmICFteVRyYWNlLmlzX2ZpbmlzaGVkKSB7XG5cblx0XHRcdHZhciBrZXlfc3RyID0gJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuJztcblxuXHRcdFx0dmFyIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG5cblx0XHRcdHZhciBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50U3RlcElkKTtcblxuXHRcdFx0dmFyIHBlcm1pc3Npb25zX3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0QXBwcm92ZVZhbHVlcyhteUFwcHJvdmUudmFsdWVzLCBzdGVwLnBlcm1pc3Npb25zLCBpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuXG5cdFx0XHR2YXIgY2hhbmdlX3ZhbHVlcyA9IGFwcHJvdmVNYW5hZ2VyLmdldENoYW5nZVZhbHVlcyhpbnN0YW5jZS52YWx1ZXMsIHBlcm1pc3Npb25zX3ZhbHVlcyk7XG5cblx0XHRcdHNldE9iai52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zdGFuY2UudmFsdWVzIHx8IHt9KSwgcGVybWlzc2lvbnNfdmFsdWVzKTtcblxuXHRcdFx0aWYgKCFfLmlzRW1wdHkoY2hhbmdlX3ZhbHVlcykpIHtcblx0XHRcdFx0dmFyIHB1c2hPYmogPSB7fTtcblx0XHRcdFx0cHVzaE9ialtrZXlfc3RyICsgJ3ZhbHVlc19oaXN0b3J5J10gPSB7XG5cdFx0XHRcdFx0dmFsdWVzOiBjaGFuZ2VfdmFsdWVzLFxuXHRcdFx0XHRcdGNyZWF0ZTogbmV3IERhdGUoKVxuXHRcdFx0XHR9XG5cdFx0XHRcdHVwZGF0ZU9iai4kcHVzaCA9IHB1c2hPYmo7XG5cdFx0XHR9XG5cblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zdGFuY2UpXG5cdFx0fVxuXG5cdFx0dXBkYXRlT2JqLiRzZXQgPSBzZXRPYmo7XG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdF9pZDogaW5zX2lkLFxuXHRcdFx0J3RyYWNlcy5faWQnOiBteUFwcHJvdmUudHJhY2Vcblx0XHR9LCB1cGRhdGVPYmopO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn0pIiwiTWV0ZW9yLm1ldGhvZHMoe1xuXHQvLyDmlLnkuLrpgJrov4dhcGnosIPnlKhcblx0Zm9yd2FyZF9pbnN0YW5jZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBzcGFjZV9pZCwgZmxvd19pZCwgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBkZXNjcmlwdGlvbiwgaXNGb3J3YXJkQXR0YWNobWVudHMsIHNlbGVjdGVkVXNlcnMsIGFjdGlvbl90eXBlLCByZWxhdGVkLCBmcm9tX2FwcHJvdmVfaWQpIHtcblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm90LWF1dGhvcml6ZWQnKTtcblxuXHRcdHJldHVybjtcblx0fSxcblxuXG5cdGZvcndhcmRfcmVtb3ZlOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIHRyYWNlX2lkLCBhcHByb3ZlX2lkKSB7XG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XG5cdFx0Y2hlY2soYXBwcm92ZV9pZCwgU3RyaW5nKTtcblxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG5cblx0XHRpZiAoIWlucykge1xuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKTtcblx0XHR9XG5cblx0XHR2YXIgdHJhY2UgPSBfLmZpbmQoaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcblx0XHR9KTtcblxuXHRcdHZhciBhcHByb3ZlID0gXy5maW5kKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYXBwcikge1xuXHRcdFx0cmV0dXJuIGFwcHIuX2lkID09IGFwcHJvdmVfaWQ7XG5cdFx0fSlcblxuXHRcdHZhciBoYXNBZG1pblBlcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCB0aGlzLnVzZXJJZClcblxuXHRcdGlmICghYXBwcm92ZSB8fCAhWydmb3J3YXJkJywgJ2Rpc3RyaWJ1dGUnXS5pbmNsdWRlcyhhcHByb3ZlLnR5cGUpIHx8ICFhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKSB7XG5cdFx0XHRcdGlmIChhcHByb3ZlLmZyb21fdXNlciAhPSB0aGlzLnVzZXJJZClcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCAnaW5zdGFuY2VfZm9yd2FyZF9jYW5ub3RfY2FuY2VsJyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2VfaWQgPSBhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2U7XG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKTtcblx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZSkge1xuXHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XG5cdFx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsICdpbnN0YW5jZV9mb3J3YXJkX2luc3RhbmNlX3N0YXRlX2NoYW5nZWQnKTtcblx0XHRcdH1cblx0XHRcdHZhciBpbmJveF91c2VycyA9IGZvcndhcmRfaW5zdGFuY2UuaW5ib3hfdXNlcnMgfHwgW107XG5cblx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWRfYnkgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSk7XG5cdFx0XHRpZiAoZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkKSB7XG5cdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xuXHRcdFx0XHRcdF9pZDogZm9yd2FyZF9pbnN0YW5jZV9pZFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHQvLyDliKDpmaTnlLPor7fljZXlkI7ph43mlrDorqHnrpdpbmJveF91c2Vyc+eahGJhZGdlXG5cdFx0XHRcdF8uZWFjaChpbmJveF91c2VycywgZnVuY3Rpb24gKHVfaWQpIHtcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZCk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuXHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcblxuXHRcdF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGFwcHIsIGlkeCkge1xuXHRcdFx0aWYgKGFwcHIuX2lkID09IGFwcHJvdmVfaWQpIHtcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJztcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcblx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZV9pZFxuXHRcdH0sIHtcblx0XHRcdCRzZXQ6IHNldF9vYmpcblx0XHR9KVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0sXG5cblx0Y2FuY2VsRGlzdHJpYnV0ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBhcHByb3ZlX2lkcykge1xuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpXG5cdFx0Y2hlY2soYXBwcm92ZV9pZHMsIEFycmF5KVxuXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKVxuXG5cdFx0aWYgKCFpbnMpIHtcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJylcblx0XHR9XG5cblx0XHR1c2VySWQgPSB0aGlzLnVzZXJJZFxuXG5cdFx0dmFyIGhhc0FkbWluUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIHVzZXJJZClcblxuXHRcdF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcblx0XHRcdFx0dmFyIGV4aXN0cyA9IGZhbHNlXG5cdFx0XHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdFxuXHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEsIGlkeCkge1xuXHRcdFx0XHRcdGlmIChhcHByb3ZlX2lkcy5pbmNsdWRlcyhhLl9pZCkgJiYgKGEuZnJvbV91c2VyID09IHVzZXJJZCB8fCBoYXNBZG1pblBlcm1pc3Npb24pICYmICdkaXN0cmlidXRlJyA9PSBhLnR5cGUgJiYgYS5mb3J3YXJkX2luc3RhbmNlKSB7XG5cdFx0XHRcdFx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGEuZm9yd2FyZF9pbnN0YW5jZVxuXHRcdFx0XHRcdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKVxuXHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dmFyIGluYm94X3VzZXJzID0gZm9yd2FyZF9pbnN0YW5jZS5pbmJveF91c2VycyB8fCBbXVxuXG5cdFx0XHRcdFx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKClcblx0XHRcdFx0XHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkX2J5ID0gdXNlcklkXG5cdFx0XHRcdFx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSlcblx0XHRcdFx0XHRcdFx0aWYgKGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCkge1xuXHRcdFx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0X2lkOiBmb3J3YXJkX2luc3RhbmNlX2lkXG5cdFx0XHRcdFx0XHRcdFx0fSlcblxuXHRcdFx0XHRcdFx0XHRcdC8vIOWIoOmZpOeUs+ivt+WNleWQjumHjeaWsOiuoeeul2luYm94X3VzZXJz55qEYmFkZ2Vcblx0XHRcdFx0XHRcdFx0XHRfLmVhY2goaW5ib3hfdXNlcnMsIGZ1bmN0aW9uICh1X2lkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZClcblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJ1xuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRleGlzdHMgPSB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXG5cdFx0XHRcdGlmICghZXhpc3RzKVxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB1c2VySWRcblxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0Ll9pZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogc2V0X29ialxuXHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH0pXG5cblx0XHRyZXR1cm4gdHJ1ZVxuXHR9XG5cblxufSkiLCJNZXRlb3IubWV0aG9kcyh7XG4gICAgY2ZzX2luc3RhbmNlc19yZW1vdmU6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XG4gICAgICAgIGNoZWNrKGZpbGVfaWQsIFN0cmluZyk7XG4gICAgICAgIGNmcy5pbnN0YW5jZXMucmVtb3ZlKGZpbGVfaWQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgY2ZzX2luc3RhbmNlc19zZXRfY3VycmVudDogZnVuY3Rpb24gKGZpbGVfaWQpIHtcbiAgICAgICAgY2hlY2soZmlsZV9pZCwgU3RyaW5nKTtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBjZnNfaW5zdGFuY2VzX2xvY2s6IGZ1bmN0aW9uIChmaWxlX2lkLCB1c2VyX2lkLCB1c2VyX25hbWUpIHtcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5JzogdXNlcl9pZCxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5X25hbWUnOiB1c2VyX25hbWUsXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF90aW1lJzogbmV3IERhdGUoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcblxuICAgIGNmc19pbnN0YW5jZXNfdW5sb2NrOiBmdW5jdGlvbiAoZmlsZV9pZCkge1xuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieSc6ICcnLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSc6ICcnLFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfdGltZSc6ICcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogZnVuY3Rpb24gKHNwYWNlSWQsIGNmc1JlY29yZElkcykge1xuICAgICAgICBpZiAoIXRoaXMudXNlcklkKVxuICAgICAgICAgICAgcmV0dXJuIFwi5LiN56ym5ZCI5omn6KGM5p2h5Lu2XCJcblxuICAgICAgICBpZiAoTWV0ZW9yLnVzZXJzLmZpbmQoe1xuICAgICAgICAgICAgICAgIF9pZDogdGhpcy51c2VySWQsXG4gICAgICAgICAgICAgICAgaXNfY2xvdWRhZG1pbjogdHJ1ZVxuICAgICAgICAgICAgfSkuY291bnQoKSA8IDEpXG4gICAgICAgICAgICByZXR1cm4gXCLkuI3nrKblkIjmiafooYzmnaHku7ZcIlxuXG4gICAgICAgIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG5cbiAgICAgICAgdmFyIHN0b3JlID0gXCJpbnN0YW5jZXNcIjtcbiAgICAgICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICAgICAgdmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4gICAgICAgIHZhciBta2RpcnAgPSByZXF1aXJlKCdta2RpcnAnKTtcbiAgICAgICAgdmFyIHBhdGhuYW1lID0gcGF0aC5qb2luKF9fbWV0ZW9yX2Jvb3RzdHJhcF9fLnNlcnZlckRpciwgJy4uLy4uLy4uL2Nmcy9zcGFjZUluc3RhbmNlQXR0YWNobWVudHMnKTtcbiAgICAgICAgLy8gU2V0IGFic29sdXRlIHBhdGhcbiAgICAgICAgdmFyIGFic29sdXRlUGF0aCA9IHBhdGgucmVzb2x2ZShwYXRobmFtZSk7XG4gICAgICAgIC8vIEVuc3VyZSB0aGUgcGF0aCBleGlzdHNcbiAgICAgICAgbWtkaXJwLnN5bmMoYWJzb2x1dGVQYXRoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ2Fic29sdXRlUGF0aDogJywgYWJzb2x1dGVQYXRoKTtcbiAgICAgICAgY29uc29sZS50aW1lKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrJyk7XG4gICAgICAgIHZhciBxdWVyeSA9IHtcbiAgICAgICAgICAgICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWRcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2ZzUmVjb3JkSWRzKSB7XG4gICAgICAgICAgICBxdWVyeS5faWQgPSB7XG4gICAgICAgICAgICAgICAgJGluOiBjZnNSZWNvcmRJZHNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzID0gW107XG4gICAgICAgIGNmcy5pbnN0YW5jZXMuZmluZChxdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSBzdG9yZSArICctJyArIGMuX2lkICsgJy0nICsgYy5uYW1lKCk7XG4gICAgICAgICAgICAgICAgdmFyIGZpbGVQYXRoID0gcGF0aC5qb2luKGFic29sdXRlUGF0aCwgZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgIE1ldGVvci53cmFwQXN5bmMoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3JpdGVyID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZmlsZVBhdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLm9uKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IGMuY3JlYXRlUmVhZFN0cmVhbShzdG9yZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMucHVzaChjLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5waXBlKHdyaXRlcik7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiAnLCBjLl9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkoKVxuXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChkb3dubG9hZEZhaWxlZFJlY29yZElkcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZEZhaWxlZFJlY29yZElkczogJyk7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgnZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzaycpO1xuXG4gICAgICAgIHJldHVybiBkb3dubG9hZEZhaWxlZFJlY29yZElkcztcbiAgICB9XG59KSIsIk1ldGVvci5tZXRob2RzXG5cdHNldF9hcHByb3ZlX2hhdmVfcmVhZDogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkgLT5cblx0XHRpZiAhdGhpcy51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0c2VsZiA9IHRoaXNcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXG5cdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxuXHRcdFx0c2V0T2JqID0ge1xuXHRcdFx0XHRtb2RpZmllZDogbmV3IERhdGUsXG5cdFx0XHRcdG1vZGlmaWVkX2J5OiBzZWxmLnVzZXJJZFxuXHRcdFx0fVxuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWQgJiYgIWFwcHJvdmUuaXNfcmVhZFxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5pc19yZWFkXCJdID0gdHJ1ZVxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHR9KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHRjaGFuZ2VfYXBwcm92ZV9pbmZvOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBkZXNjcmlwdGlvbiwgZmluaXNoX2RhdGUpIC0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblx0XHRjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2sodHJhY2VJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKVxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpXG5cdFx0Y2hlY2soZmluaXNoX2RhdGUsIERhdGUpXG5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXG5cdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cblx0XHRcdHNldE9iaiA9IHt9XG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGVcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uY29zdF90aW1lXCJdID0gbmV3IERhdGUoKSAtIGFwcHJvdmUuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHR9KVxuXHRcdFx0cmV0dXJuIHRydWVcblxuXHR1cGRhdGVfYXBwcm92ZV9zaWduOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSktPlxuXHRcdGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZylcblx0XHRjaGVjayh0cmFjZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpXG5cdFx0Y2hlY2soc2lnbl9maWVsZF9jb2RlLCBTdHJpbmcpXG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZylcblxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHR0cmltRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi50cmltKClcblxuXHRcdHNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbiA9IE1ldGVvci5zZXR0aW5ncy5wdWJsaWMud29ya2Zsb3c/LnNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvblxuXG5cdFx0c2Vzc2lvbl91c2VySWQgPSB0aGlzLnVzZXJJZFxuXG5cdFx0aWYgbGFzdFNpZ25BcHByb3ZlXG5cdFx0XHRpZiBNZXRlb3Iuc2V0dGluZ3MucHVibGljLndvcmtmbG93Py5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24gIT0gZmFsc2Vcblx0XHRcdFx0aWYgbGFzdFNpZ25BcHByb3ZlLmN1c3RvbV9zaWduX3Nob3dcblx0XHRcdFx0XHRyZXR1cm5cblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXG5cblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXG5cblx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXG5cdFx0XHR1cE9iaiA9IHt9XG5cdFx0XHRjdXJyZW50QXBwcm92ZURlc2NyaXB0aW9uID0gJydcblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkXG5cdFx0XHRcdFx0Y3VycmVudEFwcHJvdmVEZXNjcmlwdGlvbiA9IGFwcHJvdmUuZGVzY3JpcHRpb25cblx0XHRcdFx0XHRpZiBzaWduX2ZpZWxkX2NvZGVcblx0XHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fZmllbGRfY29kZVwiXSA9IHNpZ25fZmllbGRfY29kZVxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb25cblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX3Nob3dcIl0gPSBpZiB0cmltRGVzY3JpcHRpb24gfHwgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uIHRoZW4gdHJ1ZSBlbHNlIGZhbHNlXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRcIl0gPSBuZXcgRGF0ZSgpXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZFxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0aWYgTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy53b3JrZmxvdz8ua2VlcExhc3RTaWduQXBwcm92ZURlc2NyaXB0aW9uID09IGZhbHNlICYmICghIWN1cnJlbnRBcHByb3ZlRGVzY3JpcHRpb24gIT0gISF0cmltRGVzY3JpcHRpb24gfHwgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uKVxuXHRcdFx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlc1wiOiAxIH0gfSlcblx0XHRcdFx0dHJhY2VzID0gaW5zLnRyYWNlc1xuXHRcdFx0XHRjdXJyZW50VHJhY2UgPSBfLmZpbmQgdHJhY2VzLCAodCkgLT5cblx0XHRcdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VJZFxuXHRcdFx0XHRjdXJyZW50U3RlcCA9IGN1cnJlbnRUcmFjZS5zdGVwXG5cdFx0XHRcdHRyYWNlcy5mb3JFYWNoICh0LCB0SWR4KSAtPlxuXHRcdFx0XHRcdGlmIHQuc3RlcCA9PSBjdXJyZW50U3RlcFxuXHRcdFx0XHRcdFx0dD8uYXBwcm92ZXMuZm9yRWFjaCAoYXBwciwgYUlkeCkgLT5cblx0XHRcdFx0XHRcdFx0aWYgYXBwci5oYW5kbGVyID09IHNlc3Npb25fdXNlcklkICYmIGFwcHIuaXNfZmluaXNoZWQgJiYgYXBwci5faWQgIT0gYXBwcm92ZUlkICYmICFfLmhhcyhhcHByLCAnY3VzdG9tX3NpZ25fc2hvdycpXG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRyaW1EZXNjcmlwdGlvbiAmJiBhcHByLnNpZ25fc2hvdyA9PSB0cnVlICYmIChzaWduX2ZpZWxkX2NvZGUgPT0gXCJcIiB8fCAhYXBwci5zaWduX2ZpZWxkX2NvZGUgfHwgc2lnbl9maWVsZF9jb2RlID09IGFwcHIuc2lnbl9maWVsZF9jb2RlKSkgfHwgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uXG5cdFx0XHRcdFx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4je3RJZHh9LmFwcHJvdmVzLiN7YUlkeH0uc2lnbl9zaG93XCJdID0gZmFsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiN7dElkeH0uYXBwcm92ZXMuI3thSWR4fS5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb25cIl0gPSBhcHByb3ZlSWRcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIGFwcHIua2VlcExhc3RTaWduQXBwcm92ZURlc2NyaXB0aW9uID09IGFwcHJvdmVJZFxuXHRcdFx0XHRcdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuI3t0SWR4fS5hcHByb3Zlcy4je2FJZHh9LnNpZ25fc2hvd1wiXSA9IHRydWVcblx0XHRcdFx0XHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiN7dElkeH0uYXBwcm92ZXMuI3thSWR4fS5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb25cIl0gPSBudWxsXG5cblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkodXBPYmopXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0JHNldDogdXBPYmpcblx0XHRcdFx0fSlcblx0XHRcdHJldHVybiB0cnVlXG5cblxuXHR1cGRhdGVfc2lnbl9zaG93OiAob2JqcywgbXlBcHByb3ZlX2lkKSAtPlxuXHRcdG9ianMuZm9yRWFjaCAob2JqLCBpbmRleCkgLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IG9iai5pbnN0YW5jZSwgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZSB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxuXHRcdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxuXHRcdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxuXHRcdFx0XHRzZXRPYmogPSB7fVxuXHRcdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gb2JqLl9pZFxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3dcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5jdXN0b21fc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvd1xuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IG15QXBwcm92ZV9pZFxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcblxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcblx0XHRcdFx0XHRcdF9pZDogb2JqLmluc3RhbmNlLFxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxuXHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdCRzZXQ6IHNldE9ialxuXHRcdFx0XHRcdH0pXG5cblx0XHRyZXR1cm4gdHJ1ZVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfYXBwcm92ZV9oYXZlX3JlYWQ6IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCBzZWxmLCBzZXRPYmosIHRyYWNlO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VsZiA9IHRoaXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHNldE9iaiA9IHtcbiAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlLFxuICAgICAgICBtb2RpZmllZF9ieTogc2VsZi51c2VySWRcbiAgICAgIH07XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCAmJiAhYXBwcm92ZS5pc19yZWFkKSB7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5pc19yZWFkXCJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIGNoYW5nZV9hcHByb3ZlX2luZm86IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZGVzY3JpcHRpb24sIGZpbmlzaF9kYXRlKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHRyYWNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpO1xuICAgIGNoZWNrKGZpbmlzaF9kYXRlLCBEYXRlKTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgc2V0T2JqID0ge307XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGU7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5jb3N0X3RpbWVcIl0gPSBuZXcgRGF0ZSgpIC0gYXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICAgIHJldHVybiBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2FwcHJvdmVfc2lnbjogZnVuY3Rpb24oaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSkge1xuICAgIHZhciBjdXJyZW50QXBwcm92ZURlc2NyaXB0aW9uLCBjdXJyZW50U3RlcCwgY3VycmVudFRyYWNlLCBpbnMsIGluc3RhbmNlLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHNlc3Npb25fdXNlcklkLCBzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24sIHRyYWNlLCB0cmFjZXMsIHRyaW1EZXNjcmlwdGlvbiwgdXBPYmo7XG4gICAgY2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh0cmFjZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhzaWduX2ZpZWxkX2NvZGUsIFN0cmluZyk7XG4gICAgY2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cmltRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbi50cmltKCk7XG4gICAgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uID0gKHJlZiA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZi5zaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24gOiB2b2lkIDA7XG4gICAgc2Vzc2lvbl91c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpZiAobGFzdFNpZ25BcHByb3ZlKSB7XG4gICAgICBpZiAoKChyZWYxID0gTWV0ZW9yLnNldHRpbmdzW1wicHVibGljXCJdLndvcmtmbG93KSAhPSBudWxsID8gcmVmMS5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24gOiB2b2lkIDApICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAobGFzdFNpZ25BcHByb3ZlLmN1c3RvbV9zaWduX3Nob3cpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmMiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZjIubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgdXBPYmogPSB7fTtcbiAgICAgIGN1cnJlbnRBcHByb3ZlRGVzY3JpcHRpb24gPSAnJztcbiAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgY3VycmVudEFwcHJvdmVEZXNjcmlwdGlvbiA9IGFwcHJvdmUuZGVzY3JpcHRpb247XG4gICAgICAgICAgaWYgKHNpZ25fZmllbGRfY29kZSkge1xuICAgICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fZmllbGRfY29kZVwiXSA9IHNpZ25fZmllbGRfY29kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IHRyaW1EZXNjcmlwdGlvbiB8fCBzaG93QmxhbmtBcHByb3ZlRGVzY3JpcHRpb24gPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZDtcbiAgICAgICAgICByZXR1cm4gdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCgocmVmMyA9IE1ldGVvci5zZXR0aW5nc1tcInB1YmxpY1wiXS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZjMua2VlcExhc3RTaWduQXBwcm92ZURlc2NyaXB0aW9uIDogdm9pZCAwKSA9PT0gZmFsc2UgJiYgKCEhY3VycmVudEFwcHJvdmVEZXNjcmlwdGlvbiAhPT0gISF0cmltRGVzY3JpcHRpb24gfHwgc2hvd0JsYW5rQXBwcm92ZURlc2NyaXB0aW9uKSkge1xuICAgICAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIFwidHJhY2VzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFjZXMgPSBpbnMudHJhY2VzO1xuICAgICAgICBjdXJyZW50VHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIHQuX2lkID09PSB0cmFjZUlkO1xuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudFN0ZXAgPSBjdXJyZW50VHJhY2Uuc3RlcDtcbiAgICAgICAgdHJhY2VzLmZvckVhY2goZnVuY3Rpb24odCwgdElkeCkge1xuICAgICAgICAgIGlmICh0LnN0ZXAgPT09IGN1cnJlbnRTdGVwKSB7XG4gICAgICAgICAgICByZXR1cm4gdCAhPSBudWxsID8gdC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHIsIGFJZHgpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHIuaGFuZGxlciA9PT0gc2Vzc2lvbl91c2VySWQgJiYgYXBwci5pc19maW5pc2hlZCAmJiBhcHByLl9pZCAhPT0gYXBwcm92ZUlkICYmICFfLmhhcyhhcHByLCAnY3VzdG9tX3NpZ25fc2hvdycpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCh0cmltRGVzY3JpcHRpb24gJiYgYXBwci5zaWduX3Nob3cgPT09IHRydWUgJiYgKHNpZ25fZmllbGRfY29kZSA9PT0gXCJcIiB8fCAhYXBwci5zaWduX2ZpZWxkX2NvZGUgfHwgc2lnbl9maWVsZF9jb2RlID09PSBhcHByLnNpZ25fZmllbGRfY29kZSkpIHx8IHNob3dCbGFua0FwcHJvdmVEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuXCIgKyB0SWR4ICsgXCIuYXBwcm92ZXMuXCIgKyBhSWR4ICsgXCIuc2lnbl9zaG93XCJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdXBPYmpbXCJ0cmFjZXMuXCIgKyB0SWR4ICsgXCIuYXBwcm92ZXMuXCIgKyBhSWR4ICsgXCIua2VlcExhc3RTaWduQXBwcm92ZURlc2NyaXB0aW9uXCJdID0gYXBwcm92ZUlkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwci5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb24gPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuXCIgKyB0SWR4ICsgXCIuYXBwcm92ZXMuXCIgKyBhSWR4ICsgXCIuc2lnbl9zaG93XCJdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB1cE9ialtcInRyYWNlcy5cIiArIHRJZHggKyBcIi5hcHByb3Zlcy5cIiArIGFJZHggKyBcIi5rZWVwTGFzdFNpZ25BcHByb3ZlRGVzY3JpcHRpb25cIl0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0VtcHR5KHVwT2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHVwT2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfc2lnbl9zaG93OiBmdW5jdGlvbihvYmpzLCBteUFwcHJvdmVfaWQpIHtcbiAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgICAgc2V0T2JqID0ge307XG4gICAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBvYmouX2lkKSB7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3c7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmN1c3RvbV9zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93O1xuICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IG15QXBwcm92ZV9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgICAgICBcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRpbnN0YW5jZV9yZXR1cm46IChhcHByb3ZlLCByZWFzb24pLT5cblx0XHRjaGVjayhhcHByb3ZlLCBPYmplY3QpXG5cblx0XHRjdXJyZW50X3VzZXIgPSB0aGlzLnVzZXJJZFxuXHRcdGluc3RhbmNlX2lkID0gYXBwcm92ZS5pbnN0YW5jZVxuXG5cdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcblx0XHRzcGFjZV9pZCA9IGlucy5zcGFjZVxuXG5cdFx0IyAtIOW+heWuoeaguOeusVxuXHRcdGlmIGlucy5zdGF0ZSBpc250IFwicGVuZGluZ1wiIG9yICFpbnMuaW5ib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblxuXHRcdCMgLSDmlofku7bkuI3mmK/kvKDpmIVcblx0XHRpZiBhcHByb3ZlLnR5cGUgaXMgXCJjY1wiIGFuZCBpbnMuY2NfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcblxuXHRcdCMgLSDnrb7moLjljobnqIvkuK3lvZPliY3mraXpqqTkuIrkuIDmraXpqqTkuI3mmK/kvJrnrb5cblx0XHRpZiBpbnMudHJhY2VzLmxlbmd0aCA8IDJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdylcblx0XHRwcmVfdHJhY2UgPSBpbnMudHJhY2VzW2lucy50cmFjZXMubGVuZ3RoIC0gMl1cblx0XHRwcmVfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIHByZV90cmFjZS5zdGVwKVxuXHRcdGlmIHByZV9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXG5cblx0XHQjIC0g5b2T5YmN5q2l6aqk5Li65aGr5YaZ5oiW6ICF5a6h5om5XG5cdFx0bGFzdF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKVxuXHRcdGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcClcblx0XHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJzdWJtaXRcIiBhbmQgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpc250IFwic2lnblwiIGFuZCBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJjb3VudGVyU2lnblwiXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0IyAtIOWPguaVsGFwcHJvdmXkuK10cmFjZeS4juW9k+WJjeiOt+WPlueahHRyYWNl5piv5ZCm5Yy56YWNXG5cdFx0aWYgYXBwcm92ZS50cmFjZSBpc250IGxhc3RfdHJhY2UuX2lkXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxuXG5cdFx0bmV3X2luYm94X3VzZXJzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoIHByZV90cmFjZS5hcHByb3ZlcywgKGEpLT5cblx0XHRcdGlmICghYS50eXBlIG9yIGEudHlwZSBpcyBcImRyYWZ0XCIgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIpXG5cdFx0XHRcdG5ld19pbmJveF91c2Vycy5wdXNoKGEudXNlcilcblxuXHRcdGlmIF8uaXNFbXB0eShuZXdfaW5ib3hfdXNlcnMpXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOS4i+S4gOatpeWkhOeQhuS6uu+8jOmAgOWbnuWksei0pVwiKVxuXG5cdFx0dHJhY2VzID0gaW5zLnRyYWNlc1xuXG5cdFx0YXBwcm92ZV92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldEFwcHJvdmVWYWx1ZXMoYXBwcm92ZS52YWx1ZXMgfHwge30sIGN1cnJlbnRfc3RlcC5wZXJtaXNzaW9ucywgaW5zLmZvcm0sIGlucy5mb3JtX3ZlcnNpb24pXG5cblx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XG5cdFx0bm93ID0gbmV3IERhdGVcblx0XHRyZXN0X2NvdW50ZXJfdXNlcnMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2ggdHJhY2VzLCAodCktPlxuXHRcdFx0aWYgdC5faWQgaXMgbGFzdF90cmFjZS5faWRcblx0XHRcdFx0aWYgbm90IHQuYXBwcm92ZXNcblx0XHRcdFx0XHR0LmFwcHJvdmVzID0gbmV3IEFycmF5XG5cdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSwgaWR4KS0+XG5cdFx0XHRcdFx0aWYgKCFhLnR5cGUgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIgb3IgYS5qdWRnZSBpcyBcInJlYWRlZFwiKSBhbmQgYS5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5vd1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5vd1xuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19lcnJvciddID0gZmFsc2Vcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5vdyAtIGEuc3RhcnRfZGF0ZVxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy52YWx1ZXMnXSA9IGFwcHJvdmVfdmFsdWVzXG5cdFx0XHRcdFx0XHRpZiBhLmhhbmRsZXIgaXMgY3VycmVudF91c2VyXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwicmV0dXJuZWRcIlxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmRlc2NyaXB0aW9uJ10gPSByZWFzb25cblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0cmVzdF9jb3VudGVyX3VzZXJzLnB1c2ggYS5oYW5kbGVyXG5cblx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuZmluaXNoX2RhdGUnXSA9IHRydWVcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5qdWRnZSddID0gXCJyZXR1cm5lZFwiXG5cblx0XHRpbnMudmFsdWVzID0gXy5leHRlbmQoKGlucy52YWx1ZXMgfHwge30pLCBhcHByb3ZlX3ZhbHVlcylcblxuXHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcblx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3Rcblx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxuXHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF1cblx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXG5cdFx0bmV3VHJhY2Uuc3RlcCA9IHByZV90cmFjZS5zdGVwXG5cdFx0bmV3VHJhY2UubmFtZSA9IHByZV90cmFjZS5uYW1lXG5cdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xuXHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZV9zdGVwLnRpbWVvdXRfaG91cnMsIHNwYWNlX2lkKVxuXHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cblx0XHRfLmVhY2ggbmV3X2luYm94X3VzZXJzLCAobmV4dF9zdGVwX3VzZXJfaWQsIGlkeCktPlxuXHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZS5hcHByb3Zl6K6w5b2VXG5cdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxuXHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXG5cdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcblx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcblx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZVxuXHRcdFx0bmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWRcblxuXHRcdFx0dXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge2ZpZWxkczoge25hbWU6IDF9fSlcblx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWVcblxuXHRcdFx0aGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkXG5cdFx0XHRoYW5kbGVyX2luZm8gPSB1c2VyX2luZm9cblx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpXG5cdFx0XHRpZiBhZ2VudFxuXHRcdFx0XHRuZXdfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50XG5cdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudFxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhZ2VudCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcblx0XHRcdFx0bmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50XG5cblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWRcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcblxuXHRcdFx0bmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZClcblx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cblx0XHRcdG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKVxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cblxuXHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XG5cdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZVxuXHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXG5cdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Rcblx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnMudmFsdWVzLCBuZXdBcHByb3ZlKVxuXHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxuXG5cdFx0c2V0T2JqLmluYm94X3VzZXJzID0gbmV3X2luYm94X3VzZXJzXG5cdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcblxuXHRcdGlucy5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXG5cdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnMub3V0Ym94X3VzZXJzKVxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxuXHRcdHNldE9iai52YWx1ZXMgPSBpbnMudmFsdWVzXG5cblx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmVfdHJhY2UubmFtZVxuXG5cdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWQsICd0cmFjZXMuX2lkJzogbGFzdF90cmFjZS5faWR9LCB7JHNldDogc2V0T2JqfSlcblx0XHRiID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskcHVzaDoge3RyYWNlczogbmV3VHJhY2V9fSlcblx0XHRpZiByICYmIGJcblx0XHRcdCMg5pawaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKVxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxuXHRcdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmV0dXJuX3BlbmRpbmdfaW5ib3hcIiwgaW5zdGFuY2UsIHJlYXNvbiwgY3VycmVudF91c2VyX2luZm8pXG5cdFx0XHQjIOWmguaenOaYr+S8muetvuWImee7meS8muetvuacquaPkOS6pOeahOS6uuWPkemAgXB1c2hcblx0XHRcdF8uZWFjaCByZXN0X2NvdW50ZXJfdXNlcnMsICh1c2VyX2lkKS0+XG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxuXHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXG5cdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnN0YW5jZS5mbG93LCBpbnN0YW5jZSwge30sICdyZXR1cm4nLCBjdXJyZW50X3VzZXIsIGluc3RhbmNlLmluYm94X3VzZXJzKVxuXHRcdHJldHVybiB0cnVlIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZV9yZXR1cm46IGZ1bmN0aW9uKGFwcHJvdmUsIHJlYXNvbikge1xuICAgIHZhciBhcHByb3ZlX3ZhbHVlcywgYiwgY3VycmVudF9zdGVwLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBmbG93LCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbmV3VHJhY2UsIG5ld19pbmJveF91c2Vycywgbm93LCBwcmVfc3RlcCwgcHJlX3RyYWNlLCByLCByZXN0X2NvdW50ZXJfdXNlcnMsIHNldE9iaiwgc3BhY2VfaWQsIHRyYWNlcztcbiAgICBjaGVjayhhcHByb3ZlLCBPYmplY3QpO1xuICAgIGN1cnJlbnRfdXNlciA9IHRoaXMudXNlcklkO1xuICAgIGluc3RhbmNlX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcbiAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICBzcGFjZV9pZCA9IGlucy5zcGFjZTtcbiAgICBpZiAoaW5zLnN0YXRlICE9PSBcInBlbmRpbmdcIiB8fCAhaW5zLmluYm94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZS50eXBlID09PSBcImNjXCIgJiYgaW5zLmNjX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoaW5zLnRyYWNlcy5sZW5ndGggPCAyKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdyk7XG4gICAgcHJlX3RyYWNlID0gaW5zLnRyYWNlc1tpbnMudHJhY2VzLmxlbmd0aCAtIDJdO1xuICAgIHByZV9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgcHJlX3RyYWNlLnN0ZXApO1xuICAgIGlmIChwcmVfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zLnRyYWNlcyk7XG4gICAgY3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgbGFzdF90cmFjZS5zdGVwKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJzdWJtaXRcIiAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcInNpZ25cIiAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZS50cmFjZSAhPT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBuZXdfaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHByZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKCghYS50eXBlIHx8IGEudHlwZSA9PT0gXCJkcmFmdFwiIHx8IGEudHlwZSA9PT0gXCJyZWFzc2lnblwiKSAmJiAoIWEuanVkZ2UgfHwgYS5qdWRnZSA9PT0gXCJzdWJtaXR0ZWRcIiB8fCBhLmp1ZGdlID09PSBcImFwcHJvdmVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWplY3RlZFwiKSkge1xuICAgICAgICByZXR1cm4gbmV3X2luYm94X3VzZXJzLnB1c2goYS51c2VyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoXy5pc0VtcHR5KG5ld19pbmJveF91c2VycykpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw5LiL5LiA5q2l5aSE55CG5Lq677yM6YCA5Zue5aSx6LSlXCIpO1xuICAgIH1cbiAgICB0cmFjZXMgPSBpbnMudHJhY2VzO1xuICAgIGFwcHJvdmVfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzIHx8IHt9LCBjdXJyZW50X3N0ZXAucGVybWlzc2lvbnMsIGlucy5mb3JtLCBpbnMuZm9ybV92ZXJzaW9uKTtcbiAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgIHJlc3RfY291bnRlcl91c2VycyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBpZiAodC5faWQgPT09IGxhc3RfdHJhY2UuX2lkKSB7XG4gICAgICAgIGlmICghdC5hcHByb3Zlcykge1xuICAgICAgICAgIHQuYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEsIGlkeCkge1xuICAgICAgICAgIGlmICgoIWEudHlwZSB8fCBhLnR5cGUgPT09IFwicmVhc3NpZ25cIikgJiYgKCFhLmp1ZGdlIHx8IGEuanVkZ2UgPT09IFwic3VibWl0dGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJhcHByb3ZlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVqZWN0ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlYWRlZFwiKSAmJiBhLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBub3c7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbm93O1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19lcnJvciddID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5vdyAtIGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcudmFsdWVzJ10gPSBhcHByb3ZlX3ZhbHVlcztcbiAgICAgICAgICAgIGlmIChhLmhhbmRsZXIgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInJldHVybmVkXCI7XG4gICAgICAgICAgICAgIHJldHVybiBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmRlc2NyaXB0aW9uJ10gPSByZWFzb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdF9jb3VudGVyX3VzZXJzLnB1c2goYS5oYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmZpbmlzaF9kYXRlJ10gPSB0cnVlO1xuICAgICAgICByZXR1cm4gc2V0T2JqWyd0cmFjZXMuJC5qdWRnZSddID0gXCJyZXR1cm5lZFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlucy52YWx1ZXMgPSBfLmV4dGVuZChpbnMudmFsdWVzIHx8IHt9LCBhcHByb3ZlX3ZhbHVlcyk7XG4gICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgbmV3VHJhY2Uuc3RlcCA9IHByZV90cmFjZS5zdGVwO1xuICAgIG5ld1RyYWNlLm5hbWUgPSBwcmVfdHJhY2UubmFtZTtcbiAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgIG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZV9zdGVwLnRpbWVvdXRfaG91cnMsIHNwYWNlX2lkKTtcbiAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgIF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKG5leHRfc3RlcF91c2VyX2lkLCBpZHgpIHtcbiAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdBcHByb3ZlLCBuZXh0X3N0ZXBfc3BhY2VfdXNlciwgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8sIHVzZXJfaW5mbztcbiAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcbiAgICAgIGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcbiAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpO1xuICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgIG5ld19pbmJveF91c2Vyc1tpZHhdID0gYWdlbnQ7XG4gICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50O1xuICAgICAgfVxuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICBuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKTtcbiAgICAgIG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnMudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgIHJldHVybiBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgIH0pO1xuICAgIHNldE9iai5pbmJveF91c2VycyA9IG5ld19pbmJveF91c2VycztcbiAgICBzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgICBpbnMub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGlucy5vdXRib3hfdXNlcnMpO1xuICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgc2V0T2JqLnZhbHVlcyA9IGlucy52YWx1ZXM7XG4gICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJlX3RyYWNlLm5hbWU7XG4gICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICd0cmFjZXMuX2lkJzogbGFzdF90cmFjZS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiBzZXRPYmpcbiAgICB9KTtcbiAgICBiID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgJHB1c2g6IHtcbiAgICAgICAgdHJhY2VzOiBuZXdUcmFjZVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChyICYmIGIpIHtcbiAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZXR1cm5fcGVuZGluZ19pbmJveFwiLCBpbnN0YW5jZSwgcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBfLmVhY2gocmVzdF9jb3VudGVyX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICB9KTtcbiAgICAgIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGluc3RhbmNlLmZsb3csIGluc3RhbmNlLCB7fSwgJ3JldHVybicsIGN1cnJlbnRfdXNlciwgaW5zdGFuY2UuaW5ib3hfdXNlcnMpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRpbnN0YW5jZV9yZW1pbmQ6IChyZW1pbmRfdXNlcnMsIHJlbWluZF9jb3VudCwgcmVtaW5kX2RlYWRsaW5lLCBpbnN0YW5jZV9pZCwgYWN0aW9uX3R5cGVzLCB0cmFjZV9pZCktPlxuXHRcdGNoZWNrIHJlbWluZF91c2VycywgQXJyYXlcblx0XHRjaGVjayByZW1pbmRfY291bnQsIE1hdGNoLk9uZU9mKCdzaW5nbGUnLCAnbXVsdGknKVxuXHRcdGNoZWNrIHJlbWluZF9kZWFkbGluZSwgRGF0ZVxuXHRcdGNoZWNrIGluc3RhbmNlX2lkLCBTdHJpbmdcblx0XHRjaGVjayBhY3Rpb25fdHlwZXMsIEFycmF5XG5cdFx0Y2hlY2sgdHJhY2VfaWQsIFN0cmluZ1xuXG5cdFx0Y3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWRcblx0XHRsYXN0X3JlbWluZF91c2VycyA9IG5ldyBBcnJheVxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge25hbWU6IDEsIHRyYWNlczogMSwgdmFsdWVzOiAxLCBzcGFjZTogMX19KVxuXHRcdGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYWRtaW4nKVxuXHRcdFx0aWYgcmVtaW5kX2NvdW50IGlzICdzaW5nbGUnXG5cdFx0XHRcdF8uZWFjaCBpbnMudHJhY2VzLCAodCktPlxuXHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXG5cdFx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxuXHRcdFx0ZWxzZSBpZiByZW1pbmRfY291bnQgaXMgJ211bHRpJ1xuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxuXHRcdFx0XHRwcmlvcml0eSA9IGlucy52YWx1ZXMucHJpb3JpdHlcblx0XHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XG5cdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcCktPlxuXHRcdFx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXG5cdFx0XHRcdFx0XHRcdGFwLm1hbnVhbF9kZWFkbGluZSA9IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHQjIO+8iDHvvInigJzmma7pgJrigJ3vvJrlpoLkuInkuKrlt6XkvZzml6XlhoXmnKrlpITnkIbvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrkuozml6XlhoXvvJtcblx0XHRcdFx0XHRcdFx0IyAg5aaC5LqM5pel5ZCO5LuN5pyq5aSE55CG77yM57O757uf5q+P5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77yM5Yqe57uT5pe26ZmQ5Li65LiA5pel5YaF44CCXG5cdFx0XHRcdFx0XHRcdGlmIHByaW9yaXR5IGlzIFwi5pmu6YCaXCIgb3Igbm90IHByaW9yaXR5XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdCMg77yIMu+8ieKAnOWKnuaWh+KAne+8muWmguS4gOS4quW3peS9nOaXpeWGheacquWkhOeQhu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xuXHRcdFx0XHRcdFx0XHQjICDlpoLkuIDml6XlkI7ku43mnKrlpITnkIbvvIzns7vnu5/mr4/lpKnoh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuI3lj5jvvJtcblx0XHRcdFx0XHRcdFx0IyAg6Led56a75Yqe57uT5pe26ZmQ5Li65Y2K5pel5pe277yM5YiZ5q+P5Y2K5Liq5bel5L2c5pel5o+Q6YaS5Zub5qyh77yb6LaF6L+H5Yqe57uT5pe26ZmQ5ZCO5LuN54S25oyJ54Wn5q+P5Y2K5pel5Zub5qyh5o+Q6YaS44CCXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLlip7mlodcIlxuXHRcdFx0XHRcdFx0XHRcdGlmIFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSAjIOi2hei/h+S6huWKnue7k+aXtumZkOaIluiAhei3neemu+WKnue7k+aXtumZkOWNiuaXpeWGhVxuXHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSlcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlID0gKGJhc2VfZGF0ZSktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKG5vdylcblxuXHRcdFx0XHRcdFx0XHQjIO+8iDPvvInigJzntKfmgKXigJ3vvJrlnKjlj5HpgIHnmoTlkIzml7bvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcblx0XHRcdFx0XHRcdFx0IyAg5aaC5Y2K5pel5YaF5LuN5pyq5aSE55CG77yM57O757uf5q+P5Y2K5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77yb6Led56a75Yqe57uT5pe26ZmQ5Li65Y2K5pel5pe277yM5q+P5Y2K5Liq5bel5L2c5pel5o+Q6YaS5Zub5qyh77yb6LaF6L+H5Yqe57uT5pe26ZmQ5ZCO5LuN54S25oyJ54Wn5q+P5Y2K5pel5Zub5qyh5o+Q6YaS44CCXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLntKfmgKVcIlxuXHRcdFx0XHRcdFx0XHRcdGlmIFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSAjIOi2hei/h+S6huWKnue7k+aXtumZkOaIluiAhei3neemu+WKnue7k+aXtumZkOWNiuaXpeWGhVxuXHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSlcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlID0gKGJhc2VfZGF0ZSktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKG5vdylcblxuXHRcdFx0XHRcdFx0XHQjIO+8iDTvvInigJznibnmgKXigJ3vvJrlnKjlj5HpgIHnmoTlkIzml7bvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrooajljZXkuIrnmoTigJzlip7nu5Pml7bpmZDigJ3vvIjmlofkuablvZXlhaXnmoTml7bpl7TvvInvvJtcblx0XHRcdFx0XHRcdFx0IyAg5aaC5Y2K5pel5YaF5LuN5pyq5aSE55CG77yM57O757uf5q+P5Y2K5Liq5bel5L2c5pel5o+Q6YaS5Zub5qyh77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77yb6LaF6L+H5Yqe57uT5pe26ZmQ5ZCO5LuN54S25oyJ54Wn5q+P5Y2K5pel5Zub5qyh5o+Q6YaS44CCXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLnibnmgKVcIlxuXHRcdFx0XHRcdFx0XHRcdGlmIFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSAjIOi2hei/h+S6huWKnue7k+aXtumZkOaIluiAhei3neemu+WKnue7k+aXtumZkOWNiuaXpeWGhVxuXHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSlcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlID0gKGJhc2VfZGF0ZSktPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcblx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKG5vdylcblxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KGxhc3RfcmVtaW5kX3VzZXJzKVxuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogeyd0cmFjZXMnOiBpbnMudHJhY2VzfX0pXG5cblx0XHRlbHNlIGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYXBwbGljYW50Jylcblx0XHRcdHRyYWNlID0gXy5maW5kIGlucy50cmFjZXMsICh0KS0+XG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyB0cmFjZV9pZFxuXHRcdFx0Xy5lYWNoIHRyYWNlLmFwcHJvdmVzLCAoYXApLT5cblx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWVcblx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcblxuXHRcdGVsc2UgaWYgYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdjYycpXG5cdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cblx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcCktPlxuXHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlIGFuZCBhcC50eXBlIGlzICdjYycgYW5kIGFwLmZyb21fdXNlciBpcyBjdXJyZW50X3VzZXJfaWRcblx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxuXG5cdFx0dXVmbG93TWFuYWdlci5zZW5kUmVtaW5kU01TIGlucy5uYW1lLCByZW1pbmRfZGVhZGxpbmUsIGxhc3RfcmVtaW5kX3VzZXJzLCBpbnMuc3BhY2UsIGlucy5faWRcblxuXHRcdHJldHVybiB0cnVlXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGluc3RhbmNlX3JlbWluZDogZnVuY3Rpb24ocmVtaW5kX3VzZXJzLCByZW1pbmRfY291bnQsIHJlbWluZF9kZWFkbGluZSwgaW5zdGFuY2VfaWQsIGFjdGlvbl90eXBlcywgdHJhY2VfaWQpIHtcbiAgICB2YXIgY3VycmVudF91c2VyX2lkLCBpbnMsIGxhc3RfcmVtaW5kX3VzZXJzLCBub3csIHByaW9yaXR5LCB0cmFjZTtcbiAgICBjaGVjayhyZW1pbmRfdXNlcnMsIEFycmF5KTtcbiAgICBjaGVjayhyZW1pbmRfY291bnQsIE1hdGNoLk9uZU9mKCdzaW5nbGUnLCAnbXVsdGknKSk7XG4gICAgY2hlY2socmVtaW5kX2RlYWRsaW5lLCBEYXRlKTtcbiAgICBjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhhY3Rpb25fdHlwZXMsIEFycmF5KTtcbiAgICBjaGVjayh0cmFjZV9pZCwgU3RyaW5nKTtcbiAgICBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcbiAgICBsYXN0X3JlbWluZF91c2VycyA9IG5ldyBBcnJheTtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHRyYWNlczogMSxcbiAgICAgICAgdmFsdWVzOiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FkbWluJykpIHtcbiAgICAgIGlmIChyZW1pbmRfY291bnQgPT09ICdzaW5nbGUnKSB7XG4gICAgICAgIF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlbWluZF9jb3VudCA9PT0gJ211bHRpJykge1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgcHJpb3JpdHkgPSBpbnMudmFsdWVzLnByaW9yaXR5O1xuICAgICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICAgIHZhciBjYWN1bGF0ZV9kYXRlO1xuICAgICAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICAgICAgICBhcC5tYW51YWxfZGVhZGxpbmUgPSByZW1pbmRfZGVhZGxpbmU7XG4gICAgICAgICAgICAgIGlmIChwcmlvcml0eSA9PT0gXCLmma7pgJpcIiB8fCAhcHJpb3JpdHkpIHtcblxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIuWKnuaWh1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi57Sn5oClXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLnibnmgKVcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIV8uaXNFbXB0eShsYXN0X3JlbWluZF91c2VycykpIHtcbiAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICd0cmFjZXMnOiBpbnMudHJhY2VzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYXBwbGljYW50JykpIHtcbiAgICAgIHRyYWNlID0gXy5maW5kKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSB0cmFjZV9pZDtcbiAgICAgIH0pO1xuICAgICAgXy5lYWNoKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICBpZiAocmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpICYmIGFwLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdjYycpKSB7XG4gICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiBhcC50eXBlID09PSAnY2MnICYmIGFwLmZyb21fdXNlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuc2VuZFJlbWluZFNNUyhpbnMubmFtZSwgcmVtaW5kX2RlYWRsaW5lLCBsYXN0X3JlbWluZF91c2VycywgaW5zLnNwYWNlLCBpbnMuX2lkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRuZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kOiAoZGVhbF90eXBlLCBzdGVwX25hbWUsIHBhcmFtcykgLT5cblx0XHRjaGVjayBkZWFsX3R5cGUsIFN0cmluZ1xuXHRcdGNoZWNrIHN0ZXBfbmFtZSwgU3RyaW5nXG5cdFx0Y2hlY2sgcGFyYW1zLCBPYmplY3RcblxuXHRcdHN0ciA9IFwiXCJcblx0XHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdGhpcy51c2VySWQgfSwgeyBmaWVsZHM6IHsgbG9jYWxlOiAxIH0gfSlcblx0XHQj6K6+572u5b2T5YmN6K+t6KiA546v5aKDXG5cdFx0bGFuZyA9ICdlbidcblx0XHRpZiB1c2VyLmxvY2FsZSBpcyAnemgtY24nXG5cdFx0XHRsYW5nID0gJ3poLUNOJ1xuXG5cdFx0IyDmjIflrprlrqHmibnlspfkvY1cblx0XHRpZiBkZWFsX3R5cGUgaXMgJ2FwcGxpY2FudFJvbGUnXG5cdFx0XHRhcHByb3Zlcl9yb2xlcyA9IHBhcmFtcy5hcHByb3Zlcl9yb2xlc1xuXHRcdFx0cm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IHsgJGluOiBhcHByb3Zlcl9yb2xlcyB9IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KS5mZXRjaCgpXG5cdFx0XHRyb2xlc19uYW1lID0gXy5wbHVjayhyb2xlcywgJ25hbWUnKS50b1N0cmluZygpXG5cdFx0XHRzdHIgPSBUQVBpMThuLl9fICduZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmFwcGxpY2FudF9yb2xlJywgeyBzdGVwX25hbWU6IHN0ZXBfbmFtZSwgcm9sZV9uYW1lOiByb2xlc19uYW1lIH0sIGxhbmdcblxuXG5cdFx0cmV0dXJuIHN0clxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBuZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kOiBmdW5jdGlvbihkZWFsX3R5cGUsIHN0ZXBfbmFtZSwgcGFyYW1zKSB7XG4gICAgdmFyIGFwcHJvdmVyX3JvbGVzLCBsYW5nLCByb2xlcywgcm9sZXNfbmFtZSwgc3RyLCB1c2VyO1xuICAgIGNoZWNrKGRlYWxfdHlwZSwgU3RyaW5nKTtcbiAgICBjaGVjayhzdGVwX25hbWUsIFN0cmluZyk7XG4gICAgY2hlY2socGFyYW1zLCBPYmplY3QpO1xuICAgIHN0ciA9IFwiXCI7XG4gICAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgX2lkOiB0aGlzLnVzZXJJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBsb2NhbGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsYW5nID0gJ2VuJztcbiAgICBpZiAodXNlci5sb2NhbGUgPT09ICd6aC1jbicpIHtcbiAgICAgIGxhbmcgPSAnemgtQ04nO1xuICAgIH1cbiAgICBpZiAoZGVhbF90eXBlID09PSAnYXBwbGljYW50Um9sZScpIHtcbiAgICAgIGFwcHJvdmVyX3JvbGVzID0gcGFyYW1zLmFwcHJvdmVyX3JvbGVzO1xuICAgICAgcm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGFwcHJvdmVyX3JvbGVzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgcm9sZXNfbmFtZSA9IF8ucGx1Y2socm9sZXMsICduYW1lJykudG9TdHJpbmcoKTtcbiAgICAgIHN0ciA9IFRBUGkxOG4uX18oJ25leHRfc3RlcF91c2Vyc19ub3RfZm91bmQuYXBwbGljYW50X3JvbGUnLCB7XG4gICAgICAgIHN0ZXBfbmFtZTogc3RlcF9uYW1lLFxuICAgICAgICByb2xlX25hbWU6IHJvbGVzX25hbWVcbiAgICAgIH0sIGxhbmcpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59KTtcbiIsIl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpXG5cbk1ldGVvci5tZXRob2RzXG5cdGluc3RhbmNlTnVtYmVyQnVpbGRlcjogKHNwYWNlSWQsIG5hbWUpLT5cblxuXHRcdG51bWJlclJ1bGVzID0gZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmZpbmRPbmUoe3NwYWNlOiBzcGFjZUlkLCBuYW1lOiBuYW1lfSlcblxuXHRcdGlmICFudW1iZXJSdWxlc1xuXHRcdFx0dGhyb3cgbmV3ICBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiI3tuYW1lfVwiKVxuXG5cdFx0ZGF0ZSA9IG5ldyBEYXRlKClcblxuXHRcdGNvbnRleHQgPSB7fVxuXG5cdFx0Y29udGV4dC5fID0gX1xuXG5cdFx0X1lZWVkgPSBkYXRlLmdldEZ1bGxZZWFyKClcblxuXHRcdF9OVU1CRVIgPSAobnVtYmVyUnVsZXMubnVtYmVyIHx8IDApICsgMVxuXG5cdFx0Y29udGV4dC5ZWVlZID0gXy5jbG9uZShfWVlZWSlcblxuXHRcdGNvbnRleHQuTU0gPSBkYXRlLmdldE1vbnRoKCkgKyAxXG5cblx0XHRjb250ZXh0Lm1tID0gZGF0ZS5nZXRNb250aCgpICsgMVxuXG5cdFx0aWYgY29udGV4dC5NTSA8IDEwXG5cdFx0XHRjb250ZXh0Lk1NID0gXCIwXCIgKyBjb250ZXh0Lk1NXG5cblx0XHRjb250ZXh0LkREID0gZGF0ZS5nZXREYXRlKClcblxuXHRcdGNvbnRleHQuZGQgPSBkYXRlLmdldERhdGUoKVxuXG5cdFx0aWYgY29udGV4dC5ERCA8IDEwXG5cdFx0XHRjb250ZXh0LkREID0gXCIwXCIgKyBjb250ZXh0LkREXG5cblx0XHRpZiBjb250ZXh0LllZWVkgIT0gbnVtYmVyUnVsZXMueWVhclxuXHRcdFx0X05VTUJFUiA9IG51bWJlclJ1bGVzLmZpcnN0X251bWJlciB8fCAxXG5cblx0XHRwYWRkaW5nID0gKG51bSwgbGVuZ3RoKSAtPlxuXHRcdFx0bGVuID0gKG51bSArICcnKS5sZW5ndGhcblx0XHRcdGRpZmYgPSBsZW5ndGggLSBsZW5cblx0XHRcdGlmIGRpZmYgPiAwXG5cdFx0XHRcdHJldHVybiBBcnJheShkaWZmICsgMSkuam9pbignMCcpICsgbnVtXG5cdFx0XHRyZXR1cm4gbnVtXG5cblx0XHRjb250ZXh0Lk5VTUJFUiA9IHBhZGRpbmcoXy5jbG9uZShfTlVNQkVSKSwgNSlcblxuXHRcdHJ1bGVzID0gbnVtYmVyUnVsZXMucnVsZXMucmVwbGFjZShcIntZWVlZfVwiLCBcIicgKyBZWVlZICsgJ1wiKS5yZXBsYWNlKFwie01NfVwiLCBcIicgKyBNTSArICdcIikucmVwbGFjZShcIntOVU1CRVJ9XCIsIFwiJyArIE5VTUJFUiArICdcIilcblxuXHRcdHNjcmlwdCA9IFwidmFyIG5ld05vID0gJyN7cnVsZXN9JzsgZXhwb3J0cy5uZXdObyA9IG5ld05vXCI7XG5cblx0XHR0cnlcblx0XHRcdHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJuZXdOb1wiLCBjb250ZXh0LCBmYWxzZSkubmV3Tm9cblxuXHRcdFx0ZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLnVwZGF0ZSh7X2lkOiBudW1iZXJSdWxlcy5faWR9LCB7JHNldDoge3llYXI6IF9ZWVlZLCBudW1iZXI6IF9OVU1CRVJ9fSlcblxuXHRcdFx0Y29uc29sZS5sb2cgdGhpcy51c2VySWQsIHJlc1xuXG5cdFx0Y2F0Y2ggZVxuXHRcdFx0cmVzID0ge19lcnJvcjogZX1cblxuXHRcdHJldHVybiByZXM7XG4iLCJ2YXIgX2V2YWw7XG5cbl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGluc3RhbmNlTnVtYmVyQnVpbGRlcjogZnVuY3Rpb24oc3BhY2VJZCwgbmFtZSkge1xuICAgIHZhciBfTlVNQkVSLCBfWVlZWSwgY29udGV4dCwgZGF0ZSwgZSwgbnVtYmVyUnVsZXMsIHBhZGRpbmcsIHJlcywgcnVsZXMsIHNjcmlwdDtcbiAgICBudW1iZXJSdWxlcyA9IGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgbmFtZTogbmFtZVxuICAgIH0pO1xuICAgIGlmICghbnVtYmVyUnVsZXMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiXCIgKyBuYW1lKTtcbiAgICB9XG4gICAgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgY29udGV4dCA9IHt9O1xuICAgIGNvbnRleHQuXyA9IF87XG4gICAgX1lZWVkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgX05VTUJFUiA9IChudW1iZXJSdWxlcy5udW1iZXIgfHwgMCkgKyAxO1xuICAgIGNvbnRleHQuWVlZWSA9IF8uY2xvbmUoX1lZWVkpO1xuICAgIGNvbnRleHQuTU0gPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgIGNvbnRleHQubW0gPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgIGlmIChjb250ZXh0Lk1NIDwgMTApIHtcbiAgICAgIGNvbnRleHQuTU0gPSBcIjBcIiArIGNvbnRleHQuTU07XG4gICAgfVxuICAgIGNvbnRleHQuREQgPSBkYXRlLmdldERhdGUoKTtcbiAgICBjb250ZXh0LmRkID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgaWYgKGNvbnRleHQuREQgPCAxMCkge1xuICAgICAgY29udGV4dC5ERCA9IFwiMFwiICsgY29udGV4dC5ERDtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuWVlZWSAhPT0gbnVtYmVyUnVsZXMueWVhcikge1xuICAgICAgX05VTUJFUiA9IG51bWJlclJ1bGVzLmZpcnN0X251bWJlciB8fCAxO1xuICAgIH1cbiAgICBwYWRkaW5nID0gZnVuY3Rpb24obnVtLCBsZW5ndGgpIHtcbiAgICAgIHZhciBkaWZmLCBsZW47XG4gICAgICBsZW4gPSAobnVtICsgJycpLmxlbmd0aDtcbiAgICAgIGRpZmYgPSBsZW5ndGggLSBsZW47XG4gICAgICBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgcmV0dXJuIEFycmF5KGRpZmYgKyAxKS5qb2luKCcwJykgKyBudW07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtO1xuICAgIH07XG4gICAgY29udGV4dC5OVU1CRVIgPSBwYWRkaW5nKF8uY2xvbmUoX05VTUJFUiksIDUpO1xuICAgIHJ1bGVzID0gbnVtYmVyUnVsZXMucnVsZXMucmVwbGFjZShcIntZWVlZfVwiLCBcIicgKyBZWVlZICsgJ1wiKS5yZXBsYWNlKFwie01NfVwiLCBcIicgKyBNTSArICdcIikucmVwbGFjZShcIntOVU1CRVJ9XCIsIFwiJyArIE5VTUJFUiArICdcIik7XG4gICAgc2NyaXB0ID0gXCJ2YXIgbmV3Tm8gPSAnXCIgKyBydWxlcyArIFwiJzsgZXhwb3J0cy5uZXdObyA9IG5ld05vXCI7XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJuZXdOb1wiLCBjb250ZXh0LCBmYWxzZSkubmV3Tm87XG4gICAgICBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBudW1iZXJSdWxlcy5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgIHllYXI6IF9ZWVlZLFxuICAgICAgICAgIG51bWJlcjogX05VTUJFUlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcklkLCByZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICByZXMgPSB7XG4gICAgICAgIF9lcnJvcjogZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRjaGVja19tYWluX2F0dGFjaDogKGluc19pZCwgbmFtZSktPlxuXHRcdGNoZWNrIGluc19pZCwgU3RyaW5nXG5cdFx0dXVmbG93TWFuYWdlci5jaGVja01haW5BdHRhY2goaW5zX2lkLCBuYW1lKVxuXHRcdHJldHVybiAnc3VjY2VzcydcblxuIiwiTWV0ZW9yLm1ldGhvZHNcblx0cmVtb3ZlX3JlbGF0ZWQ6IChpbnNfaWQsIHJlX2luc19pZCktPlxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHJlX2luc19pZCwgU3RyaW5nKVxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWR9LCB7ZmllbGRzOiB7cmVsYXRlZF9pbnN0YW5jZXM6IDF9fSlcblxuXHRcdGlmIGluc1xuXHRcdFx0cmVzID0gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIHx8IFtdXG5cblx0XHRcdGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKVxuXG5cdFx0XHRpZiBpbmRleCA+IC0xXG5cdFx0XHRcdHJlcy5yZW1vdmUoaW5kZXgpXG5cblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVzXG5cblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxuXG5cdHVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkOiAoaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcyktPlxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxuXHRcdGNoZWNrKHJlbGF0ZWRfaW5zdGFuY2VzLCBBcnJheSlcblxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNfaWQsICRvcjogW3tzdWJtaXR0ZXI6IHRoaXMudXNlcklkfSwge2FwcGxpY2FudDogdGhpcy51c2VySWR9LCB7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dfSwge2ZpZWxkczoge3N0YXRlOiAxfX0pXG5cblx0XHRpZiBpbnNcblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVsYXRlZF9pbnN0YW5jZXNcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxuXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46ICByZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7X2lkOiAxLCB2YWx1ZXM6IDF9fSkuZmV0Y2goKVxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICByZW1vdmVfcmVsYXRlZDogZnVuY3Rpb24oaW5zX2lkLCByZV9pbnNfaWQpIHtcbiAgICB2YXIgaW5kZXgsIGlucywgcmVzLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZV9pbnNfaWQsIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICByZWxhdGVkX2luc3RhbmNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIHJlcyA9IGlucy5yZWxhdGVkX2luc3RhbmNlcyB8fCBbXTtcbiAgICAgIGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHJlcy5yZW1vdmUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcbiAgICAgIHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcbiAgICAgIHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZXM7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2luc3RhbmNlX3JlbGF0ZWQ6IGZ1bmN0aW9uKGluc19pZCwgcmVsYXRlZF9pbnN0YW5jZXMpIHtcbiAgICB2YXIgaW5zLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZWxhdGVkX2luc3RhbmNlcywgQXJyYXkpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWQsXG4gICAgICAkb3I6IFtcbiAgICAgICAge1xuICAgICAgICAgIHN1Ym1pdHRlcjogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGFwcGxpY2FudDogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2NfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICBzZXRfb2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuICAgICAgc2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuICAgICAgc2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlbGF0ZWRfaW5zdGFuY2VzO1xuICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogcmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICB2YWx1ZXM6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdHVwZGF0ZUZsb3dQb3NpdGlvbjogKGRhdGEpIC0+XG5cdFx0ZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxuXHRcdFx0cm9sZTogZGF0YS5yb2xlXG5cdFx0XHR1c2VyczogZGF0YS51c2Vyc1xuXHRcdFx0b3JnOiBkYXRhLm9yZ1xuXG5cdHVwZGF0ZUZsb3dSb2xlOiAoZGF0YSkgLT5cblx0XHRjb25zb2xlLmxvZyBkYXRhLl9pZFxuXHRcdGNvbnNvbGUubG9nIGRhdGEubmFtZVxuXHRcdGRiLmZsb3dfcm9sZXMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxuXHRcdFx0bmFtZTogZGF0YS5uYW1lIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICB1cGRhdGVGbG93UG9zaXRpb246IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMudXBkYXRlKHtcbiAgICAgIF9pZDogZGF0YS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHJvbGU6IGRhdGEucm9sZSxcbiAgICAgICAgdXNlcnM6IGRhdGEudXNlcnMsXG4gICAgICAgIG9yZzogZGF0YS5vcmdcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgdXBkYXRlRmxvd1JvbGU6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICBjb25zb2xlLmxvZyhkYXRhLl9pZCk7XG4gICAgY29uc29sZS5sb2coZGF0YS5uYW1lKTtcbiAgICByZXR1cm4gZGIuZmxvd19yb2xlcy51cGRhdGUoe1xuICAgICAgX2lkOiBkYXRhLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcblx0c3RhcnRfZmxvdzogKHNwYWNlLCBmbG93SWQsIHN0YXJ0KSAtPlxuXG5cdFx0a2V5VmFsdWUgPSBkYi5zdGVlZG9zX2tleXZhbHVlcy5maW5kT25lKHsgc3BhY2U6IHNwYWNlLCB1c2VyOiB0aGlzLnVzZXJJZCwga2V5OiAnc3RhcnRfZmxvd3MnIH0sIHsgZmllbGRzOiB7IHZhbHVlOiAxIH0gfSlcblxuXHRcdHN0YXJ0X2Zsb3dzID0ga2V5VmFsdWU/LnZhbHVlIHx8IFtdXG5cblx0XHRpZiBzdGFydFxuXHRcdFx0c3RhcnRfZmxvd3MucHVzaChmbG93SWQpXG5cblx0XHRcdHN0YXJ0X2Zsb3dzID0gXy51bmlxKHN0YXJ0X2Zsb3dzKVxuXHRcdGVsc2Vcblx0XHRcdHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpXG5cblx0XHRpZiBrZXlWYWx1ZVxuXHRcdFx0ZGIuc3RlZWRvc19rZXl2YWx1ZXMudXBkYXRlKHsgX2lkOiBrZXlWYWx1ZS5faWQgfSwgeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycsIHZhbHVlOiBzdGFydF9mbG93cyB9KVxuXHRcdGVsc2Vcblx0XHRcdGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmluc2VydCh7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJywgdmFsdWU6IHN0YXJ0X2Zsb3dzIH0pXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgc3RhcnRfZmxvdzogZnVuY3Rpb24oc3BhY2UsIGZsb3dJZCwgc3RhcnQpIHtcbiAgICB2YXIga2V5VmFsdWUsIHN0YXJ0X2Zsb3dzO1xuICAgIGtleVZhbHVlID0gZGIuc3RlZWRvc19rZXl2YWx1ZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2UsXG4gICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgIGtleTogJ3N0YXJ0X2Zsb3dzJ1xuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB2YWx1ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIHN0YXJ0X2Zsb3dzID0gKGtleVZhbHVlICE9IG51bGwgPyBrZXlWYWx1ZS52YWx1ZSA6IHZvaWQgMCkgfHwgW107XG4gICAgaWYgKHN0YXJ0KSB7XG4gICAgICBzdGFydF9mbG93cy5wdXNoKGZsb3dJZCk7XG4gICAgICBzdGFydF9mbG93cyA9IF8udW5pcShzdGFydF9mbG93cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpO1xuICAgIH1cbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGtleVZhbHVlLl9pZFxuICAgICAgfSwge1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy5pbnNlcnQoe1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cdGdldF9pbnN0YW5jZV90cmFjZXM6IChpbnNfaWQpLT5cblx0XHRpZiAoIXRoaXMudXNlcklkKVxuXHRcdFx0cmV0dXJuO1xuXHRcdG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLFxuXHRcdFx0J2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJ11cblxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lIHtfaWQ6IGluc19pZH0sIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRcInRyYWNlcy5faWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuc3RlcFwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLm5hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuanVkZ2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgIWluc1xuXHRcdFx0cmV0dXJuXG5cblx0XHRyZXR1cm4gaW5zPy50cmFjZXNcblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBnZXRfaW5zdGFuY2VfdHJhY2VzOiBmdW5jdGlvbihpbnNfaWQpIHtcbiAgICB2YXIgaW5zLCBtaW5pQXBwcm92ZUZpZWxkcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLCAnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nXTtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy5faWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuc3RlcFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGlucyAhPSBudWxsID8gaW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHQnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxuXHRcdGlmICF0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRpZiAhc3BhY2Vcblx0XHRcdHJldHVyblxuXG5cdFx0X2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpXG5cblx0XHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xuXG5cdCdnZXRfYmF0Y2hfaW5zdGFuY2VzX2NvdW50JzogKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKS0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGlmICFzcGFjZVxuXHRcdFx0cmV0dXJuXG5cblx0XHRfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZClcblxuXHRcdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzPy5sZW5ndGggfHwgMFxuXG5cdCdnZXRfbXlfYXBwcm92ZXMnOiAoaW5zdGFuY2VJZHMpLT5cblxuXHRcdHRoYXQgPSB0aGlzXG5cblx0XHRpZiAhdGhhdC51c2VySWRcblx0XHRcdHJldHVyblxuXG5cdFx0bXlBcHByb3ZlcyA9IG5ldyBBcnJheSgpXG5cblx0XHRpbnN0YW5jZUlkcy5mb3JFYWNoIChpbnNJZCktPlxuXHRcdFx0bXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zSWQsIHRoYXQudXNlcklkKVxuXHRcdFx0aWYgbXlfYXBwcm92ZVxuXHRcdFx0XHRteUFwcHJvdmVzLnB1c2gobXlfYXBwcm92ZSlcblxuXHRcdHJldHVybiBteUFwcHJvdmVzXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICAnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKSB7XG4gICAgdmFyIF9iYXRjaF9pbnN0YW5jZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKTtcbiAgICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcztcbiAgfSxcbiAgJ2dldF9iYXRjaF9pbnN0YW5jZXNfY291bnQnOiBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcykge1xuICAgIHZhciBfYmF0Y2hfaW5zdGFuY2VzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZCk7XG4gICAgcmV0dXJuIChfYmF0Y2hfaW5zdGFuY2VzICE9IG51bGwgPyBfYmF0Y2hfaW5zdGFuY2VzLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgfSxcbiAgJ2dldF9teV9hcHByb3Zlcyc6IGZ1bmN0aW9uKGluc3RhbmNlSWRzKSB7XG4gICAgdmFyIG15QXBwcm92ZXMsIHRoYXQ7XG4gICAgdGhhdCA9IHRoaXM7XG4gICAgaWYgKCF0aGF0LnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgaW5zdGFuY2VJZHMuZm9yRWFjaChmdW5jdGlvbihpbnNJZCkge1xuICAgICAgdmFyIG15X2FwcHJvdmU7XG4gICAgICBteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnNJZCwgdGhhdC51c2VySWQpO1xuICAgICAgaWYgKG15X2FwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIG15QXBwcm92ZXMucHVzaChteV9hcHByb3ZlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlBcHByb3ZlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRjaGFuZ2VfZmxvd19zdGF0ZTogKGZsb3dzKSAtPlxuXHRcdGNoZWNrIGZsb3dzLCBBcnJheVxuXG5cdFx0X3VzZXJJZCA9IHRoaXMudXNlcklkXG5cblx0XHRpZiAhX3VzZXJJZFxuXHRcdFx0cmV0dXJuXG5cblx0XHRmbG93cy5mb3JFYWNoIChmbG93KSAtPlxuXHRcdFx0c3BhY2VJZCA9IGZsb3cuc3BhY2Vcblx0XHRcdGZvcm1JZCA9IGZsb3cuZm9ybVxuXHRcdFx0Zmxvd0lkID0gZmxvdy5pZFxuXHRcdFx0c3RhdGUgPSBmbG93LnN0YXRlXG5cblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCBfdXNlcklkKVxuXHRcdFx0XHR0aHJvdyAgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpXG5cblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmb3JtSWQgfSwgeyBmaWVsZHM6IHsgaGlzdG9yeXM6IDAgfSB9KVxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IGhpc3RvcnlzOiAwIH0gfSlcblxuXHRcdFx0aWYgc3RhdGUgIT0gJ2VuYWJsZWQnICYmIHN0YXRlICE9ICdkaXNhYmxlZCdcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwic3RhdGXml6DmlYhcIilcblxuXHRcdFx0aWYgIWZvcm1cblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZm9ybeaXoOaViFwiKVxuXG5cdFx0XHRpZiAhZmxvd1xuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmbG935peg5pWIXCIpXG5cblx0XHRcdGlmICFmb3JtLmlzX3ZhbGlkXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+W8leeUqOeahOihqOWNlVsje2Zvcm0ubmFtZX1d6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpXG5cblx0XHRcdGlmICFmbG93LmlzX3ZhbGlkXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKVxuXG5cdFx0XHRpZiAhWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpXG5cblx0XHRcdGlmICFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIilcblxuXHRcdFx0aWYgXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT0gZmxvdy5jdXJyZW50LnN0ZXBzLmxlbmd0aFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzlkIzkuIDkuKrmtYHnqIvkuIvnmoTmraXpqqTnmoTlkI3np7DkuI3og73ph43lpI1cIilcblxuXHRcdFx0bm93ID0gbmV3IERhdGVcblxuXHRcdFx0aWYgc3RhdGUgPT0gJ2VuYWJsZWQnXG5cdFx0XHRcdCPmtYHnqIvlkK/nlKjliY3vvIzmoKHpqozlhbbigJzmjIflrprljoblj7LmraXpqqTigJ3lsZ7mgKfkuK3ooqvlvJXnlKjnmoTmraXpqqTmmK/lkKblrZjlnKjkuJTog73ooqvmib7liLDvvIjku4XpmZDkuo7mtYHnqIvnmoTmnIDmlrDniYjvvIlcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2ggKHN0ZXApIC0+XG5cdFx0XHRcdFx0aWYgWydzcGVjaWZ5U3RlcFVzZXInLCAnc3BlY2lmeVN0ZXBSb2xlJ10uaW5jbHVkZXMoc3RlcC5kZWFsX3R5cGUpXG5cdFx0XHRcdFx0XHRpZiAhc3RlcC5hcHByb3Zlcl9zdGVwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFsje3N0ZXAubmFtZX1d5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdHNwZWNpZnlTdGVwID0gXy5maW5kIGZsb3cuY3VycmVudC5zdGVwcywgKF9zdGVwKSAtPlxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzdGVwLmFwcHJvdmVyX3N0ZXAgPT0gX3N0ZXAuX2lkXG5cblx0XHRcdFx0XHRcdFx0aWYgIXNwZWNpZnlTdGVwXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkWyN7c3RlcC5uYW1lfV3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIilcblxuXHRcdFx0XHRmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUgPSBmb3JtLmN1cnJlbnQuZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKVxuXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoIChzdGVwKSAtPlxuXHRcdFx0XHRcdHN0ZXAuZmllbGRzX21vZGlmaWFibGUgPSBfLmludGVyc2VjdGlvbihzdGVwLmZpZWxkc19tb2RpZmlhYmxlLCBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUpXG5cblx0XHRcdFx0I+WmguaenCDmtYHnqIvlr7nlupTooajljZUg5piv5YGc55So55qEIOWImeWQr+eUqFxuXHRcdFx0XHRpZiBmb3JtLnN0YXRlID09ICdkaXNhYmxlZCdcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWR9fSlcblxuXHRcdFx0XHRmbG93LmN1cnJlbnQubW9kaWZpZWQgPSBub3dcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0YXJ0X2RhdGUgPSBub3dcblx0XHRcdFx0Zmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZFxuXG5cdFx0XHRcdGRiLmZsb3dzLnVwZGF0ZSh7IF9pZDogZmxvdy5faWQgfSwgeyAkc2V0OiB7IFwic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnQgfSB9KVxuXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCPnpoHnlKjmtYHnqItcblx0XHRcdFx0ZGIuZmxvd3MudXBkYXRlKHtfaWQ6IGZsb3cuX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZGlzYWJsZWRcIiwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxuXG5cdFx0XHRcdCMg5Yik5pat6KGo5Y2V5omA5pyJ5rWB56iL5piv5ZCm5bey57uP5YWo6YOo5YGc55SoIOWmguaenOW3suWFqOmDqOWBnOeUqCDliJnkv67mlLnooajljZXnirbmgIHkuLrlgZznlKhcblx0XHRcdFx0X2Zsb3dzID0gZGIuZmxvd3MuZmluZCh7IGZvcm06IGZvcm0uX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSwgc3RhdGU6IDEgfSB9KS5mZXRjaCgpXG5cblx0XHRcdFx0X2Zsb3dzX3N0YXRlID0gX2Zsb3dzLmdldFByb3BlcnR5KFwic3RhdGVcIilcblxuXHRcdFx0XHRpZiAhX2Zsb3dzX3N0YXRlLmluY2x1ZGVzKCdlbmFibGVkJylcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJkaXNhYmxlZFwiLCBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXG5cblxuXG5cbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgY2hhbmdlX2Zsb3dfc3RhdGU6IGZ1bmN0aW9uKGZsb3dzKSB7XG4gICAgdmFyIF91c2VySWQ7XG4gICAgY2hlY2soZmxvd3MsIEFycmF5KTtcbiAgICBfdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaWYgKCFfdXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBmbG93cy5mb3JFYWNoKGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgIHZhciBfZmxvd3MsIF9mbG93c19zdGF0ZSwgZmxvd0lkLCBmb3JtLCBmb3JtSWQsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSwgbm93LCBzcGFjZUlkLCBzdGF0ZTtcbiAgICAgIHNwYWNlSWQgPSBmbG93LnNwYWNlO1xuICAgICAgZm9ybUlkID0gZmxvdy5mb3JtO1xuICAgICAgZmxvd0lkID0gZmxvdy5pZDtcbiAgICAgIHN0YXRlID0gZmxvdy5zdGF0ZTtcbiAgICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgX3VzZXJJZCkpIHtcbiAgICAgICAgdGhyb3cgTWV0ZW9yLkVycm9yKDQwMSwgXCJObyBwZXJtaXNzaW9uXCIpO1xuICAgICAgfVxuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZvcm1JZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBoaXN0b3J5czogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93SWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaGlzdG9yeXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoc3RhdGUgIT09ICdlbmFibGVkJyAmJiBzdGF0ZSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJzdGF0ZeaXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZm9ybSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmb3Jt5peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93KSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZsb3fml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZvcm0uaXNfdmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL5byV55So55qE6KGo5Y2VW1wiICsgZm9ybS5uYW1lICsgXCJd6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmbG93LmlzX3ZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghWyduZXcnLCAnbW9kaWZ5JywgJ2RlbGV0ZSddLmluY2x1ZGVzKGZsb3cuZmxvd3R5cGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzQXJyYXkoZmxvdy5jdXJyZW50LnN0ZXBzKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIik7XG4gICAgICB9XG4gICAgICBpZiAoXy51bmlxKGZsb3cuY3VycmVudC5zdGVwcywgJ25hbWUnKS5sZW5ndGggIT09IGZsb3cuY3VycmVudC5zdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5ZCM5LiA5Liq5rWB56iL5LiL55qE5q2l6aqk55qE5ZCN56ew5LiN6IO96YeN5aSNXCIpO1xuICAgICAgfVxuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpZiAoc3RhdGUgPT09ICdlbmFibGVkJykge1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgdmFyIHNwZWNpZnlTdGVwO1xuICAgICAgICAgIGlmIChbJ3NwZWNpZnlTdGVwVXNlcicsICdzcGVjaWZ5U3RlcFJvbGUnXS5pbmNsdWRlcyhzdGVwLmRlYWxfdHlwZSkpIHtcbiAgICAgICAgICAgIGlmICghc3RlcC5hcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFtcIiArIHN0ZXAubmFtZSArIFwiXeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNwZWNpZnlTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oX3N0ZXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcC5hcHByb3Zlcl9zdGVwID09PSBfc3RlcC5faWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoIXNwZWNpZnlTdGVwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkW1wiICsgc3RlcC5uYW1lICsgXCJd5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlID0gZm9ybS5jdXJyZW50LmZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIik7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICByZXR1cm4gc3RlcC5maWVsZHNfbW9kaWZpYWJsZSA9IF8uaW50ZXJzZWN0aW9uKHN0ZXAuZmllbGRzX21vZGlmaWFibGUsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZm9ybS5zdGF0ZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgIGRiLmZvcm1zLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZvcm0uX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkID0gbm93O1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZDtcbiAgICAgICAgcmV0dXJuIGRiLmZsb3dzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBmbG93Ll9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGIuZmxvd3MudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGZsb3cuX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBcInN0YXRlXCI6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF9mbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICAgIGZvcm06IGZvcm0uX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgIHN0YXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICBfZmxvd3Nfc3RhdGUgPSBfZmxvd3MuZ2V0UHJvcGVydHkoXCJzdGF0ZVwiKTtcbiAgICAgICAgaWYgKCFfZmxvd3Nfc3RhdGUuaW5jbHVkZXMoJ2VuYWJsZWQnKSkge1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmb3JtLl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXG5cblx0aGlkZV9pbnN0YW5jZTogKGluc0lkLCBpc19oaWRkZW4pIC0+XG5cdFx0aWYgIXRoaXMudXNlcklkXG5cdFx0XHRyZXR1cm5cblxuXHRcdGNoZWNrKGluc0lkLCBTdHJpbmcpXG5cdFx0Y2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKVxuXG5cdFx0dXNlcklkID0gdGhpcy51c2VySWRcblxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHsgZmllbGRzOiB7IHN0YXRlOiAxLCBmbG93OiAxLCBzcGFjZTogMSB9IH0pXG5cblx0XHRpZiBub3QgaW5zdGFuY2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2VXCIpXG5cblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250ICdjb21wbGV0ZWQnXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeKtuaAgeS4jeaYr+W3sue7k+adn1wiKVxuXG5cdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgdXNlcklkKVxuXHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXG5cdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSlcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXG5cblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKGluc0lkLCB7ICRzZXQ6IHsgaXNfaGlkZGVuOiBpc19oaWRkZW4gfSB9KVxuXG5cdFx0cmV0dXJuIHRydWU7XG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGhpZGVfaW5zdGFuY2U6IGZ1bmN0aW9uKGluc0lkLCBpc19oaWRkZW4pIHtcbiAgICB2YXIgaW5zdGFuY2UsIHBlcm1pc3Npb25zLCBzcGFjZSwgdXNlcklkO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hlY2soaW5zSWQsIFN0cmluZyk7XG4gICAgY2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKTtcbiAgICB1c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGZsb3c6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZVcIik7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V54q25oCB5LiN5piv5bey57uT5p2fXCIpO1xuICAgIH1cbiAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCB1c2VySWQpO1xuICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBhZG1pbnM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgfVxuICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zSWQsIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgaXNfaGlkZGVuOiBpc19oaWRkZW5cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xuXHRnZXRJbnN0YW5jZVZhbHVlczogKGluc0lkKS0+XG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcblx0XHRcdHJldHVybjtcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zSWR9LCB7ZmllbGRzOiB7dmFsdWVzOiAxfX0pPy52YWx1ZXMiLCJNZXRlb3IubWV0aG9kcyh7XG4gIGdldEluc3RhbmNlVmFsdWVzOiBmdW5jdGlvbihpbnNJZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdmFsdWVzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gKHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKSAtPlxuXG5cdHVzZXIgPSBTdGVlZG9zLmdldEFQSUxvZ2luVXNlcihyZXEsIHJlcylcblxuXHRpZiByZXE/LnF1ZXJ5Py5hY2Nlc3NfdG9rZW5cblx0XHR1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKVxuXHRcdGlmIHVzZXJJZFxuXHRcdFx0dXNlciA9IE1ldGVvci51c2Vycy5maW5kT25lKHtfaWQ6IHVzZXJJZH0pXG5cblx0c3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2VcblxuXHRpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZFxuXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pO1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe19pZDogc3BhY2VJZH0pO1xuXG5cdGhpZGVfdHJhY2VzID0gcmVxLnF1ZXJ5Py5oaWRlX3RyYWNlc1xuXG5cdGlmICFvcHRpb25zXG5cdFx0b3B0aW9ucyA9IHtzaG93VHJhY2U6IHRydWV9XG5cdGVsc2Vcblx0XHRvcHRpb25zLnNob3dUcmFjZSA9IHRydWVcblxuXHRpZiBoaWRlX3RyYWNlcyBpcyBcIjFcIlxuXHRcdGlmIG9wdGlvbnNcblx0XHRcdG9wdGlvbnMuc2hvd1RyYWNlID0gZmFsc2Vcblx0XHRlbHNlXG5cdFx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogZmFsc2V9XG5cblx0aWYgIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzXG5cdFx0b3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlXG5cblx0aWYgIXNwYWNlXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGlmICAhaW5zdGFuY2Vcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBpbnN0YW5jZVwiLFxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRyZXR1cm47XG5cblx0aWYgIXVzZXJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRpZiBpbnN0YW5jZS5zcGFjZSAhPSBzcGFjZUlkXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cblxuXHRzcGFjZVVzZXJDb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyB1c2VyOiB1c2VyLl9pZCwgc3BhY2U6IHNwYWNlSWQgfSkuY291bnQoKVxuXG5cdGlmIHNwYWNlVXNlckNvdW50IGlzIDBcblx0XHRpZiAhc3BhY2Vcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdFx0cmV0dXJuO1xuXG5cdCPmoKHpqox1c2Vy5piv5ZCm5a+5aW5zdGFuY2XmnInmn6XnnIvmnYPpmZBcblx0X2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSlcblxuXHRpZiAhX2hhc1Blcm1pc3Npb24gICYmIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZVxuXHRcdF9wYXJlbnRfaW5zdGFuY2VzID0gXy51bmlvbihbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXSwgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyB8fCBbXSlcblxuXHRcdF9oYXNQZXJtaXNzaW9uID0gXy5maW5kIF9wYXJlbnRfaW5zdGFuY2VzLCAoX3BhcmVudF9pZCktPlxuXHRcdFx0X3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOl9wYXJlbnRfaWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pXG5cblx0XHRcdHJldHVybiBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBfcGFyZW50X2lucylcblxuXHRpZiAhX2hhc1Blcm1pc3Npb25cblx0XHRfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpXG5cdFx0ZXJyb3IgPSBUQVBpMThuLl9fKFwiaW5zdGFuY2VfcGVybWlzc2lvbnNfZXJyb3JcIiwge30sIF9sb2NhbGUpXG5cdFx0cmVzLmNoYXJzZXQgPSBcInV0Zi04XCJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBlcnJvcixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoaHRtbClcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkXCIsIGdldEluc3RhbmNlUmVhZE9ubHlcblxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkLzppbnN0YW5jZV9uYW1lXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG5cdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcblx0cmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJylcblxuXHRvcHRpb25zID0ge2Fic29sdXRlOiB0cnVlfVxuXG5cdHJldHVybiBnZXRJbnN0YW5jZVJlYWRPbmx5KHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKVxuIyMjXG5cdOiOt+WPlueUs+ivt+WNleWIl+ihqO+8mlxuICAgIGZpbmFsX2RlY2lzaW9u77ya5a6h5om557uT5p6cXG4gICAgc3RhdGU6IOeUs+ivt+WNleeKtuaAgVxuIyMjXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cblxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVybiA7XG5cblx0dXNlcl9pZCA9IHJlcS51c2VySWRcblxuXHRzcGFjZUlkID0gcmVxLmhlYWRlcnNbXCJ4LXNwYWNlLWlkXCJdXG5cblx0aWYgbm90IHNwYWNlSWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxuXHRcdHJldHVybjtcblxuXHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3dJZFxuXG5cdGlmICFmbG93SWRcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxuXHRcdFx0Y29kZTogNDAwLFxuXHRcdFx0ZGF0YTpcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBmbG93SWRcIixcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0cmV0dXJuO1xuXG5cdHF1ZXJ5ID0ge31cblxuXHRyZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXG5cblx0Zmxvd0lkcyA9IGZsb3dJZC5zcGxpdChcIixcIilcblxuXG5cdGZsb3dzID0gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93SWRzfX0pLmZldGNoKClcblxuXHRpID0gMFxuXHR3aGlsZSBpIDwgZmxvd3MubGVuZ3RoXG5cdFx0ZiA9IGZsb3dzW2ldXG5cdFx0c3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7c3BhY2U6IGYuc3BhY2UsIHVzZXI6IHVzZXJfaWR9KVxuXHRcdGlmICFzcGFjZVVzZXJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdGNvZGU6IDQwMSxcblx0XHRcdFx0ZGF0YTpcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXG5cdFx0XHRyZXR1cm47XG5cdFx0ZWxzZVxuXG5cdCNcdOaYr+WQpuW3peS9nOWMuueuoeeQhuWRmFxuXHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCB1c2VyX2lkKVxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG5cdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdCRpbjogc3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcblx0XHRcdFx0fVxuXHRcdFx0fSkuZmV0Y2goKTtcblxuXHRcdFx0aWYgIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXG5cdFx0XHRcdFx0Y29kZTogNDAxLFxuXHRcdFx0XHRcdGRhdGE6XG5cdFx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2Vcblx0XHRcdFx0cmV0dXJuO1xuXHRcdGkrK1xuXG5cblx0cXVlcnkuZmxvdyA9IHskaW46IGZsb3dJZHN9XG5cblx0cXVlcnkuc3BhY2UgPSBzcGFjZUlkXG5cblx0aWYgcmVxLnF1ZXJ5Py5zeW5jX3Rva2VuXG5cdFx0c3luY190b2tlbiA9IG5ldyBEYXRlKE51bWJlcihyZXEucXVlcnkuc3luY190b2tlbikpXG5cdFx0cXVlcnkubW9kaWZpZWQgPSB7JGd0OiBzeW5jX3Rva2VufVxuXG5cdGlmIHJlcS5xdWVyeT8uZmluYWxfZGVjaXNpb25cblx0XHRxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHskaW4gOiByZXEucXVlcnkuZmluYWxfZGVjaXNpb24uc3BsaXQoXCIsXCIpfVxuXHRlbHNlXG5cdFx0cXVlcnkuZmluYWxfZGVjaXNpb24gPSB7JG5pbjogW1widGVybWluYXRlZFwiLCBcInJlamVjdGVkXCJdfVxuXG5cdGlmIHJlcS5xdWVyeT8uc3RhdGVcblx0XHRxdWVyeS5zdGF0ZSA9IHskaW46IHJlcS5xdWVyeS5zdGF0ZS5zcGxpdChcIixcIil9XG5cdGVsc2Vcblx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcblxuI1x05pyA5aSa6L+U5ZueNTAw5p2h5pWw5o2uXG5cdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5mZXRjaCgpXG5cdGluc3RhbmNlcy5mb3JFYWNoIChpbnN0YW5jZSktPlxuXG5cdFx0YXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxuXG5cdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBhdHRhY2htZW50c1xuXG5cblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcblx0XHRcdGNvZGU6IDIwMCxcblx0XHRcdGRhdGE6XG5cdFx0XHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFx0XHRcInN5bmNfdG9rZW5cIjogcmV0X3N5bmNfdG9rZW5cblx0XHRcdFx0XCJkYXRhXCI6IGluc3RhbmNlc1xuXHRyZXR1cm47XG4iLCJ2YXIgQ29va2llcywgZ2V0SW5zdGFuY2VSZWFkT25seTtcblxuQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpO1xuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpIHtcbiAgdmFyIF9oYXNQZXJtaXNzaW9uLCBfbG9jYWxlLCBfcGFyZW50X2luc3RhbmNlcywgZGF0YUJ1ZiwgZXJyb3IsIGhpZGVfdHJhY2VzLCBodG1sLCBpbnN0YW5jZSwgaW5zdGFuY2VJZCwgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZCwgc3BhY2VVc2VyQ291bnQsIHVzZXIsIHVzZXJJZDtcbiAgdXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKTtcbiAgaWYgKHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5hY2Nlc3NfdG9rZW4gOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICB1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKTtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICB1c2VyID0gTWV0ZW9yLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHVzZXJJZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZDtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICBfaWQ6IHNwYWNlSWRcbiAgfSk7XG4gIGhpZGVfdHJhY2VzID0gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmhpZGVfdHJhY2VzIDogdm9pZCAwO1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2hvd1RyYWNlOiB0cnVlXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLnNob3dUcmFjZSA9IHRydWU7XG4gIH1cbiAgaWYgKGhpZGVfdHJhY2VzID09PSBcIjFcIikge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLnNob3dUcmFjZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzaG93VHJhY2U6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzKSB7XG4gICAgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlO1xuICB9XG4gIGlmICghc3BhY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghdXNlcikge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5zdGFuY2Uuc3BhY2UgIT09IHNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNwYWNlVXNlckNvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgdXNlcjogdXNlci5faWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKTtcbiAgaWYgKHNwYWNlVXNlckNvdW50ID09PSAwKSB7XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgX2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSk7XG4gIGlmICghX2hhc1Blcm1pc3Npb24gJiYgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG4gICAgX3BhcmVudF9pbnN0YW5jZXMgPSBfLnVuaW9uKFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VdLCBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIHx8IFtdKTtcbiAgICBfaGFzUGVybWlzc2lvbiA9IF8uZmluZChfcGFyZW50X2luc3RhbmNlcywgZnVuY3Rpb24oX3BhcmVudF9pZCkge1xuICAgICAgdmFyIF9wYXJlbnRfaW5zO1xuICAgICAgX3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogX3BhcmVudF9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0cmFjZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpO1xuICAgIH0pO1xuICB9XG4gIGlmICghX2hhc1Blcm1pc3Npb24pIHtcbiAgICBfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpO1xuICAgIGVycm9yID0gVEFQaTE4bi5fXyhcImluc3RhbmNlX3Blcm1pc3Npb25zX2Vycm9yXCIsIHt9LCBfbG9jYWxlKTtcbiAgICByZXMuY2hhcnNldCA9IFwidXRmLThcIjtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtXCIgKyAoZGF0YUJ1Zi5sZW5ndGggLSAxKSArIFwiL1wiICsgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoaHRtbCk7XG59O1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZC86aW5zdGFuY2VfbmFtZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgb3B0aW9ucztcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcbiAgcmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJyk7XG4gIG9wdGlvbnMgPSB7XG4gICAgYWJzb2x1dGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpO1xufSk7XG5cblxuLypcblx06I635Y+W55Sz6K+35Y2V5YiX6KGo77yaXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcbiAgICBzdGF0ZTog55Sz6K+35Y2V54q25oCBXG4gKi9cblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZiwgZmxvd0lkLCBmbG93SWRzLCBmbG93cywgaSwgaW5zdGFuY2VzLCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZXRfc3luY190b2tlbiwgc3BhY2VJZCwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzeW5jX3Rva2VuLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHNwYWNlSWQgPSByZXEuaGVhZGVyc1tcIngtc3BhY2UtaWRcIl07XG4gIGlmICghc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3dJZCA6IHZvaWQgMDtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgZmxvd0lkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBxdWVyeSA9IHt9O1xuICByZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBmbG93SWRzID0gZmxvd0lkLnNwbGl0KFwiLFwiKTtcbiAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgaSA9IDA7XG4gIHdoaWxlIChpIDwgZmxvd3MubGVuZ3RoKSB7XG4gICAgZiA9IGZsb3dzW2ldO1xuICAgIHNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IGYuc3BhY2UsXG4gICAgICB1c2VyOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgaWYgKCFzcGFjZVVzZXIpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuXG4gICAgfVxuICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgdXNlcl9pZCkpIHtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpKys7XG4gIH1cbiAgcXVlcnkuZmxvdyA9IHtcbiAgICAkaW46IGZsb3dJZHNcbiAgfTtcbiAgcXVlcnkuc3BhY2UgPSBzcGFjZUlkO1xuICBpZiAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN5bmNfdG9rZW4gOiB2b2lkIDApIHtcbiAgICBzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSk7XG4gICAgcXVlcnkubW9kaWZpZWQgPSB7XG4gICAgICAkZ3Q6IHN5bmNfdG9rZW5cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuZmluYWxfZGVjaXNpb24gOiB2b2lkIDApIHtcbiAgICBxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuZmluYWxfZGVjaXNpb24gPSB7XG4gICAgICAkbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl1cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc3RhdGUgOiB2b2lkIDApIHtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9XG4gIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICB0cmFjZXM6IDAsXG4gICAgICBhdHRhY2htZW50czogMFxuICAgIH0sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogNTAwXG4gIH0pLmZldGNoKCk7XG4gIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzO1xuICAgIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICRuZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjb3BpZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzO1xuICB9KTtcbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICAgIFwic3luY190b2tlblwiOiByZXRfc3luY190b2tlbixcbiAgICAgIFwiZGF0YVwiOiBpbnN0YW5jZXNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIChyZXEsIHJlcywgbmV4dCktPlxuXG5cdGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpXG5cblx0YWxsQ3NzTGluayA9IFwiXCJcblxuXHRhbGxDc3MuZm9yRWFjaCAoY3NzKSAtPlxuXHRcdGlmIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVhcblx0XHRcdHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMXG5cdFx0XHRpZiByb290VXJsLmVuZHNXaXRoKFwiL1wiKVxuXHRcdFx0XHRjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsXG5cdFx0XHRlbHNlXG5cdFx0XHRcdGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCwgXCJcIikgKyBjc3MudXJsXG5cdFx0ZWxzZVxuXHRcdFx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKVxuXHRcdGFsbENzc0xpbmsgKz0gXCJAaW1wb3J0IHVybCgje2Nzc0hyZWZ9KTtcIlxuXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXG5cdHJlcy5lbmQoYWxsQ3NzTGluaykiLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9zdGVlZG9zLWNzc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYWxsQ3NzLCBhbGxDc3NMaW5rO1xuICBhbGxDc3MgPSBXZWJBcHAuZ2V0UmVmcmVzaGFibGVBc3NldHMoKTtcbiAgYWxsQ3NzTGluayA9IFwiXCI7XG4gIGFsbENzcy5mb3JFYWNoKGZ1bmN0aW9uKGNzcykge1xuICAgIHZhciBjc3NIcmVmLCByb290VXJsO1xuICAgIGlmIChfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYKSB7XG4gICAgICByb290VXJsID0gX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTDtcbiAgICAgIGlmIChyb290VXJsLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgICBjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYLCBcIlwiKSArIGNzcy51cmw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNzc0hyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoY3NzLnVybCk7XG4gICAgfVxuICAgIHJldHVybiBhbGxDc3NMaW5rICs9IFwiQGltcG9ydCB1cmwoXCIgKyBjc3NIcmVmICsgXCIpO1wiO1xuICB9KTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGFsbENzc0xpbmspO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxuXHRcdHJldHVyblxuXG5cdHVzZXJfaWQgPSByZXEudXNlcklkXG5cblx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcblxuXHRzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZVxuXG5cdGZsb3dJZCA9IHJlcS5wYXJhbXMuZmxvd1xuXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoeyBfaWQ6IHNwYWNlSWQgfSlcblxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50Ll9pZCc6IDEsIGZvcm06IDEgfSB9KVxuXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuX2lkJzogMSB9IH0pXG5cblx0b3B0aW9ucyA9IHtcblx0XHRzaG93VHJhY2U6IGZhbHNlLFxuXHRcdHNob3dBdHRhY2htZW50czogZmFsc2UsXG5cdFx0dGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcblx0XHRlZGl0YWJsZTogdHJ1ZSxcblx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0aW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuXHRcdHBsdWdpbnM6IFwiXCJcIlxuXG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwiWC1VQS1Db21wYXRpYmxlXCIgY29udGVudD1cIklFPWVkZ2UsY2hyb21lPTFcIiAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cImZvcm1hdC1kZXRlY3Rpb25cIiBjb250ZW50PVwidGVsZXBob25lPW5vXCI+XG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwieC1yaW0tYXV0by1tYXRjaFwiIGNvbnRlbnQ9XCJub25lXCI+XG5cdFx0XHQ8dGl0bGU+I3tmbG93Lm5hbWV9PC90aXRsZT5cblx0XHRcdDxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxuXHRcdFx0PG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aFwiIC8+XG5cblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1wiPlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxuXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9sb2NhbGVzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci56aC1DTi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBjaGFyc2V0PVwiVVRGLThcIj48L3NjcmlwdD5cblxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5jc3NcIj5cblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXCI+XG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy93b3JrZmxvd19jbGllbnQuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XG5cdFx0XCJcIlwiXG5cdH1cblxuXHRpbnN0YW5jZSA9IHtcblx0XHRmbG93OiBmbG93Ll9pZCxcblx0XHRmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG5cdFx0Zm9ybTogZm9ybS5faWQsXG5cdFx0Zm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuXHRcdHZhbHVlczoge30sXG5cdFx0bmFtZTogZmxvdy5uYW1lLFxuXHRcdHNwYWNlOiBzcGFjZUlkXG5cdH1cblxuXHRodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXG5cblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbClcblxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKVxuXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXG5cblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcblxuXHRyZXMuZW5kKGh0bWwpXG4iLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGRhdGFCdWYsIGZsb3csIGZsb3dJZCwgZm9ybSwgaHRtbCwgaW5zdGFuY2UsIG9wdGlvbnMsIHNwYWNlLCBzcGFjZUlkLCB1c2VyLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICBfaWQ6IHVzZXJfaWRcbiAgfSk7XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBmbG93SWQgPSByZXEucGFyYW1zLmZsb3c7XG4gIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogc3BhY2VJZFxuICB9KTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICAnY3VycmVudC5faWQnOiAxLFxuICAgICAgZm9ybTogMVxuICAgIH1cbiAgfSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGZsb3cuZm9ybVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgfVxuICB9KTtcbiAgb3B0aW9ucyA9IHtcbiAgICBzaG93VHJhY2U6IGZhbHNlLFxuICAgIHNob3dBdHRhY2htZW50czogZmFsc2UsXG4gICAgdGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuICAgIHBsdWdpbnM6IFwiXFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwiWC1VQS1Db21wYXRpYmxlXFxcIiBjb250ZW50PVxcXCJJRT1lZGdlLGNocm9tZT0xXFxcIiAvPlxcbjxtZXRhIG5hbWU9XFxcImZvcm1hdC1kZXRlY3Rpb25cXFwiIGNvbnRlbnQ9XFxcInRlbGVwaG9uZT1ub1xcXCI+XFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwieC1yaW0tYXV0by1tYXRjaFxcXCIgY29udGVudD1cXFwibm9uZVxcXCI+XFxuPHRpdGxlPlwiICsgZmxvdy5uYW1lICsgXCI8L3RpdGxlPlxcbjxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxcbjxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGhcXFwiIC8+XFxuXFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1xcXCI+XFxuXFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcblxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvbG9jYWxlcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIuemgtQ04uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCIgY2hhcnNldD1cXFwiVVRGLThcXFwiPjwvc2NyaXB0PlxcblxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmNzc1xcXCI+XFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXFxcIj5cXG48c2NyaXB0IHNyYz1cXFwiL2pzL3dvcmtmbG93X2NsaWVudC5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cIlxuICB9O1xuICBpbnN0YW5jZSA9IHtcbiAgICBmbG93OiBmbG93Ll9pZCxcbiAgICBmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG4gICAgZm9ybTogZm9ybS5faWQsXG4gICAgZm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuICAgIHZhbHVlczoge30sXG4gICAgbmFtZTogZmxvdy5uYW1lLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC1cIiArIChkYXRhQnVmLmxlbmd0aCAtIDEpICsgXCIvXCIgKyBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChodG1sKTtcbn0pO1xuIiwiQXJyYXkucHJvdG90eXBlLmZpbHRlclByb3BlcnR5ID0gZnVuY3Rpb24oaCwgbCl7XG4gICAgdmFyIGcgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7XG4gICAgICAgIHZhciBtID0gdD8gdFtoXTpudWxsO1xuICAgICAgICB2YXIgZCA9IGZhbHNlO1xuICAgICAgICBpZihtIGluc3RhbmNlb2YgQXJyYXkpe1xuICAgICAgICAgICAgZCA9IG0uaW5jbHVkZXMobCk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZCA9IChsID09PSB1bmRlZmluZWQpPyBmYWxzZTptPT1sO1xuICAgICAgICB9XG4gICAgICAgIGlmKGQpe1xuICAgICAgICAgICAgZy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGc7XG59O1xuXG5BcnJheS5wcm90b3R5cGUuZ2V0UHJvcGVydHkgPSBmdW5jdGlvbihrKXtcbiAgICB2YXIgdiA9IG5ldyBBcnJheSgpO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbih0KXtcbiAgICAgICAgdmFyIG0gPSB0PyB0W2tdOm51bGw7XG4gICAgICAgIHYucHVzaChtKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdjtcbn1cblxuQXJyYXkucHJvdG90eXBlLmdldEVhY2ggPSBmdW5jdGlvbihjb2RlKXtcbiAgICB2YXIgcmV2ID0gW107XG4gICAgZm9yKHZhciBpID0gMCA7IGkgPCB0aGlzLmxlbmd0aCA7IGkrKyl7XG4gICAgICAgIHJldi5wdXNoKHRoaXNbaV1bY29kZV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xufTtcblxuQXJyYXkucHJvdG90eXBlLnVuaXEgPSBmdW5jdGlvbigpe1xuICAgIHZhciBhID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGIpeyBcbiAgICAgICAgaWYoYS5pbmRleE9mKGIpIDwgMClcbiAgICAgICAgICAgIHthW2EubGVuZ3RoXSA9IGJ9XG4gICAgfSk7XG4gICAgcmV0dXJuIGE7XG59O1xuXG5Gb3JtX2Zvcm11bGEgPSB7fTtcblxuXG5Gb3JtX2Zvcm11bGEubWl4aW4gPSBmdW5jdGlvbihkZXN0LCBzcmMpe1xuICAgIGZvcih2YXIga2V5IGluIHNyYyl7XG4gICAgICAgIGRlc3Rba2V5XSA9IHNyY1trZXldO1xuICAgIH1cbiAgICByZXR1cm4gZGVzdDtcbn07XG5cblxuRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QgPSBmdW5jdGlvbih1KXtcblxuICAgIGlmKHUgaW5zdGFuY2VvZiBBcnJheSl7XG4gICAgICAgIHZhciB1c2VyID0ge307XG5cbiAgICAgICAgdXNlci5uYW1lID0gdS5nZXRQcm9wZXJ0eShcIm5hbWVcIilcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24gPSB7fTtcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24ubmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbi5mdWxsbmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICB1c2VyLmhyID0gdS5nZXRQcm9wZXJ0eShcImhyXCIpXG5cbiAgICAgICAgdXNlci5zb3J0X25vID0gdS5nZXRQcm9wZXJ0eShcInNvcnRfbm9cIilcblxuXHRcdHVzZXIubW9iaWxlID0gdS5nZXRQcm9wZXJ0eShcIm1vYmlsZVwiKVxuXG5cdFx0dXNlci53b3JrX3Bob25lID0gdS5nZXRQcm9wZXJ0eShcIndvcmtfcGhvbmVcIilcblxuXHRcdHVzZXIucG9zaXRpb24gPSB1LmdldFByb3BlcnR5KFwicG9zaXRpb25cIilcblxuICAgICAgICB2YXIgdXNlclJvbGVzID0gdS5nZXRQcm9wZXJ0eShcInJvbGVzXCIpO1xuICAgICAgICB2YXIgcm9sZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdXNlclJvbGVzLmZvckVhY2goZnVuY3Rpb24oaSl7XG4gICAgICAgICAgICByb2xlcyA9IHJvbGVzLmNvbmNhdChpKTtcbiAgICAgICAgfSk7IFxuICAgICAgICByb2xlcy51bmlxKCk7XG4gICAgICAgIHVzZXIucm9sZXMgPSByb2xlcztcbiAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgfWVsc2V7XG4gICAgICAgIHJldHVybiB1O1xuICAgIH1cbn1cblxuRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdCA9IGZ1bmN0aW9uKG8pe1xuXG4gICAgaWYobyBpbnN0YW5jZW9mIEFycmF5KXtcbiAgICAgICAgdmFyIG9yZyA9IHt9O1xuXHRcdG9yZy5pZCA9IG8uZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICAgIG9yZy5uYW1lID0gby5nZXRQcm9wZXJ0eShcIm5hbWVcIik7XG4gICAgICAgIG9yZy5mdWxsbmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcblxuICAgICAgICByZXR1cm4gb3JnO1xuICAgIH1lbHNle1xuICAgICAgICByZXR1cm4gbztcbiAgICB9XG59XG5cblxuXG4vKipcbiAgICAqIOiOt+W+l+WFrOW8j+mcgOimgeeUqOWIsOeahOWIneWni+WAvFxuICAgICog6L6T5YWl77yaZmllbGRzLCB2YWx1ZXMsIGFwcGxpY2FudFxuICAgICog6L6T5Ye677yaX192YWx1ZXNcbioqL1xuRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMgPSBmdW5jdGlvbihmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKXtcbiAgICB2YXIgX192YWx1ZXMgPSB7fTtcbiAgICAvL+eUs+ivt+WNleS4reWhq+eahOWAvOWkhOeQhlxuICAgIGlmKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoICYmIGF1dG9Gb3JtRG9jKSB7XG4gICAgICAgIC8vZGVidWdnZXI7XG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKXtcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmllbGQudHlwZTtcbiAgICAgICAgICAgIGlmKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgICAgICog5bCG6KGo5qC85a2X5q6155qE5YC86L+b6KGM6L2s5o2i5ZCO5Lyg5YWlX192YWx1ZXPkuK1cbiAgICAgICAgICAgICAgICAgICAgKiB2YWx1ZXPkuK3ooajmoLznmoTlgLzmoLzlvI/kuLpcbiAgICAgICAgICAgICAgICAgICAgKiBbe1wiYVwiOjEsXCJiXCI6NH0se1wiYVwiOjIsXCJiXCI6NX0se1wiYVwiOjMsXCJiXCI6Nn1dXG4gICAgICAgICAgICAgICAgICAgICogX192YWx1ZXPpnIDopoHovazljJbkuLrkuIvpnaLmoLzlvI/kuJTlkozkuLvooajnmoTlgLzkuIDmoLfmlL7liLDnrKzkuIDlsYJcbiAgICAgICAgICAgICAgICAgICAgKiB7XCJhXCI6WzEsMiwzXSxcImJcIjpbNCw1LDZdfVxuICAgICAgICAgICAgICAgICAgICAqKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlRmllbGRzID0gZmllbGQuc2ZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fdGFibGVWYWx1ZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy/mjInlhazlvI/nmoTmoLzlvI/ovazmjaLlgLzkuLpfX3RhYmxlVmFsdWVzXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhYmxlRmllbGRzICYmIHRhYmxlRmllbGRzLmxlbmd0aCAmJiB0YWJsZVZhbHVlcyAmJiB0YWJsZVZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlVmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGFUYWJsZVZhbHVlcy5wdXNoKEZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzKHRhYmxlRmllbGRzLCB0YWJsZVZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5oyJ5Li76KGo55qE5qC85byP6L2s5o2iX190YWJsZVZhbHVlc+WKoOWIsFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVGaWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZWZpZWxkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RhYmxlVmFsdWVzW3RhYmxlZmllbGQuY29kZV0gPSBmb3JtdWxhVGFibGVWYWx1ZXMuZ2V0RWFjaCh0YWJsZWZpZWxkLmNvZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlcyA9IEZvcm1fZm9ybXVsYS5taXhpbihfX3ZhbHVlcywgX190YWJsZVZhbHVlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ3VzZXInKXtcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBGb3JtX2Zvcm11bGEuaGFuZGVyVXNlck9iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdKSk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2dyb3VwJyl7XG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMoYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0pKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnb2RhdGEnKXtcblx0XHRcdFx0XHRfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdIHx8IHt9XG5cblx0XHRcdFx0fSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy/mraTlpITkvKBzcGFjZUlk57uZ6YCJ5Lq65o6n5Lu255qE5pen5pWw5o2u6K6h566Xcm9sZXPlkoxvcmdhbml6YXRpb25cbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgICAvL+W9k+WJjeWkhOeQhuS6ulxuICAgIF9fdmFsdWVzW1wiYXBwcm92ZXJcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwcm92ZXIpO1xuICAgIC8v55Sz6K+35Lq6XG4gICAgX192YWx1ZXNbXCJhcHBsaWNhbnRcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwbGljYW50KTtcblxuICAgIHJldHVybiBfX3ZhbHVlcztcbn07XG5cbiIsInNlcnZpY2VXb3JrZmxvdyA9IHJlcXVpcmUoJ0BzdGVlZG9zL3NlcnZpY2Utd29ya2Zsb3cnKTtcbmdldEhhbmRsZXJzTWFuYWdlciA9IHt9XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyA9ICh1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKHVzZXJfaWRzLCAodXNlcl9pZCktPlxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoe19pZDogdXNlcl9pZH0pLmNvdW50KCkgPiAwXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZClcblx0XHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdFx0YXBwcm92ZV91c2VycyA9IGFwcHJvdmVfdXNlcnMuY29uY2F0KHVzZXJzKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwidXNlcl9pZOS4jeWQiOazleS4jeWQiOazlVwiKVxuXHQpXG5cdGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycylcblx0cmV0dXJuIGFwcHJvdmVfdXNlcnNcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMgPSAodXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cblx0XHRpZiBkYi5mbG93X3JvbGVzLmZpbmQoe19pZDogcm9sZV9pZH0pLmNvdW50KCkgPiAwXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXG5cdFx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXG5cdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZVxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2udXNlcl9pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUgPSAodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XG5cdG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSB9IH0pLmZldGNoKClcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKG9yZ3MsIChvcmcpIC0+XG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnLl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdClcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdHJldHVybiB1c2VyX2lkc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyA9IChvcmdfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpLT5cblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXG5cdClcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdHJldHVybiB1c2VyX2lkc1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzID0gKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0XHRyZXR1cm4gdXNlcl9pZHNcblx0ZWxzZVxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2ub3JnX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIilcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlID0gKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XG5cdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHBhcmVudHM6IDEgfSB9KVxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxuXHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IG9yZ19pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0Xy5lYWNoKHBvc2l0aW9ucywgKHBvc2l0aW9uKSAtPlxuXHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKVxuXHQpXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCBpcyAwXG5cdFx0cGFyZW50cyA9IG9yZy5wYXJlbnRzXG5cdFx0Xy5lYWNoKHBhcmVudHMsIChwYXJlbnRfaWQpIC0+XG5cdFx0XHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IHBhcmVudF9pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0XHRcdGlmIHBvc2l0aW9ucy5sZW5ndGggPiAwXG5cdFx0XHRcdF8uZWFjaChwb3NpdGlvbnMsIChwb3NpdGlvbikgLT5cblx0XHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycylcblx0XHRcdFx0KVxuXHRcdClcblxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcblx0cmV0dXJuIHVzZXJfaWRzXG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyA9IChpbnN0YW5jZV9pZCwgc3RlcF9pZCwgbG9naW5fdXNlcl9pZCkgLT5cblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZClcblxuXHQjIOaLn+eov+aXtiwg5Y+v5Lul6K6+5a6a5ZCO57ut5q+P5Liq5q2l6aqk55qE5aSE55CG5Lq6ICMxOTI2XG5cdGlmIGluc3RhbmNlLnN0ZXBfYXBwcm92ZSAmJiAhXy5pc0VtcHR5KGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtcIiN7c3RlcF9pZH1fb3B0aW9uc1wiXSlcblx0XHRyZXR1cm4gaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW1wiI3tzdGVwX2lkfV9vcHRpb25zXCJdXG5cblx0YXBwcm92ZV91c2VycyA9IG5ldyBBcnJheVxuXHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXG5cdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XG5cdGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXG5cdGN1cnJlbnRfZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZClcblx0Y3VycmVudF9zdGVwID0gbnVsbFxuXHRjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5XG5cblx0aWYgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkIGlzIGZsb3dfcmV2XG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LnN0ZXBzXG5cdGVsc2Vcblx0XHRjdXJyZW50ID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGhpc3RvcnkpIC0+XG5cdFx0XHRyZXR1cm4gaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHQpXG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnQuc3RlcHNcblxuXHQjIOS7juiOt+WPlueahHN0ZXBz5Lit5qC55o2uOnN0ZXBfaWTmj5Dlj5blr7nlupTnmoRzdGVw5a+56LGhXG5cdGN1cnJlbnRfc3RlcCA9IF8uZmluZChjdXJyZW50X3N0ZXBzLCAoc3RlcCkgLT5cblx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxuXHQpXG5cdCMg5Yik5patc3RlcF90eXBlXG5cdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb25kaXRpb25cIlxuXHRcdHVuZmluaXNoZWRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XG5cdFx0XHRyZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgaXMgZmFsc2Vcblx0XHQpXG5cblx0XHRyZXR1cm4gbmV3IEFycmF5KHVuZmluaXNoZWRfdHJhY2UuYXBwcm92ZXNbMF0udXNlcilcblxuXHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwic3RhcnRcIlxuXHRcdGhhbmRsZXJzID0gbmV3IEFycmF5XG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpXG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpXG5cdFx0aGFuZGxlcnMgPSBfLnVuaXEoaGFuZGxlcnMpXG5cdFx0cmV0dXJuIGhhbmRsZXJzXG5cdCMg5b6X5Yiwc3RlcOeahFwiZGVhbF90eXBlXCLvvIzlubbov5vooYzpgLvovpHliKTmlq3mib7liLDlr7nlupTnmoTlpITnkIbkurpcblx0ZGVhbF90eXBlID0gY3VycmVudF9zdGVwLmRlYWxfdHlwZVxuXHR1c2VycyA9IG5ldyBBcnJheVxuXHRpZiBkZWFsX3R5cGUgaXMgXCJhcHBsaWNhbnRSb2xlXCJcblx0XHQjIDEuKioqKioqKioqKirnlLPor7fkurrmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudFxuXHRcdGlmIGFwcGxpY2FudFxuXHRcdFx0c3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudCB9KS5jb3VudCgpXG5cdFx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKVxuXG5cdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxuXHRcdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIilcblx0XHRcdFx0KVxuXG5cdFx0XHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoYXBwbGljYW50LCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxuXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJJbnN0YW5jZeeahOaPkOS6pOS6uuS4uuepulwiKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImhyUm9sZVwiXG5cdFx0YXBwcm92ZUhyUm9sZUlkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9ocl9yb2xlcztcblx0XHRpZiAoYXBwcm92ZUhyUm9sZUlkcylcblx0XHRcdHVzZXJzID0gXy5wbHVjayhXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlX2lkLCBhcHByb3ZlSHJSb2xlSWRzKSwgJ3VzZXInKTtcblx0XHRlbHNlXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuacquaMh+WumlwiKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFwiXG5cdFx0IyAyLioqKioqKioqKioq55Sz6K+35Lq6KioqKioqKioqKipcblx0XHRhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnRcblx0XHRzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50IH0pLmNvdW50KClcblx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIilcblx0XHRlbHNlXG5cdFx0XHR1c2VycyA9IG5ldyBBcnJheShhcHBsaWNhbnQpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwib3JnRmllbGRSb2xlXCJcblx0XHQjIDMuKioqKioqKioqKirpg6jpl6jlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxuXHRcdGZvcm1fcmV2ID0gbnVsbFxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0KVxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cblxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxuXHRcdFx0KVxuXG5cdFx0YXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZFxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xuXHRcdGZpZWxkX2NvZGUgPSBudWxsXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCkgLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX29yZ19maWVsZFxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXG5cdFx0KVxuXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxuXHRcdG9yZ19pZHMgPSBuZXcgQXJyYXlcblx0XHRvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxuXG5cdFx0IyDmoKHpqoxvcmdfaWTmlbDnu4TkuK1vcmdfaWTmmK/lkKblkIjms5Vcblx0XHRfLmVhY2gob3JnX2lkc19uYW1lcywgKG9yZykgLT5cblx0XHRcdGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogb3JnW1wiaWRcIl0gfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfb3JnX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKVxuXHRcdFx0b3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKVxuXHRcdClcblxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcblx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXG5cdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0KVxuXHRcdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyhvcmdfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKVxuXHRcdGVsc2Vcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwib3JnRmllbGRcIlxuXHRcdCMgNC4qKioqKioqKioqKumDqOmXqOWtl+auteaJgOWxnue7hOe7h+S4reeahOS6uuWRmCoqKioqKioqKioqXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXG5cdFx0Zm9ybV9yZXYgPSBudWxsXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHQpXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XG5cdFx0XHQpXG5cblx0XHRhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKS0+XG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl9vcmdfZmllbGRcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxuXHRcdClcblxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblxuXHRcdG9yZ19pZHMgPSBuZXcgQXJyYXlcblx0XHRvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxuXG5cdFx0IyDmoKHpqoxvcmdfaWTmlbDnu4TkuK1vcmdfaWTmmK/lkKblkIjms5Vcblx0XHRfLmVhY2gob3JnX2lkc19uYW1lcywgKG9yZykgLT5cblx0XHRcdGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogb3JnW1wiaWRcIl0gfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfb3JnX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKVxuXHRcdFx0b3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKVxuXHRcdClcblxuXHRcdCMg5qCh6aqMb3Jn5LiL5a2Y5Zyo5aSE55CG5Lq6XG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSlcblx0XHRcdG9yZ19jaGlsZHJlbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgcGFyZW50czogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxuXHRcdFx0b3JnX2NoaWxkcmVuLnVuc2hpZnQob3JnKVxuXHRcdFx0Y2hlY2tfb3JncyA9IG9yZ19jaGlsZHJlblxuXHRcdFx0b3JnX3VzZXJzID0gbmV3IEFycmF5XG5cdFx0XHRfLmVhY2goY2hlY2tfb3JncywgKGNoZWNrX29yZ191c2VyKSAtPlxuXHRcdFx0XHRpZiBjaGVja19vcmdfdXNlci51c2Vyc1xuXHRcdFx0XHRcdF8uZWFjaChjaGVja19vcmdfdXNlci51c2VycywgKG9yZ191c2VyKSAtPlxuXHRcdFx0XHRcdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogb3JnX3VzZXIgfSkuY291bnQoKSBpcyAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwic3BhY2XkuIvkuI3lrZjlnKjmraR1c2VyXCIpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycylcblx0XHRcdFx0b3JnX3VzZXJzID0gb3JnX3VzZXJzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycylcblx0XHRcdClcblxuXHRcdFx0aWYgb3JnX3VzZXJzLmxlbmd0aCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHXCIgKyBvcmdfaWQgKyBcIuS4jeWtmOWcqOWkhOeQhuS6ulwiKVxuXG5cdFx0KVxuXG5cdFx0dXNlcnMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwidXNlckZpZWxkUm9sZVwiXG5cdFx0IyA1LioqKioqKioqKioq5Lq65ZGY5a2X5q615omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cblx0XHRmb3JtX3JldiA9IG51bGxcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcblx0XHRcdClcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXG5cblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcblx0XHRlbHNlXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcblx0XHRcdClcblxuXHRcdGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZFxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xuXHRcdGZpZWxkX2NvZGUgPSBudWxsXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCkgLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxuXHRcdClcblxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblx0XHQjIOiOt+WPlnVzZXJfaWTmlbDnu4Rcblx0XHR1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheVxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cblx0XHRcdGVsc2Vcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxuXG5cdFx0IyDmoKHpqox1c2VyX2lk5pWw57uE5LitdXNlcl9pZOaYr+WQpuWQiOazlVxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKHVzZXJfaWRzX25hbWVzLCAodXNlcikgLT5cblx0XHRcdGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiB1c2VyW1wiaWRcIl0gfSkuY291bnQoKVxuXHRcdFx0aWYgY2hlY2tfdXNlcl9jb3VudCBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIilcblx0XHRcdHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKVxuXHRcdClcblxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcblx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXG5cdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0KVxuXHRcdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXModXNlcl9pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJ1c2VyRmllbGRcIlxuXHRcdCMgNi4qKioqKioqKioqKuihqOWNleS6uuWRmOWtl+autSoqKioqKioqKioqXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXG5cdFx0Zm9ybV9yZXYgPSBudWxsXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxuXHRcdGVsc2Vcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XG5cdFx0XHQpXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxuXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XG5cdFx0ZWxzZVxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XG5cdFx0XHQpXG5cblx0XHRhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpLT5cblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX3VzZXJfZmllbGRcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxuXHRcdClcblxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcblxuXHRcdCMg6I635Y+WdXNlcl9pZOaVsOe7hFxuXHRcdHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5XG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXG5cblx0XHQjIOagoemqjHVzZXJfaWTmlbDnu4TkuK11c2VyX2lk5piv5ZCm5ZCI5rOVXG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2godXNlcl9pZHNfbmFtZXMsICh1c2VyKSAtPlxuXHRcdFx0Y2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHVzZXJbXCJpZFwiXSB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja191c2VyX2NvdW50IGlzIDBcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKVxuXHRcdFx0dXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pXG5cdFx0KVxuXG5cdFx0dXNlcnMgPSBfLnVuaXEodXNlcl9pZHMpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVN0ZXBSb2xlXCJcblx0XHQjIDcuKioqKioqKioqKirmjIflrprmraXpqqTlpITnkIblrqHmibnlspfkvY0qKioqKioqKioqKlxuXHRcdGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcFxuXHRcdGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheVxuXHRcdF8uZWFjaChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cblx0XHRcdGlmIHRyYWNlLnN0ZXAgaXMgYXBwcm92ZXJfc3RlcFxuXHRcdFx0XHRmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSlcblx0XHQpXG5cdFx0IyDmoLnmja5zdGFydF9kYXRl5Y+W5pyA5paw55qEdHJhY2Vcblx0XHRtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCAodCkgLT5cblx0XHRcdHJldHVybiB0LnN0YXJ0X2RhdGVcblx0XHQpXG5cblx0XHRhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIilcblxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlc1xuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0KVxuXG5cdFx0IyDpqozor4Hmn6XliLDnmoR1c2Vy5piv5ZCm6YO95ZCI5rOVXG5cdFx0Xy5lYWNoKGFwcHJvdmVfdXNlcnMsIChhcHByb3ZlX3VzZXIpIC0+XG5cdFx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHByb3ZlX3VzZXIgfSkuY291bnQoKSBpcyAwXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpXG5cdFx0KVxuXG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMoYXBwcm92ZV91c2VycywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5U3RlcFVzZXJcIlxuXHRcdCMgOC4qKioqKioqKioqKuaMh+WumuatpemqpOWkhOeQhuS6uioqKioqKioqKioqXG5cdFx0YXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwXG5cdFx0ZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKSAtPlxuXHRcdFx0aWYgdHJhY2Uuc3RlcCBpcyBhcHByb3Zlcl9zdGVwXG5cdFx0XHRcdGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKVxuXHRcdClcblx0XHQjIOagueaNrnN0YXJ0X2RhdGXlj5bmnIDmlrDnmoR0cmFjZVxuXHRcdG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsICh0KSAtPlxuXHRcdFx0cmV0dXJuIHQuc3RhcnRfZGF0ZVxuXHRcdClcblxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKVxuXG5cdFx0IyDpqozor4Hmn6XliLDnmoR1c2Vy5piv5ZCm6YO95ZCI5rOVXG5cdFx0Xy5lYWNoKGFwcHJvdmVfdXNlcnMsIChhcHByb3ZlX3VzZXIpLT5cblx0XHRcdGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcHJvdmVfdXNlciB9KS5jb3VudCgpXG5cdFx0XHRpZiBjaGVja19hcHByb3ZlX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKVxuXHRcdClcblxuXHRcdHVzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3VibWl0dGVyUm9sZVwiXG5cdFx0IyA5LioqKioqKioqKioq5aGr5Y2V5Lq65omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcblx0XHRzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXJcblx0XHRpZiBub3Qgc3VibWl0dGVyXG5cdFx0XHQjIOWIpOaWreaPkOS6pOS6uuaYr+WQpuW3sue7j+iiq+WIoOmZpFxuXHRcdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxuXHRcdFx0aWYgc3VibWl0dGVyX3VzZXJfY291bnQgaXMgMFxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcblx0XHRcdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cblx0XHRcdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxuXHRcdFx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxuXHRcdFx0XHRcdClcblx0XHRcdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHN1Ym1pdHRlciwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXG5cdFx0ZWxzZVxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnmoTmj5DkuqTkurrkuLrnqbpcIilcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzdWJtaXR0ZXJcIlxuXHRcdCMgMTAuKioqKioqKioqKirmj5DkuqTkuroqKioqKioqKioqKlxuXHRcdHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlclxuXHRcdCMg5Yik5pat5o+Q5Lqk5Lq65piv5ZCm5bey57uP6KKr5Yig6ZmkXG5cdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxuXHRcdGlmIHN1Ym1pdHRlcl91c2VyX2NvdW50IGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpXG5cdFx0ZWxzZVxuXHRcdFx0dXNlcnMgPSBuZXcgQXJyYXkoc3VibWl0dGVyKVxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlPcmdcIlxuXHRcdCMgMTEuKioqKioqKioqKirmn5Dpg6jpl6jlhoXnmoTmiYDmnInkuroqKioqKioqKioqKlxuXHRcdGFwcHJvdmVyX29yZ19pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3Jnc1xuXHRcdGlmIG5vdCBhcHByb3Zlcl9vcmdfaWRzIG9yIGFwcHJvdmVyX29yZ19pZHMubGVuZ3RoIGlzIDBcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5a6a5LmJ55So5LqO5p+l5om+5LiL5LiA5q2l5aSE55CG5Lq655qE6YOo6Zeo77yM6K+36IGU57O7566h55CG5ZGY6LCD5p+l5rWB56iL5Zu+55qE6YWN572u5piv5ZCm5q2j56GuXCIpXG5cblx0XHQjIOmqjOivgeaJgOaMh+WumueahG9yZ2FuaXphdGlvbl9pZOmDveWtmOWcqFxuXHRcdHZhbGlkX2FwcHJvdmVyX29yZ19pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2goYXBwcm92ZXJfb3JnX2lkcywgKGFwcHJvdmVyX29yZ19pZCkgLT5cblx0XHRcdGlmIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogYXBwcm92ZXJfb3JnX2lkIH0pLmNvdW50KCkgPiAwXG5cdFx0XHRcdHZhbGlkX2FwcHJvdmVyX29yZ19pZHMudW5zaGlmdChhcHByb3Zlcl9vcmdfaWQpXG5cdFx0KVxuXG5cdFx0b3JnX3VzZXJfaWRzID0gbmV3IEFycmF5XG5cdFx0Xy5lYWNoKHZhbGlkX2FwcHJvdmVyX29yZ19pZHMsICh2YWxpZF9hcHByb3Zlcl9vcmdfaWQpIC0+XG5cdFx0XHR2YWxpZF9hcHByb3Zlcl9vcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IHZhbGlkX2FwcHJvdmVyX29yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pXG5cdFx0XHRpZiB2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnNcblx0XHRcdFx0b3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdCh2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnMpXG5cblx0XHRcdGNoaWxkX29yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHBhcmVudHM6IHZhbGlkX2FwcHJvdmVyX29yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcblx0XHRcdF8uZWFjaChjaGlsZF9vcmdzLCAoY2hpbGRfb3JnKSAtPlxuXHRcdFx0XHRpZiBjaGlsZF9vcmcudXNlcnNcblx0XHRcdFx0XHRvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KGNoaWxkX29yZy51c2Vycylcblx0XHRcdClcblx0XHQpXG5cblx0XHRvcmdfdXNlcl9pZHMgPSBfLnVuaXEob3JnX3VzZXJfaWRzKVxuXHRcdG5ld19vcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2gob3JnX3VzZXJfaWRzLCAob3JnX3VzZXJfaWQpIC0+XG5cdFx0XHRzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBvcmdfdXNlcl9pZCB9KS5jb3VudCgpXG5cdFx0XHRpZiBzcGFjZV91c2VyX2luZm9fY291bnQgPiAwXG5cdFx0XHRcdG5ld19vcmdfdXNlcl9pZHMucHVzaChvcmdfdXNlcl9pZClcblx0XHQpXG5cblx0XHR1c2VycyA9IG5ld19vcmdfdXNlcl9pZHNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5VXNlclwiXG5cdFx0IyAxMi4qKioqKioqKioqKuaMh+WumueahOS6uuWRmCoqKioqKioqKioqXG5cdFx0YXBwcm92ZXJfdXNlcl9pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcnNcblx0XHRhcHByb3Zlcl91c2VyX2lkcyA9IF8udW5pcShhcHByb3Zlcl91c2VyX2lkcylcblx0XHRuZXdfYXBwcm92ZXJfdXNlcl9pZHMgPSBuZXcgQXJyYXlcblx0XHRfLmVhY2goYXBwcm92ZXJfdXNlcl9pZHMsIChhcHByb3Zlcl91c2VyX2lkKSAtPlxuXHRcdFx0c3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZXJfdXNlcl9pZCB9KS5jb3VudCgpXG5cdFx0XHRpZiBzcGFjZV91c2VyX2luZm9fY291bnQgPiAwXG5cdFx0XHRcdG5ld19hcHByb3Zlcl91c2VyX2lkcy5wdXNoKGFwcHJvdmVyX3VzZXJfaWQpXG5cdFx0KVxuXG5cdFx0dXNlcnMgPSBuZXdfYXBwcm92ZXJfdXNlcl9pZHNcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJwaWNrdXBBdFJ1bnRpbWVcIlxuXHRcdCMgMTMuKioqKioqKioqKirlrqHmibnml7bmjIflrpoqKioqKioqKioqKlxuXHRcdG5leHRfc3RlcF91c2VycyA9IG5ldyBBcnJheVxuXHRcdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIChfdHIpIC0+XG5cdFx0XHRyZXR1cm4gX3RyLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXG5cdFx0KVxuXHRcdF9hcHByb3ZlID0gXy5maW5kKF90cmFjZS5hcHByb3ZlcywgKF9hcHApIC0+XG5cdFx0XHRyZXR1cm4gX2FwcC5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgX2FwcC50eXBlIGlzbnQgJ2NjJ1xuXHRcdClcblxuXHRcdGlmIF9hcHByb3ZlLm5leHRfc3RlcHNcblx0XHRcdGlmIF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXVxuXHRcdFx0XHRuZXh0X3N0ZXBfdXNlcnMgPSBfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl1cblxuXHRcdHVzZXJzID0gbmV4dF9zdGVwX3VzZXJzXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwiYXBwbGljYW50U3VwZXJpb3JcIlxuXHRcdCMgMTQuKioqKioqKioqKirnlLPor7fkurrkuIrnuqfkuLvnrqEqKioqKioqKioqKlxuXHRcdGFwcGxpY2FudFN1cGVyaW9ycyA9IG5ldyBBcnJheVxuXHRcdF9zcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogaW5zdGFuY2UuYXBwbGljYW50IH0sIHsgZmllbGRzOiB7IG1hbmFnZXI6IDEgfSB9KVxuXHRcdGlmIF9zcGFjZV91c2VyLm1hbmFnZXJcblx0XHRcdGFwcGxpY2FudFN1cGVyaW9ycy5wdXNoKF9zcGFjZV91c2VyLm1hbmFnZXIpXG5cblx0XHR1c2VycyA9IGFwcGxpY2FudFN1cGVyaW9yc1xuXHRcblx0IyBjYWNsdWF0ZU5leHRTdGVwVXNlcnNcblx0aWYgc2VydmljZVdvcmtmbG93XG5cdFx0ZXhjdXRlVHJpZ2dlcnMobG9naW5fdXNlcl9pZCwgZmxvd19pZCwgaW5zdGFuY2VfaWQsIGN1cnJlbnRfc3RlcCwgdXNlcnMpXG5cdHJldHVybiB1c2Vyc1xuXG5leGN1dGVUcmlnZ2VycyA9ICh1c2VySWQsIGZsb3dJZCwgaW5zSWQsIG5leHRTdGVwLCBuZXh0VXNlcklkcykgLT5cblx0cmV0dXJuIE1ldGVvci53cmFwQXN5bmMoKHVzZXJJZCwgZmxvd0lkLCBpbnNJZCwgbmV4dFN0ZXAsIG5leHRVc2VySWRzLCBjYikgLT5cblx0XHRzZXJ2aWNlV29ya2Zsb3cuc2V0dGluZ3MuZXhjdXRlVHJpZ2dlcnMoeyB3aGVuOiAnY2FjbHVhdGVOZXh0U3RlcFVzZXJzJywgdXNlcklkOiB1c2VySWQsIGZsb3dJZDogZmxvd0lkLCBpbnNJZDogaW5zSWQsIG5leHRTdGVwOiBuZXh0U3RlcCwgbmV4dFVzZXJJZHM6IG5leHRVc2VySWRzIH0pLnRoZW4gKHJlc29sdmUsIHJlamVjdCkgLT5cblx0XHRcdGNiKHJlamVjdCwgcmVzb2x2ZSlcblx0KSh1c2VySWQsIGZsb3dJZCwgaW5zSWQsIG5leHRTdGVwLCBuZXh0VXNlcklkcykiLCJ2YXIgZXhjdXRlVHJpZ2dlcnMsIHNlcnZpY2VXb3JrZmxvdzsgICAgICAgICAgICAgICAgICAgIFxuXG5zZXJ2aWNlV29ya2Zsb3cgPSByZXF1aXJlKCdAc3RlZWRvcy9zZXJ2aWNlLXdvcmtmbG93Jyk7XG5cbmdldEhhbmRsZXJzTWFuYWdlciA9IHt9O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMgPSBmdW5jdGlvbih1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciBhcHByb3ZlX3VzZXJzO1xuICBhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5O1xuICBfLmVhY2godXNlcl9pZHMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXModXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKTtcbiAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBhcHByb3ZlX3VzZXJzID0gYXBwcm92ZV91c2Vycy5jb25jYXQodXNlcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInVzZXJfaWTkuI3lkIjms5XkuI3lkIjms5VcIik7XG4gICAgfVxuICB9KTtcbiAgYXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKTtcbiAgcmV0dXJuIGFwcHJvdmVfdXNlcnM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyA9IGZ1bmN0aW9uKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gocm9sZV9pZHMsIGZ1bmN0aW9uKHJvbGVfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgaWYgKGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICBfaWQ6IHJvbGVfaWRcbiAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICB9XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID4gMCkge1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja51c2VyX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIik7XG4gIH1cbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUgPSBmdW5jdGlvbih1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkge1xuICB2YXIgb3JncywgdXNlcl9pZHM7XG4gIG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICB1c2VyczogdXNlcl9pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gob3JncywgZnVuY3Rpb24ob3JnKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZy5faWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzID0gZnVuY3Rpb24ob3JnX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMgPSBmdW5jdGlvbihvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gocm9sZV9pZHMsIGZ1bmN0aW9uKHJvbGVfaWQpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA+IDApIHtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2ub3JnX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIik7XG4gIH1cbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZSA9IGZ1bmN0aW9uKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIHtcbiAgdmFyIG9yZywgcGFyZW50cywgcG9zaXRpb25zLCB1c2VyX2lkcztcbiAgb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICBfaWQ6IG9yZ19pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwYXJlbnRzOiAxXG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICBvcmc6IG9yZ19pZCxcbiAgICByb2xlOiByb2xlX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHVzZXJzOiAxXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICBfLmVhY2gocG9zaXRpb25zLCBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycyk7XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcGFyZW50cyA9IG9yZy5wYXJlbnRzO1xuICAgIF8uZWFjaChwYXJlbnRzLCBmdW5jdGlvbihwYXJlbnRfaWQpIHtcbiAgICAgIHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIG9yZzogcGFyZW50X2lkLFxuICAgICAgICByb2xlOiByb2xlX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAocG9zaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIF8uZWFjaChwb3NpdGlvbnMsIGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMgPSBmdW5jdGlvbihpbnN0YW5jZV9pZCwgc3RlcF9pZCwgbG9naW5fdXNlcl9pZCkge1xuICB2YXIgX2FwcHJvdmUsIF9zcGFjZV91c2VyLCBfdHJhY2UsIGFwcGxpY2FudCwgYXBwbGljYW50U3VwZXJpb3JzLCBhcHByb3ZlSHJSb2xlSWRzLCBhcHByb3ZlX3VzZXJzLCBhcHByb3Zlcl9vcmdfZmllbGQsIGFwcHJvdmVyX29yZ19pZHMsIGFwcHJvdmVyX3N0ZXAsIGFwcHJvdmVyX3VzZXJfZmllbGQsIGFwcHJvdmVyX3VzZXJfaWRzLCBjdXJyZW50LCBjdXJyZW50X2Zsb3csIGN1cnJlbnRfZmxvd192ZXJzaW9uLCBjdXJyZW50X2Zvcm0sIGN1cnJlbnRfc3RlcCwgY3VycmVudF9zdGVwcywgZGVhbF90eXBlLCBmaWVsZF9jb2RlLCBmaW5pc2hlZF90cmFjZXMsIGZsb3dfaWQsIGZsb3dfcmV2LCBmb3JtLCBmb3JtX2ZpZWxkcywgZm9ybV9pZCwgZm9ybV9yZXYsIGhhbmRsZXJzLCBpbnN0YW5jZSwgbWF4X3N0YXJ0RGF0ZV90cmFjZSwgbmV3X2FwcHJvdmVyX3VzZXJfaWRzLCBuZXdfb3JnX3VzZXJfaWRzLCBuZXdlc3RfdmFsdWVzLCBuZXh0X3N0ZXBfdXNlcnMsIG9yZ19pZHMsIG9yZ19pZHNfbmFtZXMsIG9yZ191c2VyX2lkcywgc3BhY2VfaWQsIHNwYWNlX3VzZXJfY291bnQsIHN1Ym1pdHRlciwgc3VibWl0dGVyX3VzZXJfY291bnQsIHVuZmluaXNoZWRfdHJhY2UsIHVzZXJfaWRzLCB1c2VyX2lkc19uYW1lcywgdXNlcnMsIHZhbGlkX2FwcHJvdmVyX29yZ19pZHM7XG4gIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xuICBpZiAoaW5zdGFuY2Uuc3RlcF9hcHByb3ZlICYmICFfLmlzRW1wdHkoaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWQgKyBcIl9vcHRpb25zXCJdKSkge1xuICAgIHJldHVybiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZCArIFwiX29wdGlvbnNcIl07XG4gIH1cbiAgYXBwcm92ZV91c2VycyA9IG5ldyBBcnJheTtcbiAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG4gIGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICBjdXJyZW50X2Zsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpO1xuICBjdXJyZW50X3N0ZXAgPSBudWxsO1xuICBjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5O1xuICBpZiAoY3VycmVudF9mbG93LmN1cnJlbnQuX2lkID09PSBmbG93X3Jldikge1xuICAgIGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5zdGVwcztcbiAgfSBlbHNlIHtcbiAgICBjdXJyZW50ID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oaGlzdG9yeSkge1xuICAgICAgcmV0dXJuIGhpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICB9KTtcbiAgICBjdXJyZW50X3N0ZXBzID0gY3VycmVudC5zdGVwcztcbiAgfVxuICBjdXJyZW50X3N0ZXAgPSBfLmZpbmQoY3VycmVudF9zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgIHJldHVybiBzdGVwLl9pZCA9PT0gc3RlcF9pZDtcbiAgfSk7XG4gIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcImNvbmRpdGlvblwiKSB7XG4gICAgdW5maW5pc2hlZF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICByZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgQXJyYXkodW5maW5pc2hlZF90cmFjZS5hcHByb3Zlc1swXS51c2VyKTtcbiAgfVxuICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJzdGFydFwiKSB7XG4gICAgaGFuZGxlcnMgPSBuZXcgQXJyYXk7XG4gICAgaGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpO1xuICAgIGhhbmRsZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBoYW5kbGVycyA9IF8udW5pcShoYW5kbGVycyk7XG4gICAgcmV0dXJuIGhhbmRsZXJzO1xuICB9XG4gIGRlYWxfdHlwZSA9IGN1cnJlbnRfc3RlcC5kZWFsX3R5cGU7XG4gIHVzZXJzID0gbmV3IEFycmF5O1xuICBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFJvbGVcIikge1xuICAgIGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgICBpZiAoYXBwbGljYW50KSB7XG4gICAgICBzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwbGljYW50XG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY1zcGFjZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhhcHBsaWNhbnQsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiSW5zdGFuY2XnmoTmj5DkuqTkurrkuLrnqbpcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJoclJvbGVcIikge1xuICAgIGFwcHJvdmVIclJvbGVJZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfaHJfcm9sZXM7XG4gICAgaWYgKGFwcHJvdmVIclJvbGVJZHMpIHtcbiAgICAgIHVzZXJzID0gXy5wbHVjayhXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlX2lkLCBhcHByb3ZlSHJSb2xlSWRzKSwgJ3VzZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLmnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJhcHBsaWNhbnRcIikge1xuICAgIGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgICBzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBhcHBsaWNhbnRcbiAgICB9KS5jb3VudCgpO1xuICAgIGlmIChzcGFjZV91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1c2VycyA9IG5ldyBBcnJheShhcHBsaWNhbnQpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwib3JnRmllbGRSb2xlXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfb3JnX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIG9yZ19pZHMgPSBuZXcgQXJyYXk7XG4gICAgb3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXy5lYWNoKG9yZ19pZHNfbmFtZXMsIGZ1bmN0aW9uKG9yZykge1xuICAgICAgdmFyIGNoZWNrX29yZ19jb3VudDtcbiAgICAgIGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDogb3JnW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfb3JnX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKTtcbiAgICB9KTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyhvcmdfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJvcmdGaWVsZFwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX29yZ19maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIF8uZWFjaChvcmdfaWRzX25hbWVzLCBmdW5jdGlvbihvcmcpIHtcbiAgICAgIHZhciBjaGVja19vcmdfY291bnQ7XG4gICAgICBjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IG9yZ1tcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX29yZ19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgdmFyIGNoZWNrX29yZ3MsIG9yZywgb3JnX2NoaWxkcmVuLCBvcmdfdXNlcnM7XG4gICAgICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG9yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9yZ19jaGlsZHJlbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgcGFyZW50czogb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBvcmdfY2hpbGRyZW4udW5zaGlmdChvcmcpO1xuICAgICAgY2hlY2tfb3JncyA9IG9yZ19jaGlsZHJlbjtcbiAgICAgIG9yZ191c2VycyA9IG5ldyBBcnJheTtcbiAgICAgIF8uZWFjaChjaGVja19vcmdzLCBmdW5jdGlvbihjaGVja19vcmdfdXNlcikge1xuICAgICAgICBpZiAoY2hlY2tfb3JnX3VzZXIudXNlcnMpIHtcbiAgICAgICAgICBfLmVhY2goY2hlY2tfb3JnX3VzZXIudXNlcnMsIGZ1bmN0aW9uKG9yZ191c2VyKSB7XG4gICAgICAgICAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICAgICAgdXNlcjogb3JnX3VzZXJcbiAgICAgICAgICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJzcGFjZeS4i+S4jeWtmOWcqOatpHVzZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpO1xuICAgICAgICByZXR1cm4gb3JnX3VzZXJzID0gb3JnX3VzZXJzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChvcmdfdXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHXCIgKyBvcmdfaWQgKyBcIuS4jeWtmOWcqOWkhOeQhuS6ulwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VycyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInVzZXJGaWVsZFJvbGVcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX3VzZXJfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgdXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHVzZXJfaWRzX25hbWVzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiB1c2VyW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKHVzZXJfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJ1c2VyRmllbGRcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX3VzZXJfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgdXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHVzZXJfaWRzX25hbWVzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiB1c2VyW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VycyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlTdGVwUm9sZVwiKSB7XG4gICAgYXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwO1xuICAgIGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgaWYgKHRyYWNlLnN0ZXAgPT09IGFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdGFydF9kYXRlO1xuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIF8uZWFjaChhcHByb3ZlX3VzZXJzLCBmdW5jdGlvbihhcHByb3ZlX3VzZXIpIHtcbiAgICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3ZlX3VzZXJcbiAgICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMoYXBwcm92ZV91c2VycywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlTdGVwVXNlclwiKSB7XG4gICAgYXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwO1xuICAgIGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgaWYgKHRyYWNlLnN0ZXAgPT09IGFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdGFydF9kYXRlO1xuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKTtcbiAgICBfLmVhY2goYXBwcm92ZV91c2VycywgZnVuY3Rpb24oYXBwcm92ZV91c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50O1xuICAgICAgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZV91c2VyXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKTtcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3VibWl0dGVyUm9sZVwiKSB7XG4gICAgc3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgIGlmICghc3VibWl0dGVyKSB7XG4gICAgICBzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IHN1Ym1pdHRlclxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzdWJtaXR0ZXJfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhzdWJtaXR0ZXIsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V55qE5o+Q5Lqk5Lq65Li656m6XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3VibWl0dGVyXCIpIHtcbiAgICBzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgc3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IHN1Ym1pdHRlclxuICAgIH0pLmNvdW50KCk7XG4gICAgaWYgKHN1Ym1pdHRlcl91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXNlcnMgPSBuZXcgQXJyYXkoc3VibWl0dGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlPcmdcIikge1xuICAgIGFwcHJvdmVyX29yZ19pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JncztcbiAgICBpZiAoIWFwcHJvdmVyX29yZ19pZHMgfHwgYXBwcm92ZXJfb3JnX2lkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5a6a5LmJ55So5LqO5p+l5om+5LiL5LiA5q2l5aSE55CG5Lq655qE6YOo6Zeo77yM6K+36IGU57O7566h55CG5ZGY6LCD5p+l5rWB56iL5Zu+55qE6YWN572u5piv5ZCm5q2j56GuXCIpO1xuICAgIH1cbiAgICB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChhcHByb3Zlcl9vcmdfaWRzLCBmdW5jdGlvbihhcHByb3Zlcl9vcmdfaWQpIHtcbiAgICAgIGlmIChkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IGFwcHJvdmVyX29yZ19pZFxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkX2FwcHJvdmVyX29yZ19pZHMudW5zaGlmdChhcHByb3Zlcl9vcmdfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godmFsaWRfYXBwcm92ZXJfb3JnX2lkcywgZnVuY3Rpb24odmFsaWRfYXBwcm92ZXJfb3JnX2lkKSB7XG4gICAgICB2YXIgY2hpbGRfb3JncywgdmFsaWRfYXBwcm92ZXJfb3JnO1xuICAgICAgdmFsaWRfYXBwcm92ZXJfb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKSB7XG4gICAgICAgIG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkX29yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHBhcmVudHM6IHZhbGlkX2FwcHJvdmVyX29yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgcmV0dXJuIF8uZWFjaChjaGlsZF9vcmdzLCBmdW5jdGlvbihjaGlsZF9vcmcpIHtcbiAgICAgICAgaWYgKGNoaWxkX29yZy51c2Vycykge1xuICAgICAgICAgIHJldHVybiBvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KGNoaWxkX29yZy51c2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IF8udW5pcShvcmdfdXNlcl9pZHMpO1xuICAgIG5ld19vcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ191c2VyX2lkcywgZnVuY3Rpb24ob3JnX3VzZXJfaWQpIHtcbiAgICAgIHZhciBzcGFjZV91c2VyX2luZm9fY291bnQ7XG4gICAgICBzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBvcmdfdXNlcl9pZFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2luZm9fY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXdfb3JnX3VzZXJfaWRzLnB1c2gob3JnX3VzZXJfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVzZXJzID0gbmV3X29yZ191c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeVVzZXJcIikge1xuICAgIGFwcHJvdmVyX3VzZXJfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJzO1xuICAgIGFwcHJvdmVyX3VzZXJfaWRzID0gXy51bmlxKGFwcHJvdmVyX3VzZXJfaWRzKTtcbiAgICBuZXdfYXBwcm92ZXJfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGFwcHJvdmVyX3VzZXJfaWRzLCBmdW5jdGlvbihhcHByb3Zlcl91c2VyX2lkKSB7XG4gICAgICB2YXIgc3BhY2VfdXNlcl9pbmZvX2NvdW50O1xuICAgICAgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZXJfdXNlcl9pZFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2luZm9fY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHMucHVzaChhcHByb3Zlcl91c2VyX2lkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VycyA9IG5ld19hcHByb3Zlcl91c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwicGlja3VwQXRSdW50aW1lXCIpIHtcbiAgICBuZXh0X3N0ZXBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24oX3RyKSB7XG4gICAgICByZXR1cm4gX3RyLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICB9KTtcbiAgICBfYXBwcm92ZSA9IF8uZmluZChfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKF9hcHApIHtcbiAgICAgIHJldHVybiBfYXBwLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBfYXBwLnR5cGUgIT09ICdjYyc7XG4gICAgfSk7XG4gICAgaWYgKF9hcHByb3ZlLm5leHRfc3RlcHMpIHtcbiAgICAgIGlmIChfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl0pIHtcbiAgICAgICAgbmV4dF9zdGVwX3VzZXJzID0gX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdO1xuICAgICAgfVxuICAgIH1cbiAgICB1c2VycyA9IG5leHRfc3RlcF91c2VycztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50U3VwZXJpb3JcIikge1xuICAgIGFwcGxpY2FudFN1cGVyaW9ycyA9IG5ldyBBcnJheTtcbiAgICBfc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogaW5zdGFuY2UuYXBwbGljYW50XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG1hbmFnZXI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoX3NwYWNlX3VzZXIubWFuYWdlcikge1xuICAgICAgYXBwbGljYW50U3VwZXJpb3JzLnB1c2goX3NwYWNlX3VzZXIubWFuYWdlcik7XG4gICAgfVxuICAgIHVzZXJzID0gYXBwbGljYW50U3VwZXJpb3JzO1xuICB9XG4gIGlmIChzZXJ2aWNlV29ya2Zsb3cpIHtcbiAgICBleGN1dGVUcmlnZ2Vycyhsb2dpbl91c2VyX2lkLCBmbG93X2lkLCBpbnN0YW5jZV9pZCwgY3VycmVudF9zdGVwLCB1c2Vycyk7XG4gIH1cbiAgcmV0dXJuIHVzZXJzO1xufTtcblxuZXhjdXRlVHJpZ2dlcnMgPSBmdW5jdGlvbih1c2VySWQsIGZsb3dJZCwgaW5zSWQsIG5leHRTdGVwLCBuZXh0VXNlcklkcykge1xuICByZXR1cm4gTWV0ZW9yLndyYXBBc3luYyhmdW5jdGlvbih1c2VySWQsIGZsb3dJZCwgaW5zSWQsIG5leHRTdGVwLCBuZXh0VXNlcklkcywgY2IpIHtcbiAgICByZXR1cm4gc2VydmljZVdvcmtmbG93LnNldHRpbmdzLmV4Y3V0ZVRyaWdnZXJzKHtcbiAgICAgIHdoZW46ICdjYWNsdWF0ZU5leHRTdGVwVXNlcnMnLFxuICAgICAgdXNlcklkOiB1c2VySWQsXG4gICAgICBmbG93SWQ6IGZsb3dJZCxcbiAgICAgIGluc0lkOiBpbnNJZCxcbiAgICAgIG5leHRTdGVwOiBuZXh0U3RlcCxcbiAgICAgIG5leHRVc2VySWRzOiBuZXh0VXNlcklkc1xuICAgIH0pLnRoZW4oZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICByZXR1cm4gY2IocmVqZWN0LCByZXNvbHZlKTtcbiAgICB9KTtcbiAgfSkodXNlcklkLCBmbG93SWQsIGluc0lkLCBuZXh0U3RlcCwgbmV4dFVzZXJJZHMpO1xufTtcbiIsInBlcm1pc3Npb25NYW5hZ2VyID0ge31cblxucGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zID0gKGZsb3dfaWQsIHVzZXJfaWQpIC0+XG5cdCMg5qC55o2uOmZsb3dfaWTmn6XliLDlr7nlupTnmoRmbG93XG5cdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZClcblx0c3BhY2VfaWQgPSBmbG93LnNwYWNlXG5cdCMg5qC55o2uc3BhY2VfaWTlkow6dXNlcl9pZOWIsG9yZ2FuaXphdGlvbnPooajkuK3mn6XliLDnlKjmiLfmiYDlsZ7miYDmnInnmoRvcmdfaWTvvIjljIXmi6zkuIrnuqfnu4RJRO+8iVxuXHRvcmdfaWRzID0gbmV3IEFycmF5XG5cdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuXHRcdHNwYWNlOiBzcGFjZV9pZCwgdXNlcnM6IHVzZXJfaWQgfSwgeyBmaWVsZHM6IHsgcGFyZW50czogMSB9IH0pLmZldGNoKClcblx0Xy5lYWNoKG9yZ2FuaXphdGlvbnMsIChvcmcpIC0+XG5cdFx0b3JnX2lkcy5wdXNoKG9yZy5faWQpXG5cdFx0aWYgb3JnLnBhcmVudHNcblx0XHRcdF8uZWFjaChvcmcucGFyZW50cywgKHBhcmVudF9pZCkgLT5cblx0XHRcdFx0b3JnX2lkcy5wdXNoKHBhcmVudF9pZClcblx0XHRcdClcblx0KVxuXHRvcmdfaWRzID0gXy51bmlxKG9yZ19pZHMpXG5cdG15X3Blcm1pc3Npb25zID0gbmV3IEFycmF5XG5cdGlmIGZsb3cucGVybXNcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX2FkbWlu5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZOaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcblx0XHQjIOiLpeaYr++8jOWImeWcqOi/lOWbnueahOaVsOe7hOS4reWKoOS4imFkZFxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX2FkZFxuXHRcdFx0dXNlcnNfY2FuX2FkZCA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkZFxuXHRcdFx0aWYgdXNlcnNfY2FuX2FkZC5pbmNsdWRlcyh1c2VyX2lkKVxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpXG5cblx0XHRpZiBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZFxuXHRcdFx0b3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxuXHRcdFx0XHRpZiBvcmdzX2Nhbl9hZGQuaW5jbHVkZXMob3JnX2lkKVxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIilcblx0XHRcdClcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3LkuK3mmK/lkKbljIXlkKvlvZPliY3nlKjmiLfvvIxcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcuaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcblx0XHQjIOiLpeaYr++8jOWImeWcqOi/lOWbnueahOaVsOe7hOS4reWKoOS4im1vbml0b3Jcblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yXG5cdFx0XHR1c2Vyc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3Jcblx0XHRcdGlmIHVzZXJzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKHVzZXJfaWQpXG5cdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpXG5cblx0XHRpZiBmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3Jcblx0XHRcdG9yZ3NfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3Jcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxuXHRcdFx0XHRpZiBvcmdzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKG9yZ19pZClcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKVxuXHRcdFx0KVxuXHRcdCMg5Yik5patZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW7kuK3mmK/lkKbljIXlkKvlvZPliY3nlKjmiLfvvIxcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fYWRtaW7mmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZG1pblxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluXG5cdFx0XHR1c2Vyc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pblxuXHRcdFx0aWYgdXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpXG5cdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKVxuXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pblxuXHRcdFx0b3Jnc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRtaW4uaW5jbHVkZXMob3JnX2lkKVxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKVxuXHRcdFx0KVxuXG5cdG15X3Blcm1pc3Npb25zID0gXy51bmlxKG15X3Blcm1pc3Npb25zKVxuXHRyZXR1cm4gbXlfcGVybWlzc2lvbnMiLCIgICAgICAgICAgICAgICAgICAgICAgXG5cbnBlcm1pc3Npb25NYW5hZ2VyID0ge307XG5cbnBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGZsb3dfaWQsIHVzZXJfaWQpIHtcbiAgdmFyIGZsb3csIG15X3Blcm1pc3Npb25zLCBvcmdfaWRzLCBvcmdhbml6YXRpb25zLCBvcmdzX2Nhbl9hZGQsIG9yZ3NfY2FuX2FkbWluLCBvcmdzX2Nhbl9tb25pdG9yLCBzcGFjZV9pZCwgdXNlcnNfY2FuX2FkZCwgdXNlcnNfY2FuX2FkbWluLCB1c2Vyc19jYW5fbW9uaXRvcjtcbiAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKTtcbiAgc3BhY2VfaWQgPSBmbG93LnNwYWNlO1xuICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgdXNlcnM6IHVzZXJfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcGFyZW50czogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgXy5lYWNoKG9yZ2FuaXphdGlvbnMsIGZ1bmN0aW9uKG9yZykge1xuICAgIG9yZ19pZHMucHVzaChvcmcuX2lkKTtcbiAgICBpZiAob3JnLnBhcmVudHMpIHtcbiAgICAgIHJldHVybiBfLmVhY2gob3JnLnBhcmVudHMsIGZ1bmN0aW9uKHBhcmVudF9pZCkge1xuICAgICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKHBhcmVudF9pZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBvcmdfaWRzID0gXy51bmlxKG9yZ19pZHMpO1xuICBteV9wZXJtaXNzaW9ucyA9IG5ldyBBcnJheTtcbiAgaWYgKGZsb3cucGVybXMpIHtcbiAgICBpZiAoZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkKSB7XG4gICAgICB1c2Vyc19jYW5fYWRkID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkO1xuICAgICAgaWYgKHVzZXJzX2Nhbl9hZGQuaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgICAgbXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fYWRkKSB7XG4gICAgICBvcmdzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZDtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX2FkZC5pbmNsdWRlcyhvcmdfaWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcikge1xuICAgICAgdXNlcnNfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yO1xuICAgICAgaWYgKHVzZXJzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yKSB7XG4gICAgICBvcmdzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yO1xuICAgICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgICBpZiAob3Jnc19jYW5fbW9uaXRvci5pbmNsdWRlcyhvcmdfaWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluKSB7XG4gICAgICB1c2Vyc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbjtcbiAgICAgIGlmICh1c2Vyc19jYW5fYWRtaW4uaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgICAgbXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbikge1xuICAgICAgb3Jnc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluO1xuICAgICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgICBpZiAob3Jnc19jYW5fYWRtaW4uaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBteV9wZXJtaXNzaW9ucyA9IF8udW5pcShteV9wZXJtaXNzaW9ucyk7XG4gIHJldHVybiBteV9wZXJtaXNzaW9ucztcbn07XG4iLCJhcHByb3ZlTWFuYWdlciA9IHt9XG5cblxuIyMjXG4gICAg5a+55q+UYXBwcm92ZV92YWx1ZXPkuI5sYXN0X3ZhbHVlcyDlr7nosaHvvIwg6L+U5ZueYXBwcm92ZV92YWx1ZXPmr5RsYXN0X3ZhbHVlc+WkmuWHuueahOaIluiAheaUueWPmOeahOmDqOWIhlxuIyMjXG5hcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMgPSAobGFzdF92YWx1ZXMsYXBwcm92ZV92YWx1ZXMpIC0+XG5cblx0Y2hhbmdlVmFsdWVzID0ge31cblxuXHRsYXN0X3ZhbHVlc19rZXlzID0gXy5rZXlzKGxhc3RfdmFsdWVzKVxuXG5cdGFwcHJvdmVfdmFsdWVzX2tleXMgPSBfLmtleXMoYXBwcm92ZV92YWx1ZXMpXG5cbiNcdGNvbnNvbGUubG9nKFwibGFzdF92YWx1ZXNfa2V5c1wiLCBsYXN0X3ZhbHVlc19rZXlzKVxuI1xuI1x0Y29uc29sZS5sb2coXCJhcHByb3ZlX3ZhbHVlc19rZXlzXCIsIGFwcHJvdmVfdmFsdWVzX2tleXMpXG5cblx0YXBwcm92ZV92YWx1ZXNfa2V5cy5mb3JFYWNoIChrZXkpLT5cblx0XHRpZiBfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSlcblx0XHRcdGlmICFfLmlzRXF1YWwobGFzdF92YWx1ZXNba2V5XSwgYXBwcm92ZV92YWx1ZXNba2V5XSlcblx0XHRcdFx0Y2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldXG5cdFx0ZWxzZVxuXHRcdFx0aWYgYXBwcm92ZV92YWx1ZXNba2V5XSAhPSAnJ1xuI1x0XHRcdFx0Y29uc29sZS5sb2coa2V5LGFwcHJvdmVfdmFsdWVzW2tleV0pXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxuXG5cdHJldHVybiBjaGFuZ2VWYWx1ZXNcbiIsIiAgICAgICAgICAgICAgICAgICBcblxuYXBwcm92ZU1hbmFnZXIgPSB7fTtcblxuXG4vKlxuICAgIOWvueavlGFwcHJvdmVfdmFsdWVz5LiObGFzdF92YWx1ZXMg5a+56LGh77yMIOi/lOWbnmFwcHJvdmVfdmFsdWVz5q+UbGFzdF92YWx1ZXPlpJrlh7rnmoTmiJbogIXmlLnlj5jnmoTpg6jliIZcbiAqL1xuXG5hcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMgPSBmdW5jdGlvbihsYXN0X3ZhbHVlcywgYXBwcm92ZV92YWx1ZXMpIHtcbiAgdmFyIGFwcHJvdmVfdmFsdWVzX2tleXMsIGNoYW5nZVZhbHVlcywgbGFzdF92YWx1ZXNfa2V5cztcbiAgY2hhbmdlVmFsdWVzID0ge307XG4gIGxhc3RfdmFsdWVzX2tleXMgPSBfLmtleXMobGFzdF92YWx1ZXMpO1xuICBhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKTtcbiAgYXBwcm92ZV92YWx1ZXNfa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSkpIHtcbiAgICAgIGlmICghXy5pc0VxdWFsKGxhc3RfdmFsdWVzW2tleV0sIGFwcHJvdmVfdmFsdWVzW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhcHByb3ZlX3ZhbHVlc1trZXldICE9PSAnJykge1xuICAgICAgICByZXR1cm4gY2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjaGFuZ2VWYWx1ZXM7XG59O1xuIiwiZmxvd01hbmFnZXIgPSB7fVxuXG5mbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3MgPSAoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcyktPlxuXG5cdGNhdGVnb3JpZXNGb3JtcyA9IGZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyhzcGFjZUlkLCBjYXRlZ29yaWVJZCwge19pZDogMX0pLmZldGNoKClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7Zm9ybTogeyRpbiA6IGNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxuXG5mbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyA9IChzcGFjZUlkLCBmaWVsZHMpLT5cblxuXHR1bkNhdGVnb3JpZXNGb3JtcyA9IGZvcm1NYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zvcm1zKHNwYWNlSWQsIHtfaWQ6IDF9KS5mZXRjaCgpXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe2Zvcm06IHskaW4gOiB1bkNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxuXG5cblxuXG5cblxuXG4iLCJmb3JtTWFuYWdlciA9IHt9XG5cbmZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyA9IChzcGFjZUlkLCBjYXRlZ29yaWVJZCwgZmllbGRzKS0+XG5cdGlmIGZpZWxkc1xuXHRcdF9maWVsZHMgPSB7ZmllbGRzOiBmaWVsZHN9XG5cblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkLCBjYXRlZ29yeTogY2F0ZWdvcmllSWQsIHN0YXRlOiBcImVuYWJsZWRcIn0sIF9maWVsZHMpXG5cbmZvcm1NYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zvcm1zID0gKHNwYWNlSWQsIGZpZWxkcykgLT5cblx0aWYgZmllbGRzXG5cdFx0X2ZpZWxkcyA9IHtmaWVsZHM6IGZpZWxkc31cblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkLCBjYXRlZ29yeTogeyRpbjogW251bGwsIFwiXCJdfSwgc3RhdGU6IFwiZW5hYmxlZFwifSwgX2ZpZWxkcylcbiIsIiAgICAgICAgICAgICAgICBcblxuZm9ybU1hbmFnZXIgPSB7fTtcblxuZm9ybU1hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zvcm1zID0gZnVuY3Rpb24oc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcykge1xuICB2YXIgX2ZpZWxkcztcbiAgaWYgKGZpZWxkcykge1xuICAgIF9maWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIGNhdGVnb3J5OiBjYXRlZ29yaWVJZCxcbiAgICBzdGF0ZTogXCJlbmFibGVkXCJcbiAgfSwgX2ZpZWxkcyk7XG59O1xuXG5mb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyA9IGZ1bmN0aW9uKHNwYWNlSWQsIGZpZWxkcykge1xuICB2YXIgX2ZpZWxkcztcbiAgaWYgKGZpZWxkcykge1xuICAgIF9maWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIGNhdGVnb3J5OiB7XG4gICAgICAkaW46IFtudWxsLCBcIlwiXVxuICAgIH0sXG4gICAgc3RhdGU6IFwiZW5hYmxlZFwiXG4gIH0sIF9maWVsZHMpO1xufTtcbiIsInN0ZXBNYW5hZ2VyID0ge31cblxuc3RlcE1hbmFnZXIuYWxsb3dCYXRjaCA9IChzdGVwKS0+XG5cdHJldHVybiBzdGVwLmFsbG93QmF0Y2hcblxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IChpbnN0YW5jZSwgZmxvdywgc3RlcF9pZCktPlxuXHRmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuXHRpc0V4aXN0U3RlcCA9IG51bGxcblx0aWYgZmxvdy5jdXJyZW50Ll9pZCBpcyBmbG93X3JldlxuXHRcdGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgKHN0ZXApLT5cblx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXG5cdFx0KVxuXHRlbHNlXG5cdFx0Xy5lYWNoKGZsb3cuaGlzdG9yeXMsIChoaXN0b3J5KS0+XG5cdFx0XHRpZiBoaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxuXHRcdFx0XHRpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCAoc3RlcCktPlxuXHRcdFx0XHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXG5cdFx0XHRcdClcblx0XHQpXG5cblx0aWYgbm90IGlzRXhpc3RTdGVwXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpXG5cblx0cmV0dXJuIGlzRXhpc3RTdGVwIiwiICAgICAgICAgICAgICAgIFxuXG5zdGVwTWFuYWdlciA9IHt9O1xuXG5zdGVwTWFuYWdlci5hbGxvd0JhdGNoID0gZnVuY3Rpb24oc3RlcCkge1xuICByZXR1cm4gc3RlcC5hbGxvd0JhdGNoO1xufTtcblxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBmbG93LCBzdGVwX2lkKSB7XG4gIHZhciBmbG93X3JldiwgaXNFeGlzdFN0ZXA7XG4gIGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICBpc0V4aXN0U3RlcCA9IG51bGw7XG4gIGlmIChmbG93LmN1cnJlbnQuX2lkID09PSBmbG93X3Jldikge1xuICAgIGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIF8uZWFjaChmbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihoaXN0b3J5KSB7XG4gICAgICBpZiAoaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgICAgIHJldHVybiBpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIWlzRXhpc3RTdGVwKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpO1xuICB9XG4gIHJldHVybiBpc0V4aXN0U3RlcDtcbn07XG4iLCJfZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxuXG5JbnN0YW5jZU1hbmFnZXIgPSB7fVxuXG5sb2dnZXIgPSBuZXcgTG9nZ2VyICdXb3JrZmxvdyAtPiBJbnN0YW5jZU1hbmFnZXInXG5cbkluc3RhbmNlTWFuYWdlci5oYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwID0gKGlucywgZmllbGRfbWFwKSAtPlxuXHRyZXMgPSBpbnNcblx0aWYgaW5zXG5cdFx0aWYgIWZpZWxkX21hcFxuXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogaW5zLmZsb3cgfSwgeyBmaWVsZHM6IHsgZmllbGRfbWFwOiAxIH0gfSlcblxuXHRcdFx0aWYgZmxvdz8uZmllbGRfbWFwXG5cdFx0XHRcdGZpZWxkX21hcCA9IGZsb3cuZmllbGRfbWFwXG5cblx0XHRpZiBmaWVsZF9tYXBcblx0XHRcdGNvbnRleHQgPSBfLmNsb25lKGlucylcblxuXHRcdFx0Y29udGV4dC5fID0gX1xuXG5cdFx0XHRzY3JpcHQgPSBcInZhciBpbnN0YW5jZXMgPSAje2ZpZWxkX21hcH07IGV4cG9ydHMuaW5zdGFuY2VzID0gaW5zdGFuY2VzXCJcblx0XHRcdHRyeVxuXHRcdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwiaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcFwiLCBjb250ZXh0LCBmYWxzZSkuaW5zdGFuY2VzXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdHJlcyA9IHsgX2Vycm9yOiBlIH1cblx0XHRcdFx0bG9nZ2VyLmVycm9yIGVcblx0cmV0dXJuIHJlc1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUgPSAoaW5zdGFuY2UsIGhhbmRsZXIpLT5cblxuXHRpZiAhaW5zdGFuY2Ugb3IgIWluc3RhbmNlLnRyYWNlcyBvciBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMVxuXHRcdHJldHVyblxuXG5cdGN1cnJlbnRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpXG5cblx0aWYgY3VycmVudFRyYWNlcy5sZW5ndGhcblx0XHRjdXJyZW50QXBwcm92ZXMgPSBjdXJyZW50VHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eSgnaGFuZGxlcicsIGhhbmRsZXIpXG5cdFx0Y3VycmVudEFwcHJvdmUgPSBpZiBjdXJyZW50QXBwcm92ZXMubGVuZ3RoID4gMCB0aGVuIGN1cnJlbnRBcHByb3Zlc1swXSBlbHNlIG51bGxcblxuXHQj5Lyg6ZiF55qEYXBwcm92Zei/lOWbnuacgOaWsOS4gOadoVxuXHRpZiAhY3VycmVudEFwcHJvdmUgb3IgY3VycmVudEFwcHJvdmUudHlwZSA9PSAnY2MnXG5cdFx0IyDlvZPliY3mmK/kvKDpmIVcblx0XHRfLmVhY2ggaW5zdGFuY2UudHJhY2VzLCAodCkgLT5cblx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cblx0XHRcdFx0aWYgYS50eXBlID09ICdjYycgYW5kIGEudXNlciA9PSBoYW5kbGVyIGFuZCBhLmlzX2ZpbmlzaGVkID09IGZhbHNlXG5cdFx0XHRcdFx0Y3VycmVudEFwcHJvdmUgPSBhXG5cdFx0XHRcdHJldHVyblxuXHRcdFx0cmV0dXJuXG5cblx0aWYgIWN1cnJlbnRBcHByb3ZlXG5cdFx0cmV0dXJuXG5cblx0cmV0dXJuIGN1cnJlbnRBcHByb3ZlXG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UgPSAoaW5zdGFuY2UsIHRyYWNlSWQpLT5cblx0cmV0dXJuIGluc3RhbmNlLnRyYWNlcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlSWQpXG5cbkluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUgPSAoaW5zdGFuY2VJZCwgdXNlcklkKS0+XG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pXG5cblx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxuXG5cdG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoaW5zdGFuY2UsIHVzZXJJZClcblxuXHRpZiBteV9hcHByb3ZlXG5cbiNcdFx0bGFuZyA9IFN0ZWVkb3MubG9jYWxlKHRoYXQudXNlcklkLCB0cnVlKVxuXG5cdFx0dHJhY2UgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlKGluc3RhbmNlLCBteV9hcHByb3ZlLnRyYWNlKVxuXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdHJhY2Uuc3RlcClcblxuXHRcdHN0ZXBfdHlwZSA9IHN0ZXAuc3RlcF90eXBlXG5cblx0XHRqdWRnZSA9IGlmIHN0ZXBfdHlwZSA9PSBcInNpZ25cIiB0aGVuIFwiYXBwcm92ZWRcIiBlbHNlIFwiXCJcblxuXHRcdG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBqdWRnZSlcblxuXHRcdGlmIG5leHRTdGVwcy5sZW5ndGggPT0gMVxuXHRcdFx0aWYgc3RlcF90eXBlID09IFwic2lnblwiIHx8IHN0ZXBfdHlwZSA9PSBcImNvdW50ZXJTaWduXCJcblx0XHRcdFx0bXlfYXBwcm92ZS5qdWRnZSA9ICdhcHByb3ZlZCdcblx0XHRcdG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zdGFuY2UuX2lkICwgbmV4dFN0ZXBzWzBdLCB1c2VySWQpXG5cdFx0XHRpZiAhbmV4dF91c2VyX2lkc1xuXHRcdFx0XHRteV9hcHByb3ZlLm5leHRfc3RlcHMgPSBbeyBzdGVwOiBuZXh0U3RlcHNbMF0sIHVzZXJzOiBbXSB9XVxuXHRcdFx0XHRyZXR1cm4gbXlfYXBwcm92ZVxuXHRcdFx0aWYgbmV4dF91c2VyX2lkcy5sZW5ndGggPT0gMVxuXHRcdFx0XHRteV9hcHByb3ZlLm5leHRfc3RlcHMgPSBbe3N0ZXA6IG5leHRTdGVwc1swXSwgdXNlcnM6IG5leHRfdXNlcl9pZHN9XVxuXHRcdFx0XHRyZXR1cm4gbXlfYXBwcm92ZVxuI1x0XHRcdGVsc2VcbiNcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFRBUGkxOG4uX18oJ3dvcmtmbG93X2Vycm9yX211bHRpcGxlX25leHRfc3RlcF91c2VycycsIHtpbnNuYW1lOiBpbnN0YW5jZS5uYW1lfSwgbGFuZykpXG4jXHRcdGVsc2VcbiNcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBUQVBpMThuLl9fKCd3b3JrZmxvd19lcnJvcl9tdWx0aXBsZV9uZXh0X3N0ZXAnLCB7aW5zbmFtZTogaW5zdGFuY2UubmFtZX0sIGxhbmcpKVxuXG5cdHJldHVyblxuXG5cbkluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyA9IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgaW5ib3hfdXNlciktPlxuXHRfYmF0Y2hfaW5zdGFuY2VzID0gbmV3IEFycmF5KClcblxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2UsIGluYm94X3VzZXJzOiBpbmJveF91c2VyfVxuXG5cdEZJRUxEUyA9IHsgbmFtZTogMSwgYXBwbGljYW50X25hbWU6IDEsIHN1Ym1pdF9kYXRlOiAxLCBmbG93X3ZlcnNpb246IDEsIFwidHJhY2VzLnN0ZXBcIjogMSwgZmxvdzogMSwgY3VycmVudF9zdGVwX25hbWU6IDEsIGZsb3dfbmFtZTogMSB9XG5cblx0aWYgY2F0ZWdvcnlJZFxuXG5cdFx0aWYgY2F0ZWdvcnlJZCA9PSAnLTEnXG5cdFx0XHR1bkNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyhzcGFjZSwge19pZDogMX0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIilcblx0XHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiB1bkNhdGVnb3J5Rmxvd3N9XG5cdFx0ZWxzZVxuXHRcdFx0Y2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldENhdGVnb3JpZXNGbG93cyhzcGFjZSwgY2F0ZWdvcnlJZCwge19pZDogMX0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIilcblx0XHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiBjYXRlZ29yeUZsb3dzfVxuXG5cdGlmIGZsb3dJZHNcblx0XHRxdWVyeS5mbG93ID0geyRpbjogZmxvd0lkc31cblxuI1x0Y29uc29sZS5sb2coXCJxdWVyeVwiLCBKU09OLnN0cmluZ2lmeShxdWVyeSkpXG5cblx0aW5ib3hfaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IEZJRUxEUywgc2tpcDogMCwgbGltaXQ6IDEwMH0pXG5cblx0aW5ib3hfaW5zdGFuY2VzLmZvckVhY2ggKGlucyktPlxuXHRcdGN1cnJlbnRTdGVwSWQgPSBfLmxhc3QoaW5zLnRyYWNlcykuc3RlcCAjVE9ETyDmraTku6PnoIHkuI3pgILnlKjkvKDpmIXmibnlpITnkIZcblxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGlucy5mbG93fSlcblxuXHRcdGN1cnJlbnRTdGVwID0gc3RlcE1hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGN1cnJlbnRTdGVwSWQpXG5cblx0XHRteUFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGlucy5faWQsIGluYm94X3VzZXIpXG5cblx0XHRpZiBzdGVwTWFuYWdlci5hbGxvd0JhdGNoKGN1cnJlbnRTdGVwKSAmJiBteUFwcHJvdmVcblxuXHRcdFx0ZGVsZXRlIGlucy5mbG93X3ZlcnNpb25cblxuXHRcdFx0ZGVsZXRlIGlucy50cmFjZXNcblxuXHRcdFx0ZGVsZXRlIGlucy5mbG93XG5cblx0XHRcdGlucy5hcHByb3ZlX3N0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZVxuXG5cdFx0XHRfYmF0Y2hfaW5zdGFuY2VzLnB1c2goaW5zKVxuI1x0XHRlbHNlXG4jXHRcdFx0Y29uc29sZS5sb2coXCLmibnph4/lrqHmibkt5byC5bi45pWw5o2uXCIsIGlucy5faWQpXG5cblx0cmV0dXJuIF9iYXRjaF9pbnN0YW5jZXNcbiIsInZhciBfZXZhbCwgbG9nZ2VyOyAgICAgICAgICAgICAgICAgXG5cbl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpO1xuXG5JbnN0YW5jZU1hbmFnZXIgPSB7fTtcblxubG9nZ2VyID0gbmV3IExvZ2dlcignV29ya2Zsb3cgLT4gSW5zdGFuY2VNYW5hZ2VyJyk7XG5cbkluc3RhbmNlTWFuYWdlci5oYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwID0gZnVuY3Rpb24oaW5zLCBmaWVsZF9tYXApIHtcbiAgdmFyIGNvbnRleHQsIGUsIGZsb3csIHJlcywgc2NyaXB0O1xuICByZXMgPSBpbnM7XG4gIGlmIChpbnMpIHtcbiAgICBpZiAoIWZpZWxkX21hcCkge1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGlucy5mbG93XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZpZWxkX21hcDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93LmZpZWxkX21hcCA6IHZvaWQgMCkge1xuICAgICAgICBmaWVsZF9tYXAgPSBmbG93LmZpZWxkX21hcDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpZWxkX21hcCkge1xuICAgICAgY29udGV4dCA9IF8uY2xvbmUoaW5zKTtcbiAgICAgIGNvbnRleHQuXyA9IF87XG4gICAgICBzY3JpcHQgPSBcInZhciBpbnN0YW5jZXMgPSBcIiArIGZpZWxkX21hcCArIFwiOyBleHBvcnRzLmluc3RhbmNlcyA9IGluc3RhbmNlc1wiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzID0gX2V2YWwoc2NyaXB0LCBcImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXBcIiwgY29udGV4dCwgZmFsc2UpLmluc3RhbmNlcztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgcmVzID0ge1xuICAgICAgICAgIF9lcnJvcjogZVxuICAgICAgICB9O1xuICAgICAgICBsb2dnZXIuZXJyb3IoZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUgPSBmdW5jdGlvbihpbnN0YW5jZSwgaGFuZGxlcikge1xuICB2YXIgY3VycmVudEFwcHJvdmUsIGN1cnJlbnRBcHByb3ZlcywgY3VycmVudFRyYWNlcztcbiAgaWYgKCFpbnN0YW5jZSB8fCAhaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGN1cnJlbnRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpO1xuICBpZiAoY3VycmVudFRyYWNlcy5sZW5ndGgpIHtcbiAgICBjdXJyZW50QXBwcm92ZXMgPSBjdXJyZW50VHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eSgnaGFuZGxlcicsIGhhbmRsZXIpO1xuICAgIGN1cnJlbnRBcHByb3ZlID0gY3VycmVudEFwcHJvdmVzLmxlbmd0aCA+IDAgPyBjdXJyZW50QXBwcm92ZXNbMF0gOiBudWxsO1xuICB9XG4gIGlmICghY3VycmVudEFwcHJvdmUgfHwgY3VycmVudEFwcHJvdmUudHlwZSA9PT0gJ2NjJykge1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIGlmIChhLnR5cGUgPT09ICdjYycgJiYgYS51c2VyID09PSBoYW5kbGVyICYmIGEuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgY3VycmVudEFwcHJvdmUgPSBhO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIWN1cnJlbnRBcHByb3ZlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBjdXJyZW50QXBwcm92ZTtcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UgPSBmdW5jdGlvbihpbnN0YW5jZSwgdHJhY2VJZCkge1xuICByZXR1cm4gaW5zdGFuY2UudHJhY2VzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2VJZCk7XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlID0gZnVuY3Rpb24oaW5zdGFuY2VJZCwgdXNlcklkKSB7XG4gIHZhciBmbG93LCBpbnN0YW5jZSwganVkZ2UsIG15X2FwcHJvdmUsIG5leHRTdGVwcywgbmV4dF91c2VyX2lkcywgc3RlcCwgc3RlcF90eXBlLCB0cmFjZTtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICBteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKGluc3RhbmNlLCB1c2VySWQpO1xuICBpZiAobXlfYXBwcm92ZSkge1xuICAgIHRyYWNlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZShpbnN0YW5jZSwgbXlfYXBwcm92ZS50cmFjZSk7XG4gICAgc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdHJhY2Uuc3RlcCk7XG4gICAgc3RlcF90eXBlID0gc3RlcC5zdGVwX3R5cGU7XG4gICAganVkZ2UgPSBzdGVwX3R5cGUgPT09IFwic2lnblwiID8gXCJhcHByb3ZlZFwiIDogXCJcIjtcbiAgICBuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwganVkZ2UpO1xuICAgIGlmIChuZXh0U3RlcHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBpZiAoc3RlcF90eXBlID09PSBcInNpZ25cIiB8fCBzdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgICBteV9hcHByb3ZlLmp1ZGdlID0gJ2FwcHJvdmVkJztcbiAgICAgIH1cbiAgICAgIG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zdGFuY2UuX2lkLCBuZXh0U3RlcHNbMF0sIHVzZXJJZCk7XG4gICAgICBpZiAoIW5leHRfdXNlcl9pZHMpIHtcbiAgICAgICAgbXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwc1swXSxcbiAgICAgICAgICAgIHVzZXJzOiBbXVxuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIG15X2FwcHJvdmU7XG4gICAgICB9XG4gICAgICBpZiAobmV4dF91c2VyX2lkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgbXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwc1swXSxcbiAgICAgICAgICAgIHVzZXJzOiBuZXh0X3VzZXJfaWRzXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gbXlfYXBwcm92ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyA9IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCBpbmJveF91c2VyKSB7XG4gIHZhciBGSUVMRFMsIF9iYXRjaF9pbnN0YW5jZXMsIGNhdGVnb3J5Rmxvd3MsIGluYm94X2luc3RhbmNlcywgcXVlcnksIHVuQ2F0ZWdvcnlGbG93cztcbiAgX2JhdGNoX2luc3RhbmNlcyA9IG5ldyBBcnJheSgpO1xuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2UsXG4gICAgaW5ib3hfdXNlcnM6IGluYm94X3VzZXJcbiAgfTtcbiAgRklFTERTID0ge1xuICAgIG5hbWU6IDEsXG4gICAgYXBwbGljYW50X25hbWU6IDEsXG4gICAgc3VibWl0X2RhdGU6IDEsXG4gICAgZmxvd192ZXJzaW9uOiAxLFxuICAgIFwidHJhY2VzLnN0ZXBcIjogMSxcbiAgICBmbG93OiAxLFxuICAgIGN1cnJlbnRfc3RlcF9uYW1lOiAxLFxuICAgIGZsb3dfbmFtZTogMVxuICB9O1xuICBpZiAoY2F0ZWdvcnlJZCkge1xuICAgIGlmIChjYXRlZ29yeUlkID09PSAnLTEnKSB7XG4gICAgICB1bkNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyhzcGFjZSwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IHVuQ2F0ZWdvcnlGbG93c1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldENhdGVnb3JpZXNGbG93cyhzcGFjZSwgY2F0ZWdvcnlJZCwge1xuICAgICAgICBfaWQ6IDFcbiAgICAgIH0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIik7XG4gICAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgICAkaW46IGNhdGVnb3J5Rmxvd3NcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGlmIChmbG93SWRzKSB7XG4gICAgcXVlcnkuZmxvdyA9IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH07XG4gIH1cbiAgaW5ib3hfaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IEZJRUxEUyxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiAxMDBcbiAgfSk7XG4gIGluYm94X2luc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGlucykge1xuICAgIHZhciBjdXJyZW50U3RlcCwgY3VycmVudFN0ZXBJZCwgZmxvdywgbXlBcHByb3ZlO1xuICAgIGN1cnJlbnRTdGVwSWQgPSBfLmxhc3QoaW5zLnRyYWNlcykuc3RlcDtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlucy5mbG93XG4gICAgfSk7XG4gICAgY3VycmVudFN0ZXAgPSBzdGVwTWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgY3VycmVudFN0ZXBJZCk7XG4gICAgbXlBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnMuX2lkLCBpbmJveF91c2VyKTtcbiAgICBpZiAoc3RlcE1hbmFnZXIuYWxsb3dCYXRjaChjdXJyZW50U3RlcCkgJiYgbXlBcHByb3ZlKSB7XG4gICAgICBkZWxldGUgaW5zLmZsb3dfdmVyc2lvbjtcbiAgICAgIGRlbGV0ZSBpbnMudHJhY2VzO1xuICAgICAgZGVsZXRlIGlucy5mbG93O1xuICAgICAgaW5zLmFwcHJvdmVfc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzO1xufTtcbiIsIk1ldGVvci5wdWJsaXNoICdjYXRlZ29yaWVzJywgKHNwYWNlSWQpIC0+XG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCBzcGFjZTogMSwgc29ydF9ubzogMSwgYXBwOiAxIH0gfSkiLCJNZXRlb3IucHVibGlzaCgnY2F0ZWdvcmllcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzb3J0X25vOiAxLFxuICAgICAgYXBwOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiXG5NZXRlb3IucHVibGlzaCAnY2ZzX2luc3RhbmNlcycsIChpbnN0YW5jZUlkcyktPlxuXHRjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBpbnN0YW5jZUlkc1xuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IHskaW46IGluc3RhbmNlSWRzfSAsICRvcjogW3snbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHskbmU6IHRydWV9fSx7J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLCBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkfV19KVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Nmc19pbnN0YW5jZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkcykge1xuICBjaGVjayhpbnN0YW5jZUlkcywgQXJyYXkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlSWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XG4gICAgICAkaW46IGluc3RhbmNlSWRzXG4gICAgfSxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7XG4gICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJ21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLFxuICAgICAgICBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkXG4gICAgICB9XG4gICAgXVxuICB9KTtcbn0pO1xuIiwiXG5cbk1ldGVvci5wdWJsaXNoICdmbG93X3Bvc2l0aW9ucycsIChzcGFjZUlkKS0+XG5cdFxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cdFxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7cm9sZToxLCB1c2VyczogMSwgb3JnOiAxfX0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfcG9zaXRpb25zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICByb2xlOiAxLFxuICAgICAgdXNlcnM6IDEsXG4gICAgICBvcmc6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaENvbXBvc2l0ZSAnZmxvd19wb3NpdGlvbnNfdGFidWxhcicsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHRoaXMudW5ibG9jaygpXG5cblx0ZmluZDogLT5cblx0XHR0aGlzLnVuYmxvY2soKVxuXHRcdGRiLmZsb3dfcG9zaXRpb25zLmZpbmQge19pZDogeyRpbjogaWRzfX0sIGZpZWxkczogZmllbGRzXG5cblx0Y2hpbGRyZW46IFtcblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIGZsb3dfcm9sZXNcblx0XHRcdFx0ZGIuZmxvd19yb2xlcy5maW5kIHsgX2lkOiBwb3NpdGlvbi5yb2xlIH0sIGZpZWxkczogbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIG9yZ2FuaXphdGlvbnNcblx0XHRcdFx0ZGIub3JnYW5pemF0aW9ucy5maW5kIHsgX2lkOiBwb3NpdGlvbi5vcmcgfSwgZmllbGRzOiBmdWxsbmFtZTogMVxuXHRcdH1cblx0XHR7XG5cdFx0XHRmaW5kOiAocG9zaXRpb24pIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IHBvc2l0aW9uLnNwYWNlXG5cdFx0XHRcdFx0dXNlcjogJGluOiBwb3NpdGlvbi51c2Vyc1xuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHR1c2VyOiAxXG5cdFx0XHRcdFx0bmFtZTogMVxuXHRcdH1cblx0XSIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlKCdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB0aGlzLnVuYmxvY2soKTtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlkc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLnJvbGVcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLm9yZ1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHBvc2l0aW9uLnNwYWNlLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAkaW46IHBvc2l0aW9uLnVzZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIlxuXG5cdE1ldGVvci5wdWJsaXNoICdmbG93X3JvbGVzJywgKHNwYWNlSWQpLT5cblx0XHRcblx0XHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XHRcblx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0XHRyZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOjF9fSk7XG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19yb2xlcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dzJywgKHNwYWNlSWQpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdCMg56ys5LiA5qyh6K6i6ZiF5pe25Yid5aeL5YyW5bel5L2c5Yy6XG5cdGlmIGRiLmZsb3dzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSkuY291bnQoKSA9PSAwXG5cdFx0ZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZClcblxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7XG5cdFx0ZmllbGRzOiB7XG5cdFx0XHRuYW1lOiAxLFxuXHRcdFx0Zm9ybTogMSxcblx0XHRcdHN0YXRlOiAxLFxuXHRcdFx0cGVybXM6IDEsXG5cdFx0XHRzcGFjZTogMSxcblx0XHRcdGNvbXBhbnlfaWQ6IDEsXG5cdFx0XHRzb3J0X25vOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcblx0XHRcdGRpc3RyaWJ1dGVfdG9fc2VsZjogMVxuXHRcdH1cblx0fSlcblxuXG5NZXRlb3IucHVibGlzaCAnZmxvd192ZXJzaW9uJywgKHNwYWNlSWQsIGZsb3dJZCwgdmVyc2lvbklkKSAtPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIHNwYWNlSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIGZsb3dJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgdmVyc2lvbklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0Z2V0Rmxvd1ZlcnNpb24gPSAoaWQgLCB2ZXJzaW9uSWQpLT5cblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkIDogaWR9KTtcblx0XHRpZiBmbG93XG5cdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnRcblx0XHRcdGZsb3dfdmVyc2lvbi5sYXRlc3QgPSB0cnVlXG5cblx0XHRcdGlmIGZsb3dfdmVyc2lvbi5faWQgIT0gdmVyc2lvbklkXG5cdFx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpXG5cdFx0XHRcdGZsb3dfdmVyc2lvbi5sYXRlc3QgPSBmYWxzZVxuXG5cdFx0XHRyZXR1cm4gZmxvd192ZXJzaW9uXG5cdGhhbmRsZSA9IGRiLmZsb3dzLmZpbmQoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcblx0fVxuXG5cblx0c2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG5cbk1ldGVvci5wdWJsaXNoICdkaXN0cmlidXRlX29wdGlvbmFsX2Zsb3dzJywgKGZsb3dfaWRzKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd19pZHNcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe19pZDogeyRpbjogZmxvd19pZHN9fSwge1xuXHRcdGZpZWxkczoge1xuXHRcdFx0bmFtZTogMSxcblx0XHRcdGZvcm06IDEsXG5cdFx0XHRzdGF0ZTogMSxcblx0XHRcdHBlcm1zOiAxLFxuXHRcdFx0c3BhY2U6IDEsXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuXHRcdFx0Y29tcGFueV9pZDogMVxuXHRcdH1cblx0fSlcblxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3cnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe19pZDogZmxvd0lkLCBzcGFjZTogc3BhY2VJZH0sIHtcblx0XHRmaWVsZHM6IHtcblx0XHRcdHByaW50X3RlbXBsYXRlOiAxLFxuXHRcdFx0aW5zdGFuY2VfdGVtcGxhdGU6IDEsXG5cdFx0XHRldmVudHM6IDEsXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxuXHRcdFx0dXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkOiAxLFxuXHRcdFx0ZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uOiAxLFxuXHRcdFx0Y29tcGFueV9pZDogMSxcblx0XHRcdGFsbG93X3NlbGVjdF9zdGVwOiAxXG5cdFx0fVxuXHR9KVxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfZmlsZXMnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZmxvd0lkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHJldHVybiBjZnMuZmlsZXMuZmluZCh7ICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWQsICdtZXRhZGF0YS5vYmplY3RfbmFtZSc6ICdmbG93cycsICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBmbG93SWQgfSlcblxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgJ2Zsb3dzX3RhYnVsYXInLCAodGFibGVOYW1lLCBpZHMsIGZpZWxkcyktPlxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG5cdGNoZWNrKGlkcywgQXJyYXkpO1xuXHRjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR0aGlzLnVuYmxvY2soKVxuXG5cdGZpbmQ6IC0+XG5cdFx0dGhpcy51bmJsb2NrKClcblx0XHRkYi5mbG93cy5maW5kIHtfaWQ6IHskaW46IGlkc319LCBmaWVsZHM6IGZpZWxkc1xuXG5cdGNoaWxkcmVuOiBbXG5cdFx0e1xuXHRcdFx0ZmluZDogKGZsb3cpIC0+XG5cdFx0XHRcdEB1bmJsb2NrKClcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2UsXG5cdFx0XHRcdFx0dXNlcjogZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5XG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdHVzZXI6IDFcblx0XHRcdFx0XHRuYW1lOiAxXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5mb3Jtcy5maW5kIHtcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZSxcblx0XHRcdFx0XHRfaWQ6IGZsb3cuZm9ybVxuXHRcdFx0XHR9LCBmaWVsZHM6XG5cdFx0XHRcdFx0c3BhY2U6IDFcblx0XHRcdFx0XHRfaWQ6IDFcblx0XHRcdFx0XHRuYW1lOiAxLFxuXHRcdFx0XHRcdGNhdGVnb3J5OiAxXG5cdFx0fSxcblx0XHR7XG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cblx0XHRcdFx0QHVuYmxvY2soKVxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxuXHRcdFx0XHRkYi5jYXRlZ29yaWVzLmZpbmQge1xuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlXG5cdFx0XHRcdH0sIGZpZWxkczpcblx0XHRcdFx0XHRzcGFjZTogMVxuXHRcdFx0XHRcdF9pZDogMVxuXHRcdFx0XHRcdG5hbWU6IDFcblx0XHR9XG5cdF0iLCJNZXRlb3IucHVibGlzaCgnZmxvd3MnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKGRiLmZsb3dzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICBkYi5zcGFjZXMuY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyhzcGFjZUlkKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHBlcm1zOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBjb21wYW55X2lkOiAxLFxuICAgICAgc29ydF9ubzogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93X3ZlcnNpb24nLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQsIHZlcnNpb25JZCkge1xuICB2YXIgZ2V0Rmxvd1ZlcnNpb24sIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRGbG93VmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uSWQpIHtcbiAgICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9KTtcbiAgICBpZiAoZmxvdykge1xuICAgICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICAgICAgZmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWU7XG4gICAgICBpZiAoZmxvd192ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpO1xuICAgICAgICBmbG93X3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmxvd192ZXJzaW9uO1xuICAgIH1cbiAgfTtcbiAgaGFuZGxlID0gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCBmdW5jdGlvbihmbG93X2lkcykge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGZsb3dfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgcGVybXM6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvdycsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd0lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcHJpbnRfdGVtcGxhdGU6IDEsXG4gICAgICBpbnN0YW5jZV90ZW1wbGF0ZTogMSxcbiAgICAgIGV2ZW50czogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICB1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxLFxuICAgICAgYWxsb3dfc2VsZWN0X3N0ZXA6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93X2ZpbGVzJywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93SWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBjZnMuZmlsZXMuZmluZCh7XG4gICAgJ21ldGFkYXRhLnNwYWNlJzogc3BhY2VJZCxcbiAgICAnbWV0YWRhdGEub2JqZWN0X25hbWUnOiAnZmxvd3MnLFxuICAgICdtZXRhZGF0YS5yZWNvcmRfaWQnOiBmbG93SWRcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUoJ2Zsb3dzX3RhYnVsYXInLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHRoaXMudW5ibG9jaygpO1xuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaWRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgdXNlcjogZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdmb3JtcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCBjYXRlZ29yeTogMSwgc3RhdGU6IDEsIGRlc2NyaXB0aW9uOiAxLCBpbnN0YW5jZV9zdHlsZTogMX19KVxuXG5cbk1ldGVvci5wdWJsaXNoICdmb3JtX3ZlcnNpb24nLCAoc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIC0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3Mgc3BhY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgZm9ybUlkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyB2ZXJzaW9uSWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRGb3JtVmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQgOiBpZH0pO1xuXHRcdGlmICFmb3JtXG5cdFx0XHRyZXR1cm4ge31cblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcblx0XHRmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZVxuXHRcdGlmIGZvcm1fdmVyc2lvbi5faWQgIT0gdmVyc2lvbklkXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKVxuXHRcdFx0Zm9ybV92ZXJzaW9uLmxhdGVzdCA9IGZhbHNlXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxuXG5cdGhhbmRsZSA9IGRiLmZvcm1zLmZpbmQoe19pZDogZm9ybUlkfSwge2ZpZWxkczoge19pZDogMSwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDF9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcblx0fVxuXG5cdHNlbGYuYWRkZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oZm9ybUlkLCB2ZXJzaW9uSWQpKTtcblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdmb3JtcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGNhdGVnb3J5OiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgIGluc3RhbmNlX3N0eWxlOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZm9ybV92ZXJzaW9uJywgZnVuY3Rpb24oc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIHtcbiAgdmFyIGdldEZvcm1WZXJzaW9uLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmb3JtSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghdmVyc2lvbklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0Rm9ybVZlcnNpb24gPSBmdW5jdGlvbihpZCwgdmVyc2lvbklkKSB7XG4gICAgdmFyIGZvcm0sIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgICBmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKTtcbiAgICAgIGZvcm1fdmVyc2lvbi5sYXRlc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgfTtcbiAgaGFuZGxlID0gZGIuZm9ybXMuZmluZCh7XG4gICAgX2lkOiBmb3JtSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihmb3JtSWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZV9kYXRhJywgKGluc3RhbmNlSWQsIGJveCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dW5sZXNzIChpbnN0YW5jZUlkICYmIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IGluc3RhbmNlSWR9KS5jb3VudCgpKVxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHRtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJyxcblx0XHQnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nLCAnYXV0b19zdWJtaXR0ZWQnXVxuXG5cdHRyaWdnZXJDaGFuZ2VGaWVsZHMgPSBbJ2Zvcm1fdmVyc2lvbicsICdmbG93X3ZlcnNpb24nLCAncmVsYXRlZF9pbnN0YW5jZXMnLCAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycsICd2YWx1ZXMnXVxuXG5cdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMgPSB7fVxuXG5cdGluc3RhbmNlX2ZpZWxkc18wID0ge1xuXHRcdFwicmVjb3JkX3N5bmNlZFwiOiAwLFxuXG4jXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY29zdF90aW1lXCI6IDAsXG4jXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlYWRfZGF0ZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2Vycm9yXCI6IDAsXG5cdFx0IyBcInRyYWNlcy5hcHByb3Zlcy51c2VyX25hbWVcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5kZWFkbGluZVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZF9kYXRlXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kZWRfY291bnRcIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZF9ieVwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkXCI6IDAsXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZ2VvbG9jYXRpb25cIjogMCxcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5jY191c2Vyc1wiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmZyb21fYXBwcm92ZV9pZFwiOiAwLFxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnZhbHVlc19oaXN0b3J5XCI6IDBcblx0fVxuXG5cdGdldE15YXBwcm92ZU1vZGlmaWVkID0gKHRyYWNlcyktPlxuXHRcdG15QXBwcm92ZU1vZGlmaWVkcyA9IG5ldyBBcnJheSgpXG5cblx0XHR0cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XG5cdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpLT5cblx0XHRcdFx0aWYgKGFwcHJvdmUudXNlciA9PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT0gc2VsZi51c2VySWQpXG5cdFx0XHRcdCMgJiYgIWFwcHJvdmUuaXNfZmluaXNoZWRcbiNcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJhcHByb3ZlXCIsIGFwcHJvdmUuX2lkLCBhcHByb3ZlLnJlYWRfZGF0ZSlcblxuXHRcdFx0XHRcdG15QXBwcm92ZU1vZGlmaWVkcy5wdXNoKGFwcHJvdmUucmVhZF9kYXRlKVxuXG5cdFx0cmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkc1xuXG5cblx0Z2V0TWluaUluc3RhbmNlID0gKF9pbnN0YW5jZUlkKS0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBfaW5zdGFuY2VJZH0sIHtmaWVsZHM6IGluc3RhbmNlX2ZpZWxkc18wfSlcblxuXHRcdGlmIGluc3RhbmNlXG5cblx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHMuZm9yRWFjaCAoa2V5KS0+XG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcblx0XHRcdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBnZXRNeWFwcHJvdmVNb2RpZmllZChpbnN0YW5jZS50cmFjZXMpXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBpbnN0YW5jZVtrZXldXG5cbiNcdFx0XHRoYXNPcGluaW9uRmllbGQgPSBJbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcblxuXHRcdFx0c2hvd19tb2RhbF90cmFjZXNfbGlzdCA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoeyBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCIgfSwgeyBmaWVsZHM6IHsgdmFsdWVzOiAxIH0gfSk/LnZhbHVlcyB8fCBmYWxzZVxuXG5cdFx0XHRpZiBzaG93X21vZGFsX3RyYWNlc19saXN0XG5cblx0XHRcdFx0dHJhY2VzID0gbmV3IEFycmF5KCk7XG5cblx0XHRcdFx0aW5zdGFuY2U/LnRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cblx0XHRcdFx0XHRfdHJhY2UgPSBfLmNsb25lKHRyYWNlKVxuXG5cdFx0XHRcdFx0YXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxuXG5cdFx0XHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKS0+XG5cdFx0XHRcdFx0XHRpZiBhcHByb3ZlLnR5cGUgIT0gJ2NjJyB8fCBhcHByb3ZlLnVzZXIgPT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09IHNlbGYudXNlcklkIHx8ICghXy5pc0VtcHR5KGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSlcblx0XHRcdFx0XHRcdFx0YXBwcm92ZXMucHVzaChhcHByb3ZlKVxuXG5cdFx0XHRcdFx0X3RyYWNlLmFwcHJvdmVzID0gYXBwcm92ZXNcblxuXHRcdFx0XHRcdHRyYWNlcy5wdXNoKF90cmFjZSlcblxuXHRcdFx0XHRpbnN0YW5jZS50cmFjZXMgPSB0cmFjZXM7XG5cblx0XHRyZXR1cm4gaW5zdGFuY2VcblxuXG5cdG5lZWRDaGFuZ2UgPSAoY2hhbmdlRmllbGRzKS0+XG5cdFx0aWYgY2hhbmdlRmllbGRzXG5cblx0XHRcdF9jaGFuZ2UgPSBmYWxzZVxuXG5cdFx0XHRfcmV2ID0gXy5maW5kIHRyaWdnZXJDaGFuZ2VGaWVsZHMsIChrZXkpLT5cblx0XHRcdFx0X2tleSA9IGtleVxuXG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcblx0XHRcdFx0XHRfa2V5ID0gJ3RyYWNlcydcblxuXHRcdFx0XHRpZiBfLmhhcyhjaGFuZ2VGaWVsZHMsIF9rZXkpXG5cblx0XHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXG5cblx0XHRcdFx0XHRcdF9teV9hcHByb3ZlX21vZGlmaWVkcyA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGNoYW5nZUZpZWxkcy50cmFjZXMpXG5cbiNcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcylcblxuXHRcdFx0XHRcdFx0cmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0cmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBjaGFuZ2VGaWVsZHNba2V5XSlcblxuXHRcdFx0aWYgX3JldlxuXHRcdFx0XHRfY2hhbmdlID0gdHJ1ZVxuXG4jXHRcdFx0Y29uc29sZS5sb2coX3JldiwgX2NoYW5nZSlcblxuXHRcdFx0cmV0dXJuIF9jaGFuZ2VcblxuXHRcdHJldHVybiB0cnVlXG5cdCPmraTlpITkuI3og73mt7vliqBmaWVsZHPpmZDliLbvvIzlkKbliJnkvJrlr7zoh7TmlbDmja7kuI3lrp7ml7Zcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogaW5zdGFuY2VJZH0pLm9ic2VydmVDaGFuZ2VzIHtcblx0XHRjaGFuZ2VkOiAoaWQsIGZpZWxkcyktPlxuXHRcdFx0aWYoYm94ICE9ICdpbmJveCcgfHwgbmVlZENoYW5nZShmaWVsZHMpKVxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGdldE1pbmlJbnN0YW5jZShpZCkpO1xuXHRcdHJlbW92ZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcblx0fVxuXG5cdGluc3RhbmNlID0gZ2V0TWluaUluc3RhbmNlKGluc3RhbmNlSWQpXG5cblx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpbnN0YW5jZT8uX2lkLCBpbnN0YW5jZSk7XG5cblx0c2VsZi5yZWFkeSgpO1xuXG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG5cblxuTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlX3RyYWNlcycsIChpbnN0YW5jZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgaW5zdGFuY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpc1xuXG5cdGdldEluc3RhbmNlVHJhY2VzID0gKF9pbnNJZCktPlxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBfaW5zSWR9LCB7ZmllbGRzOiB7X2lkOiAxLCB0cmFjZXM6IDF9fSlcblxuXG5cdGhhbmRsZSA9ICBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiBpbnN0YW5jZUlkfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcblx0fVxuXG5cdHNlbGYuYWRkZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuXG5cdHNlbGYucmVhZHkoKTtcblx0c2VsZi5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKCkiLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VfZGF0YScsIGZ1bmN0aW9uKGluc3RhbmNlSWQsIGJveCkge1xuICB2YXIgZ2V0TWluaUluc3RhbmNlLCBnZXRNeWFwcHJvdmVNb2RpZmllZCwgaGFuZGxlLCBpbnN0YW5jZSwgaW5zdGFuY2VfZmllbGRzXzAsIG1pbmlBcHByb3ZlRmllbGRzLCBuZWVkQ2hhbmdlLCBzZWxmLCB0cmlnZ2VyQ2hhbmdlRmllbGRzLCB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIShpbnN0YW5jZUlkICYmIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSkuY291bnQoKSkpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJywgJ2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJywgJ2F1dG9fc3VibWl0dGVkJ107XG4gIHRyaWdnZXJDaGFuZ2VGaWVsZHMgPSBbJ2Zvcm1fdmVyc2lvbicsICdmbG93X3ZlcnNpb24nLCAncmVsYXRlZF9pbnN0YW5jZXMnLCAnX215X2FwcHJvdmVfcmVhZF9kYXRlcycsICd2YWx1ZXMnXTtcbiAgdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcyA9IHt9O1xuICBpbnN0YW5jZV9maWVsZHNfMCA9IHtcbiAgICBcInJlY29yZF9zeW5jZWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25cIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5jb3N0X3RpbWVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19lcnJvclwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmRlYWRsaW5lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kX2RhdGVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRlZF9jb3VudFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkX2J5XCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5nZW9sb2NhdGlvblwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmNjX3VzZXJzXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV9hcHByb3ZlX2lkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMudmFsdWVzX2hpc3RvcnlcIjogMFxuICB9O1xuICBnZXRNeWFwcHJvdmVNb2RpZmllZCA9IGZ1bmN0aW9uKHRyYWNlcykge1xuICAgIHZhciBteUFwcHJvdmVNb2RpZmllZHM7XG4gICAgbXlBcHByb3ZlTW9kaWZpZWRzID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKHRyYWNlcyAhPSBudWxsKSB7XG4gICAgICB0cmFjZXMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgcmVmO1xuICAgICAgICByZXR1cm4gdHJhY2UgIT0gbnVsbCA/IChyZWYgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS51c2VyID09PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT09IHNlbGYudXNlcklkKSB7XG4gICAgICAgICAgICByZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzLnB1c2goYXBwcm92ZS5yZWFkX2RhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkcztcbiAgfTtcbiAgZ2V0TWluaUluc3RhbmNlID0gZnVuY3Rpb24oX2luc3RhbmNlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgcmVmMSwgc2hvd19tb2RhbF90cmFjZXNfbGlzdCwgdHJhY2VzO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBfaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczogaW5zdGFuY2VfZmllbGRzXzBcbiAgICB9KTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIHRyaWdnZXJDaGFuZ2VGaWVsZHMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGluc3RhbmNlLnRyYWNlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGluc3RhbmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2hvd19tb2RhbF90cmFjZXNfbGlzdCA9ICgocmVmID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7XG4gICAgICAgIHNwYWNlOiBpbnN0YW5jZS5zcGFjZSxcbiAgICAgICAga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIlxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB2YWx1ZXM6IDFcbiAgICAgICAgfVxuICAgICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICAgIGlmIChzaG93X21vZGFsX3RyYWNlc19saXN0KSB7XG4gICAgICAgIHRyYWNlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICgocmVmMSA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVmMS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgICAgICAgIHZhciBfdHJhY2UsIGFwcHJvdmVzLCByZWYyO1xuICAgICAgICAgICAgICBfdHJhY2UgPSBfLmNsb25lKHRyYWNlKTtcbiAgICAgICAgICAgICAgYXBwcm92ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlZjIgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVmMi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcHJvdmUudHlwZSAhPT0gJ2NjJyB8fCBhcHByb3ZlLnVzZXIgPT09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PT0gc2VsZi51c2VySWQgfHwgKCFfLmlzRW1wdHkoYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHByb3Zlcy5wdXNoKGFwcHJvdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3RyYWNlLmFwcHJvdmVzID0gYXBwcm92ZXM7XG4gICAgICAgICAgICAgIHJldHVybiB0cmFjZXMucHVzaChfdHJhY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuICBuZWVkQ2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlRmllbGRzKSB7XG4gICAgdmFyIF9jaGFuZ2UsIF9yZXY7XG4gICAgaWYgKGNoYW5nZUZpZWxkcykge1xuICAgICAgX2NoYW5nZSA9IGZhbHNlO1xuICAgICAgX3JldiA9IF8uZmluZCh0cmlnZ2VyQ2hhbmdlRmllbGRzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIF9rZXksIF9teV9hcHByb3ZlX21vZGlmaWVkcztcbiAgICAgICAgX2tleSA9IGtleTtcbiAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgX2tleSA9ICd0cmFjZXMnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLmhhcyhjaGFuZ2VGaWVsZHMsIF9rZXkpKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgICBfbXlfYXBwcm92ZV9tb2RpZmllZHMgPSBnZXRNeWFwcHJvdmVNb2RpZmllZChjaGFuZ2VGaWVsZHMudHJhY2VzKTtcbiAgICAgICAgICAgIHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBjaGFuZ2VGaWVsZHNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChfcmV2KSB7XG4gICAgICAgIF9jaGFuZ2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9jaGFuZ2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICBpZiAoYm94ICE9PSAnaW5ib3gnIHx8IG5lZWRDaGFuZ2UoZmllbGRzKSkge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBnZXRNaW5pSW5zdGFuY2UoaWQpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcbiAgICB9XG4gIH0pO1xuICBpbnN0YW5jZSA9IGdldE1pbmlJbnN0YW5jZShpbnN0YW5jZUlkKTtcbiAgc2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2UuX2lkIDogdm9pZCAwLCBpbnN0YW5jZSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnaW5zdGFuY2VfdHJhY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZCkge1xuICB2YXIgZ2V0SW5zdGFuY2VUcmFjZXMsIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0SW5zdGFuY2VUcmFjZXMgPSBmdW5jdGlvbihfaW5zSWQpIHtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBfaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuICAgIH1cbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIlxuXHRNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VzX2xpc3QnLCAoc3BhY2VJZCwgYm94LCBmbG93SWQpLT5cblxuXHRcdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXHRcdFxuXHRcdHVubGVzcyBzcGFjZUlkXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0XHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cblx0XHRpZiBib3ggPT0gXCJpbmJveFwiXG5cdFx0XHRxdWVyeS5pbmJveF91c2VycyA9IHRoaXMudXNlcklkO1xuXHRcdGVsc2UgaWYgYm94ID09IFwib3V0Ym94XCJcblx0XHRcdHF1ZXJ5Lm91dGJveF91c2VycyA9IHRoaXMudXNlcklkO1xuXHRcdGVsc2UgaWYgYm94ID09IFwiZHJhZnRcIlxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIlxuXHRcdGVsc2UgaWYgYm94ID09IFwicGVuZGluZ1wiXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJwZW5kaW5nXCJcblx0XHRlbHNlIGlmIGJveCA9PSBcImNvbXBsZXRlZFwiXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIlxuXHRcdGVsc2UgaWYgYm94ID09IFwibW9uaXRvclwiXG5cdFx0XHRxdWVyeS5mbG93ID0gZmxvd0lkO1xuXHRcdFx0cXVlcnkuc3RhdGUgPSB7JGluOiBbXCJwZW5kaW5nXCIsXCJjb21wbGV0ZWRcIl19O1xuXHRcdGVsc2Vcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJub25lXCJcblxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge25hbWU6MSwgY3JlYXRlZDoxLCBmb3JtOjEsIGZsb3c6IDEsIHNwYWNlOjEsIG1vZGlmaWVkOjEsIGFwcGxpY2FudDogMSwgaXNfYXJjaGl2ZWQ6MSwgZm9ybV92ZXJzaW9uOiAxLCBmbG93X3ZlcnNpb246IDF9fSlcblxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlc19saXN0JywgZnVuY3Rpb24oc3BhY2VJZCwgYm94LCBmbG93SWQpIHtcbiAgdmFyIHF1ZXJ5O1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGlmIChib3ggPT09IFwiaW5ib3hcIikge1xuICAgIHF1ZXJ5LmluYm94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm91dGJveFwiKSB7XG4gICAgcXVlcnkub3V0Ym94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwicGVuZGluZ1wiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm1vbml0b3JcIikge1xuICAgIHF1ZXJ5LmZsb3cgPSBmbG93SWQ7XG4gICAgcXVlcnkuc3RhdGUgPSB7XG4gICAgICAkaW46IFtcInBlbmRpbmdcIiwgXCJjb21wbGV0ZWRcIl1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJub25lXCI7XG4gIH1cbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgY3JlYXRlZDogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBmbG93OiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBtb2RpZmllZDogMSxcbiAgICAgIGFwcGxpY2FudDogMSxcbiAgICAgIGlzX2FyY2hpdmVkOiAxLFxuICAgICAgZm9ybV92ZXJzaW9uOiAxLFxuICAgICAgZmxvd192ZXJzaW9uOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwibGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSA9IChpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKS0+XG5cdG9wZXJhdGlvbiA9IFt7XG5cdFx0XCIkbWF0Y2hcIjoge1xuXHRcdFx0XCJfaWRcIjogaW5zdGFuY2VpZFxuXHRcdH1cblx0fSwge1wiJHByb2plY3RcIjoge1wibmFtZVwiOiAxLCBcIl9hcHByb3ZlXCI6IFwiJHRyYWNlcy5hcHByb3Zlc1wifX0sIHtcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIn0sIHtcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIn0sXG5cdFx0e1wiJG1hdGNoXCI6IHtcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsICRvcjpbe1wiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWR9LHtcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkfV19fSxcblx0XHR7XCIkZ3JvdXBcIjoge1wiX2lkXCI6IFwiJF9pZFwiLCBcImZpbmlzaF9kYXRlXCI6IHtcIiRsYXN0XCI6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJ9fX1cblx0XVxuXG5cdGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKG9wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKS0+XG5cdFx0aWYgZXJyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXG5cdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRkYXRhTWFwLnB1c2ggZG9jXG5cblx0XHRpZiBjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spXG5cdFx0XHRjYWxsYmFjaygpXG5cdFx0cmV0dXJuXG5cbmFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSA9IE1ldGVvci53cmFwQXN5bmMobGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSlcblxuTWV0ZW9yLnB1Ymxpc2ggXCJpbnN0YW5jZV90YWJ1bGFyXCIsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG5cblx0Y2hlY2soaWRzLCBBcnJheSk7XG5cblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKVxuXG5cdGZpZWxkcy5jY191c2VycyA9IDFcblxuXHRzZWxmID0gdGhpcztcblxuXHRnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUgPSAodXNlcklkLCBpbnN0YW5jZUlkKS0+XG5cdFx0ZGF0YSA9IFtdXG5cdFx0YXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlKGluc3RhbmNlSWQsIHVzZXJJZCwgZGF0YSlcblx0XHRpZiBkYXRhLmxlbmd0aCA+IDBcblx0XHRcdHJldHVybiBkYXRhWzBdXG5cblxuXHRnZXRNeUFwcHJvdmUgPSAodXNlcklkLCBpbnN0YW5jZUlkKS0+XG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSwge2ZpZWxkczoge3RyYWNlczogMX19KVxuXHRcdG15QXBwcm92ZSA9IG51bGxcblxuXHRcdGlmICFpbnN0YW5jZVxuXHRcdFx0cmV0dXJuXG5cblx0XHRpZiAhaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxXG5cdFx0XHRyZXR1cm5cblxuXHRcdG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpXG5cblx0XHRpZiBub3RGaW5pc2hlZFRyYWNlcy5sZW5ndGggPiAwXG5cdFx0XHRhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xuXG5cdFx0XHRpZiBhcHByb3Zlcy5sZW5ndGggPiAwXG5cdFx0XHRcdGFwcHJvdmUgPSBhcHByb3Zlc1swXVxuXHRcdFx0XHRteUFwcHJvdmUgPSB7XG5cdFx0XHRcdFx0aWQ6IGFwcHJvdmUuX2lkLFxuXHRcdFx0XHRcdGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxuXHRcdFx0XHRcdHRyYWNlOiBhcHByb3ZlLnRyYWNlLFxuXHRcdFx0XHRcdGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcblx0XHRcdFx0XHRzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdFx0XHRhZ2VudDogYXBwcm92ZS5hZ2VudFxuXHRcdFx0XHRcdHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWVcblx0XHRcdFx0fVxuXG5cdFx0aWYgIW15QXBwcm92ZVxuXHRcdFx0aXNfcmVhZCA9IGZhbHNlXG5cdFx0XHRpbnN0YW5jZS50cmFjZXMuZm9yRWFjaCAodHJhY2UpIC0+XG5cdFx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSkgLT5cblx0XHRcdFx0XHRpZiBhcHByb3ZlLnR5cGUgPT0gJ2NjJyBhbmQgYXBwcm92ZS51c2VyID09IHVzZXJJZCBhbmQgYXBwcm92ZS5pc19maW5pc2hlZCA9PSBmYWxzZVxuXHRcdFx0XHRcdFx0aWYgYXBwcm92ZS5pc19yZWFkXG5cdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSB0cnVlXG5cdFx0XHRcdFx0XHRteUFwcHJvdmUgPSB7aWQ6IGFwcHJvdmUuX2lkLCBpc19yZWFkOiBpc19yZWFkLCBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsIGFnZW50OiBhcHByb3ZlLmFnZW50LCB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lfVxuXG5cdFx0cmV0dXJuIG15QXBwcm92ZVxuXG5cdGdldFN0ZXBDdXJyZW50TmFtZSA9IChpbnN0YW5jZUlkKSAtPlxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0sIHtmaWVsZHM6IHtcInRyYWNlcy5uYW1lXCI6IDEsIFwidHJhY2VzXCI6IHskc2xpY2U6IC0xfX19KVxuXHRcdGlmIGluc3RhbmNlXG5cdFx0XHRzdGVwQ3VycmVudE5hbWUgPSBpbnN0YW5jZS50cmFjZXM/WzBdPy5uYW1lXG5cblx0XHRyZXR1cm4gc3RlcEN1cnJlbnROYW1lXG5cblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaWRzfX0sIHtmaWVsZHM6IHt0cmFjZXM6IDB9fSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdFx0bXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRcdGlmIG15QXBwcm92ZVxuXHRcdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWRcblx0XHRcdFx0aW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlXG5cdFx0XHRcdGlmIG15QXBwcm92ZS5hZ2VudFxuXHRcdFx0XHRcdGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWVcblx0XHRcdGVsc2Vcblx0XHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IHRydWVcblxuXHRcdFx0aWYgbXlMYXN0RmluaXNoZWRBcHByb3ZlXG5cdFx0XHRcdGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlXG5cblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0aW5zdGFuY2UuY2NfY291bnQgPSBpbnN0YW5jZS5jY191c2Vycz8ubGVuZ3RoIHx8IDBcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0dHJ5XG5cdFx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuXHRcdFx0Y2F0Y2ggZXJyb3Jcblx0XHRcdFx0Y29uc29sZS5sb2coJ2luc3RhbmNlIG9ic2VydmVDaGFuZ2VzIGVycm9yOiAnLCBlcnJvci5tZXNzYWdlKTtcblx0XHRcdFx0Y29uc29sZS5sb2coJ3NlbGYudXNlcklkOiAnLCBzZWxmLnVzZXJJZCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCd0YWJsZU5hbWU6ICcsIHRhYmxlTmFtZSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdpZHM6ICcsIEpTT04uc3RyaW5naWZ5KGlkcykpO1xuXHRcdFx0XHRjb25zb2xlLmxvZygnbXlBcHByb3ZlOiAnLCBKU09OLnN0cmluZ2lmeShteUFwcHJvdmUpKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRpZHMuZm9yRWFjaCAoaWQpLT5cblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0bXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZClcblx0XHRteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxuXHRcdGlmIG15QXBwcm92ZVxuXHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkXG5cdFx0XHRpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcblx0XHRcdGlmIG15QXBwcm92ZS5hZ2VudFxuXHRcdFx0XHRcdGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWVcblx0XHRlbHNlXG5cdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZVxuXG5cdFx0aWYgbXlMYXN0RmluaXNoZWRBcHByb3ZlXG5cdFx0XHRpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZVxuXG5cdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0aW5zdGFuY2UuY2NfY291bnQgPSBpbnN0YW5jZS5jY191c2Vycz8ubGVuZ3RoIHx8IDBcblx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKSIsInZhciBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUsIGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGU7XG5cbmxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUgPSBmdW5jdGlvbihpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKSB7XG4gIHZhciBvcGVyYXRpb247XG4gIG9wZXJhdGlvbiA9IFtcbiAgICB7XG4gICAgICBcIiRtYXRjaFwiOiB7XG4gICAgICAgIFwiX2lkXCI6IGluc3RhbmNlaWRcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiRwcm9qZWN0XCI6IHtcbiAgICAgICAgXCJuYW1lXCI6IDEsXG4gICAgICAgIFwiX2FwcHJvdmVcIjogXCIkdHJhY2VzLmFwcHJvdmVzXCJcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIlxuICAgIH0sIHtcbiAgICAgIFwiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwiXG4gICAgfSwge1xuICAgICAgXCIkbWF0Y2hcIjoge1xuICAgICAgICBcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIFwiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgXCIkZ3JvdXBcIjoge1xuICAgICAgICBcIl9pZFwiOiBcIiRfaWRcIixcbiAgICAgICAgXCJmaW5pc2hfZGF0ZVwiOiB7XG4gICAgICAgICAgXCIkbGFzdFwiOiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwiXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF07XG4gIHJldHVybiBkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShvcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBkYXRhTWFwLnB1c2goZG9jKTtcbiAgICB9KTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufTtcblxuYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlID0gTWV0ZW9yLndyYXBBc3luYyhsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlKTtcblxuTWV0ZW9yLnB1Ymxpc2goXCJpbnN0YW5jZV90YWJ1bGFyXCIsIGZ1bmN0aW9uKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpIHtcbiAgdmFyIGdldE15QXBwcm92ZSwgZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlLCBnZXRTdGVwQ3VycmVudE5hbWUsIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgY2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xuICBjaGVjayhpZHMsIEFycmF5KTtcbiAgY2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcbiAgZmllbGRzLmNjX3VzZXJzID0gMTtcbiAgc2VsZiA9IHRoaXM7XG4gIGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBkYXRhO1xuICAgIGRhdGEgPSBbXTtcbiAgICBhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUoaW5zdGFuY2VJZCwgdXNlcklkLCBkYXRhKTtcbiAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZGF0YVswXTtcbiAgICB9XG4gIH07XG4gIGdldE15QXBwcm92ZSA9IGZ1bmN0aW9uKHVzZXJJZCwgaW5zdGFuY2VJZCkge1xuICAgIHZhciBhcHByb3ZlLCBhcHByb3ZlcywgaW5zdGFuY2UsIGlzX3JlYWQsIG15QXBwcm92ZSwgbm90RmluaXNoZWRUcmFjZXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgbXlBcHByb3ZlID0gbnVsbDtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpO1xuICAgIGlmIChub3RGaW5pc2hlZFRyYWNlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xuICAgICAgaWYgKGFwcHJvdmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYXBwcm92ZSA9IGFwcHJvdmVzWzBdO1xuICAgICAgICBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgIGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxuICAgICAgICAgIHRyYWNlOiBhcHByb3ZlLnRyYWNlLFxuICAgICAgICAgIGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcbiAgICAgICAgICBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsXG4gICAgICAgICAgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsXG4gICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW15QXBwcm92ZSkge1xuICAgICAgaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgaW5zdGFuY2UudHJhY2VzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgcmV0dXJuIHRyYWNlICE9IG51bGwgPyAocmVmID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUudHlwZSA9PT0gJ2NjJyAmJiBhcHByb3ZlLnVzZXIgPT09IHVzZXJJZCAmJiBhcHByb3ZlLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKGFwcHJvdmUuaXNfcmVhZCkge1xuICAgICAgICAgICAgICBpc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBteUFwcHJvdmUgPSB7XG4gICAgICAgICAgICAgIGlkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICAgICAgaXNfcmVhZDogaXNfcmVhZCxcbiAgICAgICAgICAgICAgc3RhcnRfZGF0ZTogYXBwcm92ZS5zdGFydF9kYXRlLFxuICAgICAgICAgICAgICBhZ2VudDogYXBwcm92ZS5hZ2VudCxcbiAgICAgICAgICAgICAgdXNlcl9uYW1lOiBhcHByb3ZlLnVzZXJfbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBteUFwcHJvdmU7XG4gIH07XG4gIGdldFN0ZXBDdXJyZW50TmFtZSA9IGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgcmVmMSwgc3RlcEN1cnJlbnROYW1lO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXNcIjoge1xuICAgICAgICAgICRzbGljZTogLTFcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgc3RlcEN1cnJlbnROYW1lID0gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IChyZWYxID0gcmVmWzBdKSAhPSBudWxsID8gcmVmMS5uYW1lIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gc3RlcEN1cnJlbnROYW1lO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGlkc1xuICAgIH1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgdHJhY2VzOiAwXG4gICAgfVxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHZhciBlcnJvciwgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlMYXN0RmluaXNoZWRBcHByb3ZlLCByZWYsIHJlZjE7XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IGZpZWxkc1xuICAgICAgfSk7XG4gICAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgICAgbXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZDtcbiAgICAgICAgaW5zdGFuY2Uuc3RhcnRfZGF0ZSA9IG15QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICBpZiAobXlBcHByb3ZlLmFnZW50KSB7XG4gICAgICAgICAgaW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobXlMYXN0RmluaXNoZWRBcHByb3ZlKSB7XG4gICAgICAgIGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2UuaXNfY2MgPSAoKHJlZiA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKHNlbGYudXNlcklkKSA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgICBpbnN0YW5jZS5jY19jb3VudCA9ICgocmVmMSA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDApIHx8IDA7XG4gICAgICBkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICAgICAgZXJyb3IgPSBlcnJvcjE7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpbnN0YW5jZSBvYnNlcnZlQ2hhbmdlcyBlcnJvcjogJywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzZWxmLnVzZXJJZDogJywgc2VsZi51c2VySWQpO1xuICAgICAgICBjb25zb2xlLmxvZygndGFibGVOYW1lOiAnLCB0YWJsZU5hbWUpO1xuICAgICAgICBjb25zb2xlLmxvZygnaWRzOiAnLCBKU09OLnN0cmluZ2lmeShpZHMpKTtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdteUFwcHJvdmU6ICcsIEpTT04uc3RyaW5naWZ5KG15QXBwcm92ZSkpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuICAgIH1cbiAgfSk7XG4gIGlkcy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15TGFzdEZpbmlzaGVkQXBwcm92ZSwgcmVmLCByZWYxO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczogZmllbGRzXG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWQ7XG4gICAgICBpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICBpZiAobXlBcHByb3ZlLmFnZW50KSB7XG4gICAgICAgIGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobXlMYXN0RmluaXNoZWRBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZTtcbiAgICB9XG4gICAgaW5zdGFuY2UuaXNfY2MgPSAoKHJlZiA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKHNlbGYudXNlcklkKSA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgaW5zdGFuY2UuY2NfY291bnQgPSAoKHJlZjEgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICAgIGRlbGV0ZSBpbnN0YW5jZS5jY191c2VycztcbiAgICByZXR1cm4gc2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuICB9KTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VzX2RyYWZ0JywgKHNwYWNlSWQpIC0+XG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1c2VySWQgPSB0aGlzLnVzZXJJZFxuXHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe3N0YXRlOlwiZHJhZnRcIixzcGFjZTpzcGFjZUlkLHN1Ym1pdHRlcjp1c2VySWQsJG9yOlt7aW5ib3hfdXNlcnM6IHskZXhpc3RzOmZhbHNlfX0sIHtpbmJveF91c2VyczogW119XX0sIHtmaWVsZHM6IHtfaWQ6IDEsIHN0YXRlOiAxLCBzcGFjZTogMSwgc3VibWl0dGVyOiAxLCBpbmJveF91c2VyczogMSwgbW9kaWZpZWQ6IDEsIG5hbWU6IDF9LCBzb3J0Onttb2RpZmllZDogLTF9fSkiLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VzX2RyYWZ0JywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICB2YXIgdXNlcklkO1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB1c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBzdGF0ZTogXCJkcmFmdFwiLFxuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIHN1Ym1pdHRlcjogdXNlcklkLFxuICAgICRvcjogW1xuICAgICAge1xuICAgICAgICBpbmJveF91c2Vyczoge1xuICAgICAgICAgICRleGlzdHM6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgaW5ib3hfdXNlcnM6IFtdXG4gICAgICB9XG4gICAgXVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgc3VibWl0dGVyOiAxLFxuICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICBtb2RpZmllZDogMSxcbiAgICAgIG5hbWU6IDFcbiAgICB9LFxuICAgIHNvcnQ6IHtcbiAgICAgIG1vZGlmaWVkOiAtMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdkaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzJywgKGluc3RhbmNlX2lkcyktPlxuXHRjaGVjayhpbnN0YW5jZV9pZHMsIEFycmF5KVxuXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblx0XG5cdHVubGVzcyBpbnN0YW5jZV9pZHNcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0aWYgXy5pc0VtcHR5KGluc3RhbmNlX2lkcylcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXNcblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnN0YW5jZV9pZHN9fSwge2ZpZWxkczoge3N0YXRlOiAxLCB0cmFjZXM6eyRzbGljZTogMX0gfSB9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0YWRkZWQ6IChpZCwgZmllbGRzKS0+XG5cdFx0XHRzZWxmLmFkZGVkKCdpbnN0YW5jZXMnLCBpZCwge3N0YXRlOiBmaWVsZHMuc3RhdGUsIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZH0pXG5cblx0XHRjaGFuZ2VkOiAoaWQsIGZpZWxkcyktPlxuXHRcdFx0aWYgZmllbGRzLnN0YXRlXG5cdFx0XHRcdHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtzdGF0ZTogZmllbGRzLnN0YXRlfSlcblx0XHRcdGlmIGZpZWxkcy50cmFjZXNcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge2lzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZH0pXG5cdH1cblxuXHR0aGlzLnJlYWR5KClcblx0dGhpcy5vblN0b3AgKCktPlxuXHRcdGhhbmRsZS5zdG9wKClcbiIsIk1ldGVvci5wdWJsaXNoKCdkaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzJywgZnVuY3Rpb24oaW5zdGFuY2VfaWRzKSB7XG4gIHZhciBoYW5kbGUsIHNlbGY7XG4gIGNoZWNrKGluc3RhbmNlX2lkcywgQXJyYXkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlX2lkcykge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKF8uaXNFbXB0eShpbnN0YW5jZV9pZHMpKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBpbnN0YW5jZV9pZHNcbiAgICB9XG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgdHJhY2VzOiB7XG4gICAgICAgICRzbGljZTogMVxuICAgICAgfVxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGFkZGVkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICByZXR1cm4gc2VsZi5hZGRlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgc3RhdGU6IGZpZWxkcy5zdGF0ZSxcbiAgICAgICAgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIGlmIChmaWVsZHMuc3RhdGUpIHtcbiAgICAgICAgc2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICAgIHN0YXRlOiBmaWVsZHMuc3RhdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoZmllbGRzLnRyYWNlcykge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICAgIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0aGlzLnJlYWR5KCk7XG4gIHJldHVybiB0aGlzLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdyZWxhdGVkX2luc3RhY2VzJywgKGluc3RhbmNlSWQsIHJlbGF0ZWRfaW5zdGFuY2VzKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHR1bmxlc3MgaW5zdGFuY2VJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZWxhdGVkX2luc3RhbmNlX2lkcyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQse2ZpZWxkczoge3JlbGF0ZWRfaW5zdGFuY2VzOiAxfX0pPy5yZWxhdGVkX2luc3RhbmNlc1xuXG5cdGlmIHJlbGF0ZWRfaW5zdGFuY2VfaWRzICYmIF8uaXNBcnJheShyZWxhdGVkX2luc3RhbmNlX2lkcylcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbiA6IHJlbGF0ZWRfaW5zdGFuY2VfaWRzfX0sIHtmaWVsZHM6IHtfaWQ6IDEsIG5hbWU6IDEsIHNwYWNlOiAxfX0pXG5cdGVsc2Vcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpIiwiTWV0ZW9yLnB1Ymxpc2goJ3JlbGF0ZWRfaW5zdGFjZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkLCByZWxhdGVkX2luc3RhbmNlcykge1xuICB2YXIgcmVmLCByZWxhdGVkX2luc3RhbmNlX2lkcztcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZWxhdGVkX2luc3RhbmNlX2lkcyA9IChyZWYgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLCB7XG4gICAgZmllbGRzOiB7XG4gICAgICByZWxhdGVkX2luc3RhbmNlczogMVxuICAgIH1cbiAgfSkpICE9IG51bGwgPyByZWYucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDA7XG4gIGlmIChyZWxhdGVkX2luc3RhbmNlX2lkcyAmJiBfLmlzQXJyYXkocmVsYXRlZF9pbnN0YW5jZV9pZHMpKSB7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgIF9pZDoge1xuICAgICAgICAkaW46IHJlbGF0ZWRfaW5zdGFuY2VfaWRzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG59KTtcbiIsImlmIE1ldGVvci5pc1NlcnZlclxuICAgIE1ldGVvci5wdWJsaXNoICdzcGFjZV91c2VyX3NpZ25zJywgKHNwYWNlSWQpIC0+XG4gICAgICAgIGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xuXG4gICAgICAgIHVubGVzcyB0aGlzLnVzZXJJZFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZHkoKVxuXG4gICAgICAgIHJldHVybiBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7ZmllbGRzOiB7Y3JlYXRlZF9ieTogMCwgY3JlYXRlZDogMCwgbW9kaWZpZWRfYnk6IDB9fSlcbiIsImlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgTWV0ZW9yLnB1Ymxpc2goJ3NwYWNlX3VzZXJfc2lnbnMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gICAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICAgIH1cbiAgICByZXR1cm4gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNyZWF0ZWRfYnk6IDAsXG4gICAgICAgIGNyZWF0ZWQ6IDAsXG4gICAgICAgIG1vZGlmaWVkX2J5OiAwXG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuIiwiIyMjXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSBcInVzZXJfaW5ib3hfaW5zdGFuY2VcIiwgKCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cdHF1ZXJ5ID0ge3NwYWNlOiB7JGluOiB1c2VyU3BhY2VJZHN9fVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmluZDogLT5cblx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRcdFx0ZmxvdzogMSxcblx0XHRcdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHRzdGF0ZTogMSxcblx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0XHRcdGZvcm06IDFcblx0XHRcdH0sIHNvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogMjAwXG5cdFx0fSk7XG5cdGNoaWxkcmVuOiBbXG5cdFx0e1xuXHRcdFx0ZmluZDogKGluc3RhbmNlLCBwb3N0KS0+XG5cdFx0XHRcdGRiLmZsb3dzLmZpbmQoe19pZDogaW5zdGFuY2UuZmxvd30sIHtmaWVsZHM6IHtuYW1lOiAxLCBzcGFjZTogMX19KTtcblx0XHR9XG5cdF1cbiMjI1xuXG4jIyNcbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9pbnN0YW5jZXMnLCAoc3BhY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0I1x0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdCNcdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdCNcdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHQjXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaWVsZHMgPSB7XG5cdFx0c3BhY2U6IDEsXG4jXHRcdGFwcGxpY2FudF9uYW1lOiAxLFxuXHRcdGZsb3c6IDEsXG5cdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0Y2NfdXNlcnM6IDEsXG5cdFx0c3RhdGU6IDEsXG4jXHRcdG5hbWU6IDEsXG4jXHRcdG1vZGlmaWVkOiAxLFxuXHRcdGZvcm06IDFcblx0fVxuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7c29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0YWRkZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpXG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG4jIyNcblxuX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSAoc3BhY2VJZCwgdXNlcklkLCBfaXRlbXMsIGNhbGxiYWNrKS0+XG5cdGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKFtcblx0XHR7XG5cdFx0XHQkbWF0Y2g6IHtcblx0XHRcdFx0c3BhY2U6IHNwYWNlSWQsXG5cdFx0XHRcdCRvcjogW3tpbmJveF91c2VyczogdXNlcklkfSwge2NjX3VzZXJzOiB1c2VySWR9XVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0JGdyb3VwOiB7XG5cdFx0XHRcdF9pZDoge2Zsb3c6IFwiJGZsb3dcIiwgY2F0ZWdvcnk6IFwiJGNhdGVnb3J5XCJ9LCBjb3VudDogeyRzdW06IDF9XG5cdFx0XHR9XG5cdFx0fVxuXHRdKS50b0FycmF5IChlcnIsIGRhdGEpLT5cblx0XHRpZiBlcnJcblx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXG5cblx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cblx0XHRcdF9pdGVtcy5wdXNoIGRvY1xuXG5cdFx0aWYgY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKVxuXHRcdFx0Y2FsbGJhY2soKVxuXHRcdHJldHVyblxuXG5fYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUpXG5cbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9mbG93X2luc3RhbmNlc19jb3VudCcsIChzcGFjZUlkKS0+XG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHNlbGYgPSB0aGlzO1xuXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZGF0YSA9IFtdICAj5pWw5o2u5qC85byP77yaW3tfaWQ6Zmxvd0lkLCBjb3VudDog5b6F5Yqe5pWw6YePfSwge19pZDpmbG93SWQyLCBjb3VudDog5b6F5Yqe5pWw6YePMn1dXG5cdF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKHNwYWNlSWQsIHNlbGYudXNlcklkLCBkYXRhKVxuXG5cdF9mbG93c0RhdGEgPSBbXVxuXG5cdF8uZWFjaCBkYXRhLCAoZGF0YUl0ZW0pLT5cblx0XHRfZmxvd3NEYXRhLnB1c2goe19pZDogZGF0YUl0ZW0uX2lkLmZsb3csIGNhdGVnb3J5OiBkYXRhSXRlbS5faWQuY2F0ZWdvcnksIGNvdW50OiBkYXRhSXRlbS5jb3VudH0pXG5cblx0c2VsZi5hZGRlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtmbG93czogX2Zsb3dzRGF0YX0pO1xuXG5cdF9jaGFuZ2VEYXRhID0gKGRvYywgYWN0aW9uKS0+XG5cdFx0Zmxvd19pbnN0YW5jZSA9IF8uZmluZCBfZmxvd3NEYXRhLCAoZiktPlxuXHRcdFx0cmV0dXJuIGYuX2lkID09IGRvYy5mbG93XG5cdFx0aWYgZmxvd19pbnN0YW5jZVxuXHRcdFx0aWYgYWN0aW9uID09IFwiYWRkZWRcIlxuXHRcdFx0XHRmbG93X2luc3RhbmNlLmNvdW50Kytcblx0XHRcdGVsc2UgaWYgYWN0aW9uID09IFwicmVtb3ZlZFwiXG5cdFx0XHRcdGZsb3dfaW5zdGFuY2UuY291bnQtLVxuXHRcdGVsc2UgaWYgYWN0aW9uID09IFwiYWRkZWRcIlxuXHRcdFx0X2Zsb3dzRGF0YS5wdXNoIHtfaWQ6IGRvYy5mbG93LCBjYXRlZ29yeTogZG9jLmNhdGVnb3J5LCBjb3VudDogMX1cblxuXHRcdHNlbGYuY2hhbmdlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtmbG93czogX2Zsb3dzRGF0YX0pO1xuXG5cdF9pbml0ID0gdHJ1ZVxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge19pZDogMSwgaW5ib3hfdXNlcnM6IDEsIGNjX3VzZXJzOiAxLCBmbG93OiAxLCBjYXRlZ29yeTogMX19KS5vYnNlcnZlIHtcblx0XHRhZGRlZDogKGRvYyktPlxuXHRcdFx0aWYgIV9pbml0XG5cdFx0XHRcdF9jaGFuZ2VEYXRhKGRvYywgXCJhZGRlZFwiKVxuXHRcdHJlbW92ZWQ6IChkb2MpLT5cblx0XHRcdGlmICFfaW5pdFxuXHRcdFx0XHRfY2hhbmdlRGF0YShkb2MsIFwicmVtb3ZlZFwiKVxuXHR9XG5cdF9pbml0ID0gZmFsc2VcblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpIiwiXG4vKlxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgXCJ1c2VyX2luYm94X2luc3RhbmNlXCIsICgpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXHRxdWVyeSA9IHtzcGFjZTogeyRpbjogdXNlclNwYWNlSWRzfX1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpbmQ6IC0+XG5cdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRzcGFjZTogMSxcblx0XHRcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0XHRcdGZsb3c6IDEsXG5cdFx0XHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMSxcblx0XHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdG1vZGlmaWVkOiAxLFxuXHRcdFx0XHRmb3JtOiAxXG5cdFx0XHR9LCBzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDIwMFxuXHRcdH0pO1xuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChpbnN0YW5jZSwgcG9zdCktPlxuXHRcdFx0XHRkYi5mbG93cy5maW5kKHtfaWQ6IGluc3RhbmNlLmZsb3d9LCB7ZmllbGRzOiB7bmFtZTogMSwgc3BhY2U6IDF9fSk7XG5cdFx0fVxuXHRdXG4gKi9cblxuLypcbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9pbnN0YW5jZXMnLCAoc3BhY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0ICpcdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHQgKlx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0ICpcdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHQgKlx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmllbGRzID0ge1xuXHRcdHNwYWNlOiAxLFxuICpcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0ZmxvdzogMSxcblx0XHRpbmJveF91c2VyczogMSxcblx0XHRjY191c2VyczogMSxcblx0XHRzdGF0ZTogMSxcbiAqXHRcdG5hbWU6IDEsXG4gKlx0XHRtb2RpZmllZDogMSxcblx0XHRmb3JtOiAxXG5cdH1cblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge3NvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogNTAwfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGFkZGVkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKVxuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuICovXG52YXIgX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUsIF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlO1xuXG5fZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHNwYWNlSWQsIHVzZXJJZCwgX2l0ZW1zLCBjYWxsYmFjaykge1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoW1xuICAgIHtcbiAgICAgICRtYXRjaDoge1xuICAgICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICAkZ3JvdXA6IHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgZmxvdzogXCIkZmxvd1wiLFxuICAgICAgICAgIGNhdGVnb3J5OiBcIiRjYXRlZ29yeVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvdW50OiB7XG4gICAgICAgICAgJHN1bTogMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBdKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLnB1c2goZG9jKTtcbiAgICB9KTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufTtcblxuX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKTtcblxuTWV0ZW9yLnB1Ymxpc2goJ215X2luYm94X2Zsb3dfaW5zdGFuY2VzX2NvdW50JywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICB2YXIgX2NoYW5nZURhdGEsIF9mbG93c0RhdGEsIF9pbml0LCBkYXRhLCBoYW5kbGUsIHF1ZXJ5LCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfTtcbiAgcXVlcnkuJG9yID0gW1xuICAgIHtcbiAgICAgIGluYm94X3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgIH0sIHtcbiAgICAgIGNjX3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgIH1cbiAgXTtcbiAgZGF0YSA9IFtdO1xuICBfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZShzcGFjZUlkLCBzZWxmLnVzZXJJZCwgZGF0YSk7XG4gIF9mbG93c0RhdGEgPSBbXTtcbiAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG4gICAgcmV0dXJuIF9mbG93c0RhdGEucHVzaCh7XG4gICAgICBfaWQ6IGRhdGFJdGVtLl9pZC5mbG93LFxuICAgICAgY2F0ZWdvcnk6IGRhdGFJdGVtLl9pZC5jYXRlZ29yeSxcbiAgICAgIGNvdW50OiBkYXRhSXRlbS5jb3VudFxuICAgIH0pO1xuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtcbiAgICBmbG93czogX2Zsb3dzRGF0YVxuICB9KTtcbiAgX2NoYW5nZURhdGEgPSBmdW5jdGlvbihkb2MsIGFjdGlvbikge1xuICAgIHZhciBmbG93X2luc3RhbmNlO1xuICAgIGZsb3dfaW5zdGFuY2UgPSBfLmZpbmQoX2Zsb3dzRGF0YSwgZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIGYuX2lkID09PSBkb2MuZmxvdztcbiAgICB9KTtcbiAgICBpZiAoZmxvd19pbnN0YW5jZSkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gXCJhZGRlZFwiKSB7XG4gICAgICAgIGZsb3dfaW5zdGFuY2UuY291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInJlbW92ZWRcIikge1xuICAgICAgICBmbG93X2luc3RhbmNlLmNvdW50LS07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwiYWRkZWRcIikge1xuICAgICAgX2Zsb3dzRGF0YS5wdXNoKHtcbiAgICAgICAgX2lkOiBkb2MuZmxvdyxcbiAgICAgICAgY2F0ZWdvcnk6IGRvYy5jYXRlZ29yeSxcbiAgICAgICAgY291bnQ6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge1xuICAgICAgZmxvd3M6IF9mbG93c0RhdGFcbiAgICB9KTtcbiAgfTtcbiAgX2luaXQgPSB0cnVlO1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICBjY191c2VyczogMSxcbiAgICAgIGZsb3c6IDEsXG4gICAgICBjYXRlZ29yeTogMVxuICAgIH1cbiAgfSkub2JzZXJ2ZSh7XG4gICAgYWRkZWQ6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgaWYgKCFfaW5pdCkge1xuICAgICAgICByZXR1cm4gX2NoYW5nZURhdGEoZG9jLCBcImFkZGVkXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAoIV9pbml0KSB7XG4gICAgICAgIHJldHVybiBfY2hhbmdlRGF0YShkb2MsIFwicmVtb3ZlZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBfaW5pdCA9IGZhbHNlO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIlxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XG5cdGNoZWNrKHNwYWNlSWQsIFN0cmluZylcblx0Y2hlY2soZmxvd0lkLCBTdHJpbmcpXG5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVubGVzcyBzcGFjZUlkICYmIGZsb3dJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRyZXR1cm4gQ3JlYXRvci5nZXRDb2xsZWN0aW9uKCdjbXNfZmlsZXMnKS5maW5kKHsgc3BhY2U6IHNwYWNlSWQsICdwYXJlbnQubyc6ICdmbG93cycsICdwYXJlbnQuaWRzJzogZmxvd0lkLCAgbmFtZTogJ+ato+aWhy5kb2N4JyB9KVxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUnLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgY2hlY2soZmxvd0lkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIShzcGFjZUlkICYmIGZsb3dJZCkpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBDcmVhdG9yLmdldENvbGxlY3Rpb24oJ2Ntc19maWxlcycpLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICdwYXJlbnQubyc6ICdmbG93cycsXG4gICAgJ3BhcmVudC5pZHMnOiBmbG93SWQsXG4gICAgbmFtZTogJ+ato+aWhy5kb2N4J1xuICB9KTtcbn0pO1xuIiwid29ya2Zsb3dUZW1wbGF0ZSA9IHt9XG5cbiPlj6/nlKjmraTohJrmnKzku47mqKHmnb/lt6XkvZzljLrlgZrmibnph4/lr7zlh7rvvJpcbiPkvb/nlKjnrqHnkIblkZjotKbmiLfnmbvlvZXlkI7vvIzov5vlhaVGbG93TW9kdWxlc++8jOWcqOaOp+WItuWPsOaJp+ihjOS7peS4i+iEmuacrOWNs+WPr1xuI2RiLmZvcm1zLmZpbmQoe3N0YXRlOlwiZW5hYmxlZFwifSkuZm9yRWFjaChmdW5jdGlvbihmb3JtKXt3aW5kb3cub3BlbihNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvd29ya2Zsb3cvZXhwb3J0L2Zvcm0/Zm9ybT1cIitmb3JtLl9pZCkpfSlcbndvcmtmbG93VGVtcGxhdGVbXCJlblwiXSA9W11cblxuI+WPr+eUqOatpOiEmuacrOS7juaooeadv+W3peS9nOWMuuWBmuaJuemHj+WvvOWHuu+8mlxuI+S9v+eUqOeuoeeQhuWRmOi0puaIt+eZu+W9leWQju+8jOi/m+WFpeaooeadv+S4k+WMuu+8jOWcqOaOp+WItuWPsOaJp+ihjOS7peS4i+iEmuacrOWNs+WPr1xuI2RiLmZvcm1zLmZpbmQoe3N0YXRlOlwiZW5hYmxlZFwifSkuZm9yRWFjaChmdW5jdGlvbihmb3JtKXt3aW5kb3cub3BlbihNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvd29ya2Zsb3cvZXhwb3J0L2Zvcm0/Zm9ybT1cIitmb3JtLl9pZCkpfSlcbndvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXSA9W11cblxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRmcyA9IHJlcXVpcmUoJ2ZzJylcblx0cGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuXHRtaW1lID0gcmVxdWlyZSgnbWltZScpXG5cdHJlYWRGaWxlTGlzdCA9IChwYXRoRGlyLCBmaWxlc0xpc3QpLT5cblx0XHRmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKHBhdGhEaXIpXG5cdFx0ZmlsZXMuZm9yRWFjaCAobmFtZSwgaW5kZXgpLT5cblx0XHRcdHN0YXQgPSBmcy5zdGF0U3luYyhwYXRoLmpvaW4ocGF0aERpciwgbmFtZSkpXG5cdFx0XHRpZiBzdGF0LmlzRGlyZWN0b3J5KClcblx0XHRcdFx0IyDpgJLlvZLor7vlj5bmlofku7Zcblx0XHRcdFx0cmVhZEZpbGVMaXN0KHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSwgZmlsZXNMaXN0KVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRvYmogPSB7fVxuXHRcdFx0XHRvYmoucGF0aCA9IHBhdGhEaXJcblx0XHRcdFx0b2JqLm5hbWUgPSBuYW1lXG5cdFx0XHRcdGZpbGVzTGlzdC5wdXNoKG9iailcblxuXHQj6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7Zcblx0ZmlsZXNMaXN0X2NuID0gW11cblx0cGF0aF9jbiA9IE1ldGVvci5zZXR0aW5ncy53b3JrZmxvd1RlbXBsYXRlcz8ucGF0aF9jblxuXHRpZiBwYXRoX2NuXG5cdFx0YWJzb2x1dGVfcGF0aF9jbiA9IHBhdGgucmVzb2x2ZShwYXRoX2NuKVxuXHRcdGNvbnNvbGUubG9nIFwiYWJzb2x1dGVfcGF0aF9jblwiLCBhYnNvbHV0ZV9wYXRoX2NuXG5cdFx0aWYgZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX2NuKVxuXHRcdFx0cmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfY24sIGZpbGVzTGlzdF9jbilcblx0XHRcdGZpbGVzTGlzdF9jbi5mb3JFYWNoIChmaWxlKS0+XG5cdFx0XHRcdHRyeVxuXHRcdFx0XHRcdGlmIG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpIGlzIFwiYXBwbGljYXRpb24vanNvblwiXG5cdFx0XHRcdFx0XHRkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jylcblx0XHRcdFx0XHRcdHdvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpXG5cdFx0XHRcdGNhdGNoIGVcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIFwi6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xuXG5cdCPojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlxuXHRmaWxlc0xpc3RfdXMgPSBbXVxuXHRwYXRoX3VzID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzPy5wYXRoX3VzXG5cdGlmIHBhdGhfdXNcblx0XHRhYnNvbHV0ZV9wYXRoX3VzID0gcGF0aC5yZXNvbHZlKHBhdGhfdXMpXG5cdFx0Y29uc29sZS5sb2cgXCJhYnNvbHV0ZV9wYXRoX3VzXCIsIGFic29sdXRlX3BhdGhfdXNcblx0XHRpZiBmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfdXMpXG5cdFx0XHRyZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X3VzKVxuXHRcdFx0ZmlsZXNMaXN0X3VzLmZvckVhY2ggKGZpbGUpLT5cblx0XHRcdFx0dHJ5XG5cdFx0XHRcdFx0aWYgbWltZS5nZXRUeXBlKGZpbGUubmFtZSkgaXMgXCJhcHBsaWNhdGlvbi9qc29uXCJcblx0XHRcdFx0XHRcdGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKVxuXHRcdFx0XHRcdFx0d29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSlcblx0XHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCLojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0XHRcdFxuXHRcdFx0XHRcdFxuXG5cbiIsIiAgICAgICAgICAgICAgICAgICAgIFxuXG53b3JrZmxvd1RlbXBsYXRlID0ge307XG5cbndvcmtmbG93VGVtcGxhdGVbXCJlblwiXSA9IFtdO1xuXG53b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0gPSBbXTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBhYnNvbHV0ZV9wYXRoX2NuLCBhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfY24sIGZpbGVzTGlzdF91cywgZnMsIG1pbWUsIHBhdGgsIHBhdGhfY24sIHBhdGhfdXMsIHJlYWRGaWxlTGlzdCwgcmVmLCByZWYxO1xuICBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4gIG1pbWUgPSByZXF1aXJlKCdtaW1lJyk7XG4gIHJlYWRGaWxlTGlzdCA9IGZ1bmN0aW9uKHBhdGhEaXIsIGZpbGVzTGlzdCkge1xuICAgIHZhciBmaWxlcztcbiAgICBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKHBhdGhEaXIpO1xuICAgIHJldHVybiBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgb2JqLCBzdGF0O1xuICAgICAgc3RhdCA9IGZzLnN0YXRTeW5jKHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSk7XG4gICAgICBpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgIHJldHVybiByZWFkRmlsZUxpc3QocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpLCBmaWxlc0xpc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqID0ge307XG4gICAgICAgIG9iai5wYXRoID0gcGF0aERpcjtcbiAgICAgICAgb2JqLm5hbWUgPSBuYW1lO1xuICAgICAgICByZXR1cm4gZmlsZXNMaXN0LnB1c2gob2JqKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZmlsZXNMaXN0X2NuID0gW107XG4gIHBhdGhfY24gPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzKSAhPSBudWxsID8gcmVmLnBhdGhfY24gOiB2b2lkIDA7XG4gIGlmIChwYXRoX2NuKSB7XG4gICAgYWJzb2x1dGVfcGF0aF9jbiA9IHBhdGgucmVzb2x2ZShwYXRoX2NuKTtcbiAgICBjb25zb2xlLmxvZyhcImFic29sdXRlX3BhdGhfY25cIiwgYWJzb2x1dGVfcGF0aF9jbik7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF9jbikpIHtcbiAgICAgIHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX2NuLCBmaWxlc0xpc3RfY24pO1xuICAgICAgZmlsZXNMaXN0X2NuLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICB2YXIgZGF0YSwgZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAobWltZS5nZXRUeXBlKGZpbGUubmFtZSkgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICAgICAgICBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jyk7XG4gICAgICAgICAgICByZXR1cm4gd29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmaWxlc0xpc3RfdXMgPSBbXTtcbiAgcGF0aF91cyA9IChyZWYxID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzKSAhPSBudWxsID8gcmVmMS5wYXRoX3VzIDogdm9pZCAwO1xuICBpZiAocGF0aF91cykge1xuICAgIGFic29sdXRlX3BhdGhfdXMgPSBwYXRoLnJlc29sdmUocGF0aF91cyk7XG4gICAgY29uc29sZS5sb2coXCJhYnNvbHV0ZV9wYXRoX3VzXCIsIGFic29sdXRlX3BhdGhfdXMpO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfdXMpKSB7XG4gICAgICByZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X3VzKTtcbiAgICAgIHJldHVybiBmaWxlc0xpc3RfdXMuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHZhciBkYXRhLCBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpKTtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIiMjI1xuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiMjI1xuTWV0ZW9yLnN0YXJ0dXAgLT5cblx0aWYgTWV0ZW9yLnNldHRpbmdzLmNyb24/LmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvblxuXHRcdHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpXG5cdFx0IyDlrprml7bmiafooYzlkIzmraVcblx0XHRydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uXG5cdFx0Z29fbmV4dCA9IHRydWVcblx0XHRzY2hlZHVsZS5zY2hlZHVsZUpvYiBydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50ICgpLT5cblx0XHRcdHRyeVxuXHRcdFx0XHRpZiAhZ29fbmV4dFxuXHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRnb19uZXh0ID0gZmFsc2Vcblx0XHRcdFx0Y29uc29sZS50aW1lICdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nXG5cblx0XHRcdFx0bm93ID0gbmV3IERhdGVcblxuXHRcdFx0XHQjIOWwhuWnlOaJmOinhOWImeiuvue9ruS4uuS4jeWPr+eUqFxuXHRcdFx0XHRkYi5wcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMudXBkYXRlKHsgZW5hYmxlZDogdHJ1ZSwgZW5kX3RpbWU6IHsgJGx0ZTogbm93IH0gfSwgeyAkc2V0OiB7IGVuYWJsZWQ6IGZhbHNlIH0gfSwgeyBtdWx0aSA6dHJ1ZSB9KVxuXG5cdFx0XHRcdGNvbnNvbGUudGltZUVuZCAnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJ1xuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxuXG5cdFx0XHRjYXRjaCBlXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCJBVVRPIEFVVE9fRklOSVNIX1BST0NFU1NfREVMRUdBVElPTiBFUlJPUjogXCJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXG5cblx0XHQsIChlKS0+XG5cdFx0XHRjb25zb2xlLmxvZyAnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQ6IGF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUnXG5cdFx0XHRjb25zb2xlLmxvZyBlLnN0YWNrXG4iLCJcbi8qXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuICovXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGdvX25leHQsIHJlZiwgcnVsZSwgc2NoZWR1bGU7XG4gIGlmICgocmVmID0gTWV0ZW9yLnNldHRpbmdzLmNyb24pICE9IG51bGwgPyByZWYuYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uIDogdm9pZCAwKSB7XG4gICAgc2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJyk7XG4gICAgcnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbjtcbiAgICBnb19uZXh0ID0gdHJ1ZTtcbiAgICByZXR1cm4gc2NoZWR1bGUuc2NoZWR1bGVKb2IocnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlLCBub3c7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWdvX25leHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ29fbmV4dCA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLnRpbWUoJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbicpO1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgZGIucHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzLnVwZGF0ZSh7XG4gICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICBlbmRfdGltZToge1xuICAgICAgICAgICAgJGx0ZTogbm93XG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBtdWx0aTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKCdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQVVUTyBBVVRPX0ZJTklTSF9QUk9DRVNTX0RFTEVHQVRJT04gRVJST1I6IFwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudDogYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZScpO1xuICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGUuc3RhY2spO1xuICAgIH0pKTtcbiAgfVxufSk7XG4iLCIjIyNcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4jIyNcbk1ldGVvci5zdGFydHVwIC0+XG5cdGlmIE1ldGVvci5zZXR0aW5ncy5jcm9uPy50aW1lb3V0X2F1dG9fc3VibWl0XG5cdFx0c2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJylcblx0XHQjIOWumuaXtuaJp+ihjOWQjOatpVxuXHRcdHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi50aW1lb3V0X2F1dG9fc3VibWl0XG5cdFx0Z29fbmV4dCA9IHRydWVcblx0XHRzY2hlZHVsZS5zY2hlZHVsZUpvYiBydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50ICgpLT5cblx0XHRcdHRyeVxuXHRcdFx0XHRpZiAhZ29fbmV4dFxuXHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRnb19uZXh0ID0gZmFsc2Vcblx0XHRcdFx0Y29uc29sZS50aW1lICd0aW1lb3V0X2F1dG9fc3VibWl0J1xuXG5cdFx0XHRcdHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoKVxuXG5cdFx0XHRcdGNvbnNvbGUudGltZUVuZCAndGltZW91dF9hdXRvX3N1Ym1pdCdcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcblxuXHRcdFx0Y2F0Y2ggZVxuXHRcdFx0XHRjb25zb2xlLmVycm9yIFwiQVVUTyBUSU1FT1VUX0FVVE9fU1VCTUlUIEVSUk9SOiBcIlxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcblxuXHRcdCwgKGUpLT5cblx0XHRcdGNvbnNvbGUubG9nICdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudDogdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUnXG5cdFx0XHRjb25zb2xlLmxvZyBlLnN0YWNrXG5cbk1ldGVvci5tZXRob2RzXG5cdHRpbWVvdXRfYXV0b19zdWJtaXQ6IChpbnNfaWQpLT5cblx0XHR1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KGluc19pZClcblx0XHRyZXR1cm4gdHJ1ZVxuXG5cbiIsIlxuLypcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4gKi9cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgZ29fbmV4dCwgcmVmLCBydWxlLCBzY2hlZHVsZTtcbiAgaWYgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MuY3JvbikgIT0gbnVsbCA/IHJlZi50aW1lb3V0X2F1dG9fc3VibWl0IDogdm9pZCAwKSB7XG4gICAgc2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJyk7XG4gICAgcnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLnRpbWVvdXRfYXV0b19zdWJtaXQ7XG4gICAgZ29fbmV4dCA9IHRydWU7XG4gICAgcmV0dXJuIHNjaGVkdWxlLnNjaGVkdWxlSm9iKHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZ29fbmV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnb19uZXh0ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUudGltZSgndGltZW91dF9hdXRvX3N1Ym1pdCcpO1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KCk7XG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgndGltZW91dF9hdXRvX3N1Ym1pdCcpO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBVVRPIFRJTUVPVVRfQVVUT19TVUJNSVQgRVJST1I6IFwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudDogdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUnKTtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlLnN0YWNrKTtcbiAgICB9KSk7XG4gIH1cbn0pO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHRpbWVvdXRfYXV0b19zdWJtaXQ6IGZ1bmN0aW9uKGluc19pZCkge1xuICAgIHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoaW5zX2lkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciA9IG5ldyBUYWJ1bGFyLlRhYmxlXG5cdFx0bmFtZTogXCJyZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyXCJcblx0XHRjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXNcblx0XHRjb2x1bW5zOiBbXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiX2lkXCIsXG5cdFx0XHRcdHRpdGxlOiAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJyZXZlcnNlXCIgaWQ9XCJyZXZlcnNlXCI+Jyxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d2lkdGg6ICcxcHgnLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpbnB1dCA9ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJyZWxhdGVkLWluc3RhbmNlcy1saXN0LWNoZWNrYm94XCIgbmFtZT1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIGlkPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgdmFsdWU9XCInICsgZG9jLl9pZCArICdcIidcblxuXHRcdFx0XHRcdGlmIFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5yZWxhdGVkX2luc3RhbmNlcz8uaW5jbHVkZXMoZG9jLl9pZClcblx0XHRcdFx0XHRcdGlucHV0ICs9IFwiIGNoZWNrZWQgXCJcblxuXHRcdFx0XHRcdGlucHV0ICs9IFwiPlwiXG5cdFx0XHRcdFx0cmV0dXJuIGlucHV0XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm5hbWVcIixcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZSxcblx0XHRcdFx0d2lkdGg6ICc0NSUnLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRocmVmID0gJyc7XG5cdFx0XHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSlcblx0XHRcdFx0XHRcdGhyZWYgPSAnJ1xuXG5cdFx0XHRcdFx0YWJzb2x1dGUgPSBmYWxzZVxuXG5cdFx0XHRcdFx0aWYgTWV0ZW9yLmlzU2VydmVyXG5cdFx0XHRcdFx0XHRhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGVcblx0XHRcdFx0XHRpZiBhYnNvbHV0ZVxuXHRcdFx0XHRcdFx0aHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2RvYy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXG5cdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0aHJlZiA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitkb2Muc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxuXHRcdFx0XHRcdHJldHVybiBcIjxhIGRhdGEtaWQ9JyN7ZG9jLl9pZH0nIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIitocmVmK1wiJz5cIiArIGRvYy5uYW1lICsgXCI8L2E+XCJcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiZmxvd19uYW1lXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXRlID09IFwiY29tcGxldGVkXCJcblx0XHRcdFx0XHRcdGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIlxuXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJydcblxuXHRcdFx0XHRcdHJldHVybiBcIlwiXCJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZXAtY3VycmVudC1zdGF0ZSAje2p1ZGdlfVwiPiN7c3RlcF9jdXJyZW50X25hbWV9PC9kaXY+XG5cdFx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdH1cblx0XHRdXG5cblx0XHRkb206IFwidHBcIixcblx0XHRsZW5ndGhDaGFuZ2U6IGZhbHNlLFxuXHRcdGV4dHJhRmllbGRzOiBbXCJzdGF0ZVwiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwic3BhY2VcIiwgXCJrZXl3b3Jkc1wiXSxcblx0XHRwYWdlTGVuZ3RoOiAxMCxcblx0XHRpbmZvOiBmYWxzZSxcblx0XHRzZWFyY2hpbmc6IHRydWUsXG5cdFx0cmVzcG9uc2l2ZTpcblx0XHRcdGRldGFpbHM6IGZhbHNlXG5cdFx0YXV0b1dpZHRoOiBmYWxzZSxcblx0XHRjaGFuZ2VTZWxlY3RvcjogKHNlbGVjdG9yLCB1c2VySWQpIC0+XG5cdFx0XHR1bmxlc3MgdXNlcklkXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cblxuXHRcdFx0c3BhY2VJZCA9IHNlbGVjdG9yLnNwYWNlXG5cdFx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0XHRpZiBzZWxlY3Rvcj8uJGFuZD8ubGVuZ3RoID4gMFxuXHRcdFx0XHRcdHNwYWNlSWQgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdXG5cdFx0XHR1bmxlc3Mgc3BhY2VJZFxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQpXG5cdFx0XHRpZiAhc3BhY2Vcblx0XHRcdFx0c2VsZWN0b3Iuc3RhdGUgPSBcIm5vbmVcIlxuXHRcdFx0aWYgIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpXG5cblx0XHRcdFx0Zmxvd19pZHMgPSBbXVxuXHRcdFx0XHRjdXJTcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VJZCxcblx0XHRcdFx0XHQndXNlcic6IHVzZXJJZFxuXHRcdFx0XHR9KVxuXHRcdFx0XHRpZiBjdXJTcGFjZVVzZXJcblx0XHRcdFx0XHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcblx0XHRcdFx0XHRcdF9pZDoge1xuXHRcdFx0XHRcdFx0XHQkaW46IGN1clNwYWNlVXNlci5vcmdhbml6YXRpb25zXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkuZmV0Y2goKVxuXHRcdFx0XHRcdGZsb3dzID0gZGIuZmxvd3MuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0pXG5cdFx0XHRcdFx0Zmxvd3MuZm9yRWFjaCAoZmwpLT5cblx0XHRcdFx0XHRcdGlmIFdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpIHx8IFdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKVxuXHRcdFx0XHRcdFx0XHRmbG93X2lkcy5wdXNoKGZsLl9pZClcblxuXHRcdFx0XHRpZiBzZWxlY3Rvcj8uJGFuZD8ubGVuZ3RoID4gMFxuXHRcdFx0XHRcdHNlbGVjdG9yLiRhbmRbMF0uJG9yID0gW3tzdWJtaXR0ZXI6IHVzZXJJZH0sIHthcHBsaWNhbnQ6IHVzZXJJZH0sIHtpbmJveF91c2VyczogdXNlcklkfSwge291dGJveF91c2VyczogdXNlcklkfSxcblx0XHRcdFx0XHRcdFx0e2NjX3VzZXJzOiB1c2VySWR9LCB7IGZsb3c6IHsgJGluOiBmbG93X2lkcyB9IH1dXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRfLmV4dGVuZCBzZWxlY3Rvciwge1xuXHRcdFx0XHRcdFx0JG9yOiBbe3N1Ym1pdHRlcjogdXNlcklkfSwge2FwcGxpY2FudDogdXNlcklkfSwge2luYm94X3VzZXJzOiB1c2VySWR9LCB7b3V0Ym94X3VzZXJzOiB1c2VySWR9LFxuXHRcdFx0XHRcdFx0XHR7Y2NfdXNlcnM6IHVzZXJJZH0sIHsgZmxvdzogeyAkaW46IGZsb3dfaWRzIH0gfV1cblx0XHRcdFx0XHR9XG5cblx0XHRcdHJldHVybiBzZWxlY3RvciIsIk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyID0gbmV3IFRhYnVsYXIuVGFibGUoe1xuICAgIG5hbWU6IFwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhclwiLFxuICAgIGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcbiAgICBjb2x1bW5zOiBbXG4gICAgICB7XG4gICAgICAgIGRhdGE6IFwiX2lkXCIsXG4gICAgICAgIHRpdGxlOiAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJyZXZlcnNlXCIgaWQ9XCJyZXZlcnNlXCI+JyxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6ICcxcHgnLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGlucHV0LCByZWY7XG4gICAgICAgICAgaW5wdXQgPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwicmVsYXRlZC1pbnN0YW5jZXMtbGlzdC1jaGVja2JveFwiIG5hbWU9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiBpZD1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIHZhbHVlPVwiJyArIGRvYy5faWQgKyAnXCInO1xuICAgICAgICAgIGlmICgocmVmID0gVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLnJlbGF0ZWRfaW5zdGFuY2VzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKGRvYy5faWQpIDogdm9pZCAwKSB7XG4gICAgICAgICAgICBpbnB1dCArPSBcIiBjaGVja2VkIFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnB1dCArPSBcIj5cIjtcbiAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJuYW1lXCIsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAnNDUlJyxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhYnNvbHV0ZSwgaHJlZjtcbiAgICAgICAgICBocmVmID0gJyc7XG4gICAgICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpKSB7XG4gICAgICAgICAgICBocmVmID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFic29sdXRlID0gZmFsc2U7XG4gICAgICAgICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgICAgICAgYWJzb2x1dGUgPSB0aGlzLmFic29sdXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgIGhyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGRvYy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhyZWYgPSBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBkb2Muc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKFwiPGEgZGF0YS1pZD0nXCIgKyBkb2MuX2lkICsgXCInIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIikgKyBocmVmICsgXCInPlwiICsgZG9jLm5hbWUgKyBcIjwvYT5cIjtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiZmxvd19uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGp1ZGdlLCBzdGVwX2N1cnJlbnRfbmFtZTtcbiAgICAgICAgICBpZiAoZG9jLnN0YXRlID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgICBqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnO1xuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInN0ZXAtY3VycmVudC1zdGF0ZSBcIiArIGp1ZGdlICsgXCJcXFwiPlwiICsgc3RlcF9jdXJyZW50X25hbWUgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXSxcbiAgICBkb206IFwidHBcIixcbiAgICBsZW5ndGhDaGFuZ2U6IGZhbHNlLFxuICAgIGV4dHJhRmllbGRzOiBbXCJzdGF0ZVwiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwic3BhY2VcIiwgXCJrZXl3b3Jkc1wiXSxcbiAgICBwYWdlTGVuZ3RoOiAxMCxcbiAgICBpbmZvOiBmYWxzZSxcbiAgICBzZWFyY2hpbmc6IHRydWUsXG4gICAgcmVzcG9uc2l2ZToge1xuICAgICAgZGV0YWlsczogZmFsc2VcbiAgICB9LFxuICAgIGF1dG9XaWR0aDogZmFsc2UsXG4gICAgY2hhbmdlU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yLCB1c2VySWQpIHtcbiAgICAgIHZhciBjdXJTcGFjZVVzZXIsIGZsb3dfaWRzLCBmbG93cywgb3JnYW5pemF0aW9ucywgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZDtcbiAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2VJZCA9IHNlbGVjdG9yLnNwYWNlO1xuICAgICAgaWYgKCFzcGFjZUlkKSB7XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc3BhY2VJZCA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2VJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCk7XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIHNlbGVjdG9yLnN0YXRlID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKSB7XG4gICAgICAgIGZsb3dfaWRzID0gW107XG4gICAgICAgIGN1clNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgICAgICd1c2VyJzogdXNlcklkXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3VyU3BhY2VVc2VyKSB7XG4gICAgICAgICAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgICAgJGluOiBjdXJTcGFjZVVzZXIub3JnYW5pemF0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmZldGNoKCk7XG4gICAgICAgICAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBzcGFjZUlkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZmxvd3MuZm9yRWFjaChmdW5jdGlvbihmbCkge1xuICAgICAgICAgICAgaWYgKFdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpIHx8IFdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmxvd19pZHMucHVzaChmbC5faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYxID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzZWxlY3Rvci4kYW5kWzBdLiRvciA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3VibWl0dGVyOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgYXBwbGljYW50OiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBvdXRib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZsb3c6IHtcbiAgICAgICAgICAgICAgICAkaW46IGZsb3dfaWRzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF8uZXh0ZW5kKHNlbGVjdG9yLCB7XG4gICAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1Ym1pdHRlcjogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBhcHBsaWNhbnQ6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgb3V0Ym94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGZsb3c6IHtcbiAgICAgICAgICAgICAgICAgICRpbjogZmxvd19pZHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIlN0ZWVkb3Muc3Vic1tcIkluc3RhbmNlVGFidWxhclwiXSA9IG5ldyBTdWJzTWFuYWdlcigpXG5cblxuX2hhbmRsZUxpc3RGaWVsZHMgPSAoZmllbGRzKSAtPlxuXHRpbnNfZmllbGRzID0gbmV3IEFycmF5KCk7XG5cblx0ZmllbGRzPy5mb3JFYWNoIChmKS0+XG5cdFx0aWYgZi50eXBlID09ICd0YWJsZSdcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcblx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcblx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cblx0XHRcdFx0aW5zX2ZpZWxkcy5wdXNoIGYxXG5cdFx0ZWxzZVxuXHRcdFx0aW5zX2ZpZWxkcy5wdXNoIGZcblxuXHRyZXR1cm4gaW5zX2ZpZWxkc1xuXG5cbnVwZGF0ZVRhYnVsYXJUaXRsZSA9ICgpLT5cblxuIyDlpoLmnpxjb2x1bW5z5pyJ5Yqg5YeP77yM6K+35L+u5pS5VGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zIOWHveaVsFxuaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciA9IChmbG93SWQsIGZpZWxkcyktPlxuXHRvcHRpb25zID0ge1xuXHRcdG5hbWU6IFwiaW5zdGFuY2VzXCIsXG5cdFx0Y29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxuXHRcdHB1YjogXCJpbnN0YW5jZV90YWJ1bGFyXCIsXG5cdFx0b25VbmxvYWQ6ICgpLT5cblx0XHRcdE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKVxuXG5cdFx0ZHJhd0NhbGxiYWNrOiAoc2V0dGluZ3MpLT5cblx0XHRcdGVtcHR5VGQgPSAkKFwiLmRhdGFUYWJsZXNfZW1wdHlcIilcblx0XHRcdGlmIGVtcHR5VGQubGVuZ3RoXG5cdFx0XHRcdGVtcHR5VGRbMF0uY29sU3BhbiA9IFwiNlwiXG5cdFx0XHRpZiAhU3RlZWRvcy5pc01vYmlsZSgpICYmICFTdGVlZG9zLmlzUGFkKClcblx0XHRcdFx0TWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApXG5cdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCkucmVhZHkgLT5cblx0XHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikucGVyZmVjdFNjcm9sbGJhcihcInVwZGF0ZVwiKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApXG5cblx0XHRcdHRpdGxlID0gdCBcInBhZ2VyX2lucHV0X2hpbnRcIlxuXHRcdFx0ZWxsaXBzaXNMaW5rID0gc2V0dGluZ3Mub0luc3RhbmNlLnBhcmVudCgpLmZpbmQoJy5wYWdpbmdfbnVtYmVycyAucGFnaW5hdGlvbiAuZGlzYWJsZWQgYScpXG5cdFx0XHRlbGxpcHNpc0xpbmsuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5jc3MoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpLmNsaWNrIC0+XG5cdFx0XHRcdGlmICEkKHRoaXMpLmZpbmQoJ2lucHV0JykubGVuZ3RoXG5cdFx0XHRcdFx0aW5wdXQgPSAkKCc8aW5wdXQgY2xhc3M9XCJwYWdpbmF0ZV9pbnB1dCBmb3JtLWNvbnRyb2wgaW5wdXQtc21cIiB0eXBlPVwidGV4dFwiIHN0eWxlPVwiYm9yZGVyOiBub25lOyBwYWRkaW5nOjAgMnB4O1wiLz4nKVxuXHRcdFx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0XHRcdFx0aW5wdXQuY3NzKHtcblx0XHRcdFx0XHRcdFx0d2lkdGg6XCI1MnB4XCJcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjIwcHhcIlxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRpbnB1dC5jc3Moe1xuXHRcdFx0XHRcdFx0XHR3aWR0aDpcIjUycHhcIlxuXHRcdFx0XHRcdFx0XHRoZWlnaHQ6IFwiMTZweFwiXG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdGlucHV0LmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuYXR0cihcInBsYWNlaG9sZGVyXCIsIHRpdGxlKVxuXHRcdFx0XHRcdCQodGhpcykuZW1wdHkoKS5hcHBlbmQgaW5wdXRcblx0XHRcdFx0XHRnb1BhZ2UgPSAoaW5kZXgpLT5cblx0XHRcdFx0XHRcdGlmIGluZGV4ID4gMFxuXHRcdFx0XHRcdFx0XHRwYWdlcyA9IE1hdGguY2VpbChzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCkgLyBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgpXG5cdFx0XHRcdFx0XHRcdGlmIGluZGV4ID4gcGFnZXNcblx0XHRcdFx0XHRcdFx0XHQjIOmhteeggei2heWHuue0ouW8leaXtui3s+i9rOWIsOacgOWQjuS4gOmhtVxuXHRcdFx0XHRcdFx0XHRcdGluZGV4ID0gcGFnZXNcblx0XHRcdFx0XHRcdFx0aW5kZXgtLVxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5vSW5zdGFuY2UuRGF0YVRhYmxlKCkucGFnZShpbmRleCkuZHJhdygncGFnZScpXG5cdFx0XHRcdFx0aW5wdXQuYmx1ciAoZSktPlxuXHRcdFx0XHRcdFx0Y3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpXG5cdFx0XHRcdFx0XHRnb1BhZ2UgY3VycmVudFBhZ2Vcblx0XHRcdFx0XHRcdCQodGhpcykucGFyZW50KCkuaHRtbCAnLi4uJ1xuXHRcdFx0XHRcdGlucHV0LmtleWRvd24gKGUpLT5cblx0XHRcdFx0XHRcdGlmKGUua2V5Q29kZS50b1N0cmluZygpID09IFwiMTNcIilcblx0XHRcdFx0XHRcdFx0Y3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpXG5cdFx0XHRcdFx0XHRcdGdvUGFnZSBjdXJyZW50UGFnZVxuXG5cdFx0Y3JlYXRlZFJvdzogKHJvdywgZGF0YSwgZGF0YUluZGV4KSAtPlxuXHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFx0XHRcdGlmIGRhdGEuX2lkID09IEZsb3dSb3V0ZXIuY3VycmVudCgpLnBhcmFtcy5pbnN0YW5jZUlkXG5cdFx0XHRcdFx0cm93LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2VsZWN0ZWRcIilcblx0XHRjb2x1bW5zOiBbXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiX2lkXCIsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0bW9kaWZpZWRTdHJpbmcgPSBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKTtcblxuXHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLm1vZGlmaWVkXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2Muc3RhdGUgIT0gJ2RyYWZ0J1xuXHRcdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2Muc3RhcnRfZGF0ZSB8fCBkb2MubW9kaWZpZWRcblxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdvdXRib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJ1xuXHRcdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2Muc3VibWl0X2RhdGUgfHwgZG9jLnN1Ym1pdF9kYXRlXG5cblx0XHRcdFx0XHRtb2RpZmllZEZyb21Ob3cgPSBTdGVlZG9zLm1vbWVudFJlYWN0aXZlRnJvbU5vdyhtb2RpZmllZCk7XG5cdFx0XHRcdFx0Zmxvd19uYW1lID0gZG9jLmZsb3dfbmFtZVxuXHRcdFx0XHRcdGNjX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdCMg5b2T5YmN55So5oi35ZyoY2MgdXNlcuS4re+8jOS9huaYr+S4jeWcqGluYm94IHVzZXJz5pe25omN5pi+56S6J+S8oOmYhSfmloflrZdcblx0XHRcdFx0XHRpZiBkb2MuaXNfY2MgJiYgIWRvYy5pbmJveF91c2Vycz8uaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdFx0XHRjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIlxuXHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08c3Bhbj4oI3tkb2MuY3VycmVudF9zdGVwX25hbWV9KTwvc3Bhbj48L2Rpdj5cIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9ICdkcmFmdCcgJiYgZG9jLmN1cnJlbnRfc3RlcF9uYW1lXG5cdFx0XHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+I3tmbG93X25hbWV9PHNwYW4+KCN7ZG9jLmN1cnJlbnRfc3RlcF9uYW1lfSk8L3NwYW4+PC9kaXY+XCJcblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08L2Rpdj5cIlxuXG5cdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiXCI7XG5cdFx0XHRcdFx0aWYgZG9jLmFnZW50X3VzZXJfbmFtZSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXG5cdFx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7dXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWV9KSArIFwiKTwvbGFiZWw+XCJcblxuXHRcdFx0XHRcdHVucmVhZCA9ICcnXG5cblx0XHRcdFx0XHQjIGlzRmF2b3JpdGVTZWxlY3RlZCA9IEZhdm9yaXRlcy5pc1JlY29yZFNlbGVjdGVkKFwiaW5zdGFuY2VzXCIsIGRvYy5faWQpXG5cdFx0XHRcdFx0IyBpZiBGYXZvcml0ZXMuaXNSZWNvcmRTZWxlY3RlZChcImluc3RhbmNlc1wiLCBkb2MuX2lkKVxuXHRcdFx0XHRcdCMgXHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLWlvcy1zdGFyLW91dGxpbmUgaW5zdGFuY2UtZmF2b3JpdGUtc2VsZWN0ZWRcIj48L2k+J1xuXHRcdFx0XHRcdCMgZWxzZSBcblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09IGZhbHNlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+J1xuXHRcdFx0XHRcdGVsc2UgaWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT0gdHJ1ZVxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nXG5cblx0XHRcdFx0XHRwcmlvcml0eUljb24gPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXG5cdFx0XHRcdFx0cHJpb3JpdHlWYWx1ZSA9IGRvYy52YWx1ZXM/LnByaW9yaXR5XG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXG5cdFx0XHRcdFx0XHR3aGVuIFwi5Yqe5paHXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xuXHRcdFx0XHRcdFx0aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktI3twcmlvcml0eUljb25DbGFzc31cIlxuXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLm5hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld31cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPiN7ZG9jLmFwcGxpY2FudF9uYW1lfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1kZXRhaWwnPiN7c3RlcF9jdXJyZW50X25hbWVfdmlld31cblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPSdpbnN0YW5jZS1tb2RpZmllZCcgdGl0bGU9JyN7bW9kaWZpZWRTdHJpbmd9Jz4je21vZGlmaWVkRnJvbU5vd308L3NwYW4+XG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHRcdFwiXCJcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIpLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRjY192aWV3ID0gXCJcIjtcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcblx0XHRcdFx0XHQjIOW9k+WJjeeUqOaIt+WcqGNjIHVzZXLkuK3vvIzkvYbmmK/kuI3lnKhpbmJveCB1c2Vyc+aXtuaJjeaYvuekuifkvKDpmIUn5paH5a2XXG5cdFx0XHRcdFx0aWYgZG9jLmlzX2NjICYmICFkb2MuaW5ib3hfdXNlcnM/LmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xuXHRcdFx0XHRcdFx0Y2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCJcblxuXHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIlwiO1xuXHRcdFx0XHRcdGlmIGRvYy5hZ2VudF91c2VyX25hbWVcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxuXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcblxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2Vcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PSB0cnVlXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcblxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIlxuXHRcdFx0XHRcdHByaW9yaXR5VmFsdWUgPSBkb2MudmFsdWVzPy5wcmlvcml0eVxuXHRcdFx0XHRcdHN3aXRjaCBwcmlvcml0eVZhbHVlXG5cdFx0XHRcdFx0XHR3aGVuIFwi54m55oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiXG5cdFx0XHRcdFx0XHR3aGVuIFwi57Sn5oClXCJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIlxuXHRcdFx0XHRcdFx0d2hlbiBcIuWKnuaWh1wiXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiXG5cdFx0XHRcdFx0aWYgcHJpb3JpdHlJY29uQ2xhc3Ncblx0XHRcdFx0XHRcdGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LSN7cHJpb3JpdHlJY29uQ2xhc3N9XCJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSAje2luc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3N9Jz4je2RvYy5uYW1lfSN7Y2Nfdmlld30je2FnZW50X3ZpZXd9PC9kaXY+XG5cdFx0XHRcdFx0XHRcIlwiXCJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRpZiBkb2Muc3VibWl0X2RhdGVcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19zdGVwX2N1cnJlbnRfbmFtZVwiKSxcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jLnN0YXRlID09IFwiY29tcGxldGVkXCJcblx0XHRcdFx0XHRcdGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIlxuXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJydcblxuXHRcdFx0XHRcdGNjX3RhZyA9ICcnXG5cblx0XHRcdFx0XHRpZiBkb2MuY2NfY291bnQgPiAwXG5cdFx0XHRcdFx0XHRjY190YWcgPSBUQVBpMThuLl9fKCdjY190YWcnKVxuXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZXAtY3VycmVudC1zdGF0ZSAje2p1ZGdlfVwiPiN7c3RlcF9jdXJyZW50X25hbWV9I3tjY190YWd9PC9kaXY+XG5cdFx0XHRcdFx0XCJcIlwiXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm1vZGlmaWVkXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX21vZGlmaWVkXCIpLFxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cblx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG5cdFx0XHRcdCxcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0ZGF0YTogXCJzdGFydF9kYXRlXCIsXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0YXJ0X2RhdGVcIiksXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5zdGFydF9kYXRlXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5zdGFydF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcblx0XHRcdFx0LFxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHRkYXRhOiBcIm15X2ZpbmlzaF9kYXRlXCIsXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXHRcdFx0XHRcdGlmIGRvYy5teV9maW5pc2hfZGF0ZVxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2MubXlfZmluaXNoX2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuXHRcdFx0XHQsXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwia2V5d29yZHNcIixcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdGRhdGE6IFwiaXNfYXJjaGl2ZWRcIixcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XG5cdFx0XHRcdFx0aWYgZG9jPy52YWx1ZXM/LnJlY29yZF9uZWVkICYmIGRvYy52YWx1ZXMucmVjb3JkX25lZWQgPT0gXCJ0cnVlXCJcblx0XHRcdFx0XHRcdGlmIGRvYz8uaXNfYXJjaGl2ZWRcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJZRVNcIilcblx0XHRcdFx0XHRcdHJldHVybiB0KFwiTk9cIilcblx0XHRcdFx0dmlzaWJsZTogZmFsc2Vcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0fVxuXHRcdF0sXG5cdFx0ZG9tOiBkbyAtPlxuXHRcdFx0IyDmiYvmnLrkuIrkuI3mmL7npLrkuIDpobXmmL7npLrlpJrlsJHmnaHorrDlvZXpgInpoblcblx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxuXHRcdFx0XHQndHAnXG5cdFx0XHRlbHNlXG5cdFx0XHRcdCd0cGwnXG5cdFx0b3JkZXI6IFtbNCwgXCJkZXNjXCJdXSxcblx0XHRleHRyYUZpZWxkczogW1wiZm9ybVwiLCBcImZsb3dcIiwgXCJpbmJveF91c2Vyc1wiLCBcInN0YXRlXCIsIFwic3BhY2VcIiwgXCJhcHBsaWNhbnRcIiwgXCJmb3JtX3ZlcnNpb25cIixcblx0XHRcdFwiZmxvd192ZXJzaW9uXCIsIFwiaXNfY2NcIiwgXCJjY19jb3VudFwiLCBcImlzX3JlYWRcIiwgXCJjdXJyZW50X3N0ZXBfbmFtZVwiLCBcInZhbHVlc1wiLCBcImtleXdvcmRzXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJmbG93X25hbWVcIiwgXCJpc19oaWRkZW5cIiwgXCJhZ2VudF91c2VyX25hbWVcIl0sXG5cdFx0bGVuZ3RoQ2hhbmdlOiB0cnVlLFxuXHRcdGxlbmd0aE1lbnU6IFsxMCwxNSwyMCwyNSw1MCwxMDBdLFxuXHRcdHBhZ2VMZW5ndGg6IDEwLFxuXHRcdGluZm86IGZhbHNlLFxuXHRcdHNlYXJjaGluZzogdHJ1ZSxcblx0XHRyZXNwb25zaXZlOlxuXHRcdFx0ZGV0YWlsczogZmFsc2Vcblx0XHRhdXRvV2lkdGg6IGZhbHNlLFxuXHRcdGNoYW5nZVNlbGVjdG9yOiAoc2VsZWN0b3IsIHVzZXJJZCkgLT5cblx0XHRcdHVubGVzcyB1c2VySWRcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0c3BhY2UgPSBzZWxlY3Rvci5zcGFjZVxuXHRcdFx0dW5sZXNzIHNwYWNlXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXG5cdFx0XHRcdFx0c3BhY2UgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdXG5cdFx0XHR1bmxlc3Mgc3BhY2Vcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IHVzZXJJZCwgc3BhY2U6IHNwYWNlfSwge2ZpZWxkczoge19pZDogMX19KVxuXHRcdFx0dW5sZXNzIHNwYWNlX3VzZXJcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxuXHRcdFx0cmV0dXJuIHNlbGVjdG9yXG5cdFx0cGFnaW5nVHlwZTogXCJudW1iZXJzXCJcblxuXHR9XG5cblx0aWYgZmxvd0lkXG5cdFx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGZsb3dJZFxuXG5cdFx0b3B0aW9ucy5uYW1lID0ga2V5XG5cblx0XHRUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMgPSBmaWVsZHNcblxuXHRcdGluc19maWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHNcblxuXHRcdGluc19maWVsZHMuZm9yRWFjaCAoZiktPlxuXHRcdFx0aWYgZi50eXBlICE9ICd0YWJsZScgJiYgZi5pc19saXN0X2Rpc3BsYXlcblx0XHRcdFx0b3B0aW9ucy5jb2x1bW5zLnB1c2hcblx0XHRcdFx0XHRkYXRhOiAoZi5uYW1lIHx8IGYuY29kZSksXG5cdFx0XHRcdFx0dGl0bGU6IHQoZi5uYW1lIHx8IGYuY29kZSksXG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXG5cdFx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxuXHRcdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxuXG5cdFx0XHRcdFx0XHR2YWx1ZXMgPSBkb2MudmFsdWVzIHx8IHt9XG5cblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVzW2YuY29kZV1cblxuXHRcdFx0XHRcdFx0c3dpdGNoIGYudHlwZVxuXHRcdFx0XHRcdFx0XHR3aGVuICd1c2VyJ1xuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWU/Lm5hbWVcblx0XHRcdFx0XHRcdFx0d2hlbiAnZ3JvdXAnXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcblx0XHRcdFx0XHRcdFx0d2hlbiAnZGF0ZSdcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2RhdGVUaW1lJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJylcblx0XHRcdFx0XHRcdFx0d2hlbiAnY2hlY2tib3gnXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWUgPT0gdHJ1ZSB8fCB2YWx1ZSA9PSAndHJ1ZSdcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuXHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfbm9cIik7XG5cdFx0XHRcdFx0XHRcdHdoZW4gJ29kYXRhJ1xuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBfLmlzQXJyYXkodmFsdWUpXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZVsnQGxhYmVsJ11cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlXG5cblxuXHRyZXR1cm4gb3B0aW9ucztcblxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxuXHRUYWJ1bGFyVGFibGVzLmluc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoKVxuXG5cbkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zID0gKGJveCwgZmxvd0lkLCBmaWVsZHMpLT5cblx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZFxuXHRpZiBib3ggPT0gXCJpbmJveFwiXG5cdFx0b3B0aW9ucyA9IF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcylcblx0ZWxzZSBpZiBib3ggPT0gXCJvdXRib3hcIlxuXHRcdG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKVxuXHRlbHNlXG5cdFx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cdFx0aWYgIWZsb3dJZFxuXHRcdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxuXHRpZiBmbG93SWRcblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcblx0cmV0dXJuIG9wdGlvbnNcblxuXG5cbl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IChmbG93SWQsIGZpZWxkcyktPlxuXHRvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcblxuXHRpZiAhZmxvd0lkXG5cdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxuXG5cdG9wdGlvbnMub3JkZXIgPSBbWzgsIFwiZGVzY1wiXV1cblx0b3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9ICh0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpLT5cblx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHNlbGVjdG9yXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkcHJvamVjdDoge1xuXHRcdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdFx0XCJfYXBwcm92ZVwiOiAnJHRyYWNlcy5hcHByb3Zlcydcblx0XHRcdFx0fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0JG1hdGNoOiB7XG5cdFx0XHRcdFx0J19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogZmFsc2Vcblx0XHRcdFx0XHQnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZCxcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdF1cblx0XHRpZiBzb3J0IGFuZCBzb3J0Lmxlbmd0aCA+IDBcblx0XHRcdHMxID0gc29ydFswXVxuXHRcdFx0czFfMCA9IHMxWzBdXG5cdFx0XHRzMV8xID0gczFbMV1cblx0XHRcdGlmIHMxXzAgPT0gJ3N0YXJ0X2RhdGUnXG5cblx0XHRcdFx0ZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRncm91cDoge19pZDogXCIkX2lkXCIsIFwiYXBwcm92ZV9zdGFydF9kYXRlXCI6IHskZmlyc3Q6IFwiJF9hcHByb3ZlLnN0YXJ0X2RhdGVcIn19XG5cblx0XHRcdFx0YWdfc29ydCA9ICdhcHByb3ZlX3N0YXJ0X2RhdGUnOiBpZiBzMV8xID09ICdhc2MnIHRoZW4gMSBlbHNlIC0xXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRzb3J0OiBhZ19zb3J0XG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc2tpcDogc2tpcFxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGxpbWl0OiBsaW1pdFxuXHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpXG5cblx0XHRcdFx0YWdncmVnYXRlID0gKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIC0+XG5cdFx0XHRcdFx0dGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSkgLT5cblx0XHRcdFx0XHRcdGlmIGVyclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxuXHRcdFx0XHRcdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XG5cdFx0XHRcdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzLnB1c2ggZG9jLl9pZFxuXHRcdFx0XHRcdFx0XHRyZXR1cm5cblx0XHRcdFx0XHRcdGlmIGNiXG5cdFx0XHRcdFx0XHRcdGNiKClcblx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdHJldHVyblxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKVxuXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSB0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHNcblxuXHRyZXR1cm4gb3B0aW9uc1xuXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XG5cdFRhYnVsYXJUYWJsZXMuaW5ib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJpbmJveFwiKVxuXG5cbl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSAoZmxvd0lkLCBmaWVsZHMpLT5cblx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXG5cblx0aWYgIWZsb3dJZFxuXHRcdG9wdGlvbnMubmFtZSA9IFwib3V0Ym94X2luc3RhbmNlc1wiXG5cblx0b3B0aW9ucy5vcmRlciA9IFtbOSwgXCJkZXNjXCJdXVxuXHRvcHRpb25zLmZpbHRlcmVkUmVjb3JkSWRzID0gKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucyktPlxuXHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG5cdFx0XHR7XG5cdFx0XHRcdCRtYXRjaDogc2VsZWN0b3Jcblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdCRwcm9qZWN0OiB7XG5cdFx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0XHRcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG5cdFx0XHR9LFxuXHRcdFx0e1xuXHRcdFx0XHQkbWF0Y2g6IHtcblx0XHRcdFx0XHQnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiB0cnVlXG5cdFx0XHRcdFx0JG9yOiBbeydfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkfSx7J19hcHByb3ZlLnVzZXInOiB1c2VySWR9XVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XVxuXHRcdGlmIHNvcnQgYW5kIHNvcnQubGVuZ3RoID4gMFxuXHRcdFx0czEgPSBzb3J0WzBdXG5cdFx0XHRzMV8wID0gczFbMF1cblx0XHRcdHMxXzEgPSBzMVsxXVxuXHRcdFx0aWYgczFfMCA9PSAnbXlfZmluaXNoX2RhdGUnXG5cblx0XHRcdFx0ZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dXG5cblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRncm91cDoge19pZDogXCIkX2lkXCIsIFwiYXBwcm92ZV9maW5pc2hfZGF0ZVwiOiB7JGxhc3Q6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJ9fVxuXG5cdFx0XHRcdGFnX3NvcnQgPSAnYXBwcm92ZV9maW5pc2hfZGF0ZSc6IGlmIHMxXzEgPT0gJ2FzYycgdGhlbiAxIGVsc2UgLTFcblxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJHNvcnQ6IGFnX3NvcnRcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRza2lwOiBza2lwXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkbGltaXQ6IGxpbWl0XG5cdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KClcblxuXHRcdFx0XHRhZ2dyZWdhdGUgPSAodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikgLT5cblx0XHRcdFx0XHR0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheSAoZXJyLCBkYXRhKSAtPlxuXHRcdFx0XHRcdFx0aWYgZXJyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXG5cdFx0XHRcdFx0XHRkYXRhLmZvckVhY2ggKGRvYykgLT5cblx0XHRcdFx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMucHVzaCBkb2MuX2lkXG5cdFx0XHRcdFx0XHRcdHJldHVyblxuXHRcdFx0XHRcdFx0aWYgY2Jcblx0XHRcdFx0XHRcdFx0Y2IoKVxuXHRcdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpXG5cblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlIHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkc1xuXG5cdFx0XHRcdHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKClcblx0XHRcdGVsc2Vcblx0XHRcdFx0cmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkc1xuXG5cdHJldHVybiBvcHRpb25zXG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0VGFidWxhclRhYmxlcy5vdXRib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJvdXRib3hcIilcblxuaWYgTWV0ZW9yLmlzQ2xpZW50XG5cdFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcyA9IG5ldyBSZWFjdGl2ZVZhcigpXG5cbk1ldGVvci5zdGFydHVwICgpLT5cblx0VHJhY2tlci5hdXRvcnVuIChjKSAtPlxuXHRcdGlmIE1ldGVvci5pc0NsaWVudCAmJiAhU3RlZWRvcy5pc01vYmlsZSgpXG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImZsb3dJZFwiKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPSAnZHJhZnQnXG5cdFx0XHRcdE1ldGVvci5jYWxsIFwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXJcIiwgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCAoZXJyb3IsIHJlc3VsdCkgLT5cblx0XHRcdFx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhciBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIHJlc3VsdFxuXHRcdFx0XHRcdFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX2NoYW5nZU9yZGVyKClcblxuXG5uZXdJbnN0YW5jZXNMaXN0VGFidWxhciA9IChib3gsIGZsb3dJZCwgZmllbGRzKS0+XG5cdGlmICFmaWVsZHNcblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7Zm9ybTogMX19KVxuXHRcdGZpZWxkcyA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3c/LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pPy5jdXJyZW50Py5maWVsZHNcblxuXHRmaWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyBmaWVsZHNcblxuXHRpZiBmaWVsZHM/LmZpbHRlclByb3BlcnR5KFwiaXNfbGlzdF9kaXNwbGF5XCIsIHRydWUpPy5sZW5ndGggPiAwXG5cdFx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZFxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxuXHRcdFx0VGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzLnNldChuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSlcblx0XHRlbHNlXG5cdFx0XHRuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKVxuXHRcdGNvbnNvbGUubG9nIFwibmV3IFRhYnVsYXJUYWJsZXMgXCIsIGtleVxuXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcblx0TWV0ZW9yLm1ldGhvZHNcblx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhcjogKGJveCwgZmxvd0lkKS0+XG5cdFx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihib3gsIGZsb3dJZClcblxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge2Zvcm06IDF9fSlcblx0XHRcdGZpZWxkcyA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3c/LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pPy5jdXJyZW50Py5maWVsZHNcblx0XHRcdHJldHVybiBmaWVsZHNcblxuXG4iLCJ2YXIgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMsIF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2hhbmRsZUxpc3RGaWVsZHMsIGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIsIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyLCB1cGRhdGVUYWJ1bGFyVGl0bGU7XG5cblN0ZWVkb3Muc3Vic1tcIkluc3RhbmNlVGFidWxhclwiXSA9IG5ldyBTdWJzTWFuYWdlcigpO1xuXG5faGFuZGxlTGlzdEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcykge1xuICB2YXIgaW5zX2ZpZWxkcztcbiAgaW5zX2ZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICBpZiAoZmllbGRzICE9IG51bGwpIHtcbiAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgcmVmO1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZjEpO1xuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGluc19maWVsZHM7XG59O1xuXG51cGRhdGVUYWJ1bGFyVGl0bGUgPSBmdW5jdGlvbigpIHt9O1xuXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGluc19maWVsZHMsIGtleSwgb3B0aW9ucztcbiAgb3B0aW9ucyA9IHtcbiAgICBuYW1lOiBcImluc3RhbmNlc1wiLFxuICAgIGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcbiAgICBwdWI6IFwiaW5zdGFuY2VfdGFidWxhclwiLFxuICAgIG9uVW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MCk7XG4gICAgfSxcbiAgICBkcmF3Q2FsbGJhY2s6IGZ1bmN0aW9uKHNldHRpbmdzKSB7XG4gICAgICB2YXIgZWxsaXBzaXNMaW5rLCBlbXB0eVRkLCB0aXRsZTtcbiAgICAgIGVtcHR5VGQgPSAkKFwiLmRhdGFUYWJsZXNfZW1wdHlcIik7XG4gICAgICBpZiAoZW1wdHlUZC5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCI7XG4gICAgICB9XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAhU3RlZWRvcy5pc1BhZCgpKSB7XG4gICAgICAgIE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKTtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChcIi5pbnN0YW5jZS1saXN0XCIpLnBlcmZlY3RTY3JvbGxiYXIoXCJ1cGRhdGVcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKTtcbiAgICAgIH1cbiAgICAgIHRpdGxlID0gdChcInBhZ2VyX2lucHV0X2hpbnRcIik7XG4gICAgICBlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJyk7XG4gICAgICByZXR1cm4gZWxsaXBzaXNMaW5rLmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGdvUGFnZSwgaW5wdXQ7XG4gICAgICAgIGlmICghJCh0aGlzKS5maW5kKCdpbnB1dCcpLmxlbmd0aCkge1xuICAgICAgICAgIGlucHV0ID0gJCgnPGlucHV0IGNsYXNzPVwicGFnaW5hdGVfaW5wdXQgZm9ybS1jb250cm9sIGlucHV0LXNtXCIgdHlwZT1cInRleHRcIiBzdHlsZT1cImJvcmRlcjogbm9uZTsgcGFkZGluZzowIDJweDtcIi8+Jyk7XG4gICAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMjBweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTZweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpO1xuICAgICAgICAgICQodGhpcykuZW1wdHkoKS5hcHBlbmQoaW5wdXQpO1xuICAgICAgICAgIGdvUGFnZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcGFnZXM7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgIHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aCk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA+IHBhZ2VzKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBwYWdlcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3Mub0luc3RhbmNlLkRhdGFUYWJsZSgpLnBhZ2UoaW5kZXgpLmRyYXcoJ3BhZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlucHV0LmJsdXIoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgZ29QYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnBhcmVudCgpLmh0bWwoJy4uLicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpbnB1dC5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUudG9TdHJpbmcoKSA9PT0gXCIxM1wiKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdvUGFnZShjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY3JlYXRlZFJvdzogZnVuY3Rpb24ocm93LCBkYXRhLCBkYXRhSW5kZXgpIHtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgaWYgKGRhdGEuX2lkID09PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZCkge1xuICAgICAgICAgIHJldHVybiByb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29sdW1uczogW1xuICAgICAge1xuICAgICAgICBkYXRhOiBcIl9pZFwiLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFnZW50X3ZpZXcsIGNjX3ZpZXcsIGZsb3dfbmFtZSwgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgbW9kaWZpZWQsIG1vZGlmaWVkRnJvbU5vdywgbW9kaWZpZWRTdHJpbmcsIHByaW9yaXR5SWNvbiwgcHJpb3JpdHlJY29uQ2xhc3MsIHByaW9yaXR5VmFsdWUsIHJlZiwgcmVmMSwgc3RlcF9jdXJyZW50X25hbWVfdmlldywgdW5yZWFkO1xuICAgICAgICAgIG1vZGlmaWVkU3RyaW5nID0gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgICAgbW9kaWZpZWQgPSBkb2MubW9kaWZpZWQ7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5zdGF0ZSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgICAgICAgbW9kaWZpZWQgPSBkb2Muc3RhcnRfZGF0ZSB8fCBkb2MubW9kaWZpZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ291dGJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJykge1xuICAgICAgICAgICAgbW9kaWZpZWQgPSBkb2Muc3VibWl0X2RhdGUgfHwgZG9jLnN1Ym1pdF9kYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb2RpZmllZEZyb21Ob3cgPSBTdGVlZG9zLm1vbWVudFJlYWN0aXZlRnJvbU5vdyhtb2RpZmllZCk7XG4gICAgICAgICAgZmxvd19uYW1lID0gZG9jLmZsb3dfbmFtZTtcbiAgICAgICAgICBjY192aWV3ID0gXCJcIjtcbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmlzX2NjICYmICEoKHJlZiA9IGRvYy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgY2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCI7XG4gICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8c3Bhbj4oXCIgKyBkb2MuY3VycmVudF9zdGVwX25hbWUgKyBcIik8L3NwYW4+PC9kaXY+XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPT0gJ2RyYWZ0JyAmJiBkb2MuY3VycmVudF9zdGVwX25hbWUpIHtcbiAgICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPHNwYW4+KFwiICsgZG9jLmN1cnJlbnRfc3RlcF9uYW1lICsgXCIpPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPC9kaXY+XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuYWdlbnRfdXNlcl9uYW1lICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICAgICAgICAgIHVzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lXG4gICAgICAgICAgICB9KSArIFwiKTwvbGFiZWw+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVucmVhZCA9ICcnO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yaXR5SWNvbiA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5VmFsdWUgPSAocmVmMSA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYxLnByaW9yaXR5IDogdm9pZCAwO1xuICAgICAgICAgIHN3aXRjaCAocHJpb3JpdHlWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcIueJueaApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIue0p+aApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLlip7mlodcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmlvcml0eUljb25DbGFzcykge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktXCIgKyBwcmlvcml0eUljb25DbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPlwiICsgdW5yZWFkICsgXCI8L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lIFwiICsgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyArIFwiJz5cIiArIGRvYy5uYW1lICsgY2NfdmlldyArIGFnZW50X3ZpZXcgKyBcIlxcblx0PHNwYW4+XCIgKyBkb2MuYXBwbGljYW50X25hbWUgKyBcIjwvc3Bhbj5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1kZXRhaWwnPlwiICsgc3RlcF9jdXJyZW50X25hbWVfdmlldyArIFwiXFxuXHQ8c3BhbiBjbGFzcz0naW5zdGFuY2UtbW9kaWZpZWQnIHRpdGxlPSdcIiArIG1vZGlmaWVkU3RyaW5nICsgXCInPlwiICsgbW9kaWZpZWRGcm9tTm93ICsgXCI8L3NwYW4+XFxuPC9kaXY+XCI7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm5hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfbmFtZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhZ2VudF92aWV3LCBjY192aWV3LCBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzLCBwcmlvcml0eUljb25DbGFzcywgcHJpb3JpdHlWYWx1ZSwgcmVmLCByZWYxLCBzdGVwX2N1cnJlbnRfbmFtZV92aWV3LCB1bnJlYWQ7XG4gICAgICAgICAgY2NfdmlldyA9IFwiXCI7XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5pc19jYyAmJiAhKChyZWYgPSBkb2MuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSA6IHZvaWQgMCkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZ2VudF92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmFnZW50X3VzZXJfbmFtZSkge1xuICAgICAgICAgICAgYWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICB1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZVxuICAgICAgICAgICAgfSkgKyBcIik8L2xhYmVsPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bnJlYWQgPSAnJztcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9IChyZWYxID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZjEucHJpb3JpdHkgOiB2b2lkIDA7XG4gICAgICAgICAgc3dpdGNoIChwcmlvcml0eVZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwi54m55oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi57Sn5oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIuWKnuaWh1wiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByaW9yaXR5SWNvbkNsYXNzKSB7XG4gICAgICAgICAgICBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS1cIiArIHByaW9yaXR5SWNvbkNsYXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+XCIgKyB1bnJlYWQgKyBcIjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgXCIgKyBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzICsgXCInPlwiICsgZG9jLm5hbWUgKyBjY192aWV3ICsgYWdlbnRfdmlldyArIFwiPC9kaXY+XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwic3VibWl0X2RhdGVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3VibWl0X2RhdGVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLnN1Ym1pdF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5zdWJtaXRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiZmxvd19uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RlcF9jdXJyZW50X25hbWVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgY2NfdGFnLCBqdWRnZSwgc3RlcF9jdXJyZW50X25hbWU7XG4gICAgICAgICAgaWYgKGRvYy5zdGF0ZSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICAgICAganVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJztcbiAgICAgICAgICBjY190YWcgPSAnJztcbiAgICAgICAgICBpZiAoZG9jLmNjX2NvdW50ID4gMCkge1xuICAgICAgICAgICAgY2NfdGFnID0gVEFQaTE4bi5fXygnY2NfdGFnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInN0ZXAtY3VycmVudC1zdGF0ZSBcIiArIGp1ZGdlICsgXCJcXFwiPlwiICsgc3RlcF9jdXJyZW50X25hbWUgKyBjY190YWcgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm1vZGlmaWVkXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX21vZGlmaWVkXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgcmV0dXJuIG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwic3RhcnRfZGF0ZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdGFydF9kYXRlXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5zdGFydF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5zdGFydF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJteV9maW5pc2hfZGF0ZVwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5teV9maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2MubXlfZmluaXNoX2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm1vZGlmaWVkXCIsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwia2V5d29yZHNcIixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJpc19hcmNoaXZlZFwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgICBpZiAoKGRvYyAhPSBudWxsID8gKHJlZiA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYucmVjb3JkX25lZWQgOiB2b2lkIDAgOiB2b2lkIDApICYmIGRvYy52YWx1ZXMucmVjb3JkX25lZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICBpZiAoZG9jICE9IG51bGwgPyBkb2MuaXNfYXJjaGl2ZWQgOiB2b2lkIDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHQoXCJZRVNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdChcIk5PXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLFxuICAgIGRvbTogKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICByZXR1cm4gJ3RwJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAndHBsJztcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIG9yZGVyOiBbWzQsIFwiZGVzY1wiXV0sXG4gICAgZXh0cmFGaWVsZHM6IFtcImZvcm1cIiwgXCJmbG93XCIsIFwiaW5ib3hfdXNlcnNcIiwgXCJzdGF0ZVwiLCBcInNwYWNlXCIsIFwiYXBwbGljYW50XCIsIFwiZm9ybV92ZXJzaW9uXCIsIFwiZmxvd192ZXJzaW9uXCIsIFwiaXNfY2NcIiwgXCJjY19jb3VudFwiLCBcImlzX3JlYWRcIiwgXCJjdXJyZW50X3N0ZXBfbmFtZVwiLCBcInZhbHVlc1wiLCBcImtleXdvcmRzXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJmbG93X25hbWVcIiwgXCJpc19oaWRkZW5cIiwgXCJhZ2VudF91c2VyX25hbWVcIl0sXG4gICAgbGVuZ3RoQ2hhbmdlOiB0cnVlLFxuICAgIGxlbmd0aE1lbnU6IFsxMCwgMTUsIDIwLCAyNSwgNTAsIDEwMF0sXG4gICAgcGFnZUxlbmd0aDogMTAsXG4gICAgaW5mbzogZmFsc2UsXG4gICAgc2VhcmNoaW5nOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgIGRldGFpbHM6IGZhbHNlXG4gICAgfSxcbiAgICBhdXRvV2lkdGg6IGZhbHNlLFxuICAgIGNoYW5nZVNlbGVjdG9yOiBmdW5jdGlvbihzZWxlY3RvciwgdXNlcklkKSB7XG4gICAgICB2YXIgcmVmLCBzcGFjZSwgc3BhY2VfdXNlcjtcbiAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBzZWxlY3Rvci5zcGFjZTtcbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZiA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzcGFjZSA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgIHVzZXI6IHVzZXJJZCxcbiAgICAgICAgc3BhY2U6IHNwYWNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIF9pZDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghc3BhY2VfdXNlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9LFxuICAgIHBhZ2luZ1R5cGU6IFwibnVtYmVyc1wiXG4gIH07XG4gIGlmIChmbG93SWQpIHtcbiAgICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgZmxvd0lkO1xuICAgIG9wdGlvbnMubmFtZSA9IGtleTtcbiAgICBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMgPSBmaWVsZHM7XG4gICAgaW5zX2ZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzKFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyk7XG4gICAgaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIGlmIChmLnR5cGUgIT09ICd0YWJsZScgJiYgZi5pc19saXN0X2Rpc3BsYXkpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuY29sdW1ucy5wdXNoKHtcbiAgICAgICAgICBkYXRhOiBmLm5hbWUgfHwgZi5jb2RlLFxuICAgICAgICAgIHRpdGxlOiB0KGYubmFtZSB8fCBmLmNvZGUpLFxuICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgICAgdmFyIHZhbHVlLCB2YWx1ZXM7XG4gICAgICAgICAgICB2YWx1ZXMgPSBkb2MudmFsdWVzIHx8IHt9O1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbZi5jb2RlXTtcbiAgICAgICAgICAgIHN3aXRjaCAoZi50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLm5hbWUgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5mdWxsbmFtZSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdkYXRlVGltZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnb2RhdGEnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfLnBsdWNrKHZhbHVlLCAnQGxhYmVsJykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoKSk7XG59KTtcblxuR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMgPSBmdW5jdGlvbihib3gsIGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBrZXksIG9wdGlvbnM7XG4gIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWQ7XG4gIGlmIChib3ggPT09IFwiaW5ib3hcIikge1xuICAgIG9wdGlvbnMgPSBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJvdXRib3hcIikge1xuICAgIG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gICAgaWYgKCFmbG93SWQpIHtcbiAgICAgIG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCI7XG4gICAgfVxuICB9XG4gIGlmIChmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBrZXk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5fZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgb3B0aW9ucztcbiAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCI7XG4gIH1cbiAgb3B0aW9ucy5vcmRlciA9IFtbOCwgXCJkZXNjXCJdXTtcbiAgb3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9IGZ1bmN0aW9uKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucykge1xuICAgIHZhciBhZ19zb3J0LCBhZ2dyZWdhdGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGFzeW5jX2FnZ3JlZ2F0ZSwgZmlsdGVyZWRSZWNvcmRJZHMsIHMxLCBzMV8wLCBzMV8xO1xuICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG4gICAgICB7XG4gICAgICAgICRtYXRjaDogc2VsZWN0b3JcbiAgICAgIH0sIHtcbiAgICAgICAgJHByb2plY3Q6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICdfYXBwcm92ZS5pc19maW5pc2hlZCc6IGZhbHNlLFxuICAgICAgICAgICdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICAgIGlmIChzb3J0ICYmIHNvcnQubGVuZ3RoID4gMCkge1xuICAgICAgczEgPSBzb3J0WzBdO1xuICAgICAgczFfMCA9IHMxWzBdO1xuICAgICAgczFfMSA9IHMxWzFdO1xuICAgICAgaWYgKHMxXzAgPT09ICdzdGFydF9kYXRlJykge1xuICAgICAgICBmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICBfaWQ6IFwiJF9pZFwiLFxuICAgICAgICAgICAgXCJhcHByb3ZlX3N0YXJ0X2RhdGVcIjoge1xuICAgICAgICAgICAgICAkZmlyc3Q6IFwiJF9hcHByb3ZlLnN0YXJ0X2RhdGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFnX3NvcnQgPSB7XG4gICAgICAgICAgJ2FwcHJvdmVfc3RhcnRfZGF0ZSc6IHMxXzEgPT09ICdhc2MnID8gMSA6IC0xXG4gICAgICAgIH07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNvcnQ6IGFnX3NvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNraXA6IHNraXBcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGxpbWl0OiBsaW1pdFxuICAgICAgICB9KTtcbiAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgYWdncmVnYXRlID0gZnVuY3Rpb24odGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikge1xuICAgICAgICAgIHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMucHVzaChkb2MuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcyk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMuaW5ib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJpbmJveFwiKSk7XG59KTtcblxuX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBvcHRpb25zO1xuICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gIGlmICghZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0gXCJvdXRib3hfaW5zdGFuY2VzXCI7XG4gIH1cbiAgb3B0aW9ucy5vcmRlciA9IFtbOSwgXCJkZXNjXCJdXTtcbiAgb3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9IGZ1bmN0aW9uKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucykge1xuICAgIHZhciBhZ19zb3J0LCBhZ2dyZWdhdGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGFzeW5jX2FnZ3JlZ2F0ZSwgZmlsdGVyZWRSZWNvcmRJZHMsIHMxLCBzMV8wLCBzMV8xO1xuICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG4gICAgICB7XG4gICAgICAgICRtYXRjaDogc2VsZWN0b3JcbiAgICAgIH0sIHtcbiAgICAgICAgJHByb2plY3Q6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICdfYXBwcm92ZS5pc19maW5pc2hlZCc6IHRydWUsXG4gICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICdfYXBwcm92ZS51c2VyJzogdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoc29ydCAmJiBzb3J0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHMxID0gc29ydFswXTtcbiAgICAgIHMxXzAgPSBzMVswXTtcbiAgICAgIHMxXzEgPSBzMVsxXTtcbiAgICAgIGlmIChzMV8wID09PSAnbXlfZmluaXNoX2RhdGUnKSB7XG4gICAgICAgIGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgIF9pZDogXCIkX2lkXCIsXG4gICAgICAgICAgICBcImFwcHJvdmVfZmluaXNoX2RhdGVcIjoge1xuICAgICAgICAgICAgICAkbGFzdDogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFnX3NvcnQgPSB7XG4gICAgICAgICAgJ2FwcHJvdmVfZmluaXNoX2RhdGUnOiBzMV8xID09PSAnYXNjJyA/IDEgOiAtMVxuICAgICAgICB9O1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRzb3J0OiBhZ19zb3J0XG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRza2lwOiBza2lwXG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRsaW1pdDogbGltaXRcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIHtcbiAgICAgICAgICB0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzLnB1c2goZG9jLl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSk7XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkcztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLm91dGJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcIm91dGJveFwiKSk7XG59KTtcblxuaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICBUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMgPSBuZXcgUmVhY3RpdmVWYXIoKTtcbn1cblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUcmFja2VyLmF1dG9ydW4oZnVuY3Rpb24oYykge1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgIVN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9PSAnZHJhZnQnKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuY2FsbChcIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyXCIsIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgcmVzdWx0KTtcbiAgICAgICAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fY2hhbmdlT3JkZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pO1xuXG5uZXdJbnN0YW5jZXNMaXN0VGFidWxhciA9IGZ1bmN0aW9uKGJveCwgZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGZsb3csIGtleSwgcmVmLCByZWYxLCByZWYyO1xuICBpZiAoIWZpZWxkcykge1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGZvcm06IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmaWVsZHMgPSAocmVmID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3cgIT0gbnVsbCA/IGZsb3cuZm9ybSA6IHZvaWQgMFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICAnY3VycmVudC5maWVsZHMnOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIH1cbiAgZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMoZmllbGRzKTtcbiAgaWYgKChmaWVsZHMgIT0gbnVsbCA/IChyZWYyID0gZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfbGlzdF9kaXNwbGF5XCIsIHRydWUpKSAhPSBudWxsID8gcmVmMi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWQ7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgVGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzLnNldChuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSk7XG4gICAgfVxuICAgIHJldHVybiBjb25zb2xlLmxvZyhcIm5ldyBUYWJ1bGFyVGFibGVzIFwiLCBrZXkpO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIE1ldGVvci5tZXRob2RzKHtcbiAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcjogZnVuY3Rpb24oYm94LCBmbG93SWQpIHtcbiAgICAgIHZhciBmaWVsZHMsIGZsb3csIHJlZiwgcmVmMTtcbiAgICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKGJveCwgZmxvd0lkKTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93SWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZm9ybTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZpZWxkcyA9IChyZWYgPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93ICE9IG51bGwgPyBmbG93LmZvcm0gOiB2b2lkIDBcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgICB9XG4gICAgICB9KSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==
